<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module Op</title>
<meta name="description" content="Documentation of Coq module Op" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module Op</h1>
<div class="coq">
<br/>
<div class="doc">Operators and addressing modes.  The abstract syntax and dynamic
  semantics for the CminorSel, RTL, LTL and Mach languages depend on the
  following types, defined in this library:
<ul>
<li>
 <span class="bracket"><span class="id">condition</span></span>:  boolean conditions for conditional branches;
</li>
<li>
 <span class="bracket"><span class="id">operation</span></span>: arithmetic and logical operations;
</li>
<li>
 <span class="bracket"><span class="id">addressing</span></span>: addressing modes for load and store operations.
</li>
</ul>
  These types are X86-64-specific and correspond roughly to what the
  processor can compute in one instruction.  In other terms, these
  types reflect the state of the program after instruction selection.
  For a processor-independent set of operations, see the abstract
  syntax and dynamic semantics of the Cminor language.
</div>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="BoolEqual.html">BoolEqual</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Coqlib.html">Coqlib</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="AST.html">AST</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Integers.html">Integers</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Floats.html">Floats</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Values.html">Values</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Memory.html">Memory</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Globalenvs.html">Globalenvs</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Events.html">Events</a></span>.<br/>
<br/>
<span class="kwd">Set</span> <span class="kwd">Implicit</span> <span class="id">Arguments</span>.<br/>
<br/>
<div class="doc">Conditions (boolean-valued operators). </div>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="condition">condition</a></span> : <span class="kwd">Type</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="Ccomp">Ccomp</a></span> (<span class="id">c</span>: <span class="id"><a href="Integers.html#comparison">comparison</a></span>)      <span class="docright">(* signed integer comparison  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Ccompu">Ccompu</a></span> (<span class="id">c</span>: <span class="id"><a href="Integers.html#comparison">comparison</a></span>)     <span class="docright">(* unsigned integer comparison  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Ccompimm">Ccompimm</a></span> (<span class="id">c</span>: <span class="id"><a href="Integers.html#comparison">comparison</a></span>) (<span class="id">n</span>: <span class="id"><a href="Integers.html#int">int</a></span>) <span class="docright">(* signed integer comparison with a constant  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Ccompuimm">Ccompuimm</a></span> (<span class="id">c</span>: <span class="id"><a href="Integers.html#comparison">comparison</a></span>) (<span class="id">n</span>: <span class="id"><a href="Integers.html#int">int</a></span>)  <span class="docright">(* unsigned integer comparison with a constant  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Ccompl">Ccompl</a></span> (<span class="id">c</span>: <span class="id"><a href="Integers.html#comparison">comparison</a></span>)      <span class="docright">(* signed 64-bit integer comparison  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Ccomplu">Ccomplu</a></span> (<span class="id">c</span>: <span class="id"><a href="Integers.html#comparison">comparison</a></span>)     <span class="docright">(* unsigned 64-bit integer comparison  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Ccomplimm">Ccomplimm</a></span> (<span class="id">c</span>: <span class="id"><a href="Integers.html#comparison">comparison</a></span>) (<span class="id">n</span>: <span class="id"><a href="Integers.html#int64">int64</a></span>) <span class="docright">(* signed 64-bit integer comparison with a constant  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Ccompluimm">Ccompluimm</a></span> (<span class="id">c</span>: <span class="id"><a href="Integers.html#comparison">comparison</a></span>) (<span class="id">n</span>: <span class="id"><a href="Integers.html#int64">int64</a></span>)  <span class="docright">(* unsigned 64-bit integer comparison with a constant  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Ccompf">Ccompf</a></span> (<span class="id">c</span>: <span class="id"><a href="Integers.html#comparison">comparison</a></span>)     <span class="docright">(* 64-bit floating-point comparison  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Cnotcompf">Cnotcompf</a></span> (<span class="id">c</span>: <span class="id"><a href="Integers.html#comparison">comparison</a></span>)  <span class="docright">(* negation of a floating-point comparison  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Ccompfs">Ccompfs</a></span> (<span class="id">c</span>: <span class="id"><a href="Integers.html#comparison">comparison</a></span>)    <span class="docright">(* 32-bit floating-point comparison  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Cnotcompfs">Cnotcompfs</a></span> (<span class="id">c</span>: <span class="id"><a href="Integers.html#comparison">comparison</a></span>) <span class="docright">(* negation of a floating-point comparison  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Cmaskzero">Cmaskzero</a></span> (<span class="id">n</span>: <span class="id"><a href="Integers.html#int">int</a></span>)         <span class="docright">(* test <span class="bracket">(<span class="id">arg</span> &amp; <span class="id">constant</span>) == 0</span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Cmasknotzero">Cmasknotzero</a></span> (<span class="id">n</span>: <span class="id"><a href="Integers.html#int">int</a></span>).     <span class="docright">(* test <span class="bracket">(<span class="id">arg</span> &amp; <span class="id">constant</span>) != 0</span>  *)</span><br/>
<br/>
<div class="doc">Addressing modes.  <span class="bracket"><span class="id">r1</span></span>, <span class="bracket"><span class="id">r2</span></span>, etc, are the arguments to the
  addressing. </div>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="addressing">addressing</a></span>: <span class="kwd">Type</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="Aindexed">Aindexed</a></span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> -&gt; <span class="id"><a href="Op.html#addressing">addressing</a></span>       <span class="docright">(* Address is <span class="bracket"><span class="id">r1</span> + <span class="id">offset</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Aindexed2">Aindexed2</a></span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> -&gt; <span class="id"><a href="Op.html#addressing">addressing</a></span>      <span class="docright">(* Address is <span class="bracket"><span class="id">r1</span> + <span class="id">r2</span> + <span class="id">offset</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Ascaled">Ascaled</a></span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> -&gt; <span class="id"><a href="Op.html#addressing">addressing</a></span>   <span class="docright">(* Address is <span class="bracket"><span class="id">r1</span> * <span class="id">scale</span> + <span class="id">offset</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Aindexed2scaled">Aindexed2scaled</a></span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> -&gt; <span class="id"><a href="Op.html#addressing">addressing</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Aglobal">Aglobal</a></span>: <span class="id"><a href="AST.html#ident">ident</a></span> -&gt; <span class="id"><a href="Integers.html#ptrofs">ptrofs</a></span> -&gt; <span class="id"><a href="Op.html#addressing">addressing</a></span> <span class="docright">(* Address is <span class="bracket"><span class="id">symbol</span> + <span class="id">offset</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Abased">Abased</a></span>: <span class="id"><a href="AST.html#ident">ident</a></span> -&gt; <span class="id"><a href="Integers.html#ptrofs">ptrofs</a></span> -&gt; <span class="id"><a href="Op.html#addressing">addressing</a></span>  <span class="docright">(* Address is <span class="bracket"><span class="id">symbol</span> + <span class="id">offset</span> + <span class="id">r1</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Abasedscaled">Abasedscaled</a></span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> -&gt; <span class="id"><a href="AST.html#ident">ident</a></span> -&gt; <span class="id"><a href="Integers.html#ptrofs">ptrofs</a></span> -&gt; <span class="id"><a href="Op.html#addressing">addressing</a></span>  <span class="docright">(* Address is <span class="bracket"><span class="id">symbol</span> + <span class="id">offset</span> + <span class="id">r1</span> * <span class="id">scale</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Ainstack">Ainstack</a></span>: <span class="id"><a href="Integers.html#ptrofs">ptrofs</a></span> -&gt; <span class="id"><a href="Op.html#addressing">addressing</a></span>. <span class="docright">(* Address is <span class="bracket"><span class="id">stack_pointer</span> + <span class="id">offset</span></span>  *)</span><br/>
<br/>
<div class="doc">Arithmetic and logical operations.  In the descriptions, <span class="bracket"><span class="id">rd</span></span> is the
  result of the operation and <span class="bracket"><span class="id">r1</span></span>, <span class="bracket"><span class="id">r2</span></span>, etc, are the arguments. </div>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="operation">operation</a></span> : <span class="kwd">Type</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="Omove">Omove</a></span>                    <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Ointconst">Ointconst</a></span> (<span class="id">n</span>: <span class="id"><a href="Integers.html#int">int</a></span>)       <span class="docright">(* <span class="bracket"><span class="id">rd</span></span> is set to the given integer constant  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Olongconst">Olongconst</a></span> (<span class="id">n</span>: <span class="id"><a href="Integers.html#int64">int64</a></span>)    <span class="docright">(* <span class="bracket"><span class="id">rd</span></span> is set to the given integer constant  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Ofloatconst">Ofloatconst</a></span> (<span class="id">n</span>: <span class="id"><a href="Floats.html#float">float</a></span>)   <span class="docright">(* <span class="bracket"><span class="id">rd</span></span> is set to the given float constant  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Osingleconst">Osingleconst</a></span> (<span class="id">n</span>: <span class="id"><a href="Floats.html#float32">float32</a></span>)<span class="docright">(* <span class="bracket"><span class="id">rd</span></span> is set to the given float constant  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Oindirectsymbol">Oindirectsymbol</a></span> (<span class="id">id</span>: <span class="id"><a href="AST.html#ident">ident</a></span>) <span class="docright">(* <span class="bracket"><span class="id">rd</span></span> is set to the address of the symbol  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Ocast8signed">Ocast8signed</a></span>             <span class="docright">(* <span class="bracket"><span class="id">rd</span></span> is 8-bit sign extension of <span class="bracket"><span class="id">r1</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Ocast8unsigned">Ocast8unsigned</a></span>           <span class="docright">(* <span class="bracket"><span class="id">rd</span></span> is 8-bit zero extension of <span class="bracket"><span class="id">r1</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Ocast16signed">Ocast16signed</a></span>            <span class="docright">(* <span class="bracket"><span class="id">rd</span></span> is 16-bit sign extension of <span class="bracket"><span class="id">r1</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Ocast16unsigned">Ocast16unsigned</a></span>          <span class="docright">(* <span class="bracket"><span class="id">rd</span></span> is 16-bit zero extension of <span class="bracket"><span class="id">r1</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Oneg">Oneg</a></span>                     <span class="docright">(* <span class="bracket"><span class="id">rd</span> = - <span class="id">r1</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Osub">Osub</a></span>                     <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> - <span class="id">r2</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Omul">Omul</a></span>                     <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> * <span class="id">r2</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Omulimm">Omulimm</a></span> (<span class="id">n</span>: <span class="id"><a href="Integers.html#int">int</a></span>)         <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> * <span class="id">n</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Omulhs">Omulhs</a></span>                   <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">high</span> <span class="id">part</span> <span class="id">of</span> <span class="id">r1</span> * <span class="id">r2</span>, <span class="id">signed</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Omulhu">Omulhu</a></span>                   <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">high</span> <span class="id">part</span> <span class="id">of</span> <span class="id">r1</span> * <span class="id">r2</span>, <span class="id">unsigned</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Odiv">Odiv</a></span>                     <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> / <span class="id">r2</span></span> (signed)  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Odivu">Odivu</a></span>                    <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> / <span class="id">r2</span></span> (unsigned)  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Omod">Omod</a></span>                     <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> % <span class="id">r2</span></span> (signed)  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Omodu">Omodu</a></span>                    <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> % <span class="id">r2</span></span> (unsigned)  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Oand">Oand</a></span>                     <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> &amp; <span class="id">r2</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Oandimm">Oandimm</a></span> (<span class="id">n</span>: <span class="id"><a href="Integers.html#int">int</a></span>)         <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> &amp; <span class="id">n</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Oor">Oor</a></span>                      <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> | <span class="id">r2</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Oorimm">Oorimm</a></span> (<span class="id">n</span>: <span class="id"><a href="Integers.html#int">int</a></span>)          <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> | <span class="id">n</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Oxor">Oxor</a></span>                     <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> ^ <span class="id">r2</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Oxorimm">Oxorimm</a></span> (<span class="id">n</span>: <span class="id"><a href="Integers.html#int">int</a></span>)         <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> ^ <span class="id">n</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Onot">Onot</a></span>                     <span class="docright">(* <span class="bracket"><span class="id">rd</span> = ~<span class="id">r1</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Oshl">Oshl</a></span>                     <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> &lt;&lt; <span class="id">r2</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Oshlimm">Oshlimm</a></span> (<span class="id">n</span>: <span class="id"><a href="Integers.html#int">int</a></span>)         <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> &lt;&lt; <span class="id">n</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Oshr">Oshr</a></span>                     <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> &gt;&gt; <span class="id">r2</span></span> (signed)  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Oshrimm">Oshrimm</a></span> (<span class="id">n</span>: <span class="id"><a href="Integers.html#int">int</a></span>)         <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> &gt;&gt; <span class="id">n</span></span> (signed)  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Oshrximm">Oshrximm</a></span> (<span class="id">n</span>: <span class="id"><a href="Integers.html#int">int</a></span>)        <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> / 2^<span class="id">n</span></span> (signed)  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Oshru">Oshru</a></span>                    <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> &gt;&gt; <span class="id">r2</span></span> (unsigned)  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Oshruimm">Oshruimm</a></span> (<span class="id">n</span>: <span class="id"><a href="Integers.html#int">int</a></span>)        <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> &gt;&gt; <span class="id">n</span></span> (unsigned)  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Ororimm">Ororimm</a></span> (<span class="id">n</span>: <span class="id"><a href="Integers.html#int">int</a></span>)         <span class="docright">(* rotate right immediate  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Oshldimm">Oshldimm</a></span> (<span class="id">n</span>: <span class="id"><a href="Integers.html#int">int</a></span>)        <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> &lt;&lt; <span class="id">n</span> | <span class="id">r2</span> &gt;&gt; (32-<span class="id">n</span>)</span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Olea">Olea</a></span> (<span class="id">a</span>: <span class="id"><a href="Op.html#addressing">addressing</a></span>)     <span class="docright">(* effective address  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Omakelong">Omakelong</a></span>                <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> &lt;&lt; 32 | <span class="id">r2</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Olowlong">Olowlong</a></span>                 <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">low</span>-<span class="id">word</span>(<span class="id">r1</span>)</span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Ohighlong">Ohighlong</a></span>                <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">high</span>-<span class="id">word</span>(<span class="id">r1</span>)</span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Ocast32signed">Ocast32signed</a></span>            <span class="docright">(* <span class="bracket"><span class="id">rd</span></span> is 32-bit sign extension of <span class="bracket"><span class="id">r1</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Ocast32unsigned">Ocast32unsigned</a></span>          <span class="docright">(* <span class="bracket"><span class="id">rd</span></span> is 32-bit zero extension of <span class="bracket"><span class="id">r1</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Onegl">Onegl</a></span>                    <span class="docright">(* <span class="bracket"><span class="id">rd</span> = - <span class="id">r1</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Oaddlimm">Oaddlimm</a></span> (<span class="id">n</span>: <span class="id"><a href="Integers.html#int64">int64</a></span>)      <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> + <span class="id">n</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Osubl">Osubl</a></span>                    <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> - <span class="id">r2</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Omull">Omull</a></span>                    <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> * <span class="id">r2</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Omullimm">Omullimm</a></span> (<span class="id">n</span>: <span class="id"><a href="Integers.html#int64">int64</a></span>)      <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> * <span class="id">n</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Omullhs">Omullhs</a></span>                  <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">high</span> <span class="id">part</span> <span class="id">of</span> <span class="id">r1</span> * <span class="id">r2</span>, <span class="id">signed</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Omullhu">Omullhu</a></span>                  <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">high</span> <span class="id">part</span> <span class="id">of</span> <span class="id">r1</span> * <span class="id">r2</span>, <span class="id">unsigned</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Odivl">Odivl</a></span>                    <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> / <span class="id">r2</span></span> (signed)  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Odivlu">Odivlu</a></span>                   <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> / <span class="id">r2</span></span> (unsigned)  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Omodl">Omodl</a></span>                    <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> % <span class="id">r2</span></span> (signed)  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Omodlu">Omodlu</a></span>                   <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> % <span class="id">r2</span></span> (unsigned)  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Oandl">Oandl</a></span>                    <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> &amp; <span class="id">r2</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Oandlimm">Oandlimm</a></span> (<span class="id">n</span>: <span class="id"><a href="Integers.html#int64">int64</a></span>)      <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> &amp; <span class="id">n</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Oorl">Oorl</a></span>                     <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> | <span class="id">r2</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Oorlimm">Oorlimm</a></span> (<span class="id">n</span>: <span class="id"><a href="Integers.html#int64">int64</a></span>)       <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> | <span class="id">n</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Oxorl">Oxorl</a></span>                    <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> ^ <span class="id">r2</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Oxorlimm">Oxorlimm</a></span> (<span class="id">n</span>: <span class="id"><a href="Integers.html#int64">int64</a></span>)      <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> ^ <span class="id">n</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Onotl">Onotl</a></span>                    <span class="docright">(* <span class="bracket"><span class="id">rd</span> = ~<span class="id">r1</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Oshll">Oshll</a></span>                    <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> &lt;&lt; <span class="id">r2</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Oshllimm">Oshllimm</a></span> (<span class="id">n</span>: <span class="id"><a href="Integers.html#int">int</a></span>)        <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> &lt;&lt; <span class="id">n</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Oshrl">Oshrl</a></span>                    <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> &gt;&gt; <span class="id">r2</span></span> (signed)  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Oshrlimm">Oshrlimm</a></span> (<span class="id">n</span>: <span class="id"><a href="Integers.html#int">int</a></span>)        <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> &gt;&gt; <span class="id">n</span></span> (signed)  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Oshrxlimm">Oshrxlimm</a></span> (<span class="id">n</span>: <span class="id"><a href="Integers.html#int">int</a></span>)       <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> / 2^<span class="id">n</span></span> (signed)  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Oshrlu">Oshrlu</a></span>                   <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> &gt;&gt; <span class="id">r2</span></span> (unsigned)  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Oshrluimm">Oshrluimm</a></span> (<span class="id">n</span>: <span class="id"><a href="Integers.html#int">int</a></span>)       <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> &gt;&gt; <span class="id">n</span></span> (unsigned)  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Ororlimm">Ororlimm</a></span> (<span class="id">n</span>: <span class="id"><a href="Integers.html#int">int</a></span>)        <span class="docright">(* rotate right immediate  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Oleal">Oleal</a></span> (<span class="id">a</span>: <span class="id"><a href="Op.html#addressing">addressing</a></span>)    <span class="docright">(* effective address  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Onegf">Onegf</a></span>                    <span class="docright">(* <span class="bracket"><span class="id">rd</span> = - <span class="id">r1</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Oabsf">Oabsf</a></span>                    <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">abs</span>(<span class="id">r1</span>)</span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Oaddf">Oaddf</a></span>                    <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> + <span class="id">r2</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Osubf">Osubf</a></span>                    <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> - <span class="id">r2</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Omulf">Omulf</a></span>                    <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> * <span class="id">r2</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Odivf">Odivf</a></span>                    <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> / <span class="id">r2</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Onegfs">Onegfs</a></span>                   <span class="docright">(* <span class="bracket"><span class="id">rd</span> = - <span class="id">r1</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Oabsfs">Oabsfs</a></span>                   <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">abs</span>(<span class="id">r1</span>)</span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Oaddfs">Oaddfs</a></span>                   <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> + <span class="id">r2</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Osubfs">Osubfs</a></span>                   <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> - <span class="id">r2</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Omulfs">Omulfs</a></span>                   <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> * <span class="id">r2</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Odivfs">Odivfs</a></span>                   <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">r1</span> / <span class="id">r2</span></span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Osingleoffloat">Osingleoffloat</a></span>           <span class="docright">(* <span class="bracket"><span class="id">rd</span></span> is <span class="bracket"><span class="id">r1</span></span> truncated to single-precision float  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Ofloatofsingle">Ofloatofsingle</a></span>           <span class="docright">(* <span class="bracket"><span class="id">rd</span></span> is <span class="bracket"><span class="id">r1</span></span> extended to double-precision float  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Ointoffloat">Ointoffloat</a></span>              <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">signed_int_of_float64</span>(<span class="id">r1</span>)</span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Ofloatofint">Ofloatofint</a></span>              <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">float64_of_signed_int</span>(<span class="id">r1</span>)</span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Ointofsingle">Ointofsingle</a></span>             <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">signed_int_of_float32</span>(<span class="id">r1</span>)</span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Osingleofint">Osingleofint</a></span>             <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">float32_of_signed_int</span>(<span class="id">r1</span>)</span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Olongoffloat">Olongoffloat</a></span>             <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">signed_long_of_float64</span>(<span class="id">r1</span>)</span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Ofloatoflong">Ofloatoflong</a></span>             <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">float64_of_signed_long</span>(<span class="id">r1</span>)</span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Olongofsingle">Olongofsingle</a></span>            <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">signed_long_of_float32</span>(<span class="id">r1</span>)</span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Osingleoflong">Osingleoflong</a></span>            <span class="docright">(* <span class="bracket"><span class="id">rd</span> = <span class="id">float32_of_signed_long</span>(<span class="id">r1</span>)</span>  *)</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Ocmp">Ocmp</a></span> (<span class="id">cond</span>: <span class="id"><a href="Op.html#condition">condition</a></span>).  <span class="docright">(* <span class="bracket"><span class="id">rd</span> = 1</span> if condition holds, <span class="bracket"><span class="id">rd</span> = 0</span> otherwise.  *)</span><br/>
<br/>
<div class="doc">Comparison functions (used in modules <span class="bracket"><span class="id">CSE</span></span> and <span class="bracket"><span class="id">Allocation</span></span>). </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="eq_condition">eq_condition</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="Op.html#condition">condition</a></span>) : {<span class="id"><a href="Op.html#x">x</a></span>=<span class="id"><a href="Op.html#y">y</a></span>} + {<span class="id"><a href="Op.html#x">x</a></span>&lt;&gt;<span class="id"><a href="Op.html#y">y</a></span>}.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2146')">Proof.</div>
<div class="proofscript" id="proof2146">
&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id"><a href="Integers.html#Int.eq_dec">Int.eq_dec</a></span> <span class="id"><a href="Integers.html#Int64.eq_dec">Int64.eq_dec</a></span>; <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="kwd">forall</span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="Integers.html#comparison">comparison</a></span>), {<span class="id"><a href="Op.html#x">x</a></span>=<span class="id"><a href="Op.html#y">y</a></span>}+{<span class="id"><a href="Op.html#x">x</a></span>&lt;&gt;<span class="id"><a href="Op.html#y">y</a></span>}). <span class="id">decide</span> <span class="id">equality</span>.<br/>
&nbsp;&nbsp;<span class="id">decide</span> <span class="id">equality</span>.<br/>
Defined.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="eq_addressing">eq_addressing</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="Op.html#addressing">addressing</a></span>) : {<span class="id"><a href="Op.html#x">x</a></span>=<span class="id"><a href="Op.html#y">y</a></span>} + {<span class="id"><a href="Op.html#x">x</a></span>&lt;&gt;<span class="id"><a href="Op.html#y">y</a></span>}.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2147')">Proof.</div>
<div class="proofscript" id="proof2147">
&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id"><a href="AST.html#ident_eq">ident_eq</a></span> <span class="id"><a href="Integers.html#Ptrofs.eq_dec">Ptrofs.eq_dec</a></span> <span class="id"><a href="Coqlib.html#zeq">zeq</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">decide</span> <span class="id">equality</span>.<br/>
Defined.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="beq_operation">beq_operation</a></span>: <span class="kwd">forall</span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="Op.html#operation">operation</a></span>), <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2148')">Proof.</div>
<div class="proofscript" id="proof2148">
&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id"><a href="Integers.html#Int.eq_dec">Int.eq_dec</a></span> <span class="id"><a href="Integers.html#Int64.eq_dec">Int64.eq_dec</a></span> <span class="id"><a href="Floats.html#Float.eq_dec">Float.eq_dec</a></span> <span class="id"><a href="Floats.html#Float32.eq_dec">Float32.eq_dec</a></span> <span class="id"><a href="AST.html#ident_eq">ident_eq</a></span> <span class="id"><a href="Op.html#eq_addressing">eq_addressing</a></span> <span class="id"><a href="Op.html#eq_condition">eq_condition</a></span>; <span class="id">boolean_equality</span>.<br/>
Defined.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="eq_operation">eq_operation</a></span>: <span class="kwd">forall</span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="Op.html#operation">operation</a></span>), {<span class="id"><a href="Op.html#x">x</a></span>=<span class="id"><a href="Op.html#y">y</a></span>} + {<span class="id"><a href="Op.html#x">x</a></span>&lt;&gt;<span class="id"><a href="Op.html#y">y</a></span>}.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2149')">Proof.</div>
<div class="proofscript" id="proof2149">
&nbsp;&nbsp;<span class="id">decidable_equality_from</span> <span class="id"><a href="Op.html#beq_operation">beq_operation</a></span>.<br/>
Defined.</div>
<br/>
<span class="kwd">Global</span> <span class="id">Opaque</span> <span class="id"><a href="Op.html#eq_condition">eq_condition</a></span> <span class="id"><a href="Op.html#eq_addressing">eq_addressing</a></span> <span class="id"><a href="Op.html#eq_operation">eq_operation</a></span>.<br/>
<br/>
<div class="doc">In addressing modes, offsets are 32-bit signed integers, even in 64-bit mode.
    The following function checks that an addressing mode is valid, i.e. that
    the offsets are in range. </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="offset_in_range">offset_in_range</a></span> (<span class="id">n</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> := <span class="id"><a href="Coqlib.html#zle">zle</a></span> <span class="id"><a href="Integers.html#Int.min_signed">Int.min_signed</a></span> <span class="id"><a href="Op.html#n">n</a></span> &amp;&amp; <span class="id"><a href="Coqlib.html#zle">zle</a></span> <span class="id"><a href="Op.html#n">n</a></span> <span class="id"><a href="Integers.html#Int.max_signed">Int.max_signed</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="addressing_valid">addressing_valid</a></span> (<span class="id">a</span>: <span class="id"><a href="Op.html#addressing">addressing</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Op.html#a">a</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Aindexed">Aindexed</a></span> <span class="id">n</span> =&gt; <span class="id"><a href="Op.html#offset_in_range">offset_in_range</a></span> <span class="id">n</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Aindexed2">Aindexed2</a></span> <span class="id">n</span> =&gt; <span class="id"><a href="Op.html#offset_in_range">offset_in_range</a></span> <span class="id">n</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ascaled">Ascaled</a></span> <span class="id">sc</span> <span class="id">ofs</span> =&gt; <span class="id"><a href="Op.html#offset_in_range">offset_in_range</a></span> <span class="id">ofs</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Aindexed2scaled">Aindexed2scaled</a></span> <span class="id">sc</span> <span class="id">ofs</span> =&gt; <span class="id"><a href="Op.html#offset_in_range">offset_in_range</a></span> <span class="id">ofs</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Aglobal">Aglobal</a></span> <span class="id">s</span> <span class="id">ofs</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Abased">Abased</a></span> <span class="id">s</span> <span class="id">ofs</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Abasedscaled">Abasedscaled</a></span> <span class="id">sc</span> <span class="id">s</span> <span class="id">ofs</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ainstack">Ainstack</a></span> <span class="id">ofs</span> =&gt; <span class="id"><a href="Op.html#offset_in_range">offset_in_range</a></span> (<span class="id"><a href="Integers.html#Ptrofs.signed">Ptrofs.signed</a></span> <span class="id">ofs</span>)<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<h1> Evaluation functions </h1>
<br/>
<div class="doc">Evaluation of conditions, operators and addressing modes applied
  to lists of values.  Return <span class="bracket"><span class="id">None</span></span> when the computation can trigger an
  error, e.g. integer division by zero.  <span class="bracket"><span class="id">eval_condition</span></span> returns a boolean,
  <span class="bracket"><span class="id">eval_operation</span></span> and <span class="bracket"><span class="id">eval_addressing</span></span> return a value. </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="eval_condition">eval_condition</a></span> (<span class="id">cond</span>: <span class="id"><a href="Op.html#condition">condition</a></span>) (<span class="id">vl</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Values.html#val">val</a></span>) (<span class="id">m</span>: <span class="id"><a href="Memory.html#mem">mem</a></span>): <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Op.html#cond">cond</a></span>, <span class="id"><a href="Op.html#vl">vl</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ccomp">Ccomp</a></span> <span class="id">c</span>, <span class="id">v1</span> :: <span class="id">v2</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="Values.html#Val.cmp_bool">Val.cmp_bool</a></span> <span class="id">c</span> <span class="id">v1</span> <span class="id">v2</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ccompu">Ccompu</a></span> <span class="id">c</span>, <span class="id">v1</span> :: <span class="id">v2</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span> (<span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id"><a href="Op.html#m">m</a></span>) <span class="id">c</span> <span class="id">v1</span> <span class="id">v2</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ccompimm">Ccompimm</a></span> <span class="id">c</span> <span class="id">n</span>, <span class="id">v1</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="Values.html#Val.cmp_bool">Val.cmp_bool</a></span> <span class="id">c</span> <span class="id">v1</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ccompuimm">Ccompuimm</a></span> <span class="id">c</span> <span class="id">n</span>, <span class="id">v1</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span> (<span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id"><a href="Op.html#m">m</a></span>) <span class="id">c</span> <span class="id">v1</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ccompl">Ccompl</a></span> <span class="id">c</span>, <span class="id">v1</span> :: <span class="id">v2</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="Values.html#Val.cmpl_bool">Val.cmpl_bool</a></span> <span class="id">c</span> <span class="id">v1</span> <span class="id">v2</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ccomplu">Ccomplu</a></span> <span class="id">c</span>, <span class="id">v1</span> :: <span class="id">v2</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="Values.html#Val.cmplu_bool">Val.cmplu_bool</a></span> (<span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id"><a href="Op.html#m">m</a></span>) <span class="id">c</span> <span class="id">v1</span> <span class="id">v2</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ccomplimm">Ccomplimm</a></span> <span class="id">c</span> <span class="id">n</span>, <span class="id">v1</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="Values.html#Val.cmpl_bool">Val.cmpl_bool</a></span> <span class="id">c</span> <span class="id">v1</span> (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">n</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ccompluimm">Ccompluimm</a></span> <span class="id">c</span> <span class="id">n</span>, <span class="id">v1</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="Values.html#Val.cmplu_bool">Val.cmplu_bool</a></span> (<span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id"><a href="Op.html#m">m</a></span>) <span class="id">c</span> <span class="id">v1</span> (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">n</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ccompf">Ccompf</a></span> <span class="id">c</span>, <span class="id">v1</span> :: <span class="id">v2</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="Values.html#Val.cmpf_bool">Val.cmpf_bool</a></span> <span class="id">c</span> <span class="id">v1</span> <span class="id">v2</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Cnotcompf">Cnotcompf</a></span> <span class="id">c</span>, <span class="id">v1</span> :: <span class="id">v2</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="Coqlib.html#option_map">option_map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="Values.html#Val.cmpf_bool">Val.cmpf_bool</a></span> <span class="id">c</span> <span class="id">v1</span> <span class="id">v2</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ccompfs">Ccompfs</a></span> <span class="id">c</span>, <span class="id">v1</span> :: <span class="id">v2</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="Values.html#Val.cmpfs_bool">Val.cmpfs_bool</a></span> <span class="id">c</span> <span class="id">v1</span> <span class="id">v2</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Cnotcompfs">Cnotcompfs</a></span> <span class="id">c</span>, <span class="id">v1</span> :: <span class="id">v2</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="Coqlib.html#option_map">option_map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="Values.html#Val.cmpfs_bool">Val.cmpfs_bool</a></span> <span class="id">c</span> <span class="id">v1</span> <span class="id">v2</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Cmaskzero">Cmaskzero</a></span> <span class="id">n</span>, <span class="id">v1</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="Values.html#Val.maskzero_bool">Val.maskzero_bool</a></span> <span class="id">v1</span> <span class="id">n</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Cmasknotzero">Cmasknotzero</a></span> <span class="id">n</span>, <span class="id">v1</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="Coqlib.html#option_map">option_map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="Values.html#Val.maskzero_bool">Val.maskzero_bool</a></span> <span class="id">v1</span> <span class="id">n</span>)<br/>
&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="eval_addressing32">eval_addressing32</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">F</span> <span class="id">V</span>: <span class="kwd">Type</span>) (<span class="id">genv</span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="Op.html#F">F</a></span> <span class="id"><a href="Op.html#V">V</a></span>) (<span class="id">sp</span>: <span class="id"><a href="Values.html#val">val</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">addr</span>: <span class="id"><a href="Op.html#addressing">addressing</a></span>) (<span class="id">vl</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Values.html#val">val</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Values.html#val">val</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Op.html#addr">addr</a></span>, <span class="id"><a href="Op.html#vl">vl</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Aindexed">Aindexed</a></span> <span class="id">n</span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.add">Val.add</a></span> <span class="id">v1</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> <span class="id">n</span>)))<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Aindexed2">Aindexed2</a></span> <span class="id">n</span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.add">Val.add</a></span> (<span class="id"><a href="Values.html#Val.add">Val.add</a></span> <span class="id">v1</span> <span class="id">v2</span>) (<span class="id"><a href="Values.html#Vint">Vint</a></span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> <span class="id">n</span>)))<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ascaled">Ascaled</a></span> <span class="id">sc</span> <span class="id">ofs</span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.add">Val.add</a></span> (<span class="id"><a href="Values.html#Val.mul">Val.mul</a></span> <span class="id">v1</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> <span class="id">sc</span>))) (<span class="id"><a href="Values.html#Vint">Vint</a></span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> <span class="id">ofs</span>)))<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Aindexed2scaled">Aindexed2scaled</a></span> <span class="id">sc</span> <span class="id">ofs</span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Val.add">Val.add</a></span> <span class="id">v1</span> (<span class="id"><a href="Values.html#Val.add">Val.add</a></span> (<span class="id"><a href="Values.html#Val.mul">Val.mul</a></span> <span class="id">v2</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> <span class="id">sc</span>))) (<span class="id"><a href="Values.html#Vint">Vint</a></span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> <span class="id">ofs</span>))))<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Aglobal">Aglobal</a></span> <span class="id">s</span> <span class="id">ofs</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span> <span class="id"><a href="Op.html#genv">genv</a></span> <span class="id">s</span> <span class="id">ofs</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Abased">Abased</a></span> <span class="id">s</span> <span class="id">ofs</span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.add">Val.add</a></span> (<span class="id"><a href="Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span> <span class="id"><a href="Op.html#genv">genv</a></span> <span class="id">s</span> <span class="id">ofs</span>) <span class="id">v1</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Abasedscaled">Abasedscaled</a></span> <span class="id">sc</span> <span class="id">s</span> <span class="id">ofs</span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.add">Val.add</a></span> (<span class="id"><a href="Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span> <span class="id"><a href="Op.html#genv">genv</a></span> <span class="id">s</span> <span class="id">ofs</span>) (<span class="id"><a href="Values.html#Val.mul">Val.mul</a></span> <span class="id">v1</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> <span class="id">sc</span>))))<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ainstack">Ainstack</a></span> <span class="id">ofs</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Val.offset_ptr">Val.offset_ptr</a></span> <span class="id"><a href="Op.html#sp">sp</a></span> <span class="id">ofs</span>)<br/>
&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="eval_addressing64">eval_addressing64</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">F</span> <span class="id">V</span>: <span class="kwd">Type</span>) (<span class="id">genv</span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="Op.html#F">F</a></span> <span class="id"><a href="Op.html#V">V</a></span>) (<span class="id">sp</span>: <span class="id"><a href="Values.html#val">val</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">addr</span>: <span class="id"><a href="Op.html#addressing">addressing</a></span>) (<span class="id">vl</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Values.html#val">val</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Values.html#val">val</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Op.html#addr">addr</a></span>, <span class="id"><a href="Op.html#vl">vl</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Aindexed">Aindexed</a></span> <span class="id">n</span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.addl">Val.addl</a></span> <span class="id">v1</span> (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> (<span class="id"><a href="Integers.html#Int64.repr">Int64.repr</a></span> <span class="id">n</span>)))<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Aindexed2">Aindexed2</a></span> <span class="id">n</span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.addl">Val.addl</a></span> (<span class="id"><a href="Values.html#Val.addl">Val.addl</a></span> <span class="id">v1</span> <span class="id">v2</span>) (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> (<span class="id"><a href="Integers.html#Int64.repr">Int64.repr</a></span> <span class="id">n</span>)))<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ascaled">Ascaled</a></span> <span class="id">sc</span> <span class="id">ofs</span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.addl">Val.addl</a></span> (<span class="id"><a href="Values.html#Val.mull">Val.mull</a></span> <span class="id">v1</span> (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> (<span class="id"><a href="Integers.html#Int64.repr">Int64.repr</a></span> <span class="id">sc</span>))) (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> (<span class="id"><a href="Integers.html#Int64.repr">Int64.repr</a></span> <span class="id">ofs</span>)))<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Aindexed2scaled">Aindexed2scaled</a></span> <span class="id">sc</span> <span class="id">ofs</span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Val.addl">Val.addl</a></span> <span class="id">v1</span> (<span class="id"><a href="Values.html#Val.addl">Val.addl</a></span> (<span class="id"><a href="Values.html#Val.mull">Val.mull</a></span> <span class="id">v2</span> (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> (<span class="id"><a href="Integers.html#Int64.repr">Int64.repr</a></span> <span class="id">sc</span>))) (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> (<span class="id"><a href="Integers.html#Int64.repr">Int64.repr</a></span> <span class="id">ofs</span>))))<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Aglobal">Aglobal</a></span> <span class="id">s</span> <span class="id">ofs</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span> <span class="id"><a href="Op.html#genv">genv</a></span> <span class="id">s</span> <span class="id">ofs</span>) <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ainstack">Ainstack</a></span> <span class="id">ofs</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Val.offset_ptr">Val.offset_ptr</a></span> <span class="id"><a href="Op.html#sp">sp</a></span> <span class="id">ofs</span>) <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="eval_addressing">eval_addressing</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">F</span> <span class="id">V</span>: <span class="kwd">Type</span>) (<span class="id">genv</span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="Op.html#F">F</a></span> <span class="id"><a href="Op.html#V">V</a></span>) (<span class="id">sp</span>: <span class="id"><a href="Values.html#val">val</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">addr</span>: <span class="id"><a href="Op.html#addressing">addressing</a></span>) (<span class="id">vl</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Values.html#val">val</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Values.html#val">val</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span><br/>
&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="Op.html#eval_addressing64">eval_addressing64</a></span> <span class="id"><a href="Op.html#genv">genv</a></span> <span class="id"><a href="Op.html#sp">sp</a></span> <span class="id"><a href="Op.html#addr">addr</a></span> <span class="id"><a href="Op.html#vl">vl</a></span><br/>
&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="Op.html#eval_addressing32">eval_addressing32</a></span> <span class="id"><a href="Op.html#genv">genv</a></span> <span class="id"><a href="Op.html#sp">sp</a></span> <span class="id"><a href="Op.html#addr">addr</a></span> <span class="id"><a href="Op.html#vl">vl</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="eval_operation">eval_operation</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">F</span> <span class="id">V</span>: <span class="kwd">Type</span>) (<span class="id">genv</span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="Op.html#F">F</a></span> <span class="id"><a href="Op.html#V">V</a></span>) (<span class="id">sp</span>: <span class="id"><a href="Values.html#val">val</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">op</span>: <span class="id"><a href="Op.html#operation">operation</a></span>) (<span class="id">vl</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Values.html#val">val</a></span>) (<span class="id">m</span>: <span class="id"><a href="Memory.html#mem">mem</a></span>): <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Values.html#val">val</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Op.html#op">op</a></span>, <span class="id"><a href="Op.html#vl">vl</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omove">Omove</a></span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v1</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ointconst">Ointconst</a></span> <span class="id">n</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Olongconst">Olongconst</a></span> <span class="id">n</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">n</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ofloatconst">Ofloatconst</a></span> <span class="id">n</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Vfloat">Vfloat</a></span> <span class="id">n</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Osingleconst">Osingleconst</a></span> <span class="id">n</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Vsingle">Vsingle</a></span> <span class="id">n</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oindirectsymbol">Oindirectsymbol</a></span> <span class="id">id</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span> <span class="id"><a href="Op.html#genv">genv</a></span> <span class="id">id</span> <span class="id"><a href="Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ocast8signed">Ocast8signed</a></span>, <span class="id">v1</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.sign_ext">Val.sign_ext</a></span> 8 <span class="id">v1</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ocast8unsigned">Ocast8unsigned</a></span>, <span class="id">v1</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.zero_ext">Val.zero_ext</a></span> 8 <span class="id">v1</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ocast16signed">Ocast16signed</a></span>, <span class="id">v1</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.sign_ext">Val.sign_ext</a></span> 16 <span class="id">v1</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ocast16unsigned">Ocast16unsigned</a></span>, <span class="id">v1</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.zero_ext">Val.zero_ext</a></span> 16 <span class="id">v1</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oneg">Oneg</a></span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.neg">Val.neg</a></span> <span class="id">v1</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Osub">Osub</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.sub">Val.sub</a></span> <span class="id">v1</span> <span class="id">v2</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omul">Omul</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.mul">Val.mul</a></span> <span class="id">v1</span> <span class="id">v2</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omulimm">Omulimm</a></span> <span class="id">n</span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.mul">Val.mul</a></span> <span class="id">v1</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>))<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omulhs">Omulhs</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.mulhs">Val.mulhs</a></span> <span class="id">v1</span> <span class="id">v2</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omulhu">Omulhu</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.mulhu">Val.mulhu</a></span> <span class="id">v1</span> <span class="id">v2</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Odiv">Odiv</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="Values.html#Val.divs">Val.divs</a></span> <span class="id">v1</span> <span class="id">v2</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Odivu">Odivu</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="Values.html#Val.divu">Val.divu</a></span> <span class="id">v1</span> <span class="id">v2</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omod">Omod</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="Values.html#Val.mods">Val.mods</a></span> <span class="id">v1</span> <span class="id">v2</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omodu">Omodu</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="Values.html#Val.modu">Val.modu</a></span> <span class="id">v1</span> <span class="id">v2</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oand">Oand</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Val.and">Val.and</a></span> <span class="id">v1</span> <span class="id">v2</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oandimm">Oandimm</a></span> <span class="id">n</span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.and">Val.and</a></span> <span class="id">v1</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>))<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oor">Oor</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Val.or">Val.or</a></span> <span class="id">v1</span> <span class="id">v2</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oorimm">Oorimm</a></span> <span class="id">n</span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.or">Val.or</a></span> <span class="id">v1</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>))<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oxor">Oxor</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Val.xor">Val.xor</a></span> <span class="id">v1</span> <span class="id">v2</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oxorimm">Oxorimm</a></span> <span class="id">n</span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.xor">Val.xor</a></span> <span class="id">v1</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>))<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Onot">Onot</a></span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Val.notint">Val.notint</a></span> <span class="id">v1</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oshl">Oshl</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.shl">Val.shl</a></span> <span class="id">v1</span> <span class="id">v2</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oshlimm">Oshlimm</a></span> <span class="id">n</span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.shl">Val.shl</a></span> <span class="id">v1</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>))<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oshr">Oshr</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.shr">Val.shr</a></span> <span class="id">v1</span> <span class="id">v2</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oshrimm">Oshrimm</a></span> <span class="id">n</span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.shr">Val.shr</a></span> <span class="id">v1</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>))<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oshrximm">Oshrximm</a></span> <span class="id">n</span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="Values.html#Val.shrx">Val.shrx</a></span> <span class="id">v1</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oshru">Oshru</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.shru">Val.shru</a></span> <span class="id">v1</span> <span class="id">v2</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oshruimm">Oshruimm</a></span> <span class="id">n</span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.shru">Val.shru</a></span> <span class="id">v1</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>))<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ororimm">Ororimm</a></span> <span class="id">n</span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.ror">Val.ror</a></span> <span class="id">v1</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>))<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oshldimm">Oshldimm</a></span> <span class="id">n</span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.or">Val.or</a></span> (<span class="id"><a href="Values.html#Val.shl">Val.shl</a></span> <span class="id">v1</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Values.html#Val.shru">Val.shru</a></span> <span class="id">v2</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> (<span class="id"><a href="Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span> <span class="id">n</span>))))<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Olea">Olea</a></span> <span class="id">addr</span>, <span class="id">_</span> =&gt; <span class="id"><a href="Op.html#eval_addressing32">eval_addressing32</a></span> <span class="id"><a href="Op.html#genv">genv</a></span> <span class="id"><a href="Op.html#sp">sp</a></span> <span class="id">addr</span> <span class="id"><a href="Op.html#vl">vl</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omakelong">Omakelong</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Val.longofwords">Val.longofwords</a></span> <span class="id">v1</span> <span class="id">v2</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Olowlong">Olowlong</a></span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Val.loword">Val.loword</a></span> <span class="id">v1</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ohighlong">Ohighlong</a></span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Val.hiword">Val.hiword</a></span> <span class="id">v1</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ocast32signed">Ocast32signed</a></span>, <span class="id">v1</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.longofint">Val.longofint</a></span> <span class="id">v1</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ocast32unsigned">Ocast32unsigned</a></span>, <span class="id">v1</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.longofintu">Val.longofintu</a></span> <span class="id">v1</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Onegl">Onegl</a></span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.negl">Val.negl</a></span> <span class="id">v1</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oaddlimm">Oaddlimm</a></span> <span class="id">n</span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.addl">Val.addl</a></span> <span class="id">v1</span> (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">n</span>))<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Osubl">Osubl</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.subl">Val.subl</a></span> <span class="id">v1</span> <span class="id">v2</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omull">Omull</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.mull">Val.mull</a></span> <span class="id">v1</span> <span class="id">v2</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omullimm">Omullimm</a></span> <span class="id">n</span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.mull">Val.mull</a></span> <span class="id">v1</span> (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">n</span>))<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omullhs">Omullhs</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.mullhs">Val.mullhs</a></span> <span class="id">v1</span> <span class="id">v2</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omullhu">Omullhu</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.mullhu">Val.mullhu</a></span> <span class="id">v1</span> <span class="id">v2</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Odivl">Odivl</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="Values.html#Val.divls">Val.divls</a></span> <span class="id">v1</span> <span class="id">v2</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Odivlu">Odivlu</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="Values.html#Val.divlu">Val.divlu</a></span> <span class="id">v1</span> <span class="id">v2</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omodl">Omodl</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="Values.html#Val.modls">Val.modls</a></span> <span class="id">v1</span> <span class="id">v2</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omodlu">Omodlu</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="Values.html#Val.modlu">Val.modlu</a></span> <span class="id">v1</span> <span class="id">v2</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oandl">Oandl</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Val.andl">Val.andl</a></span> <span class="id">v1</span> <span class="id">v2</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oandlimm">Oandlimm</a></span> <span class="id">n</span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.andl">Val.andl</a></span> <span class="id">v1</span> (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">n</span>))<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oorl">Oorl</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Val.orl">Val.orl</a></span> <span class="id">v1</span> <span class="id">v2</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oorlimm">Oorlimm</a></span> <span class="id">n</span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.orl">Val.orl</a></span> <span class="id">v1</span> (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">n</span>))<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oxorl">Oxorl</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Val.xorl">Val.xorl</a></span> <span class="id">v1</span> <span class="id">v2</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oxorlimm">Oxorlimm</a></span> <span class="id">n</span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.xorl">Val.xorl</a></span> <span class="id">v1</span> (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">n</span>))<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Onotl">Onotl</a></span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Val.notl">Val.notl</a></span> <span class="id">v1</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oshll">Oshll</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.shll">Val.shll</a></span> <span class="id">v1</span> <span class="id">v2</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oshllimm">Oshllimm</a></span> <span class="id">n</span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.shll">Val.shll</a></span> <span class="id">v1</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>))<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oshrl">Oshrl</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.shrl">Val.shrl</a></span> <span class="id">v1</span> <span class="id">v2</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oshrlimm">Oshrlimm</a></span> <span class="id">n</span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.shrl">Val.shrl</a></span> <span class="id">v1</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>))<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oshrxlimm">Oshrxlimm</a></span> <span class="id">n</span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="Values.html#Val.shrxl">Val.shrxl</a></span> <span class="id">v1</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oshrlu">Oshrlu</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.shrlu">Val.shrlu</a></span> <span class="id">v1</span> <span class="id">v2</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oshrluimm">Oshrluimm</a></span> <span class="id">n</span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.shrlu">Val.shrlu</a></span> <span class="id">v1</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>))<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ororlimm">Ororlimm</a></span> <span class="id">n</span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.rorl">Val.rorl</a></span> <span class="id">v1</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>))<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oleal">Oleal</a></span> <span class="id">addr</span>, <span class="id">_</span> =&gt; <span class="id"><a href="Op.html#eval_addressing64">eval_addressing64</a></span> <span class="id"><a href="Op.html#genv">genv</a></span> <span class="id"><a href="Op.html#sp">sp</a></span> <span class="id">addr</span> <span class="id"><a href="Op.html#vl">vl</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Onegf">Onegf</a></span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Val.negf">Val.negf</a></span> <span class="id">v1</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oabsf">Oabsf</a></span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Val.absf">Val.absf</a></span> <span class="id">v1</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oaddf">Oaddf</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Val.addf">Val.addf</a></span> <span class="id">v1</span> <span class="id">v2</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Osubf">Osubf</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Val.subf">Val.subf</a></span> <span class="id">v1</span> <span class="id">v2</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omulf">Omulf</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Val.mulf">Val.mulf</a></span> <span class="id">v1</span> <span class="id">v2</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Odivf">Odivf</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Val.divf">Val.divf</a></span> <span class="id">v1</span> <span class="id">v2</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Onegfs">Onegfs</a></span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Val.negfs">Val.negfs</a></span> <span class="id">v1</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oabsfs">Oabsfs</a></span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Val.absfs">Val.absfs</a></span> <span class="id">v1</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oaddfs">Oaddfs</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Val.addfs">Val.addfs</a></span> <span class="id">v1</span> <span class="id">v2</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Osubfs">Osubfs</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Val.subfs">Val.subfs</a></span> <span class="id">v1</span> <span class="id">v2</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omulfs">Omulfs</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Val.mulfs">Val.mulfs</a></span> <span class="id">v1</span> <span class="id">v2</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Odivfs">Odivfs</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Val.divfs">Val.divfs</a></span> <span class="id">v1</span> <span class="id">v2</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Osingleoffloat">Osingleoffloat</a></span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Val.singleoffloat">Val.singleoffloat</a></span> <span class="id">v1</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ofloatofsingle">Ofloatofsingle</a></span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Val.floatofsingle">Val.floatofsingle</a></span> <span class="id">v1</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ointoffloat">Ointoffloat</a></span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="Values.html#Val.intoffloat">Val.intoffloat</a></span> <span class="id">v1</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ofloatofint">Ofloatofint</a></span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="Values.html#Val.floatofint">Val.floatofint</a></span> <span class="id">v1</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ointofsingle">Ointofsingle</a></span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="Values.html#Val.intofsingle">Val.intofsingle</a></span> <span class="id">v1</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Osingleofint">Osingleofint</a></span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="Values.html#Val.singleofint">Val.singleofint</a></span> <span class="id">v1</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Olongoffloat">Olongoffloat</a></span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="Values.html#Val.longoffloat">Val.longoffloat</a></span> <span class="id">v1</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ofloatoflong">Ofloatoflong</a></span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="Values.html#Val.floatoflong">Val.floatoflong</a></span> <span class="id">v1</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Olongofsingle">Olongofsingle</a></span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="Values.html#Val.longofsingle">Val.longofsingle</a></span> <span class="id">v1</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Osingleoflong">Osingleoflong</a></span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="Values.html#Val.singleoflong">Val.singleoflong</a></span> <span class="id">v1</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ocmp">Ocmp</a></span> <span class="id">c</span>, <span class="id">_</span> =&gt; <span class="id"><a href="Coqlib.html#option_map">option_map</a></span> <span class="id"><a href="Values.html#Val.of_bool">Val.of_bool</a></span> (<span class="id"><a href="Op.html#eval_condition">eval_condition</a></span> <span class="id">c</span> <span class="id"><a href="Op.html#vl">vl</a></span> <span class="id"><a href="Op.html#m">m</a></span>)<br/>
&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="eval_addressing_Aglobal">eval_addressing_Aglobal</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">F</span> <span class="id">V</span>: <span class="kwd">Type</span>) (<span class="id">genv</span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="Op.html#F">F</a></span> <span class="id"><a href="Op.html#V">V</a></span>) <span class="id">sp</span> <span class="id">id</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_addressing">eval_addressing</a></span> <span class="id"><a href="Op.html#genv">genv</a></span> <span class="id"><a href="Op.html#sp">sp</a></span> (<span class="id"><a href="Op.html#Aglobal">Aglobal</a></span> <span class="id"><a href="Op.html#id">id</a></span> <span class="id"><a href="Op.html#ofs">ofs</a></span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span> <span class="id"><a href="Op.html#genv">genv</a></span> <span class="id"><a href="Op.html#id">id</a></span> <span class="id"><a href="Op.html#ofs">ofs</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2150')">Proof.</div>
<div class="proofscript" id="proof2150">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="Op.html#eval_addressing">eval_addressing</a></span>, <span class="id"><a href="Op.html#eval_addressing32">eval_addressing32</a></span>, <span class="id"><a href="Op.html#eval_addressing64">eval_addressing64</a></span>; <span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span>; <span class="tactic">auto</span>. <br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="eval_addressing_Ainstack">eval_addressing_Ainstack</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">F</span> <span class="id">V</span>: <span class="kwd">Type</span>) (<span class="id">genv</span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="Op.html#F">F</a></span> <span class="id"><a href="Op.html#V">V</a></span>) <span class="id">sp</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_addressing">eval_addressing</a></span> <span class="id"><a href="Op.html#genv">genv</a></span> <span class="id"><a href="Op.html#sp">sp</a></span> (<span class="id"><a href="Op.html#Ainstack">Ainstack</a></span> <span class="id"><a href="Op.html#ofs">ofs</a></span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.offset_ptr">Val.offset_ptr</a></span> <span class="id"><a href="Op.html#sp">sp</a></span> <span class="id"><a href="Op.html#ofs">ofs</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2151')">Proof.</div>
<div class="proofscript" id="proof2151">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="Op.html#eval_addressing">eval_addressing</a></span>, <span class="id"><a href="Op.html#eval_addressing32">eval_addressing32</a></span>, <span class="id"><a href="Op.html#eval_addressing64">eval_addressing64</a></span>; <span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span>; <span class="tactic">auto</span>. <br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="eval_addressing_Ainstack_inv">eval_addressing_Ainstack_inv</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">F</span> <span class="id">V</span>: <span class="kwd">Type</span>) (<span class="id">genv</span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="Op.html#F">F</a></span> <span class="id"><a href="Op.html#V">V</a></span>) <span class="id">sp</span> <span class="id">ofs</span> <span class="id">vl</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_addressing">eval_addressing</a></span> <span class="id"><a href="Op.html#genv">genv</a></span> <span class="id"><a href="Op.html#sp">sp</a></span> (<span class="id"><a href="Op.html#Ainstack">Ainstack</a></span> <span class="id"><a href="Op.html#ofs">ofs</a></span>) <span class="id"><a href="Op.html#vl">vl</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op.html#v">v</a></span> -&gt; <span class="id"><a href="Op.html#vl">vl</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> /\ <span class="id"><a href="Op.html#v">v</a></span> = <span class="id"><a href="Values.html#Val.offset_ptr">Val.offset_ptr</a></span> <span class="id"><a href="Op.html#sp">sp</a></span> <span class="id"><a href="Op.html#ofs">ofs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2152')">Proof.</div>
<div class="proofscript" id="proof2152">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Op.html#eval_addressing">eval_addressing</a></span>, <span class="id"><a href="Op.html#eval_addressing32">eval_addressing32</a></span>, <span class="id"><a href="Op.html#eval_addressing64">eval_addressing64</a></span>;<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span>; <span class="tactic">destruct</span> <span class="id">vl</span>; <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Ltac</span> <span class="id">FuncInv</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: (<span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id">_</span> | <span class="id">_</span> :: <span class="id">_</span> =&gt; <span class="id">_</span> <span class="kwd">end</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span>) |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>; <span class="id">FuncInv</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: (<span class="kwd">match</span> ?<span class="id">v</span> <span class="kwd">with</span> <span class="id"><a href="Values.html#Vundef">Vundef</a></span> =&gt; <span class="id">_</span> | <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">_</span> =&gt; <span class="id">_</span> | <span class="id"><a href="Values.html#Vfloat">Vfloat</a></span> <span class="id">_</span> =&gt; <span class="id">_</span> | <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id">_</span> <span class="kwd">end</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span>) |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>; <span class="id">FuncInv</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: (<span class="kwd">if</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id">_</span> <span class="kwd">else</span> <span class="id">_</span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:?; <span class="id">FuncInv</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span>) |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">injection</span> <span class="id">H</span>; <span class="tactic">intros</span>; <span class="tactic">clear</span> <span class="id">H</span>; <span class="id">FuncInv</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span>) |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">discriminate</span> <span class="id">H</span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">idtac</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<h1> Static typing of conditions, operators and addressing modes. </h1>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="type_of_condition">type_of_condition</a></span> (<span class="id">c</span>: <span class="id"><a href="Op.html#condition">condition</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="AST.html#typ">typ</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Op.html#c">c</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ccomp">Ccomp</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ccompu">Ccompu</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ccompimm">Ccompimm</a></span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ccompuimm">Ccompuimm</a></span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ccompl">Ccompl</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ccomplu">Ccomplu</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ccomplimm">Ccomplimm</a></span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ccompluimm">Ccompluimm</a></span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ccompf">Ccompf</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="AST.html#Tfloat">Tfloat</a></span> :: <span class="id"><a href="AST.html#Tfloat">Tfloat</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Cnotcompf">Cnotcompf</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="AST.html#Tfloat">Tfloat</a></span> :: <span class="id"><a href="AST.html#Tfloat">Tfloat</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ccompfs">Ccompfs</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="AST.html#Tsingle">Tsingle</a></span> :: <span class="id"><a href="AST.html#Tsingle">Tsingle</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Cnotcompfs">Cnotcompfs</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="AST.html#Tsingle">Tsingle</a></span> :: <span class="id"><a href="AST.html#Tsingle">Tsingle</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Cmaskzero">Cmaskzero</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Cmasknotzero">Cmasknotzero</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="type_of_addressing_gen">type_of_addressing_gen</a></span> (<span class="id">tyA</span>: <span class="id"><a href="AST.html#typ">typ</a></span>) (<span class="id">addr</span>: <span class="id"><a href="Op.html#addressing">addressing</a></span>): <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="AST.html#typ">typ</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Op.html#addr">addr</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Aindexed">Aindexed</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="Op.html#tyA">tyA</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Aindexed2">Aindexed2</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="Op.html#tyA">tyA</a></span> :: <span class="id"><a href="Op.html#tyA">tyA</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ascaled">Ascaled</a></span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="Op.html#tyA">tyA</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Aindexed2scaled">Aindexed2scaled</a></span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="Op.html#tyA">tyA</a></span> :: <span class="id"><a href="Op.html#tyA">tyA</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Aglobal">Aglobal</a></span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Abased">Abased</a></span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="Op.html#tyA">tyA</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Abasedscaled">Abasedscaled</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="Op.html#tyA">tyA</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ainstack">Ainstack</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="type_of_addressing">type_of_addressing</a></span> := <span class="id"><a href="Op.html#type_of_addressing_gen">type_of_addressing_gen</a></span> <span class="id"><a href="AST.html#Tptr">Tptr</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="type_of_addressing32">type_of_addressing32</a></span> := <span class="id"><a href="Op.html#type_of_addressing_gen">type_of_addressing_gen</a></span> <span class="id"><a href="AST.html#Tint">Tint</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="type_of_addressing64">type_of_addressing64</a></span> := <span class="id"><a href="Op.html#type_of_addressing_gen">type_of_addressing_gen</a></span> <span class="id"><a href="AST.html#Tlong">Tlong</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="type_of_operation">type_of_operation</a></span> (<span class="id">op</span>: <span class="id"><a href="Op.html#operation">operation</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="AST.html#typ">typ</a></span> * <span class="id"><a href="AST.html#typ">typ</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Op.html#op">op</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omove">Omove</a></span> =&gt; (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tint">Tint</a></span>)   <br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ointconst">Ointconst</a></span> <span class="id">_</span> =&gt; (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tint">Tint</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Olongconst">Olongconst</a></span> <span class="id">_</span> =&gt; (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tlong">Tlong</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ofloatconst">Ofloatconst</a></span> <span class="id">f</span> =&gt; (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tfloat">Tfloat</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Osingleconst">Osingleconst</a></span> <span class="id">f</span> =&gt; (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tsingle">Tsingle</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oindirectsymbol">Oindirectsymbol</a></span> <span class="id">_</span> =&gt; (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tptr">Tptr</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ocast8signed">Ocast8signed</a></span> =&gt; (<span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tint">Tint</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ocast8unsigned">Ocast8unsigned</a></span> =&gt; (<span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tint">Tint</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ocast16signed">Ocast16signed</a></span> =&gt; (<span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tint">Tint</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ocast16unsigned">Ocast16unsigned</a></span> =&gt; (<span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tint">Tint</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oneg">Oneg</a></span> =&gt; (<span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tint">Tint</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Osub">Osub</a></span> =&gt; (<span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tint">Tint</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omul">Omul</a></span> =&gt; (<span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tint">Tint</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omulimm">Omulimm</a></span> <span class="id">_</span> =&gt; (<span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tint">Tint</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omulhs">Omulhs</a></span> =&gt; (<span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tint">Tint</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omulhu">Omulhu</a></span> =&gt; (<span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tint">Tint</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Odiv">Odiv</a></span> =&gt; (<span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tint">Tint</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Odivu">Odivu</a></span> =&gt; (<span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tint">Tint</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omod">Omod</a></span> =&gt; (<span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tint">Tint</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omodu">Omodu</a></span> =&gt; (<span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tint">Tint</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oand">Oand</a></span> =&gt; (<span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tint">Tint</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oandimm">Oandimm</a></span> <span class="id">_</span> =&gt; (<span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tint">Tint</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oor">Oor</a></span> =&gt; (<span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tint">Tint</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oorimm">Oorimm</a></span> <span class="id">_</span> =&gt; (<span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tint">Tint</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oxor">Oxor</a></span> =&gt; (<span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tint">Tint</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oxorimm">Oxorimm</a></span> <span class="id">_</span> =&gt; (<span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tint">Tint</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Onot">Onot</a></span> =&gt; (<span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tint">Tint</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oshl">Oshl</a></span> =&gt; (<span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tint">Tint</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oshlimm">Oshlimm</a></span> <span class="id">_</span> =&gt; (<span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tint">Tint</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oshr">Oshr</a></span> =&gt; (<span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tint">Tint</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oshrimm">Oshrimm</a></span> <span class="id">_</span> =&gt; (<span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tint">Tint</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oshrximm">Oshrximm</a></span> <span class="id">_</span> =&gt; (<span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tint">Tint</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oshru">Oshru</a></span> =&gt; (<span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tint">Tint</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oshruimm">Oshruimm</a></span> <span class="id">_</span> =&gt; (<span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tint">Tint</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ororimm">Ororimm</a></span> <span class="id">_</span> =&gt; (<span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tint">Tint</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oshldimm">Oshldimm</a></span> <span class="id">_</span> =&gt; (<span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tint">Tint</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Olea">Olea</a></span> <span class="id">addr</span> =&gt; (<span class="id"><a href="Op.html#type_of_addressing32">type_of_addressing32</a></span> <span class="id">addr</span>, <span class="id"><a href="AST.html#Tint">Tint</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omakelong">Omakelong</a></span> =&gt; (<span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tlong">Tlong</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Olowlong">Olowlong</a></span> =&gt; (<span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tint">Tint</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ohighlong">Ohighlong</a></span> =&gt; (<span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tint">Tint</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ocast32signed">Ocast32signed</a></span> =&gt; (<span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tlong">Tlong</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ocast32unsigned">Ocast32unsigned</a></span> =&gt; (<span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tlong">Tlong</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Onegl">Onegl</a></span> =&gt; (<span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tlong">Tlong</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oaddlimm">Oaddlimm</a></span> <span class="id">_</span> =&gt; (<span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tlong">Tlong</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Osubl">Osubl</a></span> =&gt; (<span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tlong">Tlong</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omull">Omull</a></span> =&gt; (<span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tlong">Tlong</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omullimm">Omullimm</a></span> <span class="id">_</span> =&gt; (<span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tlong">Tlong</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omullhs">Omullhs</a></span> =&gt; (<span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tlong">Tlong</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omullhu">Omullhu</a></span> =&gt; (<span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tlong">Tlong</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Odivl">Odivl</a></span> =&gt; (<span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tlong">Tlong</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Odivlu">Odivlu</a></span> =&gt; (<span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tlong">Tlong</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omodl">Omodl</a></span> =&gt; (<span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tlong">Tlong</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omodlu">Omodlu</a></span> =&gt; (<span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tlong">Tlong</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oandl">Oandl</a></span> =&gt; (<span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tlong">Tlong</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oandlimm">Oandlimm</a></span> <span class="id">_</span> =&gt; (<span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tlong">Tlong</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oorl">Oorl</a></span> =&gt; (<span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tlong">Tlong</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oorlimm">Oorlimm</a></span> <span class="id">_</span> =&gt; (<span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tlong">Tlong</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oxorl">Oxorl</a></span> =&gt; (<span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tlong">Tlong</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oxorlimm">Oxorlimm</a></span> <span class="id">_</span> =&gt; (<span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tlong">Tlong</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Onotl">Onotl</a></span> =&gt; (<span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tlong">Tlong</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oshll">Oshll</a></span> =&gt; (<span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tlong">Tlong</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oshllimm">Oshllimm</a></span> <span class="id">_</span> =&gt; (<span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tlong">Tlong</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oshrl">Oshrl</a></span> =&gt; (<span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tlong">Tlong</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oshrlimm">Oshrlimm</a></span> <span class="id">_</span> =&gt; (<span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tlong">Tlong</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oshrxlimm">Oshrxlimm</a></span> <span class="id">_</span> =&gt; (<span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tlong">Tlong</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oshrlu">Oshrlu</a></span> =&gt; (<span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tlong">Tlong</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oshrluimm">Oshrluimm</a></span> <span class="id">_</span> =&gt; (<span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tlong">Tlong</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ororlimm">Ororlimm</a></span> <span class="id">_</span> =&gt; (<span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tlong">Tlong</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oleal">Oleal</a></span> <span class="id">addr</span> =&gt; (<span class="id"><a href="Op.html#type_of_addressing64">type_of_addressing64</a></span> <span class="id">addr</span>, <span class="id"><a href="AST.html#Tlong">Tlong</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Onegf">Onegf</a></span> =&gt; (<span class="id"><a href="AST.html#Tfloat">Tfloat</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tfloat">Tfloat</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oabsf">Oabsf</a></span> =&gt; (<span class="id"><a href="AST.html#Tfloat">Tfloat</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tfloat">Tfloat</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oaddf">Oaddf</a></span> =&gt; (<span class="id"><a href="AST.html#Tfloat">Tfloat</a></span> :: <span class="id"><a href="AST.html#Tfloat">Tfloat</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tfloat">Tfloat</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Osubf">Osubf</a></span> =&gt; (<span class="id"><a href="AST.html#Tfloat">Tfloat</a></span> :: <span class="id"><a href="AST.html#Tfloat">Tfloat</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tfloat">Tfloat</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omulf">Omulf</a></span> =&gt; (<span class="id"><a href="AST.html#Tfloat">Tfloat</a></span> :: <span class="id"><a href="AST.html#Tfloat">Tfloat</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tfloat">Tfloat</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Odivf">Odivf</a></span> =&gt; (<span class="id"><a href="AST.html#Tfloat">Tfloat</a></span> :: <span class="id"><a href="AST.html#Tfloat">Tfloat</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tfloat">Tfloat</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Onegfs">Onegfs</a></span> =&gt; (<span class="id"><a href="AST.html#Tsingle">Tsingle</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tsingle">Tsingle</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oabsfs">Oabsfs</a></span> =&gt; (<span class="id"><a href="AST.html#Tsingle">Tsingle</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tsingle">Tsingle</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oaddfs">Oaddfs</a></span> =&gt; (<span class="id"><a href="AST.html#Tsingle">Tsingle</a></span> :: <span class="id"><a href="AST.html#Tsingle">Tsingle</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tsingle">Tsingle</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Osubfs">Osubfs</a></span> =&gt; (<span class="id"><a href="AST.html#Tsingle">Tsingle</a></span> :: <span class="id"><a href="AST.html#Tsingle">Tsingle</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tsingle">Tsingle</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omulfs">Omulfs</a></span> =&gt; (<span class="id"><a href="AST.html#Tsingle">Tsingle</a></span> :: <span class="id"><a href="AST.html#Tsingle">Tsingle</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tsingle">Tsingle</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Odivfs">Odivfs</a></span> =&gt; (<span class="id"><a href="AST.html#Tsingle">Tsingle</a></span> :: <span class="id"><a href="AST.html#Tsingle">Tsingle</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tsingle">Tsingle</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Osingleoffloat">Osingleoffloat</a></span> =&gt; (<span class="id"><a href="AST.html#Tfloat">Tfloat</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tsingle">Tsingle</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ofloatofsingle">Ofloatofsingle</a></span> =&gt; (<span class="id"><a href="AST.html#Tsingle">Tsingle</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tfloat">Tfloat</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ointoffloat">Ointoffloat</a></span> =&gt; (<span class="id"><a href="AST.html#Tfloat">Tfloat</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tint">Tint</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ofloatofint">Ofloatofint</a></span> =&gt; (<span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tfloat">Tfloat</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ointofsingle">Ointofsingle</a></span> =&gt; (<span class="id"><a href="AST.html#Tsingle">Tsingle</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tint">Tint</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Osingleofint">Osingleofint</a></span> =&gt; (<span class="id"><a href="AST.html#Tint">Tint</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tsingle">Tsingle</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Olongoffloat">Olongoffloat</a></span> =&gt; (<span class="id"><a href="AST.html#Tfloat">Tfloat</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tlong">Tlong</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ofloatoflong">Ofloatoflong</a></span> =&gt; (<span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tfloat">Tfloat</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Olongofsingle">Olongofsingle</a></span> =&gt; (<span class="id"><a href="AST.html#Tsingle">Tsingle</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tlong">Tlong</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Osingleoflong">Osingleoflong</a></span> =&gt; (<span class="id"><a href="AST.html#Tlong">Tlong</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="AST.html#Tsingle">Tsingle</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ocmp">Ocmp</a></span> <span class="id">c</span> =&gt; (<span class="id"><a href="Op.html#type_of_condition">type_of_condition</a></span> <span class="id">c</span>, <span class="id"><a href="AST.html#Tint">Tint</a></span>)<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<div class="doc">Weak type soundness results for <span class="bracket"><span class="id">eval_operation</span></span>:
  the result values, when defined, are always of the type predicted
  by <span class="bracket"><span class="id">type_of_operation</span></span>. </div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="SOUNDNESS">SOUNDNESS</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="SOUNDNESS.A">A</a></span> <span class="id"><a name="SOUNDNESS.V">V</a></span>: <span class="kwd">Type</span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="SOUNDNESS.genv">genv</a></span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="Op.html#SOUNDNESS.A">A</a></span> <span class="id"><a href="Op.html#SOUNDNESS.V">V</a></span>.<br/>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="type_add">type_add</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">v1</span> <span class="id">v2</span>, <span class="id"><a href="Values.html#Val.has_type">Val.has_type</a></span> (<span class="id"><a href="Values.html#Val.add">Val.add</a></span> <span class="id"><a href="Op.html#v1">v1</a></span> <span class="id"><a href="Op.html#v2">v2</a></span>) <span class="id"><a href="AST.html#Tint">Tint</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2153')">Proof.</div>
<div class="proofscript" id="proof2153">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.has_type">Val.has_type</a></span>, <span class="id"><a href="Values.html#Val.add">Val.add</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span>, <span class="id">v1</span>, <span class="id">v2</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="type_addl">type_addl</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">v1</span> <span class="id">v2</span>, <span class="id"><a href="Values.html#Val.has_type">Val.has_type</a></span> (<span class="id"><a href="Values.html#Val.addl">Val.addl</a></span> <span class="id"><a href="Op.html#v1">v1</a></span> <span class="id"><a href="Op.html#v2">v2</a></span>) <span class="id"><a href="AST.html#Tlong">Tlong</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2154')">Proof.</div>
<div class="proofscript" id="proof2154">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.has_type">Val.has_type</a></span>, <span class="id"><a href="Values.html#Val.addl">Val.addl</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span>, <span class="id">v1</span>, <span class="id">v2</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="type_of_addressing64_sound">type_of_addressing64_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">addr</span> <span class="id">vl</span> <span class="id">sp</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_addressing64">eval_addressing64</a></span> <span class="id"><a href="Op.html#SOUNDNESS.genv">genv</a></span> <span class="id"><a href="Op.html#sp">sp</a></span> <span class="id"><a href="Op.html#addr">addr</a></span> <span class="id"><a href="Op.html#vl">vl</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.has_type">Val.has_type</a></span> <span class="id"><a href="Op.html#v">v</a></span> <span class="id"><a href="AST.html#Tlong">Tlong</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2155')">Proof.</div>
<div class="proofscript" id="proof2155">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">addr</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>; <span class="id">FuncInv</span>; <span class="tactic">subst</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span> <span class="kwd">using</span> <span class="id"><a href="Op.html#type_addl">type_addl</a></span>.<br/>
- <span class="tactic">unfold</span> <span class="id"><a href="Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span>; <span class="tactic">destruct</span> (<span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="Op.html#SOUNDNESS.genv">genv</a></span> <span class="id">i</span>); <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">destruct</span> <span class="id">sp</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="type_of_addressing32_sound">type_of_addressing32_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">addr</span> <span class="id">vl</span> <span class="id">sp</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_addressing32">eval_addressing32</a></span> <span class="id"><a href="Op.html#SOUNDNESS.genv">genv</a></span> <span class="id"><a href="Op.html#sp">sp</a></span> <span class="id"><a href="Op.html#addr">addr</a></span> <span class="id"><a href="Op.html#vl">vl</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.has_type">Val.has_type</a></span> <span class="id"><a href="Op.html#v">v</a></span> <span class="id"><a href="AST.html#Tint">Tint</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2156')">Proof.</div>
<div class="proofscript" id="proof2156">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">addr</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>; <span class="id">FuncInv</span>; <span class="tactic">subst</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span> <span class="kwd">using</span> <span class="id"><a href="Op.html#type_add">type_add</a></span>.<br/>
- <span class="tactic">unfold</span> <span class="id"><a href="Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span>; <span class="tactic">destruct</span> (<span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="Op.html#SOUNDNESS.genv">genv</a></span> <span class="id">i</span>); <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">destruct</span> <span class="id">sp</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Corollary</span> <span class="id"><a name="type_of_addressing_sound">type_of_addressing_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">addr</span> <span class="id">vl</span> <span class="id">sp</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_addressing">eval_addressing</a></span> <span class="id"><a href="Op.html#SOUNDNESS.genv">genv</a></span> <span class="id"><a href="Op.html#sp">sp</a></span> <span class="id"><a href="Op.html#addr">addr</a></span> <span class="id"><a href="Op.html#vl">vl</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.has_type">Val.has_type</a></span> <span class="id"><a href="Op.html#v">v</a></span> <span class="id"><a href="AST.html#Tptr">Tptr</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2157')">Proof.</div>
<div class="proofscript" id="proof2157">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Op.html#eval_addressing">eval_addressing</a></span>, <span class="id"><a href="AST.html#Tptr">Tptr</a></span>; <span class="tactic">intros</span>. <br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Op.html#type_of_addressing64_sound">type_of_addressing64_sound</a></span>, <span class="id"><a href="Op.html#type_of_addressing32_sound">type_of_addressing32_sound</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="type_of_operation_sound">type_of_operation_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">op</span> <span class="id">vl</span> <span class="id">sp</span> <span class="id">v</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#op">op</a></span> &lt;&gt; <span class="id"><a href="Op.html#Omove">Omove</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_operation">eval_operation</a></span> <span class="id"><a href="Op.html#SOUNDNESS.genv">genv</a></span> <span class="id"><a href="Op.html#sp">sp</a></span> <span class="id"><a href="Op.html#op">op</a></span> <span class="id"><a href="Op.html#vl">vl</a></span> <span class="id"><a href="Op.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.has_type">Val.has_type</a></span> <span class="id"><a href="Op.html#v">v</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> (<span class="id"><a href="Op.html#type_of_operation">type_of_operation</a></span> <span class="id"><a href="Op.html#op">op</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2158')">Proof with</div>
<div class="proofscript" id="proof2158">
 (<span class="tactic">try</span> <span class="tactic">exact</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#I">I</a></span>; <span class="tactic">try</span> <span class="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">op</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="id">FuncInv</span>; <span class="tactic">subst</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">exact</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#I">I</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">exact</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#I">I</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">exact</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#I">I</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">exact</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#I">I</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span>; <span class="tactic">destruct</span> (<span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="Op.html#SOUNDNESS.genv">genv</a></span> <span class="id">id</span>)...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>...<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.sub">Val.sub</a></span>, <span class="id"><a href="Values.html#Val.has_type">Val.has_type</a></span>; <span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span>, <span class="id">v0</span>, <span class="id">v1</span>... <span class="tactic">destruct</span> (<span class="id"><a href="Values.html#eq_block">eq_block</a></span> <span class="id">b</span> <span class="id">b0</span>)...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">destruct</span> <span class="id">v1</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">destruct</span> <span class="id">v1</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">destruct</span> <span class="id">v1</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">destruct</span> <span class="id">v1</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id">i0</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span> || <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id">i</span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> <span class="id"><a href="Integers.html#Int.min_signed">Int.min_signed</a></span>) &amp;&amp; <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id">i0</span> <span class="id"><a href="Integers.html#Int.mone">Int.mone</a></span>); <span class="id">inv</span> <span class="id">H2</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">destruct</span> <span class="id">v1</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id">i0</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>); <span class="id">inv</span> <span class="id">H2</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">destruct</span> <span class="id">v1</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id">i0</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span> || <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id">i</span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> <span class="id"><a href="Integers.html#Int.min_signed">Int.min_signed</a></span>) &amp;&amp; <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id">i0</span> <span class="id"><a href="Integers.html#Int.mone">Int.mone</a></span>); <span class="id">inv</span> <span class="id">H2</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">destruct</span> <span class="id">v1</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id">i0</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>); <span class="id">inv</span> <span class="id">H2</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">destruct</span> <span class="id">v1</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">destruct</span> <span class="id">v1</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">destruct</span> <span class="id">v1</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">destruct</span> <span class="id">v1</span>; <span class="tactic">simpl</span>... <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">i0</span> <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span>)...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">simpl</span>... <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n</span> <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span>)...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">destruct</span> <span class="id">v1</span>; <span class="tactic">simpl</span>... <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">i0</span> <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span>)...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">simpl</span>... <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n</span> <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span>)...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n</span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> 31)); <span class="id">inv</span> <span class="id">H0</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">destruct</span> <span class="id">v1</span>; <span class="tactic">simpl</span>... <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">i0</span> <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span>)...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">simpl</span>... <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n</span> <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span>)...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">simpl</span>... <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n</span> <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span>)...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v1</span>; <span class="tactic">simpl</span>... <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span> <span class="id">n</span>) <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span>)...<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Op.html#type_of_addressing32_sound">type_of_addressing32_sound</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">destruct</span> <span class="id">v1</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>...<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.addl">Val.addl</a></span>, <span class="id"><a href="Values.html#Val.has_type">Val.has_type</a></span>; <span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span>, <span class="id">v0</span>...<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.subl">Val.subl</a></span>, <span class="id"><a href="Values.html#Val.has_type">Val.has_type</a></span>; <span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span>, <span class="id">v0</span>, <span class="id">v1</span>... <span class="tactic">destruct</span> (<span class="id"><a href="Values.html#eq_block">eq_block</a></span> <span class="id">b</span> <span class="id">b0</span>)...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">destruct</span> <span class="id">v1</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">destruct</span> <span class="id">v1</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">destruct</span> <span class="id">v1</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">destruct</span> <span class="id">v1</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i0</span> <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span> || <span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i</span> (<span class="id"><a href="Integers.html#Int64.repr">Int64.repr</a></span> <span class="id"><a href="Integers.html#Int64.min_signed">Int64.min_signed</a></span>) &amp;&amp; <span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i0</span> <span class="id"><a href="Integers.html#Int64.mone">Int64.mone</a></span>); <span class="id">inv</span> <span class="id">H2</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">destruct</span> <span class="id">v1</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i0</span> <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span>); <span class="id">inv</span> <span class="id">H2</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">destruct</span> <span class="id">v1</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i0</span> <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span> || <span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i</span> (<span class="id"><a href="Integers.html#Int64.repr">Int64.repr</a></span> <span class="id"><a href="Integers.html#Int64.min_signed">Int64.min_signed</a></span>) &amp;&amp; <span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i0</span> <span class="id"><a href="Integers.html#Int64.mone">Int64.mone</a></span>); <span class="id">inv</span> <span class="id">H2</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">destruct</span> <span class="id">v1</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i0</span> <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span>); <span class="id">inv</span> <span class="id">H2</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">destruct</span> <span class="id">v1</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">destruct</span> <span class="id">v1</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">destruct</span> <span class="id">v1</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">destruct</span> <span class="id">v1</span>; <span class="tactic">simpl</span>... <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">i0</span> <span class="id">Int64.iwordsize</span>')...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">simpl</span>... <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n</span> <span class="id">Int64.iwordsize</span>')...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">destruct</span> <span class="id">v1</span>; <span class="tactic">simpl</span>... <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">i0</span> <span class="id">Int64.iwordsize</span>')...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">simpl</span>... <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n</span> <span class="id">Int64.iwordsize</span>')...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n</span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> 63)); <span class="id">inv</span> <span class="id">H2</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">destruct</span> <span class="id">v1</span>; <span class="tactic">simpl</span>... <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">i0</span> <span class="id">Int64.iwordsize</span>')...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">simpl</span>... <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n</span> <span class="id">Int64.iwordsize</span>')...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>...<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Op.html#type_of_addressing64_sound">type_of_addressing64_sound</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">destruct</span> <span class="id">v1</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">destruct</span> <span class="id">v1</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">destruct</span> <span class="id">v1</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">destruct</span> <span class="id">v1</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">destruct</span> <span class="id">v1</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">destruct</span> <span class="id">v1</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">destruct</span> <span class="id">v1</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">destruct</span> <span class="id">v1</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Floats.html#Float.to_int">Float.to_int</a></span> <span class="id">f</span>); <span class="id">inv</span> <span class="id">H2</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="id">inv</span> <span class="id">H0</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Floats.html#Float32.to_int">Float32.to_int</a></span> <span class="id">f</span>); <span class="id">inv</span> <span class="id">H2</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="id">inv</span> <span class="id">H0</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Floats.html#Float.to_long">Float.to_long</a></span> <span class="id">f</span>); <span class="id">inv</span> <span class="id">H2</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="id">inv</span> <span class="id">H0</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Floats.html#Float32.to_long">Float32.to_long</a></span> <span class="id">f</span>); <span class="id">inv</span> <span class="id">H2</span>...<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="id">inv</span> <span class="id">H0</span>...<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Coqlib.html#option_map">option_map</a></span>, <span class="id"><a href="Values.html#Val.of_bool">Val.of_bool</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Op.html#eval_condition">eval_condition</a></span> <span class="id">cond</span> <span class="id">vl</span> <span class="id">m</span>); <span class="id">FuncInv</span>; <span class="tactic">simpl</span>... <br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">b</span>; <span class="tactic">subst</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="Op.html#SOUNDNESS">SOUNDNESS</a></span>.<br/>
<br/>
<h1> Manipulating and transforming operations </h1>
<br/>
<div class="doc">Recognition of move operations. </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="is_move_operation">is_move_operation</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">A</span>: <span class="kwd">Type</span>) (<span class="id">op</span>: <span class="id"><a href="Op.html#operation">operation</a></span>) (<span class="id">args</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Op.html#A">A</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Op.html#A">A</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Op.html#op">op</a></span>, <span class="id"><a href="Op.html#args">args</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omove">Omove</a></span>, <span class="id">arg</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">arg</span><br/>
&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="is_move_operation_correct">is_move_operation_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">A</span>: <span class="kwd">Type</span>) (<span class="id">op</span>: <span class="id"><a href="Op.html#operation">operation</a></span>) (<span class="id">args</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Op.html#A">A</a></span>) (<span class="id">a</span>: <span class="id"><a href="Op.html#A">A</a></span>),<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#is_move_operation">is_move_operation</a></span> <span class="id"><a href="Op.html#op">op</a></span> <span class="id"><a href="Op.html#args">args</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op.html#a">a</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#op">op</a></span> = <span class="id"><a href="Op.html#Omove">Omove</a></span> /\ <span class="id"><a href="Op.html#args">args</a></span> = <span class="id"><a href="Op.html#a">a</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2159')">Proof.</div>
<div class="proofscript" id="proof2159">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">a</span>. <span class="tactic">unfold</span> <span class="id"><a href="Op.html#is_move_operation">is_move_operation</a></span>; <span class="tactic">destruct</span> <span class="id">op</span>;<br/>
&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">intros</span>; <span class="tactic">discriminate</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">args</span>. <span class="tactic">intros</span>; <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">args</span>. <span class="tactic">intros</span>. <span class="tactic">intuition</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">discriminate</span>.<br/>
Qed.</div>
<br/>
<div class="doc"><span class="bracket"><span class="id">negate_condition</span> <span class="id">cond</span></span> returns a condition that is logically
  equivalent to the negation of <span class="bracket"><span class="id">cond</span></span>. </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="negate_condition">negate_condition</a></span> (<span class="id">cond</span>: <span class="id"><a href="Op.html#condition">condition</a></span>): <span class="id"><a href="Op.html#condition">condition</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Op.html#cond">cond</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ccomp">Ccomp</a></span> <span class="id">c</span> =&gt; <span class="id"><a href="Op.html#Ccomp">Ccomp</a></span>(<span class="id"><a href="Integers.html#negate_comparison">negate_comparison</a></span> <span class="id">c</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ccompu">Ccompu</a></span> <span class="id">c</span> =&gt; <span class="id"><a href="Op.html#Ccompu">Ccompu</a></span>(<span class="id"><a href="Integers.html#negate_comparison">negate_comparison</a></span> <span class="id">c</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ccompimm">Ccompimm</a></span> <span class="id">c</span> <span class="id">n</span> =&gt; <span class="id"><a href="Op.html#Ccompimm">Ccompimm</a></span> (<span class="id"><a href="Integers.html#negate_comparison">negate_comparison</a></span> <span class="id">c</span>) <span class="id">n</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ccompuimm">Ccompuimm</a></span> <span class="id">c</span> <span class="id">n</span> =&gt; <span class="id"><a href="Op.html#Ccompuimm">Ccompuimm</a></span> (<span class="id"><a href="Integers.html#negate_comparison">negate_comparison</a></span> <span class="id">c</span>) <span class="id">n</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ccompl">Ccompl</a></span> <span class="id">c</span> =&gt; <span class="id"><a href="Op.html#Ccompl">Ccompl</a></span>(<span class="id"><a href="Integers.html#negate_comparison">negate_comparison</a></span> <span class="id">c</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ccomplu">Ccomplu</a></span> <span class="id">c</span> =&gt; <span class="id"><a href="Op.html#Ccomplu">Ccomplu</a></span>(<span class="id"><a href="Integers.html#negate_comparison">negate_comparison</a></span> <span class="id">c</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ccomplimm">Ccomplimm</a></span> <span class="id">c</span> <span class="id">n</span> =&gt; <span class="id"><a href="Op.html#Ccomplimm">Ccomplimm</a></span> (<span class="id"><a href="Integers.html#negate_comparison">negate_comparison</a></span> <span class="id">c</span>) <span class="id">n</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ccompluimm">Ccompluimm</a></span> <span class="id">c</span> <span class="id">n</span> =&gt; <span class="id"><a href="Op.html#Ccompluimm">Ccompluimm</a></span> (<span class="id"><a href="Integers.html#negate_comparison">negate_comparison</a></span> <span class="id">c</span>) <span class="id">n</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ccompf">Ccompf</a></span> <span class="id">c</span> =&gt; <span class="id"><a href="Op.html#Cnotcompf">Cnotcompf</a></span> <span class="id">c</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Cnotcompf">Cnotcompf</a></span> <span class="id">c</span> =&gt; <span class="id"><a href="Op.html#Ccompf">Ccompf</a></span> <span class="id">c</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ccompfs">Ccompfs</a></span> <span class="id">c</span> =&gt; <span class="id"><a href="Op.html#Cnotcompfs">Cnotcompfs</a></span> <span class="id">c</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Cnotcompfs">Cnotcompfs</a></span> <span class="id">c</span> =&gt; <span class="id"><a href="Op.html#Ccompfs">Ccompfs</a></span> <span class="id">c</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Cmaskzero">Cmaskzero</a></span> <span class="id">n</span> =&gt; <span class="id"><a href="Op.html#Cmasknotzero">Cmasknotzero</a></span> <span class="id">n</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Cmasknotzero">Cmasknotzero</a></span> <span class="id">n</span> =&gt; <span class="id"><a href="Op.html#Cmaskzero">Cmaskzero</a></span> <span class="id">n</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_negate_condition">eval_negate_condition</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">cond</span> <span class="id">vl</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_condition">eval_condition</a></span> (<span class="id"><a href="Op.html#negate_condition">negate_condition</a></span> <span class="id"><a href="Op.html#cond">cond</a></span>) <span class="id"><a href="Op.html#vl">vl</a></span> <span class="id"><a href="Op.html#m">m</a></span> = <span class="id"><a href="Coqlib.html#option_map">option_map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="Op.html#eval_condition">eval_condition</a></span> <span class="id"><a href="Op.html#cond">cond</a></span> <span class="id"><a href="Op.html#vl">vl</a></span> <span class="id"><a href="Op.html#m">m</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2160')">Proof.</div>
<div class="proofscript" id="proof2160">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">cond</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> (<span class="tactic">destruct</span> <span class="id">vl</span>; <span class="tactic">auto</span>). <span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.negate_cmp_bool">Val.negate_cmp_bool</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> (<span class="tactic">destruct</span> <span class="id">vl</span>; <span class="tactic">auto</span>). <span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.negate_cmpu_bool">Val.negate_cmpu_bool</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> (<span class="tactic">destruct</span> <span class="id">vl</span>; <span class="tactic">auto</span>). <span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.negate_cmp_bool">Val.negate_cmp_bool</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> (<span class="tactic">destruct</span> <span class="id">vl</span>; <span class="tactic">auto</span>). <span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.negate_cmpu_bool">Val.negate_cmpu_bool</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> (<span class="tactic">destruct</span> <span class="id">vl</span>; <span class="tactic">auto</span>). <span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.negate_cmpl_bool">Val.negate_cmpl_bool</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> (<span class="tactic">destruct</span> <span class="id">vl</span>; <span class="tactic">auto</span>). <span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.negate_cmplu_bool">Val.negate_cmplu_bool</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> (<span class="tactic">destruct</span> <span class="id">vl</span>; <span class="tactic">auto</span>). <span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.negate_cmpl_bool">Val.negate_cmpl_bool</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> (<span class="tactic">destruct</span> <span class="id">vl</span>; <span class="tactic">auto</span>). <span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.negate_cmplu_bool">Val.negate_cmplu_bool</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> (<span class="tactic">destruct</span> <span class="id">vl</span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> (<span class="tactic">destruct</span> <span class="id">vl</span>; <span class="tactic">auto</span>). <span class="tactic">destruct</span> (<span class="id"><a href="Values.html#Val.cmpf_bool">Val.cmpf_bool</a></span> <span class="id">c</span> <span class="id">v</span> <span class="id">v0</span>) <span class="kwd">as</span> [[]|]; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> (<span class="tactic">destruct</span> <span class="id">vl</span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> (<span class="tactic">destruct</span> <span class="id">vl</span>; <span class="tactic">auto</span>). <span class="tactic">destruct</span> (<span class="id"><a href="Values.html#Val.cmpfs_bool">Val.cmpfs_bool</a></span> <span class="id">c</span> <span class="id">v</span> <span class="id">v0</span>) <span class="kwd">as</span> [[]|]; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">vl</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> <span class="id">vl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">vl</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> <span class="id">vl</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Values.html#Val.maskzero_bool">Val.maskzero_bool</a></span> <span class="id">v</span> <span class="id">n</span>) <span class="kwd">as</span> [[]|]; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Shifting stack-relative references.  This is used in <span class="bracket"><span class="id">Stacking</span></span>. </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="shift_stack_addressing">shift_stack_addressing</a></span> (<span class="id">delta</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) (<span class="id">addr</span>: <span class="id"><a href="Op.html#addressing">addressing</a></span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Op.html#addr">addr</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ainstack">Ainstack</a></span> <span class="id">ofs</span> =&gt; <span class="id"><a href="Op.html#Ainstack">Ainstack</a></span> (<span class="id"><a href="Integers.html#Ptrofs.add">Ptrofs.add</a></span> <span class="id">ofs</span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id"><a href="Op.html#delta">delta</a></span>))<br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="Op.html#addr">addr</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="shift_stack_operation">shift_stack_operation</a></span> (<span class="id">delta</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) (<span class="id">op</span>: <span class="id"><a href="Op.html#operation">operation</a></span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Op.html#op">op</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Olea">Olea</a></span>  <span class="id">addr</span> =&gt; <span class="id"><a href="Op.html#Olea">Olea</a></span>  (<span class="id"><a href="Op.html#shift_stack_addressing">shift_stack_addressing</a></span> <span class="id"><a href="Op.html#delta">delta</a></span> <span class="id">addr</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oleal">Oleal</a></span> <span class="id">addr</span> =&gt; <span class="id"><a href="Op.html#Oleal">Oleal</a></span> (<span class="id"><a href="Op.html#shift_stack_addressing">shift_stack_addressing</a></span> <span class="id"><a href="Op.html#delta">delta</a></span> <span class="id">addr</span>)<br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="Op.html#op">op</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="type_shift_stack_addressing">type_shift_stack_addressing</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">delta</span> <span class="id">addr</span>, <span class="id"><a href="Op.html#type_of_addressing">type_of_addressing</a></span> (<span class="id"><a href="Op.html#shift_stack_addressing">shift_stack_addressing</a></span> <span class="id"><a href="Op.html#delta">delta</a></span> <span class="id"><a href="Op.html#addr">addr</a></span>) = <span class="id"><a href="Op.html#type_of_addressing">type_of_addressing</a></span> <span class="id"><a href="Op.html#addr">addr</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2161')">Proof.</div>
<div class="proofscript" id="proof2161">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">addr</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="type_shift_stack_operation">type_shift_stack_operation</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">delta</span> <span class="id">op</span>, <span class="id"><a href="Op.html#type_of_operation">type_of_operation</a></span> (<span class="id"><a href="Op.html#shift_stack_operation">shift_stack_operation</a></span> <span class="id"><a href="Op.html#delta">delta</a></span> <span class="id"><a href="Op.html#op">op</a></span>) = <span class="id"><a href="Op.html#type_of_operation">type_of_operation</a></span> <span class="id"><a href="Op.html#op">op</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2162')">Proof.</div>
<div class="proofscript" id="proof2162">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">op</span>; <span class="tactic">auto</span>; <span class="tactic">simpl</span>; <span class="id">decEq</span>; <span class="tactic">destruct</span> <span class="id">a</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_shift_stack_addressing32">eval_shift_stack_addressing32</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">F</span> <span class="id">V</span> (<span class="id">ge</span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="Op.html#F">F</a></span> <span class="id"><a href="Op.html#V">V</a></span>) <span class="id">sp</span> <span class="id">addr</span> <span class="id">vl</span> <span class="id">delta</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_addressing32">eval_addressing32</a></span> <span class="id"><a href="Op.html#ge">ge</a></span> (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="Op.html#sp">sp</a></span> <span class="id"><a href="Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>) (<span class="id"><a href="Op.html#shift_stack_addressing">shift_stack_addressing</a></span> <span class="id"><a href="Op.html#delta">delta</a></span> <span class="id"><a href="Op.html#addr">addr</a></span>) <span class="id"><a href="Op.html#vl">vl</a></span> =<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_addressing32">eval_addressing32</a></span> <span class="id"><a href="Op.html#ge">ge</a></span> (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="Op.html#sp">sp</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id"><a href="Op.html#delta">delta</a></span>)) <span class="id"><a href="Op.html#addr">addr</a></span> <span class="id"><a href="Op.html#vl">vl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2163')">Proof.</div>
<div class="proofscript" id="proof2163">
&nbsp;&nbsp;<span class="tactic">intros</span>. <br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">A</span>: <span class="kwd">forall</span> <span class="id">i</span>, <span class="id"><a href="Integers.html#Ptrofs.add">Ptrofs.add</a></span> <span class="id"><a href="Integers.html#Ptrofs.zero">Ptrofs.zero</a></span> (<span class="id"><a href="Integers.html#Ptrofs.add">Ptrofs.add</a></span> <span class="id"><a href="Op.html#i">i</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id">delta</span>)) = <span class="id"><a href="Integers.html#Ptrofs.add">Ptrofs.add</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id">delta</span>) <span class="id"><a href="Op.html#i">i</a></span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.add_zero_l">Ptrofs.add_zero_l</a></span>. <span class="tactic">apply</span> <span class="id"><a href="Integers.html#Ptrofs.add_commut">Ptrofs.add_commut</a></span>. }<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">addr</span>; <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> ?<span class="id">A</span>; <span class="tactic">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_shift_stack_addressing64">eval_shift_stack_addressing64</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">F</span> <span class="id">V</span> (<span class="id">ge</span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="Op.html#F">F</a></span> <span class="id"><a href="Op.html#V">V</a></span>) <span class="id">sp</span> <span class="id">addr</span> <span class="id">vl</span> <span class="id">delta</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_addressing64">eval_addressing64</a></span> <span class="id"><a href="Op.html#ge">ge</a></span> (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="Op.html#sp">sp</a></span> <span class="id"><a href="Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>) (<span class="id"><a href="Op.html#shift_stack_addressing">shift_stack_addressing</a></span> <span class="id"><a href="Op.html#delta">delta</a></span> <span class="id"><a href="Op.html#addr">addr</a></span>) <span class="id"><a href="Op.html#vl">vl</a></span> =<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_addressing64">eval_addressing64</a></span> <span class="id"><a href="Op.html#ge">ge</a></span> (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="Op.html#sp">sp</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id"><a href="Op.html#delta">delta</a></span>)) <span class="id"><a href="Op.html#addr">addr</a></span> <span class="id"><a href="Op.html#vl">vl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2164')">Proof.</div>
<div class="proofscript" id="proof2164">
&nbsp;&nbsp;<span class="tactic">intros</span>. <br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">A</span>: <span class="kwd">forall</span> <span class="id">i</span>, <span class="id"><a href="Integers.html#Ptrofs.add">Ptrofs.add</a></span> <span class="id"><a href="Integers.html#Ptrofs.zero">Ptrofs.zero</a></span> (<span class="id"><a href="Integers.html#Ptrofs.add">Ptrofs.add</a></span> <span class="id"><a href="Op.html#i">i</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id">delta</span>)) = <span class="id"><a href="Integers.html#Ptrofs.add">Ptrofs.add</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id">delta</span>) <span class="id"><a href="Op.html#i">i</a></span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.add_zero_l">Ptrofs.add_zero_l</a></span>. <span class="tactic">apply</span> <span class="id"><a href="Integers.html#Ptrofs.add_commut">Ptrofs.add_commut</a></span>. }<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">addr</span>; <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> ?<span class="id">A</span>; <span class="tactic">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_shift_stack_addressing">eval_shift_stack_addressing</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">F</span> <span class="id">V</span> (<span class="id">ge</span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="Op.html#F">F</a></span> <span class="id"><a href="Op.html#V">V</a></span>) <span class="id">sp</span> <span class="id">addr</span> <span class="id">vl</span> <span class="id">delta</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_addressing">eval_addressing</a></span> <span class="id"><a href="Op.html#ge">ge</a></span> (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="Op.html#sp">sp</a></span> <span class="id"><a href="Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>) (<span class="id"><a href="Op.html#shift_stack_addressing">shift_stack_addressing</a></span> <span class="id"><a href="Op.html#delta">delta</a></span> <span class="id"><a href="Op.html#addr">addr</a></span>) <span class="id"><a href="Op.html#vl">vl</a></span> =<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_addressing">eval_addressing</a></span> <span class="id"><a href="Op.html#ge">ge</a></span> (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="Op.html#sp">sp</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id"><a href="Op.html#delta">delta</a></span>)) <span class="id"><a href="Op.html#addr">addr</a></span> <span class="id"><a href="Op.html#vl">vl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2165')">Proof.</div>
<div class="proofscript" id="proof2165">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="Op.html#eval_addressing">eval_addressing</a></span>. <br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span>; <span class="tactic">auto</span> <span class="kwd">using</span> <span class="id"><a href="Op.html#eval_shift_stack_addressing32">eval_shift_stack_addressing32</a></span>, <span class="id"><a href="Op.html#eval_shift_stack_addressing64">eval_shift_stack_addressing64</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_shift_stack_operation">eval_shift_stack_operation</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">F</span> <span class="id">V</span> (<span class="id">ge</span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="Op.html#F">F</a></span> <span class="id"><a href="Op.html#V">V</a></span>) <span class="id">sp</span> <span class="id">op</span> <span class="id">vl</span> <span class="id">m</span> <span class="id">delta</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_operation">eval_operation</a></span> <span class="id"><a href="Op.html#ge">ge</a></span> (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="Op.html#sp">sp</a></span> <span class="id"><a href="Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>) (<span class="id"><a href="Op.html#shift_stack_operation">shift_stack_operation</a></span> <span class="id"><a href="Op.html#delta">delta</a></span> <span class="id"><a href="Op.html#op">op</a></span>) <span class="id"><a href="Op.html#vl">vl</a></span> <span class="id"><a href="Op.html#m">m</a></span> =<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_operation">eval_operation</a></span> <span class="id"><a href="Op.html#ge">ge</a></span> (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="Op.html#sp">sp</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id"><a href="Op.html#delta">delta</a></span>)) <span class="id"><a href="Op.html#op">op</a></span> <span class="id"><a href="Op.html#vl">vl</a></span> <span class="id"><a href="Op.html#m">m</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2166')">Proof.</div>
<div class="proofscript" id="proof2166">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">op</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span> <span class="kwd">using</span> <span class="id"><a href="Op.html#eval_shift_stack_addressing32">eval_shift_stack_addressing32</a></span>, <span class="id"><a href="Op.html#eval_shift_stack_addressing64">eval_shift_stack_addressing64</a></span>.<br/>
Qed.</div>
<br/>
<div class="doc">Offset an addressing mode <span class="bracket"><span class="id">addr</span></span> by a quantity <span class="bracket"><span class="id">delta</span></span>, so that
  it designates the pointer <span class="bracket"><span class="id">delta</span></span> bytes past the pointer designated
  by <span class="bracket"><span class="id">addr</span></span>.  This may be undefined if an offset overflows, in which case
  <span class="bracket"><span class="id">None</span></span> is returned.  </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="offset_addressing_total">offset_addressing_total</a></span> (<span class="id">addr</span>: <span class="id"><a href="Op.html#addressing">addressing</a></span>) (<span class="id">delta</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) : <span class="id"><a href="Op.html#addressing">addressing</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Op.html#addr">addr</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Aindexed">Aindexed</a></span> <span class="id">n</span> =&gt; <span class="id"><a href="Op.html#Aindexed">Aindexed</a></span> (<span class="id">n</span> + <span class="id"><a href="Op.html#delta">delta</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Aindexed2">Aindexed2</a></span> <span class="id">n</span> =&gt; <span class="id"><a href="Op.html#Aindexed2">Aindexed2</a></span> (<span class="id">n</span> + <span class="id"><a href="Op.html#delta">delta</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ascaled">Ascaled</a></span> <span class="id">sc</span> <span class="id">n</span> =&gt; <span class="id"><a href="Op.html#Ascaled">Ascaled</a></span> <span class="id">sc</span> (<span class="id">n</span> + <span class="id"><a href="Op.html#delta">delta</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Aindexed2scaled">Aindexed2scaled</a></span> <span class="id">sc</span> <span class="id">n</span> =&gt; <span class="id"><a href="Op.html#Aindexed2scaled">Aindexed2scaled</a></span> <span class="id">sc</span> (<span class="id">n</span> + <span class="id"><a href="Op.html#delta">delta</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Aglobal">Aglobal</a></span> <span class="id">s</span> <span class="id">n</span> =&gt; <span class="id"><a href="Op.html#Aglobal">Aglobal</a></span> <span class="id">s</span> (<span class="id"><a href="Integers.html#Ptrofs.add">Ptrofs.add</a></span> <span class="id">n</span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id"><a href="Op.html#delta">delta</a></span>))<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Abased">Abased</a></span> <span class="id">s</span> <span class="id">n</span> =&gt; <span class="id"><a href="Op.html#Abased">Abased</a></span> <span class="id">s</span> (<span class="id"><a href="Integers.html#Ptrofs.add">Ptrofs.add</a></span> <span class="id">n</span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id"><a href="Op.html#delta">delta</a></span>))<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Abasedscaled">Abasedscaled</a></span> <span class="id">sc</span> <span class="id">s</span> <span class="id">n</span> =&gt; <span class="id"><a href="Op.html#Abasedscaled">Abasedscaled</a></span> <span class="id">sc</span> <span class="id">s</span> (<span class="id"><a href="Integers.html#Ptrofs.add">Ptrofs.add</a></span> <span class="id">n</span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id"><a href="Op.html#delta">delta</a></span>))<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ainstack">Ainstack</a></span> <span class="id">n</span> =&gt; <span class="id"><a href="Op.html#Ainstack">Ainstack</a></span> (<span class="id"><a href="Integers.html#Ptrofs.add">Ptrofs.add</a></span> <span class="id">n</span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id"><a href="Op.html#delta">delta</a></span>))<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="offset_addressing">offset_addressing</a></span> (<span class="id">addr</span>: <span class="id"><a href="Op.html#addressing">addressing</a></span>) (<span class="id">delta</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Op.html#addressing">addressing</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">addr</span>' := <span class="id"><a href="Op.html#offset_addressing_total">offset_addressing_total</a></span> <span class="id"><a href="Op.html#addr">addr</a></span> <span class="id"><a href="Op.html#delta">delta</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Op.html#addressing_valid">addressing_valid</a></span> <span class="id">addr</span>' <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">addr</span>' <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_offset_addressing_total_32">eval_offset_addressing_total_32</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">F</span> <span class="id">V</span>: <span class="kwd">Type</span>) (<span class="id">ge</span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="Op.html#F">F</a></span> <span class="id"><a href="Op.html#V">V</a></span>) <span class="id">sp</span> <span class="id">addr</span> <span class="id">args</span> <span class="id">delta</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_addressing32">eval_addressing32</a></span> <span class="id"><a href="Op.html#ge">ge</a></span> <span class="id"><a href="Op.html#sp">sp</a></span> <span class="id"><a href="Op.html#addr">addr</a></span> <span class="id"><a href="Op.html#args">args</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_addressing32">eval_addressing32</a></span> <span class="id"><a href="Op.html#ge">ge</a></span> <span class="id"><a href="Op.html#sp">sp</a></span> (<span class="id"><a href="Op.html#offset_addressing_total">offset_addressing_total</a></span> <span class="id"><a href="Op.html#addr">addr</a></span> <span class="id"><a href="Op.html#delta">delta</a></span>) <span class="id"><a href="Op.html#args">args</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Val.add">Val.add</a></span> <span class="id"><a href="Op.html#v">v</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> <span class="id"><a href="Op.html#delta">delta</a></span>))).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2167')">Proof.</div>
<div class="proofscript" id="proof2167">
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">A</span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="Integers.html#Int.add">Int.add</a></span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> <span class="id"><a href="Op.html#x">x</a></span>) (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> <span class="id"><a href="Op.html#y">y</a></span>) = <span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> (<span class="id"><a href="Op.html#x">x</a></span> + <span class="id"><a href="Op.html#y">y</a></span>)).<br/>
&nbsp;&nbsp;{ <span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="Integers.html#Int.eqm_samerepr">Int.eqm_samerepr</a></span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ints</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">B</span>: <span class="kwd">forall</span> <span class="id">delta</span>, <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt; <span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id"><a href="Op.html#delta">delta</a></span> = <span class="id"><a href="Integers.html#Ptrofs.of_int">Ptrofs.of_int</a></span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> <span class="id"><a href="Op.html#delta">delta</a></span>)).<br/>
&nbsp;&nbsp;{ <span class="tactic">intros</span>; <span class="tactic">symmetry</span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ptrofs</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">addr</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="id">FuncInv</span>; <span class="tactic">subst</span>; <span class="tactic">simpl</span>.<br/>
- <span class="tactic">rewrite</span> &lt;- <span class="id">A</span>, ! <span class="id"><a href="Values.html#Val.add_assoc">Val.add_assoc</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">rewrite</span> &lt;- <span class="id">A</span>, ! <span class="id"><a href="Values.html#Val.add_assoc">Val.add_assoc</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">rewrite</span> &lt;- <span class="id">A</span>, ! <span class="id"><a href="Values.html#Val.add_assoc">Val.add_assoc</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">rewrite</span> &lt;- <span class="id">A</span>, ! <span class="id"><a href="Values.html#Val.add_assoc">Val.add_assoc</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">rewrite</span> <span class="id">B</span>, <span class="id"><a href="Globalenvs.html#Genv.shift_symbol_address_32">Genv.shift_symbol_address_32</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">auto</span>.<br/>
- <span class="tactic">rewrite</span> <span class="id">B</span>, <span class="id"><a href="Globalenvs.html#Genv.shift_symbol_address_32">Genv.shift_symbol_address_32</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">rewrite</span> ! <span class="id"><a href="Values.html#Val.add_assoc">Val.add_assoc</a></span>. <span class="tactic">do</span> 2 <span class="tactic">f_equal</span>. <span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.add_commut">Val.add_commut</a></span>.<br/>
- <span class="tactic">rewrite</span> <span class="id">B</span>, <span class="id"><a href="Globalenvs.html#Genv.shift_symbol_address_32">Genv.shift_symbol_address_32</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">rewrite</span> ! <span class="id"><a href="Values.html#Val.add_assoc">Val.add_assoc</a></span>. <span class="tactic">do</span> 2 <span class="tactic">f_equal</span>. <span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.add_commut">Val.add_commut</a></span>.<br/>
- <span class="tactic">destruct</span> <span class="id">sp</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id">Heqb</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.add_assoc">Ptrofs.add_assoc</a></span>. <span class="tactic">do</span> 4 <span class="tactic">f_equal</span>. <span class="tactic">symmetry</span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ptrofs</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_offset_addressing_total_64">eval_offset_addressing_total_64</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">F</span> <span class="id">V</span>: <span class="kwd">Type</span>) (<span class="id">ge</span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="Op.html#F">F</a></span> <span class="id"><a href="Op.html#V">V</a></span>) <span class="id">sp</span> <span class="id">addr</span> <span class="id">args</span> <span class="id">delta</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_addressing64">eval_addressing64</a></span> <span class="id"><a href="Op.html#ge">ge</a></span> <span class="id"><a href="Op.html#sp">sp</a></span> <span class="id"><a href="Op.html#addr">addr</a></span> <span class="id"><a href="Op.html#args">args</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_addressing64">eval_addressing64</a></span> <span class="id"><a href="Op.html#ge">ge</a></span> <span class="id"><a href="Op.html#sp">sp</a></span> (<span class="id"><a href="Op.html#offset_addressing_total">offset_addressing_total</a></span> <span class="id"><a href="Op.html#addr">addr</a></span> <span class="id"><a href="Op.html#delta">delta</a></span>) <span class="id"><a href="Op.html#args">args</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Val.addl">Val.addl</a></span> <span class="id"><a href="Op.html#v">v</a></span> (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> (<span class="id"><a href="Integers.html#Int64.repr">Int64.repr</a></span> <span class="id"><a href="Op.html#delta">delta</a></span>))).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2168')">Proof.</div>
<div class="proofscript" id="proof2168">
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">A</span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="Integers.html#Int64.add">Int64.add</a></span> (<span class="id"><a href="Integers.html#Int64.repr">Int64.repr</a></span> <span class="id"><a href="Op.html#x">x</a></span>) (<span class="id"><a href="Integers.html#Int64.repr">Int64.repr</a></span> <span class="id"><a href="Op.html#y">y</a></span>) = <span class="id"><a href="Integers.html#Int64.repr">Int64.repr</a></span> (<span class="id"><a href="Op.html#x">x</a></span> + <span class="id"><a href="Op.html#y">y</a></span>)).<br/>
&nbsp;&nbsp;{ <span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="Integers.html#Int64.eqm_samerepr">Int64.eqm_samerepr</a></span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ints</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">B</span>: <span class="kwd">forall</span> <span class="id">delta</span>, <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id"><a href="Op.html#delta">delta</a></span> = <span class="id"><a href="Integers.html#Ptrofs.of_int64">Ptrofs.of_int64</a></span> (<span class="id"><a href="Integers.html#Int64.repr">Int64.repr</a></span> <span class="id"><a href="Op.html#delta">delta</a></span>)).<br/>
&nbsp;&nbsp;{ <span class="tactic">intros</span>; <span class="tactic">symmetry</span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ptrofs</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">addr</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="id">FuncInv</span>; <span class="tactic">subst</span>; <span class="tactic">simpl</span>.<br/>
- <span class="tactic">rewrite</span> &lt;- <span class="id">A</span>, ! <span class="id"><a href="Values.html#Val.addl_assoc">Val.addl_assoc</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">rewrite</span> &lt;- <span class="id">A</span>, ! <span class="id"><a href="Values.html#Val.addl_assoc">Val.addl_assoc</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">rewrite</span> &lt;- <span class="id">A</span>, ! <span class="id"><a href="Values.html#Val.addl_assoc">Val.addl_assoc</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">rewrite</span> &lt;- <span class="id">A</span>, ! <span class="id"><a href="Values.html#Val.addl_assoc">Val.addl_assoc</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">rewrite</span> <span class="id">B</span>, <span class="id"><a href="Globalenvs.html#Genv.shift_symbol_address_64">Genv.shift_symbol_address_64</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">auto</span>.<br/>
- <span class="tactic">destruct</span> <span class="id">sp</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id">Heqb</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.add_assoc">Ptrofs.add_assoc</a></span>. <span class="tactic">do</span> 4 <span class="tactic">f_equal</span>. <span class="tactic">symmetry</span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ptrofs</span>.<br/>
Qed.</div>
<br/>
<div class="doc">The following lemma is used only in <span class="bracket"><span class="id">Allocproof</span></span> in cases where <span class="bracket"><span class="id">Archi.ptr64</span> = <span class="id">false</span></span>. </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_offset_addressing">eval_offset_addressing</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">F</span> <span class="id">V</span>: <span class="kwd">Type</span>) (<span class="id">ge</span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="Op.html#F">F</a></span> <span class="id"><a href="Op.html#V">V</a></span>) <span class="id">sp</span> <span class="id">addr</span> <span class="id">args</span> <span class="id">delta</span> <span class="id">addr</span>' <span class="id">v</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#offset_addressing">offset_addressing</a></span> <span class="id"><a href="Op.html#addr">addr</a></span> <span class="id"><a href="Op.html#delta">delta</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">addr</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_addressing">eval_addressing</a></span> <span class="id"><a href="Op.html#ge">ge</a></span> <span class="id"><a href="Op.html#sp">sp</a></span> <span class="id"><a href="Op.html#addr">addr</a></span> <span class="id"><a href="Op.html#args">args</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_addressing">eval_addressing</a></span> <span class="id"><a href="Op.html#ge">ge</a></span> <span class="id"><a href="Op.html#sp">sp</a></span> <span class="id">addr</span>' <span class="id"><a href="Op.html#args">args</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Val.add">Val.add</a></span> <span class="id"><a href="Op.html#v">v</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> <span class="id"><a href="Op.html#delta">delta</a></span>))).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2169')">Proof.</div>
<div class="proofscript" id="proof2169">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="Op.html#offset_addressing">offset_addressing</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Op.html#addressing_valid">addressing_valid</a></span> (<span class="id"><a href="Op.html#offset_addressing_total">offset_addressing_total</a></span> <span class="id">addr</span> <span class="id">delta</span>)); <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Op.html#eval_addressing">eval_addressing</a></span> <span class="kwd">in</span> *; <span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> *. <span class="tactic">apply</span> <span class="id"><a href="Op.html#eval_offset_addressing_total_32">eval_offset_addressing_total_32</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Operations that are so cheap to recompute that CSE should not factor them out. </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="is_trivial_op">is_trivial_op</a></span> (<span class="id">op</span>: <span class="id"><a href="Op.html#operation">operation</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Op.html#op">op</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omove">Omove</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ointconst">Ointconst</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Olongconst">Olongconst</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Olea">Olea</a></span> (<span class="id"><a href="Op.html#Aglobal">Aglobal</a></span> <span class="id">_</span> <span class="id">_</span>) =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Olea">Olea</a></span> (<span class="id"><a href="Op.html#Ainstack">Ainstack</a></span> <span class="id">_</span>) =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oleal">Oleal</a></span> (<span class="id"><a href="Op.html#Aglobal">Aglobal</a></span> <span class="id">_</span> <span class="id">_</span>) =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oleal">Oleal</a></span> (<span class="id"><a href="Op.html#Ainstack">Ainstack</a></span> <span class="id">_</span>) =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<div class="doc">Operations that depend on the memory state. </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="op_depends_on_memory">op_depends_on_memory</a></span> (<span class="id">op</span>: <span class="id"><a href="Op.html#operation">operation</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Op.html#op">op</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ocmp">Ocmp</a></span> (<span class="id"><a href="Op.html#Ccompu">Ccompu</a></span> <span class="id">_</span>) =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ocmp">Ocmp</a></span> (<span class="id"><a href="Op.html#Ccompuimm">Ccompuimm</a></span> <span class="id">_</span> <span class="id">_</span>) =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ocmp">Ocmp</a></span> (<span class="id"><a href="Op.html#Ccomplu">Ccomplu</a></span> <span class="id">_</span>) =&gt; <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ocmp">Ocmp</a></span> (<span class="id"><a href="Op.html#Ccompluimm">Ccompluimm</a></span> <span class="id">_</span> <span class="id">_</span>) =&gt; <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="op_depends_on_memory_correct">op_depends_on_memory_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">F</span> <span class="id">V</span>: <span class="kwd">Type</span>) (<span class="id">ge</span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="Op.html#F">F</a></span> <span class="id"><a href="Op.html#V">V</a></span>) <span class="id">sp</span> <span class="id">op</span> <span class="id">args</span> <span class="id">m1</span> <span class="id">m2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#op_depends_on_memory">op_depends_on_memory</a></span> <span class="id"><a href="Op.html#op">op</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_operation">eval_operation</a></span> <span class="id"><a href="Op.html#ge">ge</a></span> <span class="id"><a href="Op.html#sp">sp</a></span> <span class="id"><a href="Op.html#op">op</a></span> <span class="id"><a href="Op.html#args">args</a></span> <span class="id"><a href="Op.html#m1">m1</a></span> = <span class="id"><a href="Op.html#eval_operation">eval_operation</a></span> <span class="id"><a href="Op.html#ge">ge</a></span> <span class="id"><a href="Op.html#sp">sp</a></span> <span class="id"><a href="Op.html#op">op</a></span> <span class="id"><a href="Op.html#args">args</a></span> <span class="id"><a href="Op.html#m2">m2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2170')">Proof.</div>
<div class="proofscript" id="proof2170">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">m2</span>. <span class="tactic">destruct</span> <span class="id">op</span>; <span class="tactic">simpl</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">cond</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span> <span class="id">SF</span>; <span class="tactic">auto</span>; <span class="tactic">rewrite</span> ? <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#negb_false_iff">negb_false_iff</a></span> <span class="kwd">in</span> <span class="id">SF</span>;<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span>, <span class="id"><a href="Values.html#Val.cmplu_bool">Val.cmplu_bool</a></span>; <span class="tactic">rewrite</span> <span class="id">SF</span>; <span class="tactic">reflexivity</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Global variables mentioned in an operation or addressing mode </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="globals_addressing">globals_addressing</a></span> (<span class="id">addr</span>: <span class="id"><a href="Op.html#addressing">addressing</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="AST.html#ident">ident</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Op.html#addr">addr</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Aglobal">Aglobal</a></span> <span class="id">s</span> <span class="id">n</span> =&gt; <span class="id">s</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Abased">Abased</a></span> <span class="id">s</span> <span class="id">n</span> =&gt; <span class="id">s</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Abasedscaled">Abasedscaled</a></span> <span class="id">sc</span> <span class="id">s</span> <span class="id">n</span> =&gt; <span class="id">s</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="globals_operation">globals_operation</a></span> (<span class="id">op</span>: <span class="id"><a href="Op.html#operation">operation</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="AST.html#ident">ident</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Op.html#op">op</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oindirectsymbol">Oindirectsymbol</a></span> <span class="id">s</span> =&gt; <span class="id">s</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Olea">Olea</a></span> <span class="id">addr</span> =&gt; <span class="id"><a href="Op.html#globals_addressing">globals_addressing</a></span> <span class="id">addr</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oleal">Oleal</a></span> <span class="id">addr</span> =&gt; <span class="id"><a href="Op.html#globals_addressing">globals_addressing</a></span> <span class="id">addr</span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<h1> Invariance and compatibility properties. </h1>
<br/>
<div class="doc"><span class="bracket"><span class="id">eval_operation</span></span> and <span class="bracket"><span class="id">eval_addressing</span></span> depend on a global environment
  for resolving references to global symbols.  We show that they give
  the same results if a global environment is replaced by another that
  assigns the same addresses to the same symbols. </div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="GENV_TRANSF">GENV_TRANSF</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="GENV_TRANSF.F1">F1</a></span> <span class="id"><a name="GENV_TRANSF.F2">F2</a></span> <span class="id"><a name="GENV_TRANSF.V1">V1</a></span> <span class="id"><a name="GENV_TRANSF.V2">V2</a></span>: <span class="kwd">Type</span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="GENV_TRANSF.ge1">ge1</a></span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="Op.html#GENV_TRANSF.F1">F1</a></span> <span class="id"><a href="Op.html#GENV_TRANSF.V1">V1</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="GENV_TRANSF.ge2">ge2</a></span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="Op.html#GENV_TRANSF.F2">F2</a></span> <span class="id"><a href="Op.html#GENV_TRANSF.V2">V2</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="GENV_TRANSF.agree_on_symbols">agree_on_symbols</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">s</span>: <span class="id"><a href="AST.html#ident">ident</a></span>), <span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="Op.html#GENV_TRANSF.ge2">ge2</a></span> <span class="id"><a href="Op.html#s">s</a></span> = <span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="Op.html#GENV_TRANSF.ge1">ge1</a></span> <span class="id"><a href="Op.html#s">s</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_addressing32_preserved">eval_addressing32_preserved</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">sp</span> <span class="id">addr</span> <span class="id">vl</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_addressing32">eval_addressing32</a></span> <span class="id"><a href="Op.html#GENV_TRANSF.ge2">ge2</a></span> <span class="id"><a href="Op.html#sp">sp</a></span> <span class="id"><a href="Op.html#addr">addr</a></span> <span class="id"><a href="Op.html#vl">vl</a></span> = <span class="id"><a href="Op.html#eval_addressing32">eval_addressing32</a></span> <span class="id"><a href="Op.html#GENV_TRANSF.ge1">ge1</a></span> <span class="id"><a href="Op.html#sp">sp</a></span> <span class="id"><a href="Op.html#addr">addr</a></span> <span class="id"><a href="Op.html#vl">vl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2171')">Proof.</div>
<div class="proofscript" id="proof2171">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Op.html#eval_addressing32">eval_addressing32</a></span>, <span class="id"><a href="Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span>; <span class="tactic">destruct</span> <span class="id">addr</span>; <span class="tactic">try</span> <span class="tactic">rewrite</span> <span class="id"><a href="Op.html#GENV_TRANSF.agree_on_symbols">agree_on_symbols</a></span>;<br/>
&nbsp;&nbsp;<span class="tactic">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_addressing64_preserved">eval_addressing64_preserved</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">sp</span> <span class="id">addr</span> <span class="id">vl</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_addressing64">eval_addressing64</a></span> <span class="id"><a href="Op.html#GENV_TRANSF.ge2">ge2</a></span> <span class="id"><a href="Op.html#sp">sp</a></span> <span class="id"><a href="Op.html#addr">addr</a></span> <span class="id"><a href="Op.html#vl">vl</a></span> = <span class="id"><a href="Op.html#eval_addressing64">eval_addressing64</a></span> <span class="id"><a href="Op.html#GENV_TRANSF.ge1">ge1</a></span> <span class="id"><a href="Op.html#sp">sp</a></span> <span class="id"><a href="Op.html#addr">addr</a></span> <span class="id"><a href="Op.html#vl">vl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2172')">Proof.</div>
<div class="proofscript" id="proof2172">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Op.html#eval_addressing64">eval_addressing64</a></span>, <span class="id"><a href="Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span>; <span class="tactic">destruct</span> <span class="id">addr</span>; <span class="tactic">try</span> <span class="tactic">rewrite</span> <span class="id"><a href="Op.html#GENV_TRANSF.agree_on_symbols">agree_on_symbols</a></span>;<br/>
&nbsp;&nbsp;<span class="tactic">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_addressing_preserved">eval_addressing_preserved</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">sp</span> <span class="id">addr</span> <span class="id">vl</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_addressing">eval_addressing</a></span> <span class="id"><a href="Op.html#GENV_TRANSF.ge2">ge2</a></span> <span class="id"><a href="Op.html#sp">sp</a></span> <span class="id"><a href="Op.html#addr">addr</a></span> <span class="id"><a href="Op.html#vl">vl</a></span> = <span class="id"><a href="Op.html#eval_addressing">eval_addressing</a></span> <span class="id"><a href="Op.html#GENV_TRANSF.ge1">ge1</a></span> <span class="id"><a href="Op.html#sp">sp</a></span> <span class="id"><a href="Op.html#addr">addr</a></span> <span class="id"><a href="Op.html#vl">vl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2173')">Proof.</div>
<div class="proofscript" id="proof2173">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Op.html#eval_addressing">eval_addressing</a></span>; <span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span>; <span class="tactic">auto</span> <span class="kwd">using</span> <span class="id"><a href="Op.html#eval_addressing32_preserved">eval_addressing32_preserved</a></span>, <span class="id"><a href="Op.html#eval_addressing64_preserved">eval_addressing64_preserved</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_operation_preserved">eval_operation_preserved</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">sp</span> <span class="id">op</span> <span class="id">vl</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_operation">eval_operation</a></span> <span class="id"><a href="Op.html#GENV_TRANSF.ge2">ge2</a></span> <span class="id"><a href="Op.html#sp">sp</a></span> <span class="id"><a href="Op.html#op">op</a></span> <span class="id"><a href="Op.html#vl">vl</a></span> <span class="id"><a href="Op.html#m">m</a></span> = <span class="id"><a href="Op.html#eval_operation">eval_operation</a></span> <span class="id"><a href="Op.html#GENV_TRANSF.ge1">ge1</a></span> <span class="id"><a href="Op.html#sp">sp</a></span> <span class="id"><a href="Op.html#op">op</a></span> <span class="id"><a href="Op.html#vl">vl</a></span> <span class="id"><a href="Op.html#m">m</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2174')">Proof.</div>
<div class="proofscript" id="proof2174">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Op.html#eval_operation">eval_operation</a></span>; <span class="tactic">destruct</span> <span class="id">op</span>; <span class="tactic">auto</span> <span class="kwd">using</span> <span class="id"><a href="Op.html#eval_addressing32_preserved">eval_addressing32_preserved</a></span>, <span class="id"><a href="Op.html#eval_addressing64_preserved">eval_addressing64_preserved</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Op.html#GENV_TRANSF.agree_on_symbols">agree_on_symbols</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="Op.html#GENV_TRANSF">GENV_TRANSF</a></span>.<br/>
<br/>
<div class="doc">Compatibility of the evaluation functions with value injections. </div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="EVAL_COMPAT">EVAL_COMPAT</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="EVAL_COMPAT.F1">F1</a></span> <span class="id"><a name="EVAL_COMPAT.F2">F2</a></span> <span class="id"><a name="EVAL_COMPAT.V1">V1</a></span> <span class="id"><a name="EVAL_COMPAT.V2">V2</a></span>: <span class="kwd">Type</span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="EVAL_COMPAT.ge1">ge1</a></span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.F1">F1</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.V1">V1</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="EVAL_COMPAT.ge2">ge2</a></span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.F2">F2</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.V2">V2</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="EVAL_COMPAT.f">f</a></span>: <span class="id"><a href="Values.html#meminj">meminj</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="EVAL_COMPAT.m1">m1</a></span>: <span class="id"><a href="Memory.html#mem">mem</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="EVAL_COMPAT.m2">m2</a></span>: <span class="id"><a href="Memory.html#mem">mem</a></span>.<br/>
<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="EVAL_COMPAT.valid_pointer_inj">valid_pointer_inj</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b1</span> <span class="id">ofs</span> <span class="id">b2</span> <span class="id">delta</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#EVAL_COMPAT.f">f</a></span> <span class="id"><a href="Op.html#b1">b1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Op.html#b2">b2</a></span>, <span class="id"><a href="Op.html#delta">delta</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.m1">m1</a></span> <span class="id"><a href="Op.html#b1">b1</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="Op.html#ofs">ofs</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.m2">m2</a></span> <span class="id"><a href="Op.html#b2">b2</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> (<span class="id"><a href="Integers.html#Ptrofs.add">Ptrofs.add</a></span> <span class="id"><a href="Op.html#ofs">ofs</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id"><a href="Op.html#delta">delta</a></span>))) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="EVAL_COMPAT.weak_valid_pointer_inj">weak_valid_pointer_inj</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b1</span> <span class="id">ofs</span> <span class="id">b2</span> <span class="id">delta</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#EVAL_COMPAT.f">f</a></span> <span class="id"><a href="Op.html#b1">b1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Op.html#b2">b2</a></span>, <span class="id"><a href="Op.html#delta">delta</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.m1">m1</a></span> <span class="id"><a href="Op.html#b1">b1</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="Op.html#ofs">ofs</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.m2">m2</a></span> <span class="id"><a href="Op.html#b2">b2</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> (<span class="id"><a href="Integers.html#Ptrofs.add">Ptrofs.add</a></span> <span class="id"><a href="Op.html#ofs">ofs</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id"><a href="Op.html#delta">delta</a></span>))) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="EVAL_COMPAT.weak_valid_pointer_no_overflow">weak_valid_pointer_no_overflow</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b1</span> <span class="id">ofs</span> <span class="id">b2</span> <span class="id">delta</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#EVAL_COMPAT.f">f</a></span> <span class="id"><a href="Op.html#b1">b1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Op.html#b2">b2</a></span>, <span class="id"><a href="Op.html#delta">delta</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.m1">m1</a></span> <span class="id"><a href="Op.html#b1">b1</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="Op.html#ofs">ofs</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;0 &lt;= <span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="Op.html#ofs">ofs</a></span> + <span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id"><a href="Op.html#delta">delta</a></span>) &lt;= <span class="id"><a href="Integers.html#Ptrofs.max_unsigned">Ptrofs.max_unsigned</a></span>.<br/>
<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="EVAL_COMPAT.valid_different_pointers_inj">valid_different_pointers_inj</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b1</span> <span class="id">ofs1</span> <span class="id">b2</span> <span class="id">ofs2</span> <span class="id">b1</span>' <span class="id">delta1</span> <span class="id">b2</span>' <span class="id">delta2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#b1">b1</a></span> &lt;&gt; <span class="id"><a href="Op.html#b2">b2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.m1">m1</a></span> <span class="id"><a href="Op.html#b1">b1</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="Op.html#ofs1">ofs1</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.m1">m1</a></span> <span class="id"><a href="Op.html#b2">b2</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="Op.html#ofs2">ofs2</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#EVAL_COMPAT.f">f</a></span> <span class="id"><a href="Op.html#b1">b1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">b1</span>', <span class="id"><a href="Op.html#delta1">delta1</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#EVAL_COMPAT.f">f</a></span> <span class="id"><a href="Op.html#b2">b2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">b2</span>', <span class="id"><a href="Op.html#delta2">delta2</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id">b1</span>' &lt;&gt; <span class="id">b2</span>' \/<br/>
&nbsp;&nbsp;<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> (<span class="id"><a href="Integers.html#Ptrofs.add">Ptrofs.add</a></span> <span class="id"><a href="Op.html#ofs1">ofs1</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id"><a href="Op.html#delta1">delta1</a></span>)) &lt;&gt; <span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> (<span class="id"><a href="Integers.html#Ptrofs.add">Ptrofs.add</a></span> <span class="id"><a href="Op.html#ofs2">ofs2</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id"><a href="Op.html#delta2">delta2</a></span>)).<br/>
<br/>
<span class="kwd">Ltac</span> <span class="id">InvInject</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id">_</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">_</span>) <span class="id">_</span> |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="id">InvInject</span><br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id">_</span> (<span class="id"><a href="Values.html#Vfloat">Vfloat</a></span> <span class="id">_</span>) <span class="id">_</span> |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="id">InvInject</span><br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id">_</span> (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">_</span> <span class="id">_</span>) <span class="id">_</span> |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="id">InvInject</span><br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="id"><a href="Values.html#Val.inject_list">Val.inject_list</a></span> <span class="id">_</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id">_</span> |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="id">InvInject</span><br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="id"><a href="Values.html#Val.inject_list">Val.inject_list</a></span> <span class="id">_</span> (<span class="id">_</span> :: <span class="id">_</span>) <span class="id">_</span> |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="id">InvInject</span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id">idtac</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_condition_inj">eval_condition_inj</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">cond</span> <span class="id">vl1</span> <span class="id">vl2</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.inject_list">Val.inject_list</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.f">f</a></span> <span class="id"><a href="Op.html#vl1">vl1</a></span> <span class="id"><a href="Op.html#vl2">vl2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_condition">eval_condition</a></span> <span class="id"><a href="Op.html#cond">cond</a></span> <span class="id"><a href="Op.html#vl1">vl1</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.m1">m1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_condition">eval_condition</a></span> <span class="id"><a href="Op.html#cond">cond</a></span> <span class="id"><a href="Op.html#vl2">vl2</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.m2">m2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op.html#b">b</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2175')">Proof.</div>
<div class="proofscript" id="proof2175">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">cond</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="id">FuncInv</span>; <span class="id">InvInject</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
- <span class="id">inv</span> <span class="id">H3</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="id">inv</span> <span class="id">H0</span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">eauto</span> 3 <span class="kwd">using</span> <span class="id"><a href="Values.html#Val.cmpu_bool_inject">Val.cmpu_bool_inject</a></span>, <span class="id"><a href="Memory.html#Mem.valid_pointer_implies">Mem.valid_pointer_implies</a></span>.<br/>
- <span class="id">inv</span> <span class="id">H3</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="id">inv</span> <span class="id">H0</span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">eauto</span> 3 <span class="kwd">using</span> <span class="id"><a href="Values.html#Val.cmpu_bool_inject">Val.cmpu_bool_inject</a></span>, <span class="id"><a href="Memory.html#Mem.valid_pointer_implies">Mem.valid_pointer_implies</a></span>.<br/>
- <span class="id">inv</span> <span class="id">H3</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="id">inv</span> <span class="id">H0</span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">eauto</span> 3 <span class="kwd">using</span> <span class="id"><a href="Values.html#Val.cmplu_bool_inject">Val.cmplu_bool_inject</a></span>, <span class="id"><a href="Memory.html#Mem.valid_pointer_implies">Mem.valid_pointer_implies</a></span>.<br/>
- <span class="id">inv</span> <span class="id">H3</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="id">inv</span> <span class="id">H0</span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">eauto</span> 3 <span class="kwd">using</span> <span class="id"><a href="Values.html#Val.cmplu_bool_inject">Val.cmplu_bool_inject</a></span>, <span class="id"><a href="Memory.html#Mem.valid_pointer_implies">Mem.valid_pointer_implies</a></span>.<br/>
- <span class="id">inv</span> <span class="id">H3</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="id">inv</span> <span class="id">H0</span>; <span class="tactic">auto</span>.<br/>
- <span class="id">inv</span> <span class="id">H3</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="id">inv</span> <span class="id">H0</span>; <span class="tactic">auto</span>.<br/>
- <span class="id">inv</span> <span class="id">H3</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="id">inv</span> <span class="id">H0</span>; <span class="tactic">auto</span>.<br/>
- <span class="id">inv</span> <span class="id">H3</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="id">inv</span> <span class="id">H0</span>; <span class="tactic">auto</span>.<br/>
- <span class="id">inv</span> <span class="id">H3</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>; <span class="tactic">auto</span>.<br/>
- <span class="id">inv</span> <span class="id">H3</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Ltac</span> <span class="id">TrivialExists</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| [ |- <span class="id">exists</span> <span class="id">v2</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> ?<span class="id">v1</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op.html#v2">v2</a></span> /\ <span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="Op.html#v2">v2</a></span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v1</span>; <span class="tactic">split</span>; <span class="tactic">auto</span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id">idtac</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_addressing32_inj">eval_addressing32_inj</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">addr</span> <span class="id">sp1</span> <span class="id">vl1</span> <span class="id">sp2</span> <span class="id">vl2</span> <span class="id">v1</span>,<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">id</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="Op.html#id">id</a></span> (<span class="id"><a href="Op.html#globals_addressing">globals_addressing</a></span> <span class="id"><a href="Op.html#addr">addr</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.f">f</a></span> (<span class="id"><a href="Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.ge1">ge1</a></span> <span class="id"><a href="Op.html#id">id</a></span> <span class="id"><a href="Op.html#ofs">ofs</a></span>) (<span class="id"><a href="Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.ge2">ge2</a></span> <span class="id"><a href="Op.html#id">id</a></span> <span class="id"><a href="Op.html#ofs">ofs</a></span>)) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.f">f</a></span> <span class="id"><a href="Op.html#sp1">sp1</a></span> <span class="id"><a href="Op.html#sp2">sp2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.inject_list">Val.inject_list</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.f">f</a></span> <span class="id"><a href="Op.html#vl1">vl1</a></span> <span class="id"><a href="Op.html#vl2">vl2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_addressing32">eval_addressing32</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.ge1">ge1</a></span> <span class="id"><a href="Op.html#sp1">sp1</a></span> <span class="id"><a href="Op.html#addr">addr</a></span> <span class="id"><a href="Op.html#vl1">vl1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op.html#v1">v1</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v2</span>, <span class="id"><a href="Op.html#eval_addressing32">eval_addressing32</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.ge2">ge2</a></span> <span class="id"><a href="Op.html#sp2">sp2</a></span> <span class="id"><a href="Op.html#addr">addr</a></span> <span class="id"><a href="Op.html#vl2">vl2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op.html#v2">v2</a></span> /\ <span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.f">f</a></span> <span class="id"><a href="Op.html#v1">v1</a></span> <span class="id"><a href="Op.html#v2">v2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2176')">Proof.</div>
<div class="proofscript" id="proof2176">
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">A</span>: <span class="kwd">forall</span> <span class="id">v1</span> <span class="id">v2</span> <span class="id">v1</span>' <span class="id">v2</span>', <span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.f">f</a></span> <span class="id"><a href="Op.html#v1">v1</a></span> <span class="id">v1</span>' -&gt; <span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.f">f</a></span> <span class="id"><a href="Op.html#v2">v2</a></span> <span class="id">v2</span>' -&gt; <span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.f">f</a></span> (<span class="id"><a href="Values.html#Val.mul">Val.mul</a></span> <span class="id"><a href="Op.html#v1">v1</a></span> <span class="id"><a href="Op.html#v2">v2</a></span>) (<span class="id"><a href="Values.html#Val.mul">Val.mul</a></span> <span class="id">v1</span>' <span class="id">v2</span>')).<br/>
&nbsp;&nbsp;{ <span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="id">inv</span> <span class="id">H0</span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">addr</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="id">FuncInv</span>; <span class="id">InvInject</span>; <span class="id">TrivialExists</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Values.html#Val.add_inject">Val.add_inject</a></span>, <span class="id"><a href="Values.html#Val.offset_ptr_inject">Val.offset_ptr_inject</a></span> <span class="kwd">with</span> <span class="id">coqlib</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_addressing64_inj">eval_addressing64_inj</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">addr</span> <span class="id">sp1</span> <span class="id">vl1</span> <span class="id">sp2</span> <span class="id">vl2</span> <span class="id">v1</span>,<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">id</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="Op.html#id">id</a></span> (<span class="id"><a href="Op.html#globals_addressing">globals_addressing</a></span> <span class="id"><a href="Op.html#addr">addr</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.f">f</a></span> (<span class="id"><a href="Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.ge1">ge1</a></span> <span class="id"><a href="Op.html#id">id</a></span> <span class="id"><a href="Op.html#ofs">ofs</a></span>) (<span class="id"><a href="Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.ge2">ge2</a></span> <span class="id"><a href="Op.html#id">id</a></span> <span class="id"><a href="Op.html#ofs">ofs</a></span>)) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.f">f</a></span> <span class="id"><a href="Op.html#sp1">sp1</a></span> <span class="id"><a href="Op.html#sp2">sp2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.inject_list">Val.inject_list</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.f">f</a></span> <span class="id"><a href="Op.html#vl1">vl1</a></span> <span class="id"><a href="Op.html#vl2">vl2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_addressing64">eval_addressing64</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.ge1">ge1</a></span> <span class="id"><a href="Op.html#sp1">sp1</a></span> <span class="id"><a href="Op.html#addr">addr</a></span> <span class="id"><a href="Op.html#vl1">vl1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op.html#v1">v1</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v2</span>, <span class="id"><a href="Op.html#eval_addressing64">eval_addressing64</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.ge2">ge2</a></span> <span class="id"><a href="Op.html#sp2">sp2</a></span> <span class="id"><a href="Op.html#addr">addr</a></span> <span class="id"><a href="Op.html#vl2">vl2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op.html#v2">v2</a></span> /\ <span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.f">f</a></span> <span class="id"><a href="Op.html#v1">v1</a></span> <span class="id"><a href="Op.html#v2">v2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2177')">Proof.</div>
<div class="proofscript" id="proof2177">
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">A</span>: <span class="kwd">forall</span> <span class="id">v1</span> <span class="id">v2</span> <span class="id">v1</span>' <span class="id">v2</span>', <span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.f">f</a></span> <span class="id"><a href="Op.html#v1">v1</a></span> <span class="id">v1</span>' -&gt; <span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.f">f</a></span> <span class="id"><a href="Op.html#v2">v2</a></span> <span class="id">v2</span>' -&gt; <span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.f">f</a></span> (<span class="id"><a href="Values.html#Val.mull">Val.mull</a></span> <span class="id"><a href="Op.html#v1">v1</a></span> <span class="id"><a href="Op.html#v2">v2</a></span>) (<span class="id"><a href="Values.html#Val.mull">Val.mull</a></span> <span class="id">v1</span>' <span class="id">v2</span>')).<br/>
&nbsp;&nbsp;{ <span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="id">inv</span> <span class="id">H0</span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">addr</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="id">FuncInv</span>; <span class="id">InvInject</span>; <span class="id">TrivialExists</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Values.html#Val.addl_inject">Val.addl_inject</a></span>, <span class="id"><a href="Values.html#Val.offset_ptr_inject">Val.offset_ptr_inject</a></span> <span class="kwd">with</span> <span class="id">coqlib</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_addressing_inj">eval_addressing_inj</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">addr</span> <span class="id">sp1</span> <span class="id">vl1</span> <span class="id">sp2</span> <span class="id">vl2</span> <span class="id">v1</span>,<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">id</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="Op.html#id">id</a></span> (<span class="id"><a href="Op.html#globals_addressing">globals_addressing</a></span> <span class="id"><a href="Op.html#addr">addr</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.f">f</a></span> (<span class="id"><a href="Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.ge1">ge1</a></span> <span class="id"><a href="Op.html#id">id</a></span> <span class="id"><a href="Op.html#ofs">ofs</a></span>) (<span class="id"><a href="Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.ge2">ge2</a></span> <span class="id"><a href="Op.html#id">id</a></span> <span class="id"><a href="Op.html#ofs">ofs</a></span>)) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.f">f</a></span> <span class="id"><a href="Op.html#sp1">sp1</a></span> <span class="id"><a href="Op.html#sp2">sp2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.inject_list">Val.inject_list</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.f">f</a></span> <span class="id"><a href="Op.html#vl1">vl1</a></span> <span class="id"><a href="Op.html#vl2">vl2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_addressing">eval_addressing</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.ge1">ge1</a></span> <span class="id"><a href="Op.html#sp1">sp1</a></span> <span class="id"><a href="Op.html#addr">addr</a></span> <span class="id"><a href="Op.html#vl1">vl1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op.html#v1">v1</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v2</span>, <span class="id"><a href="Op.html#eval_addressing">eval_addressing</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.ge2">ge2</a></span> <span class="id"><a href="Op.html#sp2">sp2</a></span> <span class="id"><a href="Op.html#addr">addr</a></span> <span class="id"><a href="Op.html#vl2">vl2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op.html#v2">v2</a></span> /\ <span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.f">f</a></span> <span class="id"><a href="Op.html#v1">v1</a></span> <span class="id"><a href="Op.html#v2">v2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2178')">Proof.</div>
<div class="proofscript" id="proof2178">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Op.html#eval_addressing">eval_addressing</a></span>; <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Op.html#eval_addressing32_inj">eval_addressing32_inj</a></span>, <span class="id"><a href="Op.html#eval_addressing64_inj">eval_addressing64_inj</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_operation_inj">eval_operation_inj</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">op</span> <span class="id">sp1</span> <span class="id">vl1</span> <span class="id">sp2</span> <span class="id">vl2</span> <span class="id">v1</span>,<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">id</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="Op.html#id">id</a></span> (<span class="id"><a href="Op.html#globals_operation">globals_operation</a></span> <span class="id"><a href="Op.html#op">op</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.f">f</a></span> (<span class="id"><a href="Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.ge1">ge1</a></span> <span class="id"><a href="Op.html#id">id</a></span> <span class="id"><a href="Op.html#ofs">ofs</a></span>) (<span class="id"><a href="Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.ge2">ge2</a></span> <span class="id"><a href="Op.html#id">id</a></span> <span class="id"><a href="Op.html#ofs">ofs</a></span>)) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.f">f</a></span> <span class="id"><a href="Op.html#sp1">sp1</a></span> <span class="id"><a href="Op.html#sp2">sp2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.inject_list">Val.inject_list</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.f">f</a></span> <span class="id"><a href="Op.html#vl1">vl1</a></span> <span class="id"><a href="Op.html#vl2">vl2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_operation">eval_operation</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.ge1">ge1</a></span> <span class="id"><a href="Op.html#sp1">sp1</a></span> <span class="id"><a href="Op.html#op">op</a></span> <span class="id"><a href="Op.html#vl1">vl1</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.m1">m1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op.html#v1">v1</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v2</span>, <span class="id"><a href="Op.html#eval_operation">eval_operation</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.ge2">ge2</a></span> <span class="id"><a href="Op.html#sp2">sp2</a></span> <span class="id"><a href="Op.html#op">op</a></span> <span class="id"><a href="Op.html#vl2">vl2</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.m2">m2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op.html#v2">v2</a></span> /\ <span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="Op.html#EVAL_COMPAT.f">f</a></span> <span class="id"><a href="Op.html#v1">v1</a></span> <span class="id"><a href="Op.html#v2">v2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2179')">Proof.</div>
<div class="proofscript" id="proof2179">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">v1</span>; <span class="tactic">intros</span> <span class="id">GL</span>; <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">op</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="tactic">simpl</span>; <span class="id">FuncInv</span>; <span class="id">InvInject</span>; <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">GL</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.sub_inject">Val.sub_inject</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="id">inv</span> <span class="id">H3</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="id">inv</span> <span class="id">H1</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id">i0</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span> || <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id">i</span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> <span class="id"><a href="Integers.html#Int.min_signed">Int.min_signed</a></span>) &amp;&amp; <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id">i0</span> <span class="id"><a href="Integers.html#Int.mone">Int.mone</a></span>); <span class="id">inv</span> <span class="id">H2</span>. <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="id">inv</span> <span class="id">H3</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="id">inv</span> <span class="id">H1</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id">i0</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>); <span class="id">inv</span> <span class="id">H2</span>. <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="id">inv</span> <span class="id">H3</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="id">inv</span> <span class="id">H1</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id">i0</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span> || <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id">i</span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> <span class="id"><a href="Integers.html#Int.min_signed">Int.min_signed</a></span>) &amp;&amp; <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id">i0</span> <span class="id"><a href="Integers.html#Int.mone">Int.mone</a></span>); <span class="id">inv</span> <span class="id">H2</span>. <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="id">inv</span> <span class="id">H3</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="id">inv</span> <span class="id">H1</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id">i0</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>); <span class="id">inv</span> <span class="id">H2</span>. <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">i0</span> <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n</span> <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">i0</span> <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n</span> <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n</span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> 31)); <span class="id">inv</span> <span class="id">H1</span>. <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">i0</span> <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n</span> <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n</span> <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span> <span class="id">n</span>) <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Op.html#eval_addressing32_inj">eval_addressing32_inj</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.addl_inject">Val.addl_inject</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.subl_inject">Val.subl_inject</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="id">inv</span> <span class="id">H3</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="id">inv</span> <span class="id">H1</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i0</span> <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span> || <span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i</span> (<span class="id"><a href="Integers.html#Int64.repr">Int64.repr</a></span> <span class="id"><a href="Integers.html#Int64.min_signed">Int64.min_signed</a></span>) &amp;&amp; <span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i0</span> <span class="id"><a href="Integers.html#Int64.mone">Int64.mone</a></span>); <span class="id">inv</span> <span class="id">H2</span>. <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="id">inv</span> <span class="id">H3</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="id">inv</span> <span class="id">H1</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i0</span> <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span>); <span class="id">inv</span> <span class="id">H2</span>. <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="id">inv</span> <span class="id">H3</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="id">inv</span> <span class="id">H1</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i0</span> <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span> || <span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i</span> (<span class="id"><a href="Integers.html#Int64.repr">Int64.repr</a></span> <span class="id"><a href="Integers.html#Int64.min_signed">Int64.min_signed</a></span>) &amp;&amp; <span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i0</span> <span class="id"><a href="Integers.html#Int64.mone">Int64.mone</a></span>); <span class="id">inv</span> <span class="id">H2</span>. <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="id">inv</span> <span class="id">H3</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="id">inv</span> <span class="id">H1</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i0</span> <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span>); <span class="id">inv</span> <span class="id">H2</span>. <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">i0</span> <span class="id">Int64.iwordsize</span>'); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n</span> <span class="id">Int64.iwordsize</span>'); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">i0</span> <span class="id">Int64.iwordsize</span>'); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n</span> <span class="id">Int64.iwordsize</span>'); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="tactic">simpl</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n</span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> 63)); <span class="id">inv</span> <span class="id">H1</span>. <span class="id">TrivialExists</span>. <br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">i0</span> <span class="id">Int64.iwordsize</span>'); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n</span> <span class="id">Int64.iwordsize</span>'); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Op.html#eval_addressing64_inj">eval_addressing64_inj</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="id">inv</span> <span class="id">H1</span>. <span class="tactic">simpl</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Floats.html#Float.to_int">Float.to_int</a></span> <span class="id">f0</span>); <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">i</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="id">inv</span> <span class="id">H1</span>. <span class="tactic">simpl</span>. <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="id">inv</span> <span class="id">H1</span>. <span class="tactic">simpl</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Floats.html#Float32.to_int">Float32.to_int</a></span> <span class="id">f0</span>); <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">i</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="id">inv</span> <span class="id">H1</span>. <span class="tactic">simpl</span>. <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="id">inv</span> <span class="id">H1</span>. <span class="tactic">simpl</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Floats.html#Float.to_long">Float.to_long</a></span> <span class="id">f0</span>); <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">i</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="id">inv</span> <span class="id">H1</span>. <span class="tactic">simpl</span>. <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="id">inv</span> <span class="id">H1</span>. <span class="tactic">simpl</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Floats.html#Float32.to_long">Float32.to_long</a></span> <span class="id">f0</span>); <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">i</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="id">inv</span> <span class="id">H1</span>. <span class="tactic">simpl</span>. <span class="id">TrivialExists</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Coqlib.html#option_map">option_map</a></span>, <span class="id"><a href="Values.html#Val.of_bool">Val.of_bool</a></span> <span class="kwd">in</span> <span class="id">H1</span>|-* . <span class="tactic">destruct</span> (<span class="id"><a href="Op.html#eval_condition">eval_condition</a></span> <span class="id">cond</span> <span class="id">vl1</span> <span class="id"><a href="Op.html#EVAL_COMPAT.m1">m1</a></span>) <span class="id">eqn</span>:?.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Op.html#eval_condition_inj">eval_condition_inj</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">EQ</span>; <span class="tactic">rewrite</span> <span class="id">EQ</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v1</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> <span class="id">b</span>; <span class="id">inv</span> <span class="id">H1</span>; <span class="tactic">simpl</span>; <span class="tactic">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">discriminate</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="Op.html#EVAL_COMPAT">EVAL_COMPAT</a></span>.<br/>
<br/>
<div class="doc">Compatibility of the evaluation functions with the ``is less defined'' relation over values. </div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="EVAL_LESSDEF">EVAL_LESSDEF</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="EVAL_LESSDEF.F">F</a></span> <span class="id"><a name="EVAL_LESSDEF.V">V</a></span>: <span class="kwd">Type</span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="EVAL_LESSDEF.genv">genv</a></span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="Op.html#EVAL_LESSDEF.F">F</a></span> <span class="id"><a href="Op.html#EVAL_LESSDEF.V">V</a></span>.<br/>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="valid_pointer_extends">valid_pointer_extends</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m1</span> <span class="id">m2</span>, <span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="Op.html#m1">m1</a></span> <span class="id"><a href="Op.html#m2">m2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b1</span> <span class="id">ofs</span> <span class="id">b2</span> <span class="id">delta</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Op.html#b1">b1</a></span>, 0) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Op.html#b2">b2</a></span>, <span class="id"><a href="Op.html#delta">delta</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id"><a href="Op.html#m1">m1</a></span> <span class="id"><a href="Op.html#b1">b1</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="Op.html#ofs">ofs</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id"><a href="Op.html#m2">m2</a></span> <span class="id"><a href="Op.html#b2">b2</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> (<span class="id"><a href="Integers.html#Ptrofs.add">Ptrofs.add</a></span> <span class="id"><a href="Op.html#ofs">ofs</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id"><a href="Op.html#delta">delta</a></span>))) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2180')">Proof.</div>
<div class="proofscript" id="proof2180">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.valid_pointer_extends">Mem.valid_pointer_extends</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="weak_valid_pointer_extends">weak_valid_pointer_extends</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m1</span> <span class="id">m2</span>, <span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="Op.html#m1">m1</a></span> <span class="id"><a href="Op.html#m2">m2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b1</span> <span class="id">ofs</span> <span class="id">b2</span> <span class="id">delta</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Op.html#b1">b1</a></span>, 0) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Op.html#b2">b2</a></span>, <span class="id"><a href="Op.html#delta">delta</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id"><a href="Op.html#m1">m1</a></span> <span class="id"><a href="Op.html#b1">b1</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="Op.html#ofs">ofs</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id"><a href="Op.html#m2">m2</a></span> <span class="id"><a href="Op.html#b2">b2</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> (<span class="id"><a href="Integers.html#Ptrofs.add">Ptrofs.add</a></span> <span class="id"><a href="Op.html#ofs">ofs</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id"><a href="Op.html#delta">delta</a></span>))) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2181')">Proof.</div>
<div class="proofscript" id="proof2181">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.weak_valid_pointer_extends">Mem.weak_valid_pointer_extends</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="weak_valid_pointer_no_overflow_extends">weak_valid_pointer_no_overflow_extends</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m1</span> <span class="id">b1</span> <span class="id">ofs</span> <span class="id">b2</span> <span class="id">delta</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Op.html#b1">b1</a></span>, 0) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Op.html#b2">b2</a></span>, <span class="id"><a href="Op.html#delta">delta</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id"><a href="Op.html#m1">m1</a></span> <span class="id"><a href="Op.html#b1">b1</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="Op.html#ofs">ofs</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;0 &lt;= <span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="Op.html#ofs">ofs</a></span> + <span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id"><a href="Op.html#delta">delta</a></span>) &lt;= <span class="id"><a href="Integers.html#Ptrofs.max_unsigned">Ptrofs.max_unsigned</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2182')">Proof.</div>
<div class="proofscript" id="proof2182">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zplus_0_r">Zplus_0_r</a></span>. <span class="tactic">apply</span> <span class="id"><a href="Integers.html#Ptrofs.unsigned_range_2">Ptrofs.unsigned_range_2</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="valid_different_pointers_extends">valid_different_pointers_extends</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m1</span> <span class="id">b1</span> <span class="id">ofs1</span> <span class="id">b2</span> <span class="id">ofs2</span> <span class="id">b1</span>' <span class="id">delta1</span> <span class="id">b2</span>' <span class="id">delta2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#b1">b1</a></span> &lt;&gt; <span class="id"><a href="Op.html#b2">b2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id"><a href="Op.html#m1">m1</a></span> <span class="id"><a href="Op.html#b1">b1</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="Op.html#ofs1">ofs1</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id"><a href="Op.html#m1">m1</a></span> <span class="id"><a href="Op.html#b2">b2</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="Op.html#ofs2">ofs2</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Op.html#b1">b1</a></span>, 0) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">b1</span>', <span class="id"><a href="Op.html#delta1">delta1</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Op.html#b2">b2</a></span>, 0) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">b2</span>', <span class="id"><a href="Op.html#delta2">delta2</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id">b1</span>' &lt;&gt; <span class="id">b2</span>' \/<br/>
&nbsp;&nbsp;<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span>(<span class="id"><a href="Integers.html#Ptrofs.add">Ptrofs.add</a></span> <span class="id"><a href="Op.html#ofs1">ofs1</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id"><a href="Op.html#delta1">delta1</a></span>)) &lt;&gt; <span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span>(<span class="id"><a href="Integers.html#Ptrofs.add">Ptrofs.add</a></span> <span class="id"><a href="Op.html#ofs2">ofs2</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id"><a href="Op.html#delta2">delta2</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2183')">Proof.</div>
<div class="proofscript" id="proof2183">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H3</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_condition_lessdef">eval_condition_lessdef</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">cond</span> <span class="id">vl1</span> <span class="id">vl2</span> <span class="id">b</span> <span class="id">m1</span> <span class="id">m2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef_list">Val.lessdef_list</a></span> <span class="id"><a href="Op.html#vl1">vl1</a></span> <span class="id"><a href="Op.html#vl2">vl2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="Op.html#m1">m1</a></span> <span class="id"><a href="Op.html#m2">m2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_condition">eval_condition</a></span> <span class="id"><a href="Op.html#cond">cond</a></span> <span class="id"><a href="Op.html#vl1">vl1</a></span> <span class="id"><a href="Op.html#m1">m1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_condition">eval_condition</a></span> <span class="id"><a href="Op.html#cond">cond</a></span> <span class="id"><a href="Op.html#vl2">vl2</a></span> <span class="id"><a href="Op.html#m2">m2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op.html#b">b</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2184')">Proof.</div>
<div class="proofscript" id="proof2184">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="Op.html#eval_condition_inj">eval_condition_inj</a></span> <span class="kwd">with</span> (<span class="id">f</span> := <span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Op.html#b">b</a></span>, 0)) (<span class="id">m1</span> := <span class="id">m1</span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Op.html#valid_pointer_extends">valid_pointer_extends</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Op.html#weak_valid_pointer_extends">weak_valid_pointer_extends</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Op.html#weak_valid_pointer_no_overflow_extends">weak_valid_pointer_no_overflow_extends</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Op.html#valid_different_pointers_extends">valid_different_pointers_extends</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Values.html#val_inject_list_lessdef">val_inject_list_lessdef</a></span>. <span class="tactic">eauto</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_operation_lessdef">eval_operation_lessdef</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">sp</span> <span class="id">op</span> <span class="id">vl1</span> <span class="id">vl2</span> <span class="id">v1</span> <span class="id">m1</span> <span class="id">m2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef_list">Val.lessdef_list</a></span> <span class="id"><a href="Op.html#vl1">vl1</a></span> <span class="id"><a href="Op.html#vl2">vl2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="Op.html#m1">m1</a></span> <span class="id"><a href="Op.html#m2">m2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_operation">eval_operation</a></span> <span class="id"><a href="Op.html#EVAL_LESSDEF.genv">genv</a></span> <span class="id"><a href="Op.html#sp">sp</a></span> <span class="id"><a href="Op.html#op">op</a></span> <span class="id"><a href="Op.html#vl1">vl1</a></span> <span class="id"><a href="Op.html#m1">m1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op.html#v1">v1</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v2</span>, <span class="id"><a href="Op.html#eval_operation">eval_operation</a></span> <span class="id"><a href="Op.html#EVAL_LESSDEF.genv">genv</a></span> <span class="id"><a href="Op.html#sp">sp</a></span> <span class="id"><a href="Op.html#op">op</a></span> <span class="id"><a href="Op.html#vl2">vl2</a></span> <span class="id"><a href="Op.html#m2">m2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op.html#v2">v2</a></span> /\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="Op.html#v1">v1</a></span> <span class="id"><a href="Op.html#v2">v2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2185')">Proof.</div>
<div class="proofscript" id="proof2185">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Values.html#val_inject_list_lessdef">val_inject_list_lessdef</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">exists</span> <span class="id">v2</span> : <span class="id"><a href="Values.html#val">val</a></span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_operation">eval_operation</a></span> <span class="id"><a href="Op.html#EVAL_LESSDEF.genv">genv</a></span> <span class="id">sp</span> <span class="id">op</span> <span class="id">vl2</span> <span class="id">m2</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op.html#v2">v2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Op.html#b">b</a></span>, 0)) <span class="id">v1</span> <span class="id"><a href="Op.html#v2">v2</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Op.html#eval_operation_inj">eval_operation_inj</a></span> <span class="kwd">with</span> (<span class="id">m1</span> := <span class="id">m1</span>) (<span class="id">sp1</span> := <span class="id">sp</span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Op.html#valid_pointer_extends">valid_pointer_extends</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Op.html#weak_valid_pointer_extends">weak_valid_pointer_extends</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Op.html#weak_valid_pointer_no_overflow_extends">weak_valid_pointer_no_overflow_extends</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Op.html#valid_different_pointers_extends">valid_different_pointers_extends</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="Values.html#val_inject_lessdef">val_inject_lessdef</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Values.html#val_inject_lessdef">val_inject_lessdef</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H2</span> <span class="kwd">as</span> [<span class="id">v2</span> [<span class="id">A</span> <span class="id">B</span>]]. <span class="id">exists</span> <span class="id">v2</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Values.html#val_inject_lessdef">val_inject_lessdef</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_addressing_lessdef">eval_addressing_lessdef</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">sp</span> <span class="id">addr</span> <span class="id">vl1</span> <span class="id">vl2</span> <span class="id">v1</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef_list">Val.lessdef_list</a></span> <span class="id"><a href="Op.html#vl1">vl1</a></span> <span class="id"><a href="Op.html#vl2">vl2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_addressing">eval_addressing</a></span> <span class="id"><a href="Op.html#EVAL_LESSDEF.genv">genv</a></span> <span class="id"><a href="Op.html#sp">sp</a></span> <span class="id"><a href="Op.html#addr">addr</a></span> <span class="id"><a href="Op.html#vl1">vl1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op.html#v1">v1</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v2</span>, <span class="id"><a href="Op.html#eval_addressing">eval_addressing</a></span> <span class="id"><a href="Op.html#EVAL_LESSDEF.genv">genv</a></span> <span class="id"><a href="Op.html#sp">sp</a></span> <span class="id"><a href="Op.html#addr">addr</a></span> <span class="id"><a href="Op.html#vl2">vl2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op.html#v2">v2</a></span> /\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="Op.html#v1">v1</a></span> <span class="id"><a href="Op.html#v2">v2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2186')">Proof.</div>
<div class="proofscript" id="proof2186">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Values.html#val_inject_list_lessdef">val_inject_list_lessdef</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">exists</span> <span class="id">v2</span> : <span class="id"><a href="Values.html#val">val</a></span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_addressing">eval_addressing</a></span> <span class="id"><a href="Op.html#EVAL_LESSDEF.genv">genv</a></span> <span class="id">sp</span> <span class="id">addr</span> <span class="id">vl2</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op.html#v2">v2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Op.html#b">b</a></span>, 0)) <span class="id">v1</span> <span class="id"><a href="Op.html#v2">v2</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Op.html#eval_addressing_inj">eval_addressing_inj</a></span> <span class="kwd">with</span> (<span class="id">sp1</span> := <span class="id">sp</span>).<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Values.html#val_inject_lessdef">val_inject_lessdef</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Values.html#val_inject_lessdef">val_inject_lessdef</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H1</span> <span class="kwd">as</span> [<span class="id">v2</span> [<span class="id">A</span> <span class="id">B</span>]]. <span class="id">exists</span> <span class="id">v2</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Values.html#val_inject_lessdef">val_inject_lessdef</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="Op.html#EVAL_LESSDEF">EVAL_LESSDEF</a></span>.<br/>
<br/>
<div class="doc">Compatibility of the evaluation functions with memory injections. </div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="EVAL_INJECT">EVAL_INJECT</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="EVAL_INJECT.F">F</a></span> <span class="id"><a name="EVAL_INJECT.V">V</a></span>: <span class="kwd">Type</span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="EVAL_INJECT.genv">genv</a></span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="Op.html#EVAL_INJECT.F">F</a></span> <span class="id"><a href="Op.html#EVAL_INJECT.V">V</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="EVAL_INJECT.f">f</a></span>: <span class="id"><a href="Values.html#meminj">meminj</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="EVAL_INJECT.globals">globals</a></span>: <span class="id"><a href="Events.html#meminj_preserves_globals">meminj_preserves_globals</a></span> <span class="id"><a href="Op.html#EVAL_INJECT.genv">genv</a></span> <span class="id"><a href="Op.html#EVAL_INJECT.f">f</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="EVAL_INJECT.sp1">sp1</a></span>: <span class="id"><a href="Values.html#block">block</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="EVAL_INJECT.sp2">sp2</a></span>: <span class="id"><a href="Values.html#block">block</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="EVAL_INJECT.delta">delta</a></span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="EVAL_INJECT.sp_inj">sp_inj</a></span>: <span class="id"><a href="Op.html#EVAL_INJECT.f">f</a></span> <span class="id"><a href="Op.html#EVAL_INJECT.sp1">sp1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Op.html#EVAL_INJECT.sp2">sp2</a></span>, <span class="id"><a href="Op.html#EVAL_INJECT.delta">delta</a></span>).<br/>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="symbol_address_inject">symbol_address_inject</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">id</span> <span class="id">ofs</span>, <span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="Op.html#EVAL_INJECT.f">f</a></span> (<span class="id"><a href="Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span> <span class="id"><a href="Op.html#EVAL_INJECT.genv">genv</a></span> <span class="id"><a href="Op.html#id">id</a></span> <span class="id"><a href="Op.html#ofs">ofs</a></span>) (<span class="id"><a href="Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span> <span class="id"><a href="Op.html#EVAL_INJECT.genv">genv</a></span> <span class="id"><a href="Op.html#id">id</a></span> <span class="id"><a href="Op.html#ofs">ofs</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2187')">Proof.</div>
<div class="proofscript" id="proof2187">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="Op.html#EVAL_INJECT.genv">genv</a></span> <span class="id">id</span>) <span class="id">eqn</span>:?; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> <span class="id"><a href="Op.html#EVAL_INJECT.globals">globals</a></span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_condition_inject">eval_condition_inject</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">cond</span> <span class="id">vl1</span> <span class="id">vl2</span> <span class="id">b</span> <span class="id">m1</span> <span class="id">m2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.inject_list">Val.inject_list</a></span> <span class="id"><a href="Op.html#EVAL_INJECT.f">f</a></span> <span class="id"><a href="Op.html#vl1">vl1</a></span> <span class="id"><a href="Op.html#vl2">vl2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="Op.html#EVAL_INJECT.f">f</a></span> <span class="id"><a href="Op.html#m1">m1</a></span> <span class="id"><a href="Op.html#m2">m2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_condition">eval_condition</a></span> <span class="id"><a href="Op.html#cond">cond</a></span> <span class="id"><a href="Op.html#vl1">vl1</a></span> <span class="id"><a href="Op.html#m1">m1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_condition">eval_condition</a></span> <span class="id"><a href="Op.html#cond">cond</a></span> <span class="id"><a href="Op.html#vl2">vl2</a></span> <span class="id"><a href="Op.html#m2">m2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op.html#b">b</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2188')">Proof.</div>
<div class="proofscript" id="proof2188">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="Op.html#eval_condition_inj">eval_condition_inj</a></span> <span class="kwd">with</span> (<span class="id">f</span> := <span class="id"><a href="Op.html#EVAL_INJECT.f">f</a></span>) (<span class="id">m1</span> := <span class="id">m1</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.valid_pointer_inject_val">Mem.valid_pointer_inject_val</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.weak_valid_pointer_inject_val">Mem.weak_valid_pointer_inject_val</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.weak_valid_pointer_inject_no_overflow">Mem.weak_valid_pointer_inject_no_overflow</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.different_pointers_inject">Mem.different_pointers_inject</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_addressing_inject">eval_addressing_inject</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">addr</span> <span class="id">vl1</span> <span class="id">vl2</span> <span class="id">v1</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.inject_list">Val.inject_list</a></span> <span class="id"><a href="Op.html#EVAL_INJECT.f">f</a></span> <span class="id"><a href="Op.html#vl1">vl1</a></span> <span class="id"><a href="Op.html#vl2">vl2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_addressing">eval_addressing</a></span> <span class="id"><a href="Op.html#EVAL_INJECT.genv">genv</a></span> (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="Op.html#EVAL_INJECT.sp1">sp1</a></span> <span class="id"><a href="Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>) <span class="id"><a href="Op.html#addr">addr</a></span> <span class="id"><a href="Op.html#vl1">vl1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op.html#v1">v1</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_addressing">eval_addressing</a></span> <span class="id"><a href="Op.html#EVAL_INJECT.genv">genv</a></span> (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="Op.html#EVAL_INJECT.sp2">sp2</a></span> <span class="id"><a href="Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>) (<span class="id"><a href="Op.html#shift_stack_addressing">shift_stack_addressing</a></span> <span class="id"><a href="Op.html#EVAL_INJECT.delta">delta</a></span> <span class="id"><a href="Op.html#addr">addr</a></span>) <span class="id"><a href="Op.html#vl2">vl2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op.html#v2">v2</a></span><br/>
&nbsp;&nbsp;/\ <span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="Op.html#EVAL_INJECT.f">f</a></span> <span class="id"><a href="Op.html#v1">v1</a></span> <span class="id"><a href="Op.html#v2">v2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2189')">Proof.</div>
<div class="proofscript" id="proof2189">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Op.html#eval_shift_stack_addressing">eval_shift_stack_addressing</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Op.html#eval_addressing_inj">eval_addressing_inj</a></span> <span class="kwd">with</span> (<span class="id">sp1</span> := <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="Op.html#EVAL_INJECT.sp1">sp1</a></span> <span class="id"><a href="Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="Op.html#symbol_address_inject">symbol_address_inject</a></span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.add_zero_l">Ptrofs.add_zero_l</a></span>; <span class="tactic">auto</span>. <br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_operation_inject">eval_operation_inject</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">op</span> <span class="id">vl1</span> <span class="id">vl2</span> <span class="id">v1</span> <span class="id">m1</span> <span class="id">m2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.inject_list">Val.inject_list</a></span> <span class="id"><a href="Op.html#EVAL_INJECT.f">f</a></span> <span class="id"><a href="Op.html#vl1">vl1</a></span> <span class="id"><a href="Op.html#vl2">vl2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="Op.html#EVAL_INJECT.f">f</a></span> <span class="id"><a href="Op.html#m1">m1</a></span> <span class="id"><a href="Op.html#m2">m2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_operation">eval_operation</a></span> <span class="id"><a href="Op.html#EVAL_INJECT.genv">genv</a></span> (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="Op.html#EVAL_INJECT.sp1">sp1</a></span> <span class="id"><a href="Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>) <span class="id"><a href="Op.html#op">op</a></span> <span class="id"><a href="Op.html#vl1">vl1</a></span> <span class="id"><a href="Op.html#m1">m1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op.html#v1">v1</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_operation">eval_operation</a></span> <span class="id"><a href="Op.html#EVAL_INJECT.genv">genv</a></span> (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="Op.html#EVAL_INJECT.sp2">sp2</a></span> <span class="id"><a href="Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>) (<span class="id"><a href="Op.html#shift_stack_operation">shift_stack_operation</a></span> <span class="id"><a href="Op.html#EVAL_INJECT.delta">delta</a></span> <span class="id"><a href="Op.html#op">op</a></span>) <span class="id"><a href="Op.html#vl2">vl2</a></span> <span class="id"><a href="Op.html#m2">m2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op.html#v2">v2</a></span><br/>
&nbsp;&nbsp;/\ <span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="Op.html#EVAL_INJECT.f">f</a></span> <span class="id"><a href="Op.html#v1">v1</a></span> <span class="id"><a href="Op.html#v2">v2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2190')">Proof.</div>
<div class="proofscript" id="proof2190">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Op.html#eval_shift_stack_operation">eval_shift_stack_operation</a></span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Op.html#eval_operation_inj">eval_operation_inj</a></span> <span class="kwd">with</span> (<span class="id">sp1</span> := <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="Op.html#EVAL_INJECT.sp1">sp1</a></span> <span class="id"><a href="Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>) (<span class="id">m1</span> := <span class="id">m1</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.valid_pointer_inject_val">Mem.valid_pointer_inject_val</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.weak_valid_pointer_inject_val">Mem.weak_valid_pointer_inject_val</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.weak_valid_pointer_inject_no_overflow">Mem.weak_valid_pointer_inject_no_overflow</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.different_pointers_inject">Mem.different_pointers_inject</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="Op.html#symbol_address_inject">symbol_address_inject</a></span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.add_zero_l">Ptrofs.add_zero_l</a></span>; <span class="tactic">auto</span>. <br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="Op.html#EVAL_INJECT">EVAL_INJECT</a></span>.<br/>
</div>
<div class="footer"><hr/>Generated by coq2html</div>
</body>
</html>
