<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module SelectOpproof</title>
<meta name="description" content="Documentation of Coq module SelectOpproof" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module SelectOpproof</h1>
<div class="coq">
<br/>
<div class="doc">Correctness of instruction selection for operators </div>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Coqlib.html">Coqlib</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="AST.html">AST</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Integers.html">Integers</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Floats.html">Floats</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Values.html">Values</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Memory.html">Memory</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Globalenvs.html">Globalenvs</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Cminor.html">Cminor</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Op.html">Op</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="CminorSel.html">CminorSel</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="SelectOp.html">SelectOp</a></span>.<br/>
<br/>
<span class="kwd">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">cminorsel_scope</span>.<br/>
<br/>
<h1> Useful lemmas and tactics </h1>
<br/>
<div class="doc">The following are trivial lemmas and custom tactics that help
  perform backward (inversion) and forward reasoning over the evaluation
  of operator applications. </div>
<br/>
<span class="kwd">Ltac</span> <span class="id">EvalOp</span> := <span class="tactic">eapply</span> <span class="id"><a href="CminorSel.html#eval_Eop">eval_Eop</a></span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">evalexpr</span>.<br/>
<br/>
<span class="kwd">Ltac</span> <span class="id">InvEval1</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: (<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="CminorSel.html#Eop">Eop</a></span> <span class="id">_</span> <span class="id"><a href="CminorSel.html#Enil">Enil</a></span>) <span class="id">_</span>) |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="id">InvEval1</span><br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: (<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="CminorSel.html#Eop">Eop</a></span> <span class="id">_</span> (<span class="id">_</span> ::: <span class="id"><a href="CminorSel.html#Enil">Enil</a></span>)) <span class="id">_</span>) |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="id">InvEval1</span><br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: (<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="CminorSel.html#Eop">Eop</a></span> <span class="id">_</span> (<span class="id">_</span> ::: <span class="id">_</span> ::: <span class="id"><a href="CminorSel.html#Enil">Enil</a></span>)) <span class="id">_</span>) |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="id">InvEval1</span><br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: (<span class="id"><a href="CminorSel.html#eval_exprlist">eval_exprlist</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="CminorSel.html#Enil">Enil</a></span> <span class="id">_</span>) |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="id">InvEval1</span><br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: (<span class="id"><a href="CminorSel.html#eval_exprlist">eval_exprlist</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">_</span> ::: <span class="id">_</span>) <span class="id">_</span>) |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="id">InvEval1</span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">idtac</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Ltac</span> <span class="id">InvEval2</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: (<span class="id"><a href="Op.html#eval_operation">eval_operation</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span>) |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>; <span class="id">FuncInv</span><br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: (<span class="id"><a href="Op.html#eval_operation">eval_operation</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">_</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span>) |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>; <span class="id">FuncInv</span><br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: (<span class="id"><a href="Op.html#eval_operation">eval_operation</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">_</span> :: <span class="id">_</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span>) |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>; <span class="id">FuncInv</span><br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: (<span class="id"><a href="Op.html#eval_operation">eval_operation</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">_</span> :: <span class="id">_</span> :: <span class="id">_</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span>) |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>; <span class="id">FuncInv</span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">idtac</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Ltac</span> <span class="id">InvEval</span> := <span class="id">InvEval1</span>; <span class="id">InvEval2</span>; <span class="id">InvEval2</span>; <span class="tactic">subst</span>.<br/>
<br/>
<span class="kwd">Ltac</span> <span class="id">TrivialExists</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| [ |- <span class="id">exists</span> <span class="id">v</span>, <span class="id">_</span> /\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> ?<span class="id">a</span> <span class="id"><a href="SelectOpproof.html#v">v</a></span> ] =&gt; <span class="id">exists</span> <span class="id">a</span>; <span class="tactic">split</span>; [<span class="id">EvalOp</span> | <span class="tactic">auto</span>]<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<h1> Correctness of the smart constructors </h1>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="CMCONSTR">CMCONSTR</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CMCONSTR.ge">ge</a></span>: <span class="id"><a href="CminorSel.html#genv">genv</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CMCONSTR.sp">sp</a></span>: <span class="id"><a href="Values.html#val">val</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CMCONSTR.e">e</a></span>: <span class="id"><a href="Cminor.html#env">env</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CMCONSTR.m">m</a></span>: <span class="id"><a href="Memory.html#mem">mem</a></span>.<br/>
<br/>
<div class="doc">We now show that the code generated by "smart constructor" functions
  such as <span class="bracket"><span class="id">SelectOp.notint</span></span> behaves as expected.  Continuing the
  <span class="bracket"><span class="id">notint</span></span> example, we show that if the expression <span class="bracket"><span class="id">e</span></span>
  evaluates to some integer value <span class="bracket"><span class="id">Vint</span> <span class="id">n</span></span>, then <span class="bracket"><span class="id">SelectOp.notint</span> <span class="id">e</span></span>
  evaluates to a value <span class="bracket"><span class="id">Vint</span> (<span class="id">Int.not</span> <span class="id">n</span>)</span> which is indeed the integer
  negation of the value of <span class="bracket"><span class="id">e</span></span>.
  All proofs follow a common pattern:
<ul>
<li>
 Reasoning by case over the result of the classification functions
  (such as <span class="bracket"><span class="id">add_match</span></span> for integer addition), gathering additional
  information on the shape of the argument expressions in the non-default
  cases.
</li>
<li>
 Inversion of the evaluations of the arguments, exploiting the additional
  information thus gathered.
</li>
<li>
 Equational reasoning over the arithmetic operations performed,
  using the lemmas from the <span class="bracket"><span class="id">Int</span></span> and <span class="bracket"><span class="id">Float</span></span> modules.
</li>
<li>
 Construction of an evaluation derivation for the expression returned
  by the smart constructor.
</li>
</ul>
</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="unary_constructor_sound">unary_constructor_sound</a></span> (<span class="id">cstr</span>: <span class="id"><a href="CminorSel.html#expr">expr</a></span> -&gt; <span class="id"><a href="CminorSel.html#expr">expr</a></span>) (<span class="id">sem</span>: <span class="id"><a href="Values.html#val">val</a></span> -&gt; <span class="id"><a href="Values.html#val">val</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">a</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> <span class="id"><a href="SelectOpproof.html#a">a</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> (<span class="id"><a href="SelectOpproof.html#cstr">cstr</a></span> <span class="id"><a href="SelectOpproof.html#a">a</a></span>) <span class="id"><a href="SelectOpproof.html#v">v</a></span> /\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="SelectOpproof.html#sem">sem</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span>) <span class="id"><a href="SelectOpproof.html#v">v</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="binary_constructor_sound">binary_constructor_sound</a></span> (<span class="id">cstr</span>: <span class="id"><a href="CminorSel.html#expr">expr</a></span> -&gt; <span class="id"><a href="CminorSel.html#expr">expr</a></span> -&gt; <span class="id"><a href="CminorSel.html#expr">expr</a></span>) (<span class="id">sem</span>: <span class="id"><a href="Values.html#val">val</a></span> -&gt; <span class="id"><a href="Values.html#val">val</a></span> -&gt; <span class="id"><a href="Values.html#val">val</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">a</span> <span class="id">x</span> <span class="id">b</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> <span class="id"><a href="SelectOpproof.html#a">a</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> <span class="id"><a href="SelectOpproof.html#b">b</a></span> <span class="id"><a href="SelectOpproof.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> (<span class="id"><a href="SelectOpproof.html#cstr">cstr</a></span> <span class="id"><a href="SelectOpproof.html#a">a</a></span> <span class="id"><a href="SelectOpproof.html#b">b</a></span>) <span class="id"><a href="SelectOpproof.html#v">v</a></span> /\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="SelectOpproof.html#sem">sem</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> <span class="id"><a href="SelectOpproof.html#y">y</a></span>) <span class="id"><a href="SelectOpproof.html#v">v</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_Olea_ptr">eval_Olea_ptr</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">el</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_operation">eval_operation</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> (<span class="id"><a href="SelectOp.html#Olea_ptr">Olea_ptr</a></span> <span class="id"><a href="SelectOpproof.html#a">a</a></span>) <span class="id"><a href="SelectOpproof.html#el">el</a></span> <span class="id"><a href="SelectOpproof.html#m">m</a></span> = <span class="id"><a href="Op.html#eval_addressing">eval_addressing</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#a">a</a></span> <span class="id"><a href="SelectOpproof.html#el">el</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2195')">Proof.</div>
<div class="proofscript" id="proof2195">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#Olea_ptr">Olea_ptr</a></span>, <span class="id"><a href="Op.html#eval_addressing">eval_addressing</a></span>; <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span>; <span class="tactic">auto</span>. <br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_addrsymbol">eval_addrsymbol</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">id</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> (<span class="id"><a href="SelectOp.html#addrsymbol">addrsymbol</a></span> <span class="id"><a href="SelectOpproof.html#id">id</a></span> <span class="id"><a href="SelectOpproof.html#ofs">ofs</a></span>) <span class="id"><a href="SelectOpproof.html#v">v</a></span> /\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#id">id</a></span> <span class="id"><a href="SelectOpproof.html#ofs">ofs</a></span>) <span class="id"><a href="SelectOpproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2196')">Proof.</div>
<div class="proofscript" id="proof2196">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#addrsymbol">addrsymbol</a></span>. <span class="id">exists</span> (<span class="id"><a href="Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id">id</span> <span class="id">ofs</span>); <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="SelectOp.html#symbol_is_external">symbol_is_external</a></span> <span class="id">id</span>).<br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="Integers.html#Ptrofs.eq">Ptrofs.eq</a></span> <span class="id"><a href="Integers.html#Ptrofs.eq_spec">Ptrofs.eq_spec</a></span> <span class="id">ofs</span> <span class="id"><a href="Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="id">EvalOp</span>. <span class="id">econstructor</span>. <span class="id">EvalOp</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#Olea_ptr">Olea_ptr</a></span>; <span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:<span class="id">SF</span>; <span class="tactic">simpl</span>;<br/>
&nbsp;&nbsp;[ <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Globalenvs.html#Genv.shift_symbol_address_64">Genv.shift_symbol_address_64</a></span> <span class="tactic">by</span> <span class="tactic">auto</span> | <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Globalenvs.html#Genv.shift_symbol_address_32">Genv.shift_symbol_address_32</a></span> <span class="tactic">by</span> <span class="tactic">auto</span> ];<br/>
&nbsp;&nbsp;<span class="tactic">f_equal</span>; <span class="tactic">f_equal</span>;<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.add_zero_l">Ptrofs.add_zero_l</a></span>;<br/>
&nbsp;&nbsp;[ <span class="tactic">apply</span> <span class="id"><a href="Integers.html#Ptrofs.of_int64_to_int64">Ptrofs.of_int64_to_int64</a></span> | <span class="tactic">apply</span> <span class="id"><a href="Integers.html#Ptrofs.of_int_to_int">Ptrofs.of_int_to_int</a></span> ];<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">EvalOp</span>. <span class="comment">(*rewrite&nbsp;eval_Olea_ptr.&nbsp;apply&nbsp;eval_addressing_Aglobal.&nbsp;*)</span><br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_addrstack">eval_addrstack</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> (<span class="id"><a href="SelectOp.html#addrstack">addrstack</a></span> <span class="id"><a href="SelectOpproof.html#ofs">ofs</a></span>) <span class="id"><a href="SelectOpproof.html#v">v</a></span> /\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="Values.html#Val.offset_ptr">Val.offset_ptr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#ofs">ofs</a></span>) <span class="id"><a href="SelectOpproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2197')">Proof.</div>
<div class="proofscript" id="proof2197">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#addrstack">addrstack</a></span>. <span class="id">TrivialExists</span>. <span class="comment">(*rewrite&nbsp;eval_Olea_ptr.&nbsp;apply&nbsp;eval_addressing_Ainstack.*)</span><br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_notint">eval_notint</a></span>: <span class="id"><a href="SelectOpproof.html#unary_constructor_sound">unary_constructor_sound</a></span> <span class="id"><a href="SelectOp.html#notint">notint</a></span> <span class="id"><a href="Values.html#Val.notint">Val.notint</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2198')">Proof.</div>
<div class="proofscript" id="proof2198">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#notint">notint</a></span>; <span class="tactic">red</span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">x</span>. <span class="tactic">case</span> (<span class="id"><a href="SelectOp.html#notint_match">notint_match</a></span> <span class="id">a</span>); <span class="tactic">intros</span>; <span class="id">InvEval</span>.<br/>
- <span class="id">TrivialExists</span>.<br/>
- <span class="tactic">rewrite</span> <span class="id"><a href="Values.html#Val.not_xor">Val.not_xor</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Values.html#Val.xor_assoc">Val.xor_assoc</a></span>. <span class="id">TrivialExists</span>.<br/>
- <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_addimm">eval_addimm</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span>, <span class="id"><a href="SelectOpproof.html#unary_constructor_sound">unary_constructor_sound</a></span> (<span class="id"><a href="SelectOp.html#addimm">addimm</a></span> <span class="id"><a href="SelectOpproof.html#n">n</a></span>) (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="Values.html#Val.add">Val.add</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="SelectOpproof.html#n">n</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2199')">Proof.</div>
<div class="proofscript" id="proof2199">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#addimm">addimm</a></span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="Integers.html#Int.eq_spec">Int.eq_spec</a></span> <span class="id">n</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>.<br/>
- <span class="tactic">subst</span> <span class="id">n</span>. <span class="tactic">intros</span>. <span class="id">exists</span> <span class="id">x</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> ?<span class="id"><a href="Integers.html#Int.add_zero">Int.add_zero</a></span>, ?<span class="id"><a href="Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">case</span> (<span class="id"><a href="SelectOp.html#addimm_match">addimm_match</a></span> <span class="id">a</span>); <span class="tactic">intros</span>; <span class="id">InvEval</span>.<br/>
+ <span class="id">TrivialExists</span>; <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.add_commut">Int.add_commut</a></span>. <span class="tactic">auto</span>.<br/>
+ <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H6</span>. <span class="id">TrivialExists</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="Op.html#eval_offset_addressing_total_32">eval_offset_addressing_total_32</a></span> <span class="tactic">by</span> <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.repr_signed">Int.repr_signed</a></span>; <span class="tactic">auto</span>.<br/>
+ <span class="id">TrivialExists</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.repr_signed">Int.repr_signed</a></span>; <span class="tactic">auto</span>. <br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_add">eval_add</a></span>: <span class="id"><a href="SelectOpproof.html#binary_constructor_sound">binary_constructor_sound</a></span> <span class="id"><a href="SelectOp.html#add">add</a></span> <span class="id"><a href="Values.html#Val.add">Val.add</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2200')">Proof.</div>
<div class="proofscript" id="proof2200">
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">A</span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> (<span class="id"><a href="SelectOpproof.html#x">x</a></span> + <span class="id"><a href="SelectOpproof.html#y">y</a></span>) = <span class="id"><a href="Integers.html#Int.add">Int.add</a></span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span>) (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> <span class="id"><a href="SelectOpproof.html#y">y</a></span>)).<br/>
&nbsp;&nbsp;{ <span class="tactic">intros</span>; <span class="tactic">apply</span> <span class="id"><a href="Integers.html#Int.eqm_samerepr">Int.eqm_samerepr</a></span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ints</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">B</span>: <span class="kwd">forall</span> <span class="id">id</span> <span class="id">ofs</span> <span class="id">n</span>, <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#id">id</a></span> (<span class="id"><a href="Integers.html#Ptrofs.add">Ptrofs.add</a></span> <span class="id"><a href="SelectOpproof.html#ofs">ofs</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id"><a href="SelectOpproof.html#n">n</a></span>)) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.add">Val.add</a></span> (<span class="id"><a href="Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#id">id</a></span> <span class="id"><a href="SelectOpproof.html#ofs">ofs</a></span>) (<span class="id"><a href="Values.html#Vint">Vint</a></span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> <span class="id"><a href="SelectOpproof.html#n">n</a></span>))).<br/>
&nbsp;&nbsp;{ <span class="tactic">intros</span>. <span class="tactic">replace</span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id">n</span>) <span class="kwd">with</span> (<span class="id"><a href="Integers.html#Ptrofs.of_int">Ptrofs.of_int</a></span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> <span class="id">n</span>)) <span class="tactic">by</span> <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ptrofs</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Globalenvs.html#Genv.shift_symbol_address_32">Genv.shift_symbol_address_32</a></span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#add">add</a></span>; <span class="tactic">case</span> (<span class="id"><a href="SelectOp.html#add_match">add_match</a></span> <span class="id">a</span> <span class="id">b</span>); <span class="tactic">intros</span>; <span class="id">InvEval</span>.<br/>
- <span class="tactic">rewrite</span> <span class="id"><a href="Values.html#Val.add_commut">Val.add_commut</a></span>. <span class="tactic">apply</span> <span class="id"><a href="SelectOpproof.html#eval_addimm">eval_addimm</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">apply</span> <span class="id"><a href="SelectOpproof.html#eval_addimm">eval_addimm</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="id">TrivialExists</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">A</span>, <span class="id"><a href="Values.html#Val.add_permut_4">Val.add_permut_4</a></span>. <span class="tactic">auto</span>.<br/>
- <span class="id">TrivialExists</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">A</span>, <span class="id"><a href="Values.html#Val.add_assoc">Val.add_assoc</a></span>. <span class="id">decEq</span>; <span class="id">decEq</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Values.html#Val.add_permut">Val.add_permut</a></span>. <span class="tactic">auto</span>.<br/>
- <span class="id">TrivialExists</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">A</span>, <span class="id"><a href="Values.html#Val.add_permut_4">Val.add_permut_4</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Values.html#Val.add_permut">Val.add_permut</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Values.html#Val.add_assoc">Val.add_assoc</a></span>. <span class="tactic">auto</span>.<br/>
- <span class="id">TrivialExists</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">Heqb0</span>. <span class="tactic">rewrite</span> <span class="id">B</span> <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">rewrite</span> ! <span class="id"><a href="Values.html#Val.add_assoc">Val.add_assoc</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="Values.html#Val.add_commut">Val.add_commut</a></span> <span class="id">v1</span>). <span class="tactic">rewrite</span> <span class="id"><a href="Values.html#Val.add_permut">Val.add_permut</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Values.html#Val.add_assoc">Val.add_assoc</a></span>. <span class="tactic">auto</span>.<br/>
- <span class="id">TrivialExists</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">Heqb0</span>. <span class="tactic">rewrite</span> <span class="id">B</span> <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Values.html#Val.add_assoc">Val.add_assoc</a></span>. <span class="tactic">do</span> 2 <span class="tactic">f_equal</span>. <span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.add_commut">Val.add_commut</a></span>.<br/>
- <span class="id">TrivialExists</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">Heqb0</span>. <span class="tactic">rewrite</span> <span class="id">B</span> <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">rewrite</span> !<span class="id"><a href="Values.html#Val.add_assoc">Val.add_assoc</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="Values.html#Val.add_commut">Val.add_commut</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> <span class="id">n1</span>))). <span class="tactic">rewrite</span> <span class="id"><a href="Values.html#Val.add_permut">Val.add_permut</a></span>. <span class="tactic">do</span> 2 <span class="tactic">f_equal</span>. <span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.add_commut">Val.add_commut</a></span>.<br/>
- <span class="id">TrivialExists</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">Heqb0</span>. <span class="tactic">rewrite</span> <span class="id">B</span> <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">rewrite</span> !<span class="id"><a href="Values.html#Val.add_assoc">Val.add_assoc</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="Values.html#Val.add_commut">Val.add_commut</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> <span class="id">n2</span>))). <span class="tactic">rewrite</span> <span class="id"><a href="Values.html#Val.add_permut">Val.add_permut</a></span>. <span class="tactic">auto</span>.<br/>
- <span class="id">TrivialExists</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Values.html#Val.add_permut">Val.add_permut</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Values.html#Val.add_assoc">Val.add_assoc</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">decEq</span>; <span class="id">decEq</span>. <span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.add_commut">Val.add_commut</a></span>.<br/>
- <span class="id">TrivialExists</span>.<br/>
- <span class="id">TrivialExists</span>. <span class="tactic">simpl</span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Values.html#Val.add_assoc">Val.add_assoc</a></span>. <span class="id">decEq</span>; <span class="id">decEq</span>. <span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.add_commut">Val.add_commut</a></span>.<br/>
- <span class="id">TrivialExists</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Values.html#Val.add_assoc">Val.add_assoc</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="id">TrivialExists</span>. <span class="tactic">simpl</span>. <br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.add">Val.add</a></span>; <span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span>, <span class="id">x</span>, <span class="id">y</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.add_zero">Int.add_zero</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.add_zero">Int.add_zero</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.add_assoc">Ptrofs.add_assoc</a></span>, <span class="id"><a href="Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.add_assoc">Ptrofs.add_assoc</a></span>, <span class="id"><a href="Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_sub">eval_sub</a></span>: <span class="id"><a href="SelectOpproof.html#binary_constructor_sound">binary_constructor_sound</a></span> <span class="id"><a href="SelectOp.html#sub">sub</a></span> <span class="id"><a href="Values.html#Val.sub">Val.sub</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2201')">Proof.</div>
<div class="proofscript" id="proof2201">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#sub">sub</a></span>; <span class="tactic">case</span> (<span class="id"><a href="SelectOp.html#sub_match">sub_match</a></span> <span class="id">a</span> <span class="id">b</span>); <span class="tactic">intros</span>; <span class="id">InvEval</span>.<br/>
- <span class="tactic">rewrite</span> <span class="id"><a href="Values.html#Val.sub_add_opp">Val.sub_add_opp</a></span>. <span class="tactic">apply</span> <span class="id"><a href="SelectOpproof.html#eval_addimm">eval_addimm</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">rewrite</span> <span class="id"><a href="Values.html#Val.sub_add_l">Val.sub_add_l</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Values.html#Val.sub_add_r">Val.sub_add_r</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Values.html#Val.add_assoc">Val.add_assoc</a></span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.add_commut">Int.add_commut</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Integers.html#Int.sub_add_opp">Int.sub_add_opp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> (<span class="id">n1</span> - <span class="id">n2</span>)) <span class="kwd">with</span> (<span class="id"><a href="Integers.html#Int.sub">Int.sub</a></span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> <span class="id">n1</span>) (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> <span class="id">n2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="SelectOpproof.html#eval_addimm">eval_addimm</a></span>; <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Integers.html#Int.eqm_samerepr">Int.eqm_samerepr</a></span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ints</span>.<br/>
- <span class="tactic">rewrite</span> <span class="id"><a href="Values.html#Val.sub_add_l">Val.sub_add_l</a></span>. <span class="tactic">apply</span> <span class="id"><a href="SelectOpproof.html#eval_addimm">eval_addimm</a></span>; <span class="id">EvalOp</span>.<br/>
- <span class="tactic">rewrite</span> <span class="id"><a href="Values.html#Val.sub_add_r">Val.sub_add_r</a></span>. <span class="tactic">replace</span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> (-<span class="id">n2</span>)) <span class="kwd">with</span> (<span class="id"><a href="Integers.html#Int.neg">Int.neg</a></span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> <span class="id">n2</span>)). <span class="tactic">apply</span> <span class="id"><a href="SelectOpproof.html#eval_addimm">eval_addimm</a></span>; <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Integers.html#Int.eqm_samerepr">Int.eqm_samerepr</a></span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ints</span>.<br/>
- <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_negint">eval_negint</a></span>: <span class="id"><a href="SelectOpproof.html#unary_constructor_sound">unary_constructor_sound</a></span> <span class="id"><a href="SelectOp.html#negint">negint</a></span> <span class="id"><a href="Values.html#Val.neg">Val.neg</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2202')">Proof.</div>
<div class="proofscript" id="proof2202">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">x</span>. <span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#negint">negint</a></span>. <span class="tactic">case</span> (<span class="id"><a href="SelectOp.html#negint_match">negint_match</a></span> <span class="id">a</span>); <span class="tactic">intros</span>; <span class="id">InvEval</span>.<br/>
- <span class="id">TrivialExists</span>.<br/>
- <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_shlimm">eval_shlimm</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span>, <span class="id"><a href="SelectOpproof.html#unary_constructor_sound">unary_constructor_sound</a></span> (<span class="kwd">fun</span> <span class="id">a</span> =&gt; <span class="id"><a href="SelectOp.html#shlimm">shlimm</a></span> <span class="id"><a href="SelectOpproof.html#a">a</a></span> <span class="id"><a href="SelectOpproof.html#n">n</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="Values.html#Val.shl">Val.shl</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="SelectOpproof.html#n">n</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2203')">Proof.</div>
<div class="proofscript" id="proof2203">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">x</span>.  <span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#shlimm">shlimm</a></span>.<br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="Integers.html#Int.eq_spec">Int.eq_spec</a></span> <span class="id">n</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">subst</span>. <span class="id">exists</span> <span class="id">x</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.shl_zero">Int.shl_zero</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n</span> <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span>) <span class="id">eqn</span>:<span class="id">LT</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="SelectOp.html#shlimm_match">shlimm_match</a></span> <span class="id">a</span>); <span class="tactic">intros</span>; <span class="id">InvEval</span>.<br/>
- <span class="id">exists</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> (<span class="id"><a href="Integers.html#Int.shl">Int.shl</a></span> <span class="id">n1</span> <span class="id">n</span>)); <span class="tactic">split</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">LT</span>. <span class="tactic">auto</span>.<br/>
- <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="Integers.html#Int.add">Int.add</a></span> <span class="id">n</span> <span class="id">n1</span>) <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span>) <span class="id">eqn</span>:?.<br/>
+ <span class="id">exists</span> (<span class="id"><a href="Values.html#Val.shl">Val.shl</a></span> <span class="id">v1</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> (<span class="id"><a href="Integers.html#Int.add">Int.add</a></span> <span class="id">n</span> <span class="id">n1</span>))); <span class="tactic">split</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v1</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heqb</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n1</span> <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span>) <span class="id">eqn</span>:?; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n</span> <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span>) <span class="id">eqn</span>:?; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.add_commut">Int.add_commut</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.shl_shl">Int.shl_shl</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.add_commut">Int.add_commut</a></span>; <span class="tactic">auto</span>.<br/>
+ <span class="id">TrivialExists</span>. <span class="id">econstructor</span>. <span class="id">EvalOp</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">auto</span>.<br/>
- <span class="tactic">destruct</span> (<span class="id"><a href="SelectOp.html#shift_is_scale">shift_is_scale</a></span> <span class="id">n</span>).<br/>
+ <span class="id">econstructor</span>; <span class="tactic">split</span>. <span class="id">EvalOp</span>. <span class="tactic">simpl</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> ! <span class="id"><a href="Integers.html#Int.repr_unsigned">Int.repr_unsigned</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v1</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id">LT</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.shl_mul">Int.shl_mul</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.mul_add_distr_l">Int.mul_add_distr_l</a></span>. <span class="tactic">rewrite</span> (<span class="id"><a href="Integers.html#Int.shl_mul">Int.shl_mul</a></span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> <span class="id">n1</span>)). <span class="tactic">auto</span>.<br/>
+ <span class="id">TrivialExists</span>. <span class="id">econstructor</span>. <span class="id">EvalOp</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>. <span class="tactic">auto</span>.<br/>
- <span class="tactic">destruct</span> (<span class="id"><a href="SelectOp.html#shift_is_scale">shift_is_scale</a></span> <span class="id">n</span>).<br/>
+ <span class="id">econstructor</span>; <span class="tactic">split</span>. <span class="id">EvalOp</span>. <span class="tactic">simpl</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id">LT</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.repr_unsigned">Int.repr_unsigned</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.add_zero">Int.add_zero</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.shl_mul">Int.shl_mul</a></span>. <span class="tactic">auto</span>.<br/>
+ <span class="id">TrivialExists</span>.<br/>
- <span class="tactic">intros</span>; <span class="id">TrivialExists</span>. <span class="id">constructor</span>. <span class="tactic">eauto</span>. <span class="id">constructor</span>. <span class="id">EvalOp</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_shruimm">eval_shruimm</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span>, <span class="id"><a href="SelectOpproof.html#unary_constructor_sound">unary_constructor_sound</a></span> (<span class="kwd">fun</span> <span class="id">a</span> =&gt; <span class="id"><a href="SelectOp.html#shruimm">shruimm</a></span> <span class="id"><a href="SelectOpproof.html#a">a</a></span> <span class="id"><a href="SelectOpproof.html#n">n</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="Values.html#Val.shru">Val.shru</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="SelectOpproof.html#n">n</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2204')">Proof.</div>
<div class="proofscript" id="proof2204">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">x</span>.  <span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#shruimm">shruimm</a></span>.<br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="Integers.html#Int.eq_spec">Int.eq_spec</a></span> <span class="id">n</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">subst</span>. <span class="id">exists</span> <span class="id">x</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.shru_zero">Int.shru_zero</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n</span> <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span>) <span class="id">eqn</span>:<span class="id">LT</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="SelectOp.html#shruimm_match">shruimm_match</a></span> <span class="id">a</span>); <span class="tactic">intros</span>; <span class="id">InvEval</span>.<br/>
- <span class="id">exists</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> (<span class="id"><a href="Integers.html#Int.shru">Int.shru</a></span> <span class="id">n1</span> <span class="id">n</span>)); <span class="tactic">split</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">LT</span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="Integers.html#Int.add">Int.add</a></span> <span class="id">n</span> <span class="id">n1</span>) <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span>) <span class="id">eqn</span>:?.<br/>
+ <span class="id">exists</span> (<span class="id"><a href="Values.html#Val.shru">Val.shru</a></span> <span class="id">v1</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> (<span class="id"><a href="Integers.html#Int.add">Int.add</a></span> <span class="id">n</span> <span class="id">n1</span>))); <span class="tactic">split</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">destruct</span> <span class="id">v1</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heqb</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n1</span> <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span>) <span class="id">eqn</span>:?; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">LT</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.add_commut">Int.add_commut</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.shru_shru">Int.shru_shru</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.add_commut">Int.add_commut</a></span>; <span class="tactic">auto</span>.<br/>
+ <span class="id">TrivialExists</span>. <span class="id">econstructor</span>. <span class="id">EvalOp</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">auto</span>.<br/>
- <span class="id">TrivialExists</span>.<br/>
- <span class="tactic">intros</span>; <span class="id">TrivialExists</span>. <span class="id">constructor</span>. <span class="tactic">eauto</span>. <span class="id">constructor</span>. <span class="id">EvalOp</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_shrimm">eval_shrimm</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span>, <span class="id"><a href="SelectOpproof.html#unary_constructor_sound">unary_constructor_sound</a></span> (<span class="kwd">fun</span> <span class="id">a</span> =&gt; <span class="id"><a href="SelectOp.html#shrimm">shrimm</a></span> <span class="id"><a href="SelectOpproof.html#a">a</a></span> <span class="id"><a href="SelectOpproof.html#n">n</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="Values.html#Val.shr">Val.shr</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="SelectOpproof.html#n">n</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2205')">Proof.</div>
<div class="proofscript" id="proof2205">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">x</span>.  <span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#shrimm">shrimm</a></span>.<br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="Integers.html#Int.eq_spec">Int.eq_spec</a></span> <span class="id">n</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">subst</span>. <span class="id">exists</span> <span class="id">x</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.shr_zero">Int.shr_zero</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n</span> <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span>) <span class="id">eqn</span>:<span class="id">LT</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="SelectOp.html#shrimm_match">shrimm_match</a></span> <span class="id">a</span>); <span class="tactic">intros</span>; <span class="id">InvEval</span>.<br/>
- <span class="id">exists</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> (<span class="id"><a href="Integers.html#Int.shr">Int.shr</a></span> <span class="id">n1</span> <span class="id">n</span>)); <span class="tactic">split</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">LT</span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="Integers.html#Int.add">Int.add</a></span> <span class="id">n</span> <span class="id">n1</span>) <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span>) <span class="id">eqn</span>:?.<br/>
+ <span class="id">exists</span> (<span class="id"><a href="Values.html#Val.shr">Val.shr</a></span> <span class="id">v1</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> (<span class="id"><a href="Integers.html#Int.add">Int.add</a></span> <span class="id">n</span> <span class="id">n1</span>))); <span class="tactic">split</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">destruct</span> <span class="id">v1</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heqb</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n1</span> <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span>) <span class="id">eqn</span>:?; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">LT</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.add_commut">Int.add_commut</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.shr_shr">Int.shr_shr</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.add_commut">Int.add_commut</a></span>; <span class="tactic">auto</span>.<br/>
+ <span class="id">TrivialExists</span>. <span class="id">econstructor</span>. <span class="id">EvalOp</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">auto</span>.<br/>
- <span class="id">TrivialExists</span>.<br/>
- <span class="tactic">intros</span>; <span class="id">TrivialExists</span>. <span class="id">constructor</span>. <span class="tactic">eauto</span>. <span class="id">constructor</span>. <span class="id">EvalOp</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_mulimm_base">eval_mulimm_base</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span>, <span class="id"><a href="SelectOpproof.html#unary_constructor_sound">unary_constructor_sound</a></span> (<span class="id"><a href="SelectOp.html#mulimm_base">mulimm_base</a></span> <span class="id"><a href="SelectOpproof.html#n">n</a></span>) (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="Values.html#Val.mul">Val.mul</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="SelectOpproof.html#n">n</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2206')">Proof.</div>
<div class="proofscript" id="proof2206">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#mulimm_base">mulimm_base</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Integers.html#Int.one_bits_decomp">Int.one_bits_decomp</a></span> <span class="id">n</span>) (<span class="id"><a href="Integers.html#Int.one_bits_range">Int.one_bits_range</a></span> <span class="id">n</span>); <span class="tactic">intros</span> <span class="id">D</span> <span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.one_bits">Int.one_bits</a></span> <span class="id">n</span>) <span class="kwd">as</span> [ | <span class="id">i</span> <span class="id">l</span>].<br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">l</span> <span class="kwd">as</span> [ | <span class="id">j</span> <span class="id">l</span> ].<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="Values.html#Val.mul">Val.mul</a></span> <span class="id">x</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>)) <span class="kwd">with</span> (<span class="id"><a href="Values.html#Val.shl">Val.shl</a></span> <span class="id">x</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">i</span>)). <span class="tactic">apply</span> <span class="id"><a href="SelectOpproof.html#eval_shlimm">eval_shlimm</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">auto</span>; <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">D</span>; <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.add_zero">Int.add_zero</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">R</span> <span class="tactic">by</span> <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">coqlib</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.shl_mul">Int.shl_mul</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">l</span> <span class="kwd">as</span> [ | <span class="id">k</span> <span class="id">l</span> ].<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="SelectOpproof.html#eval_shlimm">eval_shlimm</a></span> <span class="id">i</span> (<span class="id">x</span> :: <span class="id">le</span>) (<span class="id"><a href="CminorSel.html#Eletvar">Eletvar</a></span> 0) <span class="id">x</span>). <span class="id">constructor</span>; <span class="tactic">auto</span>. <span class="tactic">intros</span> [<span class="id">v1</span> [<span class="id">A1</span> <span class="id">B1</span>]].<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="SelectOpproof.html#eval_shlimm">eval_shlimm</a></span> <span class="id">j</span> (<span class="id">x</span> :: <span class="id">le</span>) (<span class="id"><a href="CminorSel.html#Eletvar">Eletvar</a></span> 0) <span class="id">x</span>). <span class="id">constructor</span>; <span class="tactic">auto</span>. <span class="tactic">intros</span> [<span class="id">v2</span> [<span class="id">A2</span> <span class="id">B2</span>]].<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SelectOpproof.html#eval_add">eval_add</a></span>. <span class="id">eexact</span> <span class="id">A1</span>. <span class="id">eexact</span> <span class="id">A2</span>. <span class="tactic">intros</span> [<span class="id">v3</span> [<span class="id">A3</span> <span class="id">B3</span>]].<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v3</span>; <span class="tactic">split</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">D</span>; <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.add_zero">Int.add_zero</a></span>. <br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> (<span class="id"><a href="Integers.html#Int.add">Int.add</a></span> (<span class="id"><a href="Integers.html#Int.shl">Int.shl</a></span> <span class="id"><a href="Integers.html#Int.one">Int.one</a></span> <span class="id">i</span>) (<span class="id"><a href="Integers.html#Int.shl">Int.shl</a></span> <span class="id"><a href="Integers.html#Int.one">Int.one</a></span> <span class="id">j</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> (<span class="id"><a href="Values.html#Val.add">Val.add</a></span> (<span class="id"><a href="Values.html#Val.shl">Val.shl</a></span> <span class="id"><a href="Values.html#Vone">Vone</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">i</span>)) (<span class="id"><a href="Values.html#Val.shl">Val.shl</a></span> <span class="id"><a href="Values.html#Vone">Vone</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">j</span>))).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Values.html#Val.mul_add_distr_r">Val.mul_add_distr_r</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Values.html#Val.shl_mul">Val.shl_mul</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.lessdef_trans">Val.lessdef_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="Values.html#Val.add">Val.add</a></span> <span class="id">v1</span> <span class="id">v2</span>); <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.add_lessdef">Val.add_lessdef</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> ! <span class="id">R</span> <span class="tactic">by</span> <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">coqlib</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_mulimm">eval_mulimm</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span>, <span class="id"><a href="SelectOpproof.html#unary_constructor_sound">unary_constructor_sound</a></span> (<span class="id"><a href="SelectOp.html#mulimm">mulimm</a></span> <span class="id"><a href="SelectOpproof.html#n">n</a></span>) (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="Values.html#Val.mul">Val.mul</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="SelectOpproof.html#n">n</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2207')">Proof.</div>
<div class="proofscript" id="proof2207">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">x</span>; <span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#mulimm">mulimm</a></span>.<br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="Integers.html#Int.eq_spec">Int.eq_spec</a></span> <span class="id">n</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">exists</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>); <span class="tactic">split</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">subst</span> <span class="id">n</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.mul_zero">Int.mul_zero</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="Integers.html#Int.eq_spec">Int.eq_spec</a></span> <span class="id">n</span> <span class="id"><a href="Integers.html#Int.one">Int.one</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">exists</span> <span class="id">x</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">subst</span> <span class="id">n</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.mul_one">Int.mul_one</a></span>. <span class="tactic">auto</span>.<br/>
- <span class="tactic">case</span> (<span class="id"><a href="SelectOp.html#mulimm_match">mulimm_match</a></span> <span class="id">a</span>); <span class="tactic">intros</span>; <span class="id">InvEval</span>.<br/>
+ <span class="id">TrivialExists</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.mul_commut">Int.mul_commut</a></span>; <span class="tactic">auto</span>.<br/>
+ <span class="tactic">rewrite</span> <span class="id"><a href="Values.html#Val.mul_add_distr_l">Val.mul_add_distr_l</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SelectOpproof.html#eval_mulimm_base">eval_mulimm_base</a></span>; <span class="tactic">eauto</span>. <span class="id">instantiate</span> (1 := <span class="id">n</span>). <span class="tactic">intros</span> [<span class="id">v</span>' [<span class="id">A1</span> <span class="id">B1</span>]].<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="SelectOpproof.html#eval_addimm">eval_addimm</a></span> (<span class="id"><a href="Integers.html#Int.mul">Int.mul</a></span> <span class="id">n</span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> <span class="id">n2</span>)) <span class="id">le</span> (<span class="id"><a href="SelectOp.html#mulimm_base">mulimm_base</a></span> <span class="id">n</span> <span class="id">t2</span>) <span class="id">v</span>'). <span class="tactic">auto</span>. <span class="tactic">intros</span> [<span class="id">v</span>'' [<span class="id">A2</span> <span class="id">B2</span>]].<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>''; <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">eapply</span> <span class="id"><a href="Values.html#Val.lessdef_trans">Val.lessdef_trans</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="Values.html#Val.add_lessdef">Val.add_lessdef</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Values.html#Val.mul_commut">Val.mul_commut</a></span>; <span class="tactic">auto</span>.<br/>
+ <span class="tactic">apply</span> <span class="id"><a href="SelectOpproof.html#eval_mulimm_base">eval_mulimm_base</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_mul">eval_mul</a></span>: <span class="id"><a href="SelectOpproof.html#binary_constructor_sound">binary_constructor_sound</a></span> <span class="id"><a href="SelectOp.html#mul">mul</a></span> <span class="id"><a href="Values.html#Val.mul">Val.mul</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2208')">Proof.</div>
<div class="proofscript" id="proof2208">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#mul">mul</a></span>; <span class="tactic">case</span> (<span class="id"><a href="SelectOp.html#mul_match">mul_match</a></span> <span class="id">a</span> <span class="id">b</span>); <span class="tactic">intros</span>; <span class="id">InvEval</span>.<br/>
- <span class="tactic">rewrite</span> <span class="id"><a href="Values.html#Val.mul_commut">Val.mul_commut</a></span>. <span class="tactic">apply</span> <span class="id"><a href="SelectOpproof.html#eval_mulimm">eval_mulimm</a></span>. <span class="tactic">auto</span>.<br/>
- <span class="tactic">apply</span> <span class="id"><a href="SelectOpproof.html#eval_mulimm">eval_mulimm</a></span>. <span class="tactic">auto</span>.<br/>
- <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_andimm">eval_andimm</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span>, <span class="id"><a href="SelectOpproof.html#unary_constructor_sound">unary_constructor_sound</a></span> (<span class="id"><a href="SelectOp.html#andimm">andimm</a></span> <span class="id"><a href="SelectOpproof.html#n">n</a></span>) (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="Values.html#Val.and">Val.and</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="SelectOpproof.html#n">n</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2209')">Proof.</div>
<div class="proofscript" id="proof2209">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">x</span>. <span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#andimm">andimm</a></span>.<br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="Integers.html#Int.eq_spec">Int.eq_spec</a></span> <span class="id">n</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">exists</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>); <span class="tactic">split</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">subst</span> <span class="id">n</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.and_zero">Int.and_zero</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="Integers.html#Int.eq_spec">Int.eq_spec</a></span> <span class="id">n</span> <span class="id"><a href="Integers.html#Int.mone">Int.mone</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">exists</span> <span class="id">x</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">subst</span> <span class="id">n</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.and_mone">Int.and_mone</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">case</span> (<span class="id"><a href="SelectOp.html#andimm_match">andimm_match</a></span> <span class="id">a</span>); <span class="tactic">intros</span>; <span class="id">InvEval</span>.<br/>
- <span class="id">TrivialExists</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.and_commut">Int.and_commut</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="id">TrivialExists</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Values.html#Val.and_assoc">Val.and_assoc</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.and_commut">Int.and_commut</a></span>. <span class="tactic">auto</span>.<br/>
- <span class="tactic">rewrite</span> <span class="id"><a href="Values.html#Val.zero_ext_and">Val.zero_ext_and</a></span>. <span class="id">TrivialExists</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Values.html#Val.and_assoc">Val.and_assoc</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.and_commut">Int.and_commut</a></span>. <span class="tactic">auto</span>. <span class="tactic">compute</span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">rewrite</span> <span class="id"><a href="Values.html#Val.zero_ext_and">Val.zero_ext_and</a></span>. <span class="id">TrivialExists</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Values.html#Val.and_assoc">Val.and_assoc</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.and_commut">Int.and_commut</a></span>. <span class="tactic">auto</span>. <span class="tactic">compute</span>; <span class="tactic">auto</span>.<br/>
- <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_and">eval_and</a></span>: <span class="id"><a href="SelectOpproof.html#binary_constructor_sound">binary_constructor_sound</a></span> <span class="id"><a href="SelectOp.html#and">and</a></span> <span class="id"><a href="Values.html#Val.and">Val.and</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2210')">Proof.</div>
<div class="proofscript" id="proof2210">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">y</span>; <span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#and">and</a></span>; <span class="tactic">case</span> (<span class="id"><a href="SelectOp.html#and_match">and_match</a></span> <span class="id">a</span> <span class="id">b</span>); <span class="tactic">intros</span>; <span class="id">InvEval</span>.<br/>
- <span class="tactic">rewrite</span> <span class="id"><a href="Values.html#Val.and_commut">Val.and_commut</a></span>. <span class="tactic">apply</span> <span class="id"><a href="SelectOpproof.html#eval_andimm">eval_andimm</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">apply</span> <span class="id"><a href="SelectOpproof.html#eval_andimm">eval_andimm</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_orimm">eval_orimm</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span>, <span class="id"><a href="SelectOpproof.html#unary_constructor_sound">unary_constructor_sound</a></span> (<span class="id"><a href="SelectOp.html#orimm">orimm</a></span> <span class="id"><a href="SelectOpproof.html#n">n</a></span>) (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="Values.html#Val.or">Val.or</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="SelectOpproof.html#n">n</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2211')">Proof.</div>
<div class="proofscript" id="proof2211">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">x</span>. <span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#orimm">orimm</a></span>.<br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="Integers.html#Int.eq_spec">Int.eq_spec</a></span> <span class="id">n</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">exists</span> <span class="id">x</span>; <span class="tactic">split</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">subst</span> <span class="id">n</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.or_zero">Int.or_zero</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="Integers.html#Int.eq_spec">Int.eq_spec</a></span> <span class="id">n</span> <span class="id"><a href="Integers.html#Int.mone">Int.mone</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">exists</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="Integers.html#Int.mone">Int.mone</a></span>); <span class="tactic">split</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">subst</span> <span class="id">n</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.or_mone">Int.or_mone</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="SelectOp.html#orimm_match">orimm_match</a></span> <span class="id">a</span>); <span class="tactic">intros</span>; <span class="id">InvEval</span>.<br/>
- <span class="id">TrivialExists</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.or_commut">Int.or_commut</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">subst</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Values.html#Val.or_assoc">Val.or_assoc</a></span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.or_commut">Int.or_commut</a></span>. <span class="id">TrivialExists</span>.<br/>
- <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="eval_same_expr">eval_same_expr</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a1</span> <span class="id">a2</span> <span class="id">le</span> <span class="id">v1</span> <span class="id">v2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="SelectOp.html#same_expr_pure">same_expr_pure</a></span> <span class="id"><a href="SelectOpproof.html#a1">a1</a></span> <span class="id"><a href="SelectOpproof.html#a2">a2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> <span class="id"><a href="SelectOpproof.html#a1">a1</a></span> <span class="id"><a href="SelectOpproof.html#v1">v1</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> <span class="id"><a href="SelectOpproof.html#a2">a2</a></span> <span class="id"><a href="SelectOpproof.html#v2">v2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="SelectOpproof.html#a1">a1</a></span> = <span class="id"><a href="SelectOpproof.html#a2">a2</a></span> /\ <span class="id"><a href="SelectOpproof.html#v1">v1</a></span> = <span class="id"><a href="SelectOpproof.html#v2">v2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2212')">Proof.</div>
<div class="proofscript" id="proof2212">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">v2</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a1</span>; <span class="tactic">simpl</span>; <span class="tactic">try</span> (<span class="tactic">intros</span>; <span class="tactic">discriminate</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a2</span>; <span class="tactic">simpl</span>; <span class="tactic">try</span> (<span class="tactic">intros</span>; <span class="tactic">discriminate</span>).<br/>
&nbsp;&nbsp;<span class="tactic">case</span> (<span class="id"><a href="AST.html#ident_eq">ident_eq</a></span> <span class="id">i</span> <span class="id">i0</span>); <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">i0</span>. <span class="tactic">inversion</span> <span class="id">H0</span>. <span class="tactic">inversion</span> <span class="id">H1</span>. <span class="tactic">split</span>. <span class="tactic">auto</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">discriminate</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="int_add_sub_eq">int_add_sub_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="Integers.html#Int.add">Int.add</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> <span class="id"><a href="SelectOpproof.html#y">y</a></span> = <span class="id"><a href="SelectOpproof.html#z">z</a></span> -&gt; <span class="id"><a href="Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="SelectOpproof.html#z">z</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> = <span class="id"><a href="SelectOpproof.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2213')">Proof.</div>
<div class="proofscript" id="proof2213">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">subst</span> <span class="id">z</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.sub_add_l">Int.sub_add_l</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.sub_idem">Int.sub_idem</a></span>. <span class="tactic">apply</span> <span class="id"><a href="Integers.html#Int.add_zero_l">Int.add_zero_l</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_or">eval_or</a></span>: <span class="id"><a href="SelectOpproof.html#binary_constructor_sound">binary_constructor_sound</a></span> <span class="id"><a href="SelectOp.html#or">or</a></span> <span class="id"><a href="Values.html#Val.or">Val.or</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2214')">Proof.</div>
<div class="proofscript" id="proof2214">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">y</span>; <span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#or">or</a></span>; <span class="tactic">case</span> (<span class="id"><a href="SelectOp.html#or_match">or_match</a></span> <span class="id">a</span> <span class="id">b</span>); <span class="tactic">intros</span>.<br/>
&nbsp;intconst&nbsp;*)</span>- <span class="id">InvEval</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Values.html#Val.or_commut">Val.or_commut</a></span>. <span class="tactic">apply</span> <span class="id"><a href="SelectOpproof.html#eval_orimm">eval_orimm</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="id">InvEval</span>. <span class="tactic">apply</span> <span class="id"><a href="SelectOpproof.html#eval_orimm">eval_orimm</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;shlimm&nbsp;-&nbsp;shruimm&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="Integers.html#Int.eq_spec">Int.eq_spec</a></span> (<span class="id"><a href="Integers.html#Int.add">Int.add</a></span> <span class="id">n1</span> <span class="id">n2</span>) <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="SelectOp.html#same_expr_pure">same_expr_pure</a></span> <span class="id">t1</span> <span class="id">t2</span>) <span class="id">eqn</span>:?.<br/>
&nbsp;&nbsp;<span class="id">InvEval</span>. <span class="id">exploit</span> <span class="id"><a href="SelectOpproof.html#eval_same_expr">eval_same_expr</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">EQ1</span> <span class="id">EQ2</span>]; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="Values.html#Val.ror">Val.ror</a></span> <span class="id">v0</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n2</span>)); <span class="tactic">split</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n1</span> <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span>) <span class="id">eqn</span>:?; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n2</span> <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span>) <span class="id">eqn</span>:?; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Integers.html#Int.or_ror">Int.or_ror</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">InvEval</span>. <span class="id">econstructor</span>; <span class="tactic">split</span>; <span class="tactic">eauto</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="id">erewrite</span> <span class="id"><a href="SelectOpproof.html#int_add_sub_eq">int_add_sub_eq</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>.<br/>
- <span class="comment">(*&nbsp;shruimm&nbsp;-&nbsp;shlimm&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="Integers.html#Int.eq_spec">Int.eq_spec</a></span> (<span class="id"><a href="Integers.html#Int.add">Int.add</a></span> <span class="id">n1</span> <span class="id">n2</span>) <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="SelectOp.html#same_expr_pure">same_expr_pure</a></span> <span class="id">t1</span> <span class="id">t2</span>) <span class="id">eqn</span>:?.<br/>
&nbsp;&nbsp;<span class="id">InvEval</span>. <span class="id">exploit</span> <span class="id"><a href="SelectOpproof.html#eval_same_expr">eval_same_expr</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">EQ1</span> <span class="id">EQ2</span>]; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="Values.html#Val.ror">Val.ror</a></span> <span class="id">v1</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n2</span>)); <span class="tactic">split</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v1</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n2</span> <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span>) <span class="id">eqn</span>:?; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n1</span> <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span>) <span class="id">eqn</span>:?; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.or_commut">Int.or_commut</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Integers.html#Int.or_ror">Int.or_ror</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">InvEval</span>. <span class="id">econstructor</span>; <span class="tactic">split</span>; <span class="tactic">eauto</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="id">erewrite</span> <span class="id"><a href="SelectOpproof.html#int_add_sub_eq">int_add_sub_eq</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Values.html#Val.or_commut">Val.or_commut</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>.<br/>
- <span class="comment">(*&nbsp;default&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_xorimm">eval_xorimm</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span>, <span class="id"><a href="SelectOpproof.html#unary_constructor_sound">unary_constructor_sound</a></span> (<span class="id"><a href="SelectOp.html#xorimm">xorimm</a></span> <span class="id"><a href="SelectOpproof.html#n">n</a></span>) (<span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="Values.html#Val.xor">Val.xor</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="SelectOpproof.html#n">n</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2215')">Proof.</div>
<div class="proofscript" id="proof2215">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">x</span>. <span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#xorimm">xorimm</a></span>.<br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="Integers.html#Int.eq_spec">Int.eq_spec</a></span> <span class="id">n</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">exists</span> <span class="id">x</span>; <span class="tactic">split</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">subst</span> <span class="id">n</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.xor_zero">Int.xor_zero</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="SelectOp.html#xorimm_match">xorimm_match</a></span> <span class="id">a</span>); <span class="tactic">intros</span>; <span class="id">InvEval</span>.<br/>
- <span class="id">TrivialExists</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.xor_commut">Int.xor_commut</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">rewrite</span> <span class="id"><a href="Values.html#Val.xor_assoc">Val.xor_assoc</a></span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.xor_commut">Int.xor_commut</a></span>. <span class="id">TrivialExists</span>.<br/>
- <span class="tactic">rewrite</span> <span class="id"><a href="Values.html#Val.not_xor">Val.not_xor</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Values.html#Val.xor_assoc">Val.xor_assoc</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="Values.html#Val.xor_commut">Val.xor_commut</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="Integers.html#Int.mone">Int.mone</a></span>)). <span class="id">TrivialExists</span>.<br/>
- <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_xor">eval_xor</a></span>: <span class="id"><a href="SelectOpproof.html#binary_constructor_sound">binary_constructor_sound</a></span> <span class="id"><a href="SelectOp.html#xor">xor</a></span> <span class="id"><a href="Values.html#Val.xor">Val.xor</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2216')">Proof.</div>
<div class="proofscript" id="proof2216">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">y</span>; <span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#xor">xor</a></span>; <span class="tactic">case</span> (<span class="id"><a href="SelectOp.html#xor_match">xor_match</a></span> <span class="id">a</span> <span class="id">b</span>); <span class="tactic">intros</span>; <span class="id">InvEval</span>.<br/>
- <span class="tactic">rewrite</span> <span class="id"><a href="Values.html#Val.xor_commut">Val.xor_commut</a></span>. <span class="tactic">apply</span> <span class="id"><a href="SelectOpproof.html#eval_xorimm">eval_xorimm</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">apply</span> <span class="id"><a href="SelectOpproof.html#eval_xorimm">eval_xorimm</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_divs_base">eval_divs_base</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">a</span> <span class="id">b</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> <span class="id"><a href="SelectOpproof.html#a">a</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> <span class="id"><a href="SelectOpproof.html#b">b</a></span> <span class="id"><a href="SelectOpproof.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.divs">Val.divs</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> <span class="id"><a href="SelectOpproof.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SelectOpproof.html#z">z</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> (<span class="id"><a href="SelectOp.html#divs_base">divs_base</a></span> <span class="id"><a href="SelectOpproof.html#a">a</a></span> <span class="id"><a href="SelectOpproof.html#b">b</a></span>) <span class="id"><a href="SelectOpproof.html#v">v</a></span> /\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="SelectOpproof.html#z">z</a></span> <span class="id"><a href="SelectOpproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2217')">Proof.</div>
<div class="proofscript" id="proof2217">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#divs_base">divs_base</a></span>. <span class="id">exists</span> <span class="id">z</span>; <span class="tactic">split</span>. <span class="id">EvalOp</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_divu_base">eval_divu_base</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">a</span> <span class="id">b</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> <span class="id"><a href="SelectOpproof.html#a">a</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> <span class="id"><a href="SelectOpproof.html#b">b</a></span> <span class="id"><a href="SelectOpproof.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.divu">Val.divu</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> <span class="id"><a href="SelectOpproof.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SelectOpproof.html#z">z</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> (<span class="id"><a href="SelectOp.html#divu_base">divu_base</a></span> <span class="id"><a href="SelectOpproof.html#a">a</a></span> <span class="id"><a href="SelectOpproof.html#b">b</a></span>) <span class="id"><a href="SelectOpproof.html#v">v</a></span> /\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="SelectOpproof.html#z">z</a></span> <span class="id"><a href="SelectOpproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2218')">Proof.</div>
<div class="proofscript" id="proof2218">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#divu_base">divu_base</a></span>. <span class="id">exists</span> <span class="id">z</span>; <span class="tactic">split</span>. <span class="id">EvalOp</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_mods_base">eval_mods_base</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">a</span> <span class="id">b</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> <span class="id"><a href="SelectOpproof.html#a">a</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> <span class="id"><a href="SelectOpproof.html#b">b</a></span> <span class="id"><a href="SelectOpproof.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.mods">Val.mods</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> <span class="id"><a href="SelectOpproof.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SelectOpproof.html#z">z</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> (<span class="id"><a href="SelectOp.html#mods_base">mods_base</a></span> <span class="id"><a href="SelectOpproof.html#a">a</a></span> <span class="id"><a href="SelectOpproof.html#b">b</a></span>) <span class="id"><a href="SelectOpproof.html#v">v</a></span> /\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="SelectOpproof.html#z">z</a></span> <span class="id"><a href="SelectOpproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2219')">Proof.</div>
<div class="proofscript" id="proof2219">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#mods_base">mods_base</a></span>. <span class="id">exists</span> <span class="id">z</span>; <span class="tactic">split</span>. <span class="id">EvalOp</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_modu_base">eval_modu_base</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">a</span> <span class="id">b</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> <span class="id"><a href="SelectOpproof.html#a">a</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> <span class="id"><a href="SelectOpproof.html#b">b</a></span> <span class="id"><a href="SelectOpproof.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.modu">Val.modu</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> <span class="id"><a href="SelectOpproof.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SelectOpproof.html#z">z</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> (<span class="id"><a href="SelectOp.html#modu_base">modu_base</a></span> <span class="id"><a href="SelectOpproof.html#a">a</a></span> <span class="id"><a href="SelectOpproof.html#b">b</a></span>) <span class="id"><a href="SelectOpproof.html#v">v</a></span> /\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="SelectOpproof.html#z">z</a></span> <span class="id"><a href="SelectOpproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2220')">Proof.</div>
<div class="proofscript" id="proof2220">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#modu_base">modu_base</a></span>. <span class="id">exists</span> <span class="id">z</span>; <span class="tactic">split</span>. <span class="id">EvalOp</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_shrximm">eval_shrximm</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">a</span> <span class="id">n</span> <span class="id">x</span> <span class="id">z</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> <span class="id"><a href="SelectOpproof.html#a">a</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.shrx">Val.shrx</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="SelectOpproof.html#n">n</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SelectOpproof.html#z">z</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> (<span class="id"><a href="SelectOp.html#shrximm">shrximm</a></span> <span class="id"><a href="SelectOpproof.html#a">a</a></span> <span class="id"><a href="SelectOpproof.html#n">n</a></span>) <span class="id"><a href="SelectOpproof.html#v">v</a></span> /\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="SelectOpproof.html#z">z</a></span> <span class="id"><a href="SelectOpproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2221')">Proof.</div>
<div class="proofscript" id="proof2221">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#shrximm">shrximm</a></span>.<br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="Integers.html#Int.eq_spec">Int.eq_spec</a></span> <span class="id">n</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">n</span>. <span class="id">exists</span> <span class="id">x</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> 31)); <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="Integers.html#Int.shrx">Int.shrx</a></span> <span class="id">i</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>) <span class="kwd">with</span> <span class="id">i</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Integers.html#Int.shrx">Int.shrx</a></span>, <span class="id"><a href="Integers.html#Int.divs">Int.divs</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.shl_zero">Int.shl_zero</a></span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="Integers.html#Int.signed">Int.signed</a></span> <span class="id"><a href="Integers.html#Int.one">Int.one</a></span>) <span class="kwd">with</span> 1. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.quot_1_r">Z.quot_1_r</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.repr_signed">Int.repr_signed</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>. <span class="id">EvalOp</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_shl">eval_shl</a></span>: <span class="id"><a href="SelectOpproof.html#binary_constructor_sound">binary_constructor_sound</a></span> <span class="id"><a href="SelectOp.html#shl">shl</a></span> <span class="id"><a href="Values.html#Val.shl">Val.shl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2222')">Proof.</div>
<div class="proofscript" id="proof2222">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">y</span>; <span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#shl">shl</a></span>; <span class="tactic">case</span> (<span class="id"><a href="SelectOp.html#shl_match">shl_match</a></span> <span class="id">b</span>); <span class="tactic">intros</span>.<br/>
- <span class="id">InvEval</span>. <span class="tactic">apply</span> <span class="id"><a href="SelectOpproof.html#eval_shlimm">eval_shlimm</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_shr">eval_shr</a></span>: <span class="id"><a href="SelectOpproof.html#binary_constructor_sound">binary_constructor_sound</a></span> <span class="id"><a href="SelectOp.html#shr">shr</a></span> <span class="id"><a href="Values.html#Val.shr">Val.shr</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2223')">Proof.</div>
<div class="proofscript" id="proof2223">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">y</span>; <span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#shr">shr</a></span>; <span class="tactic">case</span> (<span class="id"><a href="SelectOp.html#shr_match">shr_match</a></span> <span class="id">b</span>); <span class="tactic">intros</span>.<br/>
- <span class="id">InvEval</span>. <span class="tactic">apply</span> <span class="id"><a href="SelectOpproof.html#eval_shrimm">eval_shrimm</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_shru">eval_shru</a></span>: <span class="id"><a href="SelectOpproof.html#binary_constructor_sound">binary_constructor_sound</a></span> <span class="id"><a href="SelectOp.html#shru">shru</a></span> <span class="id"><a href="Values.html#Val.shru">Val.shru</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2224')">Proof.</div>
<div class="proofscript" id="proof2224">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">y</span>; <span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#shru">shru</a></span>; <span class="tactic">case</span> (<span class="id"><a href="SelectOp.html#shru_match">shru_match</a></span> <span class="id">b</span>); <span class="tactic">intros</span>.<br/>
- <span class="id">InvEval</span>. <span class="tactic">apply</span> <span class="id"><a href="SelectOpproof.html#eval_shruimm">eval_shruimm</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_negf">eval_negf</a></span>: <span class="id"><a href="SelectOpproof.html#unary_constructor_sound">unary_constructor_sound</a></span> <span class="id"><a href="SelectOp.html#negf">negf</a></span> <span class="id"><a href="Values.html#Val.negf">Val.negf</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2225')">Proof.</div>
<div class="proofscript" id="proof2225">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_absf">eval_absf</a></span>: <span class="id"><a href="SelectOpproof.html#unary_constructor_sound">unary_constructor_sound</a></span> <span class="id"><a href="SelectOp.html#absf">absf</a></span> <span class="id"><a href="Values.html#Val.absf">Val.absf</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2226')">Proof.</div>
<div class="proofscript" id="proof2226">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_addf">eval_addf</a></span>: <span class="id"><a href="SelectOpproof.html#binary_constructor_sound">binary_constructor_sound</a></span> <span class="id"><a href="SelectOp.html#addf">addf</a></span> <span class="id"><a href="Values.html#Val.addf">Val.addf</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2227')">Proof.</div>
<div class="proofscript" id="proof2227">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span>; <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_subf">eval_subf</a></span>: <span class="id"><a href="SelectOpproof.html#binary_constructor_sound">binary_constructor_sound</a></span> <span class="id"><a href="SelectOp.html#subf">subf</a></span> <span class="id"><a href="Values.html#Val.subf">Val.subf</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2228')">Proof.</div>
<div class="proofscript" id="proof2228">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span>; <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_mulf">eval_mulf</a></span>: <span class="id"><a href="SelectOpproof.html#binary_constructor_sound">binary_constructor_sound</a></span> <span class="id"><a href="SelectOp.html#mulf">mulf</a></span> <span class="id"><a href="Values.html#Val.mulf">Val.mulf</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2229')">Proof.</div>
<div class="proofscript" id="proof2229">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span>; <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_negfs">eval_negfs</a></span>: <span class="id"><a href="SelectOpproof.html#unary_constructor_sound">unary_constructor_sound</a></span> <span class="id"><a href="SelectOp.html#negfs">negfs</a></span> <span class="id"><a href="Values.html#Val.negfs">Val.negfs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2230')">Proof.</div>
<div class="proofscript" id="proof2230">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_absfs">eval_absfs</a></span>: <span class="id"><a href="SelectOpproof.html#unary_constructor_sound">unary_constructor_sound</a></span> <span class="id"><a href="SelectOp.html#absfs">absfs</a></span> <span class="id"><a href="Values.html#Val.absfs">Val.absfs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2231')">Proof.</div>
<div class="proofscript" id="proof2231">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_addfs">eval_addfs</a></span>: <span class="id"><a href="SelectOpproof.html#binary_constructor_sound">binary_constructor_sound</a></span> <span class="id"><a href="SelectOp.html#addfs">addfs</a></span> <span class="id"><a href="Values.html#Val.addfs">Val.addfs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2232')">Proof.</div>
<div class="proofscript" id="proof2232">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span>; <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_subfs">eval_subfs</a></span>: <span class="id"><a href="SelectOpproof.html#binary_constructor_sound">binary_constructor_sound</a></span> <span class="id"><a href="SelectOp.html#subfs">subfs</a></span> <span class="id"><a href="Values.html#Val.subfs">Val.subfs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2233')">Proof.</div>
<div class="proofscript" id="proof2233">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span>; <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_mulfs">eval_mulfs</a></span>: <span class="id"><a href="SelectOpproof.html#binary_constructor_sound">binary_constructor_sound</a></span> <span class="id"><a href="SelectOp.html#mulfs">mulfs</a></span> <span class="id"><a href="Values.html#Val.mulfs">Val.mulfs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2234')">Proof.</div>
<div class="proofscript" id="proof2234">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span>; <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<div class="doc">My Modification:
    stop using Val.cmpu, use <span class="bracket"><span class="id">option_map</span> <span class="id">Val.of_bool</span> <span class="id">Val.cmpu_bool</span></span> instead. </div>
<span class="kwd">Section</span> <span class="id"><a name="CMCONSTR.COMP_IMM_OPT">COMP_IMM_OPT</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CMCONSTR.COMP_IMM_OPT.default">default</a></span>: <span class="id"><a href="Integers.html#comparison">comparison</a></span> -&gt; <span class="id"><a href="Integers.html#int">int</a></span> -&gt; <span class="id"><a href="Op.html#condition">condition</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CMCONSTR.COMP_IMM_OPT.intsem">intsem</a></span>: <span class="id"><a href="Integers.html#comparison">comparison</a></span> -&gt; <span class="id"><a href="Integers.html#int">int</a></span> -&gt; <span class="id"><a href="Integers.html#int">int</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CMCONSTR.COMP_IMM_OPT.sem">sem</a></span>: <span class="id"><a href="Integers.html#comparison">comparison</a></span> -&gt; <span class="id"><a href="Values.html#val">val</a></span> -&gt; <span class="id"><a href="Values.html#val">val</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Values.html#val">val</a></span>.<br/>
<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="CMCONSTR.COMP_IMM_OPT.sem_int">sem_int</a></span>: <span class="kwd">forall</span> <span class="id">c</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="SelectOpproof.html#CMCONSTR.COMP_IMM_OPT.sem">sem</a></span> <span class="id"><a href="SelectOpproof.html#c">c</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span>) (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="SelectOpproof.html#y">y</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.of_bool">Val.of_bool</a></span> (<span class="id"><a href="SelectOpproof.html#CMCONSTR.COMP_IMM_OPT.intsem">intsem</a></span> <span class="id"><a href="SelectOpproof.html#c">c</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> <span class="id"><a href="SelectOpproof.html#y">y</a></span>)).<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="CMCONSTR.COMP_IMM_OPT.sem_eq">sem_eq</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="SelectOpproof.html#CMCONSTR.COMP_IMM_OPT.sem">sem</a></span> <span class="id"><a href="Integers.html#Ceq">Ceq</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span>) (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="SelectOpproof.html#y">y</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.of_bool">Val.of_bool</a></span> (<span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> <span class="id"><a href="SelectOpproof.html#y">y</a></span>)).<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="CMCONSTR.COMP_IMM_OPT.sem_ne">sem_ne</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="SelectOpproof.html#CMCONSTR.COMP_IMM_OPT.sem">sem</a></span> <span class="id"><a href="Integers.html#Cne">Cne</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span>) (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="SelectOpproof.html#y">y</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.of_bool">Val.of_bool</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> <span class="id"><a href="SelectOpproof.html#y">y</a></span>))).<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="CMCONSTR.COMP_IMM_OPT.sem_default">sem_default</a></span>: <span class="kwd">forall</span> <span class="id">c</span> <span class="id">v</span> <span class="id">n</span>, <span class="id"><a href="SelectOpproof.html#CMCONSTR.COMP_IMM_OPT.sem">sem</a></span> <span class="id"><a href="SelectOpproof.html#c">c</a></span> <span class="id"><a href="SelectOpproof.html#v">v</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="SelectOpproof.html#n">n</a></span>) = <span class="id"><a href="Coqlib.html#option_map">option_map</a></span> <span class="id"><a href="Values.html#Val.of_bool">Val.of_bool</a></span> (<span class="id"><a href="Op.html#eval_condition">eval_condition</a></span> (<span class="id"><a href="SelectOpproof.html#CMCONSTR.COMP_IMM_OPT.default">default</a></span> <span class="id"><a href="SelectOpproof.html#c">c</a></span> <span class="id"><a href="SelectOpproof.html#n">n</a></span>) (<span class="id"><a href="SelectOpproof.html#v">v</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_compimm_opt">eval_compimm_opt</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">c</span> <span class="id">a</span> <span class="id">n2</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> <span class="id"><a href="SelectOpproof.html#a">a</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="SelectOpproof.html#CMCONSTR.COMP_IMM_OPT.sem">sem</a></span> <span class="id"><a href="SelectOpproof.html#c">c</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="SelectOpproof.html#n2">n2</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SelectOpproof.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> (<span class="id"><a href="SelectOp.html#compimm">compimm</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.COMP_IMM_OPT.default">default</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.COMP_IMM_OPT.intsem">intsem</a></span> <span class="id"><a href="SelectOpproof.html#c">c</a></span> <span class="id"><a href="SelectOpproof.html#a">a</a></span> <span class="id"><a href="SelectOpproof.html#n2">n2</a></span>) <span class="id"><a href="SelectOpproof.html#v">v</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="SelectOpproof.html#y">y</a></span> <span class="id"><a href="SelectOpproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2235')">Proof.</div>
<div class="proofscript" id="proof2235">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#compimm">compimm</a></span>; <span class="tactic">case</span> (<span class="id"><a href="SelectOp.html#compimm_match">compimm_match</a></span> <span class="id">c</span> <span class="id">a</span>); <span class="tactic">intros</span> ? ? <span class="id">y</span> <span class="id">EVAL</span> <span class="id">RES</span>.<br/>
- <span class="comment">(*&nbsp;constant&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">InvEval</span>. <span class="tactic">rewrite</span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.COMP_IMM_OPT.sem_int">sem_int</a></span> <span class="kwd">in</span> <span class="id">RES</span>. <span class="id">TrivialExists</span>. <span class="tactic">simpl</span>. <span class="tactic">destruct</span> (<span class="id"><a href="SelectOpproof.html#CMCONSTR.COMP_IMM_OPT.intsem">intsem</a></span> <span class="id">c0</span> <span class="id">n1</span> <span class="id">n2</span>); <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;eq&nbsp;cmp&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">InvEval</span>. <span class="id">inv</span> <span class="id">EVAL</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H4</span>. <br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.eq_dec">Int.eq_dec</a></span> <span class="id">n2</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">n2</span>. <span class="id">TrivialExists</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Op.html#eval_negate_condition">eval_negate_condition</a></span>. <br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Op.html#eval_condition">eval_condition</a></span> <span class="id">c0</span> <span class="id">vl</span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span>); <span class="tactic">simpl</span> <span class="kwd">in</span> *; [|<span class="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">b</span>; <span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span>; <span class="tactic">unfold</span> <span class="id"><a href="Values.html#Vtrue">Vtrue</a></span>, <span class="id"><a href="Values.html#Vfalse">Vfalse</a></span> <span class="kwd">in</span> *; <span class="tactic">rewrite</span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.COMP_IMM_OPT.sem_eq">sem_eq</a></span> <span class="kwd">in</span> <span class="id">RES</span>; <span class="tactic">auto</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.eq_dec">Int.eq_dec</a></span> <span class="id">n2</span> <span class="id"><a href="Integers.html#Int.one">Int.one</a></span>). <span class="tactic">subst</span> <span class="id">n2</span>. <span class="id">TrivialExists</span>. <br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Op.html#eval_condition">eval_condition</a></span> <span class="id">c0</span> <span class="id">vl</span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span>); <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.of_bool">Val.of_bool</a></span>, <span class="id"><a href="Values.html#Vtrue">Vtrue</a></span>, <span class="id"><a href="Values.html#Vfalse">Vfalse</a></span> <span class="kwd">in</span> *. <span class="tactic">destruct</span> <span class="id">b</span>; <span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">rewrite</span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.COMP_IMM_OPT.sem_eq">sem_eq</a></span> <span class="kwd">in</span> <span class="id">RES</span>; <span class="tactic">auto</span>. <br/>
&nbsp;&nbsp;<span class="tactic">discriminate</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>); <span class="tactic">split</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Op.html#eval_condition">eval_condition</a></span> <span class="id">c0</span> <span class="id">vl</span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span>); <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.of_bool">Val.of_bool</a></span>, <span class="id"><a href="Values.html#Vtrue">Vtrue</a></span>, <span class="id"><a href="Values.html#Vfalse">Vfalse</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">b</span>; <span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">rewrite</span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.COMP_IMM_OPT.sem_eq">sem_eq</a></span> <span class="kwd">in</span> <span class="id">RES</span>; <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.eq_false">Int.eq_false</a></span> <span class="kwd">in</span> <span class="id">RES</span>; <span class="id">inv</span> <span class="id">RES</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">discriminate</span>.<br/>
<br/>
- <span class="comment">(*&nbsp;ne&nbsp;cmp&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">InvEval</span>. <span class="id">inv</span> <span class="id">EVAL</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H4</span>. <br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.eq_dec">Int.eq_dec</a></span> <span class="id">n2</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>). <span class="tactic">subst</span> <span class="id">n2</span>. <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.of_bool">Val.of_bool</a></span>, <span class="id"><a href="Values.html#Vtrue">Vtrue</a></span>, <span class="id"><a href="Values.html#Vfalse">Vfalse</a></span> <span class="kwd">in</span> *. <span class="tactic">destruct</span> (<span class="id"><a href="Op.html#eval_condition">eval_condition</a></span> <span class="id">c0</span> <span class="id">vl</span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span>); <span class="tactic">simpl</span>; [|<span class="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">b</span>; <span class="tactic">simpl</span>; <span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">rewrite</span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.COMP_IMM_OPT.sem_ne">sem_ne</a></span> <span class="kwd">in</span> <span class="id">RES</span>; <span class="tactic">auto</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.eq_dec">Int.eq_dec</a></span> <span class="id">n2</span> <span class="id"><a href="Integers.html#Int.one">Int.one</a></span>). <span class="tactic">subst</span> <span class="id">n2</span>. <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.of_bool">Val.of_bool</a></span>, <span class="id"><a href="Values.html#Vtrue">Vtrue</a></span>, <span class="id"><a href="Values.html#Vfalse">Vfalse</a></span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id"><a href="Op.html#eval_negate_condition">eval_negate_condition</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="Op.html#eval_condition">eval_condition</a></span> <span class="id">c0</span> <span class="id">vl</span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span>); <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">b</span>; <span class="tactic">simpl</span>; <span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">rewrite</span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.COMP_IMM_OPT.sem_ne">sem_ne</a></span> <span class="kwd">in</span> <span class="id">RES</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="Integers.html#Int.one">Int.one</a></span>); <span class="tactic">split</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Op.html#eval_condition">eval_condition</a></span> <span class="id">c0</span> <span class="id">vl</span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span>); <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.of_bool">Val.of_bool</a></span>, <span class="id"><a href="Values.html#Vtrue">Vtrue</a></span>, <span class="id"><a href="Values.html#Vfalse">Vfalse</a></span> <span class="kwd">in</span> *. <span class="tactic">destruct</span> <span class="id">b</span>; <span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">rewrite</span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.COMP_IMM_OPT.sem_ne">sem_ne</a></span>, <span class="id"><a href="Integers.html#Int.eq_false">Int.eq_false</a></span> <span class="kwd">in</span> <span class="id">RES</span>; <span class="id">inv</span> <span class="id">RES</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<br/>
- <span class="comment">(*&nbsp;eq&nbsp;andimm&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.eq_dec">Int.eq_dec</a></span> <span class="id">n2</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>).<br/>
&nbsp;&nbsp;+ <span class="id">InvEval</span>; <span class="tactic">subst</span>. <span class="tactic">destruct</span> <span class="id">v1</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">rewrite</span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.COMP_IMM_OPT.sem_default">sem_default</a></span> <span class="kwd">in</span> <span class="id">RES</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">RES</span>; <span class="tactic">destruct</span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.COMP_IMM_OPT.default">default</a></span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">RES</span>; <span class="tactic">discriminate</span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.COMP_IMM_OPT.sem_eq">sem_eq</a></span> <span class="kwd">in</span> <span class="id">RES</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">RES</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> (<span class="id"><a href="Integers.html#Int.and">Int.and</a></span> <span class="id">i</span> <span class="id">n1</span>) <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>) <span class="id">eqn</span>:<span class="id">RES</span>'; <span class="id">inv</span> <span class="id">RES</span>; (<span class="id">eexists</span>; <span class="tactic">split</span>; [<span class="id">EvalOp</span>; <span class="id">cbn</span>; <span class="tactic">rewrite</span> <span class="id">RES</span>'|];<span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;+ <span class="id">TrivialExists</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.COMP_IMM_OPT.sem_default">sem_default</a></span> <span class="kwd">in</span> <span class="id">RES</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
- <span class="comment">(*&nbsp;ne&nbsp;andimm&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.eq_dec">Int.eq_dec</a></span> <span class="id">n2</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>). <span class="id">InvEval</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v1</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">rewrite</span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.COMP_IMM_OPT.sem_default">sem_default</a></span> <span class="kwd">in</span> <span class="id">RES</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">RES</span>; <span class="tactic">destruct</span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.COMP_IMM_OPT.default">default</a></span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">RES</span>; <span class="tactic">discriminate</span>; <span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>. <span class="id">EvalOp</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.COMP_IMM_OPT.sem_ne">sem_ne</a></span> <span class="kwd">in</span> <span class="id">RES</span>; <span class="id">inv</span> <span class="id">RES</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.COMP_IMM_OPT.sem_default">sem_default</a></span> <span class="kwd">in</span> <span class="id">RES</span>. <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;default&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.COMP_IMM_OPT.sem_default">sem_default</a></span> <span class="kwd">in</span> <span class="id">RES</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="CMCONSTR.COMP_IMM_OPT.sem_swap">sem_swap</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="SelectOpproof.html#CMCONSTR.COMP_IMM_OPT.sem">sem</a></span> (<span class="id"><a href="Integers.html#swap_comparison">swap_comparison</a></span> <span class="id"><a href="SelectOpproof.html#c">c</a></span>) <span class="id"><a href="SelectOpproof.html#x">x</a></span> <span class="id"><a href="SelectOpproof.html#y">y</a></span> = <span class="id"><a href="SelectOpproof.html#CMCONSTR.COMP_IMM_OPT.sem">sem</a></span> <span class="id"><a href="SelectOpproof.html#c">c</a></span> <span class="id"><a href="SelectOpproof.html#y">y</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_compimm_swap_opt">eval_compimm_swap_opt</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">c</span> <span class="id">a</span> <span class="id">n2</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> <span class="id"><a href="SelectOpproof.html#a">a</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SelectOpproof.html#CMCONSTR.COMP_IMM_OPT.sem">sem</a></span> <span class="id"><a href="SelectOpproof.html#c">c</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="SelectOpproof.html#n2">n2</a></span>) <span class="id"><a href="SelectOpproof.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SelectOpproof.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> (<span class="id"><a href="SelectOp.html#compimm">compimm</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.COMP_IMM_OPT.default">default</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.COMP_IMM_OPT.intsem">intsem</a></span> (<span class="id"><a href="Integers.html#swap_comparison">swap_comparison</a></span> <span class="id"><a href="SelectOpproof.html#c">c</a></span>) <span class="id"><a href="SelectOpproof.html#a">a</a></span> <span class="id"><a href="SelectOpproof.html#n2">n2</a></span>) <span class="id"><a href="SelectOpproof.html#v">v</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="SelectOpproof.html#y">y</a></span> <span class="id"><a href="SelectOpproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2236')">Proof.</div>
<div class="proofscript" id="proof2236">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="SelectOpproof.html#CMCONSTR.COMP_IMM_OPT.sem_swap">sem_swap</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">eapply</span> <span class="id"><a href="SelectOpproof.html#eval_compimm_opt">eval_compimm_opt</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.COMP_IMM_OPT">COMP_IMM_OPT</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="binary_constructor_sound_opt">binary_constructor_sound_opt</a></span> (<span class="id">cstr</span>: <span class="id"><a href="CminorSel.html#expr">expr</a></span> -&gt; <span class="id"><a href="CminorSel.html#expr">expr</a></span> -&gt; <span class="id"><a href="CminorSel.html#expr">expr</a></span>) (<span class="id">sem</span>: <span class="id"><a href="Values.html#val">val</a></span> -&gt; <span class="id"><a href="Values.html#val">val</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Values.html#val">val</a></span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">a</span> <span class="id">x</span> <span class="id">b</span> <span class="id">y</span> <span class="id">z</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> <span class="id"><a href="SelectOpproof.html#a">a</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> <span class="id"><a href="SelectOpproof.html#b">b</a></span> <span class="id"><a href="SelectOpproof.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SelectOpproof.html#sem">sem</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> <span class="id"><a href="SelectOpproof.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SelectOpproof.html#z">z</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> (<span class="id"><a href="SelectOpproof.html#cstr">cstr</a></span> <span class="id"><a href="SelectOpproof.html#a">a</a></span> <span class="id"><a href="SelectOpproof.html#b">b</a></span>) <span class="id"><a href="SelectOpproof.html#v">v</a></span> /\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="SelectOpproof.html#z">z</a></span> <span class="id"><a href="SelectOpproof.html#v">v</a></span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_comp_opt">eval_comp_opt</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c</span>, <span class="id"><a href="SelectOpproof.html#binary_constructor_sound_opt">binary_constructor_sound_opt</a></span> (<span class="id"><a href="SelectOp.html#comp">comp</a></span> <span class="id"><a href="SelectOpproof.html#c">c</a></span>) (<span class="kwd">fun</span> <span class="id">v1</span> <span class="id">v2</span> =&gt; <span class="id"><a href="Coqlib.html#option_map">option_map</a></span> <span class="id"><a href="Values.html#Val.of_bool">Val.of_bool</a></span> (<span class="id"><a href="Values.html#Val.cmp_bool">Val.cmp_bool</a></span> <span class="id"><a href="SelectOpproof.html#c">c</a></span> <span class="id"><a href="SelectOpproof.html#v1">v1</a></span> <span class="id"><a href="SelectOpproof.html#v2">v2</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2237')">Proof.</div>
<div class="proofscript" id="proof2237">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">y</span>. <span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#comp">comp</a></span>; <span class="tactic">case</span> (<span class="id"><a href="SelectOp.html#comp_match">comp_match</a></span> <span class="id">a</span> <span class="id">b</span>); <span class="tactic">intros</span>; <span class="id">InvEval</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SelectOpproof.html#eval_compimm_swap_opt">eval_compimm_swap_opt</a></span> <span class="kwd">with</span> (<span class="id">sem</span>:= (<span class="kwd">fun</span> <span class="id">c</span> <span class="id">v1</span> <span class="id">v2</span> =&gt; <span class="id"><a href="Coqlib.html#option_map">option_map</a></span> <span class="id"><a href="Values.html#Val.of_bool">Val.of_bool</a></span> (<span class="id"><a href="Values.html#Val.cmp_bool">Val.cmp_bool</a></span> <span class="id"><a href="SelectOpproof.html#c">c</a></span> <span class="id"><a href="SelectOpproof.html#v1">v1</a></span> <span class="id"><a href="SelectOpproof.html#v2">v2</a></span>))); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Values.html#Val.swap_cmp_bool">Val.swap_cmp_bool</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SelectOpproof.html#eval_compimm_opt">eval_compimm_opt</a></span> <span class="kwd">with</span> (<span class="id">sem</span>:=<span class="kwd">fun</span> <span class="id">c</span> <span class="id">v1</span> <span class="id">v2</span> =&gt; <span class="id"><a href="Coqlib.html#option_map">option_map</a></span> <span class="id"><a href="Values.html#Val.of_bool">Val.of_bool</a></span> (<span class="id"><a href="Values.html#Val.cmp_bool">Val.cmp_bool</a></span> <span class="id"><a href="SelectOpproof.html#c">c</a></span> <span class="id"><a href="SelectOpproof.html#v1">v1</a></span> <span class="id"><a href="SelectOpproof.html#v2">v2</a></span>)); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_compu_opt">eval_compu_opt</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c</span>, <span class="id"><a href="SelectOpproof.html#binary_constructor_sound_opt">binary_constructor_sound_opt</a></span> (<span class="id"><a href="SelectOp.html#compu">compu</a></span> <span class="id"><a href="SelectOpproof.html#c">c</a></span>) (<span class="kwd">fun</span> <span class="id">v1</span> <span class="id">v2</span> =&gt; <span class="id"><a href="Coqlib.html#option_map">option_map</a></span> <span class="id"><a href="Values.html#Val.of_bool">Val.of_bool</a></span> (<span class="id"><a href="Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span> (<span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span>) <span class="id"><a href="SelectOpproof.html#c">c</a></span> <span class="id"><a href="SelectOpproof.html#v1">v1</a></span> <span class="id"><a href="SelectOpproof.html#v2">v2</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2238')">Proof.</div>
<div class="proofscript" id="proof2238">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">y</span>. <span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#compu">compu</a></span>; <span class="tactic">case</span> (<span class="id"><a href="SelectOp.html#compu_match">compu_match</a></span> <span class="id">a</span> <span class="id">b</span>); <span class="tactic">intros</span>; <span class="id">InvEval</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SelectOpproof.html#eval_compimm_swap_opt">eval_compimm_swap_opt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> (<span class="id">sem</span>:= <span class="kwd">fun</span> <span class="id">c</span> <span class="id">v1</span> <span class="id">v2</span> =&gt; <span class="id"><a href="Coqlib.html#option_map">option_map</a></span> <span class="id"><a href="Values.html#Val.of_bool">Val.of_bool</a></span> (<span class="id"><a href="Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span> (<span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span>) <span class="id"><a href="SelectOpproof.html#c">c</a></span> <span class="id"><a href="SelectOpproof.html#v1">v1</a></span> <span class="id"><a href="SelectOpproof.html#v2">v2</a></span>)); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.cmpu">Val.cmpu</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Values.html#Val.swap_cmpu_bool">Val.swap_cmpu_bool</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SelectOpproof.html#eval_compimm_opt">eval_compimm_opt</a></span> <span class="kwd">with</span> (<span class="id">sem</span> :=<span class="kwd">fun</span> <span class="id">c</span> <span class="id">v1</span> <span class="id">v2</span> =&gt; <span class="id"><a href="Coqlib.html#option_map">option_map</a></span> <span class="id"><a href="Values.html#Val.of_bool">Val.of_bool</a></span> (<span class="id"><a href="Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span> (<span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span>) <span class="id"><a href="SelectOpproof.html#c">c</a></span> <span class="id"><a href="SelectOpproof.html#v1">v1</a></span> <span class="id"><a href="SelectOpproof.html#v2">v2</a></span>)); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_compf_opt">eval_compf_opt</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c</span>, <span class="id"><a href="SelectOpproof.html#binary_constructor_sound_opt">binary_constructor_sound_opt</a></span> (<span class="id"><a href="SelectOp.html#compf">compf</a></span> <span class="id"><a href="SelectOpproof.html#c">c</a></span>) (<span class="kwd">fun</span> <span class="id">v1</span> <span class="id">v2</span> =&gt; <span class="id"><a href="Coqlib.html#option_map">option_map</a></span> <span class="id"><a href="Values.html#Val.of_bool">Val.of_bool</a></span> (<span class="id"><a href="Values.html#Val.cmpf_bool">Val.cmpf_bool</a></span> <span class="id"><a href="SelectOpproof.html#c">c</a></span> <span class="id"><a href="SelectOpproof.html#v1">v1</a></span> <span class="id"><a href="SelectOpproof.html#v2">v2</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2239')">Proof.</div>
<div class="proofscript" id="proof2239">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#compf">compf</a></span>. <span class="id">TrivialExists</span>. <br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_compfs_opt">eval_compfs_opt</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c</span>, <span class="id"><a href="SelectOpproof.html#binary_constructor_sound_opt">binary_constructor_sound_opt</a></span> (<span class="id"><a href="SelectOp.html#compfs">compfs</a></span> <span class="id"><a href="SelectOpproof.html#c">c</a></span>) (<span class="kwd">fun</span> <span class="id">v1</span> <span class="id">v2</span> =&gt; <span class="id"><a href="Coqlib.html#option_map">option_map</a></span> <span class="id"><a href="Values.html#Val.of_bool">Val.of_bool</a></span> (<span class="id"><a href="Values.html#Val.cmpfs_bool">Val.cmpfs_bool</a></span> <span class="id"><a href="SelectOpproof.html#c">c</a></span> <span class="id"><a href="SelectOpproof.html#v1">v1</a></span> <span class="id"><a href="SelectOpproof.html#v2">v2</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2240')">Proof.</div>
<div class="proofscript" id="proof2240">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#compfs">compfs</a></span>. <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_cast8signed">eval_cast8signed</a></span>: <span class="id"><a href="SelectOpproof.html#unary_constructor_sound">unary_constructor_sound</a></span> <span class="id"><a href="SelectOp.html#cast8signed">cast8signed</a></span> (<span class="id"><a href="Values.html#Val.sign_ext">Val.sign_ext</a></span> 8).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2241')">Proof.</div>
<div class="proofscript" id="proof2241">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">x</span>. <span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#cast8signed">cast8signed</a></span>. <span class="tactic">case</span> (<span class="id"><a href="SelectOp.html#cast8signed_match">cast8signed_match</a></span> <span class="id">a</span>); <span class="tactic">intros</span>; <span class="id">InvEval</span>.<br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_cast8unsigned">eval_cast8unsigned</a></span>: <span class="id"><a href="SelectOpproof.html#unary_constructor_sound">unary_constructor_sound</a></span> <span class="id"><a href="SelectOp.html#cast8unsigned">cast8unsigned</a></span> (<span class="id"><a href="Values.html#Val.zero_ext">Val.zero_ext</a></span> 8).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2242')">Proof.</div>
<div class="proofscript" id="proof2242">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">x</span>. <span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#cast8unsigned">cast8unsigned</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="SelectOp.html#cast8unsigned_match">cast8unsigned_match</a></span> <span class="id">a</span>); <span class="tactic">intros</span>; <span class="id">InvEval</span>.<br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Values.html#Val.zero_ext_and">Val.zero_ext_and</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Values.html#Val.and_assoc">Val.and_assoc</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.and_commut">Int.and_commut</a></span>. <span class="tactic">apply</span> <span class="id"><a href="SelectOpproof.html#eval_andimm">eval_andimm</a></span>; <span class="tactic">auto</span>. <span class="tactic">compute</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_cast16signed">eval_cast16signed</a></span>: <span class="id"><a href="SelectOpproof.html#unary_constructor_sound">unary_constructor_sound</a></span> <span class="id"><a href="SelectOp.html#cast16signed">cast16signed</a></span> (<span class="id"><a href="Values.html#Val.sign_ext">Val.sign_ext</a></span> 16).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2243')">Proof.</div>
<div class="proofscript" id="proof2243">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">x</span>. <span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#cast16signed">cast16signed</a></span>. <span class="tactic">case</span> (<span class="id"><a href="SelectOp.html#cast16signed_match">cast16signed_match</a></span> <span class="id">a</span>); <span class="tactic">intros</span>; <span class="id">InvEval</span>.<br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_cast16unsigned">eval_cast16unsigned</a></span>: <span class="id"><a href="SelectOpproof.html#unary_constructor_sound">unary_constructor_sound</a></span> <span class="id"><a href="SelectOp.html#cast16unsigned">cast16unsigned</a></span> (<span class="id"><a href="Values.html#Val.zero_ext">Val.zero_ext</a></span> 16).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2244')">Proof.</div>
<div class="proofscript" id="proof2244">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">x</span>. <span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#cast16unsigned">cast16unsigned</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="SelectOp.html#cast16unsigned_match">cast16unsigned_match</a></span> <span class="id">a</span>); <span class="tactic">intros</span>; <span class="id">InvEval</span>.<br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Values.html#Val.zero_ext_and">Val.zero_ext_and</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Values.html#Val.and_assoc">Val.and_assoc</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.and_commut">Int.and_commut</a></span>. <span class="tactic">apply</span> <span class="id"><a href="SelectOpproof.html#eval_andimm">eval_andimm</a></span>; <span class="tactic">auto</span>. <span class="tactic">compute</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_singleoffloat">eval_singleoffloat</a></span>: <span class="id"><a href="SelectOpproof.html#unary_constructor_sound">unary_constructor_sound</a></span> <span class="id"><a href="SelectOp.html#singleoffloat">singleoffloat</a></span> <span class="id"><a href="Values.html#Val.singleoffloat">Val.singleoffloat</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2245')">Proof.</div>
<div class="proofscript" id="proof2245">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#singleoffloat">singleoffloat</a></span>. <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_floatofsingle">eval_floatofsingle</a></span>: <span class="id"><a href="SelectOpproof.html#unary_constructor_sound">unary_constructor_sound</a></span> <span class="id"><a href="SelectOp.html#floatofsingle">floatofsingle</a></span> <span class="id"><a href="Values.html#Val.floatofsingle">Val.floatofsingle</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2246')">Proof.</div>
<div class="proofscript" id="proof2246">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#floatofsingle">floatofsingle</a></span>. <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_intoffloat">eval_intoffloat</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">a</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> <span class="id"><a href="SelectOpproof.html#a">a</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.intoffloat">Val.intoffloat</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SelectOpproof.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> (<span class="id"><a href="SelectOp.html#intoffloat">intoffloat</a></span> <span class="id"><a href="SelectOpproof.html#a">a</a></span>) <span class="id"><a href="SelectOpproof.html#v">v</a></span> /\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="SelectOpproof.html#y">y</a></span> <span class="id"><a href="SelectOpproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2247')">Proof.</div>
<div class="proofscript" id="proof2247">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#intoffloat">intoffloat</a></span>. <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_floatofint">eval_floatofint</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">a</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> <span class="id"><a href="SelectOpproof.html#a">a</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.floatofint">Val.floatofint</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SelectOpproof.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> (<span class="id"><a href="SelectOp.html#floatofint">floatofint</a></span> <span class="id"><a href="SelectOpproof.html#a">a</a></span>) <span class="id"><a href="SelectOpproof.html#v">v</a></span> /\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="SelectOpproof.html#y">y</a></span> <span class="id"><a href="SelectOpproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2248')">Proof.</div>
<div class="proofscript" id="proof2248">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">y</span>; <span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#floatofint">floatofint</a></span>. <span class="tactic">case</span> (<span class="id"><a href="SelectOp.html#floatofint_match">floatofint_match</a></span> <span class="id">a</span>); <span class="tactic">intros</span>; <span class="id">InvEval</span>.<br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_intuoffloat">eval_intuoffloat</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">a</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> <span class="id"><a href="SelectOpproof.html#a">a</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.intuoffloat">Val.intuoffloat</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SelectOpproof.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> (<span class="id"><a href="SelectOp.html#intuoffloat">intuoffloat</a></span> <span class="id"><a href="SelectOpproof.html#a">a</a></span>) <span class="id"><a href="SelectOpproof.html#v">v</a></span> /\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="SelectOpproof.html#y">y</a></span> <span class="id"><a href="SelectOpproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2249')">Proof.</div>
<div class="proofscript" id="proof2249">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Floats.html#Float.to_intu">Float.to_intu</a></span> <span class="id">f</span>) <span class="kwd">as</span> [<span class="id">n</span>|] <span class="id">eqn</span>:?; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>); <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#intuoffloat">intuoffloat</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">im</span> := <span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> <span class="id"><a href="Integers.html#Int.half_modulus">Int.half_modulus</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">fm</span> := <span class="id"><a href="Floats.html#Float.of_intu">Float.of_intu</a></span> <span class="id">im</span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> (<span class="id"><a href="Values.html#Vfloat">Vfloat</a></span> <span class="id">fm</span> :: <span class="id"><a href="Values.html#Vfloat">Vfloat</a></span> <span class="id">f</span> :: <span class="id">le</span>) (<span class="id"><a href="CminorSel.html#Eletvar">Eletvar</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>)) (<span class="id"><a href="Values.html#Vfloat">Vfloat</a></span> <span class="id">f</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> (<span class="id"><a href="Values.html#Vfloat">Vfloat</a></span> <span class="id">fm</span> :: <span class="id"><a href="Values.html#Vfloat">Vfloat</a></span> <span class="id">f</span> :: <span class="id">le</span>) (<span class="id"><a href="CminorSel.html#Eletvar">Eletvar</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>) (<span class="id"><a href="Values.html#Vfloat">Vfloat</a></span> <span class="id">fm</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">instantiate</span> (1 := <span class="id"><a href="Values.html#Vfloat">Vfloat</a></span> <span class="id">fm</span>). <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="CminorSel.html#eval_Econdition">eval_Econdition</a></span> <span class="kwd">with</span> (<span class="id">va</span> := <span class="id"><a href="Floats.html#Float.cmp">Float.cmp</a></span> <span class="id"><a href="Integers.html#Clt">Clt</a></span> <span class="id">f</span> <span class="id">fm</span>).<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">evalexpr</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Floats.html#Float.cmp">Float.cmp</a></span> <span class="id"><a href="Integers.html#Clt">Clt</a></span> <span class="id">f</span> <span class="id">fm</span>) <span class="id">eqn</span>:?.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Floats.html#Float.to_intu_to_int_1">Float.to_intu_to_int_1</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span> <span class="id">EQ</span>.<br/>
&nbsp;&nbsp;<span class="id">EvalOp</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">EQ</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Floats.html#Float.to_intu_to_int_2">Float.to_intu_to_int_2</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> <span class="id"><a href="Floats.html#Float.ox8000_0000">Float.ox8000_0000</a></span> <span class="kwd">with</span> <span class="id">im</span>. <span class="id">fold</span> <span class="id">fm</span>. <span class="tactic">intro</span> <span class="id">EQ</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">t2</span> := <span class="id"><a href="SelectOp.html#subf">subf</a></span> (<span class="id"><a href="CminorSel.html#Eletvar">Eletvar</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>)) (<span class="id"><a href="CminorSel.html#Eletvar">Eletvar</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>)).<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">t3</span> := <span class="id"><a href="SelectOp.html#intoffloat">intoffloat</a></span> <span class="id">t2</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="SelectOpproof.html#eval_subf">eval_subf</a></span> (<span class="id"><a href="Values.html#Vfloat">Vfloat</a></span> <span class="id">fm</span> :: <span class="id"><a href="Values.html#Vfloat">Vfloat</a></span> <span class="id">f</span> :: <span class="id">le</span>) (<span class="id"><a href="CminorSel.html#Eletvar">Eletvar</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>)) (<span class="id"><a href="Values.html#Vfloat">Vfloat</a></span> <span class="id">f</span>) (<span class="id"><a href="CminorSel.html#Eletvar">Eletvar</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>)); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">fold</span> <span class="id">t2</span>. <span class="tactic">intros</span> [<span class="id">v2</span> [<span class="id">A2</span> <span class="id">B2</span>]]. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">B2</span>. <span class="id">inv</span> <span class="id">B2</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="SelectOpproof.html#eval_addimm">eval_addimm</a></span> <span class="id"><a href="Floats.html#Float.ox8000_0000">Float.ox8000_0000</a></span> (<span class="id"><a href="Values.html#Vfloat">Vfloat</a></span> <span class="id">fm</span> :: <span class="id"><a href="Values.html#Vfloat">Vfloat</a></span> <span class="id">f</span> :: <span class="id">le</span>) <span class="id">t3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">t3</span>. <span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#intoffloat">intoffloat</a></span>. <span class="id">EvalOp</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">EQ</span>. <span class="tactic">simpl</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">v4</span> [<span class="id">A4</span> <span class="id">B4</span>]]. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">B4</span>. <span class="id">inv</span> <span class="id">B4</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.sub_add_opp">Int.sub_add_opp</a></span> <span class="kwd">in</span> <span class="id">A4</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.add_assoc">Int.add_assoc</a></span> <span class="kwd">in</span> <span class="id">A4</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="Integers.html#Int.add_commut">Int.add_commut</a></span> (<span class="id"><a href="Integers.html#Int.neg">Int.neg</a></span> <span class="id">im</span>)) <span class="kwd">in</span> <span class="id">A4</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.add_neg_zero">Int.add_neg_zero</a></span> <span class="kwd">in</span> <span class="id">A4</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.add_zero">Int.add_zero</a></span> <span class="kwd">in</span> <span class="id">A4</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_floatofintu">eval_floatofintu</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">a</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> <span class="id"><a href="SelectOpproof.html#a">a</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.floatofintu">Val.floatofintu</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SelectOpproof.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> (<span class="id"><a href="SelectOp.html#floatofintu">floatofintu</a></span> <span class="id"><a href="SelectOpproof.html#a">a</a></span>) <span class="id"><a href="SelectOpproof.html#v">v</a></span> /\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="SelectOpproof.html#y">y</a></span> <span class="id"><a href="SelectOpproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2250')">Proof.</div>
<div class="proofscript" id="proof2250">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">y</span>; <span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#floatofintu">floatofintu</a></span>. <span class="tactic">case</span> (<span class="id"><a href="SelectOp.html#floatofintu_match">floatofintu_match</a></span> <span class="id">a</span>); <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">InvEval</span>. <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="Values.html#Vfloat">Vfloat</a></span> (<span class="id"><a href="Floats.html#Float.of_intu">Float.of_intu</a></span> <span class="id">i</span>)); <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">fm</span> := <span class="id"><a href="Floats.html#Float.of_intu">Float.of_intu</a></span> <span class="id"><a href="Floats.html#Float.ox8000_0000">Float.ox8000_0000</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">i</span> :: <span class="id">le</span>) (<span class="id"><a href="CminorSel.html#Eletvar">Eletvar</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>) (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">i</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="CminorSel.html#eval_Econdition">eval_Econdition</a></span> <span class="kwd">with</span> (<span class="id">va</span> := <span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">i</span> <span class="id"><a href="Floats.html#Float.ox8000_0000">Float.ox8000_0000</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">evalexpr</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">i</span> <span class="id"><a href="Floats.html#Float.ox8000_0000">Float.ox8000_0000</a></span>) <span class="id">eqn</span>:?.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Floats.html#Float.of_intu_of_int_1">Float.of_intu_of_int_1</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#floatofint">floatofint</a></span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="SelectOpproof.html#eval_addimm">eval_addimm</a></span> (<span class="id"><a href="Integers.html#Int.neg">Int.neg</a></span> <span class="id"><a href="Floats.html#Float.ox8000_0000">Float.ox8000_0000</a></span>) (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">i</span> :: <span class="id">le</span>) (<span class="id"><a href="CminorSel.html#Eletvar">Eletvar</a></span> 0)); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">intros</span> [<span class="id">v</span> [<span class="id">A</span> <span class="id">B</span>]]. <span class="id">inv</span> <span class="id">B</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#addf">addf</a></span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>. <span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#floatofint">floatofint</a></span>. <span class="id">EvalOp</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>. <span class="id">EvalOp</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">fold</span> <span class="id">fm</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Floats.html#Float.of_intu_of_int_2">Float.of_intu_of_int_2</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.sub_add_opp">Int.sub_add_opp</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_intofsingle">eval_intofsingle</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">a</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> <span class="id"><a href="SelectOpproof.html#a">a</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.intofsingle">Val.intofsingle</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SelectOpproof.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> (<span class="id"><a href="SelectOp.html#intofsingle">intofsingle</a></span> <span class="id"><a href="SelectOpproof.html#a">a</a></span>) <span class="id"><a href="SelectOpproof.html#v">v</a></span> /\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="SelectOpproof.html#y">y</a></span> <span class="id"><a href="SelectOpproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2251')">Proof.</div>
<div class="proofscript" id="proof2251">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#intofsingle">intofsingle</a></span>. <span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_singleofint">eval_singleofint</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">a</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> <span class="id"><a href="SelectOpproof.html#a">a</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.singleofint">Val.singleofint</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SelectOpproof.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> (<span class="id"><a href="SelectOp.html#singleofint">singleofint</a></span> <span class="id"><a href="SelectOpproof.html#a">a</a></span>) <span class="id"><a href="SelectOpproof.html#v">v</a></span> /\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="SelectOpproof.html#y">y</a></span> <span class="id"><a href="SelectOpproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2252')">Proof.</div>
<div class="proofscript" id="proof2252">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">y</span>; <span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#singleofint">singleofint</a></span>. <span class="tactic">case</span> (<span class="id"><a href="SelectOp.html#singleofint_match">singleofint_match</a></span> <span class="id">a</span>); <span class="tactic">intros</span>; <span class="id">InvEval</span>.<br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="id">TrivialExists</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_intuofsingle">eval_intuofsingle</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">a</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> <span class="id"><a href="SelectOpproof.html#a">a</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.intuofsingle">Val.intuofsingle</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SelectOpproof.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> (<span class="id"><a href="SelectOp.html#intuofsingle">intuofsingle</a></span> <span class="id"><a href="SelectOpproof.html#a">a</a></span>) <span class="id"><a href="SelectOpproof.html#v">v</a></span> /\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="SelectOpproof.html#y">y</a></span> <span class="id"><a href="SelectOpproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2253')">Proof.</div>
<div class="proofscript" id="proof2253">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Floats.html#Float32.to_intu">Float32.to_intu</a></span> <span class="id">f</span>) <span class="kwd">as</span> [<span class="id">n</span>|] <span class="id">eqn</span>:?; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#intuofsingle">intuofsingle</a></span>. <span class="tactic">apply</span> <span class="id"><a href="SelectOpproof.html#eval_intuoffloat">eval_intuoffloat</a></span> <span class="kwd">with</span> (<span class="id"><a href="Values.html#Vfloat">Vfloat</a></span> (<span class="id"><a href="Floats.html#Float.of_single">Float.of_single</a></span> <span class="id">f</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#floatofsingle">floatofsingle</a></span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="id">change</span> (<span class="id"><a href="Floats.html#Float.of_single">Float.of_single</a></span> <span class="id">f</span>) <span class="kwd">with</span> (<span class="id"><a href="Floats.html#Float32.to_double">Float32.to_double</a></span> <span class="id">f</span>).<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="Floats.html#Float32.to_intu_double">Float32.to_intu_double</a></span>; <span class="tactic">eauto</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_singleofintu">eval_singleofintu</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">a</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> <span class="id"><a href="SelectOpproof.html#a">a</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.singleofintu">Val.singleofintu</a></span> <span class="id"><a href="SelectOpproof.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SelectOpproof.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> (<span class="id"><a href="SelectOp.html#singleofintu">singleofintu</a></span> <span class="id"><a href="SelectOpproof.html#a">a</a></span>) <span class="id"><a href="SelectOpproof.html#v">v</a></span> /\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="SelectOpproof.html#y">y</a></span> <span class="id"><a href="SelectOpproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2254')">Proof.</div>
<div class="proofscript" id="proof2254">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">y</span>; <span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#singleofintu">singleofintu</a></span>. <span class="tactic">case</span> (<span class="id"><a href="SelectOp.html#singleofintu_match">singleofintu_match</a></span> <span class="id">a</span>); <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">InvEval</span>. <span class="id">TrivialExists</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SelectOpproof.html#eval_floatofintu">eval_floatofintu</a></span>. <span class="tactic">eauto</span>. <span class="tactic">simpl</span>. <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> (<span class="id">v</span> &amp; <span class="id">A</span> &amp; <span class="id">B</span>).<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="Values.html#Val.singleoffloat">Val.singleoffloat</a></span> <span class="id">v</span>); <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#singleoffloat">singleoffloat</a></span>; <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">B</span>; <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Floats.html#Float32.of_intu_double">Float32.of_intu_double</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_addressing">eval_addressing</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">chunk</span> <span class="id">a</span> <span class="id">v</span> <span class="id">b</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> <span class="id"><a href="SelectOpproof.html#a">a</a></span> <span class="id"><a href="SelectOpproof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="SelectOpproof.html#v">v</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="SelectOpproof.html#b">b</a></span> <span class="id"><a href="SelectOpproof.html#ofs">ofs</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="SelectOp.html#addressing">addressing</a></span> <span class="id"><a href="SelectOpproof.html#chunk">chunk</a></span> <span class="id"><a href="SelectOpproof.html#a">a</a></span> <span class="kwd">with</span> (<span class="id">mode</span>, <span class="id">args</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">vl</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_exprlist">eval_exprlist</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SelectOpproof.html#le">le</a></span> <span class="id">args</span> <span class="id"><a href="SelectOpproof.html#vl">vl</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_addressing">eval_addressing</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id">mode</span> <span class="id"><a href="SelectOpproof.html#vl">vl</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SelectOpproof.html#v">v</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2255')">Proof.</div>
<div class="proofscript" id="proof2255">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">ofs</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">A</span>: <span class="id">v</span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b</span> <span class="id">ofs</span> -&gt; <span class="id"><a href="Op.html#eval_addressing">eval_addressing</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> (<span class="id"><a href="Op.html#Aindexed">Aindexed</a></span> 0) (<span class="id">v</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v</span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">intros</span>. <span class="tactic">subst</span> <span class="id">v</span>. <span class="tactic">unfold</span> <span class="id"><a href="Op.html#eval_addressing">eval_addressing</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:<span class="id">SF</span>; <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id">SF</span>; <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">D</span>: <span class="kwd">forall</span> <span class="id">a</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id">le</span> <span class="id"><a href="SelectOpproof.html#a">a</a></span> <span class="id">v</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">v</span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b</span> <span class="id">ofs</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">vl</span>, <span class="id"><a href="CminorSel.html#eval_exprlist">eval_exprlist</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id">le</span> (<span class="id"><a href="SelectOpproof.html#a">a</a></span> ::: <span class="id"><a href="CminorSel.html#Enil">Enil</a></span>) <span class="id"><a href="SelectOpproof.html#vl">vl</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Op.html#eval_addressing">eval_addressing</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> (<span class="id"><a href="Op.html#Aindexed">Aindexed</a></span> 0) <span class="id"><a href="SelectOpproof.html#vl">vl</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v</span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">intros</span>. <span class="id">exists</span> (<span class="id">v</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>); <span class="tactic">split</span>. <span class="id">constructor</span>; <span class="tactic">auto</span>. <span class="id">constructor</span>. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#addressing">addressing</a></span>; <span class="tactic">case</span> (<span class="id"><a href="SelectOp.html#addressing_match">addressing_match</a></span> <span class="id">a</span>); <span class="tactic">intros</span>.<br/>
- <span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> &amp;&amp; <span class="id"><a href="Op.html#addressing_valid">addressing_valid</a></span> <span class="id">addr</span>) <span class="id">eqn</span>:<span class="id">E</span>. <br/>
+ <span class="id">inv</span> <span class="id">H</span>. <span class="id">InvBooleans</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#negb_true_iff">negb_true_iff</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">unfold</span> <span class="id"><a href="Op.html#eval_addressing">eval_addressing</a></span>; <span class="tactic">rewrite</span> <span class="id">H</span>. <br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">vl</span>; <span class="tactic">auto</span>.<br/>
+ <span class="tactic">apply</span> <span class="id">D</span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">destruct</span> (<span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> &amp;&amp; <span class="id"><a href="Op.html#addressing_valid">addressing_valid</a></span> <span class="id">addr</span>) <span class="id">eqn</span>:<span class="id">E</span>. <br/>
+ <span class="id">inv</span> <span class="id">H</span>. <span class="id">InvBooleans</span>. <span class="tactic">unfold</span> <span class="id"><a href="Op.html#eval_addressing">eval_addressing</a></span>; <span class="tactic">rewrite</span> <span class="id">H</span>. <br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">vl</span>; <span class="tactic">auto</span>.<br/>
+ <span class="tactic">apply</span> <span class="id">D</span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">apply</span> <span class="id">D</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_builtin_arg">eval_builtin_arg</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="SelectOpproof.html#a">a</a></span> <span class="id"><a href="SelectOpproof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_builtin_arg">CminorSel.eval_builtin_arg</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SelectOpproof.html#CMCONSTR.m">m</a></span> (<span class="id"><a href="SelectOp.html#builtin_arg">builtin_arg</a></span> <span class="id"><a href="SelectOpproof.html#a">a</a></span>) <span class="id"><a href="SelectOpproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2256')">Proof.</div>
<div class="proofscript" id="proof2256">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">v</span>. <span class="tactic">unfold</span> <span class="id"><a href="SelectOp.html#builtin_arg">builtin_arg</a></span>; <span class="tactic">case</span> (<span class="id"><a href="SelectOp.html#builtin_arg_match">builtin_arg_match</a></span> <span class="id">a</span>); <span class="tactic">intros</span>; <span class="id">InvEval</span>.<br/>
- <span class="id">constructor</span>.<br/>
- <span class="id">constructor</span>.<br/>
- <span class="id">constructor</span>.<br/>
- <span class="id">constructor</span>.<br/>
- <span class="id">constructor</span>.<br/>
- <span class="id">constructor</span>.<br/>
- <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H5</span>. <span class="id">inv</span> <span class="id">H5</span>. <span class="id">constructor</span>.<br/>
- <span class="id">constructor</span>; <span class="tactic">auto</span>.<br/>
- <span class="id">inv</span> <span class="id">H</span>. <span class="id">InvEval</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Op.html#eval_addressing_Aglobal">eval_addressing_Aglobal</a></span> <span class="kwd">in</span> <span class="id">H6</span>. <span class="id">inv</span> <span class="id">H6</span>. <span class="id">constructor</span>; <span class="tactic">auto</span>.<br/>
- <span class="id">inv</span> <span class="id">H</span>. <span class="id">InvEval</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Op.html#eval_addressing_Ainstack">eval_addressing_Ainstack</a></span> <span class="kwd">in</span> <span class="id">H6</span>. <span class="id">inv</span> <span class="id">H6</span>. <span class="id">constructor</span>; <span class="tactic">auto</span>.<br/>
- <span class="id">constructor</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="SelectOpproof.html#CMCONSTR">CMCONSTR</a></span>.<br/>
</div>
<div class="footer"><hr/>Generated by coq2html</div>
</body>
</html>
