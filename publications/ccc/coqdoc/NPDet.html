<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module NPDet</title>
<meta name="description" content="Documentation of Coq module NPDet" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module NPDet</h1>
<div class="coq">
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Coqlib.html">Coqlib</a></span> <span class="id"><a href="AST.html">AST</a></span> <span class="id"><a href="Values.html">Values</a></span>.<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Blockset.html">Blockset</a></span> <span class="id"><a href="Footprint.html">Footprint</a></span> <span class="id"><a href="GMemory.html">GMemory</a></span> <span class="id"><a href="InteractionSemantics.html">InteractionSemantics</a></span> <span class="id"><a href="GAST.html">GAST</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html">GlobDefs</a></span> <span class="id"><a href="ETrace.html">ETrace</a></span> <span class="id"><a href="NPSemantics.html">NPSemantics</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Injections.html">Injections</a></span> <span class="id"><a href="TypedSemantics.html">TypedSemantics</a></span>. <br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Arith.Arith.html">Arith</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Program.Wf.html">Wf</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html">Classical_Prop</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.FunctionalExtensionality.html">FunctionalExtensionality</a></span>.<br/>
<div class="doc">This file contains the lemma <span class="bracket"><span class="id">np_step_det</span></span>, which says that if the languages are deterministic, then the non-preemptive semantics is also deterministic. </div>
<span class="kwd">Module</span> <span class="id"><a name="NPDet">NPDet</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Section</span> <span class="id"><a name="NPDet.det_def">det_def</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Context</span> {<span class="id">GE</span>:<span class="id"><a href="GlobDefs.html#GlobEnv.t">GlobEnv.t</a></span>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="NPDet.language_det">language_det</a></span> : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ix</span>, <span class="id"><a href="InteractionSemantics.html#mod_det">mod_det</a></span> (<span class="id"><a href="GlobDefs.html#GlobEnv.modules">GlobEnv.modules</a></span> <span class="id"><a href="NPDet.html#NPDet.det_def.GE">GE</a></span> <span class="id"><a href="NPDet.html#ix">ix</a></span>) /\ <span class="id"><a href="InteractionSemantics.html#mod_wd">mod_wd</a></span> (<span class="id"><a href="GlobDefs.html#GlobEnv.modules">GlobEnv.modules</a></span> <span class="id"><a href="NPDet.html#NPDet.det_def.GE">GE</a></span> <span class="id"><a href="NPDet.html#ix">ix</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="NPDet.init_det">init_det</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">NL</span> <span class="id">L</span> <span class="id">p</span> <span class="id">gm</span> <span class="id">pc</span> <span class="id">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GAST.html#det_langs">det_langs</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="NPDet.html#p">p</a></span>)-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GAST.html#wd_langs">wd_langs</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="NPDet.html#p">p</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="GlobDefs.html#init_config">init_config</a></span> <span class="id"><a href="NPDet.html#NL">NL</a></span> <span class="id"><a href="NPDet.html#L">L</a></span> <span class="id"><a href="NPDet.html#p">p</a></span> <span class="id"><a href="NPDet.html#gm">gm</a></span> <span class="id"><a href="NPDet.html#NPDet.det_def.GE">GE</a></span> <span class="id"><a href="NPDet.html#pc">pc</a></span> <span class="id"><a href="NPDet.html#t">t</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="NPDet.html#NPDet.language_det">language_det</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8212')">Proof.</div>
<div class="proofscript" id="proof8212">
 {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="NPDet.html#NPDet.language_det">language_det</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GAST.html#det_langs">det_langs</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GAST.html#wd_langs">wd_langs</a></span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H1</span> <span class="kwd">as</span> [[] <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>];<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">ge_init</span> <span class="id">ix</span>) <span class="kwd">as</span> [<span class="id">l</span>[]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#mod_det">mod_det</a></span>;<span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#mod_wd">mod_wd</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H3</span>;<span class="tactic">subst</span>;<span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#nth_error_In">List.nth_error_In</a></span> <span class="kwd">in</span> <span class="id">H2</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">End</span> <span class="id"><a href="NPDet.html#NPDet.det_def">det_def</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Section</span> <span class="id"><a name="NPDet.TypestepDet">TypestepDet</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Context</span> {<span class="id">GE</span>:<span class="id"><a href="GlobDefs.html#GlobEnv.t">GlobEnv.t</a></span>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Context</span> {<span class="id">ldet</span>:@<span class="id"><a href="NPDet.html#NPDet.language_det">language_det</a></span> <span class="id"><a href="NPDet.html#NPDet.TypestepDet.GE">GE</a></span>}.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Ltac</span> <span class="id">unfoldldet</span>:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="NPDet.html#NPDet.language_det">language_det</a></span> <span class="kwd">in</span> <span class="id">ldet</span>;<span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#mod_det">mod_det</a></span> <span class="kwd">in</span> <span class="id">ldet</span>;<span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#mod_wd">mod_wd</a></span> <span class="kwd">in</span> <span class="id">ldet</span>;<span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#lang_det">lang_det</a></span> <span class="kwd">in</span> <span class="id">ldet</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="NPDet.external_not_halt">external_not_halt</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">L</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#wd">wd</a></span> <span class="id"><a href="NPDet.html#L">L</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">p</span> <span class="id">s</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#at_external">at_external</a></span> <span class="id"><a href="NPDet.html#L">L</a></span> <span class="id"><a href="NPDet.html#ge">ge</a></span> <span class="id"><a href="NPDet.html#p">p</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="NPDet.html#s">s</a></span> -&gt; <span class="id"><a href="InteractionSemantics.html#halt">halt</a></span> <span class="id"><a href="NPDet.html#L">L</a></span> <span class="id"><a href="NPDet.html#p">p</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8213')">Proof.</div>
<div class="proofscript" id="proof8213">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="InteractionSemantics.html#atext_not_halt">atext_not_halt</a></span> <span class="id">_</span> <span class="id">H</span>) <span class="kwd">as</span> <span class="id">atext_not_halt</span>. <span class="tactic">clear</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#at_external_halted_excl">at_external_halted_excl</a></span> <span class="kwd">in</span> <span class="id">atext_not_halt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">atext_not_halt</span> <span class="id">ge</span> <span class="id">p</span>) <span class="kwd">as</span> [|];<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H0</span>;<span class="tactic">inversion</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="NPDet.halt_not_external">halt_not_external</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">L</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#wd">wd</a></span> <span class="id"><a href="NPDet.html#L">L</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">p</span> <span class="id">s</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#halt">halt</a></span> <span class="id"><a href="NPDet.html#L">L</a></span> <span class="id"><a href="NPDet.html#p">p</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="NPDet.html#s">s</a></span>-&gt;<span class="id"><a href="InteractionSemantics.html#at_external">at_external</a></span> <span class="id"><a href="NPDet.html#L">L</a></span> <span class="id"><a href="NPDet.html#ge">ge</a></span> <span class="id"><a href="NPDet.html#p">p</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> .<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8214')">Proof.</div>
<div class="proofscript" id="proof8214">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="InteractionSemantics.html#atext_not_halt">atext_not_halt</a></span> <span class="id">_</span> <span class="id">H</span>) <span class="kwd">as</span> <span class="id">atext_not_halt</span>. <span class="tactic">clear</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#at_external_halted_excl">at_external_halted_excl</a></span> <span class="kwd">in</span> <span class="id">atext_not_halt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">atext_not_halt</span> <span class="id">ge</span> <span class="id">p</span>) <span class="kwd">as</span> [|];<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H0</span>;<span class="tactic">inversion</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="NPDet.core_unique">core_unique</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span> <span class="id">pc</span> <span class="id">fp1</span> <span class="id">l1</span> <span class="id">pc1</span> <span class="id">fp2</span> <span class="id">l2</span> <span class="id">pc2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="TypedSemantics.html#type_np_step">type_np_step</a></span> <span class="id"><a href="TypedSemantics.html#core">core</a></span> <span class="id"><a href="NPDet.html#pc">pc</a></span> <span class="id"><a href="NPDet.html#l1">l1</a></span> <span class="id"><a href="NPDet.html#fp1">fp1</a></span> <span class="id"><a href="NPDet.html#pc1">pc1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="TypedSemantics.html#type_np_step">type_np_step</a></span> <span class="id"><a href="NPDet.html#NPDet.TypestepDet.GE">GE</a></span> <span class="id"><a href="NPDet.html#t">t</a></span> <span class="id"><a href="NPDet.html#pc">pc</a></span> <span class="id"><a href="NPDet.html#l2">l2</a></span> <span class="id"><a href="NPDet.html#fp2">fp2</a></span> <span class="id"><a href="NPDet.html#pc2">pc2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="NPDet.html#t">t</a></span> = <span class="id"><a href="TypedSemantics.html#core">core</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8215')">Proof.</div>
<div class="proofscript" id="proof8215">
 {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfoldldet</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id"><a href="NPDet.html#NPDet.TypestepDet.ldet">ldet</a></span> (<span class="id"><a href="GlobDefs.html#Core.i">Core.i</a></span> <span class="id">c</span>)) <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H_core_step</span> <span class="kwd">as</span> <span class="id">L1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H_core_step</span> <span class="kwd">as</span> <span class="id">L2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> (<span class="id"><a href="InteractionSemantics.html#step_not_atext">step_not_atext</a></span> <span class="id">_</span> <span class="id">H2</span>) <span class="kwd">in</span> <span class="id">L1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> (<span class="id"><a href="InteractionSemantics.html#step_not_halt">step_not_halt</a></span> <span class="id">_</span> <span class="id">H2</span>) <span class="kwd">in</span> <span class="id">L2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H0</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>;<span class="tactic">rewrite</span> <span class="id">H_tp_core</span> <span class="kwd">in</span> <span class="id">H_tp_core0</span>;<span class="tactic">inversion</span> <span class="id">H_tp_core0</span>;<span class="tactic">clear</span> <span class="id">H_tp_core0</span>;<span class="tactic">subst</span>; <span class="tactic">try</span> (<span class="tactic">rewrite</span> <span class="id">L1</span> <span class="kwd">in</span> <span class="id">H_core_atext</span>;<span class="tactic">inversion</span> <span class="id">H_core_atext</span>);<span class="tactic">try</span> (<span class="tactic">rewrite</span> <span class="id">L2</span> <span class="kwd">in</span> <span class="id">H_core_halt</span>;<span class="tactic">inversion</span> <span class="id">H_core_halt</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="NPDet.call_unique">call_unique</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span> <span class="id">pc</span> <span class="id">fp1</span> <span class="id">l1</span> <span class="id">pc1</span> <span class="id">fp2</span> <span class="id">l2</span> <span class="id">pc2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="TypedSemantics.html#type_np_step">type_np_step</a></span> <span class="id"><a href="TypedSemantics.html#call">call</a></span> <span class="id"><a href="NPDet.html#pc">pc</a></span> <span class="id"><a href="NPDet.html#l1">l1</a></span> <span class="id"><a href="NPDet.html#fp1">fp1</a></span> <span class="id"><a href="NPDet.html#pc1">pc1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="TypedSemantics.html#type_np_step">type_np_step</a></span> <span class="id"><a href="NPDet.html#NPDet.TypestepDet.GE">GE</a></span> <span class="id"><a href="NPDet.html#t">t</a></span> <span class="id"><a href="NPDet.html#pc">pc</a></span> <span class="id"><a href="NPDet.html#l2">l2</a></span> <span class="id"><a href="NPDet.html#fp2">fp2</a></span> <span class="id"><a href="NPDet.html#pc2">pc2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="NPDet.html#t">t</a></span> = <span class="id"><a href="TypedSemantics.html#call">call</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8216')">Proof.</div>
<div class="proofscript" id="proof8216">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfoldldet</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span>  (<span class="id"><a href="NPDet.html#NPDet.TypestepDet.ldet">ldet</a></span> (<span class="id"><a href="GlobDefs.html#Core.i">Core.i</a></span> <span class="id">c</span>)) <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H0</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>;<span class="tactic">rewrite</span> <span class="id">H_tp_core</span> <span class="kwd">in</span> <span class="id">H_tp_core0</span>;<span class="tactic">inversion</span> <span class="id">H_tp_core0</span>;<span class="tactic">clear</span> <span class="id">H_tp_core0</span>;<span class="tactic">subst</span>;[<span class="tactic">eapply</span> <span class="id"><a href="NPDet.html#NPDet.core_unique">core_unique</a></span> <span class="kwd">in</span> <span class="id">H</span>;<span class="tactic">eauto</span>| | | | |]; <span class="tactic">try</span> (<span class="tactic">eapply</span> <span class="id"><a href="NPDet.html#NPDet.external_not_halt">external_not_halt</a></span> <span class="kwd">in</span> <span class="id">H_core_atext</span>;<span class="tactic">eauto</span>; <span class="tactic">rewrite</span> <span class="id">H_core_atext</span> <span class="kwd">in</span> <span class="id">H_core_halt</span>;<span class="tactic">inversion</span> <span class="id">H_core_halt</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GAST.html#not_primitive">not_primitive</a></span> <span class="kwd">in</span> <span class="id">H_not_prim</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#peq">peq</a></span> <span class="id">funid</span> <span class="id"><a href="GAST.html#print">print</a></span>);[<span class="tactic">inversion</span> <span class="id">H_not_prim</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#peq">peq</a></span> <span class="id">funid</span> <span class="id"><a href="GAST.html#ent_atom">ent_atom</a></span>);[<span class="tactic">inversion</span> <span class="id">H_not_prim</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H_core_atext</span> <span class="kwd">in</span> <span class="id">H_core_atext0</span>;<span class="tactic">inversion</span> <span class="id">H_core_atext0</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">contradiction</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GAST.html#not_primitive">not_primitive</a></span> <span class="kwd">in</span> <span class="id">H_not_prim</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#peq">peq</a></span> <span class="id">funid</span> <span class="id"><a href="GAST.html#print">print</a></span>);[<span class="tactic">inversion</span> <span class="id">H_not_prim</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H_core_atext</span> <span class="kwd">in</span> <span class="id">H_core_atext0</span>;<span class="tactic">inversion</span> <span class="id">H_core_atext0</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="NPDet.ret_unique">ret_unique</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span> <span class="id">pc</span> <span class="id">fp1</span> <span class="id">l1</span> <span class="id">pc1</span> <span class="id">fp2</span> <span class="id">l2</span> <span class="id">pc2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="TypedSemantics.html#type_np_step">type_np_step</a></span> <span class="id"><a href="TypedSemantics.html#ret">ret</a></span> <span class="id"><a href="NPDet.html#pc">pc</a></span> <span class="id"><a href="NPDet.html#l1">l1</a></span> <span class="id"><a href="NPDet.html#fp1">fp1</a></span> <span class="id"><a href="NPDet.html#pc1">pc1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="TypedSemantics.html#type_np_step">type_np_step</a></span> <span class="id"><a href="NPDet.html#NPDet.TypestepDet.GE">GE</a></span> <span class="id"><a href="NPDet.html#t">t</a></span> <span class="id"><a href="NPDet.html#pc">pc</a></span> <span class="id"><a href="NPDet.html#l2">l2</a></span> <span class="id"><a href="NPDet.html#fp2">fp2</a></span> <span class="id"><a href="NPDet.html#pc2">pc2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="NPDet.html#t">t</a></span> = <span class="id"><a href="TypedSemantics.html#ret">ret</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8217')">Proof.</div>
<div class="proofscript" id="proof8217">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfoldldet</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span>  (<span class="id"><a href="NPDet.html#NPDet.TypestepDet.ldet">ldet</a></span> (<span class="id"><a href="GlobDefs.html#Core.i">Core.i</a></span> <span class="id">c</span>)) <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H0</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>;<span class="tactic">rewrite</span> <span class="id">H_tp_core</span> <span class="kwd">in</span> <span class="id">H_tp_core0</span>;<span class="tactic">inversion</span> <span class="id">H_tp_core0</span>;<span class="tactic">clear</span> <span class="id">H_tp_core0</span>;<span class="tactic">subst</span> ;[<span class="tactic">eapply</span> <span class="id"><a href="NPDet.html#NPDet.core_unique">core_unique</a></span> <span class="kwd">in</span> <span class="id">H</span>;<span class="tactic">eauto</span>|<span class="tactic">eapply</span> <span class="id"><a href="NPDet.html#NPDet.call_unique">call_unique</a></span> <span class="kwd">in</span> <span class="id">H</span>;<span class="tactic">eauto</span> | | | |];<span class="tactic">try</span> (<span class="tactic">eapply</span> <span class="id"><a href="NPDet.html#NPDet.external_not_halt">external_not_halt</a></span> <span class="kwd">in</span> <span class="id">H_core_atext</span>;<span class="tactic">eauto</span>; <span class="tactic">rewrite</span> <span class="id">H_core_atext</span> <span class="kwd">in</span> <span class="id">H_core_halt</span>;<span class="tactic">inversion</span> <span class="id">H_core_halt</span>);<span class="tactic">try</span> ( <span class="tactic">rewrite</span> <span class="id">H_tp_pop</span> <span class="kwd">in</span> <span class="id">H_tp_pop0</span>;<span class="tactic">inversion</span> <span class="id">H_tp_pop0</span>;<span class="tactic">clear</span> <span class="id">H_tp_pop0</span>;<span class="tactic">subst</span>; <span class="tactic">inversion</span> <span class="id">H_thread_halt</span>;<span class="tactic">subst</span>; <span class="tactic">unfold</span> <span class="id"><a href="GlobDefs.html#ThreadPool.get_top">ThreadPool.get_top</a></span> <span class="kwd">in</span> <span class="id">H_tp_caller</span>;  <span class="tactic">rewrite</span> <span class="id">H3</span> <span class="kwd">in</span> <span class="id">H_tp_caller</span>; <span class="tactic">inversion</span> <span class="id">H4</span>;<span class="tactic">subst</span>;<span class="tactic">inversion</span> <span class="id">H_tp_caller</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="NPDet.thrdhalt_unique">thrdhalt_unique</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span> <span class="id">pc</span> <span class="id">fp1</span> <span class="id">l1</span> <span class="id">pc1</span> <span class="id">fp2</span> <span class="id">l2</span> <span class="id">pc2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="TypedSemantics.html#type_np_step">type_np_step</a></span> <span class="id"><a href="TypedSemantics.html#thrdhalt">thrdhalt</a></span> <span class="id"><a href="NPDet.html#pc">pc</a></span> <span class="id"><a href="NPDet.html#l1">l1</a></span> <span class="id"><a href="NPDet.html#fp1">fp1</a></span> <span class="id"><a href="NPDet.html#pc1">pc1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="TypedSemantics.html#type_np_step">type_np_step</a></span> <span class="id"><a href="NPDet.html#NPDet.TypestepDet.GE">GE</a></span> <span class="id"><a href="NPDet.html#t">t</a></span> <span class="id"><a href="NPDet.html#pc">pc</a></span> <span class="id"><a href="NPDet.html#l2">l2</a></span> <span class="id"><a href="NPDet.html#fp2">fp2</a></span> <span class="id"><a href="NPDet.html#pc2">pc2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="NPDet.html#t">t</a></span> = <span class="id"><a href="TypedSemantics.html#thrdhalt">thrdhalt</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8218')">Proof.</div>
<div class="proofscript" id="proof8218">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfoldldet</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span>  (<span class="id"><a href="NPDet.html#NPDet.TypestepDet.ldet">ldet</a></span> (<span class="id"><a href="GlobDefs.html#Core.i">Core.i</a></span> <span class="id">c</span>)) <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H0</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>;<span class="tactic">rewrite</span> <span class="id">H_tp_core</span> <span class="kwd">in</span> <span class="id">H_tp_core0</span>;<span class="tactic">inversion</span> <span class="id">H_tp_core0</span>;<span class="tactic">clear</span> <span class="id">H_tp_core0</span>;<span class="tactic">subst</span>;[<span class="tactic">eapply</span> <span class="id"><a href="NPDet.html#NPDet.core_unique">core_unique</a></span> <span class="kwd">in</span> <span class="id">H</span>;<span class="tactic">eauto</span>|<span class="tactic">eapply</span> <span class="id"><a href="NPDet.html#NPDet.call_unique">call_unique</a></span> <span class="kwd">in</span> <span class="id">H</span>;<span class="tactic">eauto</span> |<span class="tactic">eapply</span> <span class="id"><a href="NPDet.html#NPDet.ret_unique">ret_unique</a></span> <span class="kwd">in</span> <span class="id">H</span>;<span class="tactic">eauto</span> | | |].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H_tp_pop</span> <span class="kwd">in</span> <span class="id">H_tp_pop0</span>;<span class="tactic">inversion</span> <span class="id">H_tp_pop0</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H_core_halt</span> <span class="kwd">in</span> <span class="id">H_core_halt0</span>;<span class="tactic">inversion</span> <span class="id">H_core_halt0</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">H_core_halt0</span> <span class="id">H_tp_pop0</span> <span class="id">H_thread_halt0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H_all_thread_halted</span> <span class="kwd">in</span> <span class="id">H_thread_valid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="NPDet.html#NPDet.external_not_halt">external_not_halt</a></span> <span class="kwd">in</span> <span class="id">H_core_atext</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H_core_atext</span> <span class="kwd">in</span> <span class="id">H_core_halt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H_core_halt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="NPDet.html#NPDet.external_not_halt">external_not_halt</a></span> <span class="kwd">in</span> <span class="id">H_core_atext</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H_core_atext</span> <span class="kwd">in</span> <span class="id">H_core_halt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H_core_halt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="NPDet.allhalt_unique">allhalt_unique</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span> <span class="id">pc</span> <span class="id">fp1</span> <span class="id">l1</span> <span class="id">pc1</span> <span class="id">fp2</span> <span class="id">l2</span> <span class="id">pc2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="TypedSemantics.html#type_np_step">type_np_step</a></span> <span class="id"><a href="TypedSemantics.html#allhalt">allhalt</a></span> <span class="id"><a href="NPDet.html#pc">pc</a></span> <span class="id"><a href="NPDet.html#l1">l1</a></span> <span class="id"><a href="NPDet.html#fp1">fp1</a></span> <span class="id"><a href="NPDet.html#pc1">pc1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="TypedSemantics.html#type_np_step">type_np_step</a></span> <span class="id"><a href="NPDet.html#NPDet.TypestepDet.GE">GE</a></span> <span class="id"><a href="NPDet.html#t">t</a></span> <span class="id"><a href="NPDet.html#pc">pc</a></span> <span class="id"><a href="NPDet.html#l2">l2</a></span> <span class="id"><a href="NPDet.html#fp2">fp2</a></span> <span class="id"><a href="NPDet.html#pc2">pc2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="NPDet.html#t">t</a></span> = <span class="id"><a href="TypedSemantics.html#allhalt">allhalt</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8219')">Proof.</div>
<div class="proofscript" id="proof8219">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfoldldet</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span>  (<span class="id"><a href="NPDet.html#NPDet.TypestepDet.ldet">ldet</a></span> (<span class="id"><a href="GlobDefs.html#Core.i">Core.i</a></span> <span class="id">c</span>)) <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H0</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>;<span class="tactic">rewrite</span> <span class="id">H_tp_core</span> <span class="kwd">in</span> <span class="id">H_tp_core0</span>;<span class="tactic">inversion</span> <span class="id">H_tp_core0</span>;<span class="tactic">clear</span> <span class="id">H_tp_core0</span>;<span class="tactic">subst</span>;[<span class="tactic">eapply</span> <span class="id"><a href="NPDet.html#NPDet.core_unique">core_unique</a></span> <span class="kwd">in</span> <span class="id">H</span>|<span class="tactic">eapply</span> <span class="id"><a href="NPDet.html#NPDet.call_unique">call_unique</a></span> <span class="kwd">in</span> <span class="id">H</span>|<span class="tactic">eapply</span> <span class="id"><a href="NPDet.html#NPDet.ret_unique">ret_unique</a></span> <span class="kwd">in</span> <span class="id">H</span> | <span class="tactic">eapply</span> <span class="id"><a href="NPDet.html#NPDet.thrdhalt_unique">thrdhalt_unique</a></span> <span class="kwd">in</span> <span class="id">H</span>| |];<span class="tactic">eauto</span>;<span class="tactic">apply</span> <span class="id"><a href="NPDet.html#NPDet.external_not_halt">external_not_halt</a></span> <span class="kwd">in</span> <span class="id">H_core_atext</span>;<span class="tactic">auto</span>;<span class="tactic">rewrite</span> <span class="id">H_core_atext</span> <span class="kwd">in</span> <span class="id">H_core_halt</span>;<span class="tactic">inversion</span> <span class="id">H_core_halt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="NPDet.entat_unique">entat_unique</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span> <span class="id">pc</span> <span class="id">fp1</span> <span class="id">l1</span> <span class="id">pc1</span> <span class="id">fp2</span> <span class="id">l2</span> <span class="id">pc2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="TypedSemantics.html#type_np_step">type_np_step</a></span> <span class="id"><a href="TypedSemantics.html#entat">entat</a></span> <span class="id"><a href="NPDet.html#pc">pc</a></span> <span class="id"><a href="NPDet.html#l1">l1</a></span> <span class="id"><a href="NPDet.html#fp1">fp1</a></span> <span class="id"><a href="NPDet.html#pc1">pc1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="TypedSemantics.html#type_np_step">type_np_step</a></span> <span class="id"><a href="NPDet.html#NPDet.TypestepDet.GE">GE</a></span> <span class="id"><a href="NPDet.html#t">t</a></span> <span class="id"><a href="NPDet.html#pc">pc</a></span> <span class="id"><a href="NPDet.html#l2">l2</a></span> <span class="id"><a href="NPDet.html#fp2">fp2</a></span> <span class="id"><a href="NPDet.html#pc2">pc2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="NPDet.html#t">t</a></span> = <span class="id"><a href="TypedSemantics.html#entat">entat</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8220')">Proof.</div>
<div class="proofscript" id="proof8220">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfoldldet</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span>  (<span class="id"><a href="NPDet.html#NPDet.TypestepDet.ldet">ldet</a></span> (<span class="id"><a href="GlobDefs.html#Core.i">Core.i</a></span> <span class="id">c</span>)) <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H0</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>;<span class="tactic">rewrite</span> <span class="id">H_tp_core</span> <span class="kwd">in</span> <span class="id">H_tp_core0</span>;<span class="tactic">inversion</span> <span class="id">H_tp_core0</span>;<span class="tactic">clear</span> <span class="id">H_tp_core0</span>;<span class="tactic">subst</span>;[<span class="tactic">eapply</span> <span class="id"><a href="NPDet.html#NPDet.core_unique">core_unique</a></span> <span class="kwd">in</span> <span class="id">H</span>|<span class="tactic">eapply</span> <span class="id"><a href="NPDet.html#NPDet.call_unique">call_unique</a></span> <span class="kwd">in</span> <span class="id">H</span>|<span class="tactic">eapply</span> <span class="id"><a href="NPDet.html#NPDet.ret_unique">ret_unique</a></span> <span class="kwd">in</span> <span class="id">H</span> | <span class="tactic">eapply</span> <span class="id"><a href="NPDet.html#NPDet.thrdhalt_unique">thrdhalt_unique</a></span> <span class="kwd">in</span> <span class="id">H</span>|<span class="tactic">eapply</span> <span class="id"><a href="NPDet.html#NPDet.allhalt_unique">allhalt_unique</a></span> <span class="kwd">in</span> <span class="id">H</span> |];<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H_core_atext</span> <span class="kwd">in</span> <span class="id">H_core_atext0</span>;<span class="tactic">inversion</span> <span class="id">H_core_atext0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="NPDet.extat_unique">extat_unique</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span> <span class="id">pc</span> <span class="id">fp1</span> <span class="id">l1</span> <span class="id">pc1</span> <span class="id">fp2</span> <span class="id">l2</span> <span class="id">pc2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="TypedSemantics.html#type_np_step">type_np_step</a></span> <span class="id"><a href="TypedSemantics.html#extat">extat</a></span> <span class="id"><a href="NPDet.html#pc">pc</a></span> <span class="id"><a href="NPDet.html#l1">l1</a></span> <span class="id"><a href="NPDet.html#fp1">fp1</a></span> <span class="id"><a href="NPDet.html#pc1">pc1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="TypedSemantics.html#type_np_step">type_np_step</a></span> <span class="id"><a href="NPDet.html#NPDet.TypestepDet.GE">GE</a></span> <span class="id"><a href="NPDet.html#t">t</a></span> <span class="id"><a href="NPDet.html#pc">pc</a></span> <span class="id"><a href="NPDet.html#l2">l2</a></span> <span class="id"><a href="NPDet.html#fp2">fp2</a></span> <span class="id"><a href="NPDet.html#pc2">pc2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="NPDet.html#t">t</a></span> = <span class="id"><a href="TypedSemantics.html#extat">extat</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8221')">Proof.</div>
<div class="proofscript" id="proof8221">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfoldldet</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span>  (<span class="id"><a href="NPDet.html#NPDet.TypestepDet.ldet">ldet</a></span> (<span class="id"><a href="GlobDefs.html#Core.i">Core.i</a></span> <span class="id">c</span>)) <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H0</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="NPDet.html#NPDet.core_unique">core_unique</a></span> <span class="kwd">in</span> <span class="id">H</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="NPDet.efprint_unique">efprint_unique</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span> <span class="id">pc</span> <span class="id">fp1</span> <span class="id">l1</span> <span class="id">pc1</span> <span class="id">fp2</span> <span class="id">l2</span> <span class="id">pc2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="TypedSemantics.html#type_np_step">type_np_step</a></span> <span class="id"><a href="TypedSemantics.html#efprint">efprint</a></span> <span class="id"><a href="NPDet.html#pc">pc</a></span> <span class="id"><a href="NPDet.html#l1">l1</a></span> <span class="id"><a href="NPDet.html#fp1">fp1</a></span> <span class="id"><a href="NPDet.html#pc1">pc1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="TypedSemantics.html#type_np_step">type_np_step</a></span> <span class="id"><a href="NPDet.html#NPDet.TypestepDet.GE">GE</a></span> <span class="id"><a href="NPDet.html#t">t</a></span> <span class="id"><a href="NPDet.html#pc">pc</a></span> <span class="id"><a href="NPDet.html#l2">l2</a></span> <span class="id"><a href="NPDet.html#fp2">fp2</a></span> <span class="id"><a href="NPDet.html#pc2">pc2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="NPDet.html#t">t</a></span> = <span class="id"><a href="TypedSemantics.html#efprint">efprint</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8222')">Proof.</div>
<div class="proofscript" id="proof8222">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfoldldet</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span>  (<span class="id"><a href="NPDet.html#NPDet.TypestepDet.ldet">ldet</a></span> (<span class="id"><a href="GlobDefs.html#Core.i">Core.i</a></span> <span class="id">c</span>)) <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H0</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>;[<span class="tactic">eapply</span> <span class="id"><a href="NPDet.html#NPDet.core_unique">core_unique</a></span> <span class="kwd">in</span> <span class="id">H</span>|<span class="tactic">eapply</span> <span class="id"><a href="NPDet.html#NPDet.call_unique">call_unique</a></span> <span class="kwd">in</span> <span class="id">H</span>|<span class="tactic">eapply</span> <span class="id"><a href="NPDet.html#NPDet.ret_unique">ret_unique</a></span> <span class="kwd">in</span> <span class="id">H</span> | <span class="tactic">eapply</span> <span class="id"><a href="NPDet.html#NPDet.thrdhalt_unique">thrdhalt_unique</a></span> <span class="kwd">in</span> <span class="id">H</span>|<span class="tactic">eapply</span> <span class="id"><a href="NPDet.html#NPDet.allhalt_unique">allhalt_unique</a></span> <span class="kwd">in</span> <span class="id">H</span> |<span class="tactic">eapply</span> <span class="id"><a href="NPDet.html#NPDet.entat_unique">entat_unique</a></span> <span class="kwd">in</span> <span class="id">H</span>];<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="NPDet.type_unique">type_unique</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t1</span> <span class="id">t2</span> <span class="id">pc</span> <span class="id">fp1</span> <span class="id">l1</span> <span class="id">pc1</span> <span class="id">fp2</span> <span class="id">l2</span> <span class="id">pc2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="TypedSemantics.html#type_np_step">type_np_step</a></span> <span class="id"><a href="NPDet.html#t1">t1</a></span> <span class="id"><a href="NPDet.html#pc">pc</a></span> <span class="id"><a href="NPDet.html#l1">l1</a></span> <span class="id"><a href="NPDet.html#fp1">fp1</a></span> <span class="id"><a href="NPDet.html#pc1">pc1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="TypedSemantics.html#type_np_step">type_np_step</a></span> <span class="id"><a href="NPDet.html#NPDet.TypestepDet.GE">GE</a></span> <span class="id"><a href="NPDet.html#t2">t2</a></span> <span class="id"><a href="NPDet.html#pc">pc</a></span> <span class="id"><a href="NPDet.html#l2">l2</a></span> <span class="id"><a href="NPDet.html#fp2">fp2</a></span> <span class="id"><a href="NPDet.html#pc2">pc2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="NPDet.html#t2">t2</a></span> = <span class="id"><a href="NPDet.html#t1">t1</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8223')">Proof.</div>
<div class="proofscript" id="proof8223">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">t1</span>; [<span class="tactic">eapply</span> <span class="id"><a href="NPDet.html#NPDet.core_unique">core_unique</a></span>|<span class="tactic">eapply</span> <span class="id"><a href="NPDet.html#NPDet.call_unique">call_unique</a></span>|<span class="tactic">eapply</span> <span class="id"><a href="NPDet.html#NPDet.ret_unique">ret_unique</a></span>| <span class="tactic">eapply</span> <span class="id"><a href="NPDet.html#NPDet.entat_unique">entat_unique</a></span> |<span class="tactic">eapply</span> <span class="id"><a href="NPDet.html#NPDet.extat_unique">extat_unique</a></span> |<span class="tactic">eapply</span> <span class="id"><a href="NPDet.html#NPDet.thrdhalt_unique">thrdhalt_unique</a></span>|<span class="tactic">eapply</span> <span class="id"><a href="NPDet.html#NPDet.allhalt_unique">allhalt_unique</a></span>|<span class="tactic">eapply</span> <span class="id"><a href="NPDet.html#NPDet.efprint_unique">efprint_unique</a></span>|<span class="tactic">inversion</span> <span class="id">H</span>|<span class="tactic">inversion</span> <span class="id">H</span>];<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="NPDet.type_label_det">type_label_det</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span> <span class="id">pc</span> <span class="id">fp1</span> <span class="id">l1</span> <span class="id">pc1</span> <span class="id">fp2</span> <span class="id">l2</span> <span class="id">pc2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="TypedSemantics.html#type_np_step">type_np_step</a></span> <span class="id"><a href="NPDet.html#t">t</a></span> <span class="id"><a href="NPDet.html#pc">pc</a></span> <span class="id"><a href="NPDet.html#l1">l1</a></span> <span class="id"><a href="NPDet.html#fp1">fp1</a></span> <span class="id"><a href="NPDet.html#pc1">pc1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="TypedSemantics.html#type_np_step">type_np_step</a></span> <span class="id"><a href="NPDet.html#NPDet.TypestepDet.GE">GE</a></span> <span class="id"><a href="NPDet.html#t">t</a></span> <span class="id"><a href="NPDet.html#pc">pc</a></span> <span class="id"><a href="NPDet.html#l2">l2</a></span> <span class="id"><a href="NPDet.html#fp2">fp2</a></span> <span class="id"><a href="NPDet.html#pc2">pc2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="NPDet.html#l1">l1</a></span> = <span class="id"><a href="NPDet.html#l2">l2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8224')">Proof.</div>
<div class="proofscript" id="proof8224">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H</span>;<span class="tactic">inversion</span> <span class="id">H0</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>;<span class="tactic">inversion</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H7</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H_tp_core</span> <span class="kwd">in</span> <span class="id">H_tp_core0</span>;<span class="tactic">inversion</span> <span class="id">H_tp_core0</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H_core_atext</span> <span class="kwd">in</span> <span class="id">H_core_atext0</span>;<span class="tactic">inversion</span> <span class="id">H_core_atext0</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="NPDet.type_footprint_det">type_footprint_det</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span> <span class="id">pc</span> <span class="id">l</span> <span class="id">fp1</span> <span class="id">pc1</span> <span class="id">fp2</span> <span class="id">pc2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="TypedSemantics.html#type_np_step">type_np_step</a></span> <span class="id"><a href="NPDet.html#t">t</a></span> <span class="id"><a href="NPDet.html#pc">pc</a></span> <span class="id"><a href="NPDet.html#l">l</a></span> <span class="id"><a href="NPDet.html#fp1">fp1</a></span> <span class="id"><a href="NPDet.html#pc1">pc1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="TypedSemantics.html#type_np_step">type_np_step</a></span> <span class="id"><a href="NPDet.html#NPDet.TypestepDet.GE">GE</a></span> <span class="id"><a href="NPDet.html#t">t</a></span> <span class="id"><a href="NPDet.html#pc">pc</a></span> <span class="id"><a href="NPDet.html#l">l</a></span> <span class="id"><a href="NPDet.html#fp2">fp2</a></span> <span class="id"><a href="NPDet.html#pc2">pc2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="NPDet.html#fp1">fp1</a></span> = <span class="id"><a href="NPDet.html#fp2">fp2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8225')">Proof.</div>
<div class="proofscript" id="proof8225">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">t</span>;<span class="tactic">inversion</span> <span class="id">H</span>;<span class="tactic">inversion</span> <span class="id">H0</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H6</span>;<span class="tactic">clear</span> <span class="id">H6</span> <span class="id">H7</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H_tp_core</span> <span class="kwd">in</span> <span class="id">H_tp_core0</span>;<span class="tactic">inversion</span> <span class="id">H_tp_core0</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfoldldet</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id"><a href="NPDet.html#NPDet.TypestepDet.ldet">ldet</a></span> (<span class="id"><a href="GlobDefs.html#Core.i">Core.i</a></span> <span class="id">c0</span>)) <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H_core_step</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H_core_step</span> <span class="kwd">in</span> <span class="id">H_core_step0</span> <span class="kwd">as</span> (?&amp;?&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Ltac</span> <span class="id">rewrite_inv</span> <span class="id">H1</span> <span class="id">H2</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H2</span>;<span class="tactic">inversion</span> <span class="id">H2</span>;<span class="tactic">clear</span> <span class="id">H2</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="NPDet.typestep_det">typestep_det</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span> <span class="id">pc</span> <span class="id">l</span> <span class="id">fp</span> <span class="id">pc1</span> <span class="id">pc2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="TypedSemantics.html#type_np_step">type_np_step</a></span> <span class="id"><a href="NPDet.html#NPDet.TypestepDet.GE">GE</a></span> <span class="id"><a href="NPDet.html#t">t</a></span> <span class="id"><a href="NPDet.html#pc">pc</a></span> <span class="id"><a href="NPDet.html#l">l</a></span> <span class="id"><a href="NPDet.html#fp">fp</a></span> <span class="id"><a href="NPDet.html#pc1">pc1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="TypedSemantics.html#type_np_step">type_np_step</a></span> <span class="id"><a href="NPDet.html#t">t</a></span> <span class="id"><a href="NPDet.html#pc">pc</a></span> <span class="id"><a href="NPDet.html#l">l</a></span> <span class="id"><a href="NPDet.html#fp">fp</a></span> <span class="id"><a href="NPDet.html#pc2">pc2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="NPDet.html#pc1">pc1</a></span>.(<span class="id"><a href="GlobDefs.html#thread_pool">thread_pool</a></span>) = <span class="id"><a href="NPDet.html#pc2">pc2</a></span>.(<span class="id"><a href="GlobDefs.html#thread_pool">thread_pool</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="NPDet.html#pc1">pc1</a></span>.(<span class="id"><a href="GlobDefs.html#gm">gm</a></span>) = <span class="id"><a href="NPDet.html#pc2">pc2</a></span>.(<span class="id"><a href="GlobDefs.html#gm">gm</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="NPDet.html#pc1">pc1</a></span>.(<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span>) = <span class="id"><a href="NPDet.html#pc2">pc2</a></span>.(<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8226')">Proof.</div>
<div class="proofscript" id="proof8226">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfoldldet</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">t</span>;<span class="tactic">inversion</span> <span class="id">H</span>;<span class="tactic">inversion</span> <span class="id">H0</span>;<span class="tactic">subst</span>;<span class="tactic">inversion</span> <span class="id">H6</span>;<span class="tactic">clear</span> <span class="id">H6</span> <span class="id">H7</span>;<span class="tactic">subst</span>;<span class="tactic">simpl</span>;<span class="id">rewrite_inv</span> <span class="id">H_tp_core</span> <span class="id">H_tp_core0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id"><a href="NPDet.html#NPDet.TypestepDet.ldet">ldet</a></span> (<span class="id"><a href="GlobDefs.html#Core.i">Core.i</a></span> <span class="id">c0</span>)) <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H_core_step</span>;<span class="tactic">apply</span> <span class="id">H_core_step</span> <span class="kwd">in</span> <span class="id">H_core_step0</span> <span class="kwd">as</span> (?&amp;?&amp;?);<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H_core_upd</span>;<span class="tactic">inversion</span> <span class="id">H_core_upd0</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H_tp_upd</span>;<span class="tactic">inversion</span> <span class="id">H_tp_upd0</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H4</span> <span class="kwd">in</span> <span class="id">H8</span>;<span class="tactic">inversion</span> <span class="id">H8</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H5</span>;<span class="tactic">inversion</span> <span class="id">H9</span>;<span class="tactic">subst</span>;<span class="tactic">inversion</span> <span class="id">H13</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite_inv</span> <span class="id">H_core_atext</span> <span class="id">H_core_atext0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite_inv</span> <span class="id">H_mod_id</span> <span class="id">H_mod_id0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite_inv</span> <span class="id">H_new_core</span> <span class="id">H_new_core0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite_inv</span> <span class="id">H_tp_push</span> <span class="id">H_tp_push0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite_inv</span> <span class="id">H_core_halt</span> <span class="id">H_core_halt0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite_inv</span> <span class="id">H_tp_pop</span> <span class="id">H_tp_pop0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite_inv</span> <span class="id">H_tp_caller</span> <span class="id">H_tp_caller0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite_inv</span> <span class="id">H_core_aftext</span> <span class="id">H_core_aftext0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H_core_upd</span>;<span class="tactic">inversion</span> <span class="id">H_core_upd0</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H_tp_upd</span>;<span class="tactic">inversion</span> <span class="id">H_tp_upd0</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H5</span>;<span class="tactic">inversion</span> <span class="id">H5</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H6</span>;<span class="tactic">inversion</span> <span class="id">H2</span>;<span class="tactic">subst</span>;<span class="tactic">inversion</span> <span class="id">H11</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite_inv</span> <span class="id">H_core_atext</span> <span class="id">H_core_atext0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite_inv</span> <span class="id">H_core_aftext</span> <span class="id">H_core_aftext0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H_core_update</span>;<span class="tactic">inversion</span> <span class="id">H_core_update0</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H_tp_upd</span>;<span class="tactic">inversion</span> <span class="id">H_tp_upd0</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H5</span>;<span class="tactic">inversion</span> <span class="id">H5</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H6</span>;<span class="tactic">inversion</span> <span class="id">H2</span>;<span class="tactic">subst</span>;<span class="tactic">inversion</span> <span class="id">H11</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite_inv</span> <span class="id">H_core_atext</span> <span class="id">H_core_atext0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite_inv</span> <span class="id">H_core_aftext</span> <span class="id">H_core_aftext0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H_core_update</span>;<span class="tactic">inversion</span> <span class="id">H_core_update0</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H_tp_upd</span>;<span class="tactic">inversion</span> <span class="id">H_tp_upd0</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H5</span>;<span class="tactic">inversion</span> <span class="id">H5</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H6</span>;<span class="tactic">inversion</span> <span class="id">H2</span>;<span class="tactic">subst</span>;<span class="tactic">inversion</span> <span class="id">H11</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite_inv</span> <span class="id">H_core_halt</span> <span class="id">H_core_halt0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite_inv</span> <span class="id">H_tp_pop</span> <span class="id">H_tp_pop0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite_inv</span> <span class="id">H_core_halt</span> <span class="id">H_core_halt0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite_inv</span> <span class="id">H_tp_pop</span> <span class="id">H_tp_pop0</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite_inv</span> <span class="id">H_core_atext</span> <span class="id">H_core_atext0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rewrite_inv</span> <span class="id">H_core_aftext</span> <span class="id">H_core_aftext0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H_core_update</span>;<span class="tactic">inversion</span> <span class="id">H_core_update0</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H_tp_upd</span>;<span class="tactic">inversion</span> <span class="id">H_tp_upd0</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H5</span>;<span class="tactic">inversion</span> <span class="id">H5</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H6</span>;<span class="tactic">inversion</span> <span class="id">H2</span>;<span class="tactic">subst</span>;<span class="tactic">inversion</span> <span class="id">H11</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="NPDet.typestep_taustep_det">typestep_taustep_det</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span> <span class="id">pc</span> <span class="id">fp</span> <span class="id">pc1</span> <span class="id">pc2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="TypedSemantics.html#type_np_step">type_np_step</a></span> <span class="id"><a href="NPDet.html#NPDet.TypestepDet.GE">GE</a></span> <span class="id"><a href="NPDet.html#t">t</a></span> <span class="id"><a href="NPDet.html#pc">pc</a></span> <span class="id"><a href="ETrace.html#tau">tau</a></span> <span class="id"><a href="NPDet.html#fp">fp</a></span> <span class="id"><a href="NPDet.html#pc1">pc1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="TypedSemantics.html#type_np_step">type_np_step</a></span> <span class="id"><a href="NPDet.html#t">t</a></span> <span class="id"><a href="NPDet.html#pc">pc</a></span> <span class="id"><a href="ETrace.html#tau">tau</a></span> <span class="id"><a href="NPDet.html#fp">fp</a></span> <span class="id"><a href="NPDet.html#pc2">pc2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="NPDet.html#pc1">pc1</a></span>.(<span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span>) = <span class="id"><a href="NPDet.html#pc2">pc2</a></span>.(<span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8227')">Proof.</div>
<div class="proofscript" id="proof8227">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span> <span class="id">pc</span> = <span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span> <span class="id">pc1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>;<span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H0</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>;<span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="NPDet.np_step_det">np_step_det</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">pc</span> <span class="id">pc</span>' <span class="id">pc</span>'':@<span class="id"><a href="GlobDefs.html#ProgConfig">ProgConfig</a></span> <span class="id"><a href="NPDet.html#NPDet.TypestepDet.GE">GE</a></span>) <span class="id">fp</span> <span class="id">fp</span>' <span class="id">l1</span> <span class="id">l2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="NPDet.html#pc">pc</a></span> <span class="id"><a href="NPDet.html#l1">l1</a></span> <span class="id"><a href="NPDet.html#fp">fp</a></span> <span class="id">pc</span>' -&gt; <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="NPDet.html#pc">pc</a></span> <span class="id"><a href="NPDet.html#l2">l2</a></span> <span class="id">fp</span>' <span class="id">pc</span>'' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="NPDet.html#l1">l1</a></span> = <span class="id"><a href="NPDet.html#l2">l2</a></span> /\ <span class="id"><a href="NPDet.html#fp">fp</a></span> = <span class="id">fp</span>' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pc</span>'.(<span class="id"><a href="GlobDefs.html#thread_pool">thread_pool</a></span>) = <span class="id">pc</span>''.(<span class="id"><a href="GlobDefs.html#thread_pool">thread_pool</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pc</span>'.(<span class="id"><a href="GlobDefs.html#gm">gm</a></span>) =  <span class="id">pc</span>''.(<span class="id"><a href="GlobDefs.html#gm">gm</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pc</span>'.(<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span>) = <span class="id">pc</span>''.(<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8228')">Proof.</div>
<div class="proofscript" id="proof8228">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="TypedSemantics.html#type_step_exists">type_step_exists</a></span> <span class="kwd">in</span> <span class="id">H0</span> <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="TypedSemantics.html#type_step_exists">type_step_exists</a></span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H0</span> <span class="kwd">as</span> <span class="id">Tmp1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="NPDet.html#NPDet.type_unique">type_unique</a></span> <span class="kwd">in</span> <span class="id">Tmp1</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">H</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H0</span> <span class="kwd">as</span> <span class="id">Tmp1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="NPDet.html#NPDet.type_label_det">type_label_det</a></span> <span class="kwd">in</span> <span class="id">Tmp1</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">H</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H0</span> <span class="kwd">as</span> <span class="id">Tmp1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="NPDet.html#NPDet.type_footprint_det">type_footprint_det</a></span> <span class="kwd">in</span> <span class="id">Tmp1</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">H</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="NPDet.html#NPDet.typestep_det">typestep_det</a></span> <span class="kwd">in</span> <span class="id">H0</span> <span class="kwd">as</span> (?&amp;?&amp;?);<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">H</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">End</span> <span class="id"><a href="NPDet.html#NPDet.TypestepDet">TypestepDet</a></span>.<br/>
<span class="kwd">End</span> <span class="id"><a href="NPDet.html#NPDet">NPDet</a></span>.<br/>
</div>
<div class="footer"><hr/>Generated by coq2html</div>
</body>
</html>
