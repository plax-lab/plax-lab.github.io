<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module Op_fp</title>
<meta name="description" content="Documentation of Coq module Op_fp" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module Op_fp</h1>
<div class="coq">
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="BoolEqual.html">BoolEqual</a></span> <span class="id"><a href="Coqlib.html">Coqlib</a></span> <span class="id"><a href="AST.html">AST</a></span> <span class="id"><a href="Integers.html">Integers</a></span> <span class="id"><a href="Floats.html">Floats</a></span> <span class="id"><a href="Values.html">Values</a></span> <span class="id"><a href="Memory.html">Memory</a></span> <span class="id"><a href="Globalenvs.html">Globalenvs</a></span> <span class="id"><a href="Events.html">Events</a></span>.<br/>
<span class="kwd">Set</span> <span class="kwd">Implicit</span> <span class="id">Arguments</span>.<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Op.html">Op</a></span>.<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Footprint.html">Footprint</a></span> <span class="id"><a href="Memory.html">Memory</a></span> <span class="id"><a href="MemOpFP.html">MemOpFP</a></span> <span class="id"><a href="ValFP.html">ValFP</a></span> <span class="id"><a href="VundefInj.html">VundefInj</a></span>.<br/>
<br/>
<span class="kwd">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="locset">locset</a></span> := <span class="id"><a href="Footprint.html#Locs.t">Locs.t</a></span>.<br/>
<span class="kwd">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="empls">empls</a></span> := <span class="id"><a href="Footprint.html#Locs.emp">Locs.emp</a></span>.<br/>
<span class="kwd">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="footprint">footprint</a></span> := <span class="id"><a href="Footprint.html#FP.t">FP.t</a></span>.<br/>
<span class="kwd">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="empfp">empfp</a></span> := <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>.<br/>
<span class="kwd">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="FP">FP</a></span> := <span class="id"><a href="Footprint.html#FP.Build_t">FP.Build_t</a></span>.<br/>
<br/>
<h1> Evaluation functions footprint </h1>
<br/>
<div class="doc">Evaluation of conditions, operators and addressing modes applied
  to lists of values.  Return <span class="bracket"><span class="id">None</span></span> when the computation can trigger an
  error, e.g. integer division by zero.  <span class="bracket"><span class="id">eval_condition</span></span> returns a boolean,
  <span class="bracket"><span class="id">eval_operation</span></span> and <span class="bracket"><span class="id">eval_addressing</span></span> return a value. </div>
<span class="kwd">Definition</span> <span class="id"><a name="eval_condition_fp">eval_condition_fp</a></span> (<span class="id">cond</span>: <span class="id"><a href="Op.html#condition">condition</a></span>) (<span class="id">vl</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Values.html#val">val</a></span>) (<span class="id">m</span>: <span class="id"><a href="Memory.html#mem">mem</a></span>): <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Op_fp.html#footprint">footprint</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Op_fp.html#cond">cond</a></span>, <span class="id"><a href="Op_fp.html#vl">vl</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ccomp">Ccomp</a></span> <span class="id">c</span>, <span class="id">v1</span> :: <span class="id">v2</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="kwd">if</span> <span class="id"><a href="Values.html#Val.cmp_bool">Val.cmp_bool</a></span> <span class="id">c</span> <span class="id">v1</span> <span class="id">v2</span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ccompu">Ccompu</a></span> <span class="id">c</span>, <span class="id">v1</span> :: <span class="id">v2</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="ValFP.html#cmpu_bool_fp">cmpu_bool_fp</a></span> <span class="id"><a href="Op_fp.html#m">m</a></span> <span class="id">c</span> <span class="id">v1</span> <span class="id">v2</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ccompimm">Ccompimm</a></span> <span class="id">c</span> <span class="id">n</span>, <span class="id">v1</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="kwd">if</span> <span class="id"><a href="Values.html#Val.cmp_bool">Val.cmp_bool</a></span> <span class="id">c</span> <span class="id">v1</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>) <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ccompuimm">Ccompuimm</a></span> <span class="id">c</span> <span class="id">n</span>, <span class="id">v1</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="ValFP.html#cmpu_bool_fp">cmpu_bool_fp</a></span> <span class="id"><a href="Op_fp.html#m">m</a></span> <span class="id">c</span> <span class="id">v1</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ccompl">Ccompl</a></span> <span class="id">c</span>, <span class="id">v1</span> :: <span class="id">v2</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="kwd">if</span> <span class="id"><a href="Values.html#Val.cmpl_bool">Val.cmpl_bool</a></span> <span class="id">c</span> <span class="id">v1</span> <span class="id">v2</span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ccomplu">Ccomplu</a></span> <span class="id">c</span>, <span class="id">v1</span> :: <span class="id">v2</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="ValFP.html#cmplu_bool_fp">cmplu_bool_fp</a></span> <span class="id"><a href="Op_fp.html#m">m</a></span> <span class="id">c</span> <span class="id">v1</span> <span class="id">v2</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ccomplimm">Ccomplimm</a></span> <span class="id">c</span> <span class="id">n</span>, <span class="id">v1</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="kwd">if</span> <span class="id"><a href="Values.html#Val.cmpl_bool">Val.cmpl_bool</a></span> <span class="id">c</span> <span class="id">v1</span> (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">n</span>) <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ccompluimm">Ccompluimm</a></span> <span class="id">c</span> <span class="id">n</span>, <span class="id">v1</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="ValFP.html#cmplu_bool_fp">cmplu_bool_fp</a></span> <span class="id"><a href="Op_fp.html#m">m</a></span> <span class="id">c</span> <span class="id">v1</span> (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">n</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ccompf">Ccompf</a></span> <span class="id">c</span>, <span class="id">v1</span> :: <span class="id">v2</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="kwd">if</span> <span class="id"><a href="Values.html#Val.cmpf_bool">Val.cmpf_bool</a></span> <span class="id">c</span> <span class="id">v1</span> <span class="id">v2</span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Cnotcompf">Cnotcompf</a></span> <span class="id">c</span>, <span class="id">v1</span> :: <span class="id">v2</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Coqlib.html#option_map">option_map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="Values.html#Val.cmpf_bool">Val.cmpf_bool</a></span> <span class="id">c</span> <span class="id">v1</span> <span class="id">v2</span>) <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ccompfs">Ccompfs</a></span> <span class="id">c</span>, <span class="id">v1</span> :: <span class="id">v2</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="kwd">if</span> <span class="id"><a href="Values.html#Val.cmpfs_bool">Val.cmpfs_bool</a></span> <span class="id">c</span> <span class="id">v1</span> <span class="id">v2</span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Cnotcompfs">Cnotcompfs</a></span> <span class="id">c</span>, <span class="id">v1</span> :: <span class="id">v2</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Coqlib.html#option_map">option_map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="Values.html#Val.cmpfs_bool">Val.cmpfs_bool</a></span> <span class="id">c</span> <span class="id">v1</span> <span class="id">v2</span>) <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Cmaskzero">Cmaskzero</a></span> <span class="id">n</span>, <span class="id">v1</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="kwd">if</span> <span class="id"><a href="Values.html#Val.maskzero_bool">Val.maskzero_bool</a></span> <span class="id">v1</span> <span class="id">n</span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Cmasknotzero">Cmasknotzero</a></span> <span class="id">n</span>, <span class="id">v1</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="kwd">if</span> <span class="id"><a href="Coqlib.html#option_map">option_map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="Values.html#Val.maskzero_bool">Val.maskzero_bool</a></span> <span class="id">v1</span> <span class="id">n</span>) <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_condition_eval_condition_fp">eval_condition_eval_condition_fp</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">cond</span> <span class="id">vl</span> <span class="id">m</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_condition">eval_condition</a></span> <span class="id"><a href="Op_fp.html#cond">cond</a></span> <span class="id"><a href="Op_fp.html#vl">vl</a></span> <span class="id"><a href="Op_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">fp</span>, <span class="id"><a href="Op_fp.html#eval_condition_fp">eval_condition_fp</a></span> <span class="id"><a href="Op_fp.html#cond">cond</a></span> <span class="id"><a href="Op_fp.html#vl">vl</a></span> <span class="id"><a href="Op_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6957')">Proof.</div>
<div class="proofscript" id="proof6957">
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">cond</span>; <span class="tactic">intros</span>; <span class="id">inv</span> <span class="id">H</span>; <span class="id">FuncInv</span>; <span class="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> <span class="id">H</span>: <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="tactic">rewrite</span> <span class="id">H</span>; <span class="tactic">eauto</span> <span class="kwd">end</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="ValFP.html#cmpu_bool_cmpu_bool_fp">cmpu_bool_cmpu_bool_fp</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="ValFP.html#cmpu_bool_cmpu_bool_fp">cmpu_bool_cmpu_bool_fp</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="ValFP.html#cmplu_bool_cmplu_bool_fp">cmplu_bool_cmplu_bool_fp</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="ValFP.html#cmplu_bool_cmplu_bool_fp">cmplu_bool_cmplu_bool_fp</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">TODO: move to Op_fp </div>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_condition_fp_negate">eval_condition_fp_negate</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">cond</span> <span class="id">vl</span> <span class="id">m</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Op_fp.html#eval_condition_fp">eval_condition_fp</a></span> <span class="id"><a href="Op_fp.html#cond">cond</a></span> <span class="id"><a href="Op_fp.html#vl">vl</a></span> <span class="id"><a href="Op_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Op_fp.html#eval_condition_fp">eval_condition_fp</a></span> (<span class="id"><a href="Op.html#negate_condition">negate_condition</a></span> <span class="id"><a href="Op_fp.html#cond">cond</a></span>) <span class="id"><a href="Op_fp.html#vl">vl</a></span> <span class="id"><a href="Op_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6958')">Proof.</div>
<div class="proofscript" id="proof6958">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">destruct</span> <span class="id">cond</span>; <span class="tactic">simpl</span>; <span class="tactic">do</span> 2 (<span class="tactic">destruct</span> <span class="id">vl</span>; <span class="tactic">auto</span>); <span class="tactic">try</span> (<span class="tactic">destruct</span> <span class="id">vl</span>; <span class="tactic">auto</span>); <span class="tactic">intro</span> <span class="id">m</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">c</span>, <span class="id">v</span>, <span class="id">v0</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">c</span>, <span class="id">v</span>, <span class="id">v0</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">c</span>, <span class="id">v</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">c</span>, <span class="id">v</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">c</span>, <span class="id">v</span>, <span class="id">v0</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">c</span>, <span class="id">v</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">c</span>, <span class="id">v</span>, <span class="id">v0</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">c</span>, <span class="id">v</span>, <span class="id">v0</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">c</span>, <span class="id">v</span>, <span class="id">v0</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">c</span>, <span class="id">v</span>, <span class="id">v0</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Values.html#Val.maskzero_bool">Val.maskzero_bool</a></span> <span class="id">v</span> <span class="id">n</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Values.html#Val.maskzero_bool">Val.maskzero_bool</a></span> <span class="id">v</span> <span class="id">n</span>); <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
&nbsp;&nbsp;<br/>
<span class="kwd">Definition</span> <span class="id"><a name="eval_operation_fp">eval_operation_fp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">F</span> <span class="id">V</span>: <span class="kwd">Type</span>) (<span class="id">genv</span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="Op_fp.html#F">F</a></span> <span class="id"><a href="Op_fp.html#V">V</a></span>) (<span class="id">sp</span>: <span class="id"><a href="Values.html#val">val</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">op</span>: <span class="id"><a href="Op.html#operation">operation</a></span>) (<span class="id">vl</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Values.html#val">val</a></span>) (<span class="id">m</span>: <span class="id"><a href="Memory.html#mem">mem</a></span>): <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Op_fp.html#footprint">footprint</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Op_fp.html#op">op</a></span>, <span class="id"><a href="Op_fp.html#vl">vl</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omove">Omove</a></span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ointconst">Ointconst</a></span> <span class="id">n</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Olongconst">Olongconst</a></span> <span class="id">n</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ofloatconst">Ofloatconst</a></span> <span class="id">n</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Osingleconst">Osingleconst</a></span> <span class="id">n</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oindirectsymbol">Oindirectsymbol</a></span> <span class="id">id</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ocast8signed">Ocast8signed</a></span>, <span class="id">v1</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ocast8unsigned">Ocast8unsigned</a></span>, <span class="id">v1</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ocast16signed">Ocast16signed</a></span>, <span class="id">v1</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ocast16unsigned">Ocast16unsigned</a></span>, <span class="id">v1</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oneg">Oneg</a></span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Osub">Osub</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omul">Omul</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omulimm">Omulimm</a></span> <span class="id">n</span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omulhs">Omulhs</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omulhu">Omulhu</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Odiv">Odiv</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="kwd">if</span> <span class="id"><a href="Values.html#Val.divs">Val.divs</a></span> <span class="id">v1</span> <span class="id">v2</span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Odivu">Odivu</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="kwd">if</span> <span class="id"><a href="Values.html#Val.divu">Val.divu</a></span> <span class="id">v1</span> <span class="id">v2</span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omod">Omod</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="kwd">if</span> <span class="id"><a href="Values.html#Val.mods">Val.mods</a></span> <span class="id">v1</span> <span class="id">v2</span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omodu">Omodu</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="kwd">if</span> <span class="id"><a href="Values.html#Val.modu">Val.modu</a></span> <span class="id">v1</span> <span class="id">v2</span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oand">Oand</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oandimm">Oandimm</a></span> <span class="id">n</span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oor">Oor</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oorimm">Oorimm</a></span> <span class="id">n</span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oxor">Oxor</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oxorimm">Oxorimm</a></span> <span class="id">n</span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Onot">Onot</a></span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oshl">Oshl</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oshlimm">Oshlimm</a></span> <span class="id">n</span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oshr">Oshr</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oshrimm">Oshrimm</a></span> <span class="id">n</span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oshrximm">Oshrximm</a></span> <span class="id">n</span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="kwd">if</span> <span class="id"><a href="Values.html#Val.shrx">Val.shrx</a></span> <span class="id">v1</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>) <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oshru">Oshru</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oshruimm">Oshruimm</a></span> <span class="id">n</span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ororimm">Ororimm</a></span> <span class="id">n</span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oshldimm">Oshldimm</a></span> <span class="id">n</span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Olea">Olea</a></span> <span class="id">addr</span>, <span class="id">_</span> =&gt; <span class="kwd">if</span> <span class="id"><a href="Op.html#eval_addressing32">eval_addressing32</a></span> <span class="id"><a href="Op_fp.html#genv">genv</a></span> <span class="id"><a href="Op_fp.html#sp">sp</a></span> <span class="id">addr</span> <span class="id"><a href="Op_fp.html#vl">vl</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omakelong">Omakelong</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Olowlong">Olowlong</a></span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ohighlong">Ohighlong</a></span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ocast32signed">Ocast32signed</a></span>, <span class="id">v1</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ocast32unsigned">Ocast32unsigned</a></span>, <span class="id">v1</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Onegl">Onegl</a></span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oaddlimm">Oaddlimm</a></span> <span class="id">n</span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Osubl">Osubl</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omull">Omull</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omullimm">Omullimm</a></span> <span class="id">n</span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omullhs">Omullhs</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omullhu">Omullhu</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Odivl">Odivl</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="kwd">if</span> <span class="id"><a href="Values.html#Val.divls">Val.divls</a></span> <span class="id">v1</span> <span class="id">v2</span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Odivlu">Odivlu</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="kwd">if</span> <span class="id"><a href="Values.html#Val.divlu">Val.divlu</a></span> <span class="id">v1</span> <span class="id">v2</span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omodl">Omodl</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="kwd">if</span> <span class="id"><a href="Values.html#Val.modls">Val.modls</a></span> <span class="id">v1</span> <span class="id">v2</span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omodlu">Omodlu</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="kwd">if</span> <span class="id"><a href="Values.html#Val.modlu">Val.modlu</a></span> <span class="id">v1</span> <span class="id">v2</span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oandl">Oandl</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oandlimm">Oandlimm</a></span> <span class="id">n</span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oorl">Oorl</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oorlimm">Oorlimm</a></span> <span class="id">n</span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span> <br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oxorl">Oxorl</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oxorlimm">Oxorlimm</a></span> <span class="id">n</span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Onotl">Onotl</a></span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oshll">Oshll</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oshllimm">Oshllimm</a></span> <span class="id">n</span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oshrl">Oshrl</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oshrlimm">Oshrlimm</a></span> <span class="id">n</span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oshrxlimm">Oshrxlimm</a></span> <span class="id">n</span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="kwd">if</span> <span class="id"><a href="Values.html#Val.shrxl">Val.shrxl</a></span> <span class="id">v1</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>) <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oshrlu">Oshrlu</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oshrluimm">Oshrluimm</a></span> <span class="id">n</span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ororlimm">Ororlimm</a></span> <span class="id">n</span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oleal">Oleal</a></span> <span class="id">addr</span>, <span class="id">_</span> =&gt; <span class="kwd">if</span> <span class="id"><a href="Op.html#eval_addressing64">eval_addressing64</a></span> <span class="id"><a href="Op_fp.html#genv">genv</a></span> <span class="id"><a href="Op_fp.html#sp">sp</a></span> <span class="id">addr</span> <span class="id"><a href="Op_fp.html#vl">vl</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Onegf">Onegf</a></span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oabsf">Oabsf</a></span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oaddf">Oaddf</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Osubf">Osubf</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omulf">Omulf</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Odivf">Odivf</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Onegfs">Onegfs</a></span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oabsfs">Oabsfs</a></span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Oaddfs">Oaddfs</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Osubfs">Osubfs</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Omulfs">Omulfs</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Odivfs">Odivfs</a></span>, <span class="id">v1</span>::<span class="id">v2</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Osingleoffloat">Osingleoffloat</a></span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ofloatofsingle">Ofloatofsingle</a></span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ointoffloat">Ointoffloat</a></span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="kwd">if</span> <span class="id"><a href="Values.html#Val.intoffloat">Val.intoffloat</a></span> <span class="id">v1</span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ofloatofint">Ofloatofint</a></span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="kwd">if</span> <span class="id"><a href="Values.html#Val.floatofint">Val.floatofint</a></span> <span class="id">v1</span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ointofsingle">Ointofsingle</a></span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="kwd">if</span> <span class="id"><a href="Values.html#Val.intofsingle">Val.intofsingle</a></span> <span class="id">v1</span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Osingleofint">Osingleofint</a></span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="kwd">if</span> <span class="id"><a href="Values.html#Val.singleofint">Val.singleofint</a></span> <span class="id">v1</span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Olongoffloat">Olongoffloat</a></span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="kwd">if</span> <span class="id"><a href="Values.html#Val.longoffloat">Val.longoffloat</a></span> <span class="id">v1</span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ofloatoflong">Ofloatoflong</a></span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="kwd">if</span> <span class="id"><a href="Values.html#Val.floatoflong">Val.floatoflong</a></span> <span class="id">v1</span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Olongofsingle">Olongofsingle</a></span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="kwd">if</span> <span class="id"><a href="Values.html#Val.longofsingle">Val.longofsingle</a></span> <span class="id">v1</span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Osingleoflong">Osingleoflong</a></span>, <span class="id">v1</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="kwd">if</span> <span class="id"><a href="Values.html#Val.singleoflong">Val.singleoflong</a></span> <span class="id">v1</span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Op.html#Ocmp">Ocmp</a></span> <span class="id">c</span>, <span class="id">_</span> =&gt; <span class="id"><a href="Op_fp.html#eval_condition_fp">eval_condition_fp</a></span> <span class="id">c</span> <span class="id"><a href="Op_fp.html#vl">vl</a></span> <span class="id"><a href="Op_fp.html#m">m</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="op_depends_on_memory_footprint_emp">op_depends_on_memory_footprint_emp</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">F</span> <span class="id">V</span>: <span class="kwd">Type</span>) (<span class="id">ge</span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="Op_fp.html#F">F</a></span> <span class="id"><a href="Op_fp.html#V">V</a></span>) <span class="id">sp</span> <span class="id">op</span> <span class="id">args</span> <span class="id">m</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Op.html#op_depends_on_memory">op_depends_on_memory</a></span> <span class="id"><a href="Op_fp.html#op">op</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Op_fp.html#eval_operation_fp">eval_operation_fp</a></span> <span class="id"><a href="Op_fp.html#ge">ge</a></span> <span class="id"><a href="Op_fp.html#sp">sp</a></span> <span class="id"><a href="Op_fp.html#op">op</a></span> <span class="id"><a href="Op_fp.html#args">args</a></span> <span class="id"><a href="Op_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Op_fp.html#fp">fp</a></span> = <span class="id"><a href="Op_fp.html#empfp">empfp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6959')">Proof.</div>
<div class="proofscript" id="proof6959">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">fp</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">op</span>; <span class="tactic">simpl</span>; <span class="id">FuncInv</span>; <span class="tactic">intros</span> <span class="id">SF</span> <span class="id">H</span>; <span class="id">FuncInv</span>; <span class="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id">context</span>[<span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id">_</span> =&gt; <span class="id">_</span> <span class="kwd">end</span>] |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span> <span class="id">eqn</span>:?; <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">auto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>; <span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">cond</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>; <span class="id">FuncInv</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id">context</span>[<span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id">_</span> =&gt; <span class="id">_</span> <span class="kwd">end</span>] |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span> <span class="id">eqn</span>:?; <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">auto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>; <span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="ValFP.html#cmpu_bool_fp">cmpu_bool_fp</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#negb_false_iff">negb_false_iff</a></span> <span class="kwd">in</span> <span class="id">SF</span>. <span class="tactic">rewrite</span> <span class="id">SF</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> <span class="id">v</span>, <span class="id">v0</span>; <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="ValFP.html#cmpu_bool_fp">cmpu_bool_fp</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#negb_false_iff">negb_false_iff</a></span> <span class="kwd">in</span> <span class="id">SF</span>. <span class="tactic">rewrite</span> <span class="id">SF</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> <span class="id">v</span>; <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="ValFP.html#cmplu_bool_fp">cmplu_bool_fp</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id">SF</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> <span class="id">v</span>, <span class="id">v0</span>; <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="ValFP.html#cmplu_bool_fp">cmplu_bool_fp</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id">SF</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> <span class="id">v</span>; <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">auto</span>.  <br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="op_depends_on_memory_footprint_correct">op_depends_on_memory_footprint_correct</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">F</span> <span class="id">V</span>: <span class="kwd">Type</span>) (<span class="id">ge</span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="Op_fp.html#F">F</a></span> <span class="id"><a href="Op_fp.html#V">V</a></span>) <span class="id">sp</span> <span class="id">op</span> <span class="id">args</span> <span class="id">m1</span> <span class="id">m2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Op.html#op_depends_on_memory">op_depends_on_memory</a></span> <span class="id"><a href="Op_fp.html#op">op</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Op_fp.html#eval_operation_fp">eval_operation_fp</a></span> <span class="id"><a href="Op_fp.html#ge">ge</a></span> <span class="id"><a href="Op_fp.html#sp">sp</a></span> <span class="id"><a href="Op_fp.html#op">op</a></span> <span class="id"><a href="Op_fp.html#args">args</a></span> <span class="id"><a href="Op_fp.html#m1">m1</a></span> = <span class="id"><a href="Op_fp.html#eval_operation_fp">eval_operation_fp</a></span> <span class="id"><a href="Op_fp.html#ge">ge</a></span> <span class="id"><a href="Op_fp.html#sp">sp</a></span> <span class="id"><a href="Op_fp.html#op">op</a></span> <span class="id"><a href="Op_fp.html#args">args</a></span> <span class="id"><a href="Op_fp.html#m2">m2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6960')">Proof.</div>
<div class="proofscript" id="proof6960">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">m2</span>. <span class="tactic">destruct</span> <span class="id">op</span>; <span class="tactic">simpl</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">cond</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span> <span class="id">SF</span>; <span class="tactic">auto</span>; <span class="tactic">rewrite</span> ? <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#negb_false_iff">negb_false_iff</a></span> <span class="kwd">in</span> <span class="id">SF</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Op_fp.html#eval_condition_fp">eval_condition_fp</a></span>, <span class="id"><a href="ValFP.html#cmplu_bool_fp">cmplu_bool_fp</a></span>, <span class="id"><a href="ValFP.html#cmpu_bool_fp">cmpu_bool_fp</a></span>; <span class="tactic">rewrite</span> <span class="id">SF</span>; <span class="tactic">reflexivity</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Global variables mentioned in an operation or addressing mode </div>
<br/>
<br/>
<h1> Invariance and compatibility properties. </h1>
<br/>
<div class="doc"><span class="bracket"><span class="id">eval_operation</span></span> and <span class="bracket"><span class="id">eval_addressing</span></span> depend on a global environment
  for resolving references to global symbols.  We show that they give
  the same results if a global environment is replaced by another that
  assigns the same addresses to the same symbols. </div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="GENV_TRANSF">GENV_TRANSF</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="GENV_TRANSF.F1">F1</a></span> <span class="id"><a name="GENV_TRANSF.F2">F2</a></span> <span class="id"><a name="GENV_TRANSF.V1">V1</a></span> <span class="id"><a name="GENV_TRANSF.V2">V2</a></span>: <span class="kwd">Type</span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="GENV_TRANSF.ge1">ge1</a></span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="Op_fp.html#GENV_TRANSF.F1">F1</a></span> <span class="id"><a href="Op_fp.html#GENV_TRANSF.V1">V1</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="GENV_TRANSF.ge2">ge2</a></span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="Op_fp.html#GENV_TRANSF.F2">F2</a></span> <span class="id"><a href="Op_fp.html#GENV_TRANSF.V2">V2</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="GENV_TRANSF.agree_on_symbols">agree_on_symbols</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">s</span>: <span class="id"><a href="AST.html#ident">ident</a></span>), <span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="Op_fp.html#GENV_TRANSF.ge2">ge2</a></span> <span class="id"><a href="Op_fp.html#s">s</a></span> = <span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="Op_fp.html#GENV_TRANSF.ge1">ge1</a></span> <span class="id"><a href="Op_fp.html#s">s</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_operation_fp_preserved">eval_operation_fp_preserved</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">sp</span> <span class="id">op</span> <span class="id">vl</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Op_fp.html#eval_operation_fp">eval_operation_fp</a></span> <span class="id"><a href="Op_fp.html#GENV_TRANSF.ge2">ge2</a></span> <span class="id"><a href="Op_fp.html#sp">sp</a></span> <span class="id"><a href="Op_fp.html#op">op</a></span> <span class="id"><a href="Op_fp.html#vl">vl</a></span> <span class="id"><a href="Op_fp.html#m">m</a></span> = <span class="id"><a href="Op_fp.html#eval_operation_fp">eval_operation_fp</a></span> <span class="id"><a href="Op_fp.html#GENV_TRANSF.ge1">ge1</a></span> <span class="id"><a href="Op_fp.html#sp">sp</a></span> <span class="id"><a href="Op_fp.html#op">op</a></span> <span class="id"><a href="Op_fp.html#vl">vl</a></span> <span class="id"><a href="Op_fp.html#m">m</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6961')">Proof.</div>
<div class="proofscript" id="proof6961">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Op_fp.html#eval_operation_fp">eval_operation_fp</a></span>; <span class="tactic">destruct</span> <span class="id">op</span>; <span class="tactic">auto</span> <span class="kwd">using</span> <span class="id"><a href="Op.html#eval_addressing32_preserved">eval_addressing32_preserved</a></span>, <span class="id"><a href="Op.html#eval_addressing64_preserved">eval_addressing64_preserved</a></span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="Op.html#eval_addressing32_preserved">eval_addressing32_preserved</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="Op_fp.html#GENV_TRANSF">GENV_TRANSF</a></span>.<br/>
<br/>
<div class="doc">Compatibility of the evaluation functions with value injections. </div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="EVAL_COMPAT">EVAL_COMPAT</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="EVAL_COMPAT.F1">F1</a></span> <span class="id"><a name="EVAL_COMPAT.F2">F2</a></span> <span class="id"><a name="EVAL_COMPAT.V1">V1</a></span> <span class="id"><a name="EVAL_COMPAT.V2">V2</a></span>: <span class="kwd">Type</span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="EVAL_COMPAT.ge1">ge1</a></span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.F1">F1</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.V1">V1</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="EVAL_COMPAT.ge2">ge2</a></span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.F2">F2</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.V2">V2</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="EVAL_COMPAT.f">f</a></span>: <span class="id"><a href="Values.html#meminj">meminj</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="EVAL_COMPAT.m1">m1</a></span>: <span class="id"><a href="Memory.html#mem">mem</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="EVAL_COMPAT.m2">m2</a></span>: <span class="id"><a href="Memory.html#mem">mem</a></span>.<br/>
<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="EVAL_COMPAT.valid_pointer_inj">valid_pointer_inj</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b1</span> <span class="id">ofs</span> <span class="id">b2</span> <span class="id">delta</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Op_fp.html#EVAL_COMPAT.f">f</a></span> <span class="id"><a href="Op_fp.html#b1">b1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Op_fp.html#b2">b2</a></span>, <span class="id"><a href="Op_fp.html#delta">delta</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.m1">m1</a></span> <span class="id"><a href="Op_fp.html#b1">b1</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="Op_fp.html#ofs">ofs</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.m2">m2</a></span> <span class="id"><a href="Op_fp.html#b2">b2</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> (<span class="id"><a href="Integers.html#Ptrofs.add">Ptrofs.add</a></span> <span class="id"><a href="Op_fp.html#ofs">ofs</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id"><a href="Op_fp.html#delta">delta</a></span>))) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="EVAL_COMPAT.weak_valid_pointer_inj">weak_valid_pointer_inj</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b1</span> <span class="id">ofs</span> <span class="id">b2</span> <span class="id">delta</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Op_fp.html#EVAL_COMPAT.f">f</a></span> <span class="id"><a href="Op_fp.html#b1">b1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Op_fp.html#b2">b2</a></span>, <span class="id"><a href="Op_fp.html#delta">delta</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.m1">m1</a></span> <span class="id"><a href="Op_fp.html#b1">b1</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="Op_fp.html#ofs">ofs</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.m2">m2</a></span> <span class="id"><a href="Op_fp.html#b2">b2</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> (<span class="id"><a href="Integers.html#Ptrofs.add">Ptrofs.add</a></span> <span class="id"><a href="Op_fp.html#ofs">ofs</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id"><a href="Op_fp.html#delta">delta</a></span>))) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="EVAL_COMPAT.weak_valid_pointer_no_overflow">weak_valid_pointer_no_overflow</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b1</span> <span class="id">ofs</span> <span class="id">b2</span> <span class="id">delta</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Op_fp.html#EVAL_COMPAT.f">f</a></span> <span class="id"><a href="Op_fp.html#b1">b1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Op_fp.html#b2">b2</a></span>, <span class="id"><a href="Op_fp.html#delta">delta</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.m1">m1</a></span> <span class="id"><a href="Op_fp.html#b1">b1</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="Op_fp.html#ofs">ofs</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;0 &lt;= <span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="Op_fp.html#ofs">ofs</a></span> + <span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id"><a href="Op_fp.html#delta">delta</a></span>) &lt;= <span class="id"><a href="Integers.html#Ptrofs.max_unsigned">Ptrofs.max_unsigned</a></span>.<br/>
<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="EVAL_COMPAT.valid_different_pointers_inj">valid_different_pointers_inj</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b1</span> <span class="id">ofs1</span> <span class="id">b2</span> <span class="id">ofs2</span> <span class="id">b1</span>' <span class="id">delta1</span> <span class="id">b2</span>' <span class="id">delta2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Op_fp.html#b1">b1</a></span> &lt;&gt; <span class="id"><a href="Op_fp.html#b2">b2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.m1">m1</a></span> <span class="id"><a href="Op_fp.html#b1">b1</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="Op_fp.html#ofs1">ofs1</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.m1">m1</a></span> <span class="id"><a href="Op_fp.html#b2">b2</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="Op_fp.html#ofs2">ofs2</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Op_fp.html#EVAL_COMPAT.f">f</a></span> <span class="id"><a href="Op_fp.html#b1">b1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">b1</span>', <span class="id"><a href="Op_fp.html#delta1">delta1</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Op_fp.html#EVAL_COMPAT.f">f</a></span> <span class="id"><a href="Op_fp.html#b2">b2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">b2</span>', <span class="id"><a href="Op_fp.html#delta2">delta2</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id">b1</span>' &lt;&gt; <span class="id">b2</span>' \/<br/>
&nbsp;&nbsp;<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> (<span class="id"><a href="Integers.html#Ptrofs.add">Ptrofs.add</a></span> <span class="id"><a href="Op_fp.html#ofs1">ofs1</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id"><a href="Op_fp.html#delta1">delta1</a></span>)) &lt;&gt; <span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> (<span class="id"><a href="Integers.html#Ptrofs.add">Ptrofs.add</a></span> <span class="id"><a href="Op_fp.html#ofs2">ofs2</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id"><a href="Op_fp.html#delta2">delta2</a></span>)).<br/>
<br/>
<span class="kwd">Ltac</span> <span class="id">InvInject</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id">_</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">_</span>) <span class="id">_</span> |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="id">InvInject</span><br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id">_</span> (<span class="id"><a href="Values.html#Vfloat">Vfloat</a></span> <span class="id">_</span>) <span class="id">_</span> |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="id">InvInject</span><br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id">_</span> (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">_</span> <span class="id">_</span>) <span class="id">_</span> |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="id">InvInject</span><br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="id"><a href="Values.html#Val.inject_list">Val.inject_list</a></span> <span class="id">_</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id">_</span> |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="id">InvInject</span><br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="id"><a href="Values.html#Val.inject_list">Val.inject_list</a></span> <span class="id">_</span> (<span class="id">_</span> :: <span class="id">_</span>) <span class="id">_</span> |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="id">InvInject</span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id">idtac</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Ltac</span> <span class="id">TrivialReduce</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id">context</span>[<span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id">_</span> =&gt; <span class="id">_</span> <span class="kwd">end</span>] |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span> <span class="id">eqn</span>:?; <span class="id">inv</span> <span class="id">H</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: ?<span class="id">x</span> = <span class="id">_</span> |- <span class="id">context</span>[<span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id">_</span> =&gt; <span class="id">_</span> <span class="kwd">end</span>] =&gt; <span class="tactic">rewrite</span> <span class="id">H</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<div class="doc">We need a definition describing footprint "inject" </div>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Blockset.html">Blockset</a></span> <span class="id"><a href="Injections.html">Injections</a></span> <span class="id"><a href="FMemOpFP.html">FMemOpFP</a></span> <span class="id"><a href="MemOpFP.html">MemOpFP</a></span> <span class="id"><a href="InjRels.html">InjRels</a></span>.<br/>
<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="loc_inject">loc_inject</a></span> (<span class="id">f</span>: <span class="id"><a href="Values.html#meminj">meminj</a></span>) (<span class="id">ls</span> <span class="id">ls</span>': <span class="id"><a href="Op_fp.html#locset">locset</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a name="Loc_inject">Loc_inject</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span> <span class="id">ls</span>' <span class="id"><a href="Op_fp.html#b">b</a></span> <span class="id"><a href="Op_fp.html#ofs">ofs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">b0</span> <span class="id">ptrofs0</span> <span class="id">delta</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">f</span> <span class="id"><a href="Op_fp.html#b0">b0</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Op_fp.html#b">b</a></span>, <span class="id"><a href="Op_fp.html#delta">delta</a></span>) /\<br/>
<div class="doc">restrict ofs to be Int32 representable..., or a -1 offset generated by weak_valid_pointer... </div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;((<span class="id"><a href="Op_fp.html#ofs">ofs</a></span> = <span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> (<span class="id"><a href="Integers.html#Ptrofs.add">Ptrofs.add</a></span> <span class="id"><a href="Op_fp.html#ptrofs0">ptrofs0</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id"><a href="Op_fp.html#delta">delta</a></span>)) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span> <span class="id">ls</span> <span class="id"><a href="Op_fp.html#b0">b0</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="Op_fp.html#ptrofs0">ptrofs0</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Op_fp.html#ofs">ofs</a></span> = <span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> (<span class="id"><a href="Integers.html#Ptrofs.add">Ptrofs.add</a></span> <span class="id"><a href="Op_fp.html#ptrofs0">ptrofs0</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id"><a href="Op_fp.html#delta">delta</a></span>)) - 1 /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span> <span class="id">ls</span> <span class="id"><a href="Op_fp.html#b0">b0</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="Op_fp.html#ptrofs0">ptrofs0</a></span> - 1))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id"><a href="Op_fp.html#loc_inject">loc_inject</a></span> <span class="id">f</span> <span class="id">ls</span> <span class="id">ls</span>'.<br/>
<br/>
<span class="kwd">Record</span> <span class="id"><a name="fp_inject">fp_inject</a></span> (<span class="id">f</span>: <span class="id"><a href="Values.html#meminj">meminj</a></span>) (<span class="id">fp</span> <span class="id">fp</span>': <span class="id"><a href="Op_fp.html#footprint">footprint</a></span>) :=<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="cmp_inject">cmp_inject</a></span>: <span class="id"><a href="Op_fp.html#loc_inject">loc_inject</a></span> <span class="id"><a href="Op_fp.html#f">f</a></span> (<span class="id"><a href="Footprint.html#FP.cmps">FP.cmps</a></span> <span class="id"><a href="Op_fp.html#fp">fp</a></span>) (<span class="id"><a href="Footprint.html#FP.cmps">FP.cmps</a></span> <span class="id">fp</span>');<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="read_inject">read_inject</a></span>: <span class="id"><a href="Op_fp.html#loc_inject">loc_inject</a></span> <span class="id"><a href="Op_fp.html#f">f</a></span> (<span class="id"><a href="Footprint.html#FP.reads">FP.reads</a></span> <span class="id"><a href="Op_fp.html#fp">fp</a></span>) (<span class="id"><a href="Footprint.html#FP.reads">FP.reads</a></span> <span class="id">fp</span>');<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="write_inject">write_inject</a></span>: <span class="id"><a href="Op_fp.html#loc_inject">loc_inject</a></span> <span class="id"><a href="Op_fp.html#f">f</a></span> (<span class="id"><a href="Footprint.html#FP.writes">FP.writes</a></span> <span class="id"><a href="Op_fp.html#fp">fp</a></span>) (<span class="id"><a href="Footprint.html#FP.writes">FP.writes</a></span> <span class="id">fp</span>');<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="free_match">free_match</a></span>: <span class="id"><a href="Op_fp.html#loc_inject">loc_inject</a></span> <span class="id"><a href="Op_fp.html#f">f</a></span> (<span class="id"><a href="Footprint.html#FP.frees">FP.frees</a></span> <span class="id"><a href="Op_fp.html#fp">fp</a></span>) (<span class="id"><a href="Footprint.html#FP.frees">FP.frees</a></span> <span class="id">fp</span>');<br/>
&nbsp;&nbsp;}.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc_inject_emp">loc_inject_emp</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">ls</span>, <span class="id"><a href="Op_fp.html#loc_inject">loc_inject</a></span> <span class="id"><a href="Op_fp.html#f">f</a></span> <span class="id"><a href="Op_fp.html#ls">ls</a></span> <span class="id"><a href="Footprint.html#Locs.emp">Locs.emp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6962')">Proof.</div>
<div class="proofscript" id="proof6962">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">intros</span>. <span class="id">constructor</span>. <span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fp_inject_emp">fp_inject_emp</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">fp</span>, <span class="id"><a href="Op_fp.html#fp_inject">fp_inject</a></span> <span class="id"><a href="Op_fp.html#f">f</a></span> <span class="id"><a href="Op_fp.html#fp">fp</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6963')">Proof.</div>
<div class="proofscript" id="proof6963">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">intros</span>. <span class="id">constructor</span>; <span class="tactic">eapply</span> <span class="id"><a href="Op_fp.html#loc_inject_emp">loc_inject_emp</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc_inject_union_s">loc_inject_union_s</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">ls1</span> <span class="id">ls1</span>' <span class="id">ls2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Op_fp.html#loc_inject">loc_inject</a></span> <span class="id"><a href="Op_fp.html#f">f</a></span> <span class="id"><a href="Op_fp.html#ls1">ls1</a></span> <span class="id">ls1</span>' -&gt; <span class="id"><a href="Op_fp.html#loc_inject">loc_inject</a></span> <span class="id"><a href="Op_fp.html#f">f</a></span> (<span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> <span class="id"><a href="Op_fp.html#ls1">ls1</a></span> <span class="id"><a href="Op_fp.html#ls2">ls2</a></span>) <span class="id">ls1</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6964')">Proof.</div>
<div class="proofscript" id="proof6964">
&nbsp;&nbsp;<span class="tactic">clear</span>; <span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> (? &amp; ? &amp; ? &amp; ? &amp; [[? ?]|[? ?]]); <span class="id">exists</span> <span class="id">x</span>, <span class="id">x0</span>, <span class="id">x1</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">left</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="id">Locs.unfolds</span>. <span class="tactic">rewrite</span> <span class="id">H2</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="id">Locs.unfolds</span>. <span class="tactic">rewrite</span> <span class="id">H2</span>. <span class="tactic">auto</span>.  <br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc_inject_union_t">loc_inject_union_t</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">ls</span> <span class="id">ls1</span>' <span class="id">ls2</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Op_fp.html#loc_inject">loc_inject</a></span> <span class="id"><a href="Op_fp.html#f">f</a></span> <span class="id"><a href="Op_fp.html#ls">ls</a></span> <span class="id">ls1</span>' -&gt; <span class="id"><a href="Op_fp.html#loc_inject">loc_inject</a></span> <span class="id"><a href="Op_fp.html#f">f</a></span> <span class="id"><a href="Op_fp.html#ls">ls</a></span> <span class="id">ls2</span>' -&gt; <span class="id"><a href="Op_fp.html#loc_inject">loc_inject</a></span> <span class="id"><a href="Op_fp.html#f">f</a></span> <span class="id"><a href="Op_fp.html#ls">ls</a></span> (<span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> <span class="id">ls1</span>' <span class="id">ls2</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6965')">Proof.</div>
<div class="proofscript" id="proof6965">
&nbsp;&nbsp;<span class="tactic">clear</span>; <span class="tactic">intros</span>. <span class="id">constructor</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">Locs.unfolds</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_true_iff">orb_true_iff</a></span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">destruct</span> <span class="id">H1</span>; [<span class="tactic">apply</span> <span class="id">H</span>|<span class="tactic">apply</span> <span class="id">H0</span>]; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fp_inject_union_s">fp_inject_union_s</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">fp1</span> <span class="id">fp1</span>' <span class="id">fp2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Op_fp.html#fp_inject">fp_inject</a></span> <span class="id"><a href="Op_fp.html#f">f</a></span> <span class="id"><a href="Op_fp.html#fp1">fp1</a></span> <span class="id">fp1</span>' -&gt; <span class="id"><a href="Op_fp.html#fp_inject">fp_inject</a></span> <span class="id"><a href="Op_fp.html#f">f</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="Op_fp.html#fp1">fp1</a></span> <span class="id"><a href="Op_fp.html#fp2">fp2</a></span>) <span class="id">fp1</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6966')">Proof.</div>
<div class="proofscript" id="proof6966">
&nbsp;&nbsp;<span class="tactic">clear</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="id">constructor</span>; <span class="tactic">destruct</span> <span class="id">fp1</span>, <span class="id">fp2</span>, <span class="id">fp1</span>'; <span class="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Op_fp.html#loc_inject_union_s">loc_inject_union_s</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fp_inject_union_t">fp_inject_union_t</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">fp</span> <span class="id">fp1</span>' <span class="id">fp2</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Op_fp.html#fp_inject">fp_inject</a></span> <span class="id"><a href="Op_fp.html#f">f</a></span> <span class="id"><a href="Op_fp.html#fp">fp</a></span> <span class="id">fp1</span>' -&gt; <span class="id"><a href="Op_fp.html#fp_inject">fp_inject</a></span> <span class="id"><a href="Op_fp.html#f">f</a></span> <span class="id"><a href="Op_fp.html#fp">fp</a></span> <span class="id">fp2</span>' -&gt; <span class="id"><a href="Op_fp.html#fp_inject">fp_inject</a></span> <span class="id"><a href="Op_fp.html#f">f</a></span> <span class="id"><a href="Op_fp.html#fp">fp</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fp1</span>' <span class="id">fp2</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6967')">Proof.</div>
<div class="proofscript" id="proof6967">
&nbsp;&nbsp;<span class="tactic">clear</span>;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H0</span>. <span class="id">constructor</span>; <span class="tactic">apply</span> <span class="id"><a href="Op_fp.html#loc_inject_union_t">loc_inject_union_t</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
&nbsp;&nbsp;<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fp_inject_union">fp_inject_union</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">fp1</span> <span class="id">fp1</span>' <span class="id">fp2</span> <span class="id">fp2</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Op_fp.html#fp_inject">fp_inject</a></span> <span class="id"><a href="Op_fp.html#f">f</a></span> <span class="id"><a href="Op_fp.html#fp1">fp1</a></span> <span class="id">fp1</span>' -&gt; <span class="id"><a href="Op_fp.html#fp_inject">fp_inject</a></span> <span class="id"><a href="Op_fp.html#f">f</a></span> <span class="id"><a href="Op_fp.html#fp2">fp2</a></span> <span class="id">fp2</span>' -&gt; <span class="id"><a href="Op_fp.html#fp_inject">fp_inject</a></span> <span class="id"><a href="Op_fp.html#f">f</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="Op_fp.html#fp1">fp1</a></span> <span class="id"><a href="Op_fp.html#fp2">fp2</a></span>) (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fp1</span>' <span class="id">fp2</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6968')">Proof.</div>
<div class="proofscript" id="proof6968">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Op_fp.html#fp_inject_union_t">fp_inject_union_t</a></span>; [|<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.union_comm_eq">FP.union_comm_eq</a></span>]; <span class="tactic">apply</span> <span class="id"><a href="Op_fp.html#fp_inject_union_s">fp_inject_union_s</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc_inject_id_loc_subset">loc_inject_id_loc_subset</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ls</span> <span class="id">ls</span>', <span class="id"><a href="Op_fp.html#loc_inject">loc_inject</a></span> <span class="id"><a href="Values.html#inject_id">inject_id</a></span> <span class="id"><a href="Op_fp.html#ls">ls</a></span> <span class="id">ls</span>' -&gt; <span class="id"><a href="Footprint.html#Locs.subset">Locs.subset</a></span> <span class="id">ls</span>' <span class="id"><a href="Op_fp.html#ls">ls</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6969')">Proof.</div>
<div class="proofscript" id="proof6969">
&nbsp;&nbsp;<span class="tactic">clear</span>; <span class="tactic">simpl</span>. <span class="id">Locs.unfolds</span>. <span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">destruct</span> <span class="id">H0</span> <span class="kwd">as</span> (?&amp;?&amp;?&amp;?&amp;?).<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span> <span class="kwd">in</span> *. <span class="tactic">destruct</span> <span class="id">H1</span> <span class="kwd">as</span> [<span class="id">H1</span>|<span class="id">H1</span>]; <span class="tactic">destruct</span> <span class="id">H1</span>; <span class="tactic">subst</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fp_inject_id_fp_subset">fp_inject_id_fp_subset</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp</span> <span class="id">fp</span>', <span class="id"><a href="Op_fp.html#fp_inject">fp_inject</a></span> <span class="id"><a href="Values.html#inject_id">inject_id</a></span> <span class="id"><a href="Op_fp.html#fp">fp</a></span> <span class="id">fp</span>' -&gt; <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> <span class="id">fp</span>' <span class="id"><a href="Op_fp.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6970')">Proof.</div>
<div class="proofscript" id="proof6970">
&nbsp;&nbsp;<span class="tactic">clear</span>; <span class="tactic">destruct</span> <span class="id">fp</span>; <span class="id">constructor</span>; <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Op_fp.html#loc_inject_id_loc_subset">loc_inject_id_loc_subset</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc_inject_loc_match">loc_inject_loc_match</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">mu</span> <span class="id">f</span> <span class="id">ls</span> <span class="id">ls</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Op_fp.html#loc_inject">loc_inject</a></span> <span class="id"><a href="Op_fp.html#f">f</a></span> <span class="id"><a href="Op_fp.html#ls">ls</a></span> <span class="id">ls</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#inject_incr">inject_incr</a></span> (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> (<span class="id"><a href="Injections.html#inj">inj</a></span> <span class="id"><a href="Op_fp.html#mu">mu</a></span>)) <span class="id"><a href="Op_fp.html#f">f</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InjRels.html#sep_inject">sep_inject</a></span> (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> (<span class="id"><a href="Injections.html#inj">inj</a></span> <span class="id"><a href="Op_fp.html#mu">mu</a></span>)) <span class="id"><a href="Op_fp.html#f">f</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.inject">Bset.inject</a></span> (<span class="id"><a href="Injections.html#inj">inj</a></span> <span class="id"><a href="Op_fp.html#mu">mu</a></span>) (<span class="id"><a href="Injections.html#SharedSrc">SharedSrc</a></span> <span class="id"><a href="Op_fp.html#mu">mu</a></span>) (<span class="id"><a href="Injections.html#SharedTgt">SharedTgt</a></span> <span class="id"><a href="Op_fp.html#mu">mu</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Injections.html#LocMatch">LocMatch</a></span> <span class="id"><a href="Op_fp.html#mu">mu</a></span> <span class="id"><a href="Op_fp.html#ls">ls</a></span> <span class="id">ls</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6971')">Proof.</div>
<div class="proofscript" id="proof6971">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">constructor</span>. <span class="tactic">intros</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">HShared</span> <span class="id">HLoc</span>.<br/>
&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">H3</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">HLoc</span>). <span class="tactic">destruct</span> <span class="id">H3</span> <span class="kwd">as</span> (<span class="id">b0</span> &amp; <span class="id">ofs0</span> &amp; <span class="id">delta</span> &amp; <span class="id">INJ</span> &amp; [[<span class="id">Hofs</span> <span class="id">HLoc</span>']|[<span class="id">Hofs</span> <span class="id">HLoc</span>']]).<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Blockset.html#Bset.inj_range">Bset.inj_range</a></span> <span class="kwd">in</span> <span class="id">HShared</span>; [|<span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">HShared</span> <span class="kwd">as</span> (<span class="id">b0</span>' &amp; <span class="id">INJ</span>').<br/>
&nbsp;&nbsp;<span class="tactic">cut</span> (<span class="id">b0</span>' = <span class="id">b0</span> /\ <span class="id">delta</span> = 0). <br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [? ?]. <span class="tactic">subst</span>. <br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">b0</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H1</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>. <span class="tactic">rewrite</span> <span class="id">INJ</span>'. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Injections.html#inj">inj</a></span> <span class="id">mu</span> <span class="id">b0</span>) <span class="id">eqn</span>:<span class="id">C</span>; [<span class="id">inv</span> <span class="id">H</span>| <span class="tactic">try</span> <span class="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Blockset.html#Bset.inj_injective">Bset.inj_injective</a></span>. <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">eauto</span>. <span class="tactic">exact</span> <span class="id">INJ</span>'. <span class="tactic">exact</span> <span class="id">C</span>. <br/>
&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">auto</span>. <br/>
<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Blockset.html#Bset.inj_range">Bset.inj_range</a></span> <span class="kwd">in</span> <span class="id">HShared</span>; [|<span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">HShared</span> <span class="kwd">as</span> (<span class="id">b0</span>' &amp; <span class="id">INJ</span>').<br/>
&nbsp;&nbsp;<span class="tactic">cut</span> (<span class="id">b0</span>' = <span class="id">b0</span> /\ <span class="id">delta</span> = 0). <br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [? ?]. <span class="tactic">subst</span>. <br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">b0</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H1</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>. <span class="tactic">rewrite</span> <span class="id">INJ</span>'. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Injections.html#inj">inj</a></span> <span class="id">mu</span> <span class="id">b0</span>) <span class="id">eqn</span>:<span class="id">C</span>; [<span class="id">inv</span> <span class="id">H</span>| <span class="tactic">try</span> <span class="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Blockset.html#Bset.inj_injective">Bset.inj_injective</a></span>. <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">eauto</span>. <span class="tactic">exact</span> <span class="id">INJ</span>'. <span class="tactic">exact</span> <span class="id">C</span>. <br/>
&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
&nbsp;&nbsp;<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fp_inject_fp_match">fp_inject_fp_match</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">mu</span> <span class="id">f</span> <span class="id">fp</span> <span class="id">fp</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Op_fp.html#fp_inject">fp_inject</a></span> <span class="id"><a href="Op_fp.html#f">f</a></span> <span class="id"><a href="Op_fp.html#fp">fp</a></span> <span class="id">fp</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#inject_incr">inject_incr</a></span> (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> (<span class="id"><a href="Injections.html#inj">inj</a></span> <span class="id"><a href="Op_fp.html#mu">mu</a></span>)) <span class="id"><a href="Op_fp.html#f">f</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InjRels.html#sep_inject">sep_inject</a></span> (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> (<span class="id"><a href="Injections.html#inj">inj</a></span> <span class="id"><a href="Op_fp.html#mu">mu</a></span>)) <span class="id"><a href="Op_fp.html#f">f</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.inject">Bset.inject</a></span> (<span class="id"><a href="Injections.html#inj">inj</a></span> <span class="id"><a href="Op_fp.html#mu">mu</a></span>) (<span class="id"><a href="Injections.html#SharedSrc">SharedSrc</a></span> <span class="id"><a href="Op_fp.html#mu">mu</a></span>) (<span class="id"><a href="Injections.html#SharedTgt">SharedTgt</a></span> <span class="id"><a href="Op_fp.html#mu">mu</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">FPMatch</span>' <span class="id"><a href="Op_fp.html#mu">mu</a></span> <span class="id"><a href="Op_fp.html#fp">fp</a></span> <span class="id">fp</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6972')">Proof.</div>
<div class="proofscript" id="proof6972">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>; <span class="tactic">eapply</span> <span class="id"><a href="Op_fp.html#loc_inject_loc_match">loc_inject_loc_match</a></span>; <span class="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Op_fp.html#loc_inject_union_s">loc_inject_union_s</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="valid_pointer_fp_inject">valid_pointer_fp_inject</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>' <span class="id">delta</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Op_fp.html#EVAL_COMPAT.f">f</a></span> <span class="id"><a href="Op_fp.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">b</span>', <span class="id"><a href="Op_fp.html#delta">delta</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Op_fp.html#fp_inject">fp_inject</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.f">f</a></span> (<span class="id"><a href="FMemOpFP.html#valid_pointer_fp">valid_pointer_fp</a></span> <span class="id"><a href="Op_fp.html#b">b</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="Op_fp.html#ofs">ofs</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="FMemOpFP.html#valid_pointer_fp">valid_pointer_fp</a></span> <span class="id">b</span>' (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> (<span class="id"><a href="Integers.html#Ptrofs.add">Ptrofs.add</a></span> <span class="id"><a href="Op_fp.html#ofs">ofs</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id"><a href="Op_fp.html#delta">delta</a></span>)))).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6973')">Proof.</div>
<div class="proofscript" id="proof6973">
&nbsp;&nbsp;<span class="tactic">clear</span>; <span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="FMemOpFP.html#valid_pointer_fp">MemOpFP.valid_pointer_fp</a></span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="Op_fp.html#loc_inject_emp">loc_inject_emp</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.ge_cmps">FP.ge_cmps</a></span>, <span class="id"><a href="Footprint.html#FP.ge_reads">FP.ge_reads</a></span>, <span class="id"><a href="Footprint.html#FP.ge_writes">FP.ge_writes</a></span>. <span class="tactic">simpl</span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#Locs.locs_union_emp">Locs.locs_union_emp</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id">H</span>. <span class="tactic">clear</span>. <span class="tactic">unfold</span> <span class="id"><a href="FMemOpFP.html#range_locset">range_locset</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">Locs.unfolds</span>. <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id"><a href="Values.html#eq_block">eq_block</a></span>;[|<span class="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#zle">zle</a></span>;[|<span class="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#zlt">zlt</a></span>;[|<span class="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="id">exists</span> <span class="id">b</span>, <span class="id">ofs</span>, <span class="id">delta</span>. <span class="tactic">split</span>;[<span class="tactic">auto</span>|<span class="id">left</span>;<span class="tactic">split</span>;[<span class="tactic">omega</span>|]].<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Values.html#eq_block">eq_block</a></span>; [|<span class="id">contradiction</span>].<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#zle">zle</a></span>, <span class="id"><a href="Coqlib.html#zlt">zlt</a></span>; <span class="tactic">try</span> <span class="tactic">omega</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="weak_valid_pointer_fp_inject">weak_valid_pointer_fp_inject</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>' <span class="id">delta</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Op_fp.html#EVAL_COMPAT.f">f</a></span> <span class="id"><a href="Op_fp.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">b</span>', <span class="id"><a href="Op_fp.html#delta">delta</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.m1">m1</a></span> <span class="id"><a href="Op_fp.html#b">b</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="Op_fp.html#ofs">ofs</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Op_fp.html#fp_inject">fp_inject</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.f">f</a></span> (<span class="id"><a href="MemOpFP.html#weak_valid_pointer_fp">weak_valid_pointer_fp</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.m1">m1</a></span> <span class="id"><a href="Op_fp.html#b">b</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="Op_fp.html#ofs">ofs</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="MemOpFP.html#weak_valid_pointer_fp">weak_valid_pointer_fp</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.m2">m2</a></span> <span class="id">b</span>' (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> (<span class="id"><a href="Integers.html#Ptrofs.add">Ptrofs.add</a></span> <span class="id"><a href="Op_fp.html#ofs">ofs</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id"><a href="Op_fp.html#delta">delta</a></span>)))).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6974')">Proof.</div>
<div class="proofscript" id="proof6974">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.m1">m1</a></span> <span class="id">b</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs</span>)) <span class="id">eqn</span>:<span class="id">VALID</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="tactic">clear</span> <span class="id">H0</span>| <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>]; <span class="tactic">unfold</span> <span class="id"><a href="MemOpFP.html#weak_valid_pointer_fp">weak_valid_pointer_fp</a></span>; <span class="tactic">rewrite</span> <span class="id">VALID</span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.valid_pointer_inj">valid_pointer_inj</a></span>; <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="Op_fp.html#valid_pointer_fp_inject">valid_pointer_fp_inject</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.m2">m2</a></span> <span class="id">b</span>' (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> (<span class="id"><a href="Integers.html#Ptrofs.add">Ptrofs.add</a></span> <span class="id">ofs</span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id">delta</span>)))) <span class="id">eqn</span>:? .<br/>
&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id"><a href="FMemOpFP.html#valid_pointer_fp">MemOpFP.valid_pointer_fp</a></span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="Op_fp.html#loc_inject_emp">loc_inject_emp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id">H</span>. <span class="tactic">clear</span>. <span class="id">constructor</span>; <span class="tactic">unfold</span> <span class="id"><a href="FMemOpFP.html#range_locset">range_locset</a></span>; <span class="id">Locs.unfolds</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.ge_cmps">FP.ge_cmps</a></span>, <span class="id"><a href="Footprint.html#FP.ge_reads">FP.ge_reads</a></span>, <span class="id"><a href="Footprint.html#FP.ge_writes">FP.ge_writes</a></span>. <span class="tactic">simpl</span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#Locs.locs_union_emp">Locs.locs_union_emp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id"><a href="Values.html#eq_block">eq_block</a></span>;[|<span class="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#zle">zle</a></span>, <span class="id"><a href="Coqlib.html#zlt">zlt</a></span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="id">exists</span> <span class="id">b</span>, <span class="id">ofs</span>, <span class="id">delta</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="id">left</span>; <span class="tactic">split</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Values.html#eq_block">eq_block</a></span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#zle">zle</a></span>, <span class="id"><a href="Coqlib.html#zlt">zlt</a></span>; <span class="tactic">try</span> <span class="tactic">omega</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id">constructor</span>; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="Op_fp.html#loc_inject_emp">loc_inject_emp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id">H</span>. <span class="tactic">clear</span>. <span class="id">constructor</span>; <span class="tactic">unfold</span> <span class="id"><a href="FMemOpFP.html#range_locset">range_locset</a></span>; <span class="id">Locs.unfolds</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.ge_cmps">FP.ge_cmps</a></span>, <span class="id"><a href="Footprint.html#FP.ge_reads">FP.ge_reads</a></span>, <span class="id"><a href="Footprint.html#FP.ge_writes">FP.ge_writes</a></span>. <span class="tactic">simpl</span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#Locs.locs_union_emp">Locs.locs_union_emp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id"><a href="Values.html#eq_block">eq_block</a></span>;[|<span class="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#zle">zle</a></span>, <span class="id"><a href="Coqlib.html#zlt">zlt</a></span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="id">exists</span> <span class="id">b</span>, <span class="id">ofs</span>, <span class="id">delta</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">ofs0</span> = <span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> (<span class="id"><a href="Integers.html#Ptrofs.add">Ptrofs.add</a></span> <span class="id">ofs</span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id">delta</span>)) \/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ofs0</span> = <span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> (<span class="id"><a href="Integers.html#Ptrofs.add">Ptrofs.add</a></span> <span class="id">ofs</span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id">delta</span>)) - 1) <span class="kwd">as</span> <span class="id">HOFS</span> <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">HOFS</span> <span class="kwd">as</span> [<span class="id">HOFS</span>|<span class="id">HOFS</span>];[<span class="id">left</span>|<span class="id">right</span>];(<span class="tactic">split</span>; [<span class="tactic">omega</span>|]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Values.html#eq_block">eq_block</a></span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#zle">zle</a></span>, <span class="id"><a href="Coqlib.html#zlt">zlt</a></span>; <span class="tactic">try</span> <span class="tactic">omega</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Values.html#eq_block">eq_block</a></span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#zle">zle</a></span>, <span class="id"><a href="Coqlib.html#zlt">zlt</a></span>; <span class="tactic">try</span> <span class="tactic">omega</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Ltac</span> <span class="id">TrivialExists</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| [ |- <span class="id">exists</span> <span class="id">v2</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> ?<span class="id">v1</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#v2">v2</a></span> /\ <span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="Op_fp.html#v2">v2</a></span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v1</span>; <span class="tactic">split</span>; <span class="tactic">auto</span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id">idtac</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Ltac</span> <span class="id">TrivialExists_fp</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| [ |- <span class="id">exists</span> <span class="id">fp2</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#fp2">fp2</a></span> /\ <span class="id"><a href="Op_fp.html#fp_inject">fp_inject</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="Op_fp.html#fp2">fp2</a></span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id"><a href="Op_fp.html#empfp">empfp</a></span>; <span class="tactic">split</span>; [<span class="tactic">auto</span>|<span class="tactic">eapply</span> <span class="id"><a href="Op_fp.html#fp_inject_emp">fp_inject_emp</a></span>]<br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="tactic">discriminate</span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id">idtac</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="cmpu_bool_fp_fp_inject">cmpu_bool_fp_fp_inject</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c</span> <span class="id">v1</span> <span class="id">v2</span> <span class="id">v1</span>' <span class="id">v2</span>' <span class="id">v</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.f">f</a></span> <span class="id"><a href="Op_fp.html#v1">v1</a></span> <span class="id">v1</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.f">f</a></span> <span class="id"><a href="Op_fp.html#v2">v2</a></span> <span class="id">v2</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span> (<span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.m1">m1</a></span>) <span class="id"><a href="Op_fp.html#c">c</a></span> <span class="id"><a href="Op_fp.html#v1">v1</a></span> <span class="id"><a href="Op_fp.html#v2">v2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ValFP.html#cmpu_bool_fp">cmpu_bool_fp</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.m1">m1</a></span> <span class="id"><a href="Op_fp.html#c">c</a></span> <span class="id"><a href="Op_fp.html#v1">v1</a></span> <span class="id"><a href="Op_fp.html#v2">v2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">fp</span>', <span class="id"><a href="ValFP.html#cmpu_bool_fp">cmpu_bool_fp</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.m2">m2</a></span> <span class="id"><a href="Op_fp.html#c">c</a></span> <span class="id">v1</span>' <span class="id">v2</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">fp</span>' /\ <span class="id"><a href="Op_fp.html#fp_inject">fp_inject</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.f">f</a></span> <span class="id"><a href="Op_fp.html#fp">fp</a></span> <span class="id">fp</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6975')">Proof.</div>
<div class="proofscript" id="proof6975">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">c</span> <span class="id">v1</span> <span class="id">v2</span> <span class="id">v1</span>' <span class="id">v2</span>' <span class="id">v</span> <span class="id">fp</span> <span class="id">INJ1</span> <span class="id">INJ2</span> <span class="id">EVAL</span> <span class="id">EVALFP</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">INJ1</span>; <span class="id">inv</span> <span class="id">INJ2</span>; <span class="tactic">try</span> (<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">EVAL</span>, <span class="id">EVALFP</span>; <span class="id">inv</span> <span class="id">EVAL</span>; <span class="tactic">simpl</span>; <span class="id">TrivialExists_fp</span>; <span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;+ <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span>; [|<span class="tactic">destruct</span> <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span>;[<span class="tactic">destruct</span> <span class="id"><a href="Values.html#Val.cmp_different_blocks">Val.cmp_different_blocks</a></span>|]]; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.m1">m1</a></span> <span class="id">b1</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs1</span>)) <span class="id">eqn</span>:<span class="id">WEAKVALID</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="kwd">in</span> <span class="id">WEAKVALID</span>; <span class="tactic">rewrite</span> <span class="id">WEAKVALID</span> <span class="kwd">in</span> <span class="id">EVAL</span>; [<span class="id">inv</span> <span class="id">EVAL</span>|<span class="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexists</span>; <span class="tactic">split</span>; [<span class="tactic">eauto</span>|<span class="id">inv</span> <span class="id">EVALFP</span>]. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Op_fp.html#weak_valid_pointer_fp_inject">weak_valid_pointer_fp_inject</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;+ <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span>; [|<span class="tactic">destruct</span> <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span>;[<span class="tactic">destruct</span> <span class="id"><a href="Values.html#Val.cmp_different_blocks">Val.cmp_different_blocks</a></span>|]]; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.m1">m1</a></span> <span class="id">b1</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs1</span>)) <span class="id">eqn</span>:<span class="id">WEAKVALID</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="kwd">in</span> <span class="id">WEAKVALID</span>; <span class="tactic">rewrite</span> <span class="id">WEAKVALID</span> <span class="kwd">in</span> <span class="id">EVAL</span>; [<span class="id">inv</span> <span class="id">EVAL</span>|<span class="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexists</span>; <span class="tactic">split</span>; [<span class="tactic">eauto</span>|<span class="id">inv</span> <span class="id">EVALFP</span>]. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Op_fp.html#weak_valid_pointer_fp_inject">weak_valid_pointer_fp_inject</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;+ <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span>; [|<span class="tactic">destruct</span> <span class="id"><a href="Values.html#eq_block">eq_block</a></span>;[<span class="tactic">subst</span>|<span class="tactic">destruct</span> <span class="id"><a href="Values.html#Val.cmp_different_blocks">Val.cmp_different_blocks</a></span>]]; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">destruct</span> <span class="id"><a href="Values.html#eq_block">eq_block</a></span>; [|<span class="id">contradiction</span>]. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexists</span>; <span class="tactic">split</span>; [<span class="tactic">eauto</span>|<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">EVALFP</span>; <span class="id">inv</span> <span class="id">EVALFP</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Op_fp.html#fp_inject_union">fp_inject_union</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.m1">m1</a></span> <span class="id">b0</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs1</span>)) <span class="id">eqn</span>:<span class="id">C</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="tactic">eapply</span> <span class="id"><a href="Op_fp.html#weak_valid_pointer_fp_inject">weak_valid_pointer_fp_inject</a></span>; <span class="tactic">eauto</span>|<span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="kwd">in</span> <span class="id">C</span>; <span class="tactic">rewrite</span> <span class="id">C</span> <span class="kwd">in</span> <span class="id">EVAL</span>; <span class="id">inv</span> <span class="id">EVAL</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.m1">m1</a></span> <span class="id">b0</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs0</span>)) <span class="id">eqn</span>:<span class="id">C</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="tactic">eapply</span> <span class="id"><a href="Op_fp.html#weak_valid_pointer_fp_inject">weak_valid_pointer_fp_inject</a></span>; <span class="tactic">eauto</span>|<span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="kwd">in</span> <span class="id">C</span>; <span class="tactic">rewrite</span> <span class="id">C</span> <span class="kwd">in</span> <span class="id">EVAL</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_false_r">andb_false_r</a></span> <span class="kwd">in</span> <span class="id">EVAL</span>. <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span> : <span class="id">context</span>[<span class="kwd">match</span> ?<span class="id">x</span> &amp;&amp; ?<span class="id">y</span> <span class="kwd">with</span> <span class="id">_</span> =&gt; <span class="id">_</span> <span class="kwd">end</span>] |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">Hx</span>:= <span class="tactic">fresh</span> <span class="id">Valid</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">Hy</span>:= <span class="tactic">fresh</span> <span class="id">Valid</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span> <span class="id">eqn</span>:<span class="id">Hx</span>; <span class="tactic">destruct</span> <span class="id">y</span> <span class="id">eqn</span>:<span class="id">Hy</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">try</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_false_r">andb_false_r</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.valid_different_pointers_inj">valid_different_pointers_inj</a></span>; <span class="tactic">eauto</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Values.html#eq_block">eq_block</a></span>; [<span class="tactic">intros</span> [<span class="id">NEQ</span>|<span class="id">NEQ</span>]; <span class="tactic">try</span> <span class="tactic">congruence</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="id">inv</span> <span class="id">EVAL</span>. <span class="id">inv</span> <span class="id">EVALFP</span>. <span class="id">eexists</span>; <span class="tactic">split</span>; [<span class="tactic">eauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (@<span class="id"><a href="Op_fp.html#EVAL_COMPAT.valid_pointer_inj">valid_pointer_inj</a></span> <span class="id">b1</span>); <span class="tactic">eauto</span>. <span class="tactic">intro</span> <span class="id">Valid1</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (@<span class="id"><a href="Op_fp.html#EVAL_COMPAT.valid_pointer_inj">valid_pointer_inj</a></span> <span class="id">b0</span>); <span class="tactic">eauto</span>. <span class="tactic">intro</span> <span class="id">Valid0</span>'.             <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="MemOpFP.html#weak_valid_pointer_fp">weak_valid_pointer_fp</a></span>. <span class="tactic">rewrite</span> <span class="id">Valid1</span>', <span class="id">Valid0</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Op_fp.html#fp_inject_union">fp_inject_union</a></span>; <span class="tactic">apply</span> <span class="id"><a href="Op_fp.html#valid_pointer_fp_inject">valid_pointer_fp_inject</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;** <span class="tactic">intros</span> <span class="id">_</span>. <span class="id">inv</span> <span class="id">EVAL</span>. <span class="id">inv</span> <span class="id">EVALFP</span>. <span class="id">eexists</span>; <span class="tactic">split</span>; [<span class="tactic">eauto</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Op_fp.html#fp_inject_union">fp_inject_union</a></span>; <span class="tactic">apply</span> <span class="id"><a href="Op_fp.html#valid_pointer_fp_inject">valid_pointer_fp_inject</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="cmplu_bool_fp_fp_inject">cmplu_bool_fp_fp_inject</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c</span> <span class="id">v1</span> <span class="id">v2</span> <span class="id">v1</span>' <span class="id">v2</span>' <span class="id">v</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.f">f</a></span> <span class="id"><a href="Op_fp.html#v1">v1</a></span> <span class="id">v1</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.f">f</a></span> <span class="id"><a href="Op_fp.html#v2">v2</a></span> <span class="id">v2</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.cmplu_bool">Val.cmplu_bool</a></span> (<span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.m1">m1</a></span>) <span class="id"><a href="Op_fp.html#c">c</a></span> <span class="id"><a href="Op_fp.html#v1">v1</a></span> <span class="id"><a href="Op_fp.html#v2">v2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ValFP.html#cmplu_bool_fp">cmplu_bool_fp</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.m1">m1</a></span> <span class="id"><a href="Op_fp.html#c">c</a></span> <span class="id"><a href="Op_fp.html#v1">v1</a></span> <span class="id"><a href="Op_fp.html#v2">v2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">fp</span>', <span class="id"><a href="ValFP.html#cmplu_bool_fp">cmplu_bool_fp</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.m2">m2</a></span> <span class="id"><a href="Op_fp.html#c">c</a></span> <span class="id">v1</span>' <span class="id">v2</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">fp</span>' /\ <span class="id"><a href="Op_fp.html#fp_inject">fp_inject</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.f">f</a></span> <span class="id"><a href="Op_fp.html#fp">fp</a></span> <span class="id">fp</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6976')">Proof.</div>
<div class="proofscript" id="proof6976">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">c</span> <span class="id">v1</span> <span class="id">v2</span> <span class="id">v1</span>' <span class="id">v2</span>' <span class="id">v</span> <span class="id">fp</span> <span class="id">INJ1</span> <span class="id">INJ2</span> <span class="id">EVAL</span> <span class="id">EVALFP</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">INJ1</span>; <span class="id">inv</span> <span class="id">INJ2</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">EVAL</span>, <span class="id">EVALFP</span>; <span class="id">inv</span> <span class="id">EVAL</span>. <span class="tactic">simpl</span>. <span class="id">TrivialExists_fp</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_condition_fp_inj">eval_condition_fp_inj</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">cond</span> <span class="id">vl1</span> <span class="id">vl2</span> <span class="id">v1</span> <span class="id">fp1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.inject_list">Val.inject_list</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.f">f</a></span> <span class="id"><a href="Op_fp.html#vl1">vl1</a></span> <span class="id"><a href="Op_fp.html#vl2">vl2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_condition">eval_condition</a></span> <span class="id"><a href="Op_fp.html#cond">cond</a></span> <span class="id"><a href="Op_fp.html#vl1">vl1</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.m1">m1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#v1">v1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Op_fp.html#eval_condition_fp">eval_condition_fp</a></span> <span class="id"><a href="Op_fp.html#cond">cond</a></span> <span class="id"><a href="Op_fp.html#vl1">vl1</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.m1">m1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#fp1">fp1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">fp2</span>, <span class="id"><a href="Op_fp.html#eval_condition_fp">eval_condition_fp</a></span> <span class="id"><a href="Op_fp.html#cond">cond</a></span> <span class="id"><a href="Op_fp.html#vl2">vl2</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.m2">m2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#fp2">fp2</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Op_fp.html#fp_inject">fp_inject</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.f">f</a></span> <span class="id"><a href="Op_fp.html#fp1">fp1</a></span> <span class="id"><a href="Op_fp.html#fp2">fp2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6977')">Proof.</div>
<div class="proofscript" id="proof6977">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">cond</span> <span class="id">vl1</span> <span class="id">vl2</span> <span class="id">v1</span> <span class="id">fp1</span> <span class="id">INJVALS</span> <span class="id">EVALCOND</span> <span class="id">EVALFP</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">cond</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">EVALCOND</span>, <span class="id">EVALFP</span>; <span class="id">FuncInv</span>; <span class="id">InvInject</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id">context</span>[<span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id">_</span> =&gt; <span class="id">_</span> <span class="kwd">end</span>] |- <span class="id">context</span>[<span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id">_</span> =&gt; <span class="id">_</span> <span class="kwd">end</span>] =&gt; <span class="tactic">destruct</span> <span class="id">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>; <span class="id">TrivialExists_fp</span>; <span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;-     <span class="tactic">eapply</span> <span class="id"><a href="Op_fp.html#cmpu_bool_fp_fp_inject">cmpu_bool_fp_fp_inject</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Op_fp.html#cmpu_bool_fp_fp_inject">cmpu_bool_fp_fp_inject</a></span> <span class="kwd">with</span> (<span class="id">v2</span>:= <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Op_fp.html#cmplu_bool_fp_fp_inject">cmplu_bool_fp_fp_inject</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="Op_fp.html#cmplu_bool_fp_fp_inject">cmplu_bool_fp_fp_inject</a></span> <span class="kwd">with</span> (<span class="id">v2</span>:=<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">n</span>); <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="block_weak_valid_pointer">block_weak_valid_pointer</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span> (<span class="kwd">Local</span>: <span class="id"><a href="Blockset.html#Bset.t">Bset.t</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Local</span> <span class="id"><a href="Op_fp.html#b">b</a></span> -&gt; <span class="id"><a href="Blockset.html#Bset.subset">Bset.subset</a></span> (<span class="id"><a href="Footprint.html#FP.blocks">FP.blocks</a></span> (<span class="id"><a href="MemOpFP.html#weak_valid_pointer_fp">weak_valid_pointer_fp</a></span> <span class="id"><a href="Op_fp.html#m">m</a></span> <span class="id"><a href="Op_fp.html#b">b</a></span> <span class="id"><a href="Op_fp.html#ofs">ofs</a></span>)) <span class="kwd">Local</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6978')">Proof.</div>
<div class="proofscript" id="proof6978">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.subset">Bset.subset</a></span>, <span class="id"><a href="Footprint.html#FP.blocks">FP.blocks</a></span>, <span class="id"><a href="MemOpFP.html#weak_valid_pointer_fp">weak_valid_pointer_fp</a></span>, <span class="id"><a href="FMemOpFP.html#valid_pointer_fp">valid_pointer_fp</a></span>, <span class="id"><a href="Footprint.html#FP.locs">FP.locs</a></span>. <span class="tactic">intros</span> <span class="id">b</span>' [? <span class="id">C</span>].<br/>
&nbsp;&nbsp;<span class="id">Locs.unfolds</span>. <span class="id">red_boolean_true</span>.<br/>
&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id"><a href="MemOpFP.html#weak_valid_pointer_fp_loc">weak_valid_pointer_fp_loc</a></span>. <span class="id">exploit</span> <span class="id">H1</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [? <span class="id">_</span>]. <span class="tactic">subst</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span>; <span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span>; <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span>; <span class="id">inv</span> <span class="id">H0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="block_weak_valid_pointer_union">block_weak_valid_pointer_union</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">b1</span> <span class="id">ofs1</span> <span class="id">b2</span> <span class="id">ofs2</span> (<span class="kwd">Local</span>: <span class="id"><a href="Blockset.html#Bset.t">Bset.t</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Local</span> <span class="id"><a href="Op_fp.html#b1">b1</a></span> -&gt; <span class="kwd">Local</span> <span class="id"><a href="Op_fp.html#b2">b2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.subset">Bset.subset</a></span> (<span class="id"><a href="Footprint.html#FP.blocks">FP.blocks</a></span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="MemOpFP.html#weak_valid_pointer_fp">weak_valid_pointer_fp</a></span> <span class="id"><a href="Op_fp.html#m">m</a></span> <span class="id"><a href="Op_fp.html#b1">b1</a></span> <span class="id"><a href="Op_fp.html#ofs1">ofs1</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="MemOpFP.html#weak_valid_pointer_fp">weak_valid_pointer_fp</a></span> <span class="id"><a href="Op_fp.html#m">m</a></span> <span class="id"><a href="Op_fp.html#b2">b2</a></span> <span class="id"><a href="Op_fp.html#ofs2">ofs2</a></span>))) <span class="kwd">Local</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6979')">Proof.</div>
<div class="proofscript" id="proof6979">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.subset">Bset.subset</a></span>, <span class="id"><a href="Footprint.html#FP.union">FP.union</a></span>, <span class="id"><a href="Footprint.html#FP.blocks">FP.blocks</a></span>, <span class="id"><a href="MemOpFP.html#weak_valid_pointer_fp">weak_valid_pointer_fp</a></span>, <span class="id"><a href="FMemOpFP.html#valid_pointer_fp">valid_pointer_fp</a></span>, <span class="id"><a href="Footprint.html#FP.locs">FP.locs</a></span>. <span class="tactic">intros</span> <span class="id">b</span>' [? <span class="id">C</span>].<br/>
&nbsp;&nbsp;<span class="id">Locs.unfolds</span>.<br/>
&nbsp;&nbsp;<span class="tactic">do</span> 2 <span class="tactic">destruct</span> <span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">C</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>; <span class="id">red_boolean_true</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="id">edestruct</span> <span class="id"><a href="FMemOpFP.html#range_locset_loc">FMemOpFP.range_locset_loc</a></span> <span class="kwd">as</span> [<span class="id">D</span> <span class="id">_</span>]; <span class="id">exploit</span> <span class="id">D</span>; <span class="tactic">eauto</span>; <span class="tactic">intros</span> [? <span class="id">_</span>]; <span class="tactic">subst</span>; <span class="tactic">auto</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_operation_fp_inj">eval_operation_fp_inj</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">op</span> <span class="id">sp1</span> <span class="id">vl1</span> <span class="id">sp2</span> <span class="id">vl2</span> <span class="id">v1</span> <span class="id">fp1</span>,<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">id</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="Op_fp.html#id">id</a></span> (<span class="id"><a href="Op.html#globals_operation">globals_operation</a></span> <span class="id"><a href="Op_fp.html#op">op</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.f">f</a></span> (<span class="id"><a href="Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.ge1">ge1</a></span> <span class="id"><a href="Op_fp.html#id">id</a></span> <span class="id"><a href="Op_fp.html#ofs">ofs</a></span>) (<span class="id"><a href="Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.ge2">ge2</a></span> <span class="id"><a href="Op_fp.html#id">id</a></span> <span class="id"><a href="Op_fp.html#ofs">ofs</a></span>)) -&gt;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.f">f</a></span> <span class="id"><a href="Op_fp.html#sp1">sp1</a></span> <span class="id"><a href="Op_fp.html#sp2">sp2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.inject_list">Val.inject_list</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.f">f</a></span> <span class="id"><a href="Op_fp.html#vl1">vl1</a></span> <span class="id"><a href="Op_fp.html#vl2">vl2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_operation">eval_operation</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.ge1">ge1</a></span> <span class="id"><a href="Op_fp.html#sp1">sp1</a></span> <span class="id"><a href="Op_fp.html#op">op</a></span> <span class="id"><a href="Op_fp.html#vl1">vl1</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.m1">m1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#v1">v1</a></span> -&gt;    <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Op_fp.html#eval_operation_fp">eval_operation_fp</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.ge1">ge1</a></span> <span class="id"><a href="Op_fp.html#sp1">sp1</a></span> <span class="id"><a href="Op_fp.html#op">op</a></span> <span class="id"><a href="Op_fp.html#vl1">vl1</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.m1">m1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#fp1">fp1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">fp2</span>, <span class="id"><a href="Op_fp.html#eval_operation_fp">eval_operation_fp</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.ge2">ge2</a></span> <span class="id"><a href="Op_fp.html#sp2">sp2</a></span> <span class="id"><a href="Op_fp.html#op">op</a></span> <span class="id"><a href="Op_fp.html#vl2">vl2</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.m2">m2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#fp2">fp2</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Op_fp.html#fp_inject">fp_inject</a></span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT.f">f</a></span> <span class="id"><a href="Op_fp.html#fp1">fp1</a></span> <span class="id"><a href="Op_fp.html#fp2">fp2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6980')">Proof.</div>
<div class="proofscript" id="proof6980">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">fp1</span>; <span class="tactic">intros</span> <span class="id">GL</span> <span class="id">INJSP</span> <span class="id">INJVALS</span> <span class="id">EVAL1</span> <span class="id">EVALFP1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">op</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">EVAL1</span>, <span class="id">EVALFP1</span>; <span class="tactic">simpl</span>; <span class="id">FuncInv</span>; <span class="id">InvInject</span>; <span class="id">TrivialExists_fp</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id">context</span>[<span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id">_</span> =&gt; <span class="id">_</span> <span class="kwd">end</span>] |- <span class="id">context</span>[<span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id">_</span> =&gt; <span class="id">_</span> <span class="kwd">end</span>] =&gt; <span class="tactic">destruct</span> <span class="id">x</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>; <span class="id">TrivialExists_fp</span>; <span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;<span class="id">TrivialReduce</span>. <span class="id">exploit</span> <span class="id"><a href="Op.html#eval_addressing32_inj">eval_addressing32_inj</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">v</span>' [<span class="id">R</span> <span class="id">INJR</span>]]. <span class="tactic">rewrite</span> <span class="id">R</span>. <span class="id">TrivialExists_fp</span>.<br/>
&nbsp;&nbsp;<span class="id">TrivialReduce</span>. <span class="id">exploit</span> <span class="id"><a href="Op.html#eval_addressing64_inj">eval_addressing64_inj</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">v</span>' [<span class="id">R</span> <span class="id">INJR</span>]]. <span class="tactic">rewrite</span> <span class="id">R</span>. <span class="id">TrivialExists_fp</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Op.html#eval_condition">eval_condition</a></span> <span class="id">eqn</span>:?;[|<span class="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Op_fp.html#eval_condition_fp_inj">eval_condition_fp_inj</a></span>; <span class="tactic">eauto</span>. <br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="Op_fp.html#EVAL_COMPAT">EVAL_COMPAT</a></span>.<br/>
<br/>
<div class="doc">Compatibility of the evaluation functions with the ``is less defined'' relation over values. </div>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_shift_stack_operation_fp">eval_shift_stack_operation_fp</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">F</span> <span class="id">V</span> (<span class="id">ge</span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="Op_fp.html#F">F</a></span> <span class="id"><a href="Op_fp.html#V">V</a></span>) <span class="id">sp</span> <span class="id">op</span> <span class="id">vl</span> <span class="id">m</span> <span class="id">delta</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Op_fp.html#eval_operation_fp">eval_operation_fp</a></span> <span class="id"><a href="Op_fp.html#ge">ge</a></span> (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="Op_fp.html#sp">sp</a></span> <span class="id"><a href="Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>) (<span class="id"><a href="Op.html#shift_stack_operation">shift_stack_operation</a></span> <span class="id"><a href="Op_fp.html#delta">delta</a></span> <span class="id"><a href="Op_fp.html#op">op</a></span>) <span class="id"><a href="Op_fp.html#vl">vl</a></span> <span class="id"><a href="Op_fp.html#m">m</a></span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Op_fp.html#eval_operation_fp">eval_operation_fp</a></span> <span class="id"><a href="Op_fp.html#ge">ge</a></span> (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="Op_fp.html#sp">sp</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id"><a href="Op_fp.html#delta">delta</a></span>)) <span class="id"><a href="Op_fp.html#op">op</a></span> <span class="id"><a href="Op_fp.html#vl">vl</a></span> <span class="id"><a href="Op_fp.html#m">m</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6981')">Proof.</div>
<div class="proofscript" id="proof6981">
&nbsp;&nbsp;<span class="tactic">clear</span>; <span class="tactic">unfold</span> <span class="id"><a href="Op_fp.html#eval_operation_fp">eval_operation_fp</a></span>; <span class="tactic">destruct</span> <span class="id">op</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Op.html#eval_shift_stack_addressing32">eval_shift_stack_addressing32</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Op.html#eval_shift_stack_addressing64">eval_shift_stack_addressing64</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
&nbsp;&nbsp;<br/>
<span class="kwd">Section</span> <span class="id"><a name="EVAL_LESSDEF">EVAL_LESSDEF</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="EVAL_LESSDEF.F">F</a></span> <span class="id"><a name="EVAL_LESSDEF.V">V</a></span>: <span class="kwd">Type</span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="EVAL_LESSDEF.genv">genv</a></span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="Op_fp.html#EVAL_LESSDEF.F">F</a></span> <span class="id"><a href="Op_fp.html#EVAL_LESSDEF.V">V</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_condition_lessdef_fp">eval_condition_lessdef_fp</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">cond</span> <span class="id">vl1</span> <span class="id">vl2</span> <span class="id">v</span> <span class="id">fp</span> <span class="id">m1</span> <span class="id">m2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef_list">Val.lessdef_list</a></span> <span class="id"><a href="Op_fp.html#vl1">vl1</a></span> <span class="id"><a href="Op_fp.html#vl2">vl2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="Op_fp.html#m1">m1</a></span> <span class="id"><a href="Op_fp.html#m2">m2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_condition">eval_condition</a></span> <span class="id"><a href="Op_fp.html#cond">cond</a></span> <span class="id"><a href="Op_fp.html#vl1">vl1</a></span> <span class="id"><a href="Op_fp.html#m1">m1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#v">v</a></span> -&gt;  <br/>
&nbsp;&nbsp;<span class="id"><a href="Op_fp.html#eval_condition_fp">eval_condition_fp</a></span> <span class="id"><a href="Op_fp.html#cond">cond</a></span> <span class="id"><a href="Op_fp.html#vl1">vl1</a></span> <span class="id"><a href="Op_fp.html#m1">m1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">fp</span>', <span class="id"><a href="Op_fp.html#eval_condition_fp">eval_condition_fp</a></span> <span class="id"><a href="Op_fp.html#cond">cond</a></span> <span class="id"><a href="Op_fp.html#vl2">vl2</a></span> <span class="id"><a href="Op_fp.html#m2">m2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">fp</span>' /\ <span class="id"><a href="Op_fp.html#fp_inject">fp_inject</a></span> <span class="id"><a href="Values.html#inject_id">inject_id</a></span> <span class="id"><a href="Op_fp.html#fp">fp</a></span> <span class="id">fp</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6982')">Proof.</div>
<div class="proofscript" id="proof6982">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (@<span class="id"><a href="Op_fp.html#eval_condition_fp_inj">eval_condition_fp_inj</a></span> <span class="id"><a href="Values.html#inject_id">inject_id</a></span> <span class="id">m1</span> <span class="id">m2</span>).<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H3</span>. <span class="tactic">eapply</span> <span class="id"><a href="Op.html#valid_pointer_extends">valid_pointer_extends</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H6</span>; <span class="id">inv</span> <span class="id">H7</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Values.html#val_inject_list_lessdef">val_inject_list_lessdef</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> (<span class="id">fp</span>' &amp; <span class="id">H1</span>' &amp; <span class="id">FPINJ</span>).<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">fp</span>'. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_operation_lessdef_fp">eval_operation_lessdef_fp</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">sp</span> <span class="id">op</span> <span class="id">vl1</span> <span class="id">vl2</span> <span class="id">v1</span> <span class="id">fp1</span> <span class="id">m1</span> <span class="id">m2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef_list">Val.lessdef_list</a></span> <span class="id"><a href="Op_fp.html#vl1">vl1</a></span> <span class="id"><a href="Op_fp.html#vl2">vl2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="Op_fp.html#m1">m1</a></span> <span class="id"><a href="Op_fp.html#m2">m2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_operation">eval_operation</a></span> <span class="id"><a href="Op_fp.html#EVAL_LESSDEF.genv">genv</a></span> <span class="id"><a href="Op_fp.html#sp">sp</a></span> <span class="id"><a href="Op_fp.html#op">op</a></span> <span class="id"><a href="Op_fp.html#vl1">vl1</a></span> <span class="id"><a href="Op_fp.html#m1">m1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#v1">v1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Op_fp.html#eval_operation_fp">eval_operation_fp</a></span> <span class="id"><a href="Op_fp.html#EVAL_LESSDEF.genv">genv</a></span> <span class="id"><a href="Op_fp.html#sp">sp</a></span> <span class="id"><a href="Op_fp.html#op">op</a></span> <span class="id"><a href="Op_fp.html#vl1">vl1</a></span> <span class="id"><a href="Op_fp.html#m1">m1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#fp1">fp1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">fp2</span>, <span class="id"><a href="Op_fp.html#eval_operation_fp">eval_operation_fp</a></span> <span class="id"><a href="Op_fp.html#EVAL_LESSDEF.genv">genv</a></span> <span class="id"><a href="Op_fp.html#sp">sp</a></span> <span class="id"><a href="Op_fp.html#op">op</a></span> <span class="id"><a href="Op_fp.html#vl2">vl2</a></span> <span class="id"><a href="Op_fp.html#m2">m2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#fp2">fp2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Op_fp.html#fp_inject">fp_inject</a></span> <span class="id"><a href="Values.html#inject_id">inject_id</a></span> <span class="id"><a href="Op_fp.html#fp1">fp1</a></span> <span class="id"><a href="Op_fp.html#fp2">fp2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6983')">Proof.</div>
<div class="proofscript" id="proof6983">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="Op_fp.html#eval_operation_fp_inj">eval_operation_fp_inj</a></span> <span class="kwd">with</span> (<span class="id">m1</span> := <span class="id">m1</span>) (<span class="id">sp1</span> := <span class="id">sp</span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Op.html#valid_pointer_extends">valid_pointer_extends</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H6</span>. <span class="id">inv</span> <span class="id">H7</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="Values.html#val_inject_lessdef">val_inject_lessdef</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Values.html#val_inject_lessdef">val_inject_lessdef</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Values.html#val_inject_list_lessdef">val_inject_list_lessdef</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.  <br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="Op_fp.html#EVAL_LESSDEF">EVAL_LESSDEF</a></span>.<br/>
<br/>
<div class="doc">Compatibility of the evaluation functions with memory injections. </div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="EVAL_INJECT">EVAL_INJECT</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="EVAL_INJECT.F">F</a></span> <span class="id"><a name="EVAL_INJECT.V">V</a></span>: <span class="kwd">Type</span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="EVAL_INJECT.genv">genv</a></span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="Op_fp.html#EVAL_INJECT.F">F</a></span> <span class="id"><a href="Op_fp.html#EVAL_INJECT.V">V</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="EVAL_INJECT.f">f</a></span>: <span class="id"><a href="Values.html#meminj">meminj</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="EVAL_INJECT.globals">globals</a></span>: <span class="id"><a href="Events.html#meminj_preserves_globals">meminj_preserves_globals</a></span> <span class="id"><a href="Op_fp.html#EVAL_INJECT.genv">genv</a></span> <span class="id"><a href="Op_fp.html#EVAL_INJECT.f">f</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="EVAL_INJECT.sp1">sp1</a></span>: <span class="id"><a href="Values.html#block">block</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="EVAL_INJECT.sp2">sp2</a></span>: <span class="id"><a href="Values.html#block">block</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="EVAL_INJECT.delta">delta</a></span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="EVAL_INJECT.sp_inj">sp_inj</a></span>: <span class="id"><a href="Op_fp.html#EVAL_INJECT.f">f</a></span> <span class="id"><a href="Op_fp.html#EVAL_INJECT.sp1">sp1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Op_fp.html#EVAL_INJECT.sp2">sp2</a></span>, <span class="id"><a href="Op_fp.html#EVAL_INJECT.delta">delta</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_condition_fp_inject">eval_condition_fp_inject</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">cond</span> <span class="id">vl1</span> <span class="id">vl2</span> <span class="id">v1</span> <span class="id">fp1</span> <span class="id">m1</span> <span class="id">m2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.inject_list">Val.inject_list</a></span> <span class="id"><a href="Op_fp.html#EVAL_INJECT.f">f</a></span> <span class="id"><a href="Op_fp.html#vl1">vl1</a></span> <span class="id"><a href="Op_fp.html#vl2">vl2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="Op_fp.html#EVAL_INJECT.f">f</a></span> <span class="id"><a href="Op_fp.html#m1">m1</a></span> <span class="id"><a href="Op_fp.html#m2">m2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_condition">eval_condition</a></span> <span class="id"><a href="Op_fp.html#cond">cond</a></span> <span class="id"><a href="Op_fp.html#vl1">vl1</a></span> <span class="id"><a href="Op_fp.html#m1">m1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#v1">v1</a></span> -&gt;  <br/>
&nbsp;&nbsp;<span class="id"><a href="Op_fp.html#eval_condition_fp">eval_condition_fp</a></span> <span class="id"><a href="Op_fp.html#cond">cond</a></span> <span class="id"><a href="Op_fp.html#vl1">vl1</a></span> <span class="id"><a href="Op_fp.html#m1">m1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#fp1">fp1</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">fp2</span>, <span class="id"><a href="Op_fp.html#eval_condition_fp">eval_condition_fp</a></span> <span class="id"><a href="Op_fp.html#cond">cond</a></span> <span class="id"><a href="Op_fp.html#vl2">vl2</a></span> <span class="id"><a href="Op_fp.html#m2">m2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#fp2">fp2</a></span> /\ <span class="id"><a href="Op_fp.html#fp_inject">fp_inject</a></span> <span class="id"><a href="Op_fp.html#EVAL_INJECT.f">f</a></span> <span class="id"><a href="Op_fp.html#fp1">fp1</a></span> <span class="id"><a href="Op_fp.html#fp2">fp2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6984')">Proof.</div>
<div class="proofscript" id="proof6984">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (@<span class="id"><a href="Op_fp.html#eval_condition_fp_inj">eval_condition_fp_inj</a></span> <span class="id"><a href="Op_fp.html#EVAL_INJECT.f">f</a></span> <span class="id">m1</span> <span class="id">m2</span>).<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.valid_pointer_inject_val">Mem.valid_pointer_inject_val</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.different_pointers_inject">Mem.different_pointers_inject</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> (<span class="id">fp2</span> &amp; <span class="id">EVALCONDFP</span> &amp; <span class="id">FPINJ</span>).<br/>
&nbsp;&nbsp;<span class="id">eexists</span>; <span class="tactic">split</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_operation_fp_inject">eval_operation_fp_inject</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">op</span> <span class="id">vl1</span> <span class="id">vl2</span> <span class="id">v1</span> <span class="id">fp1</span> <span class="id">m1</span> <span class="id">m2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.inject_list">Val.inject_list</a></span> <span class="id"><a href="Op_fp.html#EVAL_INJECT.f">f</a></span> <span class="id"><a href="Op_fp.html#vl1">vl1</a></span> <span class="id"><a href="Op_fp.html#vl2">vl2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="Op_fp.html#EVAL_INJECT.f">f</a></span> <span class="id"><a href="Op_fp.html#m1">m1</a></span> <span class="id"><a href="Op_fp.html#m2">m2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Op.html#eval_operation">eval_operation</a></span> <span class="id"><a href="Op_fp.html#EVAL_INJECT.genv">genv</a></span> (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="Op_fp.html#EVAL_INJECT.sp1">sp1</a></span> <span class="id"><a href="Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>) <span class="id"><a href="Op_fp.html#op">op</a></span> <span class="id"><a href="Op_fp.html#vl1">vl1</a></span> <span class="id"><a href="Op_fp.html#m1">m1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#v1">v1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Op_fp.html#eval_operation_fp">eval_operation_fp</a></span> <span class="id"><a href="Op_fp.html#EVAL_INJECT.genv">genv</a></span> (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="Op_fp.html#EVAL_INJECT.sp1">sp1</a></span> <span class="id"><a href="Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>) <span class="id"><a href="Op_fp.html#op">op</a></span> <span class="id"><a href="Op_fp.html#vl1">vl1</a></span> <span class="id"><a href="Op_fp.html#m1">m1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#fp1">fp1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">fp2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Op_fp.html#eval_operation_fp">eval_operation_fp</a></span> <span class="id"><a href="Op_fp.html#EVAL_INJECT.genv">genv</a></span> (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="Op_fp.html#EVAL_INJECT.sp2">sp2</a></span> <span class="id"><a href="Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>) (<span class="id"><a href="Op.html#shift_stack_operation">shift_stack_operation</a></span> <span class="id"><a href="Op_fp.html#EVAL_INJECT.delta">delta</a></span> <span class="id"><a href="Op_fp.html#op">op</a></span>) <span class="id"><a href="Op_fp.html#vl2">vl2</a></span> <span class="id"><a href="Op_fp.html#m2">m2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Op_fp.html#fp2">fp2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Op_fp.html#fp_inject">fp_inject</a></span> <span class="id"><a href="Op_fp.html#EVAL_INJECT.f">f</a></span> <span class="id"><a href="Op_fp.html#fp1">fp1</a></span> <span class="id"><a href="Op_fp.html#fp2">fp2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6985')">Proof.</div>
<div class="proofscript" id="proof6985">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Op_fp.html#eval_shift_stack_operation_fp">eval_shift_stack_operation_fp</a></span>. <br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Op_fp.html#eval_operation_fp_inj">eval_operation_fp_inj</a></span> <span class="kwd">with</span> (<span class="id">sp1</span> := <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="Op_fp.html#EVAL_INJECT.sp1">sp1</a></span> <span class="id"><a href="Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>) (<span class="id">m1</span> := <span class="id">m1</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.valid_pointer_inject_val">Mem.valid_pointer_inject_val</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.different_pointers_inject">Mem.different_pointers_inject</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="Op.html#symbol_address_inject">symbol_address_inject</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.add_zero_l">Ptrofs.add_zero_l</a></span>; <span class="tactic">auto</span>. <br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="Op_fp.html#EVAL_INJECT">EVAL_INJECT</a></span>.<br/>
</div>
<div class="footer"><hr/>Generated by coq2html</div>
</body>
</html>
