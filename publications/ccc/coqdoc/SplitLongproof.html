<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module SplitLongproof</title>
<meta name="description" content="Documentation of Coq module SplitLongproof" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module SplitLongproof</h1>
<div class="coq">
<br/>
<div class="doc">Correctness of instruction selection for integer division </div>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html">String</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Coqlib.html">Coqlib</a></span> <span class="id"><a href="Maps.html">Maps</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="AST.html">AST</a></span> <span class="id"><a href="Errors.html">Errors</a></span> <span class="id"><a href="Integers.html">Integers</a></span> <span class="id"><a href="Floats.html">Floats</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Values.html">Values</a></span> <span class="id"><a href="Memory.html">Memory</a></span> <span class="id"><a href="Globalenvs.html">Globalenvs</a></span> <span class="id"><a href="Events.html">Events</a></span> <span class="id"><a href="Cminor.html">Cminor</a></span> <span class="id"><a href="Op.html">Op</a></span> <span class="id"><a href="CminorSel.html">CminorSel</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="SelectOp.html">SelectOp</a></span> <span class="id"><a href="SelectOpproof.html">SelectOpproof</a></span> <span class="id"><a href="SplitLong.html">SplitLong</a></span>.<br/>
<br/>
<span class="kwd">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">cminorsel_scope</span>.<br/>
<span class="kwd">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">string_scope</span>.<br/>
<br/>
<h1> Axiomatization of the helper functions </h1>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="external_implements">external_implements</a></span> (<span class="id">name</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">sg</span>: <span class="id"><a href="AST.html#signature">signature</a></span>) (<span class="id">vargs</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Values.html#val">val</a></span>) (<span class="id">vres</span>: <span class="id"><a href="Values.html#val">val</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">F</span> <span class="id">V</span> (<span class="id">ge</span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="SplitLongproof.html#F">F</a></span> <span class="id"><a href="SplitLongproof.html#V">V</a></span>) <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Events.html#external_call">external_call</a></span> (<span class="id"><a href="AST.html#EF_runtime">EF_runtime</a></span> <span class="id"><a href="SplitLongproof.html#name">name</a></span> <span class="id"><a href="SplitLongproof.html#sg">sg</a></span>) <span class="id"><a href="SplitLongproof.html#ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#vargs">vargs</a></span> <span class="id"><a href="SplitLongproof.html#m">m</a></span> <span class="id"><a href="Events.html#E0">E0</a></span> <span class="id"><a href="SplitLongproof.html#vres">vres</a></span> <span class="id"><a href="SplitLongproof.html#m">m</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="builtin_implements">builtin_implements</a></span> (<span class="id">name</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">sg</span>: <span class="id"><a href="AST.html#signature">signature</a></span>) (<span class="id">vargs</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Values.html#val">val</a></span>) (<span class="id">vres</span>: <span class="id"><a href="Values.html#val">val</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">F</span> <span class="id">V</span> (<span class="id">ge</span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="SplitLongproof.html#F">F</a></span> <span class="id"><a href="SplitLongproof.html#V">V</a></span>) <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Events.html#external_call">external_call</a></span> (<span class="id"><a href="AST.html#EF_builtin">EF_builtin</a></span> <span class="id"><a href="SplitLongproof.html#name">name</a></span> <span class="id"><a href="SplitLongproof.html#sg">sg</a></span>) <span class="id"><a href="SplitLongproof.html#ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#vargs">vargs</a></span> <span class="id"><a href="SplitLongproof.html#m">m</a></span> <span class="id"><a href="Events.html#E0">E0</a></span> <span class="id"><a href="SplitLongproof.html#vres">vres</a></span> <span class="id"><a href="SplitLongproof.html#m">m</a></span>.<br/>
<br/>
<span class="kwd">Axiom</span> <span class="id"><a name="i64_helpers_correct">i64_helpers_correct</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span> <span class="id">z</span>, <span class="id"><a href="Values.html#Val.longoffloat">Val.longoffloat</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SplitLongproof.html#z">z</a></span> -&gt; <span class="id"><a href="SplitLongproof.html#external_implements">external_implements</a></span> "<span class="id">__i64_dtos</span>" <span class="id"><a href="SplitLong.html#sig_f_l">sig_f_l</a></span> (<span class="id"><a href="SplitLongproof.html#x">x</a></span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id"><a href="SplitLongproof.html#z">z</a></span>)<br/>
&nbsp;/\ (<span class="kwd">forall</span> <span class="id">x</span> <span class="id">z</span>, <span class="id"><a href="Values.html#Val.longuoffloat">Val.longuoffloat</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SplitLongproof.html#z">z</a></span> -&gt; <span class="id"><a href="SplitLongproof.html#external_implements">external_implements</a></span> "<span class="id">__i64_dtou</span>" <span class="id"><a href="SplitLong.html#sig_f_l">sig_f_l</a></span> (<span class="id"><a href="SplitLongproof.html#x">x</a></span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id"><a href="SplitLongproof.html#z">z</a></span>)<br/>
&nbsp;/\ (<span class="kwd">forall</span> <span class="id">x</span> <span class="id">z</span>, <span class="id"><a href="Values.html#Val.floatoflong">Val.floatoflong</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SplitLongproof.html#z">z</a></span> -&gt; <span class="id"><a href="SplitLongproof.html#external_implements">external_implements</a></span> "<span class="id">__i64_stod</span>" <span class="id"><a href="SplitLong.html#sig_l_f">sig_l_f</a></span> (<span class="id"><a href="SplitLongproof.html#x">x</a></span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id"><a href="SplitLongproof.html#z">z</a></span>)<br/>
&nbsp;/\ (<span class="kwd">forall</span> <span class="id">x</span> <span class="id">z</span>, <span class="id"><a href="Values.html#Val.floatoflongu">Val.floatoflongu</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SplitLongproof.html#z">z</a></span> -&gt; <span class="id"><a href="SplitLongproof.html#external_implements">external_implements</a></span> "<span class="id">__i64_utod</span>" <span class="id"><a href="SplitLong.html#sig_l_f">sig_l_f</a></span> (<span class="id"><a href="SplitLongproof.html#x">x</a></span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id"><a href="SplitLongproof.html#z">z</a></span>)<br/>
&nbsp;/\ (<span class="kwd">forall</span> <span class="id">x</span> <span class="id">z</span>, <span class="id"><a href="Values.html#Val.singleoflong">Val.singleoflong</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SplitLongproof.html#z">z</a></span> -&gt; <span class="id"><a href="SplitLongproof.html#external_implements">external_implements</a></span> "<span class="id">__i64_stof</span>" <span class="id"><a href="SplitLong.html#sig_l_s">sig_l_s</a></span> (<span class="id"><a href="SplitLongproof.html#x">x</a></span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id"><a href="SplitLongproof.html#z">z</a></span>)<br/>
&nbsp;/\ (<span class="kwd">forall</span> <span class="id">x</span> <span class="id">z</span>, <span class="id"><a href="Values.html#Val.singleoflongu">Val.singleoflongu</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SplitLongproof.html#z">z</a></span> -&gt; <span class="id"><a href="SplitLongproof.html#external_implements">external_implements</a></span> "<span class="id">__i64_utof</span>" <span class="id"><a href="SplitLong.html#sig_l_s">sig_l_s</a></span> (<span class="id"><a href="SplitLongproof.html#x">x</a></span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id"><a href="SplitLongproof.html#z">z</a></span>)<br/>
&nbsp;/\ (<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="SplitLongproof.html#builtin_implements">builtin_implements</a></span> "<span class="id">__builtin_negl</span>" <span class="id"><a href="SplitLong.html#sig_l_l">sig_l_l</a></span> (<span class="id"><a href="SplitLongproof.html#x">x</a></span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) (<span class="id"><a href="Values.html#Val.negl">Val.negl</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span>))<br/>
&nbsp;/\ (<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="SplitLongproof.html#builtin_implements">builtin_implements</a></span> "<span class="id">__builtin_addl</span>" <span class="id"><a href="SplitLong.html#sig_ll_l">sig_ll_l</a></span> (<span class="id"><a href="SplitLongproof.html#x">x</a></span>::<span class="id"><a href="SplitLongproof.html#y">y</a></span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) (<span class="id"><a href="Values.html#Val.addl">Val.addl</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span>))<br/>
&nbsp;/\ (<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="SplitLongproof.html#builtin_implements">builtin_implements</a></span> "<span class="id">__builtin_subl</span>" <span class="id"><a href="SplitLong.html#sig_ll_l">sig_ll_l</a></span> (<span class="id"><a href="SplitLongproof.html#x">x</a></span>::<span class="id"><a href="SplitLongproof.html#y">y</a></span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) (<span class="id"><a href="Values.html#Val.subl">Val.subl</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span>))<br/>
&nbsp;/\ (<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="SplitLongproof.html#builtin_implements">builtin_implements</a></span> "<span class="id">__builtin_mull</span>" <span class="id"><a href="SplitLong.html#sig_ii_l">sig_ii_l</a></span> (<span class="id"><a href="SplitLongproof.html#x">x</a></span>::<span class="id"><a href="SplitLongproof.html#y">y</a></span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) (<span class="id">Val.mull</span>' <span class="id"><a href="SplitLongproof.html#x">x</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span>))<br/>
&nbsp;/\ (<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="Values.html#Val.divls">Val.divls</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SplitLongproof.html#z">z</a></span> -&gt; <span class="id"><a href="SplitLongproof.html#external_implements">external_implements</a></span> "<span class="id">__i64_sdiv</span>" <span class="id"><a href="SplitLong.html#sig_ll_l">sig_ll_l</a></span> (<span class="id"><a href="SplitLongproof.html#x">x</a></span>::<span class="id"><a href="SplitLongproof.html#y">y</a></span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id"><a href="SplitLongproof.html#z">z</a></span>)<br/>
&nbsp;/\ (<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="Values.html#Val.divlu">Val.divlu</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SplitLongproof.html#z">z</a></span> -&gt; <span class="id"><a href="SplitLongproof.html#external_implements">external_implements</a></span> "<span class="id">__i64_udiv</span>" <span class="id"><a href="SplitLong.html#sig_ll_l">sig_ll_l</a></span> (<span class="id"><a href="SplitLongproof.html#x">x</a></span>::<span class="id"><a href="SplitLongproof.html#y">y</a></span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id"><a href="SplitLongproof.html#z">z</a></span>)<br/>
&nbsp;/\ (<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="Values.html#Val.modls">Val.modls</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SplitLongproof.html#z">z</a></span> -&gt; <span class="id"><a href="SplitLongproof.html#external_implements">external_implements</a></span> "<span class="id">__i64_smod</span>" <span class="id"><a href="SplitLong.html#sig_ll_l">sig_ll_l</a></span> (<span class="id"><a href="SplitLongproof.html#x">x</a></span>::<span class="id"><a href="SplitLongproof.html#y">y</a></span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id"><a href="SplitLongproof.html#z">z</a></span>)<br/>
&nbsp;/\ (<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="Values.html#Val.modlu">Val.modlu</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SplitLongproof.html#z">z</a></span> -&gt; <span class="id"><a href="SplitLongproof.html#external_implements">external_implements</a></span> "<span class="id">__i64_umod</span>" <span class="id"><a href="SplitLong.html#sig_ll_l">sig_ll_l</a></span> (<span class="id"><a href="SplitLongproof.html#x">x</a></span>::<span class="id"><a href="SplitLongproof.html#y">y</a></span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id"><a href="SplitLongproof.html#z">z</a></span>)<br/>
&nbsp;/\ (<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="SplitLongproof.html#external_implements">external_implements</a></span> "<span class="id">__i64_shl</span>" <span class="id"><a href="SplitLong.html#sig_li_l">sig_li_l</a></span> (<span class="id"><a href="SplitLongproof.html#x">x</a></span>::<span class="id"><a href="SplitLongproof.html#y">y</a></span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) (<span class="id"><a href="Values.html#Val.shll">Val.shll</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span>))<br/>
&nbsp;/\ (<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="SplitLongproof.html#external_implements">external_implements</a></span> "<span class="id">__i64_shr</span>" <span class="id"><a href="SplitLong.html#sig_li_l">sig_li_l</a></span> (<span class="id"><a href="SplitLongproof.html#x">x</a></span>::<span class="id"><a href="SplitLongproof.html#y">y</a></span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) (<span class="id"><a href="Values.html#Val.shrlu">Val.shrlu</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span>))<br/>
&nbsp;/\ (<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="SplitLongproof.html#external_implements">external_implements</a></span> "<span class="id">__i64_sar</span>" <span class="id"><a href="SplitLong.html#sig_li_l">sig_li_l</a></span> (<span class="id"><a href="SplitLongproof.html#x">x</a></span>::<span class="id"><a href="SplitLongproof.html#y">y</a></span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) (<span class="id"><a href="Values.html#Val.shrl">Val.shrl</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span>))<br/>
&nbsp;/\ (<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="SplitLongproof.html#external_implements">external_implements</a></span> "<span class="id">__i64_umulh</span>" <span class="id"><a href="SplitLong.html#sig_ll_l">sig_ll_l</a></span> (<span class="id"><a href="SplitLongproof.html#x">x</a></span>::<span class="id"><a href="SplitLongproof.html#y">y</a></span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) (<span class="id"><a href="Values.html#Val.mullhu">Val.mullhu</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span>))<br/>
&nbsp;/\ (<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="SplitLongproof.html#external_implements">external_implements</a></span> "<span class="id">__i64_smulh</span>" <span class="id"><a href="SplitLong.html#sig_ll_l">sig_ll_l</a></span> (<span class="id"><a href="SplitLongproof.html#x">x</a></span>::<span class="id"><a href="SplitLongproof.html#y">y</a></span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) (<span class="id"><a href="Values.html#Val.mullhs">Val.mullhs</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span>)).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="helper_declared">helper_declared</a></span> {<span class="id">F</span> <span class="id">V</span>: <span class="kwd">Type</span>} (<span class="id">p</span>: <span class="id"><a href="AST.html#program">AST.program</a></span> (<span class="id"><a href="AST.html#fundef">AST.fundef</a></span> <span class="id"><a href="SplitLongproof.html#F">F</a></span>) <span class="id"><a href="SplitLongproof.html#V">V</a></span>) (<span class="id">id</span>: <span class="id"><a href="AST.html#ident">ident</a></span>) (<span class="id">name</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html#string">string</a></span>) (<span class="id">sg</span>: <span class="id"><a href="AST.html#signature">signature</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;(<span class="id"><a href="AST.html#prog_defmap">prog_defmap</a></span> <span class="id"><a href="SplitLongproof.html#p">p</a></span>)!<span class="id"><a href="SplitLongproof.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="AST.html#Gfun">Gfun</a></span> (<span class="id"><a href="AST.html#External">External</a></span> (<span class="id"><a href="AST.html#EF_runtime">EF_runtime</a></span> <span class="id"><a href="SplitLongproof.html#name">name</a></span> <span class="id"><a href="SplitLongproof.html#sg">sg</a></span>))).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="helper_functions_declared">helper_functions_declared</a></span> {<span class="id">F</span> <span class="id">V</span>: <span class="kwd">Type</span>} (<span class="id">p</span>: <span class="id"><a href="AST.html#program">AST.program</a></span> (<span class="id"><a href="AST.html#fundef">AST.fundef</a></span> <span class="id"><a href="SplitLongproof.html#F">F</a></span>) <span class="id"><a href="SplitLongproof.html#V">V</a></span>) (<span class="id">hf</span>: <span class="id"><a href="SplitLong.html#helper_functions">helper_functions</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SplitLongproof.html#helper_declared">helper_declared</a></span> <span class="id"><a href="SplitLongproof.html#p">p</a></span> <span class="id"><a href="SplitLong.html#i64_dtos">i64_dtos</a></span> "<span class="id">__i64_dtos</span>" <span class="id"><a href="SplitLong.html#sig_f_l">sig_f_l</a></span><br/>
&nbsp;&nbsp;/\ <span class="id"><a href="SplitLongproof.html#helper_declared">helper_declared</a></span> <span class="id"><a href="SplitLongproof.html#p">p</a></span> <span class="id"><a href="SplitLong.html#i64_dtou">i64_dtou</a></span> "<span class="id">__i64_dtou</span>" <span class="id"><a href="SplitLong.html#sig_f_l">sig_f_l</a></span><br/>
&nbsp;&nbsp;/\ <span class="id"><a href="SplitLongproof.html#helper_declared">helper_declared</a></span> <span class="id"><a href="SplitLongproof.html#p">p</a></span> <span class="id"><a href="SplitLong.html#i64_stod">i64_stod</a></span> "<span class="id">__i64_stod</span>" <span class="id"><a href="SplitLong.html#sig_l_f">sig_l_f</a></span><br/>
&nbsp;&nbsp;/\ <span class="id"><a href="SplitLongproof.html#helper_declared">helper_declared</a></span> <span class="id"><a href="SplitLongproof.html#p">p</a></span> <span class="id"><a href="SplitLong.html#i64_utod">i64_utod</a></span> "<span class="id">__i64_utod</span>" <span class="id"><a href="SplitLong.html#sig_l_f">sig_l_f</a></span><br/>
&nbsp;&nbsp;/\ <span class="id"><a href="SplitLongproof.html#helper_declared">helper_declared</a></span> <span class="id"><a href="SplitLongproof.html#p">p</a></span> <span class="id"><a href="SplitLong.html#i64_stof">i64_stof</a></span> "<span class="id">__i64_stof</span>" <span class="id"><a href="SplitLong.html#sig_l_s">sig_l_s</a></span><br/>
&nbsp;&nbsp;/\ <span class="id"><a href="SplitLongproof.html#helper_declared">helper_declared</a></span> <span class="id"><a href="SplitLongproof.html#p">p</a></span> <span class="id"><a href="SplitLong.html#i64_utof">i64_utof</a></span> "<span class="id">__i64_utof</span>" <span class="id"><a href="SplitLong.html#sig_l_s">sig_l_s</a></span><br/>
&nbsp;&nbsp;/\ <span class="id"><a href="SplitLongproof.html#helper_declared">helper_declared</a></span> <span class="id"><a href="SplitLongproof.html#p">p</a></span> <span class="id"><a href="SplitLong.html#i64_sdiv">i64_sdiv</a></span> "<span class="id">__i64_sdiv</span>" <span class="id"><a href="SplitLong.html#sig_ll_l">sig_ll_l</a></span><br/>
&nbsp;&nbsp;/\ <span class="id"><a href="SplitLongproof.html#helper_declared">helper_declared</a></span> <span class="id"><a href="SplitLongproof.html#p">p</a></span> <span class="id"><a href="SplitLong.html#i64_udiv">i64_udiv</a></span> "<span class="id">__i64_udiv</span>" <span class="id"><a href="SplitLong.html#sig_ll_l">sig_ll_l</a></span><br/>
&nbsp;&nbsp;/\ <span class="id"><a href="SplitLongproof.html#helper_declared">helper_declared</a></span> <span class="id"><a href="SplitLongproof.html#p">p</a></span> <span class="id"><a href="SplitLong.html#i64_smod">i64_smod</a></span> "<span class="id">__i64_smod</span>" <span class="id"><a href="SplitLong.html#sig_ll_l">sig_ll_l</a></span><br/>
&nbsp;&nbsp;/\ <span class="id"><a href="SplitLongproof.html#helper_declared">helper_declared</a></span> <span class="id"><a href="SplitLongproof.html#p">p</a></span> <span class="id"><a href="SplitLong.html#i64_umod">i64_umod</a></span> "<span class="id">__i64_umod</span>" <span class="id"><a href="SplitLong.html#sig_ll_l">sig_ll_l</a></span><br/>
&nbsp;&nbsp;/\ <span class="id"><a href="SplitLongproof.html#helper_declared">helper_declared</a></span> <span class="id"><a href="SplitLongproof.html#p">p</a></span> <span class="id"><a href="SplitLong.html#i64_shl">i64_shl</a></span> "<span class="id">__i64_shl</span>" <span class="id"><a href="SplitLong.html#sig_li_l">sig_li_l</a></span><br/>
&nbsp;&nbsp;/\ <span class="id"><a href="SplitLongproof.html#helper_declared">helper_declared</a></span> <span class="id"><a href="SplitLongproof.html#p">p</a></span> <span class="id"><a href="SplitLong.html#i64_shr">i64_shr</a></span> "<span class="id">__i64_shr</span>" <span class="id"><a href="SplitLong.html#sig_li_l">sig_li_l</a></span><br/>
&nbsp;&nbsp;/\ <span class="id"><a href="SplitLongproof.html#helper_declared">helper_declared</a></span> <span class="id"><a href="SplitLongproof.html#p">p</a></span> <span class="id"><a href="SplitLong.html#i64_sar">i64_sar</a></span> "<span class="id">__i64_sar</span>" <span class="id"><a href="SplitLong.html#sig_li_l">sig_li_l</a></span><br/>
&nbsp;&nbsp;/\ <span class="id"><a href="SplitLongproof.html#helper_declared">helper_declared</a></span> <span class="id"><a href="SplitLongproof.html#p">p</a></span> <span class="id"><a href="SplitLong.html#i64_umulh">i64_umulh</a></span> "<span class="id">__i64_umulh</span>" <span class="id"><a href="SplitLong.html#sig_ll_l">sig_ll_l</a></span><br/>
&nbsp;&nbsp;/\ <span class="id"><a href="SplitLongproof.html#helper_declared">helper_declared</a></span> <span class="id"><a href="SplitLongproof.html#p">p</a></span> <span class="id"><a href="SplitLong.html#i64_smulh">i64_smulh</a></span> "<span class="id">__i64_smulh</span>" <span class="id"><a href="SplitLong.html#sig_ll_l">sig_ll_l</a></span>.<br/>
<br/>
<h1> Correctness of the instruction selection functions for 64-bit operators </h1>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="CMCONSTR">CMCONSTR</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CMCONSTR.prog">prog</a></span>: <span class="id"><a href="CminorSel.html#program">program</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CMCONSTR.hf">hf</a></span>: <span class="id"><a href="SplitLong.html#helper_functions">helper_functions</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="CMCONSTR.HELPERS">HELPERS</a></span>: <span class="id"><a href="SplitLongproof.html#helper_functions_declared">helper_functions_declared</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.prog">prog</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.hf">hf</a></span>.<br/>
<span class="kwd">Let</span> <span class="id"><a name="CMCONSTR.ge">ge</a></span> := <span class="id"><a href="Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.prog">prog</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CMCONSTR.sp">sp</a></span>: <span class="id"><a href="Values.html#val">val</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CMCONSTR.e">e</a></span>: <span class="id"><a href="Cminor.html#env">env</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CMCONSTR.m">m</a></span>: <span class="id"><a href="Memory.html#mem">mem</a></span>.<br/>
<br/>
<span class="kwd">Ltac</span> <span class="id">UseHelper</span> := <span class="id">decompose</span> [<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#and">Logic.and</a></span>] <span class="id"><a href="SplitLongproof.html#i64_helpers_correct">i64_helpers_correct</a></span>; <span class="tactic">eauto</span>.<br/>
<span class="kwd">Ltac</span> <span class="id">DeclHelper</span> := <span class="tactic">red</span> <span class="kwd">in</span> <span class="id">HELPERS</span>; <span class="id">decompose</span> [<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#and">Logic.and</a></span>] <span class="id"><a href="SplitLongproof.html#CMCONSTR.HELPERS">HELPERS</a></span>; <span class="tactic">eauto</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_helper">eval_helper</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">id</span> <span class="id">name</span> <span class="id">sg</span> <span class="id">args</span> <span class="id">vargs</span> <span class="id">vres</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_exprlist">eval_exprlist</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#args">args</a></span> <span class="id"><a href="SplitLongproof.html#vargs">vargs</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="SplitLongproof.html#helper_declared">helper_declared</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.prog">prog</a></span> <span class="id"><a href="SplitLongproof.html#id">id</a></span> <span class="id"><a href="SplitLongproof.html#name">name</a></span> <span class="id"><a href="SplitLongproof.html#sg">sg</a></span>  -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="SplitLongproof.html#external_implements">external_implements</a></span> <span class="id"><a href="SplitLongproof.html#name">name</a></span> <span class="id"><a href="SplitLongproof.html#sg">sg</a></span> <span class="id"><a href="SplitLongproof.html#vargs">vargs</a></span> <span class="id"><a href="SplitLongproof.html#vres">vres</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> (<span class="id"><a href="CminorSel.html#Eexternal">Eexternal</a></span> <span class="id"><a href="SplitLongproof.html#id">id</a></span> <span class="id"><a href="SplitLongproof.html#sg">sg</a></span> <span class="id"><a href="SplitLongproof.html#args">args</a></span>) <span class="id"><a href="SplitLongproof.html#vres">vres</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2295')">Proof.</div>
<div class="proofscript" id="proof2295">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">apply</span> <span class="id"><a href="Globalenvs.html#Genv.find_def_symbol">Genv.find_def_symbol</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">destruct</span> <span class="id">H0</span> <span class="kwd">as</span> (<span class="id">b</span> &amp; <span class="id">P</span> &amp; <span class="id">Q</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Globalenvs.html#Genv.find_funct_ptr_iff">Genv.find_funct_ptr_iff</a></span> <span class="kwd">in</span> <span class="id">Q</span>. <br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Corollary</span> <span class="id"><a name="eval_helper_1">eval_helper_1</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">id</span> <span class="id">name</span> <span class="id">sg</span> <span class="id">arg1</span> <span class="id">varg1</span> <span class="id">vres</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#arg1">arg1</a></span> <span class="id"><a href="SplitLongproof.html#varg1">varg1</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="SplitLongproof.html#helper_declared">helper_declared</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.prog">prog</a></span> <span class="id"><a href="SplitLongproof.html#id">id</a></span> <span class="id"><a href="SplitLongproof.html#name">name</a></span> <span class="id"><a href="SplitLongproof.html#sg">sg</a></span>  -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="SplitLongproof.html#external_implements">external_implements</a></span> <span class="id"><a href="SplitLongproof.html#name">name</a></span> <span class="id"><a href="SplitLongproof.html#sg">sg</a></span> (<span class="id"><a href="SplitLongproof.html#varg1">varg1</a></span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id"><a href="SplitLongproof.html#vres">vres</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> (<span class="id"><a href="CminorSel.html#Eexternal">Eexternal</a></span> <span class="id"><a href="SplitLongproof.html#id">id</a></span> <span class="id"><a href="SplitLongproof.html#sg">sg</a></span> (<span class="id"><a href="SplitLongproof.html#arg1">arg1</a></span> ::: <span class="id"><a href="CminorSel.html#Enil">Enil</a></span>)) <span class="id"><a href="SplitLongproof.html#vres">vres</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2296')">Proof.</div>
<div class="proofscript" id="proof2296">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="SplitLongproof.html#eval_helper">eval_helper</a></span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>; <span class="tactic">auto</span>. <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Corollary</span> <span class="id"><a name="eval_helper_2">eval_helper_2</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">id</span> <span class="id">name</span> <span class="id">sg</span> <span class="id">arg1</span> <span class="id">arg2</span> <span class="id">varg1</span> <span class="id">varg2</span> <span class="id">vres</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#arg1">arg1</a></span> <span class="id"><a href="SplitLongproof.html#varg1">varg1</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#arg2">arg2</a></span> <span class="id"><a href="SplitLongproof.html#varg2">varg2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="SplitLongproof.html#helper_declared">helper_declared</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.prog">prog</a></span> <span class="id"><a href="SplitLongproof.html#id">id</a></span> <span class="id"><a href="SplitLongproof.html#name">name</a></span> <span class="id"><a href="SplitLongproof.html#sg">sg</a></span>  -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="SplitLongproof.html#external_implements">external_implements</a></span> <span class="id"><a href="SplitLongproof.html#name">name</a></span> <span class="id"><a href="SplitLongproof.html#sg">sg</a></span> (<span class="id"><a href="SplitLongproof.html#varg1">varg1</a></span>::<span class="id"><a href="SplitLongproof.html#varg2">varg2</a></span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id"><a href="SplitLongproof.html#vres">vres</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> (<span class="id"><a href="CminorSel.html#Eexternal">Eexternal</a></span> <span class="id"><a href="SplitLongproof.html#id">id</a></span> <span class="id"><a href="SplitLongproof.html#sg">sg</a></span> (<span class="id"><a href="SplitLongproof.html#arg1">arg1</a></span> ::: <span class="id"><a href="SplitLongproof.html#arg2">arg2</a></span> ::: <span class="id"><a href="CminorSel.html#Enil">Enil</a></span>)) <span class="id"><a href="SplitLongproof.html#vres">vres</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2297')">Proof.</div>
<div class="proofscript" id="proof2297">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="SplitLongproof.html#eval_helper">eval_helper</a></span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>; <span class="tactic">auto</span>. <span class="id">constructor</span>; <span class="tactic">auto</span>. <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="eval_builtin_1">eval_builtin_1</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">id</span> <span class="id">sg</span> <span class="id">arg1</span> <span class="id">varg1</span> <span class="id">vres</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#arg1">arg1</a></span> <span class="id"><a href="SplitLongproof.html#varg1">varg1</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="SplitLongproof.html#builtin_implements">builtin_implements</a></span> <span class="id"><a href="SplitLongproof.html#id">id</a></span> <span class="id"><a href="SplitLongproof.html#sg">sg</a></span> (<span class="id"><a href="SplitLongproof.html#varg1">varg1</a></span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id"><a href="SplitLongproof.html#vres">vres</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> (<span class="id"><a href="CminorSel.html#Ebuiltin">Ebuiltin</a></span> (<span class="id"><a href="AST.html#EF_builtin">EF_builtin</a></span> <span class="id"><a href="SplitLongproof.html#id">id</a></span> <span class="id"><a href="SplitLongproof.html#sg">sg</a></span>) (<span class="id"><a href="SplitLongproof.html#arg1">arg1</a></span> ::: <span class="id"><a href="CminorSel.html#Enil">Enil</a></span>)) <span class="id"><a href="SplitLongproof.html#vres">vres</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2298')">Proof.</div>
<div class="proofscript" id="proof2298">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">econstructor</span>. <span class="id">econstructor</span>. <span class="tactic">eauto</span>. <span class="id">constructor</span>. <span class="tactic">apply</span> <span class="id">H0</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="eval_builtin_2">eval_builtin_2</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">id</span> <span class="id">sg</span> <span class="id">arg1</span> <span class="id">arg2</span> <span class="id">varg1</span> <span class="id">varg2</span> <span class="id">vres</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#arg1">arg1</a></span> <span class="id"><a href="SplitLongproof.html#varg1">varg1</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#arg2">arg2</a></span> <span class="id"><a href="SplitLongproof.html#varg2">varg2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="SplitLongproof.html#builtin_implements">builtin_implements</a></span> <span class="id"><a href="SplitLongproof.html#id">id</a></span> <span class="id"><a href="SplitLongproof.html#sg">sg</a></span> (<span class="id"><a href="SplitLongproof.html#varg1">varg1</a></span>::<span class="id"><a href="SplitLongproof.html#varg2">varg2</a></span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id"><a href="SplitLongproof.html#vres">vres</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> (<span class="id"><a href="CminorSel.html#Ebuiltin">Ebuiltin</a></span> (<span class="id"><a href="AST.html#EF_builtin">EF_builtin</a></span> <span class="id"><a href="SplitLongproof.html#id">id</a></span> <span class="id"><a href="SplitLongproof.html#sg">sg</a></span>) (<span class="id"><a href="SplitLongproof.html#arg1">arg1</a></span> ::: <span class="id"><a href="SplitLongproof.html#arg2">arg2</a></span> ::: <span class="id"><a href="CminorSel.html#Enil">Enil</a></span>)) <span class="id"><a href="SplitLongproof.html#vres">vres</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2299')">Proof.</div>
<div class="proofscript" id="proof2299">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">econstructor</span>. <span class="id">constructor</span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>. <span class="tactic">apply</span> <span class="id">H1</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="unary_constructor_sound">unary_constructor_sound</a></span> (<span class="id">cstr</span>: <span class="id"><a href="CminorSel.html#expr">expr</a></span> -&gt; <span class="id"><a href="CminorSel.html#expr">expr</a></span>) (<span class="id">sem</span>: <span class="id"><a href="Values.html#val">val</a></span> -&gt; <span class="id"><a href="Values.html#val">val</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">a</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> (<span class="id"><a href="SplitLongproof.html#cstr">cstr</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span>) <span class="id"><a href="SplitLongproof.html#v">v</a></span> /\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="SplitLongproof.html#sem">sem</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span>) <span class="id"><a href="SplitLongproof.html#v">v</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="binary_constructor_sound">binary_constructor_sound</a></span> (<span class="id">cstr</span>: <span class="id"><a href="CminorSel.html#expr">expr</a></span> -&gt; <span class="id"><a href="CminorSel.html#expr">expr</a></span> -&gt; <span class="id"><a href="CminorSel.html#expr">expr</a></span>) (<span class="id">sem</span>: <span class="id"><a href="Values.html#val">val</a></span> -&gt; <span class="id"><a href="Values.html#val">val</a></span> -&gt; <span class="id"><a href="Values.html#val">val</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">a</span> <span class="id">x</span> <span class="id">b</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#b">b</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> (<span class="id"><a href="SplitLongproof.html#cstr">cstr</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> <span class="id"><a href="SplitLongproof.html#b">b</a></span>) <span class="id"><a href="SplitLongproof.html#v">v</a></span> /\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="SplitLongproof.html#sem">sem</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span>) <span class="id"><a href="SplitLongproof.html#v">v</a></span>.<br/>
<br/>
<span class="kwd">Ltac</span> <span class="id">EvalOp</span> :=<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span>;<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| [ |- <span class="id"><a href="CminorSel.html#eval_exprlist">eval_exprlist</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="CminorSel.html#Enil">Enil</a></span> <span class="id">_</span> ] =&gt; <span class="id">constructor</span><br/>
&nbsp;&nbsp;| [ |- <span class="id"><a href="CminorSel.html#eval_exprlist">eval_exprlist</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id">_</span>:::<span class="id">_</span>) <span class="id">_</span> ] =&gt; <span class="id">econstructor</span>; <span class="id">EvalOp</span><br/>
&nbsp;&nbsp;| [ |- <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="CminorSel.html#Eletvar">Eletvar</a></span> <span class="id">_</span>) <span class="id">_</span> ] =&gt; <span class="id">constructor</span>; <span class="tactic">simpl</span>; <span class="tactic">eauto</span><br/>
&nbsp;&nbsp;| [ |- <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="CminorSel.html#Elet">Elet</a></span> <span class="id">_</span> <span class="id">_</span>) <span class="id">_</span> ] =&gt; <span class="id">econstructor</span>; <span class="id">EvalOp</span><br/>
&nbsp;&nbsp;| [ |- <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="CminorSel.html#lift">lift</a></span> <span class="id">_</span>) <span class="id">_</span> ] =&gt; <span class="tactic">apply</span> <span class="id"><a href="CminorSel.html#eval_lift">eval_lift</a></span>; <span class="id">EvalOp</span><br/>
&nbsp;&nbsp;| [ |- <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> ] =&gt; <span class="tactic">eapply</span> <span class="id"><a href="CminorSel.html#eval_Eop">eval_Eop</a></span>; [<span class="id">EvalOp</span> | <span class="tactic">simpl</span>; <span class="tactic">eauto</span>]<br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id">idtac</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_splitlong">eval_splitlong</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">a</span> <span class="id">f</span> <span class="id">v</span> <span class="id">sem</span>,<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">le</span> <span class="id">a</span> <span class="id">b</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#b">b</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> (<span class="id"><a href="SplitLongproof.html#f">f</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> <span class="id"><a href="SplitLongproof.html#b">b</a></span>) <span class="id"><a href="SplitLongproof.html#v">v</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">p</span> <span class="id">q</span>, <span class="id"><a href="SplitLongproof.html#x">x</a></span> = <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="SplitLongproof.html#p">p</a></span> -&gt; <span class="id"><a href="SplitLongproof.html#y">y</a></span> = <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="SplitLongproof.html#q">q</a></span> -&gt; <span class="id"><a href="SplitLongproof.html#v">v</a></span> = <span class="id"><a href="SplitLongproof.html#sem">sem</a></span> (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> (<span class="id"><a href="Integers.html#Int64.ofwords">Int64.ofwords</a></span> <span class="id"><a href="SplitLongproof.html#p">p</a></span> <span class="id"><a href="SplitLongproof.html#q">q</a></span>)))) -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="SplitLongproof.html#v">v</a></span> <span class="kwd">with</span> <span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span> | <span class="id">_</span> =&gt; <span class="id"><a href="SplitLongproof.html#sem">sem</a></span> <span class="id"><a href="SplitLongproof.html#v">v</a></span> = <span class="id"><a href="Values.html#Vundef">Vundef</a></span> <span class="kwd">end</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> <span class="id"><a href="SplitLongproof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>', <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> (<span class="id"><a href="SplitLong.html#splitlong">splitlong</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> <span class="id"><a href="SplitLongproof.html#f">f</a></span>) <span class="id">v</span>' /\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="SplitLongproof.html#sem">sem</a></span> <span class="id"><a href="SplitLongproof.html#v">v</a></span>) <span class="id">v</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2300')">Proof.</div>
<div class="proofscript" id="proof2300">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">sem</span>; <span class="tactic">intros</span> <span class="id">EXEC</span> <span class="id">UNDEF</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SplitLong.html#splitlong">splitlong</a></span>. <span class="tactic">case</span> (<span class="id"><a href="SplitLong.html#splitlong_match">splitlong_match</a></span> <span class="id">a</span>); <span class="tactic">intros</span>.<br/>
- <span class="id">InvEval</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">EXEC</span>. <span class="id">eexact</span> <span class="id">H2</span>. <span class="id">eexact</span> <span class="id">H3</span>. <span class="tactic">intros</span> [<span class="id">v</span>' [<span class="id">A</span> <span class="id">B</span>]].<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>'; <span class="tactic">split</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v1</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">try</span> (<span class="tactic">rewrite</span> <span class="id">UNDEF</span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">try</span> (<span class="tactic">rewrite</span> <span class="id">UNDEF</span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id">B</span>; <span class="tactic">eauto</span>.<br/>
- <span class="id">exploit</span> (<span class="id">EXEC</span> (<span class="id">v</span> :: <span class="id">le</span>) (<span class="id"><a href="CminorSel.html#Eop">Eop</a></span> <span class="id"><a href="Op.html#Ohighlong">Ohighlong</a></span> (<span class="id"><a href="CminorSel.html#Eletvar">Eletvar</a></span> 0 ::: <span class="id"><a href="CminorSel.html#Enil">Enil</a></span>)) (<span class="id"><a href="CminorSel.html#Eop">Eop</a></span> <span class="id"><a href="Op.html#Olowlong">Olowlong</a></span> (<span class="id"><a href="CminorSel.html#Eletvar">Eletvar</a></span> 0 ::: <span class="id"><a href="CminorSel.html#Enil">Enil</a></span>))).<br/>
&nbsp;&nbsp;<span class="id">EvalOp</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">v</span>' [<span class="id">A</span> <span class="id">B</span>]].<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>'; <span class="tactic">split</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v</span>; <span class="tactic">try</span> (<span class="tactic">rewrite</span> <span class="id">UNDEF</span>; <span class="tactic">auto</span>). <span class="id">erewrite</span> <span class="id">B</span>; <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.ofwords_recompose">Int64.ofwords_recompose</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_splitlong_strict">eval_splitlong_strict</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">a</span> <span class="id">f</span> <span class="id">va</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id"><a href="SplitLongproof.html#va">va</a></span>) -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">le</span> <span class="id">a1</span> <span class="id">a2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#a1">a1</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> (<span class="id"><a href="Integers.html#Int64.hiword">Int64.hiword</a></span> <span class="id"><a href="SplitLongproof.html#va">va</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#a2">a2</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> (<span class="id"><a href="Integers.html#Int64.loword">Int64.loword</a></span> <span class="id"><a href="SplitLongproof.html#va">va</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> (<span class="id"><a href="SplitLongproof.html#f">f</a></span> <span class="id"><a href="SplitLongproof.html#a1">a1</a></span> <span class="id"><a href="SplitLongproof.html#a2">a2</a></span>) <span class="id"><a href="SplitLongproof.html#v">v</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> (<span class="id"><a href="SplitLong.html#splitlong">splitlong</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> <span class="id"><a href="SplitLongproof.html#f">f</a></span>) <span class="id"><a href="SplitLongproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2301')">Proof.</div>
<div class="proofscript" id="proof2301">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">v</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SplitLong.html#splitlong">splitlong</a></span>. <span class="tactic">case</span> (<span class="id"><a href="SplitLong.html#splitlong_match">splitlong_match</a></span> <span class="id">a</span>); <span class="tactic">intros</span>.<br/>
- <span class="id">InvEval</span>. <span class="tactic">destruct</span> <span class="id">v1</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="tactic">destruct</span> <span class="id">v0</span>; <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.hi_ofwords">Int64.hi_ofwords</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.lo_ofwords">Int64.lo_ofwords</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="id">EvalOp</span>. <span class="tactic">apply</span> <span class="id">H0</span>; <span class="id">EvalOp</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_splitlong2">eval_splitlong2</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">a</span> <span class="id">b</span> <span class="id">f</span> <span class="id">va</span> <span class="id">vb</span> <span class="id">sem</span>,<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">le</span> <span class="id">a1</span> <span class="id">a2</span> <span class="id">b1</span> <span class="id">b2</span> <span class="id">x1</span> <span class="id">x2</span> <span class="id">y1</span> <span class="id">y2</span>,<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#a1">a1</a></span> <span class="id"><a href="SplitLongproof.html#x1">x1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#a2">a2</a></span> <span class="id"><a href="SplitLongproof.html#x2">x2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#b1">b1</a></span> <span class="id"><a href="SplitLongproof.html#y1">y1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#b2">b2</a></span> <span class="id"><a href="SplitLongproof.html#y2">y2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> (<span class="id"><a href="SplitLongproof.html#f">f</a></span> <span class="id"><a href="SplitLongproof.html#a1">a1</a></span> <span class="id"><a href="SplitLongproof.html#a2">a2</a></span> <span class="id"><a href="SplitLongproof.html#b1">b1</a></span> <span class="id"><a href="SplitLongproof.html#b2">b2</a></span>) <span class="id"><a href="SplitLongproof.html#v">v</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">p1</span> <span class="id">p2</span> <span class="id">q1</span> <span class="id">q2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SplitLongproof.html#x1">x1</a></span> = <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="SplitLongproof.html#p1">p1</a></span> -&gt; <span class="id"><a href="SplitLongproof.html#x2">x2</a></span> = <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="SplitLongproof.html#p2">p2</a></span> -&gt; <span class="id"><a href="SplitLongproof.html#y1">y1</a></span> = <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="SplitLongproof.html#q1">q1</a></span> -&gt; <span class="id"><a href="SplitLongproof.html#y2">y2</a></span> = <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="SplitLongproof.html#q2">q2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SplitLongproof.html#v">v</a></span> = <span class="id"><a href="SplitLongproof.html#sem">sem</a></span> (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> (<span class="id"><a href="Integers.html#Int64.ofwords">Int64.ofwords</a></span> <span class="id"><a href="SplitLongproof.html#p1">p1</a></span> <span class="id"><a href="SplitLongproof.html#p2">p2</a></span>)) (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> (<span class="id"><a href="Integers.html#Int64.ofwords">Int64.ofwords</a></span> <span class="id"><a href="SplitLongproof.html#q1">q1</a></span> <span class="id"><a href="SplitLongproof.html#q2">q2</a></span>)))) -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="SplitLongproof.html#va">va</a></span>, <span class="id"><a href="SplitLongproof.html#vb">vb</a></span> <span class="kwd">with</span> <span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">_</span>, <span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span> | <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="SplitLongproof.html#sem">sem</a></span> <span class="id"><a href="SplitLongproof.html#va">va</a></span> <span class="id"><a href="SplitLongproof.html#vb">vb</a></span> = <span class="id"><a href="Values.html#Vundef">Vundef</a></span> <span class="kwd">end</span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> <span class="id"><a href="SplitLongproof.html#va">va</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#b">b</a></span> <span class="id"><a href="SplitLongproof.html#vb">vb</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> (<span class="id"><a href="SplitLong.html#splitlong2">splitlong2</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> <span class="id"><a href="SplitLongproof.html#b">b</a></span> <span class="id"><a href="SplitLongproof.html#f">f</a></span>) <span class="id"><a href="SplitLongproof.html#v">v</a></span> /\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="SplitLongproof.html#sem">sem</a></span> <span class="id"><a href="SplitLongproof.html#va">va</a></span> <span class="id"><a href="SplitLongproof.html#vb">vb</a></span>) <span class="id"><a href="SplitLongproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2302')">Proof.</div>
<div class="proofscript" id="proof2302">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">sem</span>; <span class="tactic">intros</span> <span class="id">EXEC</span> <span class="id">UNDEF</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SplitLong.html#splitlong2">splitlong2</a></span>. <span class="tactic">case</span> (<span class="id"><a href="SplitLong.html#splitlong2_match">splitlong2_match</a></span> <span class="id">a</span> <span class="id">b</span>); <span class="tactic">intros</span>.<br/>
- <span class="id">InvEval</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">EXEC</span> <span class="id">le</span> <span class="id">h1</span> <span class="id">l1</span> <span class="id">h2</span> <span class="id">l2</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">v</span> [<span class="id">A</span> <span class="id">B</span>]].<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v1</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">try</span> (<span class="tactic">rewrite</span> <span class="id">UNDEF</span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">try</span> (<span class="tactic">rewrite</span> <span class="id">UNDEF</span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v2</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">try</span> (<span class="tactic">rewrite</span> <span class="id">UNDEF</span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v3</span>; <span class="tactic">try</span> (<span class="tactic">rewrite</span> <span class="id">UNDEF</span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id">B</span>; <span class="tactic">eauto</span>.<br/>
- <span class="id">InvEval</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">EXEC</span> (<span class="id">vb</span> :: <span class="id">le</span>) (<span class="id"><a href="CminorSel.html#lift">lift</a></span> <span class="id">h1</span>) (<span class="id"><a href="CminorSel.html#lift">lift</a></span> <span class="id">l1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="CminorSel.html#Eop">Eop</a></span> <span class="id"><a href="Op.html#Ohighlong">Ohighlong</a></span> (<span class="id"><a href="CminorSel.html#Eletvar">Eletvar</a></span> 0 ::: <span class="id"><a href="CminorSel.html#Enil">Enil</a></span>)) (<span class="id"><a href="CminorSel.html#Eop">Eop</a></span> <span class="id"><a href="Op.html#Olowlong">Olowlong</a></span> (<span class="id"><a href="CminorSel.html#Eletvar">Eletvar</a></span> 0 ::: <span class="id"><a href="CminorSel.html#Enil">Enil</a></span>))).<br/>
&nbsp;&nbsp;<span class="id">EvalOp</span>. <span class="id">EvalOp</span>. <span class="id">EvalOp</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">v</span> [<span class="id">A</span> <span class="id">B</span>]].<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v1</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">try</span> (<span class="tactic">rewrite</span> <span class="id">UNDEF</span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">try</span> (<span class="tactic">rewrite</span> <span class="id">UNDEF</span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">vb</span>; <span class="tactic">try</span> (<span class="tactic">rewrite</span> <span class="id">UNDEF</span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id">B</span>; <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.ofwords_recompose">Int64.ofwords_recompose</a></span>. <span class="tactic">auto</span>.<br/>
- <span class="id">InvEval</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">EXEC</span> (<span class="id">va</span> :: <span class="id">le</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="CminorSel.html#Eop">Eop</a></span> <span class="id"><a href="Op.html#Ohighlong">Ohighlong</a></span> (<span class="id"><a href="CminorSel.html#Eletvar">Eletvar</a></span> 0 ::: <span class="id"><a href="CminorSel.html#Enil">Enil</a></span>)) (<span class="id"><a href="CminorSel.html#Eop">Eop</a></span> <span class="id"><a href="Op.html#Olowlong">Olowlong</a></span> (<span class="id"><a href="CminorSel.html#Eletvar">Eletvar</a></span> 0 ::: <span class="id"><a href="CminorSel.html#Enil">Enil</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="CminorSel.html#lift">lift</a></span> <span class="id">h2</span>) (<span class="id"><a href="CminorSel.html#lift">lift</a></span> <span class="id">l2</span>)).<br/>
&nbsp;&nbsp;<span class="id">EvalOp</span>. <span class="id">EvalOp</span>. <span class="id">EvalOp</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">v</span> [<span class="id">A</span> <span class="id">B</span>]].<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">va</span>; <span class="tactic">try</span> (<span class="tactic">rewrite</span> <span class="id">UNDEF</span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v1</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">try</span> (<span class="tactic">rewrite</span> <span class="id">UNDEF</span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">try</span> (<span class="tactic">rewrite</span> <span class="id">UNDEF</span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id">B</span>; <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.ofwords_recompose">Int64.ofwords_recompose</a></span>. <span class="tactic">auto</span>.<br/>
- <span class="id">exploit</span> (<span class="id">EXEC</span> (<span class="id">vb</span> :: <span class="id">va</span> :: <span class="id">le</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="CminorSel.html#Eop">Eop</a></span> <span class="id"><a href="Op.html#Ohighlong">Ohighlong</a></span> (<span class="id"><a href="CminorSel.html#Eletvar">Eletvar</a></span> 1 ::: <span class="id"><a href="CminorSel.html#Enil">Enil</a></span>)) (<span class="id"><a href="CminorSel.html#Eop">Eop</a></span> <span class="id"><a href="Op.html#Olowlong">Olowlong</a></span> (<span class="id"><a href="CminorSel.html#Eletvar">Eletvar</a></span> 1 ::: <span class="id"><a href="CminorSel.html#Enil">Enil</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="CminorSel.html#Eop">Eop</a></span> <span class="id"><a href="Op.html#Ohighlong">Ohighlong</a></span> (<span class="id"><a href="CminorSel.html#Eletvar">Eletvar</a></span> 0 ::: <span class="id"><a href="CminorSel.html#Enil">Enil</a></span>)) (<span class="id"><a href="CminorSel.html#Eop">Eop</a></span> <span class="id"><a href="Op.html#Olowlong">Olowlong</a></span> (<span class="id"><a href="CminorSel.html#Eletvar">Eletvar</a></span> 0 ::: <span class="id"><a href="CminorSel.html#Enil">Enil</a></span>))).<br/>
&nbsp;&nbsp;<span class="id">EvalOp</span>. <span class="id">EvalOp</span>. <span class="id">EvalOp</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">v</span> [<span class="id">A</span> <span class="id">B</span>]].<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>; <span class="tactic">split</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">va</span>; <span class="tactic">try</span> (<span class="tactic">rewrite</span> <span class="id">UNDEF</span>; <span class="tactic">auto</span>); <span class="tactic">destruct</span> <span class="id">vb</span>; <span class="tactic">try</span> (<span class="tactic">rewrite</span> <span class="id">UNDEF</span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id">B</span>; <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> ! <span class="id"><a href="Integers.html#Int64.ofwords_recompose">Int64.ofwords_recompose</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_splitlong2_strict">eval_splitlong2_strict</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">a</span> <span class="id">b</span> <span class="id">f</span> <span class="id">va</span> <span class="id">vb</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id"><a href="SplitLongproof.html#va">va</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#b">b</a></span> (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id"><a href="SplitLongproof.html#vb">vb</a></span>) -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">le</span> <span class="id">a1</span> <span class="id">a2</span> <span class="id">b1</span> <span class="id">b2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#a1">a1</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> (<span class="id"><a href="Integers.html#Int64.hiword">Int64.hiword</a></span> <span class="id"><a href="SplitLongproof.html#va">va</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#a2">a2</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> (<span class="id"><a href="Integers.html#Int64.loword">Int64.loword</a></span> <span class="id"><a href="SplitLongproof.html#va">va</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#b1">b1</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> (<span class="id"><a href="Integers.html#Int64.hiword">Int64.hiword</a></span> <span class="id"><a href="SplitLongproof.html#vb">vb</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#b2">b2</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> (<span class="id"><a href="Integers.html#Int64.loword">Int64.loword</a></span> <span class="id"><a href="SplitLongproof.html#vb">vb</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> (<span class="id"><a href="SplitLongproof.html#f">f</a></span> <span class="id"><a href="SplitLongproof.html#a1">a1</a></span> <span class="id"><a href="SplitLongproof.html#a2">a2</a></span> <span class="id"><a href="SplitLongproof.html#b1">b1</a></span> <span class="id"><a href="SplitLongproof.html#b2">b2</a></span>) <span class="id"><a href="SplitLongproof.html#v">v</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> (<span class="id"><a href="SplitLong.html#splitlong2">splitlong2</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> <span class="id"><a href="SplitLongproof.html#b">b</a></span> <span class="id"><a href="SplitLongproof.html#f">f</a></span>) <span class="id"><a href="SplitLongproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2303')">Proof.</div>
<div class="proofscript" id="proof2303">
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">INV</span>: <span class="kwd">forall</span> <span class="id">v1</span> <span class="id">v2</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.longofwords">Val.longofwords</a></span> <span class="id"><a href="SplitLongproof.html#v1">v1</a></span> <span class="id"><a href="SplitLongproof.html#v2">v2</a></span> = <span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id"><a href="SplitLongproof.html#n">n</a></span> -&gt; <span class="id"><a href="SplitLongproof.html#v1">v1</a></span> = <span class="id"><a href="Values.html#Vint">Vint</a></span>(<span class="id"><a href="Integers.html#Int64.hiword">Int64.hiword</a></span> <span class="id"><a href="SplitLongproof.html#n">n</a></span>) /\ <span class="id"><a href="SplitLongproof.html#v2">v2</a></span> = <span class="id"><a href="Values.html#Vint">Vint</a></span>(<span class="id"><a href="Integers.html#Int64.loword">Int64.loword</a></span> <span class="id"><a href="SplitLongproof.html#n">n</a></span>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">v1</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="tactic">destruct</span> <span class="id">v2</span>; <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.hi_ofwords">Int64.hi_ofwords</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.lo_ofwords">Int64.lo_ofwords</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">v</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SplitLong.html#splitlong2">splitlong2</a></span>. <span class="tactic">case</span> (<span class="id"><a href="SplitLong.html#splitlong2_match">splitlong2_match</a></span> <span class="id">a</span> <span class="id">b</span>); <span class="tactic">intros</span>.<br/>
- <span class="id">InvEval</span>. <span class="id">exploit</span> <span class="id">INV</span>. <span class="id">eexact</span> <span class="id">H</span>. <span class="tactic">intros</span> [<span class="id">EQ1</span> <span class="id">EQ2</span>]. <span class="id">exploit</span> <span class="id">INV</span>. <span class="id">eexact</span> <span class="id">H0</span>. <span class="tactic">intros</span> [<span class="id">EQ3</span> <span class="id">EQ4</span>].<br/>
&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">auto</span>.<br/>
- <span class="id">InvEval</span>. <span class="id">exploit</span> <span class="id">INV</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">EQ1</span> <span class="id">EQ2</span>]. <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id">H1</span>; <span class="id">EvalOp</span>.<br/>
- <span class="id">InvEval</span>. <span class="id">exploit</span> <span class="id">INV</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">EQ1</span> <span class="id">EQ2</span>]. <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id">H1</span>; <span class="id">EvalOp</span>.<br/>
- <span class="id">EvalOp</span>. <span class="tactic">apply</span> <span class="id">H1</span>; <span class="id">EvalOp</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="is_longconst_sound">is_longconst_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">a</span> <span class="id">x</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="SplitLong.html#is_longconst">is_longconst</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SplitLongproof.html#n">n</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="SplitLongproof.html#x">x</a></span> = <span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id"><a href="SplitLongproof.html#n">n</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2304')">Proof.</div>
<div class="proofscript" id="proof2304">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SplitLong.html#is_longconst">is_longconst</a></span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">n</span>; <span class="tactic">intros</span> <span class="id">LC</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="SplitLong.html#is_longconst_match">is_longconst_match</a></span> <span class="id">a</span>); <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">LC</span>. <span class="id">InvEval</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H5</span>. <span class="id">inv</span> <span class="id">H5</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">discriminate</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="is_longconst_zero_sound">is_longconst_zero_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">a</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="SplitLong.html#is_longconst_zero">is_longconst_zero</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="SplitLongproof.html#x">x</a></span> = <span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2305')">Proof.</div>
<div class="proofscript" id="proof2305">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SplitLong.html#is_longconst_zero">is_longconst_zero</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="SplitLong.html#is_longconst">is_longconst</a></span> <span class="id">a</span>) <span class="kwd">as</span> [<span class="id">n</span>|] <span class="id">eqn</span>:<span class="id">E</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">revert</span> <span class="id">H</span>. <span class="id">predSpec</span> <span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id"><a href="Integers.html#Int64.eq_spec">Int64.eq_spec</a></span> <span class="id">n</span> <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">subst</span>. <span class="tactic">eapply</span> <span class="id"><a href="SplitLongproof.html#is_longconst_sound">is_longconst_sound</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_lowlong">eval_lowlong</a></span>: <span class="id"><a href="SplitLongproof.html#unary_constructor_sound">unary_constructor_sound</a></span> <span class="id"><a href="SplitLong.html#lowlong">lowlong</a></span> <span class="id"><a href="Values.html#Val.loword">Val.loword</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2306')">Proof.</div>
<div class="proofscript" id="proof2306">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SplitLong.html#lowlong">lowlong</a></span>; <span class="tactic">red</span>. <span class="tactic">intros</span> <span class="id">until</span> <span class="id">x</span>. <span class="tactic">destruct</span> (<span class="id"><a href="SplitLong.html#lowlong_match">lowlong_match</a></span> <span class="id">a</span>); <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">InvEval</span>; <span class="tactic">subst</span>. <span class="id">exists</span> <span class="id">v0</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v1</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.lo_ofwords">Int64.lo_ofwords</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="Values.html#Val.loword">Val.loword</a></span> <span class="id">x</span>); <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="id">EvalOp</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_highlong">eval_highlong</a></span>: <span class="id"><a href="SplitLongproof.html#unary_constructor_sound">unary_constructor_sound</a></span> <span class="id"><a href="SplitLong.html#highlong">highlong</a></span> <span class="id"><a href="Values.html#Val.hiword">Val.hiword</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2307')">Proof.</div>
<div class="proofscript" id="proof2307">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SplitLong.html#highlong">highlong</a></span>; <span class="tactic">red</span>. <span class="tactic">intros</span> <span class="id">until</span> <span class="id">x</span>. <span class="tactic">destruct</span> (<span class="id"><a href="SplitLong.html#highlong_match">highlong_match</a></span> <span class="id">a</span>); <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">InvEval</span>; <span class="tactic">subst</span>. <span class="id">exists</span> <span class="id">v1</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v1</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.hi_ofwords">Int64.hi_ofwords</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="Values.html#Val.hiword">Val.hiword</a></span> <span class="id">x</span>); <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="id">EvalOp</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_longconst">eval_longconst</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">n</span>, <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> (<span class="id"><a href="SplitLong.html#longconst">longconst</a></span> <span class="id"><a href="SplitLongproof.html#n">n</a></span>) (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id"><a href="SplitLongproof.html#n">n</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2308')">Proof.</div>
<div class="proofscript" id="proof2308">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">EvalOp</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.ofwords_recompose">Int64.ofwords_recompose</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_intoflong">eval_intoflong</a></span>: <span class="id"><a href="SplitLongproof.html#unary_constructor_sound">unary_constructor_sound</a></span> <span class="id"><a href="SplitLong.html#intoflong">intoflong</a></span> <span class="id"><a href="Values.html#Val.loword">Val.loword</a></span>.<br/>
<span class="kwd">Proof</span> <span class="id"><a href="SplitLongproof.html#eval_lowlong">eval_lowlong</a></span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_longofintu">eval_longofintu</a></span>: <span class="id"><a href="SplitLongproof.html#unary_constructor_sound">unary_constructor_sound</a></span> <span class="id"><a href="SplitLong.html#longofintu">longofintu</a></span> <span class="id"><a href="Values.html#Val.longofintu">Val.longofintu</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2309')">Proof.</div>
<div class="proofscript" id="proof2309">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="SplitLong.html#longofintu">longofintu</a></span>. <span class="id">econstructor</span>; <span class="tactic">split</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.longofintu">Val.longofintu</a></span>. <span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="Integers.html#Int64.repr">Int64.repr</a></span> (<span class="id"><a href="Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">i</span>)) <span class="kwd">with</span> (<span class="id"><a href="Integers.html#Int64.ofwords">Int64.ofwords</a></span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span> <span class="id">i</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Integers.html#Int64.same_bits_eq">Int64.same_bits_eq</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.testbit_repr">Int64.testbit_repr</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.bits_ofwords">Int64.bits_ofwords</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">fold</span> (<span class="id"><a href="Integers.html#Int.testbit">Int.testbit</a></span> <span class="id">i</span> <span class="id">i0</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#zlt">zlt</a></span> <span class="id">i0</span> <span class="id"><a href="Integers.html#Int.zwordsize">Int.zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.bits_zero">Int.bits_zero</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.bits_above">Int.bits_above</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_longofint">eval_longofint</a></span>: <span class="id"><a href="SplitLongproof.html#unary_constructor_sound">unary_constructor_sound</a></span> <span class="id"><a href="SplitLong.html#longofint">longofint</a></span> <span class="id"><a href="Values.html#Val.longofint">Val.longofint</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2310')">Proof.</div>
<div class="proofscript" id="proof2310">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="SplitLong.html#longofint">longofint</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="SplitLong.html#longofint_match">longofint_match</a></span> <span class="id">a</span>).<br/>
- <span class="id">InvEval</span>. <span class="id">econstructor</span>; <span class="tactic">split</span>. <span class="tactic">apply</span> <span class="id"><a href="SplitLongproof.html#eval_longconst">eval_longconst</a></span>. <span class="tactic">auto</span>.   <br/>
- <span class="id">exploit</span> (<span class="id"><a href="SelectOpproof.html#eval_shrimm">eval_shrimm</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> 31) (<span class="id">x</span> :: <span class="id">le</span>) (<span class="id"><a href="CminorSel.html#Eletvar">Eletvar</a></span> 0)). <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">v1</span> [<span class="id">A</span> <span class="id">B</span>]].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">B</span>. <span class="id">inv</span> <span class="id">B</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="Integers.html#Int64.repr">Int64.repr</a></span> (<span class="id"><a href="Integers.html#Int.signed">Int.signed</a></span> <span class="id">i</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> (<span class="id"><a href="Integers.html#Int64.ofwords">Int64.ofwords</a></span> (<span class="id"><a href="Integers.html#Int.shr">Int.shr</a></span> <span class="id">i</span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> 31)) <span class="id">i</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Integers.html#Int64.same_bits_eq">Int64.same_bits_eq</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.testbit_repr">Int64.testbit_repr</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.bits_ofwords">Int64.bits_ofwords</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.bits_signed">Int.bits_signed</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#zlt">zlt</a></span> <span class="id">i0</span> <span class="id"><a href="Integers.html#Int.zwordsize">Int.zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Integers.html#Int64.zwordsize">Int64.zwordsize</a></span> = 2 * <span class="id"><a href="Integers.html#Int.zwordsize">Int.zwordsize</a></span>) <span class="tactic">by</span> <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.bits_shr">Int.bits_shr</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> 31)) <span class="kwd">with</span> (<span class="id"><a href="Integers.html#Int.zwordsize">Int.zwordsize</a></span> - 1).<br/>
&nbsp;&nbsp;<span class="tactic">f_equal</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#zlt">zlt</a></span> (<span class="id">i0</span> - <span class="id"><a href="Integers.html#Int.zwordsize">Int.zwordsize</a></span> + (<span class="id"><a href="Integers.html#Int.zwordsize">Int.zwordsize</a></span> - 1)) <span class="id"><a href="Integers.html#Int.zwordsize">Int.zwordsize</a></span>); <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_negl">eval_negl</a></span>: <span class="id"><a href="SplitLongproof.html#unary_constructor_sound">unary_constructor_sound</a></span> <span class="id"><a href="SplitLong.html#negl">negl</a></span> <span class="id"><a href="Values.html#Val.negl">Val.negl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2311')">Proof.</div>
<div class="proofscript" id="proof2311">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SplitLong.html#negl">negl</a></span>; <span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id"><a href="SplitLong.html#is_longconst">is_longconst</a></span> <span class="id">a</span>) <span class="id">eqn</span>:<span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>. <span class="tactic">apply</span> <span class="id"><a href="SplitLongproof.html#eval_longconst">eval_longconst</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SplitLongproof.html#is_longconst_sound">is_longconst_sound</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">EQ</span>; <span class="tactic">subst</span> <span class="id">x</span>. <span class="tactic">simpl</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="SplitLongproof.html#eval_builtin_1">eval_builtin_1</a></span>; <span class="tactic">eauto</span>. <span class="id">UseHelper</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_notl">eval_notl</a></span>: <span class="id"><a href="SplitLongproof.html#unary_constructor_sound">unary_constructor_sound</a></span> <span class="id"><a href="SplitLong.html#notl">notl</a></span> <span class="id"><a href="Values.html#Val.notl">Val.notl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2312')">Proof.</div>
<div class="proofscript" id="proof2312">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="SplitLong.html#notl">notl</a></span>. <span class="tactic">apply</span> <span class="id"><a href="SplitLongproof.html#eval_splitlong">eval_splitlong</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SelectOpproof.html#eval_notint">eval_notint</a></span>. <span class="id">eexact</span> <span class="id">H0</span>. <span class="tactic">intros</span> [<span class="id">va</span> [<span class="id">A</span> <span class="id">B</span>]].<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SelectOpproof.html#eval_notint">eval_notint</a></span>. <span class="id">eexact</span> <span class="id">H1</span>. <span class="tactic">intros</span> [<span class="id">vb</span> [<span class="id">C</span> <span class="id">D</span>]].<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="Values.html#Val.longofwords">Val.longofwords</a></span> <span class="id">va</span> <span class="id">vb</span>); <span class="tactic">split</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">subst</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="id">inv</span> <span class="id">B</span>; <span class="id">inv</span> <span class="id">D</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="Integers.html#Int.not">Int.not</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Integers.html#Int64.decompose_xor">Int64.decompose_xor</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_longoffloat">eval_longoffloat</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">a</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.longoffloat">Val.longoffloat</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> (<span class="id"><a href="SplitLong.html#longoffloat">longoffloat</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span>) <span class="id"><a href="SplitLongproof.html#v">v</a></span> /\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span> <span class="id"><a href="SplitLongproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2313')">Proof.</div>
<div class="proofscript" id="proof2313">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="SplitLong.html#longoffloat">longoffloat</a></span>. <span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SplitLongproof.html#eval_helper_1">eval_helper_1</a></span>; <span class="tactic">eauto</span>. <span class="id">DeclHelper</span>. <span class="id">UseHelper</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_longuoffloat">eval_longuoffloat</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">a</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.longuoffloat">Val.longuoffloat</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> (<span class="id"><a href="SplitLong.html#longuoffloat">longuoffloat</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span>) <span class="id"><a href="SplitLongproof.html#v">v</a></span> /\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span> <span class="id"><a href="SplitLongproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2314')">Proof.</div>
<div class="proofscript" id="proof2314">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="SplitLong.html#longuoffloat">longuoffloat</a></span>. <span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SplitLongproof.html#eval_helper_1">eval_helper_1</a></span>; <span class="tactic">eauto</span>. <span class="id">DeclHelper</span>. <span class="id">UseHelper</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_floatoflong">eval_floatoflong</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">a</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.floatoflong">Val.floatoflong</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> (<span class="id"><a href="SplitLong.html#floatoflong">floatoflong</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span>) <span class="id"><a href="SplitLongproof.html#v">v</a></span> /\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span> <span class="id"><a href="SplitLongproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2315')">Proof.</div>
<div class="proofscript" id="proof2315">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="SplitLong.html#floatoflong">floatoflong</a></span>. <span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SplitLongproof.html#eval_helper_1">eval_helper_1</a></span>; <span class="tactic">eauto</span>. <span class="id">DeclHelper</span>. <span class="id">UseHelper</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_floatoflongu">eval_floatoflongu</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">a</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.floatoflongu">Val.floatoflongu</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> (<span class="id"><a href="SplitLong.html#floatoflongu">floatoflongu</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span>) <span class="id"><a href="SplitLongproof.html#v">v</a></span> /\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span> <span class="id"><a href="SplitLongproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2316')">Proof.</div>
<div class="proofscript" id="proof2316">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="SplitLong.html#floatoflongu">floatoflongu</a></span>. <span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SplitLongproof.html#eval_helper_1">eval_helper_1</a></span>; <span class="tactic">eauto</span>. <span class="id">DeclHelper</span>. <span class="id">UseHelper</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_longofsingle">eval_longofsingle</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">a</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.longofsingle">Val.longofsingle</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> (<span class="id"><a href="SplitLong.html#longofsingle">longofsingle</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span>) <span class="id"><a href="SplitLongproof.html#v">v</a></span> /\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span> <span class="id"><a href="SplitLongproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2317')">Proof.</div>
<div class="proofscript" id="proof2317">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="SplitLong.html#longofsingle">longofsingle</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Floats.html#Float32.to_long">Float32.to_long</a></span> <span class="id">f</span>) <span class="kwd">as</span> [<span class="id">n</span>|] <span class="id">eqn</span>:<span class="id">EQ</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SelectOpproof.html#eval_floatofsingle">eval_floatofsingle</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">v</span> &amp; <span class="id">A</span> &amp; <span class="id">B</span>). <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">B</span>. <span class="id">inv</span> <span class="id">B</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Floats.html#Float32.to_long_double">Float32.to_long_double</a></span> <span class="kwd">in</span> <span class="id">EQ</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SplitLongproof.html#eval_longoffloat">eval_longoffloat</a></span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="Floats.html#Float.of_single">Float.of_single</a></span> <span class="id">f</span>) <span class="kwd">with</span> (<span class="id"><a href="Floats.html#Float32.to_double">Float32.to_double</a></span> <span class="id">f</span>); <span class="tactic">rewrite</span> <span class="id">EQ</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_longuofsingle">eval_longuofsingle</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">a</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.longuofsingle">Val.longuofsingle</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> (<span class="id"><a href="SplitLong.html#longuofsingle">longuofsingle</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span>) <span class="id"><a href="SplitLongproof.html#v">v</a></span> /\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span> <span class="id"><a href="SplitLongproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2318')">Proof.</div>
<div class="proofscript" id="proof2318">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="SplitLong.html#longuofsingle">longuofsingle</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Floats.html#Float32.to_longu">Float32.to_longu</a></span> <span class="id">f</span>) <span class="kwd">as</span> [<span class="id">n</span>|] <span class="id">eqn</span>:<span class="id">EQ</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SelectOpproof.html#eval_floatofsingle">eval_floatofsingle</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">v</span> &amp; <span class="id">A</span> &amp; <span class="id">B</span>). <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">B</span>. <span class="id">inv</span> <span class="id">B</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Floats.html#Float32.to_longu_double">Float32.to_longu_double</a></span> <span class="kwd">in</span> <span class="id">EQ</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SplitLongproof.html#eval_longuoffloat">eval_longuoffloat</a></span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="Floats.html#Float.of_single">Float.of_single</a></span> <span class="id">f</span>) <span class="kwd">with</span> (<span class="id"><a href="Floats.html#Float32.to_double">Float32.to_double</a></span> <span class="id">f</span>); <span class="tactic">rewrite</span> <span class="id">EQ</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_singleoflong">eval_singleoflong</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">a</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.singleoflong">Val.singleoflong</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> (<span class="id"><a href="SplitLong.html#singleoflong">singleoflong</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span>) <span class="id"><a href="SplitLongproof.html#v">v</a></span> /\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span> <span class="id"><a href="SplitLongproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2319')">Proof.</div>
<div class="proofscript" id="proof2319">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="SplitLong.html#singleoflong">singleoflong</a></span>. <span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SplitLongproof.html#eval_helper_1">eval_helper_1</a></span>; <span class="tactic">eauto</span>. <span class="id">DeclHelper</span>. <span class="id">UseHelper</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_singleoflongu">eval_singleoflongu</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">a</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.singleoflongu">Val.singleoflongu</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> (<span class="id"><a href="SplitLong.html#singleoflongu">singleoflongu</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span>) <span class="id"><a href="SplitLongproof.html#v">v</a></span> /\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span> <span class="id"><a href="SplitLongproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2320')">Proof.</div>
<div class="proofscript" id="proof2320">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="SplitLong.html#singleoflongu">singleoflongu</a></span>. <span class="id">econstructor</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SplitLongproof.html#eval_helper_1">eval_helper_1</a></span>; <span class="tactic">eauto</span>. <span class="id">DeclHelper</span>. <span class="id">UseHelper</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_andl">eval_andl</a></span>: <span class="id"><a href="SplitLongproof.html#binary_constructor_sound">binary_constructor_sound</a></span> <span class="id"><a href="SplitLong.html#andl">andl</a></span> <span class="id"><a href="Values.html#Val.andl">Val.andl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2321')">Proof.</div>
<div class="proofscript" id="proof2321">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="SplitLong.html#andl">andl</a></span>. <span class="tactic">apply</span> <span class="id"><a href="SplitLongproof.html#eval_splitlong2">eval_splitlong2</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SelectOpproof.html#eval_and">eval_and</a></span>. <span class="id">eexact</span> <span class="id">H1</span>. <span class="id">eexact</span> <span class="id">H3</span>. <span class="tactic">intros</span> [<span class="id">va</span> [<span class="id">A</span> <span class="id">B</span>]].<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SelectOpproof.html#eval_and">eval_and</a></span>. <span class="id">eexact</span> <span class="id">H2</span>. <span class="id">eexact</span> <span class="id">H4</span>. <span class="tactic">intros</span> [<span class="id">vb</span> [<span class="id">C</span> <span class="id">D</span>]].<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="Values.html#Val.longofwords">Val.longofwords</a></span> <span class="id">va</span> <span class="id">vb</span>); <span class="tactic">split</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">subst</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">B</span>; <span class="id">inv</span> <span class="id">B</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">D</span>; <span class="id">inv</span> <span class="id">D</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">f_equal</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.decompose_and">Int64.decompose_and</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> <span class="id">y</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_orl">eval_orl</a></span>: <span class="id"><a href="SplitLongproof.html#binary_constructor_sound">binary_constructor_sound</a></span> <span class="id"><a href="SplitLong.html#orl">orl</a></span> <span class="id"><a href="Values.html#Val.orl">Val.orl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2322')">Proof.</div>
<div class="proofscript" id="proof2322">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="SplitLong.html#orl">orl</a></span>. <span class="tactic">apply</span> <span class="id"><a href="SplitLongproof.html#eval_splitlong2">eval_splitlong2</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SelectOpproof.html#eval_or">eval_or</a></span>. <span class="id">eexact</span> <span class="id">H1</span>. <span class="id">eexact</span> <span class="id">H3</span>. <span class="tactic">intros</span> [<span class="id">va</span> [<span class="id">A</span> <span class="id">B</span>]].<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SelectOpproof.html#eval_or">eval_or</a></span>. <span class="id">eexact</span> <span class="id">H2</span>. <span class="id">eexact</span> <span class="id">H4</span>. <span class="tactic">intros</span> [<span class="id">vb</span> [<span class="id">C</span> <span class="id">D</span>]].<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="Values.html#Val.longofwords">Val.longofwords</a></span> <span class="id">va</span> <span class="id">vb</span>); <span class="tactic">split</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">subst</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">B</span>; <span class="id">inv</span> <span class="id">B</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">D</span>; <span class="id">inv</span> <span class="id">D</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">f_equal</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.decompose_or">Int64.decompose_or</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> <span class="id">y</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_xorl">eval_xorl</a></span>: <span class="id"><a href="SplitLongproof.html#binary_constructor_sound">binary_constructor_sound</a></span> <span class="id"><a href="SplitLong.html#xorl">xorl</a></span> <span class="id"><a href="Values.html#Val.xorl">Val.xorl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2323')">Proof.</div>
<div class="proofscript" id="proof2323">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="SplitLong.html#xorl">xorl</a></span>. <span class="tactic">apply</span> <span class="id"><a href="SplitLongproof.html#eval_splitlong2">eval_splitlong2</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SelectOpproof.html#eval_xor">eval_xor</a></span>. <span class="id">eexact</span> <span class="id">H1</span>. <span class="id">eexact</span> <span class="id">H3</span>. <span class="tactic">intros</span> [<span class="id">va</span> [<span class="id">A</span> <span class="id">B</span>]].<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SelectOpproof.html#eval_xor">eval_xor</a></span>. <span class="id">eexact</span> <span class="id">H2</span>. <span class="id">eexact</span> <span class="id">H4</span>. <span class="tactic">intros</span> [<span class="id">vb</span> [<span class="id">C</span> <span class="id">D</span>]].<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="Values.html#Val.longofwords">Val.longofwords</a></span> <span class="id">va</span> <span class="id">vb</span>); <span class="tactic">split</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">subst</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">B</span>; <span class="id">inv</span> <span class="id">B</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">D</span>; <span class="id">inv</span> <span class="id">D</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">f_equal</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.decompose_xor">Int64.decompose_xor</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> <span class="id">y</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="is_intconst_sound">is_intconst_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">a</span> <span class="id">x</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="SplitLong.html#is_intconst">is_intconst</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SplitLongproof.html#n">n</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="SplitLongproof.html#x">x</a></span> = <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="SplitLongproof.html#n">n</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2324')">Proof.</div>
<div class="proofscript" id="proof2324">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SplitLong.html#is_intconst">is_intconst</a></span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">n</span>; <span class="tactic">intros</span> <span class="id">LC</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="tactic">destruct</span> <span class="id">o</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="tactic">destruct</span> <span class="id">e0</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">LC</span>. <span class="tactic">intros</span>. <span class="id">InvEval</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="eval_shift_imm">eval_shift_imm</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">P</span>: <span class="id"><a href="CminorSel.html#expr">expr</a></span> -&gt; <span class="kwd">Prop</span>) <span class="id">n</span> <span class="id">a0</span> <span class="id">a1</span> <span class="id">a2</span> <span class="id">a3</span>,<br/>
&nbsp;&nbsp;(<span class="id"><a href="SplitLongproof.html#n">n</a></span> = <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span> -&gt; <span class="id"><a href="SplitLongproof.html#P">P</a></span> <span class="id"><a href="SplitLongproof.html#a0">a0</a></span>) -&gt;<br/>
&nbsp;&nbsp;(0 &lt;= <span class="id"><a href="Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="SplitLongproof.html#n">n</a></span> &lt; <span class="id"><a href="Integers.html#Int.zwordsize">Int.zwordsize</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="SplitLongproof.html#n">n</a></span> <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span> <span class="id"><a href="SplitLongproof.html#n">n</a></span>) <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="SplitLongproof.html#n">n</a></span> <span class="id">Int64.iwordsize</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="SplitLongproof.html#P">P</a></span> <span class="id"><a href="SplitLongproof.html#a1">a1</a></span>) -&gt;<br/>
&nbsp;&nbsp;(<span class="id"><a href="Integers.html#Int.zwordsize">Int.zwordsize</a></span> &lt;= <span class="id"><a href="Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="SplitLongproof.html#n">n</a></span> &lt; <span class="id"><a href="Integers.html#Int64.zwordsize">Int64.zwordsize</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="SplitLongproof.html#n">n</a></span> <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span>) <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="SplitLongproof.html#P">P</a></span> <span class="id"><a href="SplitLongproof.html#a2">a2</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="SplitLongproof.html#P">P</a></span> <span class="id"><a href="SplitLongproof.html#a3">a3</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="SplitLongproof.html#P">P</a></span> (<span class="kwd">if</span> <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="SplitLongproof.html#n">n</a></span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span> <span class="kwd">then</span> <span class="id"><a href="SplitLongproof.html#a0">a0</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="kwd">if</span> <span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="SplitLongproof.html#n">n</a></span> <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span> <span class="kwd">then</span> <span class="id"><a href="SplitLongproof.html#a1">a1</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="kwd">if</span> <span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="SplitLongproof.html#n">n</a></span> <span class="id">Int64.iwordsize</span>' <span class="kwd">then</span> <span class="id"><a href="SplitLongproof.html#a2">a2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="SplitLongproof.html#a3">a3</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2325')">Proof.</div>
<div class="proofscript" id="proof2325">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">a3</span>; <span class="tactic">intros</span> <span class="id">A0</span> <span class="id">A1</span> <span class="id">A2</span> <span class="id">A3</span>.<br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="Integers.html#Int.eq_spec">Int.eq_spec</a></span> <span class="id">n</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">A0</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">NZ</span>: <span class="id"><a href="Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">n</span> &lt;&gt; 0).<br/>
&nbsp;&nbsp;{ <span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="tactic">elim</span> <span class="id">H</span>. <span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="Integers.html#Int.repr_unsigned">Int.repr_unsigned</a></span> <span class="id">n</span>). <span class="tactic">rewrite</span> <span class="id">H0</span>. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n</span> <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span>) <span class="id">eqn</span>:<span class="id">LT</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Integers.html#Int.ltu_iwordsize_inv">Int.ltu_iwordsize_inv</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">RANGE</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (0 &lt;= <span class="id"><a href="Integers.html#Int.zwordsize">Int.zwordsize</a></span> - <span class="id"><a href="Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">n</span> &lt; <span class="id"><a href="Integers.html#Int.zwordsize">Int.zwordsize</a></span>) <span class="tactic">by</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">A1</span>. <span class="tactic">auto</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span>, <span class="id"><a href="Integers.html#Int.sub">Int.sub</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.unsigned_repr_wordsize">Int.unsigned_repr_wordsize</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Coqlib.html#zlt_true">zlt_true</a></span>; <span class="tactic">auto</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id"><a href="Integers.html#Int.wordsize_max_unsigned">Int.wordsize_max_unsigned</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Coqlib.html#zlt_true">zlt_true</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">Int64.iwordsize</span>') <span class="kwd">with</span> 64.<br/>
&nbsp;&nbsp;<span class="id">change</span> <span class="id"><a href="Integers.html#Int.zwordsize">Int.zwordsize</a></span> <span class="kwd">with</span> 32 <span class="kwd">in</span> <span class="id">RANGE</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n</span> <span class="id">Int64.iwordsize</span>') <span class="id">eqn</span>:<span class="id">LT</span>'.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Integers.html#Int.ltu_inv">Int.ltu_inv</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">Int64.iwordsize</span>') <span class="kwd">with</span> (<span class="id"><a href="Integers.html#Int.zwordsize">Int.zwordsize</a></span> * 2).<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">RANGE</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Integers.html#Int.zwordsize">Int.zwordsize</a></span> &lt;= <span class="id"><a href="Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="kwd">in</span> <span class="id">LT</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.unsigned_repr_wordsize">Int.unsigned_repr_wordsize</a></span> <span class="kwd">in</span> <span class="id">LT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#zlt">zlt</a></span> (<span class="id"><a href="Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">n</span>) <span class="id"><a href="Integers.html#Int.zwordsize">Int.zwordsize</a></span>). <span class="tactic">discriminate</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">A2</span>. <span class="tactic">tauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span>, <span class="id"><a href="Integers.html#Int.sub">Int.sub</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.unsigned_repr_wordsize">Int.unsigned_repr_wordsize</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Coqlib.html#zlt_true">zlt_true</a></span>; <span class="tactic">auto</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id"><a href="Integers.html#Int.wordsize_max_unsigned">Int.wordsize_max_unsigned</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_shllimm">eval_shllimm</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="SplitLongproof.html#unary_constructor_sound">unary_constructor_sound</a></span> (<span class="kwd">fun</span> <span class="id">e</span> =&gt; <span class="id"><a href="SplitLong.html#shllimm">shllimm</a></span> <span class="id"><a href="SplitLongproof.html#e">e</a></span> <span class="id"><a href="SplitLongproof.html#n">n</a></span>) (<span class="kwd">fun</span> <span class="id">v</span> =&gt; <span class="id"><a href="Values.html#Val.shll">Val.shll</a></span> <span class="id"><a href="SplitLongproof.html#v">v</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="SplitLongproof.html#n">n</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2326')">Proof.</div>
<div class="proofscript" id="proof2326">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SplitLong.html#shllimm">shllimm</a></span>; <span class="tactic">red</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="SplitLongproof.html#eval_shift_imm">eval_shift_imm</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;n&nbsp;=&nbsp;0&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">n</span>. <span class="id">exists</span> <span class="id">x</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">change</span> (<span class="id">Int64.shl</span>' <span class="id">i</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>) <span class="kwd">with</span> (<span class="id"><a href="Integers.html#Int64.shl">Int64.shl</a></span> <span class="id">i</span> <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.shl_zero">Int64.shl_zero</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;0&nbsp;&lt;&nbsp;n&nbsp;&lt;&nbsp;32&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="SplitLongproof.html#eval_splitlong">eval_splitlong</a></span> <span class="kwd">with</span> (<span class="id">sem</span> := <span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="Values.html#Val.shll">Val.shll</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>)); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SelectOpproof.html#eval_shlimm">eval_shlimm</a></span>. <span class="id">eexact</span> <span class="id">H4</span>. <span class="id">instantiate</span> (1 := <span class="id">n</span>). <span class="tactic">intros</span> [<span class="id">v1</span> [<span class="id">A1</span> <span class="id">B1</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SelectOpproof.html#eval_shlimm">eval_shlimm</a></span>. <span class="id">eexact</span> <span class="id">H5</span>. <span class="id">instantiate</span> (1 := <span class="id">n</span>). <span class="tactic">intros</span> [<span class="id">v2</span> [<span class="id">A2</span> <span class="id">B2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SelectOpproof.html#eval_shruimm">eval_shruimm</a></span>. <span class="id">eexact</span> <span class="id">H5</span>. <span class="id">instantiate</span> (1 := <span class="id"><a href="Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span> <span class="id">n</span>). <span class="tactic">intros</span> [<span class="id">v3</span> [<span class="id">A3</span> <span class="id">B3</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SelectOpproof.html#eval_or">eval_or</a></span>. <span class="id">eexact</span> <span class="id">A1</span>. <span class="id">eexact</span> <span class="id">A3</span>. <span class="tactic">intros</span> [<span class="id">v4</span> [<span class="id">A4</span> <span class="id">B4</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">subst</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id">H2</span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">B1</span>; <span class="id">inv</span> <span class="id">B2</span>; <span class="id">inv</span> <span class="id">B3</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">B4</span>. <span class="id">inv</span> <span class="id">B4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.decompose_shl_1">Int64.decompose_shl_1</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;32&nbsp;&lt;=&nbsp;n&nbsp;&lt;&nbsp;64&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SplitLongproof.html#eval_lowlong">eval_lowlong</a></span>. <span class="id">eexact</span> <span class="id">H</span>. <span class="tactic">intros</span> [<span class="id">v1</span> [<span class="id">A1</span> <span class="id">B1</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SelectOpproof.html#eval_shlimm">eval_shlimm</a></span>. <span class="id">eexact</span> <span class="id">A1</span>. <span class="id">instantiate</span> (1 := <span class="id"><a href="Integers.html#Int.sub">Int.sub</a></span> <span class="id">n</span> <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span>). <span class="tactic">intros</span> [<span class="id">v2</span> [<span class="id">A2</span> <span class="id">B2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n</span> <span class="id">Int64.iwordsize</span>'); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">B1</span>; <span class="id">inv</span> <span class="id">B1</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">B2</span>. <span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">B2</span>. <span class="id">inv</span> <span class="id">B2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="id">erewrite</span> &lt;- <span class="id"><a href="Integers.html#Int64.decompose_shl_2">Int64.decompose_shl_2</a></span>. <span class="id">instantiate</span> (1 := <span class="id"><a href="Integers.html#Int64.hiword">Int64.hiword</a></span> <span class="id">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.ofwords_recompose">Int64.ofwords_recompose</a></span>. <span class="tactic">auto</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;n&nbsp;&gt;=&nbsp;64&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="SplitLongproof.html#eval_helper_2">eval_helper_2</a></span>; <span class="tactic">eauto</span>. <span class="id">EvalOp</span>. <span class="id">DeclHelper</span>. <span class="id">UseHelper</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_shll">eval_shll</a></span>: <span class="id"><a href="SplitLongproof.html#binary_constructor_sound">binary_constructor_sound</a></span> <span class="id"><a href="SplitLong.html#shll">shll</a></span> <span class="id"><a href="Values.html#Val.shll">Val.shll</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2327')">Proof.</div>
<div class="proofscript" id="proof2327">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SplitLong.html#shll">shll</a></span>; <span class="tactic">red</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="SplitLong.html#is_intconst">is_intconst</a></span> <span class="id">b</span>) <span class="kwd">as</span> [<span class="id">n</span>|] <span class="id">eqn</span>:<span class="id">IC</span>.<br/>
- <span class="comment">(*&nbsp;Immediate&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SplitLongproof.html#is_intconst_sound">is_intconst_sound</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">EQ</span>; <span class="tactic">subst</span> <span class="id">y</span>; <span class="tactic">clear</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SplitLongproof.html#eval_shllimm">eval_shllimm</a></span>; <span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;General&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="SplitLongproof.html#eval_helper_2">eval_helper_2</a></span>; <span class="tactic">eauto</span>. <span class="id">DeclHelper</span>. <span class="id">UseHelper</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_shrluimm">eval_shrluimm</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="SplitLongproof.html#unary_constructor_sound">unary_constructor_sound</a></span> (<span class="kwd">fun</span> <span class="id">e</span> =&gt; <span class="id"><a href="SplitLong.html#shrluimm">shrluimm</a></span> <span class="id"><a href="SplitLongproof.html#e">e</a></span> <span class="id"><a href="SplitLongproof.html#n">n</a></span>) (<span class="kwd">fun</span> <span class="id">v</span> =&gt; <span class="id"><a href="Values.html#Val.shrlu">Val.shrlu</a></span> <span class="id"><a href="SplitLongproof.html#v">v</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="SplitLongproof.html#n">n</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2328')">Proof.</div>
<div class="proofscript" id="proof2328">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SplitLong.html#shrluimm">shrluimm</a></span>; <span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="SplitLongproof.html#eval_shift_imm">eval_shift_imm</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;n&nbsp;=&nbsp;0&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">n</span>. <span class="id">exists</span> <span class="id">x</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">change</span> (<span class="id">Int64.shru</span>' <span class="id">i</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>) <span class="kwd">with</span> (<span class="id"><a href="Integers.html#Int64.shru">Int64.shru</a></span> <span class="id">i</span> <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.shru_zero">Int64.shru_zero</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;0&nbsp;&lt;&nbsp;n&nbsp;&lt;&nbsp;32&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="SplitLongproof.html#eval_splitlong">eval_splitlong</a></span> <span class="kwd">with</span> (<span class="id">sem</span> := <span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="Values.html#Val.shrlu">Val.shrlu</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>)); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SelectOpproof.html#eval_shruimm">eval_shruimm</a></span>. <span class="id">eexact</span> <span class="id">H5</span>. <span class="id">instantiate</span> (1 := <span class="id">n</span>). <span class="tactic">intros</span> [<span class="id">v1</span> [<span class="id">A1</span> <span class="id">B1</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SelectOpproof.html#eval_shruimm">eval_shruimm</a></span>. <span class="id">eexact</span> <span class="id">H4</span>. <span class="id">instantiate</span> (1 := <span class="id">n</span>). <span class="tactic">intros</span> [<span class="id">v2</span> [<span class="id">A2</span> <span class="id">B2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SelectOpproof.html#eval_shlimm">eval_shlimm</a></span>. <span class="id">eexact</span> <span class="id">H4</span>. <span class="id">instantiate</span> (1 := <span class="id"><a href="Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span> <span class="id">n</span>). <span class="tactic">intros</span> [<span class="id">v3</span> [<span class="id">A3</span> <span class="id">B3</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SelectOpproof.html#eval_or">eval_or</a></span>. <span class="id">eexact</span> <span class="id">A1</span>. <span class="id">eexact</span> <span class="id">A3</span>. <span class="tactic">intros</span> [<span class="id">v4</span> [<span class="id">A4</span> <span class="id">B4</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">subst</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id">H2</span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">B1</span>; <span class="id">inv</span> <span class="id">B2</span>; <span class="id">inv</span> <span class="id">B3</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">B4</span>. <span class="id">inv</span> <span class="id">B4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.decompose_shru_1">Int64.decompose_shru_1</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;32&nbsp;&lt;=&nbsp;n&nbsp;&lt;&nbsp;64&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SplitLongproof.html#eval_highlong">eval_highlong</a></span>. <span class="id">eexact</span> <span class="id">H</span>. <span class="tactic">intros</span> [<span class="id">v1</span> [<span class="id">A1</span> <span class="id">B1</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SelectOpproof.html#eval_shruimm">eval_shruimm</a></span>. <span class="id">eexact</span> <span class="id">A1</span>. <span class="id">instantiate</span> (1 := <span class="id"><a href="Integers.html#Int.sub">Int.sub</a></span> <span class="id">n</span> <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span>). <span class="tactic">intros</span> [<span class="id">v2</span> [<span class="id">A2</span> <span class="id">B2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n</span> <span class="id">Int64.iwordsize</span>'); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">B1</span>; <span class="id">inv</span> <span class="id">B1</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">B2</span>. <span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">B2</span>. <span class="id">inv</span> <span class="id">B2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="id">erewrite</span> &lt;- <span class="id"><a href="Integers.html#Int64.decompose_shru_2">Int64.decompose_shru_2</a></span>. <span class="id">instantiate</span> (1 := <span class="id"><a href="Integers.html#Int64.loword">Int64.loword</a></span> <span class="id">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.ofwords_recompose">Int64.ofwords_recompose</a></span>. <span class="tactic">auto</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;n&nbsp;&gt;=&nbsp;64&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="SplitLongproof.html#eval_helper_2">eval_helper_2</a></span>; <span class="tactic">eauto</span>. <span class="id">EvalOp</span>. <span class="id">DeclHelper</span>. <span class="id">UseHelper</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_shrlu">eval_shrlu</a></span>: <span class="id"><a href="SplitLongproof.html#binary_constructor_sound">binary_constructor_sound</a></span> <span class="id"><a href="SplitLong.html#shrlu">shrlu</a></span> <span class="id"><a href="Values.html#Val.shrlu">Val.shrlu</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2329')">Proof.</div>
<div class="proofscript" id="proof2329">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SplitLong.html#shrlu">shrlu</a></span>; <span class="tactic">red</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="SplitLong.html#is_intconst">is_intconst</a></span> <span class="id">b</span>) <span class="kwd">as</span> [<span class="id">n</span>|] <span class="id">eqn</span>:<span class="id">IC</span>.<br/>
- <span class="comment">(*&nbsp;Immediate&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SplitLongproof.html#is_intconst_sound">is_intconst_sound</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">EQ</span>; <span class="tactic">subst</span> <span class="id">y</span>; <span class="tactic">clear</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SplitLongproof.html#eval_shrluimm">eval_shrluimm</a></span>; <span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;General&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="SplitLongproof.html#eval_helper_2">eval_helper_2</a></span>; <span class="tactic">eauto</span>. <span class="id">DeclHelper</span>. <span class="id">UseHelper</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_shrlimm">eval_shrlimm</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="SplitLongproof.html#unary_constructor_sound">unary_constructor_sound</a></span> (<span class="kwd">fun</span> <span class="id">e</span> =&gt; <span class="id"><a href="SplitLong.html#shrlimm">shrlimm</a></span> <span class="id"><a href="SplitLongproof.html#e">e</a></span> <span class="id"><a href="SplitLongproof.html#n">n</a></span>) (<span class="kwd">fun</span> <span class="id">v</span> =&gt; <span class="id"><a href="Values.html#Val.shrl">Val.shrl</a></span> <span class="id"><a href="SplitLongproof.html#v">v</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="SplitLongproof.html#n">n</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2330')">Proof.</div>
<div class="proofscript" id="proof2330">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SplitLong.html#shrlimm">shrlimm</a></span>; <span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="SplitLongproof.html#eval_shift_imm">eval_shift_imm</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;n&nbsp;=&nbsp;0&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">n</span>. <span class="id">exists</span> <span class="id">x</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">change</span> (<span class="id">Int64.shr</span>' <span class="id">i</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>) <span class="kwd">with</span> (<span class="id"><a href="Integers.html#Int64.shr">Int64.shr</a></span> <span class="id">i</span> <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.shr_zero">Int64.shr_zero</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;0&nbsp;&lt;&nbsp;n&nbsp;&lt;&nbsp;32&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="SplitLongproof.html#eval_splitlong">eval_splitlong</a></span> <span class="kwd">with</span> (<span class="id">sem</span> := <span class="kwd">fun</span> <span class="id">x</span> =&gt; <span class="id"><a href="Values.html#Val.shrl">Val.shrl</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>)); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SelectOpproof.html#eval_shruimm">eval_shruimm</a></span>. <span class="id">eexact</span> <span class="id">H5</span>. <span class="id">instantiate</span> (1 := <span class="id">n</span>). <span class="tactic">intros</span> [<span class="id">v1</span> [<span class="id">A1</span> <span class="id">B1</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SelectOpproof.html#eval_shrimm">eval_shrimm</a></span>. <span class="id">eexact</span> <span class="id">H4</span>. <span class="id">instantiate</span> (1 := <span class="id">n</span>). <span class="tactic">intros</span> [<span class="id">v2</span> [<span class="id">A2</span> <span class="id">B2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SelectOpproof.html#eval_shlimm">eval_shlimm</a></span>. <span class="id">eexact</span> <span class="id">H4</span>. <span class="id">instantiate</span> (1 := <span class="id"><a href="Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span> <span class="id">n</span>). <span class="tactic">intros</span> [<span class="id">v3</span> [<span class="id">A3</span> <span class="id">B3</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SelectOpproof.html#eval_or">eval_or</a></span>. <span class="id">eexact</span> <span class="id">A1</span>. <span class="id">eexact</span> <span class="id">A3</span>. <span class="tactic">intros</span> [<span class="id">v4</span> [<span class="id">A4</span> <span class="id">B4</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">subst</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id">H2</span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">B1</span>; <span class="id">inv</span> <span class="id">B2</span>; <span class="id">inv</span> <span class="id">B3</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">B4</span>. <span class="id">inv</span> <span class="id">B4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.decompose_shr_1">Int64.decompose_shr_1</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;32&nbsp;&lt;=&nbsp;n&nbsp;&lt;&nbsp;64&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SplitLongproof.html#eval_highlong">eval_highlong</a></span>. <span class="id">eexact</span> <span class="id">H</span>. <span class="tactic">intros</span> [<span class="id">v1</span> [<span class="id">A1</span> <span class="id">B1</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> (<span class="id">v1</span> :: <span class="id">le</span>) (<span class="id"><a href="CminorSel.html#Eletvar">Eletvar</a></span> 0) <span class="id">v1</span>) <span class="tactic">by</span> <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SelectOpproof.html#eval_shrimm">eval_shrimm</a></span>. <span class="id">eexact</span> <span class="id">H2</span>. <span class="id">instantiate</span> (1 := <span class="id"><a href="Integers.html#Int.sub">Int.sub</a></span> <span class="id">n</span> <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span>). <span class="tactic">intros</span> [<span class="id">v2</span> [<span class="id">A2</span> <span class="id">B2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SelectOpproof.html#eval_shrimm">eval_shrimm</a></span>. <span class="id">eexact</span> <span class="id">H2</span>. <span class="id">instantiate</span> (1 := <span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> 31). <span class="tactic">intros</span> [<span class="id">v3</span> [<span class="id">A3</span> <span class="id">B3</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>. <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">n</span> <span class="id">Int64.iwordsize</span>'); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">B1</span>; <span class="id">inv</span> <span class="id">B1</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">B2</span>. <span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">B2</span>. <span class="id">inv</span> <span class="id">B2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">B3</span>. <span class="id">inv</span> <span class="id">B3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> 31) <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span>) <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- <span class="id"><a href="Integers.html#Int64.decompose_shr_2">Int64.decompose_shr_2</a></span>. <span class="id">instantiate</span> (1 := <span class="id"><a href="Integers.html#Int64.loword">Int64.loword</a></span> <span class="id">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.ofwords_recompose">Int64.ofwords_recompose</a></span>. <span class="tactic">auto</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;n&nbsp;&gt;=&nbsp;64&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="SplitLongproof.html#eval_helper_2">eval_helper_2</a></span>; <span class="tactic">eauto</span>. <span class="id">EvalOp</span>. <span class="id">DeclHelper</span>. <span class="id">UseHelper</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_shrl">eval_shrl</a></span>: <span class="id"><a href="SplitLongproof.html#binary_constructor_sound">binary_constructor_sound</a></span> <span class="id"><a href="SplitLong.html#shrl">shrl</a></span> <span class="id"><a href="Values.html#Val.shrl">Val.shrl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2331')">Proof.</div>
<div class="proofscript" id="proof2331">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SplitLong.html#shrl">shrl</a></span>; <span class="tactic">red</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="SplitLong.html#is_intconst">is_intconst</a></span> <span class="id">b</span>) <span class="kwd">as</span> [<span class="id">n</span>|] <span class="id">eqn</span>:<span class="id">IC</span>.<br/>
- <span class="comment">(*&nbsp;Immediate&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SplitLongproof.html#is_intconst_sound">is_intconst_sound</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">EQ</span>; <span class="tactic">subst</span> <span class="id">y</span>; <span class="tactic">clear</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SplitLongproof.html#eval_shrlimm">eval_shrlimm</a></span>; <span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;General&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="SplitLongproof.html#eval_helper_2">eval_helper_2</a></span>; <span class="tactic">eauto</span>. <span class="id">DeclHelper</span>. <span class="id">UseHelper</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_addl">eval_addl</a></span>: <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt; <span class="id"><a href="SplitLongproof.html#binary_constructor_sound">binary_constructor_sound</a></span> <span class="id"><a href="SplitLong.html#addl">addl</a></span> <span class="id"><a href="Values.html#Val.addl">Val.addl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2332')">Proof.</div>
<div class="proofscript" id="proof2332">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SplitLong.html#addl">addl</a></span>; <span class="tactic">red</span>; <span class="tactic">intros</span>. <br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">default</span> := <span class="id"><a href="CminorSel.html#Ebuiltin">Ebuiltin</a></span> (<span class="id"><a href="AST.html#EF_builtin">EF_builtin</a></span> "<span class="id">__builtin_addl</span>" <span class="id"><a href="SplitLong.html#sig_ll_l">sig_ll_l</a></span>) (<span class="id">a</span> ::: <span class="id">b</span> ::: <span class="id"><a href="CminorSel.html#Enil">Enil</a></span>)).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">DEFAULT</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id">le</span> <span class="id">default</span> <span class="id"><a href="SplitLongproof.html#v">v</a></span> /\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="Values.html#Val.addl">Val.addl</a></span> <span class="id">x</span> <span class="id">y</span>) <span class="id"><a href="SplitLongproof.html#v">v</a></span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="SplitLongproof.html#eval_builtin_2">eval_builtin_2</a></span>; <span class="tactic">eauto</span>. <span class="id">UseHelper</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="SplitLong.html#is_longconst">is_longconst</a></span> <span class="id">a</span>) <span class="kwd">as</span> [<span class="id">p</span>|] <span class="id">eqn</span>:<span class="id">LC1</span>;<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="SplitLong.html#is_longconst">is_longconst</a></span> <span class="id">b</span>) <span class="kwd">as</span> [<span class="id">q</span>|] <span class="id">eqn</span>:<span class="id">LC2</span>.<br/>
- <span class="id">exploit</span> (<span class="id"><a href="SplitLongproof.html#is_longconst_sound">is_longconst_sound</a></span> <span class="id">le</span> <span class="id">a</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">EQ</span>; <span class="tactic">subst</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="SplitLongproof.html#is_longconst_sound">is_longconst_sound</a></span> <span class="id">le</span> <span class="id">b</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">EQ</span>; <span class="tactic">subst</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>. <span class="tactic">apply</span> <span class="id"><a href="SplitLongproof.html#eval_longconst">eval_longconst</a></span>. <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
- <span class="id">predSpec</span> <span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id"><a href="Integers.html#Int64.eq_spec">Int64.eq_spec</a></span> <span class="id">p</span> <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">p</span>. <span class="id">exploit</span> (<span class="id"><a href="SplitLongproof.html#is_longconst_sound">is_longconst_sound</a></span> <span class="id">le</span> <span class="id">a</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">EQ</span>; <span class="tactic">subst</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">y</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.addl">Val.addl</a></span>; <span class="tactic">rewrite</span> <span class="id">H</span>; <span class="tactic">destruct</span> <span class="id">y</span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.add_zero_l">Int64.add_zero_l</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="id">predSpec</span> <span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id"><a href="Integers.html#Int64.eq_spec">Int64.eq_spec</a></span> <span class="id">q</span> <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">q</span>. <span class="id">exploit</span> (<span class="id"><a href="SplitLongproof.html#is_longconst_sound">is_longconst_sound</a></span> <span class="id">le</span> <span class="id">b</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">EQ</span>; <span class="tactic">subst</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">x</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.addl">Val.addl</a></span>; <span class="tactic">rewrite</span> <span class="id">H</span>; <span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.add_zero">Int64.add_zero</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_subl">eval_subl</a></span>: <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt; <span class="id"><a href="SplitLongproof.html#binary_constructor_sound">binary_constructor_sound</a></span> <span class="id"><a href="SplitLong.html#subl">subl</a></span> <span class="id"><a href="Values.html#Val.subl">Val.subl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2333')">Proof.</div>
<div class="proofscript" id="proof2333">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SplitLong.html#subl">subl</a></span>; <span class="tactic">red</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">default</span> := <span class="id"><a href="CminorSel.html#Ebuiltin">Ebuiltin</a></span> (<span class="id"><a href="AST.html#EF_builtin">EF_builtin</a></span> "<span class="id">__builtin_subl</span>" <span class="id"><a href="SplitLong.html#sig_ll_l">sig_ll_l</a></span>) (<span class="id">a</span> ::: <span class="id">b</span> ::: <span class="id"><a href="CminorSel.html#Enil">Enil</a></span>)).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">DEFAULT</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id">le</span> <span class="id">default</span> <span class="id"><a href="SplitLongproof.html#v">v</a></span> /\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="Values.html#Val.subl">Val.subl</a></span> <span class="id">x</span> <span class="id">y</span>) <span class="id"><a href="SplitLongproof.html#v">v</a></span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="SplitLongproof.html#eval_builtin_2">eval_builtin_2</a></span>; <span class="tactic">eauto</span>. <span class="id">UseHelper</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="SplitLong.html#is_longconst">is_longconst</a></span> <span class="id">a</span>) <span class="kwd">as</span> [<span class="id">p</span>|] <span class="id">eqn</span>:<span class="id">LC1</span>;<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="SplitLong.html#is_longconst">is_longconst</a></span> <span class="id">b</span>) <span class="kwd">as</span> [<span class="id">q</span>|] <span class="id">eqn</span>:<span class="id">LC2</span>.<br/>
- <span class="id">exploit</span> (<span class="id"><a href="SplitLongproof.html#is_longconst_sound">is_longconst_sound</a></span> <span class="id">le</span> <span class="id">a</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">EQ</span>; <span class="tactic">subst</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="SplitLongproof.html#is_longconst_sound">is_longconst_sound</a></span> <span class="id">le</span> <span class="id">b</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">EQ</span>; <span class="tactic">subst</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>. <span class="tactic">apply</span> <span class="id"><a href="SplitLongproof.html#eval_longconst">eval_longconst</a></span>. <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
- <span class="id">predSpec</span> <span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id"><a href="Integers.html#Int64.eq_spec">Int64.eq_spec</a></span> <span class="id">p</span> <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="Values.html#Val.subl">Val.subl</a></span> <span class="id">x</span> <span class="id">y</span>) <span class="kwd">with</span> (<span class="id"><a href="Values.html#Val.negl">Val.negl</a></span> <span class="id">y</span>). <span class="tactic">eapply</span> <span class="id"><a href="SplitLongproof.html#eval_negl">eval_negl</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">p</span>. <span class="id">exploit</span> (<span class="id"><a href="SplitLongproof.html#is_longconst_sound">is_longconst_sound</a></span> <span class="id">le</span> <span class="id">a</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">EQ</span>; <span class="tactic">subst</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">y</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
- <span class="id">predSpec</span> <span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id"><a href="Integers.html#Int64.eq_spec">Int64.eq_spec</a></span> <span class="id">q</span> <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">q</span>. <span class="id">exploit</span> (<span class="id"><a href="SplitLongproof.html#is_longconst_sound">is_longconst_sound</a></span> <span class="id">le</span> <span class="id">b</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">EQ</span>; <span class="tactic">subst</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">x</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.subl">Val.subl</a></span>; <span class="tactic">rewrite</span> <span class="id">H</span>; <span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.sub_zero_l">Int64.sub_zero_l</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_mull_base">eval_mull_base</a></span>: <span class="id"><a href="SplitLongproof.html#binary_constructor_sound">binary_constructor_sound</a></span> <span class="id"><a href="SplitLong.html#mull_base">mull_base</a></span> <span class="id"><a href="Values.html#Val.mull">Val.mull</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2334')">Proof.</div>
<div class="proofscript" id="proof2334">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SplitLong.html#mull_base">mull_base</a></span>; <span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="SplitLongproof.html#eval_splitlong2">eval_splitlong2</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">p</span> := <span class="id">Val.mull</span>' <span class="id">x2</span> <span class="id">y2</span>). <span class="tactic">set</span> (<span class="id">le1</span> := <span class="id">p</span> :: <span class="id">le0</span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">E1</span>: <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id">le1</span> (<span class="id"><a href="CminorSel.html#Eop">Eop</a></span> <span class="id"><a href="Op.html#Olowlong">Olowlong</a></span> (<span class="id"><a href="CminorSel.html#Eletvar">Eletvar</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span> ::: <span class="id"><a href="CminorSel.html#Enil">Enil</a></span>)) (<span class="id"><a href="Values.html#Val.loword">Val.loword</a></span> <span class="id">p</span>)) <span class="tactic">by</span> <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">E2</span>: <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id">le1</span> (<span class="id"><a href="CminorSel.html#Eop">Eop</a></span> <span class="id"><a href="Op.html#Ohighlong">Ohighlong</a></span> (<span class="id"><a href="CminorSel.html#Eletvar">Eletvar</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span> ::: <span class="id"><a href="CminorSel.html#Enil">Enil</a></span>)) (<span class="id"><a href="Values.html#Val.hiword">Val.hiword</a></span> <span class="id">p</span>)) <span class="tactic">by</span> <span class="id">EvalOp</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SelectOpproof.html#eval_mul">eval_mul</a></span>. <span class="tactic">apply</span> <span class="id"><a href="CminorSel.html#eval_lift">eval_lift</a></span>. <span class="id">eexact</span> <span class="id">H2</span>. <span class="tactic">apply</span> <span class="id"><a href="CminorSel.html#eval_lift">eval_lift</a></span>. <span class="id">eexact</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;<span class="id">instantiate</span> (1 := <span class="id">p</span>). <span class="id">fold</span> <span class="id">le1</span>. <span class="tactic">intros</span> [<span class="id">v3</span> [<span class="id">E3</span> <span class="id">L3</span>]].<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SelectOpproof.html#eval_mul">eval_mul</a></span>. <span class="tactic">apply</span> <span class="id"><a href="CminorSel.html#eval_lift">eval_lift</a></span>. <span class="id">eexact</span> <span class="id">H1</span>. <span class="tactic">apply</span> <span class="id"><a href="CminorSel.html#eval_lift">eval_lift</a></span>. <span class="id">eexact</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;<span class="id">instantiate</span> (1 := <span class="id">p</span>). <span class="id">fold</span> <span class="id">le1</span>. <span class="tactic">intros</span> [<span class="id">v4</span> [<span class="id">E4</span> <span class="id">L4</span>]].<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SelectOpproof.html#eval_add">eval_add</a></span>. <span class="id">eexact</span> <span class="id">E2</span>. <span class="id">eexact</span> <span class="id">E3</span>. <span class="tactic">intros</span> [<span class="id">v5</span> [<span class="id">E5</span> <span class="id">L5</span>]].<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SelectOpproof.html#eval_add">eval_add</a></span>. <span class="id">eexact</span> <span class="id">E5</span>. <span class="id">eexact</span> <span class="id">E4</span>. <span class="tactic">intros</span> [<span class="id">v6</span> [<span class="id">E6</span> <span class="id">L6</span>]].<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="Values.html#Val.longofwords">Val.longofwords</a></span> <span class="id">v6</span> (<span class="id"><a href="Values.html#Val.loword">Val.loword</a></span> <span class="id">p</span>)); <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id">EvalOp</span>. <span class="tactic">eapply</span> <span class="id"><a href="SplitLongproof.html#eval_builtin_2">eval_builtin_2</a></span>; <span class="tactic">eauto</span>. <span class="id">UseHelper</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id">le1</span>, <span class="id">p</span> <span class="kwd">in</span> *; <span class="tactic">subst</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">L3</span>. <span class="id">inv</span> <span class="id">L4</span>. <span class="id">inv</span> <span class="id">L5</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">L6</span>. <span class="id">inv</span> <span class="id">L6</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">f_equal</span>. <span class="tactic">symmetry</span>. <span class="tactic">apply</span> <span class="id"><a href="Integers.html#Int64.decompose_mul">Int64.decompose_mul</a></span>.<br/>
- <span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">auto</span>; <span class="tactic">destruct</span> <span class="id">y</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_mullimm">eval_mullimm</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span>, <span class="id"><a href="SplitLongproof.html#unary_constructor_sound">unary_constructor_sound</a></span> (<span class="id"><a href="SplitLong.html#mullimm">mullimm</a></span> <span class="id"><a href="SplitLongproof.html#n">n</a></span>) (<span class="kwd">fun</span> <span class="id">v</span> =&gt; <span class="id"><a href="Values.html#Val.mull">Val.mull</a></span> <span class="id"><a href="SplitLongproof.html#v">v</a></span> (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id"><a href="SplitLongproof.html#n">n</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2335')">Proof.</div>
<div class="proofscript" id="proof2335">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SplitLong.html#mullimm">mullimm</a></span>; <span class="tactic">red</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id"><a href="Integers.html#Int64.eq_spec">Int64.eq_spec</a></span> <span class="id">n</span> <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">n</span>. <span class="id">econstructor</span>; <span class="tactic">split</span>. <span class="tactic">apply</span> <span class="id"><a href="SplitLongproof.html#eval_longconst">eval_longconst</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.mul_zero">Int64.mul_zero</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id"><a href="Integers.html#Int64.eq_spec">Int64.eq_spec</a></span> <span class="id">n</span> <span class="id"><a href="Integers.html#Int64.one">Int64.one</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">n</span>. <span class="id">exists</span> <span class="id">x</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.mul_one">Int64.mul_one</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">Int64.is_power2</span>' <span class="id">n</span>) <span class="kwd">as</span> [<span class="id">l</span>|] <span class="id">eqn</span>:<span class="id">P2</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SplitLongproof.html#eval_shllimm">eval_shllimm</a></span>. <span class="tactic">eauto</span>. <span class="id">instantiate</span> (1 := <span class="id">l</span>). <span class="tactic">intros</span> [<span class="id">v</span> [<span class="id">A</span> <span class="id">B</span>]].<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id">Int64.mul_pow2</span>' <span class="tactic">by</span> <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">B</span>. <span class="id">erewrite</span> <span class="id">Int64.is_power2</span>'<span class="id">_range</span> <span class="kwd">in</span> <span class="id">B</span> <span class="tactic">by</span> <span class="tactic">eauto</span>. <br/>
&nbsp;&nbsp;<span class="tactic">exact</span> <span class="id">B</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="SplitLongproof.html#eval_mull_base">eval_mull_base</a></span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="SplitLongproof.html#eval_longconst">eval_longconst</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_mull">eval_mull</a></span>: <span class="id"><a href="SplitLongproof.html#binary_constructor_sound">binary_constructor_sound</a></span> <span class="id"><a href="SplitLong.html#mull">mull</a></span> <span class="id"><a href="Values.html#Val.mull">Val.mull</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2336')">Proof.</div>
<div class="proofscript" id="proof2336">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SplitLong.html#mull">mull</a></span>; <span class="tactic">red</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="SplitLong.html#is_longconst">is_longconst</a></span> <span class="id">a</span>) <span class="kwd">as</span> [<span class="id">p</span>|] <span class="id">eqn</span>:<span class="id">LC1</span>;<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="SplitLong.html#is_longconst">is_longconst</a></span> <span class="id">b</span>) <span class="kwd">as</span> [<span class="id">q</span>|] <span class="id">eqn</span>:<span class="id">LC2</span>.<br/>
- <span class="id">exploit</span> (<span class="id"><a href="SplitLongproof.html#is_longconst_sound">is_longconst_sound</a></span> <span class="id">le</span> <span class="id">a</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">EQ</span>; <span class="tactic">subst</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="SplitLongproof.html#is_longconst_sound">is_longconst_sound</a></span> <span class="id">le</span> <span class="id">b</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">EQ</span>; <span class="tactic">subst</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>. <span class="tactic">apply</span> <span class="id"><a href="SplitLongproof.html#eval_longconst">eval_longconst</a></span>. <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
- <span class="id">exploit</span> (<span class="id"><a href="SplitLongproof.html#is_longconst_sound">is_longconst_sound</a></span> <span class="id">le</span> <span class="id">a</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">EQ</span>; <span class="tactic">subst</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="Values.html#Val.mull">Val.mull</a></span> (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">p</span>) <span class="id">y</span>) <span class="kwd">with</span> (<span class="id"><a href="Values.html#Val.mull">Val.mull</a></span> <span class="id">y</span> (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">p</span>)) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SplitLongproof.html#eval_mullimm">eval_mullimm</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">y</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.mul_commut">Int64.mul_commut</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="id">exploit</span> (<span class="id"><a href="SplitLongproof.html#is_longconst_sound">is_longconst_sound</a></span> <span class="id">le</span> <span class="id">b</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">EQ</span>; <span class="tactic">subst</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SplitLongproof.html#eval_mullimm">eval_mullimm</a></span>; <span class="tactic">eauto</span>.<br/>
- <span class="tactic">apply</span> <span class="id"><a href="SplitLongproof.html#eval_mull_base">eval_mull_base</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_mullhu">eval_mullhu</a></span>: <br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span>, <span class="id"><a href="SplitLongproof.html#unary_constructor_sound">unary_constructor_sound</a></span> (<span class="kwd">fun</span> <span class="id">a</span> =&gt; <span class="id"><a href="SplitLong.html#mullhu">mullhu</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> <span class="id"><a href="SplitLongproof.html#n">n</a></span>) (<span class="kwd">fun</span> <span class="id">v</span> =&gt; <span class="id"><a href="Values.html#Val.mullhu">Val.mullhu</a></span> <span class="id"><a href="SplitLongproof.html#v">v</a></span> (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id"><a href="SplitLongproof.html#n">n</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2337')">Proof.</div>
<div class="proofscript" id="proof2337">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SplitLong.html#mullhu">mullhu</a></span>; <span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="id">econstructor</span>; <span class="tactic">split</span>; <span class="tactic">eauto</span>. <br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SplitLongproof.html#eval_helper_2">eval_helper_2</a></span>; <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="SplitLongproof.html#eval_longconst">eval_longconst</a></span>. <span class="id">DeclHelper</span>; <span class="tactic">eauto</span>. <span class="id">UseHelper</span>. <br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_mullhs">eval_mullhs</a></span>: <br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span>, <span class="id"><a href="SplitLongproof.html#unary_constructor_sound">unary_constructor_sound</a></span> (<span class="kwd">fun</span> <span class="id">a</span> =&gt; <span class="id"><a href="SplitLong.html#mullhs">mullhs</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> <span class="id"><a href="SplitLongproof.html#n">n</a></span>) (<span class="kwd">fun</span> <span class="id">v</span> =&gt; <span class="id"><a href="Values.html#Val.mullhs">Val.mullhs</a></span> <span class="id"><a href="SplitLongproof.html#v">v</a></span> (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id"><a href="SplitLongproof.html#n">n</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2338')">Proof.</div>
<div class="proofscript" id="proof2338">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SplitLong.html#mullhs">mullhs</a></span>; <span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="id">econstructor</span>; <span class="tactic">split</span>; <span class="tactic">eauto</span>. <br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SplitLongproof.html#eval_helper_2">eval_helper_2</a></span>; <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="SplitLongproof.html#eval_longconst">eval_longconst</a></span>. <span class="id">DeclHelper</span>; <span class="tactic">eauto</span>. <span class="id">UseHelper</span>. <br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_shrxlimm">eval_shrxlimm</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">a</span> <span class="id">n</span> <span class="id">x</span> <span class="id">z</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.shrxl">Val.shrxl</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="SplitLongproof.html#n">n</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SplitLongproof.html#z">z</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> (<span class="id"><a href="SplitLong.html#shrxlimm">shrxlimm</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> <span class="id"><a href="SplitLongproof.html#n">n</a></span>) <span class="id"><a href="SplitLongproof.html#v">v</a></span> /\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="SplitLongproof.html#z">z</a></span> <span class="id"><a href="SplitLongproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2339')">Proof.</div>
<div class="proofscript" id="proof2339">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.shrxl_shrl_2">Val.shrxl_shrl_2</a></span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">unfold</span> <span class="id"><a href="SplitLong.html#shrxlimm">shrxlimm</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id">n</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>).<br/>
- <span class="tactic">subst</span> <span class="id">z</span>; <span class="id">exists</span> <span class="id">x</span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">set</span> (<span class="id">le</span>' := <span class="id">x</span> :: <span class="id">le</span>).<br/>
&nbsp;&nbsp;<span class="id">edestruct</span> (<span class="id"><a href="SplitLongproof.html#eval_shrlimm">eval_shrlimm</a></span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> 63) <span class="id">le</span>' (<span class="id"><a href="CminorSel.html#Eletvar">Eletvar</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>)) <span class="kwd">as</span> (<span class="id">v1</span> &amp; <span class="id">A1</span> &amp; <span class="id">B1</span>).<br/>
&nbsp;&nbsp;<span class="id">constructor</span>. <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id">edestruct</span> (<span class="id"><a href="SplitLongproof.html#eval_shrluimm">eval_shrluimm</a></span> (<span class="id"><a href="Integers.html#Int.sub">Int.sub</a></span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> 64) <span class="id">n</span>) <span class="id">le</span>') <span class="kwd">as</span> (<span class="id">v2</span> &amp; <span class="id">A2</span> &amp; <span class="id">B2</span>).<br/>
&nbsp;&nbsp;<span class="id">eexact</span> <span class="id">A1</span>.<br/>
&nbsp;&nbsp;<span class="id">edestruct</span> (<span class="id"><a href="SplitLongproof.html#eval_addl">eval_addl</a></span> <span class="id">H</span> <span class="id">le</span>' (<span class="id"><a href="CminorSel.html#Eletvar">Eletvar</a></span> 0)) <span class="kwd">as</span> (<span class="id">v3</span> &amp; <span class="id">A3</span> &amp; <span class="id">B3</span>).<br/>
&nbsp;&nbsp;<span class="id">constructor</span>. <span class="tactic">reflexivity</span>. <span class="id">eexact</span> <span class="id">A2</span>.<br/>
&nbsp;&nbsp;<span class="id">edestruct</span> (<span class="id"><a href="SplitLongproof.html#eval_shrlimm">eval_shrlimm</a></span> <span class="id">n</span> <span class="id">le</span>') <span class="kwd">as</span> (<span class="id">v4</span> &amp; <span class="id">A4</span> &amp; <span class="id">B4</span>). <span class="id">eexact</span> <span class="id">A3</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v4</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">X</span>: <span class="kwd">forall</span> <span class="id">v1</span> <span class="id">v2</span> <span class="id">n</span>, <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="SplitLongproof.html#v1">v1</a></span> <span class="id"><a href="SplitLongproof.html#v2">v2</a></span> -&gt; <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="Values.html#Val.shrl">Val.shrl</a></span> <span class="id"><a href="SplitLongproof.html#v1">v1</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="SplitLongproof.html#n">n</a></span>)) (<span class="id"><a href="Values.html#Val.shrl">Val.shrl</a></span> <span class="id"><a href="SplitLongproof.html#v2">v2</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="SplitLongproof.html#n">n</a></span>))).<br/>
&nbsp;&nbsp;{ <span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Y</span>: <span class="kwd">forall</span> <span class="id">v1</span> <span class="id">v2</span> <span class="id">n</span>, <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="SplitLongproof.html#v1">v1</a></span> <span class="id"><a href="SplitLongproof.html#v2">v2</a></span> -&gt; <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="Values.html#Val.shrlu">Val.shrlu</a></span> <span class="id"><a href="SplitLongproof.html#v1">v1</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="SplitLongproof.html#n">n</a></span>)) (<span class="id"><a href="Values.html#Val.shrlu">Val.shrlu</a></span> <span class="id"><a href="SplitLongproof.html#v2">v2</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="SplitLongproof.html#n">n</a></span>))).<br/>
&nbsp;&nbsp;{ <span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">z</span>. <span class="tactic">eapply</span> <span class="id"><a href="Values.html#Val.lessdef_trans">Val.lessdef_trans</a></span>; [|<span class="id">eexact</span> <span class="id">B4</span>]. <span class="tactic">apply</span> <span class="id">X</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Values.html#Val.lessdef_trans">Val.lessdef_trans</a></span>; [|<span class="id">eexact</span> <span class="id">B3</span>]. <span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.addl_lessdef">Val.addl_lessdef</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Values.html#Val.lessdef_trans">Val.lessdef_trans</a></span>; [|<span class="id">eexact</span> <span class="id">B2</span>]. <span class="tactic">apply</span> <span class="id">Y</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_divlu_base">eval_divlu_base</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">a</span> <span class="id">b</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#b">b</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.divlu">Val.divlu</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SplitLongproof.html#z">z</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> (<span class="id"><a href="SplitLong.html#divlu_base">divlu_base</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> <span class="id"><a href="SplitLongproof.html#b">b</a></span>) <span class="id"><a href="SplitLongproof.html#v">v</a></span> /\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="SplitLongproof.html#z">z</a></span> <span class="id"><a href="SplitLongproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2340')">Proof.</div>
<div class="proofscript" id="proof2340">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="SplitLong.html#divlu_base">divlu_base</a></span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="SplitLongproof.html#eval_helper_2">eval_helper_2</a></span>; <span class="tactic">eauto</span>. <span class="id">DeclHelper</span>. <span class="id">UseHelper</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_modlu_base">eval_modlu_base</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">a</span> <span class="id">b</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#b">b</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.modlu">Val.modlu</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SplitLongproof.html#z">z</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> (<span class="id"><a href="SplitLong.html#modlu_base">modlu_base</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> <span class="id"><a href="SplitLongproof.html#b">b</a></span>) <span class="id"><a href="SplitLongproof.html#v">v</a></span> /\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="SplitLongproof.html#z">z</a></span> <span class="id"><a href="SplitLongproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2341')">Proof.</div>
<div class="proofscript" id="proof2341">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="SplitLong.html#modlu_base">modlu_base</a></span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="SplitLongproof.html#eval_helper_2">eval_helper_2</a></span>; <span class="tactic">eauto</span>. <span class="id">DeclHelper</span>. <span class="id">UseHelper</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_divls_base">eval_divls_base</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">a</span> <span class="id">b</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#b">b</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.divls">Val.divls</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SplitLongproof.html#z">z</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> (<span class="id"><a href="SplitLong.html#divls_base">divls_base</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> <span class="id"><a href="SplitLongproof.html#b">b</a></span>) <span class="id"><a href="SplitLongproof.html#v">v</a></span> /\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="SplitLongproof.html#z">z</a></span> <span class="id"><a href="SplitLongproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2342')">Proof.</div>
<div class="proofscript" id="proof2342">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="SplitLong.html#divls_base">divls_base</a></span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="SplitLongproof.html#eval_helper_2">eval_helper_2</a></span>; <span class="tactic">eauto</span>. <span class="id">DeclHelper</span>. <span class="id">UseHelper</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_modls_base">eval_modls_base</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">a</span> <span class="id">b</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#b">b</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.modls">Val.modls</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SplitLongproof.html#z">z</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, <span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> (<span class="id"><a href="SplitLong.html#modls_base">modls_base</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> <span class="id"><a href="SplitLongproof.html#b">b</a></span>) <span class="id"><a href="SplitLongproof.html#v">v</a></span> /\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="SplitLongproof.html#z">z</a></span> <span class="id"><a href="SplitLongproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2343')">Proof.</div>
<div class="proofscript" id="proof2343">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="SplitLong.html#modls_base">modls_base</a></span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="SplitLongproof.html#eval_helper_2">eval_helper_2</a></span>; <span class="tactic">eauto</span>. <span class="id">DeclHelper</span>. <span class="id">UseHelper</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="decompose_cmpl_eq_zero">decompose_cmpl_eq_zero</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">h</span> <span class="id">l</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> (<span class="id"><a href="Integers.html#Int64.ofwords">Int64.ofwords</a></span> <span class="id"><a href="SplitLongproof.html#h">h</a></span> <span class="id"><a href="SplitLongproof.html#l">l</a></span>) <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span> = <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> (<span class="id"><a href="Integers.html#Int.or">Int.or</a></span> <span class="id"><a href="SplitLongproof.html#h">h</a></span> <span class="id"><a href="SplitLongproof.html#l">l</a></span>) <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2344')">Proof.</div>
<div class="proofscript" id="proof2344">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Integers.html#Int64.zwordsize">Int64.zwordsize</a></span> = <span class="id"><a href="Integers.html#Int.zwordsize">Int.zwordsize</a></span> * 2) <span class="tactic">by</span> <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id"><a href="Integers.html#Int64.eq_spec">Int64.eq_spec</a></span> (<span class="id"><a href="Integers.html#Int64.ofwords">Int64.ofwords</a></span> <span class="id">h</span> <span class="id">l</span>) <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="Integers.html#Int.or">Int.or</a></span> <span class="id">h</span> <span class="id">l</span>) <span class="kwd">with</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.eq_true">Int.eq_true</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Integers.html#Int.same_bits_eq">Int.same_bits_eq</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.bits_zero">Int.bits_zero</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.bits_or">Int.bits_or</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">symmetry</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_false_intro">orb_false_intro</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">transitivity</span> (<span class="id"><a href="Integers.html#Int64.testbit">Int64.testbit</a></span> (<span class="id"><a href="Integers.html#Int64.ofwords">Int64.ofwords</a></span> <span class="id">h</span> <span class="id">l</span>) (<span class="id">i</span> + <span class="id"><a href="Integers.html#Int.zwordsize">Int.zwordsize</a></span>)).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.bits_ofwords">Int64.bits_ofwords</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Coqlib.html#zlt_false">zlt_false</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">f_equal</span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span>. <span class="tactic">apply</span> <span class="id"><a href="Integers.html#Int64.bits_zero">Int64.bits_zero</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">transitivity</span> (<span class="id"><a href="Integers.html#Int64.testbit">Int64.testbit</a></span> (<span class="id"><a href="Integers.html#Int64.ofwords">Int64.ofwords</a></span> <span class="id">h</span> <span class="id">l</span>) <span class="id">i</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.bits_ofwords">Int64.bits_ofwords</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Coqlib.html#zlt_true">zlt_true</a></span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span>. <span class="tactic">apply</span> <span class="id"><a href="Integers.html#Int64.bits_zero">Int64.bits_zero</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">symmetry</span>. <span class="tactic">apply</span> <span class="id"><a href="Integers.html#Int.eq_false">Int.eq_false</a></span>. <span class="tactic">red</span>; <span class="tactic">intros</span>; <span class="tactic">elim</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Integers.html#Int64.same_bits_eq">Int64.same_bits_eq</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.bits_zero">Int64.bits_zero</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.bits_ofwords">Int64.bits_ofwords</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#zlt">zlt</a></span> <span class="id">i</span> <span class="id"><a href="Integers.html#Int.zwordsize">Int.zwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Integers.html#Int.testbit">Int.testbit</a></span> (<span class="id"><a href="Integers.html#Int.or">Int.or</a></span> <span class="id">h</span> <span class="id">l</span>) <span class="id">i</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>) <span class="tactic">by</span> (<span class="tactic">rewrite</span> <span class="id">H1</span>; <span class="tactic">apply</span> <span class="id"><a href="Integers.html#Int.bits_zero">Int.bits_zero</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.bits_or">Int.bits_or</a></span> <span class="kwd">in</span> <span class="id">H3</span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="id">exploit</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_false_elim">orb_false_elim</a></span>; <span class="tactic">eauto</span>. <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Integers.html#Int.testbit">Int.testbit</a></span> (<span class="id"><a href="Integers.html#Int.or">Int.or</a></span> <span class="id">h</span> <span class="id">l</span>) (<span class="id">i</span> - <span class="id"><a href="Integers.html#Int.zwordsize">Int.zwordsize</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>) <span class="tactic">by</span> (<span class="tactic">rewrite</span> <span class="id">H1</span>; <span class="tactic">apply</span> <span class="id"><a href="Integers.html#Int.bits_zero">Int.bits_zero</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.bits_or">Int.bits_or</a></span> <span class="kwd">in</span> <span class="id">H3</span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="id">exploit</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_false_elim">orb_false_elim</a></span>; <span class="tactic">eauto</span>. <span class="tactic">tauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_cmpl_eq_zero">eval_cmpl_eq_zero</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">a</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> (<span class="id"><a href="SplitLong.html#cmpl_eq_zero">cmpl_eq_zero</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span>) (<span class="id"><a href="Values.html#Val.of_bool">Val.of_bool</a></span> (<span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2345')">Proof.</div>
<div class="proofscript" id="proof2345">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="SplitLong.html#cmpl_eq_zero">cmpl_eq_zero</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SplitLongproof.html#eval_splitlong_strict">eval_splitlong_strict</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SelectOpproof.html#eval_or">eval_or</a></span>. <span class="id">eexact</span> <span class="id">H0</span>. <span class="id">eexact</span> <span class="id">H1</span>. <span class="tactic">intros</span> [<span class="id">v1</span> [<span class="id">A1</span> <span class="id">B1</span>]]. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">B1</span>; <span class="id">inv</span> <span class="id">B1</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SelectOpproof.html#eval_comp_opt">eval_comp_opt</a></span>. <span class="id">eexact</span> <span class="id">A1</span>. <span class="id">instantiate</span> (2 := <span class="id"><a href="CminorSel.html#Eop">Eop</a></span> (<span class="id"><a href="Op.html#Ointconst">Ointconst</a></span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>) <span class="id"><a href="CminorSel.html#Enil">Enil</a></span>). <span class="id">EvalOp</span>. <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">instantiate</span> (1 := <span class="id"><a href="Integers.html#Ceq">Ceq</a></span>). <span class="tactic">intros</span> [<span class="id">v2</span> [<span class="id">A2</span> <span class="id">B2</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.cmp">Val.cmp</a></span> <span class="kwd">in</span> <span class="id">B2</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">B2</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="SplitLongproof.html#decompose_cmpl_eq_zero">decompose_cmpl_eq_zero</a></span> <span class="kwd">in</span> <span class="id">B2</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.ofwords_recompose">Int64.ofwords_recompose</a></span> <span class="kwd">in</span> <span class="id">B2</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">x</span> <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span>); <span class="id">inv</span> <span class="id">B2</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_cmpl_ne_zero">eval_cmpl_ne_zero</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">a</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> (<span class="id"><a href="SplitLong.html#cmpl_ne_zero">cmpl_ne_zero</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span>) (<span class="id"><a href="Values.html#Val.of_bool">Val.of_bool</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span>))).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2346')">Proof.</div>
<div class="proofscript" id="proof2346">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="SplitLong.html#cmpl_ne_zero">cmpl_ne_zero</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SplitLongproof.html#eval_splitlong_strict">eval_splitlong_strict</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SelectOpproof.html#eval_or">eval_or</a></span>. <span class="id">eexact</span> <span class="id">H0</span>. <span class="id">eexact</span> <span class="id">H1</span>. <span class="tactic">intros</span> [<span class="id">v1</span> [<span class="id">A1</span> <span class="id">B1</span>]]. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">B1</span>; <span class="id">inv</span> <span class="id">B1</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SelectOpproof.html#eval_comp_opt">eval_comp_opt</a></span>. <span class="id">eexact</span> <span class="id">A1</span>. <span class="id">instantiate</span> (2 := <span class="id"><a href="CminorSel.html#Eop">Eop</a></span> (<span class="id"><a href="Op.html#Ointconst">Ointconst</a></span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>) <span class="id"><a href="CminorSel.html#Enil">Enil</a></span>). <span class="id">EvalOp</span>. <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">instantiate</span> (1 := <span class="id"><a href="Integers.html#Cne">Cne</a></span>). <span class="tactic">intros</span> [<span class="id">v2</span> [<span class="id">A2</span> <span class="id">B2</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.cmp">Val.cmp</a></span> <span class="kwd">in</span> <span class="id">B2</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">B2</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="SplitLongproof.html#decompose_cmpl_eq_zero">decompose_cmpl_eq_zero</a></span> <span class="kwd">in</span> <span class="id">B2</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.ofwords_recompose">Int64.ofwords_recompose</a></span> <span class="kwd">in</span> <span class="id">B2</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">x</span> <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span>)); <span class="id">inv</span> <span class="id">B2</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_cmplu_gen">eval_cmplu_gen</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ch</span> <span class="id">cl</span> <span class="id">a</span> <span class="id">b</span> <span class="id">le</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#b">b</a></span> (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> (<span class="id"><a href="SplitLong.html#cmplu_gen">cmplu_gen</a></span> <span class="id"><a href="SplitLongproof.html#ch">ch</a></span> <span class="id"><a href="SplitLongproof.html#cl">cl</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> <span class="id"><a href="SplitLongproof.html#b">b</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Values.html#Val.of_bool">Val.of_bool</a></span> (<span class="kwd">if</span> <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> (<span class="id"><a href="Integers.html#Int64.hiword">Int64.hiword</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span>) (<span class="id"><a href="Integers.html#Int64.hiword">Int64.hiword</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="Integers.html#Int.cmpu">Int.cmpu</a></span> <span class="id"><a href="SplitLongproof.html#cl">cl</a></span> (<span class="id"><a href="Integers.html#Int64.loword">Int64.loword</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span>) (<span class="id"><a href="Integers.html#Int64.loword">Int64.loword</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="Integers.html#Int.cmpu">Int.cmpu</a></span> <span class="id"><a href="SplitLongproof.html#ch">ch</a></span> (<span class="id"><a href="Integers.html#Int64.hiword">Int64.hiword</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span>) (<span class="id"><a href="Integers.html#Int64.hiword">Int64.hiword</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span>))).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2347')">Proof.</div>
<div class="proofscript" id="proof2347">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="SplitLong.html#cmplu_gen">cmplu_gen</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="SplitLongproof.html#eval_splitlong2_strict">eval_splitlong2_strict</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">econstructor</span>. <span class="id">EvalOp</span>. <span class="tactic">simpl</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> (<span class="id"><a href="Integers.html#Int64.hiword">Int64.hiword</a></span> <span class="id">x</span>) (<span class="id"><a href="Integers.html#Int64.hiword">Int64.hiword</a></span> <span class="id">y</span>)); <span class="id">EvalOp</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="int64_eq_xor">int64_eq_xor</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">p</span> <span class="id">q</span>, <span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id"><a href="SplitLongproof.html#p">p</a></span> <span class="id"><a href="SplitLongproof.html#q">q</a></span> = <span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> (<span class="id"><a href="Integers.html#Int64.xor">Int64.xor</a></span> <span class="id"><a href="SplitLongproof.html#p">p</a></span> <span class="id"><a href="SplitLongproof.html#q">q</a></span>) <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2348')">Proof.</div>
<div class="proofscript" id="proof2348">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id"><a href="Integers.html#Int64.eq_spec">Int64.eq_spec</a></span> <span class="id">p</span> <span class="id">q</span>.<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">q</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.xor_idem">Int64.xor_idem</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.eq_true">Int64.eq_true</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id"><a href="Integers.html#Int64.eq_spec">Int64.eq_spec</a></span> (<span class="id"><a href="Integers.html#Int64.xor">Int64.xor</a></span> <span class="id">p</span> <span class="id">q</span>) <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">elim</span> <span class="id">H</span>. <span class="tactic">apply</span> <span class="id"><a href="Integers.html#Int64.xor_zero_equal">Int64.xor_zero_equal</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_cmplu">eval_cmplu</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c</span> <span class="id">le</span> <span class="id">a</span> <span class="id">x</span> <span class="id">b</span> <span class="id">y</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#b">b</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.cmplu">Val.cmplu</a></span> (<span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span>) <span class="id"><a href="SplitLongproof.html#c">c</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SplitLongproof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> (<span class="id"><a href="SplitLong.html#cmplu">cmplu</a></span> <span class="id"><a href="SplitLongproof.html#c">c</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> <span class="id"><a href="SplitLongproof.html#b">b</a></span>) <span class="id"><a href="SplitLongproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2349')">Proof.</div>
<div class="proofscript" id="proof2349">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.cmplu">Val.cmplu</a></span>, <span class="id"><a href="Values.html#Val.cmplu_bool">Val.cmplu_bool</a></span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> <span class="id">H2</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span> <span class="id">H1</span>; <span class="tactic">destruct</span> <span class="id">y</span>; <span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rename</span> <span class="id">i</span> <span class="id">into</span> <span class="id">x</span>. <span class="tactic">rename</span> <span class="id">i0</span> <span class="id">into</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">c</span>; <span class="tactic">simpl</span>.<br/>
- <span class="comment">(*&nbsp;Ceq&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SplitLongproof.html#eval_xorl">eval_xorl</a></span>. <span class="id">eexact</span> <span class="id">H</span>. <span class="id">eexact</span> <span class="id">H0</span>. <span class="tactic">intros</span> [<span class="id">v1</span> [<span class="id">A</span> <span class="id">B</span>]]. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">B</span>. <span class="id">inv</span> <span class="id">B</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="SplitLongproof.html#int64_eq_xor">int64_eq_xor</a></span>. <span class="tactic">apply</span> <span class="id"><a href="SplitLongproof.html#eval_cmpl_eq_zero">eval_cmpl_eq_zero</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;Cne&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SplitLongproof.html#eval_xorl">eval_xorl</a></span>. <span class="id">eexact</span> <span class="id">H</span>. <span class="id">eexact</span> <span class="id">H0</span>. <span class="tactic">intros</span> [<span class="id">v1</span> [<span class="id">A</span> <span class="id">B</span>]]. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">B</span>. <span class="id">inv</span> <span class="id">B</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="SplitLongproof.html#int64_eq_xor">int64_eq_xor</a></span>. <span class="tactic">apply</span> <span class="id"><a href="SplitLongproof.html#eval_cmpl_ne_zero">eval_cmpl_ne_zero</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;Clt&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="SplitLongproof.html#eval_cmplu_gen">eval_cmplu_gen</a></span> <span class="id"><a href="Integers.html#Clt">Clt</a></span> <span class="id"><a href="Integers.html#Clt">Clt</a></span>). <span class="id">eexact</span> <span class="id">H</span>. <span class="id">eexact</span> <span class="id">H0</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Integers.html#Int64.decompose_ltu">Int64.decompose_ltu</a></span>. <span class="tactic">rewrite</span> ! <span class="id"><a href="Integers.html#Int64.ofwords_recompose">Int64.ofwords_recompose</a></span>. <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;Cle&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="SplitLongproof.html#eval_cmplu_gen">eval_cmplu_gen</a></span> <span class="id"><a href="Integers.html#Clt">Clt</a></span> <span class="id"><a href="Integers.html#Cle">Cle</a></span>). <span class="id">eexact</span> <span class="id">H</span>. <span class="id">eexact</span> <span class="id">H0</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="Integers.html#Int64.ofwords_recompose">Int64.ofwords_recompose</a></span> <span class="id">x</span>). <span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="Integers.html#Int64.ofwords_recompose">Int64.ofwords_recompose</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.decompose_leu">Int64.decompose_leu</a></span>. <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;Cgt&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="SplitLongproof.html#eval_cmplu_gen">eval_cmplu_gen</a></span> <span class="id"><a href="Integers.html#Cgt">Cgt</a></span> <span class="id"><a href="Integers.html#Cgt">Cgt</a></span>). <span class="id">eexact</span> <span class="id">H</span>. <span class="id">eexact</span> <span class="id">H0</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.eq_sym">Int.eq_sym</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Integers.html#Int64.decompose_ltu">Int64.decompose_ltu</a></span>. <span class="tactic">rewrite</span> ! <span class="id"><a href="Integers.html#Int64.ofwords_recompose">Int64.ofwords_recompose</a></span>. <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;Cge&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="SplitLongproof.html#eval_cmplu_gen">eval_cmplu_gen</a></span> <span class="id"><a href="Integers.html#Cgt">Cgt</a></span> <span class="id"><a href="Integers.html#Cge">Cge</a></span>). <span class="id">eexact</span> <span class="id">H</span>. <span class="id">eexact</span> <span class="id">H0</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="Integers.html#Int64.ofwords_recompose">Int64.ofwords_recompose</a></span> <span class="id">x</span>). <span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="Integers.html#Int64.ofwords_recompose">Int64.ofwords_recompose</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.decompose_leu">Int64.decompose_leu</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.eq_sym">Int.eq_sym</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_cmpl_gen">eval_cmpl_gen</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ch</span> <span class="id">cl</span> <span class="id">a</span> <span class="id">b</span> <span class="id">le</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#b">b</a></span> (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> (<span class="id"><a href="SplitLong.html#cmpl_gen">cmpl_gen</a></span> <span class="id"><a href="SplitLongproof.html#ch">ch</a></span> <span class="id"><a href="SplitLongproof.html#cl">cl</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> <span class="id"><a href="SplitLongproof.html#b">b</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Values.html#Val.of_bool">Val.of_bool</a></span> (<span class="kwd">if</span> <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> (<span class="id"><a href="Integers.html#Int64.hiword">Int64.hiword</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span>) (<span class="id"><a href="Integers.html#Int64.hiword">Int64.hiword</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="Integers.html#Int.cmpu">Int.cmpu</a></span> <span class="id"><a href="SplitLongproof.html#cl">cl</a></span> (<span class="id"><a href="Integers.html#Int64.loword">Int64.loword</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span>) (<span class="id"><a href="Integers.html#Int64.loword">Int64.loword</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="Integers.html#Int.cmp">Int.cmp</a></span> <span class="id"><a href="SplitLongproof.html#ch">ch</a></span> (<span class="id"><a href="Integers.html#Int64.hiword">Int64.hiword</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span>) (<span class="id"><a href="Integers.html#Int64.hiword">Int64.hiword</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span>))).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2350')">Proof.</div>
<div class="proofscript" id="proof2350">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="SplitLong.html#cmpl_gen">cmpl_gen</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="SplitLongproof.html#eval_splitlong2_strict">eval_splitlong2_strict</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">econstructor</span>. <span class="id">EvalOp</span>. <span class="tactic">simpl</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> (<span class="id"><a href="Integers.html#Int64.hiword">Int64.hiword</a></span> <span class="id">x</span>) (<span class="id"><a href="Integers.html#Int64.hiword">Int64.hiword</a></span> <span class="id">y</span>)); <span class="id">EvalOp</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="decompose_cmpl_lt_zero">decompose_cmpl_lt_zero</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">h</span> <span class="id">l</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Integers.html#Int64.lt">Int64.lt</a></span> (<span class="id"><a href="Integers.html#Int64.ofwords">Int64.ofwords</a></span> <span class="id"><a href="SplitLongproof.html#h">h</a></span> <span class="id"><a href="SplitLongproof.html#l">l</a></span>) <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span> = <span class="id"><a href="Integers.html#Int.lt">Int.lt</a></span> <span class="id"><a href="SplitLongproof.html#h">h</a></span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2351')">Proof.</div>
<div class="proofscript" id="proof2351">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Integers.html#Int64.shru_lt_zero">Int64.shru_lt_zero</a></span> (<span class="id"><a href="Integers.html#Int64.ofwords">Int64.ofwords</a></span> <span class="id">h</span> <span class="id">l</span>)).<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="Integers.html#Int64.shru">Int64.shru</a></span> (<span class="id"><a href="Integers.html#Int64.ofwords">Int64.ofwords</a></span> <span class="id">h</span> <span class="id">l</span>) (<span class="id"><a href="Integers.html#Int64.repr">Int64.repr</a></span> (<span class="id"><a href="Integers.html#Int64.zwordsize">Int64.zwordsize</a></span> - 1)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> (<span class="id">Int64.shru</span>' (<span class="id"><a href="Integers.html#Int64.ofwords">Int64.ofwords</a></span> <span class="id">h</span> <span class="id">l</span>) (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> 63)).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.decompose_shru_2">Int64.decompose_shru_2</a></span>.<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id"><a href="Integers.html#Int.sub">Int.sub</a></span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> 63) <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> (<span class="id"><a href="Integers.html#Int.zwordsize">Int.zwordsize</a></span> - 1)).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.shru_lt_zero">Int.shru_lt_zero</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int64.lt">Int64.lt</a></span> (<span class="id"><a href="Integers.html#Int64.ofwords">Int64.ofwords</a></span> <span class="id">h</span> <span class="id">l</span>) <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span>); <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.lt">Int.lt</a></span> <span class="id">h</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>); <span class="tactic">auto</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">elim</span> <span class="id"><a href="Integers.html#Int64.one_not_zero">Int64.one_not_zero</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">elim</span> <span class="id"><a href="Integers.html#Int64.one_not_zero">Int64.one_not_zero</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">vm_compute</span>. <span class="tactic">intuition</span> <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="eval_cmpl">eval_cmpl</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c</span> <span class="id">le</span> <span class="id">a</span> <span class="id">x</span> <span class="id">b</span> <span class="id">y</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> <span class="id"><a href="SplitLongproof.html#b">b</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.cmpl">Val.cmpl</a></span> <span class="id"><a href="SplitLongproof.html#c">c</a></span> <span class="id"><a href="SplitLongproof.html#x">x</a></span> <span class="id"><a href="SplitLongproof.html#y">y</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SplitLongproof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="CminorSel.html#eval_expr">eval_expr</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.ge">ge</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.sp">sp</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.e">e</a></span> <span class="id"><a href="SplitLongproof.html#CMCONSTR.m">m</a></span> <span class="id"><a href="SplitLongproof.html#le">le</a></span> (<span class="id"><a href="SplitLong.html#cmpl">cmpl</a></span> <span class="id"><a href="SplitLongproof.html#c">c</a></span> <span class="id"><a href="SplitLongproof.html#a">a</a></span> <span class="id"><a href="SplitLongproof.html#b">b</a></span>) <span class="id"><a href="SplitLongproof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof2352')">Proof.</div>
<div class="proofscript" id="proof2352">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.cmpl">Val.cmpl</a></span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="tactic">destruct</span> <span class="id">y</span>; <span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rename</span> <span class="id">i</span> <span class="id">into</span> <span class="id">x</span>. <span class="tactic">rename</span> <span class="id">i0</span> <span class="id">into</span> <span class="id">y</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">c</span>; <span class="tactic">simpl</span>.<br/>
- <span class="comment">(*&nbsp;Ceq&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SplitLongproof.html#eval_xorl">eval_xorl</a></span>. <span class="id">eexact</span> <span class="id">H</span>. <span class="id">eexact</span> <span class="id">H0</span>. <span class="tactic">intros</span> [<span class="id">v1</span> [<span class="id">A</span> <span class="id">B</span>]]. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">B</span>; <span class="id">inv</span> <span class="id">B</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="SplitLongproof.html#int64_eq_xor">int64_eq_xor</a></span>. <span class="tactic">apply</span> <span class="id"><a href="SplitLongproof.html#eval_cmpl_eq_zero">eval_cmpl_eq_zero</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;Cne&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SplitLongproof.html#eval_xorl">eval_xorl</a></span>. <span class="id">eexact</span> <span class="id">H</span>. <span class="id">eexact</span> <span class="id">H0</span>. <span class="tactic">intros</span> [<span class="id">v1</span> [<span class="id">A</span> <span class="id">B</span>]]. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">B</span>; <span class="id">inv</span> <span class="id">B</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="SplitLongproof.html#int64_eq_xor">int64_eq_xor</a></span>. <span class="tactic">apply</span> <span class="id"><a href="SplitLongproof.html#eval_cmpl_ne_zero">eval_cmpl_ne_zero</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;Clt&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="SplitLong.html#is_longconst_zero">is_longconst_zero</a></span> <span class="id">b</span>) <span class="id">eqn</span>:<span class="id">LC</span>.<br/>
+ <span class="id">exploit</span> <span class="id"><a href="SplitLongproof.html#is_longconst_zero_sound">is_longconst_zero_sound</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">EQ</span>; <span class="id">inv</span> <span class="id">EQ</span>; <span class="tactic">clear</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SplitLongproof.html#eval_highlong">eval_highlong</a></span>. <span class="id">eexact</span> <span class="id">H</span>. <span class="tactic">intros</span> [<span class="id">v1</span> [<span class="id">A1</span> <span class="id">B1</span>]]. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">B1</span>. <span class="id">inv</span> <span class="id">B1</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SelectOpproof.html#eval_comp_opt">eval_comp_opt</a></span>. <span class="id">eexact</span> <span class="id">A1</span>.<br/>
&nbsp;&nbsp;<span class="id">instantiate</span> (2 := <span class="id"><a href="CminorSel.html#Eop">Eop</a></span> (<span class="id"><a href="Op.html#Ointconst">Ointconst</a></span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>) <span class="id"><a href="CminorSel.html#Enil">Enil</a></span>). <span class="id">EvalOp</span>. <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">instantiate</span> (1 := <span class="id"><a href="Integers.html#Clt">Clt</a></span>). <span class="tactic">intros</span> [<span class="id">v2</span> [<span class="id">A2</span> <span class="id">B2</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.cmp">Val.cmp</a></span> <span class="kwd">in</span> <span class="id">B2</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">B2</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="Integers.html#Int64.ofwords_recompose">Int64.ofwords_recompose</a></span> <span class="id">x</span>). <span class="tactic">rewrite</span> <span class="id"><a href="SplitLongproof.html#decompose_cmpl_lt_zero">decompose_cmpl_lt_zero</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.lt">Int.lt</a></span> (<span class="id"><a href="Integers.html#Int64.hiword">Int64.hiword</a></span> <span class="id">x</span>) <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>); <span class="id">inv</span> <span class="id">B2</span>; <span class="tactic">auto</span>.<br/>
+ <span class="id">exploit</span> (<span class="id"><a href="SplitLongproof.html#eval_cmpl_gen">eval_cmpl_gen</a></span> <span class="id"><a href="Integers.html#Clt">Clt</a></span> <span class="id"><a href="Integers.html#Clt">Clt</a></span>). <span class="id">eexact</span> <span class="id">H</span>. <span class="id">eexact</span> <span class="id">H0</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Integers.html#Int64.decompose_lt">Int64.decompose_lt</a></span>. <span class="tactic">rewrite</span> ! <span class="id"><a href="Integers.html#Int64.ofwords_recompose">Int64.ofwords_recompose</a></span>. <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;Cle&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="SplitLongproof.html#eval_cmpl_gen">eval_cmpl_gen</a></span> <span class="id"><a href="Integers.html#Clt">Clt</a></span> <span class="id"><a href="Integers.html#Cle">Cle</a></span>). <span class="id">eexact</span> <span class="id">H</span>. <span class="id">eexact</span> <span class="id">H0</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="Integers.html#Int64.ofwords_recompose">Int64.ofwords_recompose</a></span> <span class="id">x</span>). <span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="Integers.html#Int64.ofwords_recompose">Int64.ofwords_recompose</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.decompose_le">Int64.decompose_le</a></span>. <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;Cgt&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="SplitLongproof.html#eval_cmpl_gen">eval_cmpl_gen</a></span> <span class="id"><a href="Integers.html#Cgt">Cgt</a></span> <span class="id"><a href="Integers.html#Cgt">Cgt</a></span>). <span class="id">eexact</span> <span class="id">H</span>. <span class="id">eexact</span> <span class="id">H0</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.eq_sym">Int.eq_sym</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Integers.html#Int64.decompose_lt">Int64.decompose_lt</a></span>. <span class="tactic">rewrite</span> ! <span class="id"><a href="Integers.html#Int64.ofwords_recompose">Int64.ofwords_recompose</a></span>. <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;Cge&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="SplitLong.html#is_longconst_zero">is_longconst_zero</a></span> <span class="id">b</span>) <span class="id">eqn</span>:<span class="id">LC</span>.<br/>
+ <span class="id">exploit</span> <span class="id"><a href="SplitLongproof.html#is_longconst_zero_sound">is_longconst_zero_sound</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">EQ</span>; <span class="id">inv</span> <span class="id">EQ</span>; <span class="tactic">clear</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SplitLongproof.html#eval_highlong">eval_highlong</a></span>. <span class="id">eexact</span> <span class="id">H</span>. <span class="tactic">intros</span> [<span class="id">v1</span> [<span class="id">A1</span> <span class="id">B1</span>]]. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">B1</span>; <span class="id">inv</span> <span class="id">B1</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SelectOpproof.html#eval_comp_opt">eval_comp_opt</a></span>. <span class="id">eexact</span> <span class="id">A1</span>.<br/>
&nbsp;&nbsp;<span class="id">instantiate</span> (2 := <span class="id"><a href="CminorSel.html#Eop">Eop</a></span> (<span class="id"><a href="Op.html#Ointconst">Ointconst</a></span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>) <span class="id"><a href="CminorSel.html#Enil">Enil</a></span>). <span class="id">EvalOp</span>. <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">instantiate</span> (1 := <span class="id"><a href="Integers.html#Cge">Cge</a></span>). <span class="tactic">intros</span> [<span class="id">v2</span> [<span class="id">A2</span> <span class="id">B2</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.cmp">Val.cmp</a></span> <span class="kwd">in</span> <span class="id">B2</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">B2</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="Integers.html#Int64.ofwords_recompose">Int64.ofwords_recompose</a></span> <span class="id">x</span>). <span class="tactic">rewrite</span> <span class="id"><a href="SplitLongproof.html#decompose_cmpl_lt_zero">decompose_cmpl_lt_zero</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="Integers.html#Int.lt">Int.lt</a></span> (<span class="id"><a href="Integers.html#Int64.hiword">Int64.hiword</a></span> <span class="id">x</span>) <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>)); <span class="id">inv</span> <span class="id">B2</span>; <span class="tactic">auto</span>.<br/>
+ <span class="id">exploit</span> (<span class="id"><a href="SplitLongproof.html#eval_cmpl_gen">eval_cmpl_gen</a></span> <span class="id"><a href="Integers.html#Cgt">Cgt</a></span> <span class="id"><a href="Integers.html#Cge">Cge</a></span>). <span class="id">eexact</span> <span class="id">H</span>. <span class="id">eexact</span> <span class="id">H0</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="Integers.html#Int64.ofwords_recompose">Int64.ofwords_recompose</a></span> <span class="id">x</span>). <span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="Integers.html#Int64.ofwords_recompose">Int64.ofwords_recompose</a></span> <span class="id">y</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.decompose_le">Int64.decompose_le</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.eq_sym">Int.eq_sym</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="SplitLongproof.html#CMCONSTR">CMCONSTR</a></span>.<br/>
<br/>
</div>
<div class="footer"><hr/>Generated by coq2html</div>
</body>
</html>
