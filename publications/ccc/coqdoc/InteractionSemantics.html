<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module InteractionSemantics</title>
<meta name="description" content="Documentation of Coq module InteractionSemantics" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module InteractionSemantics</h1>
<div class="coq">
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Setoids.Setoid.html">Setoid</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html">List</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html">Lists.Streams</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Coqlib.html">Coqlib</a></span> <span class="id"><a href="Errors.html">Errors</a></span> <span class="id"><a href="Values.html">Values</a></span> <span class="id"><a href="AST.html">AST</a></span> <span class="id"><a href="Globalenvs.html">Globalenvs</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Footprint.html">Footprint</a></span> <span class="id"><a href="GMemory.html">GMemory</a></span> <span class="id"><a href="MemAux.html">MemAux</a></span>.<br/>
<br/>
<br/>
<h1> Interaction Semantics </h1>
<br/>
<div class="doc">This file defines abstract module languages as interaction semantics. </div>
<br/>
<div class="doc">An interaction semantics has these interfaces:
<ul>
<li>
 <span class="bracket"><span class="id">F</span></span>, <span class="bracket"><span class="id">V</span></span>, <span class="bracket"><span class="id">G</span></span>: 
types of function definition, variable information (e.g. Clight types), and global envirionment
</li>
<li>
 <span class="bracket"><span class="id">comp_unit</span></span>: type of compilation unit
</li>
<li>
 <span class="bracket"><span class="id">core</span></span>: type of internal "core" state
</li>
<li>
 <span class="bracket"><span class="id">init_core</span></span>: initialize runtime core w.r.t. an entry and arguments, used on thread creation or external calls
</li>
<li>
 <span class="bracket"><span class="id">halt</span></span>: core halts, a returning value is also required for supporting external calls
</li>
<li>
 <span class="bracket"><span class="id">step</span></span>: internal steps of the core
</li>
<li>
 <span class="bracket"><span class="id">at_external</span></span>: genrates events (EntAtom/ExtAtom/Print or an external callwith arguments) and yield control
The EnvAtom/ExtAtom/Print events are encoded as special external functions with fixed function idents defined in GAST.v
</li>
<li>
 <span class="bracket"><span class="id">after_external</span></span>: get back control, a returning value is required for supporting external calls
</li>
<li>
 <span class="bracket"><span class="id">internal_fn</span></span>: generate a function table (for generaing function-module mapping), we need an interface for internal function list 
</li>
<li>
 <span class="bracket"><span class="id">init_genv</span></span>, <span class="bracket"><span class="id">init_gmem</span></span>: Because we do not instantiate a concrete initial state or symbol binding, we give language extensional checkings for proper initial genv and memory
    
 </li>
</ul>
</div>
<br/>
<span class="kwd">Record</span> <span class="id"><a name="Language">Language</a></span> :=<br/>
&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="F">F</a></span>: <span class="kwd">Type</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="V">V</a></span>: <span class="kwd">Type</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="G">G</a></span>: <span class="kwd">Type</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="comp_unit">comp_unit</a></span>: <span class="kwd">Type</span>;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="core">core</a></span>: <span class="kwd">Type</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="init_core">init_core</a></span>: <span class="id"><a href="InteractionSemantics.html#G">G</a></span> -&gt; <span class="id"><a href="AST.html#ident">ident</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Values.html#val">val</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="InteractionSemantics.html#core">core</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="step">step</a></span>: <span class="id"><a href="InteractionSemantics.html#G">G</a></span> -&gt; <span class="id"><a href="MemAux.html#freelist">freelist</a></span> -&gt; <span class="id"><a href="InteractionSemantics.html#core">core</a></span> -&gt; <span class="id"><a href="GMemory.html#gmem">gmem</a></span> -&gt; <span class="id"><a href="Footprint.html#FP.t">FP.t</a></span> -&gt; <span class="id"><a href="InteractionSemantics.html#core">core</a></span> -&gt; <span class="id"><a href="GMemory.html#gmem">gmem</a></span> -&gt; <span class="kwd">Prop</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="at_external">at_external</a></span>: <span class="id"><a href="InteractionSemantics.html#G">G</a></span> -&gt; <span class="id"><a href="InteractionSemantics.html#core">core</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> (<span class="id"><a href="AST.html#ident">ident</a></span> * <span class="id"><a href="AST.html#signature">signature</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Values.html#val">val</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="after_external">after_external</a></span>: <span class="id"><a href="InteractionSemantics.html#core">core</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Values.html#val">val</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="InteractionSemantics.html#core">core</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="halt">halt</a></span>: <span class="id"><a href="InteractionSemantics.html#core">core</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Values.html#val">val</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="internal_fn">internal_fn</a></span>: <span class="id"><a href="InteractionSemantics.html#comp_unit">comp_unit</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="AST.html#ident">ident</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="init_genv">init_genv</a></span>: <span class="id"><a href="InteractionSemantics.html#comp_unit">comp_unit</a></span> -&gt; <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="InteractionSemantics.html#F">F</a></span> <span class="id"><a href="InteractionSemantics.html#V">V</a></span> -&gt; <span class="id"><a href="InteractionSemantics.html#G">G</a></span> -&gt; <span class="kwd">Prop</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="init_gmem">init_gmem</a></span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="InteractionSemantics.html#F">F</a></span> <span class="id"><a href="InteractionSemantics.html#V">V</a></span> -&gt; <span class="id"><a href="GMemory.html#gmem">gmem</a></span> -&gt; <span class="kwd">Prop</span>;<br/>
&nbsp;&nbsp;}.<br/>
<br/>
<div class="doc">Type of sequential compiler. 
    The compiler is parameterized by the source and target languages </div>
<span class="kwd">Definition</span> <span class="id"><a name="seq_comp">seq_comp</a></span> {<span class="id">sl</span> <span class="id">tl</span>: <span class="id"><a href="InteractionSemantics.html#Language">Language</a></span>} : <span class="kwd">Type</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#comp_unit">comp_unit</a></span> <span class="id"><a href="InteractionSemantics.html#sl">sl</a></span> -&gt; <span class="id"><a href="Errors.html#res">res</a></span> (<span class="id"><a href="InteractionSemantics.html#comp_unit">comp_unit</a></span> <span class="id"><a href="InteractionSemantics.html#tl">tl</a></span>).<br/>
<br/>
<br/>
<div class="doc">A <span class="bracket"><span class="id">ModSemantics</span></span> is generated from a compilation unit.
    It provides the semantics of a module, 
    and is included in the global runtime environment.
 </div>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="ModSem">ModSem</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Record</span> <span class="id"><a name="ModSem.t">t</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="ModSem.lang">lang</a></span>: <span class="id"><a href="InteractionSemantics.html#Language">Language</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="ModSem.ge">ge</a></span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="InteractionSemantics.html#lang">lang</a></span>.(@<span class="id"><a href="InteractionSemantics.html#F">F</a></span>) <span class="id"><a href="InteractionSemantics.html#lang">lang</a></span>.(@<span class="id"><a href="InteractionSemantics.html#V">V</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="ModSem.Ge">Ge</a></span>: <span class="id"><a href="InteractionSemantics.html#lang">lang</a></span>.(<span class="id"><a href="InteractionSemantics.html#G">G</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="ModSem.init_modsem">init_modsem</a></span> (<span class="id">lang</span>: <span class="id"><a href="InteractionSemantics.html#Language">Language</a></span>) (<span class="id">cu</span>: <span class="id"><a href="InteractionSemantics.html#comp_unit">comp_unit</a></span> <span class="id"><a href="InteractionSemantics.html#lang">lang</a></span>) : <span class="id"><a href="InteractionSemantics.html#ModSem.t">t</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="ModSem.Init_modsem">Init_modsem</a></span> : <span class="kwd">forall</span> <span class="id">ge</span> <span class="id">Ge</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#init_genv">init_genv</a></span> <span class="id">lang</span> <span class="id">cu</span> <span class="id"><a href="InteractionSemantics.html#ge">ge</a></span> <span class="id"><a href="InteractionSemantics.html#Ge">Ge</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#init_modsem">init_modsem</a></span> <span class="id">lang</span> <span class="id">cu</span> (<span class="id"><a href="InteractionSemantics.html#ModSem.Build_t">Build_t</a></span> <span class="id">lang</span> <span class="id"><a href="InteractionSemantics.html#ge">ge</a></span> <span class="id"><a href="InteractionSemantics.html#Ge">Ge</a></span>).<br/>
&nbsp;&nbsp;<br/>
<span class="kwd">End</span> <span class="id"><a href="InteractionSemantics.html#ModSem">ModSem</a></span>.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="ge_wf">ge_wf</a></span> {<span class="id">l</span>: <span class="id"><a href="InteractionSemantics.html#Language">Language</a></span>} (<span class="id">c</span>: <span class="id"><a href="InteractionSemantics.html#comp_unit">comp_unit</a></span> <span class="id"><a href="InteractionSemantics.html#l">l</a></span>) (<span class="id">ge</span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id">_</span> <span class="id">_</span>) <span class="id">Ge</span> : <span class="kwd">Prop</span> :=<br/>
| <span class="id"><a name="Ge_wf">Ge_wf</a></span>: <span class="id">l</span>.(@<span class="id"><a href="InteractionSemantics.html#init_genv">init_genv</a></span>) <span class="id">c</span> <span class="id">ge</span> <span class="id">Ge</span> -&gt; <span class="id"><a href="InteractionSemantics.html#ge_wf">ge_wf</a></span> <span class="id">c</span> <span class="id">ge</span> <span class="id">Ge</span>.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="ModSem_wf">ModSem_wf</a></span> {<span class="id">l</span>: <span class="id"><a href="InteractionSemantics.html#Language">Language</a></span>} : <span class="id"><a href="InteractionSemantics.html#comp_unit">comp_unit</a></span> <span class="id">l</span> -&gt; <span class="id"><a href="InteractionSemantics.html#t">ModSem.t</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a name="ModSemWF">ModSemWF</a></span> : <span class="kwd">forall</span> <span class="id">cu</span> <span class="id">ge</span> <span class="id">Ge</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">l</span>.(<span class="id"><a href="InteractionSemantics.html#init_genv">init_genv</a></span>) <span class="id"><a href="InteractionSemantics.html#cu">cu</a></span> <span class="id"><a href="InteractionSemantics.html#ge">ge</a></span> <span class="id"><a href="InteractionSemantics.html#Ge">Ge</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#ModSem_wf">ModSem_wf</a></span> <span class="id"><a href="InteractionSemantics.html#cu">cu</a></span> (<span class="id"><a href="InteractionSemantics.html#Build_t">ModSem.Build_t</a></span> <span class="id">l</span> <span class="id"><a href="InteractionSemantics.html#ge">ge</a></span> <span class="id"><a href="InteractionSemantics.html#Ge">Ge</a></span>).<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="ge_wf_ModSem_wf">ge_wf_ModSem_wf</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l</span> <span class="id">c</span> <span class="id">ge</span> <span class="id">Ge</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="InteractionSemantics.html#ge_wf">ge_wf</a></span> <span class="id"><a href="InteractionSemantics.html#l">l</a></span> <span class="id"><a href="InteractionSemantics.html#c">c</a></span> <span class="id"><a href="InteractionSemantics.html#ge">ge</a></span> <span class="id"><a href="InteractionSemantics.html#Ge">Ge</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#ModSem_wf">ModSem_wf</a></span> <span class="id"><a href="InteractionSemantics.html#c">c</a></span> (<span class="id"><a href="InteractionSemantics.html#Build_t">ModSem.Build_t</a></span> <span class="id"><a href="InteractionSemantics.html#l">l</a></span> <span class="id"><a href="InteractionSemantics.html#ge">ge</a></span> <span class="id"><a href="InteractionSemantics.html#Ge">Ge</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5799')">Proof.</div>
<div class="proofscript" id="proof5799">
 <span class="tactic">intros</span>. <span class="tactic">inversion</span> <span class="id">H</span>. <span class="id">constructor</span>. <span class="tactic">auto</span>. Qed.</div>
<br/>
<br/>
<br/>
<br/>
<h1> Language Properties </h1>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="abort">abort</a></span> (<span class="id">lang</span>: <span class="id"><a href="InteractionSemantics.html#Language">Language</a></span>) <span class="id">ge</span> <span class="id">fl</span> <span class="id">q</span> <span class="id">m</span>: <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">fp</span> <span class="id">q</span>' <span class="id">m</span>', ~ <span class="id"><a href="InteractionSemantics.html#lang">lang</a></span>.(@<span class="id"><a href="InteractionSemantics.html#step">step</a></span>) <span class="id"><a href="InteractionSemantics.html#ge">ge</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span> <span class="id"><a href="InteractionSemantics.html#q">q</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id">q</span>' <span class="id">m</span>') /\<br/>
&nbsp;&nbsp;(<span class="id"><a href="InteractionSemantics.html#lang">lang</a></span>.(@<span class="id"><a href="InteractionSemantics.html#at_external">at_external</a></span>) <span class="id"><a href="InteractionSemantics.html#ge">ge</a></span> <span class="id"><a href="InteractionSemantics.html#q">q</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>) /\<br/>
&nbsp;&nbsp;(<span class="id"><a href="InteractionSemantics.html#lang">lang</a></span>.(@<span class="id"><a href="InteractionSemantics.html#halt">halt</a></span>) <span class="id"><a href="InteractionSemantics.html#q">q</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>).<br/>
<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="LangProp">LangProp</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Context</span> {<span class="id">F</span> <span class="id">V</span> <span class="id">G</span> <span class="id">core</span> : <span class="kwd">Type</span>}.<br/>
&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="LangProp.init_gmem">init_gmem</a></span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="InteractionSemantics.html#LangProp.F">F</a></span> <span class="id"><a href="InteractionSemantics.html#LangProp.V">V</a></span> -&gt; <span class="id"><a href="GMemory.html#gmem">gmem</a></span> -&gt; <span class="kwd">Prop</span>.<br/>
&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="LangProp.step">step</a></span> : <span class="id"><a href="InteractionSemantics.html#LangProp.G">G</a></span> -&gt; <span class="id"><a href="MemAux.html#freelist">freelist</a></span> -&gt; <span class="id"><a href="InteractionSemantics.html#LangProp.core">core</a></span> -&gt; <span class="id"><a href="GMemory.html#gmem">gmem</a></span> -&gt; <span class="id"><a href="Footprint.html#FP.t">FP.t</a></span> -&gt; <span class="id"><a href="InteractionSemantics.html#LangProp.core">core</a></span> -&gt; <span class="id"><a href="GMemory.html#gmem">gmem</a></span> -&gt; <span class="kwd">Prop</span>.<br/>
&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="LangProp.at_external">at_external</a></span> : <span class="id"><a href="InteractionSemantics.html#LangProp.G">G</a></span> -&gt; <span class="id"><a href="InteractionSemantics.html#LangProp.core">core</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> (<span class="id"><a href="AST.html#ident">ident</a></span> * <span class="id"><a href="AST.html#signature">signature</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Values.html#val">val</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="LangProp.halt">halt</a></span> : <span class="id"><a href="InteractionSemantics.html#LangProp.core">core</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Values.html#val">val</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id">init_gmem_valid</span>': <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">gm</span>, <span class="id"><a href="InteractionSemantics.html#LangProp.init_gmem">init_gmem</a></span> <span class="id"><a href="InteractionSemantics.html#ge">ge</a></span> <span class="id"><a href="InteractionSemantics.html#gm">gm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id"><a href="InteractionSemantics.html#ge">ge</a></span>) -&gt; <span class="id"><a href="GMemory.html#GMem.valid_block">GMem.valid_block</a></span> <span class="id"><a href="InteractionSemantics.html#gm">gm</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="belongsto">belongsto</a></span>:=<span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="notbelongsto">notbelongsto</a></span> (<span class="id">l</span>:<span class="id"><a href="Footprint.html#Locs.t">Locs.t</a></span>):= <span class="kwd">fun</span> <span class="id">b</span> <span class="id">ofs</span>=&gt; (<span class="id"><a href="InteractionSemantics.html#l">l</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span>=<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="unchanged_validity">unchanged_validity</a></span> (<span class="id">P</span>:<span class="id"><a href="Values.html#block">block</a></span>-&gt;<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>-&gt;<span class="kwd">Prop</span>)(<span class="id">m</span> <span class="id">m</span>':<span class="id">GMem.gmem</span>'):<span class="kwd">Prop</span>:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#P">P</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GMemory.html#GMem.valid_block">GMem.valid_block</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span> &lt;-&gt; <span class="id"><a href="GMemory.html#GMem.valid_block">GMem.valid_block</a></span> <span class="id">m</span>' <span class="id"><a href="InteractionSemantics.html#b">b</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="unchanged_perm">unchanged_perm</a></span> (<span class="id">P</span>:<span class="id"><a href="Values.html#block">block</a></span>-&gt;<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>-&gt;<span class="kwd">Prop</span>)(<span class="id">m</span> <span class="id">m</span>':<span class="id">GMem.gmem</span>'):<span class="kwd">Prop</span>:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#unchanged_validity">unchanged_validity</a></span> <span class="id"><a href="InteractionSemantics.html#P">P</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>' /\ <span class="id"><a href="GMemory.html#GMem.eq_perm">GMem.eq_perm</a></span> <span class="id"><a href="InteractionSemantics.html#P">P</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>'.<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="unchanged_content">unchanged_content</a></span> (<span class="id">P</span>:<span class="id"><a href="Values.html#block">block</a></span>-&gt;<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>-&gt;<span class="kwd">Prop</span>)(<span class="id">m</span> <span class="id">m</span>':<span class="id">GMem.gmem</span>'):<span class="kwd">Prop</span>:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#unchanged_perm">unchanged_perm</a></span> <span class="id"><a href="InteractionSemantics.html#P">P</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span>,<span class="id"><a href="InteractionSemantics.html#P">P</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span> -&gt;<span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span> <span class="id"><a href="Memperm.html#Max">Memperm.Max</a></span> <span class="id"><a href="Memperm.html#Readable">Memperm.Readable</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Maps.html#ZMap.get">Maps.ZMap.get</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span> (<span class="id"><a href="Maps.html#PMap.get">Maps.PMap.get</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id">m</span>'.(<span class="id"><a href="GMemory.html#GMem.mem_contents">GMem.mem_contents</a></span>)) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Maps.html#ZMap.get">Maps.ZMap.get</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span> (<span class="id"><a href="Maps.html#PMap.get">Maps.PMap.get</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span>.(<span class="id"><a href="GMemory.html#GMem.mem_contents">GMem.mem_contents</a></span>)).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="depends">depends</a></span> (<span class="id">fp</span>: <span class="id"><a href="Footprint.html#FP.t">FP.t</a></span>) : <span class="id"><a href="Footprint.html#Locs.t">Locs.t</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> (<span class="id"><a href="Footprint.html#FP.cmps">FP.cmps</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span>) (<span class="id"><a href="Footprint.html#FP.reads">FP.reads</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="effects">effects</a></span> (<span class="id">fp</span>: <span class="id"><a href="Footprint.html#FP.t">FP.t</a></span>) : <span class="id"><a href="Footprint.html#Locs.t">Locs.t</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> (<span class="id"><a href="Footprint.html#FP.writes">FP.writes</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span>) (<span class="id"><a href="Footprint.html#FP.frees">FP.frees</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="perm_effect">perm_effect</a></span> (<span class="id">m</span> <span class="id">m</span>': <span class="id"><a href="GMemory.html#gmem">gmem</a></span>) (<span class="id">b</span>: <span class="id"><a href="Values.html#block">block</a></span>) (<span class="id">ofs</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="Perm_effect_drop">Perm_effect_drop</a></span>: <span class="kwd">forall</span> <span class="id">k</span> <span class="id">p</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id"><a href="InteractionSemantics.html#k">k</a></span> <span class="id"><a href="InteractionSemantics.html#p">p</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~ <span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span> <span class="id">m</span>' <span class="id">b</span> <span class="id">ofs</span> <span class="id"><a href="InteractionSemantics.html#k">k</a></span> <span class="id"><a href="InteractionSemantics.html#p">p</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#perm_effect">perm_effect</a></span> <span class="id">m</span> <span class="id">m</span>' <span class="id">b</span> <span class="id">ofs</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="Perm_effect_rise">Perm_effect_rise</a></span>: <span class="kwd">forall</span> <span class="id">k</span> <span class="id">p</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~ <span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id"><a href="InteractionSemantics.html#k">k</a></span> <span class="id"><a href="InteractionSemantics.html#p">p</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span> <span class="id">m</span>' <span class="id">b</span> <span class="id">ofs</span> <span class="id"><a href="InteractionSemantics.html#k">k</a></span> <span class="id"><a href="InteractionSemantics.html#p">p</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#perm_effect">perm_effect</a></span> <span class="id">m</span> <span class="id">m</span>' <span class="id">b</span> <span class="id">ofs</span>.<br/>
<br/>
<div class="doc">This property characterizes that the extensional memory effect 
      between <span class="bracket"><span class="id">m_before</span></span> and <span class="bracket"><span class="id">m_after</span></span> is captured by footprint <span class="bracket"><span class="id">fp</span></span>,
      which means 
<ul>
<li>
 <span class="bracket"><span class="id">MemContentPreserve</span></span> : the memory contents stays unchanged outside <span class="bracket"><span class="id">effects</span> <span class="id">fp</span></span>
</li>
<li>
 <span class="bracket"><span class="id">MemPermPreserve</span></span> : the memory permissions stay unchanged outside <span class="bracket"><span class="id">frees</span> <span class="id">fp</span></span>
</li>
<li>
 <span class="bracket"><span class="id">PermEffect</span></span> : redundant field, could be implied from <span class="bracket"><span class="id">MemPermPreserve</span></span>, will be deleted in the future
</li>
<li>
 <span class="bracket"><span class="id">ValidityPreserve</span></span> : the <span class="bracket"><span class="id">validblocks</span></span> set could only be enlarged
   </li>
</ul>
</div>
&nbsp;&nbsp;<span class="kwd">Record</span> <span class="id"><a name="MemEffect">MemEffect</a></span> (<span class="id">m_before</span> <span class="id">m_after</span>: <span class="id"><a href="GMemory.html#gmem">gmem</a></span>) (<span class="id">fp</span>: <span class="id"><a href="Footprint.html#FP.t">FP.t</a></span>): <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="MemContentPreserve">MemContentPreserve</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#unchanged_content">unchanged_content</a></span> (<span class="id"><a href="InteractionSemantics.html#notbelongsto">notbelongsto</a></span> (<span class="id"><a href="InteractionSemantics.html#effects">effects</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span>)) <span class="id"><a href="InteractionSemantics.html#m_before">m_before</a></span> <span class="id"><a href="InteractionSemantics.html#m_after">m_after</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="MemPermPreserve">MemPermPreserve</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#unchanged_perm">unchanged_perm</a></span> (<span class="id"><a href="InteractionSemantics.html#notbelongsto">notbelongsto</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span>.(<span class="id"><a href="Footprint.html#FP.frees">FP.frees</a></span>)) <span class="id"><a href="InteractionSemantics.html#m_before">m_before</a></span> <span class="id"><a href="InteractionSemantics.html#m_after">m_after</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="PermEffect">PermEffect</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span>, <span class="id"><a href="InteractionSemantics.html#perm_effect">perm_effect</a></span> <span class="id"><a href="InteractionSemantics.html#m_before">m_before</a></span> <span class="id"><a href="InteractionSemantics.html#m_after">m_after</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span> -&gt; <span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span> (<span class="id"><a href="Footprint.html#FP.frees">FP.frees</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span>) <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="ValidityPreserve">ValidityPreserve</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="GMemory.html#GMem.valid_block">GMem.valid_block</a></span> <span class="id"><a href="InteractionSemantics.html#m_before">m_before</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span> -&gt; <span class="id"><a href="GMemory.html#GMem.valid_block">GMem.valid_block</a></span> <span class="id"><a href="InteractionSemantics.html#m_after">m_after</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>
<br/>
<div class="doc">This property characterizes that allocation is performed locally in the freelist <span class="bracket"><span class="id">fl</span></span> </div>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LocalAlloc">LocalAlloc</a></span>(<span class="id">m_before</span> <span class="id">m_after</span>: <span class="id"><a href="GMemory.html#gmem">gmem</a></span>) (<span class="id">fl</span>: <span class="id"><a href="MemAux.html#freelist">freelist</a></span>): <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span>, ~<span class="id"><a href="GMemory.html#GMem.valid_block">GMem.valid_block</a></span> <span class="id"><a href="InteractionSemantics.html#m_before">m_before</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span> -&gt; <span class="id"><a href="GMemory.html#GMem.valid_block">GMem.valid_block</a></span> <span class="id"><a href="InteractionSemantics.html#m_after">m_after</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span> -&gt; <span class="id"><a href="MemAux.html#in_fl">in_fl</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span>.<br/>
<br/>
<div class="doc">This is the combinition of the above two properties, corresponds to LEffect in paper Fig. 6 </div>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LEffect">LEffect</a></span> (<span class="id">m_before</span> <span class="id">m_after</span>: <span class="id"><a href="GMemory.html#gmem">gmem</a></span>) (<span class="id">fp</span>: <span class="id"><a href="Footprint.html#FP.t">FP.t</a></span>) (<span class="id">fl</span>: <span class="id"><a href="MemAux.html#freelist">freelist</a></span>): <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#MemEffect">MemEffect</a></span> <span class="id"><a href="InteractionSemantics.html#m_before">m_before</a></span> <span class="id"><a href="InteractionSemantics.html#m_after">m_after</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> /\ <span class="id"><a href="InteractionSemantics.html#LocalAlloc">LocalAlloc</a></span> <span class="id"><a href="InteractionSemantics.html#m_before">m_before</a></span> <span class="id"><a href="InteractionSemantics.html#m_after">m_after</a></span>  <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span>.<br/>
<br/>
<div class="doc">This property characterizes the relation between two memory states such that 
      they are equivalent modulo <span class="bracket"><span class="id">fp</span></span> 
<ul>
<li>
 <span class="bracket"><span class="id">ReadMemEq</span></span>: memory contents of location in <span class="bracket"><span class="id">reads</span></span> are equal
</li>
<li>
 <span class="bracket"><span class="id">CmpMemPermExists</span></span>: memory permissions of location in <span class="bracket"><span class="id">cmps</span></span> are equal
</li>
<li>
 <span class="bracket"><span class="id">EffectPermEqPre</span></span>: memory permissions of location in <span class="bracket"><span class="id">writes</span></span> or <span class="bracket"><span class="id">frees</span></span> are equal
   </li>
</ul>
</div>
&nbsp;&nbsp;<span class="kwd">Record</span> <span class="id"><a name="MemPre">MemPre</a></span>  (<span class="id">m_before</span> <span class="id">m_before</span>': <span class="id"><a href="GMemory.html#gmem">gmem</a></span>) (<span class="id">fp</span>: <span class="id"><a href="Footprint.html#FP.t">FP.t</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="ReadMemEq">ReadMemEq</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#unchanged_content">unchanged_content</a></span> (<span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span>.(<span class="id"><a href="Footprint.html#FP.reads">FP.reads</a></span>)) <span class="id"><a href="InteractionSemantics.html#m_before">m_before</a></span> <span class="id">m_before</span>';<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="CmpMemPermExists">CmpMemPermExists</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#unchanged_perm">unchanged_perm</a></span> (<span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span>.(<span class="id"><a href="Footprint.html#FP.cmps">FP.cmps</a></span>)) <span class="id"><a href="InteractionSemantics.html#m_before">m_before</a></span> <span class="id">m_before</span>';<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="EffectPermEqPre">EffectPermEqPre</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span>, <span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span> (<span class="id"><a href="InteractionSemantics.html#effects">effects</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span>) <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">k</span> <span class="id">p</span>, <span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span> <span class="id"><a href="InteractionSemantics.html#m_before">m_before</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span> <span class="id"><a href="InteractionSemantics.html#k">k</a></span> <span class="id"><a href="InteractionSemantics.html#p">p</a></span> &lt;-&gt; <span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span> <span class="id">m_before</span>' <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span> <span class="id"><a href="InteractionSemantics.html#k">k</a></span> <span class="id"><a href="InteractionSemantics.html#p">p</a></span>);}.<br/>
<br/>
<div class="doc">Block validities are equal modulo freelists </div>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="FreelistEq">FreelistEq</a></span>(<span class="id">m_before</span> <span class="id">m_before</span>': <span class="id"><a href="GMemory.html#gmem">gmem</a></span>)(<span class="id">fl</span>: <span class="id"><a href="MemAux.html#freelist">freelist</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="MemAux.html#in_fl">in_fl</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GMemory.html#GMem.valid_block">GMem.valid_block</a></span> <span class="id"><a href="InteractionSemantics.html#m_before">m_before</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span> &lt;-&gt; <span class="id"><a href="GMemory.html#GMem.valid_block">GMem.valid_block</a></span> <span class="id">m_before</span>' <span class="id"><a href="InteractionSemantics.html#b">b</a></span>.<br/>
<br/>
<div class="doc">Combinition of properties above, corresponding to LPre in paper Fig.6 </div>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LPre">LPre</a></span> (<span class="id">m_before</span> <span class="id">m_before</span>': <span class="id"><a href="GMemory.html#gmem">gmem</a></span>) (<span class="id">fp</span>: <span class="id"><a href="Footprint.html#FP.t">FP.t</a></span>) (<span class="id">fl</span>: <span class="id"><a href="MemAux.html#freelist">freelist</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#MemPre">MemPre</a></span> <span class="id"><a href="InteractionSemantics.html#m_before">m_before</a></span> <span class="id">m_before</span>' <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> /\ <span class="id"><a href="InteractionSemantics.html#FreelistEq">FreelistEq</a></span> <span class="id"><a href="InteractionSemantics.html#m_before">m_before</a></span> <span class="id">m_before</span>' <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span>.<br/>
<br/>
<div class="doc">Memory contents are equal modulo <span class="bracket"><span class="id">writes</span></span> and <span class="bracket"><span class="id">frees</span></span> </div>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="MemPost">MemPost</a></span> (<span class="id">m_after</span> <span class="id">m_after</span>': <span class="id"><a href="GMemory.html#gmem">gmem</a></span>) (<span class="id">fp</span>: <span class="id"><a href="Footprint.html#FP.t">FP.t</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#unchanged_content">unchanged_content</a></span> (<span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span> (<span class="id"><a href="InteractionSemantics.html#effects">effects</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span>) ) <span class="id"><a href="InteractionSemantics.html#m_after">m_after</a></span> <span class="id">m_after</span>'.<br/>
&nbsp;&nbsp;<br/>
<div class="doc">LPost in paper Fig. 6 </div>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LPost">LPost</a></span> (<span class="id">m_after</span> <span class="id">m_after</span>': <span class="id"><a href="GMemory.html#gmem">gmem</a></span>) (<span class="id">fp</span>: <span class="id"><a href="Footprint.html#FP.t">FP.t</a></span>) (<span class="id">fl</span>: <span class="id"><a href="MemAux.html#freelist">freelist</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#MemPost">MemPost</a></span> <span class="id"><a href="InteractionSemantics.html#m_after">m_after</a></span> <span class="id">m_after</span>' <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> /\ <span class="id"><a href="InteractionSemantics.html#FreelistEq">FreelistEq</a></span> <span class="id"><a href="InteractionSemantics.html#m_after">m_after</a></span> <span class="id">m_after</span>' <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span>.<br/>
<br/>
<div class="doc"><span class="bracket"><span class="id">validblocks</span></span> is enlarged after core step </div>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="corestep_forward">corestep_forward</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">fl</span> <span class="id">q</span> <span class="id">m</span> <span class="id">fp</span> <span class="id">q</span>' <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#LangProp.step">step</a></span> <span class="id"><a href="InteractionSemantics.html#ge">ge</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span> <span class="id"><a href="InteractionSemantics.html#q">q</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id">q</span>' <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GMemory.html#GMem.forward">GMem.forward</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>'.<br/>
<br/>
<div class="doc">memory effect of core step is captured by its footprint </div>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="corestep_local_eff">corestep_local_eff</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">fl</span> <span class="id">q</span> <span class="id">m</span> <span class="id">fp</span> <span class="id">q</span>' <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#LangProp.step">step</a></span> <span class="id"><a href="InteractionSemantics.html#ge">ge</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span> <span class="id"><a href="InteractionSemantics.html#q">q</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id">q</span>' <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#LEffect">LEffect</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>' <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span>.<br/>
<br/>
<div class="doc">if two memories are equal modulo the footprint and freelist of the core step,
      they are able to perform the same core step </div>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="corestep_locality_1">corestep_locality_1</a></span>:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">fl</span> <span class="id">q</span> <span class="id">m</span> <span class="id">fp</span> <span class="id">q</span>' <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#LangProp.step">step</a></span> <span class="id"><a href="InteractionSemantics.html#ge">ge</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span> <span class="id"><a href="InteractionSemantics.html#q">q</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id">q</span>' <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m0</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#LPre">LPre</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#m0">m0</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">m0</span>', <span class="id"><a href="InteractionSemantics.html#LangProp.step">step</a></span> <span class="id"><a href="InteractionSemantics.html#ge">ge</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span> <span class="id"><a href="InteractionSemantics.html#q">q</a></span> <span class="id"><a href="InteractionSemantics.html#m0">m0</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id">q</span>' <span class="id">m0</span>' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#LPost">LPost</a></span> <span class="id">m</span>' <span class="id">m0</span>' <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span>.<br/>
<div class="doc">non-determinism of core-steps are captured by union of all possible <span class="bracket"><span class="id">reads</span></span> and <span class="bracket"><span class="id">cmps</span></span> </div>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="corestep_locality_2">corestep_locality_2</a></span>:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">fl</span> <span class="id">q</span> <span class="id">m</span> <span class="id">m0</span> <span class="id">fp0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">H_step</span>: <span class="id">exists</span> <span class="id">fp1</span> <span class="id">q1</span> <span class="id">m1</span>, <span class="id"><a href="InteractionSemantics.html#LangProp.step">step</a></span> <span class="id"><a href="InteractionSemantics.html#ge">ge</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span> <span class="id"><a href="InteractionSemantics.html#q">q</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#q1">q1</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">fp</span> <span class="id">q</span>' <span class="id">m</span>', <span class="id"><a href="InteractionSemantics.html#LangProp.step">step</a></span> <span class="id"><a href="InteractionSemantics.html#ge">ge</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span> <span class="id"><a href="InteractionSemantics.html#q">q</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id">q</span>' <span class="id">m</span>' -&gt; <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id"><a href="InteractionSemantics.html#fp0">fp0</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#LPre">LPre</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#m0">m0</a></span> <span class="id"><a href="InteractionSemantics.html#fp0">fp0</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">fp</span> <span class="id">q</span>' <span class="id">m0</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#LangProp.step">step</a></span> <span class="id"><a href="InteractionSemantics.html#ge">ge</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span> <span class="id"><a href="InteractionSemantics.html#q">q</a></span> <span class="id"><a href="InteractionSemantics.html#m0">m0</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id">q</span>' <span class="id">m0</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">m</span>', <span class="id"><a href="InteractionSemantics.html#LangProp.step">step</a></span> <span class="id"><a href="InteractionSemantics.html#ge">ge</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span> <span class="id"><a href="InteractionSemantics.html#q">q</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id">q</span>' <span class="id">m</span>').<br/>
<br/>
<div class="doc"><span class="bracket"><span class="id">step</span></span>, <span class="bracket"><span class="id">at_external</span></span> and <span class="bracket"><span class="id">halt</span></span> are mutual-exclusive </div>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="corestep_not_at_external">corestep_not_at_external</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">fl</span> <span class="id">m</span> <span class="id">q</span> <span class="id">fp</span> <span class="id">m</span>' <span class="id">q</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#LangProp.step">step</a></span> <span class="id"><a href="InteractionSemantics.html#ge">ge</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span> <span class="id"><a href="InteractionSemantics.html#q">q</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id">q</span>' <span class="id">m</span>' -&gt; <span class="id"><a href="InteractionSemantics.html#LangProp.at_external">at_external</a></span> <span class="id"><a href="InteractionSemantics.html#ge">ge</a></span> <span class="id"><a href="InteractionSemantics.html#q">q</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="corestep_not_halted">corestep_not_halted</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">fl</span> <span class="id">m</span> <span class="id">q</span> <span class="id">fp</span> <span class="id">m</span>' <span class="id">q</span>', <span class="id"><a href="InteractionSemantics.html#LangProp.step">step</a></span> <span class="id"><a href="InteractionSemantics.html#ge">ge</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span> <span class="id"><a href="InteractionSemantics.html#q">q</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id">q</span>' <span class="id">m</span>' -&gt; <span class="id"><a href="InteractionSemantics.html#LangProp.halt">halt</a></span> <span class="id"><a href="InteractionSemantics.html#q">q</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="at_external_halted_excl">at_external_halted_excl</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">q</span>, <span class="id"><a href="InteractionSemantics.html#LangProp.at_external">at_external</a></span> <span class="id"><a href="InteractionSemantics.html#ge">ge</a></span> <span class="id"><a href="InteractionSemantics.html#q">q</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> \/ <span class="id"><a href="InteractionSemantics.html#LangProp.halt">halt</a></span> <span class="id"><a href="InteractionSemantics.html#q">q</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>.<br/>
<br/>
<div class="doc">Deterministic of step </div>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="step_det">step_det</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">fl</span> <span class="id">m</span> <span class="id">q</span> <span class="id">fp1</span> <span class="id">m1</span> <span class="id">q1</span> <span class="id">fp2</span> <span class="id">m2</span> <span class="id">q2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#LangProp.step">step</a></span> <span class="id"><a href="InteractionSemantics.html#ge">ge</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span> <span class="id"><a href="InteractionSemantics.html#q">q</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#q1">q1</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#LangProp.step">step</a></span> <span class="id"><a href="InteractionSemantics.html#ge">ge</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span> <span class="id"><a href="InteractionSemantics.html#q">q</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span> <span class="id"><a href="InteractionSemantics.html#q2">q2</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> = <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#q1">q1</a></span> = <span class="id"><a href="InteractionSemantics.html#q2">q2</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> = <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="eq_mem_eq_corestep">eq_mem_eq_corestep</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m1</span> <span class="id">m2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">GMem.eq</span>' <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">fl</span> <span class="id">q</span> <span class="id">fp</span> <span class="id">m1</span>' <span class="id">q</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#LangProp.step">step</a></span> <span class="id"><a href="InteractionSemantics.html#ge">ge</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span> <span class="id"><a href="InteractionSemantics.html#q">q</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id">q</span>' <span class="id">m1</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">m2</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#LangProp.step">step</a></span> <span class="id"><a href="InteractionSemantics.html#ge">ge</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span> <span class="id"><a href="InteractionSemantics.html#q">q</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id">q</span>' <span class="id">m2</span>' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">GMem.eq</span>' <span class="id">m1</span>' <span class="id">m2</span>').<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="unchanged_validity_refl">unchanged_validity_refl</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">P</span> <span class="id">m</span>,<span class="id"><a href="InteractionSemantics.html#unchanged_validity">unchanged_validity</a></span> <span class="id"><a href="InteractionSemantics.html#P">P</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5800')">Proof.</div>
<div class="proofscript" id="proof5800">
 <span class="tactic">split</span>;<span class="tactic">intro</span>;<span class="tactic">auto</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="unchanged_validity_comm">unchanged_validity_comm</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">P</span> <span class="id">m</span> <span class="id">m</span>',<span class="id"><a href="InteractionSemantics.html#unchanged_validity">unchanged_validity</a></span> <span class="id"><a href="InteractionSemantics.html#P">P</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>'-&gt;<span class="id"><a href="InteractionSemantics.html#unchanged_validity">unchanged_validity</a></span> <span class="id"><a href="InteractionSemantics.html#P">P</a></span> <span class="id">m</span>' <span class="id"><a href="InteractionSemantics.html#m">m</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5801')">Proof.</div>
<div class="proofscript" id="proof5801">
 <span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#unchanged_validity">unchanged_validity</a></span>;<span class="tactic">intros</span>;<span class="id">specialize</span> (<span class="id">H</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">H0</span>) <span class="kwd">as</span> [];<span class="tactic">split</span>;<span class="tactic">auto</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="unchanged_validity_trans">unchanged_validity_trans</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">P</span> <span class="id">m1</span> <span class="id">m2</span> <span class="id">m3</span>,<span class="id"><a href="InteractionSemantics.html#unchanged_validity">unchanged_validity</a></span> <span class="id"><a href="InteractionSemantics.html#P">P</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span>-&gt;<span class="id"><a href="InteractionSemantics.html#unchanged_validity">unchanged_validity</a></span> <span class="id"><a href="InteractionSemantics.html#P">P</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#unchanged_validity">unchanged_validity</a></span> <span class="id"><a href="InteractionSemantics.html#P">P</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5802')">Proof.</div>
<div class="proofscript" id="proof5802">
 <span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#unchanged_validity">unchanged_validity</a></span> <span class="kwd">in</span> *;<span class="tactic">intros</span>;<span class="id">specialize</span> (<span class="id">H</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">H1</span>);<span class="id">specialize</span> (<span class="id">H0</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">H1</span>);<span class="tactic">split</span>;<span class="tactic">intro</span>;[<span class="tactic">apply</span> <span class="id">H0</span>;<span class="tactic">apply</span> <span class="id">H</span>|<span class="tactic">apply</span> <span class="id">H</span>;<span class="tactic">apply</span> <span class="id">H0</span>];<span class="tactic">auto</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="unchanged_validity_implies">unchanged_validity_implies</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">P</span> <span class="id">P</span>':<span class="id"><a href="Values.html#block">block</a></span>-&gt;<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>-&gt;<span class="kwd">Prop</span>) <span class="id">m</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span>, <span class="id"><a href="InteractionSemantics.html#P">P</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span> -&gt; <span class="id">P</span>' <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#unchanged_validity">unchanged_validity</a></span> <span class="id">P</span>' <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#unchanged_validity">unchanged_validity</a></span> <span class="id"><a href="InteractionSemantics.html#P">P</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5803')">Proof.</div>
<div class="proofscript" id="proof5803">
 <span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#unchanged_validity">unchanged_validity</a></span>;<span class="tactic">intros</span>;<span class="id">specialize</span> (<span class="id">H</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">H1</span>);<span class="id">specialize</span> (<span class="id">H0</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">H</span>);<span class="tactic">auto</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="unchanged_validity_union">unchanged_validity_union</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">P</span> <span class="id">P</span>' <span class="id">m</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#unchanged_validity">unchanged_validity</a></span> <span class="id"><a href="InteractionSemantics.html#P">P</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>'-&gt;<span class="id"><a href="InteractionSemantics.html#unchanged_validity">unchanged_validity</a></span> <span class="id">P</span>' <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#unchanged_validity">unchanged_validity</a></span> (<span class="kwd">fun</span> <span class="id">b</span> <span class="id">ofs</span>=&gt;<span class="id"><a href="InteractionSemantics.html#P">P</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span> \/ <span class="id">P</span>' <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span>) <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5804')">Proof.</div>
<div class="proofscript" id="proof5804">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#unchanged_validity">unchanged_validity</a></span>;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H1</span>;[<span class="tactic">eapply</span> <span class="id">H</span>|<span class="tactic">eapply</span> <span class="id">H0</span>];<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="unchanged_validity_union2">unchanged_validity_union2</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l1</span> <span class="id">l2</span> <span class="id">m</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#unchanged_validity">unchanged_validity</a></span> (<span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span> <span class="id"><a href="InteractionSemantics.html#l1">l1</a></span>) <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#unchanged_validity">unchanged_validity</a></span> (<span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span> <span class="id"><a href="InteractionSemantics.html#l2">l2</a></span>) <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#unchanged_validity">unchanged_validity</a></span> (<span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span>(<span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> <span class="id"><a href="InteractionSemantics.html#l1">l1</a></span> <span class="id"><a href="InteractionSemantics.html#l2">l2</a></span>)) <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5805')">Proof.</div>
<div class="proofscript" id="proof5805">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#unchanged_validity">unchanged_validity</a></span>;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="id">Locs.unfolds</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">l1</span> <span class="id">eqn</span>:?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="unchanged_perm_refl">unchanged_perm_refl</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">P</span> <span class="id">m</span>,<span class="id"><a href="InteractionSemantics.html#unchanged_perm">unchanged_perm</a></span> <span class="id"><a href="InteractionSemantics.html#P">P</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5806')">Proof.</div>
<div class="proofscript" id="proof5806">
 <span class="tactic">intros</span>;<span class="id">constructor</span>. <span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_validity_refl">unchanged_validity_refl</a></span>. <span class="tactic">intros</span>;<span class="tactic">split</span>;<span class="tactic">auto</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="unchanged_perm_comm">unchanged_perm_comm</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">P</span> <span class="id">m</span> <span class="id">m</span>',<span class="id"><a href="InteractionSemantics.html#unchanged_perm">unchanged_perm</a></span> <span class="id"><a href="InteractionSemantics.html#P">P</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>'-&gt;<span class="id"><a href="InteractionSemantics.html#unchanged_perm">unchanged_perm</a></span> <span class="id"><a href="InteractionSemantics.html#P">P</a></span> <span class="id">m</span>' <span class="id"><a href="InteractionSemantics.html#m">m</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5807')">Proof.</div>
<div class="proofscript" id="proof5807">
 <span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#unchanged_perm">unchanged_perm</a></span>;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">H</span>. <span class="tactic">split</span>;[<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_validity_comm">unchanged_validity_comm</a></span>|<span class="tactic">unfold</span> <span class="id"><a href="GMemory.html#GMem.eq_perm">GMem.eq_perm</a></span>;<span class="tactic">intros</span>];<span class="tactic">auto</span>;<span class="id">specialize</span> (<span class="id">H0</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">k</span> <span class="id">p</span> <span class="id">H1</span>) <span class="kwd">as</span> [];<span class="tactic">split</span>;<span class="tactic">auto</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="unchanged_perm_trans">unchanged_perm_trans</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">P</span> <span class="id">m</span> <span class="id">m1</span> <span class="id">m2</span>,<span class="id"><a href="InteractionSemantics.html#unchanged_perm">unchanged_perm</a></span> <span class="id"><a href="InteractionSemantics.html#P">P</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> -&gt;<span class="id"><a href="InteractionSemantics.html#unchanged_perm">unchanged_perm</a></span> <span class="id"><a href="InteractionSemantics.html#P">P</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span>-&gt;<span class="id"><a href="InteractionSemantics.html#unchanged_perm">unchanged_perm</a></span> <span class="id"><a href="InteractionSemantics.html#P">P</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5808')">Proof.</div>
<div class="proofscript" id="proof5808">
 <span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#unchanged_perm">unchanged_perm</a></span>;<span class="tactic">intros</span> <span class="id">P</span> <span class="id">m</span> <span class="id">m1</span> <span class="id">m2</span> [] [];<span class="tactic">split</span>;[<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_validity_trans">unchanged_validity_trans</a></span>|];<span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="GMemory.html#GMem.eq_perm">GMem.eq_perm</a></span>;<span class="tactic">intros</span>; <span class="id">specialize</span> (<span class="id">H0</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">k</span> <span class="id">p</span> <span class="id">H3</span>) <span class="kwd">as</span> [];<span class="id">specialize</span> (<span class="id">H2</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">k</span> <span class="id">p</span> <span class="id">H3</span>) <span class="kwd">as</span> [];<span class="tactic">split</span>;<span class="tactic">auto</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="unchanged_perm_implies">unchanged_perm_implies</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">P</span> <span class="id">P</span>':<span class="id"><a href="Values.html#block">block</a></span>-&gt;<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>-&gt;<span class="kwd">Prop</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span>,<span class="id">P</span>' <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span>-&gt;<span class="id"><a href="InteractionSemantics.html#P">P</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span>)-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">m</span>', <span class="id"><a href="InteractionSemantics.html#unchanged_perm">unchanged_perm</a></span> <span class="id"><a href="InteractionSemantics.html#P">P</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>' -&gt;<span class="id"><a href="InteractionSemantics.html#unchanged_perm">unchanged_perm</a></span> <span class="id">P</span>' <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5809')">Proof.</div>
<div class="proofscript" id="proof5809">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#unchanged_perm">unchanged_perm</a></span>;<span class="tactic">intros</span> <span class="id">P</span> <span class="id">P</span>' <span class="id">H</span> <span class="id">m</span> <span class="id">m</span>' [];<span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_validity_implies">unchanged_validity_implies</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GMemory.html#GMem.eq_perm">GMem.eq_perm</a></span>;<span class="tactic">intros</span>;<span class="id">specialize</span> (<span class="id">H1</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">k</span> <span class="id">p</span> (<span class="id">H</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">H2</span>)) <span class="kwd">as</span> [];<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="unchanged_perm_union">unchanged_perm_union</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">P</span> <span class="id">P</span>' <span class="id">m</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#unchanged_perm">unchanged_perm</a></span> <span class="id"><a href="InteractionSemantics.html#P">P</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>' -&gt; <span class="id"><a href="InteractionSemantics.html#unchanged_perm">unchanged_perm</a></span> <span class="id">P</span>' <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>' -&gt; <span class="id"><a href="InteractionSemantics.html#unchanged_perm">unchanged_perm</a></span> (<span class="kwd">fun</span> <span class="id">b</span> <span class="id">ofs</span>=&gt;<span class="id"><a href="InteractionSemantics.html#P">P</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span> \/ <span class="id">P</span>' <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span>) <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5810')">Proof.</div>
<div class="proofscript" id="proof5810">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#unchanged_perm">unchanged_perm</a></span>;<span class="tactic">intros</span> <span class="id">P</span> <span class="id">P</span>' <span class="id">m</span> <span class="id">m</span>' [] [];<span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_validity_union">unchanged_validity_union</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">k</span> <span class="id">p</span> [];[<span class="tactic">apply</span> <span class="id">H0</span>|<span class="tactic">apply</span> <span class="id">H2</span>];<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="unchanged_perm_union2">unchanged_perm_union2</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l1</span> <span class="id">l2</span> <span class="id">m</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#unchanged_perm">unchanged_perm</a></span> (<span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span> <span class="id"><a href="InteractionSemantics.html#l1">l1</a></span>)<span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#unchanged_perm">unchanged_perm</a></span> (<span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span> <span class="id"><a href="InteractionSemantics.html#l2">l2</a></span>)<span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#unchanged_perm">unchanged_perm</a></span> (<span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span>(<span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> <span class="id"><a href="InteractionSemantics.html#l1">l1</a></span> <span class="id"><a href="InteractionSemantics.html#l2">l2</a></span>)) <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5811')">Proof.</div>
<div class="proofscript" id="proof5811">
 <span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#unchanged_perm">unchanged_perm</a></span>;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">H</span>,<span class="id">H0</span>;<span class="tactic">split</span>. <span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_validity_union2">unchanged_validity_union2</a></span>;<span class="tactic">auto</span>. <span class="tactic">unfold</span> <span class="id"><a href="GMemory.html#GMem.eq_perm">GMem.eq_perm</a></span>;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="tactic">destruct</span> <span class="id">l1</span> <span class="id">eqn</span>:?;<span class="tactic">eauto</span>. Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="unchanged_content_refl">unchanged_content_refl</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">P</span> <span class="id">m</span>,<span class="id"><a href="InteractionSemantics.html#unchanged_content">unchanged_content</a></span> <span class="id"><a href="InteractionSemantics.html#P">P</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5812')">Proof.</div>
<div class="proofscript" id="proof5812">
 <span class="tactic">intros</span>;<span class="tactic">split</span>;[<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_perm_refl">unchanged_perm_refl</a></span>|<span class="tactic">intros</span>];<span class="tactic">auto</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="unchanged_content_comm">unchanged_content_comm</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">P</span> <span class="id">m</span> <span class="id">m</span>',<span class="id"><a href="InteractionSemantics.html#unchanged_content">unchanged_content</a></span> <span class="id"><a href="InteractionSemantics.html#P">P</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>'-&gt;<span class="id"><a href="InteractionSemantics.html#unchanged_content">unchanged_content</a></span> <span class="id"><a href="InteractionSemantics.html#P">P</a></span> <span class="id">m</span>' <span class="id"><a href="InteractionSemantics.html#m">m</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5813')">Proof.</div>
<div class="proofscript" id="proof5813">
 <span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#unchanged_content">unchanged_content</a></span>;<span class="tactic">intros</span> <span class="id">P</span> <span class="id">m</span> <span class="id">m</span>' [];<span class="tactic">split</span>;[<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_perm_comm">unchanged_perm_comm</a></span>|<span class="tactic">intros</span>;<span class="tactic">symmetry</span>;<span class="tactic">apply</span> <span class="id">H0</span>];<span class="tactic">auto</span>. <span class="tactic">destruct</span> <span class="id">H</span>;<span class="tactic">apply</span> <span class="id">H3</span>;<span class="tactic">auto</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="unchanged_content_trans">unchanged_content_trans</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">P</span> <span class="id">m</span> <span class="id">m1</span> <span class="id">m2</span>,<span class="id"><a href="InteractionSemantics.html#unchanged_content">unchanged_content</a></span> <span class="id"><a href="InteractionSemantics.html#P">P</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> -&gt; <span class="id"><a href="InteractionSemantics.html#unchanged_content">unchanged_content</a></span> <span class="id"><a href="InteractionSemantics.html#P">P</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span>-&gt; <span class="id"><a href="InteractionSemantics.html#unchanged_content">unchanged_content</a></span> <span class="id"><a href="InteractionSemantics.html#P">P</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5814')">Proof.</div>
<div class="proofscript" id="proof5814">
 <span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#unchanged_content">unchanged_content</a></span>;<span class="tactic">intros</span> <span class="id">P</span> <span class="id">m</span> <span class="id">m1</span> <span class="id">m2</span> [] [];<span class="tactic">split</span>;[<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_perm_trans">unchanged_perm_trans</a></span>|<span class="tactic">intros</span>;<span class="tactic">rewrite</span> <span class="id">H2</span>];<span class="tactic">eauto</span>. <span class="tactic">destruct</span> <span class="id">H</span>;<span class="tactic">apply</span> <span class="id">H5</span>;<span class="tactic">auto</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="unchanged_content_implies">unchanged_content_implies</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">P</span> <span class="id">P</span>':<span class="id"><a href="Values.html#block">block</a></span>-&gt;<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>-&gt;<span class="kwd">Prop</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span>,<span class="id">P</span>' <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span> -&gt;<span class="id"><a href="InteractionSemantics.html#P">P</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span>)-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">m</span>',<span class="id"><a href="InteractionSemantics.html#unchanged_content">unchanged_content</a></span> <span class="id"><a href="InteractionSemantics.html#P">P</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>'-&gt;<span class="id"><a href="InteractionSemantics.html#unchanged_content">unchanged_content</a></span> <span class="id">P</span>' <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5815')">Proof.</div>
<div class="proofscript" id="proof5815">
 <span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#unchanged_content">unchanged_content</a></span>;<span class="tactic">intros</span> <span class="id">P</span> <span class="id">P</span>' <span class="id">H</span> <span class="id">m</span> <span class="id">m</span>' [];<span class="tactic">split</span>;[<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_perm_implies">unchanged_perm_implies</a></span>|];<span class="tactic">eauto</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="unchanged_content_union">unchanged_content_union</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">P</span> <span class="id">P</span>' <span class="id">m</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#unchanged_content">unchanged_content</a></span> <span class="id"><a href="InteractionSemantics.html#P">P</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>'-&gt;<span class="id"><a href="InteractionSemantics.html#unchanged_content">unchanged_content</a></span> <span class="id">P</span>' <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#unchanged_content">unchanged_content</a></span> (<span class="kwd">fun</span> <span class="id">b</span> <span class="id">ofs</span>=&gt; <span class="id"><a href="InteractionSemantics.html#P">P</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span> \/ <span class="id">P</span>' <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span>) <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5816')">Proof.</div>
<div class="proofscript" id="proof5816">
 <span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#unchanged_content">unchanged_content</a></span>;<span class="tactic">intros</span> <span class="id">P</span> <span class="id">P</span>' <span class="id">m</span> <span class="id">m</span>' [] [];<span class="tactic">split</span>;[<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_perm_union">unchanged_perm_union</a></span>|<span class="tactic">intros</span> <span class="id">b</span> <span class="id">ofs</span> []];<span class="tactic">auto</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="unchanged_content_union2">unchanged_content_union2</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l1</span> <span class="id">l2</span> <span class="id">m</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#unchanged_content">unchanged_content</a></span> (<span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span> <span class="id"><a href="InteractionSemantics.html#l1">l1</a></span>)<span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#unchanged_content">unchanged_content</a></span> (<span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span> <span class="id"><a href="InteractionSemantics.html#l2">l2</a></span>)<span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#unchanged_content">unchanged_content</a></span> (<span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span> (<span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> <span class="id"><a href="InteractionSemantics.html#l1">l1</a></span> <span class="id"><a href="InteractionSemantics.html#l2">l2</a></span>)) <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5817')">Proof.</div>
<div class="proofscript" id="proof5817">
 <span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#unchanged_content">unchanged_content</a></span>;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">H</span>,<span class="id">H0</span>;<span class="tactic">split</span>;<span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_perm_union2">unchanged_perm_union2</a></span>;<span class="tactic">auto</span>. <span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span> <span class="kwd">in</span> <span class="id">H3</span>;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> <span class="kwd">in</span> <span class="id">H3</span>;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span> <span class="kwd">in</span> <span class="id">H3</span>;<span class="tactic">destruct</span> <span class="id">l1</span> <span class="id">eqn</span>:?;<span class="tactic">eauto</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="Memperm_validblock">Memperm_validblock</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">k</span> <span class="id">p</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GMemory.html#GMem.perm">GMemory.GMem.perm</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span> <span class="id"><a href="InteractionSemantics.html#k">k</a></span> <span class="id"><a href="InteractionSemantics.html#p">p</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GMemory.html#GMem.valid_block">GMemory.GMem.valid_block</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5818')">Proof.</div>
<div class="proofscript" id="proof5818">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GMemory.html#GMem.valid_block">GMemory.GMem.valid_block</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GMemory.html#GMem.perm">GMemory.GMem.perm</a></span> <span class="kwd">in</span> <span class="id">H</span>;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#NNPP">Classical_Prop.NNPP</a></span>;<span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">invalid_noaccess</span> <span class="kwd">in</span> <span class="id">H0</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id">perm</span>''<span class="id">_cur_max</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Memperm.perm_order</span>'' (<span class="id"><a href="Maps.html#PMap.get">Maps.PMap.get</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span> (<span class="id"><a href="GMemory.html#GMem.mem_access">GMem.mem_access</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span>) <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span> <span class="id"><a href="Memperm.html#Max">Memperm.Max</a></span>)(<span class="id"><a href="Maps.html#PMap.get">Maps.PMap.get</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span> (<span class="id"><a href="GMemory.html#GMem.mem_access">GMem.mem_access</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span>) <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span> <span class="id"><a href="Memperm.html#Cur">Memperm.Cur</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5819')">Proof.</div>
<div class="proofscript" id="proof5819">
 <span class="tactic">destruct</span> <span class="id">m</span>;<span class="tactic">eauto</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id">perm_order</span>'<span class="id">_</span>'':<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">p</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Memperm.perm_order</span>' (<span class="id"><a href="Maps.html#PMap.get">Maps.PMap.get</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span> (<span class="id"><a href="GMemory.html#GMem.mem_access">GMem.mem_access</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span>) <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span> <span class="id"><a href="Memperm.html#Cur">Memperm.Cur</a></span>) <span class="id"><a href="InteractionSemantics.html#p">p</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Memperm.perm_order</span>' (<span class="id"><a href="Maps.html#PMap.get">Maps.PMap.get</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span> (<span class="id"><a href="GMemory.html#GMem.mem_access">GMem.mem_access</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span>) <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span> <span class="id"><a href="Memperm.html#Max">Memperm.Max</a></span>) <span class="id"><a href="InteractionSemantics.html#p">p</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5820')">Proof.</div>
<div class="proofscript" id="proof5820">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">Memperm.perm_order</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">perm</span>''<span class="id">_cur_max</span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">Memperm.perm_order</span>'' <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> ( <span class="id"><a href="Maps.html#PMap.get">Maps.PMap.get</a></span> <span class="id">b</span> (<span class="id"><a href="GMemory.html#GMem.mem_access">GMem.mem_access</a></span> <span class="id">m</span>) <span class="id">ofs</span> <span class="id"><a href="Memperm.html#Cur">Memperm.Cur</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> ( <span class="id"><a href="Maps.html#PMap.get">Maps.PMap.get</a></span> <span class="id">b</span> (<span class="id"><a href="GMemory.html#GMem.mem_access">GMem.mem_access</a></span> <span class="id">m</span>) <span class="id">ofs</span> <span class="id"><a href="Memperm.html#Max">Memperm.Max</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Memperm.html#perm_order_trans">Memperm.perm_order_trans</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Ltac</span> <span class="id">unfolds</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#unchanged_content">unchanged_content</a></span>;<span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#unchanged_perm">unchanged_perm</a></span>;<span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#unchanged_validity">unchanged_validity</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="unchanged_content_equiv">unchanged_content_equiv</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">P</span> <span class="id">m</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#unchanged_content">unchanged_content</a></span> <span class="id"><a href="InteractionSemantics.html#P">P</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>' -&gt; <span class="id"><a href="GMemory.html#GMem.unchanged_on">GMem.unchanged_on</a></span> <span class="id"><a href="InteractionSemantics.html#P">P</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5821')">Proof.</div>
<div class="proofscript" id="proof5821">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [[] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="depends_union">depends_union</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp1</span> <span class="id">fp2</span>,<span class="id"><a href="InteractionSemantics.html#depends">depends</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span>)=<span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> (<span class="id"><a href="InteractionSemantics.html#depends">depends</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span>)(<span class="id"><a href="InteractionSemantics.html#depends">depends</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5822')">Proof.</div>
<div class="proofscript" id="proof5822">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">fp1</span>,<span class="id">fp2</span>; <span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#depends">depends</a></span>;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.union">FP.union</a></span>;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span>;<span class="tactic">simpl</span>;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.FunctionalExtensionality.html#functional_extensionality">FunctionalExtensionality.functional_extensionality</a></span>;<span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.FunctionalExtensionality.html#functional_extensionality">FunctionalExtensionality.functional_extensionality</a></span>;<span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">cmps</span>,<span class="id">cmps0</span>,<span class="id">reads</span>,<span class="id">reads0</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="effects_union">effects_union</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp1</span> <span class="id">fp2</span>,<span class="id"><a href="InteractionSemantics.html#effects">effects</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span>) = <span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> (<span class="id"><a href="InteractionSemantics.html#effects">effects</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span>)(<span class="id"><a href="InteractionSemantics.html#effects">effects</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5823')">Proof.</div>
<div class="proofscript" id="proof5823">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">fp1</span>,<span class="id">fp2</span>; <span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#effects">effects</a></span>;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.union">FP.union</a></span>;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span>;<span class="tactic">simpl</span>;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.FunctionalExtensionality.html#functional_extensionality">FunctionalExtensionality.functional_extensionality</a></span>;<span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.FunctionalExtensionality.html#functional_extensionality">FunctionalExtensionality.functional_extensionality</a></span>;<span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">writes</span>,<span class="id">writes0</span>,<span class="id">frees</span>,<span class="id">frees0</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="perm_effect_comm">perm_effect_comm</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">m</span>' <span class="id">b</span> <span class="id">ofs</span>,<span class="id"><a href="InteractionSemantics.html#perm_effect">perm_effect</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>' <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span> -&gt;<span class="id"><a href="InteractionSemantics.html#perm_effect">perm_effect</a></span> <span class="id">m</span>' <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5824')">Proof.</div>
<div class="proofscript" id="proof5824">
 <span class="tactic">intros</span>;<span class="tactic">inversion</span> <span class="id">H</span>;[<span class="id">econstructor</span> 2|<span class="id">econstructor</span>];<span class="tactic">eauto</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="perm_effect_insert">perm_effect_insert</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">m</span>' <span class="id">b</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#perm_effect">perm_effect</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>' <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span>'',<span class="id"><a href="InteractionSemantics.html#perm_effect">perm_effect</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>'' <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span> \/ <span class="id"><a href="InteractionSemantics.html#perm_effect">perm_effect</a></span> <span class="id">m</span>' <span class="id">m</span>'' <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5825')">Proof.</div>
<div class="proofscript" id="proof5825">
 <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H</span>. <span class="tactic">assert</span>(<span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span> <span class="id">m</span>'' <span class="id">b</span> <span class="id">ofs</span> <span class="id">k</span> <span class="id">p</span>\/ ~<span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span> <span class="id">m</span>'' <span class="id">b</span> <span class="id">ofs</span> <span class="id">k</span> <span class="id">p</span>);[<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#classic">Classical_Prop.classic</a></span>|];<span class="tactic">destruct</span> <span class="id">H2</span>;[<span class="id">right</span>;<span class="id">econstructor</span> 2|<span class="id">left</span>;<span class="id">econstructor</span>];<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span> <span class="id">m</span>'' <span class="id">b</span> <span class="id">ofs</span> <span class="id">k</span> <span class="id">p</span>\/ ~<span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span> <span class="id">m</span>'' <span class="id">b</span> <span class="id">ofs</span> <span class="id">k</span> <span class="id">p</span>);[<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#classic">Classical_Prop.classic</a></span>|];<span class="tactic">destruct</span> <span class="id">H2</span>;[<span class="id">left</span>;<span class="id">econstructor</span> 2|<span class="id">right</span>;<span class="id">econstructor</span>];<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="contra_belongsto">contra_belongsto</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l</span> <span class="id">b</span> <span class="id">ofs</span>, ~ <span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span> <span class="id"><a href="InteractionSemantics.html#l">l</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span> &lt;-&gt; <span class="id"><a href="InteractionSemantics.html#notbelongsto">notbelongsto</a></span> <span class="id"><a href="InteractionSemantics.html#l">l</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5826')">Proof.</div>
<div class="proofscript" id="proof5826">
 <span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span>;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span>;<span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#notbelongsto">notbelongsto</a></span>;<span class="tactic">intros</span>;<span class="tactic">destruct</span> (<span class="id">l</span> <span class="id">b</span> <span class="id">ofs</span>);<span class="tactic">split</span>;<span class="tactic">intro</span>;<span class="tactic">auto</span>;<span class="tactic">try</span> <span class="id">contradiction</span>;<span class="tactic">inversion</span> <span class="id">H</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="belongsto_union">belongsto_union</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l1</span> <span class="id">l2</span> <span class="id">b</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span> (<span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> <span class="id"><a href="InteractionSemantics.html#l1">l1</a></span> <span class="id"><a href="InteractionSemantics.html#l2">l2</a></span>) <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span> &lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span> <span class="id"><a href="InteractionSemantics.html#l1">l1</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span> \/ <span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span> <span class="id"><a href="InteractionSemantics.html#l2">l2</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5827')">Proof.</div>
<div class="proofscript" id="proof5827">
 <span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span>;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span>;<span class="tactic">intros</span>;<span class="tactic">destruct</span> (<span class="id">l1</span> <span class="id">b</span> <span class="id">ofs</span>),(<span class="id">l2</span> <span class="id">b</span> <span class="id">ofs</span>);<span class="tactic">split</span>;<span class="tactic">intro</span>;<span class="tactic">auto</span>. <span class="tactic">inversion</span> <span class="id">H</span>;<span class="tactic">auto</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="belongsto_subset">belongsto_subset</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l1</span> <span class="id">l2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#Locs.subset">Locs.subset</a></span> <span class="id"><a href="InteractionSemantics.html#l2">l2</a></span> <span class="id"><a href="InteractionSemantics.html#l1">l1</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span> <span class="id"><a href="InteractionSemantics.html#l2">l2</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span> <span class="id"><a href="InteractionSemantics.html#l1">l1</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5828')">Proof.</div>
<div class="proofscript" id="proof5828">
 <span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#Locs.subset">Locs.subset</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">apply</span> <span class="id">H</span>. <span class="tactic">assumption</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="notbelongsto_union">notbelongsto_union</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l1</span> <span class="id">l2</span> <span class="id">b</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#notbelongsto">notbelongsto</a></span> (<span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> <span class="id"><a href="InteractionSemantics.html#l1">l1</a></span> <span class="id"><a href="InteractionSemantics.html#l2">l2</a></span>) <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span> &lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#notbelongsto">notbelongsto</a></span> <span class="id"><a href="InteractionSemantics.html#l1">l1</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span> /\ <span class="id"><a href="InteractionSemantics.html#notbelongsto">notbelongsto</a></span> <span class="id"><a href="InteractionSemantics.html#l2">l2</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5829')">Proof.</div>
<div class="proofscript" id="proof5829">
 <span class="tactic">split</span>;<span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#notbelongsto">notbelongsto</a></span>;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span>;<span class="tactic">intros</span>;<span class="tactic">destruct</span> (<span class="id">l1</span> <span class="id">b</span> <span class="id">ofs</span>),(<span class="id">l2</span> <span class="id">b</span> <span class="id">ofs</span>);<span class="tactic">auto</span>;<span class="tactic">inversion</span> <span class="id">H</span>;<span class="tactic">auto</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="notbelongsto_subset">notbelongsto_subset</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l1</span> <span class="id">l2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#Locs.subset">Locs.subset</a></span> <span class="id"><a href="InteractionSemantics.html#l1">l1</a></span> <span class="id"><a href="InteractionSemantics.html#l2">l2</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#notbelongsto">notbelongsto</a></span> <span class="id"><a href="InteractionSemantics.html#l2">l2</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#notbelongsto">notbelongsto</a></span> <span class="id"><a href="InteractionSemantics.html#l1">l1</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5830')">Proof.</div>
<div class="proofscript" id="proof5830">
 <span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#notbelongsto">notbelongsto</a></span> <span class="kwd">in</span> *. <span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#Locs.subset">Locs.subset</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> (<span class="id">l1</span> <span class="id">b</span> <span class="id">ofs</span>) <span class="id">eqn</span>:<span class="id">eq</span>. <span class="tactic">apply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">eq</span>. <span class="tactic">rewrite</span> <span class="id">eq</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">auto</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="belongsto_or_notbelongsto">belongsto_or_notbelongsto</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l</span> <span class="id">b</span> <span class="id">ofs</span>,<span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span> <span class="id"><a href="InteractionSemantics.html#l">l</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span> \/ <span class="id"><a href="InteractionSemantics.html#notbelongsto">notbelongsto</a></span> <span class="id"><a href="InteractionSemantics.html#l">l</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5831')">Proof.</div>
<div class="proofscript" id="proof5831">
 <span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span>;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span>;<span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#notbelongsto">notbelongsto</a></span>. <span class="tactic">destruct</span> <span class="id">l</span>;<span class="tactic">auto</span>. Qed.</div>
&nbsp;&nbsp;<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id">perm_order</span>'<span class="id">_equiv</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">p1</span> <span class="id">p2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">p</span>,<span class="id">Memperm.perm_order</span>' <span class="id"><a href="InteractionSemantics.html#p1">p1</a></span> <span class="id"><a href="InteractionSemantics.html#p">p</a></span> &lt;-&gt; <span class="id">Memperm.perm_order</span>' <span class="id"><a href="InteractionSemantics.html#p2">p2</a></span> <span class="id"><a href="InteractionSemantics.html#p">p</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#p1">p1</a></span> = <span class="id"><a href="InteractionSemantics.html#p2">p2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5832')">Proof.</div>
<div class="proofscript" id="proof5832">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">Memperm.perm_order</span>' <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p1</span>,<span class="id">p2</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">H</span> <span class="id">p</span>) <span class="kwd">as</span> <span class="id">L1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">H</span> <span class="id">p0</span>) <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">L1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">H1</span> (<span class="id"><a href="Memperm.html#perm_refl">Memperm.perm_refl</a></span> <span class="id">p</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">H0</span> (<span class="id"><a href="Memperm.html#perm_refl">Memperm.perm_refl</a></span> <span class="id">p0</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">H</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p</span>,<span class="id">p0</span>;<span class="tactic">inversion</span> <span class="id">H1</span>;<span class="tactic">inversion</span> <span class="id">H0</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">with</span> (<span class="id">p0</span>:=<span class="id">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">contradict</span> <span class="id">H0</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">with</span> (<span class="id">p0</span>:=<span class="id">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">contradict</span> <span class="id">H1</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="unchanged_content_memeq">unchanged_content_memeq</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">m</span>' <span class="id">l</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#unchanged_content">unchanged_content</a></span> (<span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span> <span class="id"><a href="InteractionSemantics.html#l">l</a></span>) <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#unchanged_content">unchanged_content</a></span> (<span class="id"><a href="InteractionSemantics.html#notbelongsto">notbelongsto</a></span> <span class="id"><a href="InteractionSemantics.html#l">l</a></span>)<span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">GMem.eq</span>' <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5833')">Proof.</div>
<div class="proofscript" id="proof5833">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [[] ],<span class="id">H0</span> <span class="kwd">as</span> [[] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#unchanged_validity">unchanged_validity</a></span> <span class="kwd">in</span> *.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>;<span class="tactic">intros</span>.<br/>
apply&nbsp;perm_order'_''&nbsp;in&nbsp;H5.*)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id"><a href="InteractionSemantics.html#belongsto_or_notbelongsto">belongsto_or_notbelongsto</a></span> <span class="id">l</span> <span class="id">b</span> <span class="id">ofs</span> <span class="kwd">as</span> [];<span class="tactic">symmetry</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="kwd">forall</span> <span class="id">p</span>, <span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">k</span> <span class="id"><a href="InteractionSemantics.html#p">p</a></span> &lt;-&gt;<span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span> <span class="id">m</span>' <span class="id">b</span> <span class="id">ofs</span> <span class="id">k</span> <span class="id"><a href="InteractionSemantics.html#p">p</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id"><a href="InteractionSemantics.html#belongsto_or_notbelongsto">belongsto_or_notbelongsto</a></span> <span class="id">l</span> <span class="id">b</span> <span class="id">ofs</span> <span class="kwd">as</span> [];<span class="tactic">intro</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="GMemory.html#GMem.eq_access_eq_perm">GMem.eq_access_eq_perm</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span> <span class="kwd">in</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">perm_order</span>'<span class="id">_equiv</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id"><a href="InteractionSemantics.html#belongsto_or_notbelongsto">belongsto_or_notbelongsto</a></span> <span class="id">l</span> <span class="id">b</span> 0 <span class="kwd">as</span> [];<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="unchanged_validity_emp">unchanged_validity_emp</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m1</span> <span class="id">m2</span>,<span class="id"><a href="InteractionSemantics.html#unchanged_validity">unchanged_validity</a></span> (<span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span> <span class="id"><a href="Footprint.html#Locs.emp">Locs.emp</a></span>) <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5834')">Proof.</div>
<div class="proofscript" id="proof5834">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#unchanged_validity">unchanged_validity</a></span>;<span class="tactic">intros</span>;<span class="tactic">inversion</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="unchanged_perm_emp">unchanged_perm_emp</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m1</span> <span class="id">m2</span>,<span class="id"><a href="InteractionSemantics.html#unchanged_perm">unchanged_perm</a></span> (<span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span> <span class="id"><a href="Footprint.html#Locs.emp">Locs.emp</a></span>) <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> .<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5835')">Proof.</div>
<div class="proofscript" id="proof5835">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#unchanged_perm">unchanged_perm</a></span>;<span class="tactic">intros</span>;<span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_validity_emp">unchanged_validity_emp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GMemory.html#GMem.eq_perm">GMem.eq_perm</a></span>;<span class="tactic">intros</span>. <span class="tactic">inversion</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="unchanged_content_emp">unchanged_content_emp</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m1</span> <span class="id">m2</span>,<span class="id"><a href="InteractionSemantics.html#unchanged_content">unchanged_content</a></span> (<span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span> <span class="id"><a href="Footprint.html#Locs.emp">Locs.emp</a></span>) <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5836')">Proof.</div>
<div class="proofscript" id="proof5836">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#unchanged_content">unchanged_content</a></span>;<span class="tactic">intros</span>;<span class="tactic">split</span>. <span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_perm_emp">unchanged_perm_emp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">inversion</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="MemEffect_refl">MemEffect_refl</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">fp</span>,<span class="id"><a href="InteractionSemantics.html#MemEffect">MemEffect</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5837')">Proof.</div>
<div class="proofscript" id="proof5837">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>;<span class="tactic">split</span>. <span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_content_refl">unchanged_content_refl</a></span>. <span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_perm_refl">unchanged_perm_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">inversion</span> <span class="id">H</span>;<span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LocalAlloc_refl">LocalAlloc_refl</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">fl</span>,<span class="id"><a href="InteractionSemantics.html#LocalAlloc">LocalAlloc</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5838')">Proof.</div>
<div class="proofscript" id="proof5838">
  <span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#LocalAlloc">LocalAlloc</a></span>;<span class="tactic">intros</span>;<span class="id">contradiction</span>. Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id"><a name="LEffect_refl">LEffect_refl</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">fp</span> <span class="id">fl</span>,<span class="id"><a href="InteractionSemantics.html#LEffect">LEffect</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5839')">Proof.</div>
<div class="proofscript" id="proof5839">
 <span class="tactic">split</span>;[<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#MemEffect_refl">MemEffect_refl</a></span>|<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#LocalAlloc_refl">LocalAlloc_refl</a></span>]. Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="MemEffect_trans">MemEffect_trans</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m1</span> <span class="id">m2</span> <span class="id">m3</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#MemEffect">MemEffect</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#MemEffect">MemEffect</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#MemEffect">MemEffect</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5840')">Proof.</div>
<div class="proofscript" id="proof5840">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">m1</span> <span class="id">m2</span> <span class="id">m3</span> <span class="id">fp</span> [] [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_content_trans">unchanged_content_trans</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_perm_trans">unchanged_perm_trans</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#perm_effect_insert">perm_effect_insert</a></span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> [];[|<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#perm_effect_comm">perm_effect_comm</a></span> <span class="kwd">in</span> <span class="id">H</span>];<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LocalAlloc_trans">LocalAlloc_trans</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m1</span> <span class="id">m2</span> <span class="id">m3</span> <span class="id">fl</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#LocalAlloc">LocalAlloc</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#LocalAlloc">LocalAlloc</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#LocalAlloc">LocalAlloc</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5841')">Proof.</div>
<div class="proofscript" id="proof5841">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#LocalAlloc">LocalAlloc</a></span>;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="GMemory.html#GMem.valid_block">GMem.valid_block</a></span> <span class="id">m2</span> <span class="id">b</span> \/ ~ <span class="id"><a href="GMemory.html#GMem.valid_block">GMem.valid_block</a></span> <span class="id">m2</span> <span class="id">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#classic">Classical_Prop.classic</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H3</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id"><a name="LEffect_trans">LEffect_trans</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m1</span> <span class="id">m2</span> <span class="id">m3</span> <span class="id">fp</span> <span class="id">fl</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#LEffect">LEffect</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#LEffect">LEffect</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#LEffect">LEffect</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5842')">Proof.</div>
<div class="proofscript" id="proof5842">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#LEffect">LEffect</a></span>;<span class="tactic">intros</span> <span class="id">m1</span> <span class="id">m2</span> <span class="id">m3</span> <span class="id">fp</span> <span class="id">fl</span> [] [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;[<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#MemEffect_trans">MemEffect_trans</a></span>|<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#LocalAlloc_trans">LocalAlloc_trans</a></span>];<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="MemEffect_union_fp">MemEffect_union_fp</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">m</span>' <span class="id">fp1</span> <span class="id">fp2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#MemEffect">MemEffect</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>' <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#MemEffect">MemEffect</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>' (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5843')">Proof.</div>
<div class="proofscript" id="proof5843">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">m</span> <span class="id">m</span>' <span class="id">fp1</span> <span class="id">fp2</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_content_implies">unchanged_content_implies</a></span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">MemContentPreserve0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="InteractionSemantics.html#effects_union">effects_union</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#notbelongsto_union">notbelongsto_union</a></span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> [];<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_perm_implies">unchanged_perm_implies</a></span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">PermEffect0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">assert</span>(<span class="id"><a href="Footprint.html#FP.frees">FP.frees</a></span>(<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fp1</span> <span class="id">fp2</span>)=<span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span>(<span class="id"><a href="Footprint.html#FP.frees">FP.frees</a></span> <span class="id">fp1</span>)(<span class="id"><a href="Footprint.html#FP.frees">FP.frees</a></span> <span class="id">fp2</span>)). <span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.frees">FP.frees</a></span>;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.union">FP.union</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#notbelongsto_union">notbelongsto_union</a></span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> []. <span class="tactic">eapply</span> <span class="id">H</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id">PermEffect0</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#belongsto_union">belongsto_union</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id"><a name="LEffect_union_fp">LEffect_union_fp</a></span>: <span class="kwd">forall</span> <span class="id">m</span> <span class="id">m</span>' <span class="id">fp1</span> <span class="id">fp2</span> <span class="id">fl</span>,<span class="id"><a href="InteractionSemantics.html#LEffect">LEffect</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>' <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span>-&gt;<span class="id"><a href="InteractionSemantics.html#LEffect">LEffect</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>' (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span>) <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5844')">Proof.</div>
<div class="proofscript" id="proof5844">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#LEffect">LEffect</a></span>;<span class="tactic">intros</span> <span class="id">m</span> <span class="id">m</span>' <span class="id">fp1</span> <span class="id">fp2</span> <span class="id">fl</span> [];<span class="id">constructor</span>;<span class="tactic">auto</span>;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#MemEffect_union_fp">MemEffect_union_fp</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id"><a name="LEffect_trans_union">LEffect_trans_union</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m1</span> <span class="id">m2</span> <span class="id">m3</span> <span class="id">fp1</span> <span class="id">fp2</span> <span class="id">fl</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#LEffect">LEffect</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span>-&gt;<span class="id"><a href="InteractionSemantics.html#LEffect">LEffect</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span>-&gt;<span class="id"><a href="InteractionSemantics.html#LEffect">LEffect</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span>(<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span>)<span class="id"><a href="InteractionSemantics.html#fl">fl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5845')">Proof.</div>
<div class="proofscript" id="proof5845">
 <span class="tactic">intros</span>;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#LEffect_trans">LEffect_trans</a></span>;[|<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.union_comm_eq">FP.union_comm_eq</a></span>];<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#LEffect_union_fp">LEffect_union_fp</a></span>;<span class="tactic">eauto</span>. Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="MemPre_refl">MemPre_refl</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">fp</span>,<span class="id"><a href="InteractionSemantics.html#MemPre">MemPre</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5846')">Proof.</div>
<div class="proofscript" id="proof5846">
 <span class="tactic">intros</span>;<span class="id">constructor</span>. <span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_content_refl">unchanged_content_refl</a></span>. <span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_perm_refl">unchanged_perm_refl</a></span>. <span class="tactic">split</span>;<span class="tactic">auto</span>. Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="FreelistEq_refl">FreelistEq_refl</a></span>: <span class="kwd">forall</span> <span class="id">m</span> <span class="id">fl</span>,<span class="id"><a href="InteractionSemantics.html#FreelistEq">FreelistEq</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5847')">Proof.</div>
<div class="proofscript" id="proof5847">
 <span class="id">constructor</span>;<span class="tactic">intro</span>;<span class="tactic">auto</span>. Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LPre_refl">LPre_refl</a></span>: <span class="kwd">forall</span> <span class="id">m</span> <span class="id">fp</span> <span class="id">fl</span>,<span class="id"><a href="InteractionSemantics.html#LPre">LPre</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5848')">Proof.</div>
<div class="proofscript" id="proof5848">
 <span class="tactic">intros</span>. <span class="id">constructor</span>. <span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#MemPre_refl">MemPre_refl</a></span>. <span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#FreelistEq_refl">FreelistEq_refl</a></span>. Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="MemPre_comm">MemPre_comm</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">m</span>' <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#MemPre">MemPre</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>' <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> -&gt; <span class="id"><a href="InteractionSemantics.html#MemPre">MemPre</a></span> <span class="id">m</span>' <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5849')">Proof.</div>
<div class="proofscript" id="proof5849">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">m</span> <span class="id">m</span>' <span class="id">fp</span> [];<span class="id">constructor</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_content_comm">unchanged_content_comm</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_perm_comm">unchanged_perm_comm</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">eapply</span> <span class="id">EffectPermEqPre0</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="FreelistEq_comm">FreelistEq_comm</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">m</span>' <span class="id">fl</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#FreelistEq">FreelistEq</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>' <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span> -&gt; <span class="id"><a href="InteractionSemantics.html#FreelistEq">FreelistEq</a></span> <span class="id">m</span>' <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5850')">Proof.</div>
<div class="proofscript" id="proof5850">
 <span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#FreelistEq">FreelistEq</a></span>;<span class="tactic">intros</span>;<span class="tactic">split</span>;<span class="tactic">intro</span>;<span class="tactic">eapply</span> <span class="id">H</span>;<span class="tactic">eauto</span>. Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LPre_comm">LPre_comm</a></span>: <span class="kwd">forall</span> <span class="id">m</span> <span class="id">m</span>' <span class="id">fp</span> <span class="id">fl</span>,<span class="id"><a href="InteractionSemantics.html#LPre">LPre</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>' <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span>-&gt;<span class="id"><a href="InteractionSemantics.html#LPre">LPre</a></span> <span class="id">m</span>' <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5851')">Proof.</div>
<div class="proofscript" id="proof5851">
 <span class="id">constructor</span>;<span class="tactic">destruct</span> <span class="id">H</span>;[<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#MemPre_comm">MemPre_comm</a></span>|<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#FreelistEq_comm">FreelistEq_comm</a></span>];<span class="tactic">auto</span>. Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="MemPre_trans">MemPre_trans</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m1</span> <span class="id">m2</span> <span class="id">m3</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#MemPre">MemPre</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#MemPre">MemPre</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#MemPre">MemPre</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5852')">Proof.</div>
<div class="proofscript" id="proof5852">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span>,<span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_content_trans">unchanged_content_trans</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_perm_trans">unchanged_perm_trans</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">intros</span>; <span class="id">edestruct</span> <span class="id">EffectPermEqPre0</span>, <span class="id">EffectPermEqPre1</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Unshelve</span>. <span class="tactic">auto</span>. <span class="tactic">auto</span>. <span class="tactic">auto</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="FreelistEq_trans">FreelistEq_trans</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m1</span> <span class="id">m2</span> <span class="id">m3</span> <span class="id">fl</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#FreelistEq">FreelistEq</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#FreelistEq">FreelistEq</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#FreelistEq">FreelistEq</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5853')">Proof.</div>
<div class="proofscript" id="proof5853">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#FreelistEq">FreelistEq</a></span> <span class="kwd">in</span> *;<span class="tactic">split</span>;<span class="tactic">intros</span>;<span class="id">edestruct</span> <span class="id">H</span>,<span class="id">H0</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LPre_trans">LPre_trans</a></span>: <span class="kwd">forall</span> <span class="id">m1</span> <span class="id">m2</span> <span class="id">m3</span> <span class="id">fp</span> <span class="id">fl</span>,<span class="id"><a href="InteractionSemantics.html#LPre">LPre</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span>-&gt;<span class="id"><a href="InteractionSemantics.html#LPre">LPre</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span>-&gt;<span class="id"><a href="InteractionSemantics.html#LPre">LPre</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5854')">Proof.</div>
<div class="proofscript" id="proof5854">
 <span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#LPre">LPre</a></span>;<span class="tactic">intros</span> ? ? ? ? ? [] [];<span class="id">constructor</span>;[<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#MemPre_trans">MemPre_trans</a></span>|<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#FreelistEq_trans">FreelistEq_trans</a></span>];<span class="tactic">eauto</span>. Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="Locs_union_subset2">Locs_union_subset2</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l1</span> <span class="id">l2</span> <span class="id">l3</span> <span class="id">l4</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#Locs.subset">Locs.subset</a></span> <span class="id"><a href="InteractionSemantics.html#l1">l1</a></span> <span class="id"><a href="InteractionSemantics.html#l3">l3</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#Locs.subset">Locs.subset</a></span> <span class="id"><a href="InteractionSemantics.html#l2">l2</a></span> <span class="id"><a href="InteractionSemantics.html#l4">l4</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#Locs.subset">Locs.subset</a></span> (<span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> <span class="id"><a href="InteractionSemantics.html#l1">l1</a></span> <span class="id"><a href="InteractionSemantics.html#l2">l2</a></span>)(<span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> <span class="id"><a href="InteractionSemantics.html#l3">l3</a></span> <span class="id"><a href="InteractionSemantics.html#l4">l4</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5855')">Proof.</div>
<div class="proofscript" id="proof5855">
 <span class="id">Locs.unfolds</span>. <span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id">l1</span> <span class="id">b</span> <span class="id">ofs</span>) <span class="id">eqn</span>:<span class="id">eq1</span>,(<span class="id">l2</span> <span class="id">b</span> <span class="id">ofs</span>) <span class="id">eqn</span>:<span class="id">eq2</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">eq1</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">eq2</span>;<span class="tactic">try</span> <span class="tactic">rewrite</span> <span class="id">eq1</span>;<span class="tactic">try</span> <span class="tactic">rewrite</span> <span class="id">eq2</span>;<span class="tactic">auto</span>. <span class="tactic">destruct</span> (<span class="id">l3</span> <span class="id">b</span> <span class="id">ofs</span>);<span class="tactic">auto</span>. <span class="tactic">inversion</span> <span class="id">H1</span>. Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="MemPre_subset">MemPre_subset</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp</span> <span class="id">fp</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id">fp</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">m</span>' ,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#MemPre">MemPre</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>' <span class="id">fp</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#MemPre">MemPre</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>' <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> .<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5856')">Proof.</div>
<div class="proofscript" id="proof5856">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">fp</span> <span class="id">fp</span>' [] <span class="id">m</span> <span class="id">m</span>'  [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_content_implies">unchanged_content_implies</a></span>. <span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#belongsto_subset">belongsto_subset</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_perm_implies">unchanged_perm_implies</a></span>. <span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#belongsto_subset">belongsto_subset</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#effects">effects</a></span> <span class="kwd">in</span> *. <span class="id">edestruct</span> <span class="id">EffectPermEqPre0</span>. <span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#belongsto_subset">belongsto_subset</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#Locs_union_subset2">Locs_union_subset2</a></span>;<span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id"><a name="LPre_subset">LPre_subset</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp</span> <span class="id">fp</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id">fp</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">m</span>' <span class="id">fl</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#LPre">LPre</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>' <span class="id">fp</span>' <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#LPre">LPre</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>' <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5857')">Proof.</div>
<div class="proofscript" id="proof5857">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#LPre">LPre</a></span>;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H0</span>;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#MemPre_subset">MemPre_subset</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LPost_refl">LPost_refl</a></span>: <span class="kwd">forall</span> <span class="id">m</span> <span class="id">fp</span> <span class="id">fl</span>,<span class="id"><a href="InteractionSemantics.html#LPost">LPost</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5858')">Proof.</div>
<div class="proofscript" id="proof5858">
 <span class="tactic">intros</span>;<span class="id">constructor</span>;[<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_content_refl">unchanged_content_refl</a></span>|<span class="tactic">split</span>;<span class="tactic">intro</span>];<span class="tactic">auto</span>. Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LPost_comm">LPost_comm</a></span>: <span class="kwd">forall</span> <span class="id">m</span> <span class="id">m</span>' <span class="id">fp</span> <span class="id">fl</span>,<span class="id"><a href="InteractionSemantics.html#LPost">LPost</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>' <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span>-&gt;<span class="id"><a href="InteractionSemantics.html#LPost">LPost</a></span> <span class="id">m</span>' <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5859')">Proof.</div>
<div class="proofscript" id="proof5859">
 <span class="tactic">destruct</span> 1;<span class="tactic">split</span>. <span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_content_comm">unchanged_content_comm</a></span>;<span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#FreelistEq_comm">FreelistEq_comm</a></span>;<span class="tactic">auto</span>. Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LPost_trans">LPost_trans</a></span>: <span class="kwd">forall</span> <span class="id">m1</span> <span class="id">m2</span> <span class="id">m3</span> <span class="id">fp</span> <span class="id">fl</span>,<span class="id"><a href="InteractionSemantics.html#LPost">LPost</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span>-&gt;<span class="id"><a href="InteractionSemantics.html#LPost">LPost</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span>-&gt;<span class="id"><a href="InteractionSemantics.html#LPost">LPost</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5860')">Proof.</div>
<div class="proofscript" id="proof5860">
 <span class="tactic">intros</span> <span class="id">m1</span> <span class="id">m2</span> <span class="id">m3</span> <span class="id">fp</span> <span class="id">fl</span> [] [];<span class="id">constructor</span>;[<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_content_trans">unchanged_content_trans</a></span>|<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#FreelistEq_trans">FreelistEq_trans</a></span>];<span class="tactic">eauto</span>. Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LPost_subset">LPost_subset</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp</span> <span class="id">fp</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id">fp</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">m</span>' <span class="id">fl</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#LPost">LPost</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>' <span class="id">fp</span>' <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#LPost">LPost</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>' <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5861')">Proof.</div>
<div class="proofscript" id="proof5861">
 <span class="tactic">intros</span> <span class="id">fp</span> <span class="id">fp</span>' [] <span class="id">m</span> <span class="id">m</span>' <span class="id">fl</span> [];<span class="id">constructor</span>;<span class="tactic">auto</span>;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_content_implies">unchanged_content_implies</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#belongsto_subset">belongsto_subset</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#effects">effects</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#Locs_union_subset2">Locs_union_subset2</a></span>;<span class="tactic">eauto</span>. <span class="tactic">auto</span>. Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="MemPre_MemEffect_MemPost_Rule">MemPre_MemEffect_MemPost_Rule</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m0</span> <span class="id">m1</span> <span class="id">m0</span>' <span class="id">m1</span>' <span class="id">fp1</span> <span class="id">fp2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#MemPre">MemPre</a></span> <span class="id"><a href="InteractionSemantics.html#m0">m0</a></span> <span class="id">m0</span>' (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span>)-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#MemEffect">MemEffect</a></span> <span class="id"><a href="InteractionSemantics.html#m0">m0</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#MemEffect">MemEffect</a></span> <span class="id">m0</span>' <span class="id">m1</span>' <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#MemPost">MemPost</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id">m1</span>' <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#MemPre">MemPre</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id">m1</span>' <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5862')">Proof.</div>
<div class="proofscript" id="proof5862">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">fp2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [] [] [] <span class="id">EffectMemEqPost0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#MemPost">MemPost</a></span> <span class="kwd">in</span> <span class="id">EffectMemEqPost0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">L1</span>:<span class="id"><a href="InteractionSemantics.html#unchanged_validity">unchanged_validity</a></span> (<span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span> (<span class="id"><a href="Footprint.html#FP.reads">FP.reads</a></span> <span class="id">fp2</span>)) <span class="id">m1</span> <span class="id">m1</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfolds</span>;<span class="tactic">intros</span>. <span class="tactic">assert</span>(<span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span> (<span class="id"><a href="InteractionSemantics.html#effects">effects</a></span> <span class="id">fp1</span>) <span class="id">b</span> <span class="id">ofs</span>\/ ~<span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span> (<span class="id"><a href="InteractionSemantics.html#effects">effects</a></span> <span class="id">fp1</span>) <span class="id">b</span> <span class="id">ofs</span>). <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#classic">Classical_Prop.classic</a></span>. <span class="tactic">destruct</span> <span class="id">H0</span>. <span class="id">edestruct</span> <span class="id">EffectMemEqPost0</span> <span class="kwd">as</span> [[[] ] ];<span class="tactic">eauto</span>. <span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#contra_belongsto">contra_belongsto</a></span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id">MemContentPreserve0</span> <span class="kwd">as</span> [[[] ] ],<span class="id">MemContentPreserve1</span> <span class="kwd">as</span> [[[] ] ];<span class="tactic">eauto</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">e</span> <span class="id">H3</span> <span class="id">H4</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#belongsto_subset">belongsto_subset</a></span> <span class="kwd">with</span>(<span class="id">l1</span>:=(<span class="id"><a href="Footprint.html#FP.reads">FP.reads</a></span>(<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fp1</span> <span class="id">fp2</span>))) <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id">ReadMemEq0</span> <span class="kwd">as</span> [[[] <span class="id">_</span>] <span class="id">_</span>];<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">intro</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.union">FP.union</a></span>;<span class="id">Locs.unfolds</span>;<span class="tactic">simpl</span>;<span class="tactic">intros</span>;<span class="tactic">destruct</span> (<span class="id"><a href="Footprint.html#FP.reads">FP.reads</a></span> <span class="id">fp1</span> <span class="id">b0</span> <span class="id">ofs0</span>);<span class="tactic">auto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">L2</span>:<span class="id"><a href="InteractionSemantics.html#unchanged_validity">unchanged_validity</a></span> (<span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span> (<span class="id"><a href="Footprint.html#FP.cmps">FP.cmps</a></span> <span class="id">fp2</span>)) <span class="id">m1</span> <span class="id">m1</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfolds</span>;<span class="tactic">intros</span>. <span class="tactic">assert</span>(<span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span> (<span class="id"><a href="InteractionSemantics.html#effects">effects</a></span> <span class="id">fp1</span>) <span class="id">b</span> <span class="id">ofs</span>\/ ~<span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span> (<span class="id"><a href="InteractionSemantics.html#effects">effects</a></span> <span class="id">fp1</span>) <span class="id">b</span> <span class="id">ofs</span>). <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#classic">Classical_Prop.classic</a></span>. <span class="tactic">destruct</span> <span class="id">H0</span>. <span class="id">edestruct</span> <span class="id">EffectMemEqPost0</span> <span class="kwd">as</span> [[[] ] ];<span class="tactic">eauto</span>. <span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#contra_belongsto">contra_belongsto</a></span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id">MemContentPreserve0</span> <span class="kwd">as</span> [[[] ] ],<span class="id">MemContentPreserve1</span> <span class="kwd">as</span> [[[] ] ];<span class="tactic">eauto</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">e</span> <span class="id">H3</span> <span class="id">H4</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#belongsto_subset">belongsto_subset</a></span> <span class="kwd">with</span>(<span class="id">l1</span>:=(<span class="id"><a href="Footprint.html#FP.cmps">FP.cmps</a></span>(<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fp1</span> <span class="id">fp2</span>))) <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id">CmpMemPermExists0</span> <span class="kwd">as</span> [[] <span class="id">_</span>];<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">intro</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.union">FP.union</a></span>;<span class="id">Locs.unfolds</span>;<span class="tactic">simpl</span>;<span class="tactic">intros</span>;<span class="tactic">destruct</span> (<span class="id"><a href="Footprint.html#FP.cmps">FP.cmps</a></span> <span class="id">fp1</span> <span class="id">b0</span> <span class="id">ofs0</span>);<span class="tactic">auto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">L1</span>':<span class="id"><a href="InteractionSemantics.html#unchanged_perm">unchanged_perm</a></span> (<span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span> (<span class="id"><a href="Footprint.html#FP.reads">FP.reads</a></span> <span class="id">fp2</span>)) <span class="id">m1</span> <span class="id">m1</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">auto</span>;<span class="tactic">unfold</span> <span class="id"><a href="GMemory.html#GMem.eq_perm">GMem.eq_perm</a></span>;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span> (<span class="id"><a href="InteractionSemantics.html#effects">effects</a></span> <span class="id">fp1</span>) <span class="id">b</span> <span class="id">ofs</span>\/ ~<span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span> (<span class="id"><a href="InteractionSemantics.html#effects">effects</a></span> <span class="id">fp1</span>) <span class="id">b</span> <span class="id">ofs</span>). <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#classic">Classical_Prop.classic</a></span>. <span class="tactic">destruct</span> <span class="id">H0</span>. <span class="id">edestruct</span> <span class="id">EffectMemEqPost0</span> <span class="kwd">as</span> [[[] ] ];<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#contra_belongsto">contra_belongsto</a></span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id">MemContentPreserve0</span> <span class="kwd">as</span> [[<span class="id">_</span> []]<span class="id">_</span>],<span class="id">MemContentPreserve1</span> <span class="kwd">as</span> [[<span class="id">_</span> []]<span class="id">_</span>];<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#belongsto_subset">belongsto_subset</a></span> <span class="kwd">with</span>(<span class="id">l1</span>:=(<span class="id"><a href="Footprint.html#FP.reads">FP.reads</a></span>(<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fp1</span> <span class="id">fp2</span>))) <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id">ReadMemEq0</span> <span class="kwd">as</span> [[<span class="id">_</span> []] <span class="id">_</span>];<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">intro</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.union">FP.union</a></span>;<span class="id">Locs.unfolds</span>;<span class="tactic">simpl</span>;<span class="tactic">intros</span>;<span class="tactic">destruct</span> (<span class="id"><a href="Footprint.html#FP.reads">FP.reads</a></span> <span class="id">fp1</span> <span class="id">b0</span> <span class="id">ofs0</span>);<span class="tactic">auto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">L2</span>':<span class="id"><a href="InteractionSemantics.html#unchanged_perm">unchanged_perm</a></span> (<span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span> (<span class="id"><a href="Footprint.html#FP.cmps">FP.cmps</a></span> <span class="id">fp2</span>)) <span class="id">m1</span> <span class="id">m1</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">auto</span>;<span class="tactic">unfold</span> <span class="id"><a href="GMemory.html#GMem.eq_perm">GMem.eq_perm</a></span>;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span> (<span class="id"><a href="InteractionSemantics.html#effects">effects</a></span> <span class="id">fp1</span>) <span class="id">b</span> <span class="id">ofs</span>\/ ~<span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span> (<span class="id"><a href="InteractionSemantics.html#effects">effects</a></span> <span class="id">fp1</span>) <span class="id">b</span> <span class="id">ofs</span>). <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#classic">Classical_Prop.classic</a></span>. <span class="tactic">destruct</span> <span class="id">H0</span>. <span class="id">edestruct</span> <span class="id">EffectMemEqPost0</span> <span class="kwd">as</span> [[[] ] ];<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#contra_belongsto">contra_belongsto</a></span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#belongsto_subset">belongsto_subset</a></span> <span class="kwd">with</span>(<span class="id">l1</span>:=(<span class="id"><a href="Footprint.html#FP.cmps">FP.cmps</a></span>(<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fp1</span> <span class="id">fp2</span>))) <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id">CmpMemPermExists0</span> <span class="kwd">as</span> [<span class="id">_</span> []];<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id">MemContentPreserve0</span> <span class="kwd">as</span> [[<span class="id">_</span> []]<span class="id">_</span>],<span class="id">MemContentPreserve1</span> <span class="kwd">as</span> [[<span class="id">_</span> []]<span class="id">_</span>];<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">intro</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.union">FP.union</a></span>;<span class="id">Locs.unfolds</span>;<span class="tactic">simpl</span>;<span class="tactic">intros</span>;<span class="tactic">destruct</span> (<span class="id"><a href="Footprint.html#FP.cmps">FP.cmps</a></span> <span class="id">fp1</span> <span class="id">b0</span> <span class="id">ofs0</span>);<span class="tactic">auto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">L1</span>'':<span class="id"><a href="InteractionSemantics.html#unchanged_content">unchanged_content</a></span> (<span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span> (<span class="id"><a href="Footprint.html#FP.reads">FP.reads</a></span> <span class="id">fp2</span>)) <span class="id">m1</span> <span class="id">m1</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">auto</span>;<span class="tactic">intros</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">T1</span> <span class="id">T2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span> (<span class="id"><a href="InteractionSemantics.html#effects">effects</a></span> <span class="id">fp1</span>) <span class="id">b</span> <span class="id">ofs</span>\/ ~<span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span> (<span class="id"><a href="InteractionSemantics.html#effects">effects</a></span> <span class="id">fp1</span>) <span class="id">b</span> <span class="id">ofs</span>). <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#classic">Classical_Prop.classic</a></span>. <span class="tactic">destruct</span> <span class="id">H</span>. <span class="id">edestruct</span> <span class="id">EffectMemEqPost0</span> <span class="kwd">as</span> [<span class="id">_</span> [] ];<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#contra_belongsto">contra_belongsto</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">MemContentPreserve0</span>,<span class="id">MemContentPreserve1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id">H0</span> <span class="kwd">as</span> [<span class="id">_</span> [<span class="id">_</span>]];<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">H4</span> <span class="id">T2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">ReadMemEq0</span> <span class="kwd">as</span> [[<span class="id">_</span> ] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id">H5</span> <span class="kwd">as</span> [? <span class="id">_</span>];<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#belongsto_union">belongsto_union</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">H7</span> <span class="id">H4</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id">H2</span> <span class="kwd">as</span> [<span class="id">_</span>[? <span class="id">_</span>]];<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">H8</span> <span class="id">H7</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H3</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H6</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#belongsto_union">belongsto_union</a></span>;<span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span> (<span class="id"><a href="InteractionSemantics.html#effects">effects</a></span> <span class="id">fp1</span>) <span class="id">b</span> <span class="id">ofs</span> \/ ~ <span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span> (<span class="id"><a href="InteractionSemantics.html#effects">effects</a></span> <span class="id">fp1</span>) <span class="id">b</span> <span class="id">ofs</span>). <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#classic">Classical_Prop.classic</a></span>. <span class="tactic">destruct</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id">EffectMemEqPost0</span> <span class="kwd">as</span> [[<span class="id">_</span>[]] <span class="id">_</span>];<span class="tactic">eauto</span>;<span class="tactic">split</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#contra_belongsto">contra_belongsto</a></span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id">EffectPermEqPre0</span>. <span class="tactic">rewrite</span> <span class="id"><a href="InteractionSemantics.html#effects_union">effects_union</a></span>. <span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#belongsto_union">belongsto_union</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id">MemContentPreserve0</span> <span class="kwd">as</span> [[<span class="id">_</span>[]] <span class="id">_</span>],<span class="id">MemContentPreserve1</span> <span class="kwd">as</span> [[<span class="id">_</span>[]]<span class="id">_</span>];<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">intro</span>;<span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Unshelve</span>. <span class="tactic">auto</span>. <span class="tactic">auto</span>. <span class="tactic">auto</span>. <span class="tactic">auto</span>. <span class="tactic">auto</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LPre_LEffect_LPost_Rule">LPre_LEffect_LPost_Rule</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m0</span> <span class="id">m1</span> <span class="id">m0</span>' <span class="id">m1</span>' <span class="id">fp1</span> <span class="id">fp2</span> <span class="id">fl1</span> <span class="id">fl2</span> <span class="id">fl3</span> <span class="id">fl4</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#LPre">LPre</a></span> <span class="id"><a href="InteractionSemantics.html#m0">m0</a></span> <span class="id">m0</span>' (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span>) <span class="id"><a href="InteractionSemantics.html#fl1">fl1</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#LEffect">LEffect</a></span> <span class="id"><a href="InteractionSemantics.html#m0">m0</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#fl2">fl2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#LEffect">LEffect</a></span> <span class="id">m0</span>' <span class="id">m1</span>' <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#fl3">fl3</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#LPost">LPost</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id">m1</span>' <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#fl4">fl4</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#LPre">LPre</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id">m1</span>' <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span> <span class="id"><a href="InteractionSemantics.html#fl4">fl4</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5863')">Proof.</div>
<div class="proofscript" id="proof5863">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">m0</span> <span class="id">m1</span> <span class="id">m0</span>' <span class="id">m1</span>' <span class="id">fp1</span> <span class="id">fp2</span> <span class="id">fl1</span> <span class="id">fl2</span> <span class="id">fl3</span> <span class="id">fl4</span> [] [] [] [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#MemPre_MemEffect_MemPost_Rule">MemPre_MemEffect_MemPost_Rule</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="MemPost_MemEffect_MemPost_Rule">MemPost_MemEffect_MemPost_Rule</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m0</span> <span class="id">m1</span> <span class="id">m0</span>' <span class="id">m1</span>' <span class="id">fp1</span> <span class="id">fp2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#MemPost">MemPost</a></span> <span class="id"><a href="InteractionSemantics.html#m0">m0</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#MemEffect">MemEffect</a></span> <span class="id"><a href="InteractionSemantics.html#m0">m0</a></span> <span class="id">m0</span>' <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#MemEffect">MemEffect</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id">m1</span>' <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#MemPost">MemPost</a></span> <span class="id">m0</span>' <span class="id">m1</span>' <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#MemPost">MemPost</a></span> <span class="id">m0</span>' <span class="id">m1</span>' (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5864')">Proof.</div>
<div class="proofscript" id="proof5864">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H1</span>,<span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#MemPost">MemPost</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rename</span> <span class="id">H</span> <span class="id">into</span> <span class="id">EffectMemEqPost0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rename</span> <span class="id">H2</span> <span class="id">into</span> <span class="id">EffectMemEqPost1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="InteractionSemantics.html#effects_union">effects_union</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_content_implies">unchanged_content_implies</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">instantiate</span> (1:= (<span class="kwd">fun</span> <span class="id">b</span> <span class="id">ofs</span>=&gt;<span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span> (<span class="id"><a href="InteractionSemantics.html#effects">effects</a></span> <span class="id">fp2</span>) <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span> \/ (<span class="id"><a href="InteractionSemantics.html#notbelongsto">notbelongsto</a></span> (<span class="id"><a href="InteractionSemantics.html#effects">effects</a></span> <span class="id">fp2</span>) <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span> /\ <span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span> (<span class="id"><a href="InteractionSemantics.html#effects">effects</a></span> <span class="id">fp1</span>) <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span> <span class="kwd">in</span> *;<span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#notbelongsto">notbelongsto</a></span>;<span class="id">Locs.unfolds</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="InteractionSemantics.html#effects">effects</a></span> <span class="id">fp2</span> <span class="id">b</span> <span class="id">ofs</span>) <span class="id">eqn</span>:?;<span class="tactic">destruct</span> (<span class="id"><a href="InteractionSemantics.html#effects">effects</a></span> <span class="id">fp1</span> <span class="id">b</span> <span class="id">ofs</span>) <span class="id">eqn</span>:?;<span class="id">Coqlib.inv</span> <span class="id">H</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_content_union">unchanged_content_union</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">remember</span>  (<span class="kwd">fun</span> <span class="id">b</span> <span class="id">ofs</span>=&gt; (<span class="id"><a href="InteractionSemantics.html#notbelongsto">notbelongsto</a></span> (<span class="id"><a href="InteractionSemantics.html#effects">effects</a></span> <span class="id">fp2</span>) <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span> /\ <span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span> (<span class="id"><a href="InteractionSemantics.html#effects">effects</a></span> <span class="id">fp1</span>) <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span>)) <span class="kwd">as</span> <span class="id">P</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span>,<span class="id">P</span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span> -&gt; <span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span> (<span class="id"><a href="InteractionSemantics.html#effects">effects</a></span> <span class="id">fp1</span>) <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id">HeqP</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> <span class="id">H</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span>,<span class="id">P</span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span> -&gt; <span class="id"><a href="InteractionSemantics.html#notbelongsto">notbelongsto</a></span> (<span class="id"><a href="InteractionSemantics.html#effects">effects</a></span> <span class="id">fp2</span>) <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id">HeqP</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">destruct</span> <span class="id">H0</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_content_implies">unchanged_content_implies</a></span> <span class="kwd">in</span> <span class="id">EffectMemEqPost0</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_content_implies">unchanged_content_implies</a></span> <span class="kwd">in</span> <span class="id">MemContentPreserve0</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_content_implies">unchanged_content_implies</a></span> <span class="kwd">in</span> <span class="id">MemContentPreserve1</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_content_trans">unchanged_content_trans</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_content_trans">unchanged_content_trans</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_content_comm">unchanged_content_comm</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LPost_LEffect_LPost_Rule">LPost_LEffect_LPost_Rule</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m0</span> <span class="id">m1</span> <span class="id">m0</span>' <span class="id">m1</span>' <span class="id">fp1</span> <span class="id">fp2</span> <span class="id">fl1</span> <span class="id">fl2</span> <span class="id">fl3</span> <span class="id">fl4</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#LPost">LPost</a></span> <span class="id"><a href="InteractionSemantics.html#m0">m0</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#fl1">fl1</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#LEffect">LEffect</a></span> <span class="id"><a href="InteractionSemantics.html#m0">m0</a></span> <span class="id">m0</span>' <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span> <span class="id"><a href="InteractionSemantics.html#fl2">fl2</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#LEffect">LEffect</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id">m1</span>' <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span> <span class="id"><a href="InteractionSemantics.html#fl3">fl3</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#LPost">LPost</a></span> <span class="id">m0</span>' <span class="id">m1</span>' <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span> <span class="id"><a href="InteractionSemantics.html#fl4">fl4</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#LPost">LPost</a></span> <span class="id">m0</span>' <span class="id">m1</span>' (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span>) <span class="id"><a href="InteractionSemantics.html#fl4">fl4</a></span>.  <br/>
<div class="toggleproof" onclick="toggleDisplay('proof5865')">Proof.</div>
<div class="proofscript" id="proof5865">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span>,<span class="id">H0</span>,<span class="id">H1</span>,<span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#MemPost_MemEffect_MemPost_Rule">MemPost_MemEffect_MemPost_Rule</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="Loc_smile_comm">Loc_smile_comm</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l1</span> <span class="id">l2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#Locs.smile">Locs.smile</a></span> <span class="id"><a href="InteractionSemantics.html#l1">l1</a></span> <span class="id"><a href="InteractionSemantics.html#l2">l2</a></span>-&gt;<span class="id"><a href="Footprint.html#Locs.smile">Locs.smile</a></span> <span class="id"><a href="InteractionSemantics.html#l2">l2</a></span> <span class="id"><a href="InteractionSemantics.html#l1">l1</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5866')">Proof.</div>
<div class="proofscript" id="proof5866">
 <span class="id">Locs.unfolds</span>. <span class="tactic">intros</span>. <span class="id">specialize</span> (<span class="id">H</span> <span class="id">b</span> <span class="id">ofs</span>). <span class="tactic">destruct</span> (<span class="id">l1</span> <span class="id">b</span> <span class="id">ofs</span>),(<span class="id">l2</span> <span class="id">b</span> <span class="id">ofs</span>);<span class="tactic">auto</span>. Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LocSmile_belongsto_relation">LocSmile_belongsto_relation</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l1</span> <span class="id">l2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#Locs.smile">Locs.smile</a></span> <span class="id"><a href="InteractionSemantics.html#l1">l1</a></span> <span class="id"><a href="InteractionSemantics.html#l2">l2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span>, <span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span> <span class="id"><a href="InteractionSemantics.html#l1">l1</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span>-&gt;<span class="id"><a href="InteractionSemantics.html#notbelongsto">notbelongsto</a></span> <span class="id"><a href="InteractionSemantics.html#l2">l2</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5867')">Proof.</div>
<div class="proofscript" id="proof5867">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#belongsto">belongsto</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#notbelongsto">notbelongsto</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Locs.unfolds</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">l1</span> <span class="id">b</span> <span class="id">ofs</span>) <span class="id">eqn</span>:<span class="id">e1</span>,(<span class="id">l2</span> <span class="id">b</span> <span class="id">ofs</span>) <span class="id">eqn</span>:<span class="id">e2</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">H</span> <span class="id">b</span> <span class="id">ofs</span>). <span class="tactic">rewrite</span> <span class="id">e1</span> <span class="kwd">in</span> <span class="id">H</span>;<span class="tactic">rewrite</span> <span class="id">e2</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">inversion</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Ltac</span> <span class="id">unfoldands</span>:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> [<span class="id">H</span>:<span class="id">_</span>/\<span class="id">_</span>|-<span class="id">_</span>]=&gt; <span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="MemEffect_fpsmile_MemPre_Rule">MemEffect_fpsmile_MemPre_Rule</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span>  <span class="id">m0</span> <span class="id">m1</span> <span class="id">fp1</span> <span class="id">fp2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#MemEffect">MemEffect</a></span> <span class="id"><a href="InteractionSemantics.html#m0">m0</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.smile">FP.smile</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#MemPre">MemPre</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#m0">m0</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5868')">Proof.</div>
<div class="proofscript" id="proof5868">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span>,<span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfoldands</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> [<span class="id">H</span>: <span class="id"><a href="Footprint.html#Locs.smile">Locs.smile</a></span> ?<span class="id">a</span> ?<span class="id">b</span> |- <span class="id">_</span> ]=&gt; <span class="id">pose</span> <span class="id">proof</span> <span class="id"><a href="InteractionSemantics.html#LocSmile_belongsto_relation">LocSmile_belongsto_relation</a></span> <span class="id">a</span> <span class="id">b</span> <span class="id">H</span>;<span class="id">pose</span> <span class="id">proof</span> <span class="id"><a href="InteractionSemantics.html#LocSmile_belongsto_relation">LocSmile_belongsto_relation</a></span> <span class="id">b</span> <span class="id">a</span> (<span class="id"><a href="InteractionSemantics.html#Loc_smile_comm">Loc_smile_comm</a></span> <span class="id">a</span> <span class="id">b</span> <span class="id">H</span>);<span class="tactic">clear</span> <span class="id">H</span> <span class="kwd">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_content_implies">unchanged_content_implies</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">assert</span>( <span class="id"><a href="InteractionSemantics.html#notbelongsto">notbelongsto</a></span> (<span class="id"><a href="InteractionSemantics.html#effects">effects</a></span> <span class="id">fp1</span>) <span class="id">b</span> <span class="id">ofs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#notbelongsto_union">notbelongsto_union</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H20</span>. <span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_content_comm">unchanged_content_comm</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_perm_implies">unchanged_perm_implies</a></span>;<span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_perm_comm">unchanged_perm_comm</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="InteractionSemantics.html#notbelongsto">notbelongsto</a></span> (<span class="id"><a href="InteractionSemantics.html#effects">effects</a></span> <span class="id">fp1</span>) <span class="id">b</span> <span class="id">ofs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#effects">effects</a></span> <span class="kwd">in</span> *;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#belongsto_union">belongsto_union</a></span> <span class="kwd">in</span> <span class="id">H5</span> <span class="kwd">as</span> [];<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#notbelongsto_union">notbelongsto_union</a></span>;<span class="tactic">split</span>;[<span class="tactic">apply</span> <span class="id">H10</span>|<span class="tactic">apply</span> <span class="id">H11</span>|<span class="tactic">apply</span> <span class="id">H13</span>|<span class="tactic">apply</span> <span class="id">H8</span>];<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id">MemContentPreserve0</span> <span class="kwd">as</span> [[<span class="id">_</span>[]] <span class="id">_</span>];<span class="tactic">eauto</span>;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="disjoint_fl_memeq">disjoint_fl_memeq</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m0</span> <span class="id">m1</span> <span class="id">fl1</span> <span class="id">fl2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemAux.html#disj">disj</a></span> <span class="id"><a href="InteractionSemantics.html#fl1">fl1</a></span> <span class="id"><a href="InteractionSemantics.html#fl2">fl2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#LocalAlloc">LocalAlloc</a></span> <span class="id"><a href="InteractionSemantics.html#m0">m0</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#fl1">fl1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="GMemory.html#GMem.valid_block">GMem.valid_block</a></span> <span class="id"><a href="InteractionSemantics.html#m0">m0</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span> -&gt; <span class="id"><a href="GMemory.html#GMem.valid_block">GMem.valid_block</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span>)-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#FreelistEq">FreelistEq</a></span> <span class="id"><a href="InteractionSemantics.html#m0">m0</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#fl2">fl2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5869')">Proof.</div>
<div class="proofscript" id="proof5869">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#FreelistEq_comm">FreelistEq_comm</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#FreelistEq">FreelistEq</a></span>;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (~<span class="id"><a href="MemAux.html#in_fl">in_fl</a></span> <span class="id">fl1</span> <span class="id">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="MemAux.html#in_fl">in_fl</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H2</span>. <span class="tactic">intro</span>. <span class="tactic">destruct</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H2</span> <span class="kwd">in</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id">H4</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#NNPP">Classical_Prop.NNPP</a></span>;<span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id">H0</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H1</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LEffect_fpsmile_LPre_Rule">LEffect_fpsmile_LPre_Rule</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m0</span> <span class="id">m1</span> <span class="id">fp1</span> <span class="id">fp2</span> <span class="id">fl1</span> <span class="id">fl2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemAux.html#disj">disj</a></span> <span class="id"><a href="InteractionSemantics.html#fl1">fl1</a></span> <span class="id"><a href="InteractionSemantics.html#fl2">fl2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#LEffect">LEffect</a></span> <span class="id"><a href="InteractionSemantics.html#m0">m0</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#fl1">fl1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.smile">FP.smile</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#LPre">LPre</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#m0">m0</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span> <span class="id"><a href="InteractionSemantics.html#fl2">fl2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5870')">Proof.</div>
<div class="proofscript" id="proof5870">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#MemEffect_fpsmile_MemPre_Rule">MemEffect_fpsmile_MemPre_Rule</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#FreelistEq_comm">FreelistEq_comm</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#disjoint_fl_memeq">disjoint_fl_memeq</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LEffect_unchanged_on">LEffect_unchanged_on</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fl</span> <span class="id">m</span> <span class="id">fp</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#LEffect">LEffect</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>' <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GMemory.html#GMem.unchanged_on">GMem.unchanged_on</a></span> (<span class="kwd">fun</span> <span class="id">b</span> <span class="id">ofs</span> =&gt; ~ <span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span> (<span class="id"><a href="Footprint.html#FP.locs">FP.locs</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span>) <span class="id"><a href="InteractionSemantics.html#b">b</a></span> <span class="id"><a href="InteractionSemantics.html#ofs">ofs</a></span>) <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5871')">Proof.</div>
<div class="proofscript" id="proof5871">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> 1 <span class="kwd">as</span> [? <span class="id">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [? <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_content_equiv">unchanged_content_equiv</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_content_implies">unchanged_content_implies</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span>;<span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#notbelongsto">notbelongsto</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#effects">effects</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.locs">FP.locs</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">fp</span>;<span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">cmps</span>,<span class="id">reads</span>,<span class="id">frees</span>,<span class="id">writes</span>;<span class="tactic">eauto</span>;<span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LEffect_local_alloc">LEffect_local_alloc</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fl</span> <span class="id">m</span> <span class="id">fp</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#LEffect">LEffect</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id">m</span>' <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="GMemory.html#GMem.valid_block">GMem.valid_block</a></span> <span class="id">m</span>' <span class="id"><a href="InteractionSemantics.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~ <span class="id"><a href="GMemory.html#GMem.valid_block">GMem.valid_block</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemAux.html#in_fl">in_fl</a></span> <span class="id"><a href="InteractionSemantics.html#fl">fl</a></span> <span class="id"><a href="InteractionSemantics.html#b">b</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5872')">Proof.</div>
<div class="proofscript" id="proof5872">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> 1; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<br/>
<span class="kwd">End</span> <span class="id"><a href="InteractionSemantics.html#LangProp">LangProp</a></span>.<br/>
<br/>
<div class="doc">The well-defined language (Def. 1) in paper 
<ul>
<li>
 <span class="bracket"><span class="id">mem_enlarge</span></span>: Def.1 (1) 
</li>
<li>
 <span class="bracket"><span class="id">mem_unchg_outside_writes</span></span>: Def.1 (2) 
</li>
<li>
 <span class="bracket"><span class="id">step_sim_pre_post</span></span>: Def.1 (3) 
</li>
<li>
 <span class="bracket"><span class="id">step_nondet_equiv</span></span>: Def.1 (4) 
 </li>
</ul>
</div>
<span class="kwd">Record</span> <span class="id"><a name="wdFP">wdFP</a></span> (<span class="id">L</span>: <span class="id"><a href="InteractionSemantics.html#Language">Language</a></span>): <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="mem_enlarge">mem_enlarge</a></span>: <span class="id"><a href="InteractionSemantics.html#corestep_forward">corestep_forward</a></span> (<span class="id"><a href="InteractionSemantics.html#step">step</a></span> <span class="id"><a href="InteractionSemantics.html#L">L</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="mem_unchg_outside_writes">mem_unchg_outside_writes</a></span>: <span class="id"><a href="InteractionSemantics.html#corestep_local_eff">corestep_local_eff</a></span> (<span class="id"><a href="InteractionSemantics.html#step">step</a></span> <span class="id"><a href="InteractionSemantics.html#L">L</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="step_sim_pre_post">step_sim_pre_post</a></span>: <span class="id"><a href="InteractionSemantics.html#corestep_locality_1">corestep_locality_1</a></span> (<span class="id"><a href="InteractionSemantics.html#step">step</a></span> <span class="id"><a href="InteractionSemantics.html#L">L</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="step_nondet_equiv">step_nondet_equiv</a></span>: <span class="id"><a href="InteractionSemantics.html#corestep_locality_2">corestep_locality_2</a></span> (<span class="id"><a href="InteractionSemantics.html#step">step</a></span> <span class="id"><a href="InteractionSemantics.html#L">L</a></span>);<br/>
&nbsp;&nbsp;}.<br/>
<br/>
<div class="doc">For the convenience of proof development, we wrapped the <span class="bracket"><span class="id">wdFP</span></span> alone with 
    other language properties into definition <span class="bracket"><span class="id">wd</span></span> below, and use <span class="bracket"><span class="id">wd</span></span> instead of <span class="bracket"><span class="id">wdFP</span></span>
    in corresponding theorems/lemmas </div>
<span class="kwd">Record</span> <span class="id"><a name="wd">wd</a></span> (<span class="id">L</span>: <span class="id"><a href="InteractionSemantics.html#Language">Language</a></span>): <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="step_forward">step_forward</a></span>: <span class="id"><a href="InteractionSemantics.html#corestep_forward">corestep_forward</a></span> (<span class="id"><a href="InteractionSemantics.html#step">step</a></span> <span class="id"><a href="InteractionSemantics.html#L">L</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="step_local_eff">step_local_eff</a></span>: <span class="id"><a href="InteractionSemantics.html#corestep_local_eff">corestep_local_eff</a></span> (<span class="id"><a href="InteractionSemantics.html#step">step</a></span> <span class="id"><a href="InteractionSemantics.html#L">L</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="step_locality_1">step_locality_1</a></span>: <span class="id"><a href="InteractionSemantics.html#corestep_locality_1">corestep_locality_1</a></span> (<span class="id"><a href="InteractionSemantics.html#step">step</a></span> <span class="id"><a href="InteractionSemantics.html#L">L</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="step_locality_2">step_locality_2</a></span>: <span class="id"><a href="InteractionSemantics.html#corestep_locality_2">corestep_locality_2</a></span> (<span class="id"><a href="InteractionSemantics.html#step">step</a></span> <span class="id"><a href="InteractionSemantics.html#L">L</a></span>);<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="init_gmem_valid">init_gmem_valid</a></span>: <span class="id">init_gmem_valid</span>' (<span class="id"><a href="InteractionSemantics.html#init_gmem">init_gmem</a></span> <span class="id"><a href="InteractionSemantics.html#L">L</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="eq_mem_step">eq_mem_step</a></span>: <span class="id"><a href="InteractionSemantics.html#eq_mem_eq_corestep">eq_mem_eq_corestep</a></span> (<span class="id"><a href="InteractionSemantics.html#step">step</a></span> <span class="id"><a href="InteractionSemantics.html#L">L</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="step_not_atext">step_not_atext</a></span>: <span class="id"><a href="InteractionSemantics.html#corestep_not_at_external">corestep_not_at_external</a></span> (<span class="id"><a href="InteractionSemantics.html#step">step</a></span> <span class="id"><a href="InteractionSemantics.html#L">L</a></span>) (<span class="id"><a href="InteractionSemantics.html#at_external">at_external</a></span> <span class="id"><a href="InteractionSemantics.html#L">L</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="step_not_halt">step_not_halt</a></span>: <span class="id"><a href="InteractionSemantics.html#corestep_not_halted">corestep_not_halted</a></span> (<span class="id"><a href="InteractionSemantics.html#step">step</a></span> <span class="id"><a href="InteractionSemantics.html#L">L</a></span>) (<span class="id"><a href="InteractionSemantics.html#halt">halt</a></span> <span class="id"><a href="InteractionSemantics.html#L">L</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="atext_not_halt">atext_not_halt</a></span>: <span class="id"><a href="InteractionSemantics.html#at_external_halted_excl">at_external_halted_excl</a></span> (<span class="id"><a href="InteractionSemantics.html#at_external">at_external</a></span> <span class="id"><a href="InteractionSemantics.html#L">L</a></span>) (<span class="id"><a href="InteractionSemantics.html#halt">halt</a></span> <span class="id"><a href="InteractionSemantics.html#L">L</a></span>);<br/>
&nbsp;&nbsp;}.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="wd_wdFP">wd_wdFP</a></span>: <span class="kwd">forall</span> <span class="id">L</span>, <span class="id"><a href="InteractionSemantics.html#wd">wd</a></span> <span class="id"><a href="InteractionSemantics.html#L">L</a></span> -&gt; <span class="id"><a href="InteractionSemantics.html#wdFP">wdFP</a></span> <span class="id"><a href="InteractionSemantics.html#L">L</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5873')">Proof.</div>
<div class="proofscript" id="proof5873">
 <span class="tactic">intros</span>; <span class="tactic">destruct</span> <span class="id">H</span>; <span class="id">constructor</span>; <span class="tactic">auto</span>. Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="lang_det">lang_det</a></span> (<span class="id">lang</span>: <span class="id"><a href="InteractionSemantics.html#Language">Language</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#step_det">step_det</a></span> <span class="id"><a href="InteractionSemantics.html#lang">lang</a></span>.(@<span class="id"><a href="InteractionSemantics.html#step">step</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="mod_det">mod_det</a></span> (<span class="id">md</span>: <span class="id"><a href="InteractionSemantics.html#t">ModSem.t</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#lang_det">lang_det</a></span> (<span class="id"><a href="InteractionSemantics.html#lang">ModSem.lang</a></span> <span class="id"><a href="InteractionSemantics.html#md">md</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="mod_wd">mod_wd</a></span> (<span class="id">md</span>: <span class="id"><a href="InteractionSemantics.html#t">ModSem.t</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#wd">wd</a></span> (<span class="id"><a href="InteractionSemantics.html#lang">ModSem.lang</a></span> <span class="id"><a href="InteractionSemantics.html#md">md</a></span>).<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="steps">steps</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Context</span> {<span class="id">C</span> <span class="id">M</span>: <span class="kwd">Type</span>}.<br/>
&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="steps.step">step</a></span>: <span class="id"><a href="InteractionSemantics.html#steps.C">C</a></span> -&gt; <span class="id"><a href="InteractionSemantics.html#steps.M">M</a></span> -&gt; <span class="id"><a href="Footprint.html#FP.t">FP.t</a></span> -&gt; <span class="id"><a href="InteractionSemantics.html#steps.C">C</a></span> -&gt; <span class="id"><a href="InteractionSemantics.html#steps.M">M</a></span> -&gt; <span class="kwd">Prop</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="star">star</a></span>: <span class="id"><a href="InteractionSemantics.html#steps.C">C</a></span> -&gt; <span class="id"><a href="InteractionSemantics.html#steps.M">M</a></span> -&gt; <span class="id"><a href="Footprint.html#FP.t">FP.t</a></span> -&gt; <span class="id"><a href="InteractionSemantics.html#steps.C">C</a></span> -&gt; <span class="id"><a href="InteractionSemantics.html#steps.M">M</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="star_refl">star_refl</a></span>: <span class="kwd">forall</span> <span class="id">c</span> <span class="id">m</span>, <span class="id"><a href="InteractionSemantics.html#star">star</a></span> <span class="id"><a href="InteractionSemantics.html#c">c</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> <span class="id"><a href="InteractionSemantics.html#c">c</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="star_step">star_step</a></span>: <span class="kwd">forall</span> <span class="id">c</span> <span class="id">m</span> <span class="id">fp</span> <span class="id">c</span>' <span class="id">m</span>' <span class="id">fp</span>' <span class="id">c</span>'' <span class="id">m</span>'',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#steps.step">step</a></span> <span class="id"><a href="InteractionSemantics.html#c">c</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id">c</span>' <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#star">star</a></span> <span class="id">c</span>' <span class="id">m</span>' <span class="id">fp</span>' <span class="id">c</span>'' <span class="id">m</span>'' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#star">star</a></span> <span class="id"><a href="InteractionSemantics.html#c">c</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id">fp</span>') <span class="id">c</span>'' <span class="id">m</span>''.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="star_one">star_one</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c</span> <span class="id">m</span> <span class="id">fp</span> <span class="id">c</span>' <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#steps.step">step</a></span> <span class="id"><a href="InteractionSemantics.html#c">c</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id">c</span>' <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#star">star</a></span> <span class="id"><a href="InteractionSemantics.html#c">c</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id">c</span>' <span class="id">m</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5874')">Proof.</div>
<div class="proofscript" id="proof5874">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="Footprint.html#FP.emp_union_fp">FP.emp_union_fp</a></span> <span class="id">fp</span>), <span class="id"><a href="Footprint.html#FP.union_comm_eq">FP.union_comm_eq</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="star_two">star_two</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c1</span> <span class="id">m1</span> <span class="id">fp1</span> <span class="id">c2</span> <span class="id">m2</span> <span class="id">fp2</span> <span class="id">c3</span> <span class="id">m3</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#steps.step">step</a></span> <span class="id"><a href="InteractionSemantics.html#c1">c1</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#c2">c2</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#steps.step">step</a></span> <span class="id"><a href="InteractionSemantics.html#c2">c2</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span> <span class="id"><a href="InteractionSemantics.html#c3">c3</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> = <span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#star">star</a></span> <span class="id"><a href="InteractionSemantics.html#c1">c1</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id"><a href="InteractionSemantics.html#c3">c3</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5875')">Proof.</div>
<div class="proofscript" id="proof5875">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">subst</span> <span class="id">fp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#star_one">star_one</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="star_three">star_three</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c1</span> <span class="id">m1</span> <span class="id">fp1</span> <span class="id">c2</span> <span class="id">m2</span> <span class="id">fp2</span> <span class="id">c3</span> <span class="id">m3</span> <span class="id">fp3</span> <span class="id">c4</span> <span class="id">m4</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#steps.step">step</a></span> <span class="id"><a href="InteractionSemantics.html#c1">c1</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#c2">c2</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#steps.step">step</a></span> <span class="id"><a href="InteractionSemantics.html#c2">c2</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span> <span class="id"><a href="InteractionSemantics.html#c3">c3</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#steps.step">step</a></span> <span class="id"><a href="InteractionSemantics.html#c3">c3</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span> <span class="id"><a href="InteractionSemantics.html#fp3">fp3</a></span> <span class="id"><a href="InteractionSemantics.html#c4">c4</a></span> <span class="id"><a href="InteractionSemantics.html#m4">m4</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> = <span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span> <span class="id"><a href="InteractionSemantics.html#fp3">fp3</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#star">star</a></span> <span class="id"><a href="InteractionSemantics.html#c1">c1</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id"><a href="InteractionSemantics.html#c4">c4</a></span> <span class="id"><a href="InteractionSemantics.html#m4">m4</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5876')">Proof.</div>
<div class="proofscript" id="proof5876">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">subst</span> <span class="id">fp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_two">star_two</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="star_four">star_four</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c1</span> <span class="id">m1</span> <span class="id">fp1</span> <span class="id">c2</span> <span class="id">m2</span> <span class="id">fp2</span> <span class="id">c3</span> <span class="id">m3</span> <span class="id">fp3</span> <span class="id">c4</span> <span class="id">m4</span> <span class="id">fp4</span> <span class="id">c5</span> <span class="id">m5</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#steps.step">step</a></span> <span class="id"><a href="InteractionSemantics.html#c1">c1</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#c2">c2</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#steps.step">step</a></span> <span class="id"><a href="InteractionSemantics.html#c2">c2</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span> <span class="id"><a href="InteractionSemantics.html#c3">c3</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#steps.step">step</a></span> <span class="id"><a href="InteractionSemantics.html#c3">c3</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span> <span class="id"><a href="InteractionSemantics.html#fp3">fp3</a></span> <span class="id"><a href="InteractionSemantics.html#c4">c4</a></span> <span class="id"><a href="InteractionSemantics.html#m4">m4</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#steps.step">step</a></span> <span class="id"><a href="InteractionSemantics.html#c4">c4</a></span> <span class="id"><a href="InteractionSemantics.html#m4">m4</a></span> <span class="id"><a href="InteractionSemantics.html#fp4">fp4</a></span> <span class="id"><a href="InteractionSemantics.html#c5">c5</a></span> <span class="id"><a href="InteractionSemantics.html#m5">m5</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> = <span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="InteractionSemantics.html#fp3">fp3</a></span> <span class="id"><a href="InteractionSemantics.html#fp4">fp4</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#star">star</a></span> <span class="id"><a href="InteractionSemantics.html#c1">c1</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id"><a href="InteractionSemantics.html#c5">c5</a></span> <span class="id"><a href="InteractionSemantics.html#m5">m5</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5877')">Proof.</div>
<div class="proofscript" id="proof5877">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">subst</span> <span class="id">fp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_three">star_three</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="star_trans">star_trans</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c1</span> <span class="id">m1</span> <span class="id">fp1</span> <span class="id">c2</span> <span class="id">m2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#star">star</a></span> <span class="id"><a href="InteractionSemantics.html#c1">c1</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#c2">c2</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp2</span> <span class="id">c3</span> <span class="id">m3</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#star">star</a></span> <span class="id"><a href="InteractionSemantics.html#c2">c2</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span> <span class="id"><a href="InteractionSemantics.html#c3">c3</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> = <span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#star">star</a></span> <span class="id"><a href="InteractionSemantics.html#c1">c1</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id"><a href="InteractionSemantics.html#c3">c3</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5878')">Proof.</div>
<div class="proofscript" id="proof5878">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.emp_union_fp">FP.emp_union_fp</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H2</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Footprint.html#FP.fp_union_assoc">FP.fp_union_assoc</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_step">star_step</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="star_left">star_left</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c1</span> <span class="id">m1</span> <span class="id">fp1</span> <span class="id">c2</span> <span class="id">m2</span> <span class="id">fp2</span> <span class="id">c3</span> <span class="id">m3</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#steps.step">step</a></span> <span class="id"><a href="InteractionSemantics.html#c1">c1</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#c2">c2</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#star">star</a></span> <span class="id"><a href="InteractionSemantics.html#c2">c2</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span> <span class="id"><a href="InteractionSemantics.html#c3">c3</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> = <span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#star">star</a></span> <span class="id"><a href="InteractionSemantics.html#c1">c1</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id"><a href="InteractionSemantics.html#c3">c3</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5879')">Proof.</div>
<div class="proofscript" id="proof5879">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">subst</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="star_right">star_right</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c1</span> <span class="id">m1</span> <span class="id">fp1</span> <span class="id">c2</span> <span class="id">m2</span> <span class="id">fp2</span> <span class="id">c3</span> <span class="id">m3</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#star">star</a></span> <span class="id"><a href="InteractionSemantics.html#c1">c1</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#c2">c2</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#steps.step">step</a></span> <span class="id"><a href="InteractionSemantics.html#c2">c2</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span> <span class="id"><a href="InteractionSemantics.html#c3">c3</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> = <span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#star">star</a></span> <span class="id"><a href="InteractionSemantics.html#c1">c1</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id"><a href="InteractionSemantics.html#c3">c3</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span> .<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5880')">Proof.</div>
<div class="proofscript" id="proof5880">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">subst</span>. <span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_trans">star_trans</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#star_one">star_one</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="plus">plus</a></span>: <span class="id"><a href="InteractionSemantics.html#steps.C">C</a></span> -&gt; <span class="id"><a href="InteractionSemantics.html#steps.M">M</a></span> -&gt; <span class="id"><a href="Footprint.html#FP.t">FP.t</a></span> -&gt; <span class="id"><a href="InteractionSemantics.html#steps.C">C</a></span> -&gt; <span class="id"><a href="InteractionSemantics.html#steps.M">M</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="plus_one">plus_one</a></span>: <span class="kwd">forall</span> <span class="id">c</span> <span class="id">m</span> <span class="id">fp</span> <span class="id">c</span>' <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#steps.step">step</a></span> <span class="id"><a href="InteractionSemantics.html#c">c</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id">c</span>' <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#plus">plus</a></span> <span class="id"><a href="InteractionSemantics.html#c">c</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id">c</span>' <span class="id">m</span>'<br/>
&nbsp;&nbsp;| <span class="id"><a name="plus_cons">plus_cons</a></span>: <span class="kwd">forall</span> <span class="id">c</span> <span class="id">m</span> <span class="id">fp</span> <span class="id">c</span>' <span class="id">m</span>' <span class="id">fp</span>' <span class="id">c</span>'' <span class="id">m</span>'',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#steps.step">step</a></span> <span class="id"><a href="InteractionSemantics.html#c">c</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id">c</span>' <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#plus">plus</a></span> <span class="id">c</span>' <span class="id">m</span>' <span class="id">fp</span>' <span class="id">c</span>'' <span class="id">m</span>'' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#plus">plus</a></span> <span class="id"><a href="InteractionSemantics.html#c">c</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id">fp</span>') <span class="id">c</span>'' <span class="id">m</span>''.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="plus_left">plus_left</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c1</span> <span class="id">m1</span> <span class="id">fp1</span> <span class="id">c2</span> <span class="id">m2</span> <span class="id">fp2</span> <span class="id">c3</span> <span class="id">m3</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#steps.step">step</a></span> <span class="id"><a href="InteractionSemantics.html#c1">c1</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#c2">c2</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#star">star</a></span> <span class="id"><a href="InteractionSemantics.html#c2">c2</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span> <span class="id"><a href="InteractionSemantics.html#c3">c3</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> = <span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#plus">plus</a></span> <span class="id"><a href="InteractionSemantics.html#c1">c1</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id"><a href="InteractionSemantics.html#c3">c3</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5881')">Proof.</div>
<div class="proofscript" id="proof5881">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="tactic">dependent</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="tactic">dependent</span> <span class="id">fp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="tactic">dependent</span> <span class="id">fp1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="tactic">dependent</span> <span class="id">m1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="tactic">dependent</span> <span class="id">c1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">H0</span>; <span class="tactic">intros</span>. <span class="tactic">subst</span> <span class="id">fp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>. <span class="id">constructor</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#plus_cons">plus_cons</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="plus_two">plus_two</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c1</span> <span class="id">m1</span> <span class="id">fp1</span> <span class="id">c2</span> <span class="id">m2</span> <span class="id">fp2</span> <span class="id">c3</span> <span class="id">m3</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#steps.step">step</a></span> <span class="id"><a href="InteractionSemantics.html#c1">c1</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#c2">c2</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#steps.step">step</a></span> <span class="id"><a href="InteractionSemantics.html#c2">c2</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span> <span class="id"><a href="InteractionSemantics.html#c3">c3</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> = <span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#plus">plus</a></span> <span class="id"><a href="InteractionSemantics.html#c1">c1</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id"><a href="InteractionSemantics.html#c3">c3</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5882')">Proof.</div>
<div class="proofscript" id="proof5882">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">subst</span>. <span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#plus_cons">plus_cons</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#plus_one">plus_one</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="plus_three">plus_three</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c1</span> <span class="id">m1</span> <span class="id">fp1</span> <span class="id">c2</span> <span class="id">m2</span> <span class="id">fp2</span> <span class="id">c3</span> <span class="id">m3</span> <span class="id">fp3</span> <span class="id">c4</span> <span class="id">m4</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#steps.step">step</a></span> <span class="id"><a href="InteractionSemantics.html#c1">c1</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#c2">c2</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#steps.step">step</a></span> <span class="id"><a href="InteractionSemantics.html#c2">c2</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span> <span class="id"><a href="InteractionSemantics.html#c3">c3</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#steps.step">step</a></span> <span class="id"><a href="InteractionSemantics.html#c3">c3</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span> <span class="id"><a href="InteractionSemantics.html#fp3">fp3</a></span> <span class="id"><a href="InteractionSemantics.html#c4">c4</a></span> <span class="id"><a href="InteractionSemantics.html#m4">m4</a></span> -&gt;      <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> = <span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span> <span class="id"><a href="InteractionSemantics.html#fp3">fp3</a></span>)-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#plus">plus</a></span> <span class="id"><a href="InteractionSemantics.html#c1">c1</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id"><a href="InteractionSemantics.html#c4">c4</a></span> <span class="id"><a href="InteractionSemantics.html#m4">m4</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5883')">Proof.</div>
<div class="proofscript" id="proof5883">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">subst</span>. <span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#plus_cons">plus_cons</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#plus_two">plus_two</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="plus_four">plus_four</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c1</span> <span class="id">m1</span> <span class="id">fp1</span> <span class="id">c2</span> <span class="id">m2</span> <span class="id">fp2</span> <span class="id">c3</span> <span class="id">m3</span> <span class="id">fp3</span> <span class="id">c4</span> <span class="id">m4</span> <span class="id">fp4</span> <span class="id">c5</span> <span class="id">m5</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#steps.step">step</a></span> <span class="id"><a href="InteractionSemantics.html#c1">c1</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#c2">c2</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#steps.step">step</a></span> <span class="id"><a href="InteractionSemantics.html#c2">c2</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span> <span class="id"><a href="InteractionSemantics.html#c3">c3</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#steps.step">step</a></span> <span class="id"><a href="InteractionSemantics.html#c3">c3</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span> <span class="id"><a href="InteractionSemantics.html#fp3">fp3</a></span> <span class="id"><a href="InteractionSemantics.html#c4">c4</a></span> <span class="id"><a href="InteractionSemantics.html#m4">m4</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#steps.step">step</a></span> <span class="id"><a href="InteractionSemantics.html#c4">c4</a></span> <span class="id"><a href="InteractionSemantics.html#m4">m4</a></span> <span class="id"><a href="InteractionSemantics.html#fp4">fp4</a></span> <span class="id"><a href="InteractionSemantics.html#c5">c5</a></span> <span class="id"><a href="InteractionSemantics.html#m5">m5</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> = <span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="InteractionSemantics.html#fp3">fp3</a></span> <span class="id"><a href="InteractionSemantics.html#fp4">fp4</a></span>))-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#plus">plus</a></span> <span class="id"><a href="InteractionSemantics.html#c1">c1</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id"><a href="InteractionSemantics.html#c5">c5</a></span> <span class="id"><a href="InteractionSemantics.html#m5">m5</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5884')">Proof.</div>
<div class="proofscript" id="proof5884">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">subst</span>. <span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#plus_cons">plus_cons</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#plus_three">plus_three</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="plus_star">plus_star</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c</span> <span class="id">m</span> <span class="id">fp</span> <span class="id">c</span>' <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#plus">plus</a></span> <span class="id"><a href="InteractionSemantics.html#c">c</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id">c</span>' <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#star">star</a></span> <span class="id"><a href="InteractionSemantics.html#c">c</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id">c</span>' <span class="id">m</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5885')">Proof.</div>
<div class="proofscript" id="proof5885">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">induction</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#star_one">star_one</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_step">star_step</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="plus_right">plus_right</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c1</span> <span class="id">m1</span> <span class="id">fp1</span> <span class="id">c2</span> <span class="id">m2</span> <span class="id">fp2</span> <span class="id">c3</span> <span class="id">m3</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#star">star</a></span> <span class="id"><a href="InteractionSemantics.html#c1">c1</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#c2">c2</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#steps.step">step</a></span> <span class="id"><a href="InteractionSemantics.html#c2">c2</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span> <span class="id"><a href="InteractionSemantics.html#c3">c3</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> = <span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#plus">plus</a></span> <span class="id"><a href="InteractionSemantics.html#c1">c1</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id"><a href="InteractionSemantics.html#c3">c3</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5886')">Proof.</div>
<div class="proofscript" id="proof5886">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="tactic">dependent</span> <span class="id">fp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="tactic">dependent</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="tactic">dependent</span> <span class="id">m3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="tactic">dependent</span> <span class="id">c3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="tactic">dependent</span> <span class="id">fp2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">H</span>; <span class="tactic">intros</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.emp_union_fp">FP.emp_union_fp</a></span>. <span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#plus_one">plus_one</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Footprint.html#FP.fp_union_assoc">FP.fp_union_assoc</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#plus_cons">plus_cons</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id">plus_left</span>':<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c1</span> <span class="id">m1</span> <span class="id">fp1</span> <span class="id">c2</span> <span class="id">m2</span> <span class="id">fp2</span> <span class="id">c3</span> <span class="id">m3</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#steps.step">step</a></span> <span class="id"><a href="InteractionSemantics.html#c1">c1</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#c2">c2</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#plus">plus</a></span> <span class="id"><a href="InteractionSemantics.html#c2">c2</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span> <span class="id"><a href="InteractionSemantics.html#c3">c3</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> = <span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#plus">plus</a></span> <span class="id"><a href="InteractionSemantics.html#c1">c1</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id"><a href="InteractionSemantics.html#c3">c3</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5887')">Proof.</div>
<div class="proofscript" id="proof5887">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">subst</span>. <span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#plus_cons">plus_cons</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id">plus_right</span>':<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c1</span> <span class="id">m1</span> <span class="id">fp1</span> <span class="id">c2</span> <span class="id">m2</span> <span class="id">fp2</span> <span class="id">c3</span> <span class="id">m3</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#plus">plus</a></span> <span class="id"><a href="InteractionSemantics.html#c1">c1</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#c2">c2</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#steps.step">step</a></span> <span class="id"><a href="InteractionSemantics.html#c2">c2</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span> <span class="id"><a href="InteractionSemantics.html#c3">c3</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> = <span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#plus">plus</a></span> <span class="id"><a href="InteractionSemantics.html#c1">c1</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id"><a href="InteractionSemantics.html#c3">c3</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5888')">Proof.</div>
<div class="proofscript" id="proof5888">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#plus_star">plus_star</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#plus_right">plus_right</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="plus_star_trans">plus_star_trans</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c1</span> <span class="id">m1</span> <span class="id">fp1</span> <span class="id">c2</span> <span class="id">m2</span> <span class="id">fp2</span> <span class="id">c3</span> <span class="id">m3</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#plus">plus</a></span> <span class="id"><a href="InteractionSemantics.html#c1">c1</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#c2">c2</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#star">star</a></span> <span class="id"><a href="InteractionSemantics.html#c2">c2</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span> <span class="id"><a href="InteractionSemantics.html#c3">c3</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> = <span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#plus">plus</a></span> <span class="id"><a href="InteractionSemantics.html#c1">c1</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id"><a href="InteractionSemantics.html#c3">c3</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5889')">Proof.</div>
<div class="proofscript" id="proof5889">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id">H</span> <span class="id">fp2</span> <span class="id">c3</span> <span class="id">m3</span> <span class="id">fp</span>. <span class="tactic">clear</span>. <span class="tactic">induction</span> 1; <span class="tactic">intros</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#plus_left">plus_left</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Footprint.html#FP.fp_union_assoc">FP.fp_union_assoc</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#plus_cons">plus_cons</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="star_plus_trans">star_plus_trans</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c1</span> <span class="id">m1</span> <span class="id">fp1</span> <span class="id">c2</span> <span class="id">m2</span> <span class="id">fp2</span> <span class="id">c3</span> <span class="id">m3</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#star">star</a></span> <span class="id"><a href="InteractionSemantics.html#c1">c1</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#c2">c2</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#plus">plus</a></span> <span class="id"><a href="InteractionSemantics.html#c2">c2</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span> <span class="id"><a href="InteractionSemantics.html#c3">c3</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> = <span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#plus">plus</a></span> <span class="id"><a href="InteractionSemantics.html#c1">c1</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id"><a href="InteractionSemantics.html#c3">c3</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5890')">Proof.</div>
<div class="proofscript" id="proof5890">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> 1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id">H</span> <span class="id">fp2</span> <span class="id">c3</span> <span class="id">m3</span> <span class="id">fp</span>. <span class="tactic">clear</span>. <span class="tactic">induction</span> 1; <span class="tactic">intros</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.emp_union_fp">FP.emp_union_fp</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Footprint.html#FP.fp_union_assoc">FP.fp_union_assoc</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#plus_cons">plus_cons</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="plus_trans">plus_trans</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c1</span> <span class="id">m1</span> <span class="id">fp1</span> <span class="id">c2</span> <span class="id">m2</span> <span class="id">fp2</span> <span class="id">c3</span> <span class="id">m3</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#plus">plus</a></span> <span class="id"><a href="InteractionSemantics.html#c1">c1</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#c2">c2</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#plus">plus</a></span> <span class="id"><a href="InteractionSemantics.html#c2">c2</a></span> <span class="id"><a href="InteractionSemantics.html#m2">m2</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span> <span class="id"><a href="InteractionSemantics.html#c3">c3</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> = <span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="InteractionSemantics.html#fp1">fp1</a></span> <span class="id"><a href="InteractionSemantics.html#fp2">fp2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#plus">plus</a></span> <span class="id"><a href="InteractionSemantics.html#c1">c1</a></span> <span class="id"><a href="InteractionSemantics.html#m1">m1</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id"><a href="InteractionSemantics.html#c3">c3</a></span> <span class="id"><a href="InteractionSemantics.html#m3">m3</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5891')">Proof.</div>
<div class="proofscript" id="proof5891">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#plus_star">plus_star</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_plus_trans">star_plus_trans</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="plus_inv">plus_inv</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c</span> <span class="id">m</span> <span class="id">fp</span> <span class="id">c</span>' <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#plus">plus</a></span> <span class="id"><a href="InteractionSemantics.html#c">c</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id">c</span>' <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#steps.step">step</a></span> <span class="id"><a href="InteractionSemantics.html#c">c</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id">c</span>' <span class="id">m</span>' \/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">c0</span> <span class="id">m0</span> <span class="id">fp0</span> <span class="id">fp</span>', <span class="id"><a href="InteractionSemantics.html#steps.step">step</a></span> <span class="id"><a href="InteractionSemantics.html#c">c</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#fp0">fp0</a></span> <span class="id"><a href="InteractionSemantics.html#c0">c0</a></span> <span class="id"><a href="InteractionSemantics.html#m0">m0</a></span> /\ <span class="id"><a href="InteractionSemantics.html#plus">plus</a></span> <span class="id"><a href="InteractionSemantics.html#c0">c0</a></span> <span class="id"><a href="InteractionSemantics.html#m0">m0</a></span> <span class="id">fp</span>' <span class="id">c</span>' <span class="id">m</span>' /\ <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> = <span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="InteractionSemantics.html#fp0">fp0</a></span> <span class="id">fp</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5892')">Proof.</div>
<div class="proofscript" id="proof5892">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">left</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>. <span class="tactic">do</span> 4 <span class="id">eexists</span>. <span class="tactic">split</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="star_inv">star_inv</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c</span> <span class="id">m</span> <span class="id">fp</span> <span class="id">c</span>' <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#star">star</a></span> <span class="id"><a href="InteractionSemantics.html#c">c</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id">c</span>' <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="InteractionSemantics.html#c">c</a></span> = <span class="id">c</span>' /\ <span class="id"><a href="InteractionSemantics.html#m">m</a></span> = <span class="id">m</span>' /\ <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> = <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>) \/ <span class="id"><a href="InteractionSemantics.html#plus">plus</a></span> <span class="id"><a href="InteractionSemantics.html#c">c</a></span> <span class="id"><a href="InteractionSemantics.html#m">m</a></span> <span class="id"><a href="InteractionSemantics.html#fp">fp</a></span> <span class="id">c</span>' <span class="id">m</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5893')">Proof.</div>
<div class="proofscript" id="proof5893">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H</span>; <span class="tactic">subst</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>. <span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#plus_left">plus_left</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
<span class="kwd">End</span> <span class="id"><a href="InteractionSemantics.html#steps">steps</a></span>.</div>
<div class="footer"><hr/>Generated by coq2html</div>
</body>
</html>
