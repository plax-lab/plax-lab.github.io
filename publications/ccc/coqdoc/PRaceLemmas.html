<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module PRaceLemmas</title>
<meta name="description" content="Documentation of Coq module PRaceLemmas" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module PRaceLemmas</h1>
<div class="coq">
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Footprint.html">Footprint</a></span> <span class="id"><a href="InteractionSemantics.html">InteractionSemantics</a></span> <span class="id"><a href="GAST.html">GAST</a></span> <span class="id"><a href="GMemory.html">GMemory</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html">GlobDefs</a></span> <span class="id"><a href="ETrace.html">ETrace</a></span> <span class="id"><a href="GlobSemantics.html">GlobSemantics</a></span> <span class="id"><a href="GlobSemantics_Lemmas.html">GlobSemantics_Lemmas</a></span> <span class="id"><a href="NPSemantics.html">NPSemantics</a></span> <span class="id"><a href="TypedSemantics.html">TypedSemantics</a></span> .<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="DRF.html">DRF</a></span> <span class="id"><a href="USimDRF.html">USimDRF</a></span> <span class="id"><a href="NPDRF.html">NPDRF</a></span> <span class="id"><a href="FPLemmas.html">FPLemmas</a></span>.<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical.html">Classical</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Program.Wf.html">Wf</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Arith.Arith.html">Arith</a></span>.<br/>
<div class="doc">This file contains auxiliary definitions used in the proof of equivalence of NPDRF and DRF</div>
<span class="kwd">Local</span> <span class="kwd">Notation</span> "'&lt;&lt;' <span class="id">i</span> ',' <span class="id">c</span> ',' <span class="id">sg</span> ',' <span class="id">F</span> '&gt;&gt;'" := {|<span class="id"><a href="GlobDefs.html#Core.Build_t">Core.i</a></span> := <span class="id">i</span>; <span class="id">Core.c</span> := <span class="id">c</span>; <span class="id">Core.sg</span> := <span class="id">sg</span>; <span class="id">Core.F</span> := <span class="id">F</span>|} (<span class="tactic">at</span> <span class="id">level</span> 60, <span class="id">right</span> <span class="id">associativity</span>).<br/>
<span class="kwd">Local</span> <span class="kwd">Definition</span> <span class="id"><a name="pc_valid_tid">pc_valid_tid</a></span> {<span class="id">ge</span>}:= @<span class="id"><a href="GSimDefs.html#pc_valid_tid">GSimDefs.pc_valid_tid</a></span> <span class="id"><a href="PRaceLemmas.html#ge">ge</a></span>.<br/>
<span class="kwd">Local</span> <span class="kwd">Notation</span> "{ <span class="id">A</span> , <span class="id">B</span> , <span class="id">C</span> , <span class="id">D</span> }" := {|<span class="id"><a href="GlobDefs.html#Build_ProgConfig">thread_pool</a></span>:=<span class="id">A</span>;<span class="id">cur_tid</span>:=<span class="id">B</span>;<span class="id">gm</span>:=<span class="id">C</span>;<span class="id">atom_bit</span>:= <span class="id">D</span>|}(<span class="tactic">at</span> <span class="id">level</span> 70,<span class="id">right</span> <span class="id">associativity</span>).  <span class="kwd">Local</span> <span class="kwd">Notation</span> "{-| <span class="id">PC</span> , <span class="id">T</span> }" := ({|<span class="id"><a href="GlobDefs.html#Build_ProgConfig">thread_pool</a></span> := <span class="id"><a href="GlobDefs.html#thread_pool">thread_pool</a></span> <span class="id">PC</span>; <span class="id">cur_tid</span> := <span class="id">T</span>;<span class="id">gm</span> := <span class="id"><a href="GlobDefs.html#gm">gm</a></span> <span class="id">PC</span>; <span class="id">atom_bit</span> := <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">PC</span> |}) (<span class="tactic">at</span> <span class="id">level</span> 70,<span class="id">right</span> <span class="id">associativity</span>).<br/>
<span class="kwd">Section</span> <span class="id"><a name="PRace">PRace</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="tau_star_np_step_star_glob_step">tau_star_np_step_star_glob_step</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">pc</span> <span class="id">pc</span>' <span class="id">fp</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> (@<span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="PRaceLemmas.html#ge">ge</a></span>) <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id">fp</span>' <span class="id">pc</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> <span class="id"><a href="GlobSemantics.html#glob_step">glob_step</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id">fp</span>' <span class="id">pc</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8879')">Proof.</div>
<div class="proofscript" id="proof8879">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="TypedSemantics.html#type_step_exists">type_step_exists</a></span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>;<span class="tactic">try</span> (<span class="tactic">inversion</span> <span class="id">H</span>;<span class="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="TypedSemantics.html#core_step_equiv">core_step_equiv</a></span> <span class="kwd">in</span> <span class="id">H</span>;<span class="tactic">apply</span> <span class="id"><a href="TypedSemantics.html#type_glob_step_elim">type_glob_step_elim</a></span> <span class="kwd">in</span> <span class="id">H</span>;<span class="id">econstructor</span> 2;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="TypedSemantics.html#call_step_equiv">call_step_equiv</a></span> <span class="kwd">in</span> <span class="id">H</span>;<span class="tactic">apply</span> <span class="id"><a href="TypedSemantics.html#type_glob_step_elim">type_glob_step_elim</a></span> <span class="kwd">in</span> <span class="id">H</span>;<span class="id">econstructor</span> 2;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="TypedSemantics.html#ret_step_equiv">ret_step_equiv</a></span> <span class="kwd">in</span> <span class="id">H</span>;<span class="tactic">apply</span> <span class="id"><a href="TypedSemantics.html#type_glob_step_elim">type_glob_step_elim</a></span> <span class="kwd">in</span> <span class="id">H</span>;<span class="id">econstructor</span> 2;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="TypedSemantics.html#entat_step_equiv">entat_step_equiv</a></span> <span class="kwd">in</span> <span class="id">H</span>;<span class="tactic">apply</span> <span class="id"><a href="TypedSemantics.html#type_glob_step_elim">type_glob_step_elim</a></span> <span class="kwd">in</span> <span class="id">H</span>;<span class="id">econstructor</span> 2;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">L</span>:<span class="id">fp</span>=<span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>). <span class="tactic">inversion</span> <span class="id">H</span>;<span class="tactic">auto</span>. <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="TypedSemantics.html#allhalt_step_equiv">allhalt_step_equiv</a></span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> [];<span class="tactic">apply</span> <span class="id"><a href="TypedSemantics.html#type_glob_step_elim">type_glob_step_elim</a></span> <span class="kwd">in</span> <span class="id">H</span>;<span class="id">econstructor</span> 2;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="glob_predict">glob_predict</a></span>{<span class="id">GE</span>:<span class="id"><a href="GlobDefs.html#GlobEnv.t">GlobEnv.t</a></span>}:@<span class="id"><a href="GlobDefs.html#ProgConfig">ProgConfig</a></span> <span class="id">GE</span> -&gt; <span class="id"><a href="GlobDefs.html#tid">tid</a></span> -&gt; <span class="id"><a href="GlobDefs.html#Bit">Bit</a></span> -&gt; <span class="id"><a href="Footprint.html#FP.t">FP.t</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;|<span class="id"><a name="predict0">predict0</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">pc</span> <span class="id">pc</span>' <span class="id">fp</span> <span class="id">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="TypedSemantics.html#type_glob_step">type_glob_step</a></span> <span class="id">GE</span> <span class="id"><a href="TypedSemantics.html#core">core</a></span> ({-|<span class="id"><a href="PRaceLemmas.html#pc">pc</a></span>,<span class="id"><a href="PRaceLemmas.html#t">t</a></span>}) <span class="id"><a href="ETrace.html#tau">tau</a></span> <span class="id"><a href="PRaceLemmas.html#fp">fp</a></span> <span class="id">pc</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> = <span class="id"><a href="GlobDefs.html#O">O</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="PRaceLemmas.html#glob_predict">glob_predict</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id"><a href="PRaceLemmas.html#t">t</a></span> <span class="id"><a href="GlobDefs.html#O">O</a></span> <span class="id"><a href="PRaceLemmas.html#fp">fp</a></span><br/>
&nbsp;&nbsp;|<span class="id"><a name="predictI">predictI</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">pc</span> <span class="id">pc</span>' <span class="id">pc</span>'' <span class="id">fp</span> <span class="id">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="TypedSemantics.html#type_glob_step">type_glob_step</a></span> <span class="id">GE</span> <span class="id"><a href="TypedSemantics.html#entat">entat</a></span> ({-|<span class="id"><a href="PRaceLemmas.html#pc">pc</a></span>,<span class="id"><a href="PRaceLemmas.html#t">t</a></span>}) <span class="id"><a href="ETrace.html#tau">tau</a></span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> <span class="id">pc</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> (<span class="id"><a href="TypedSemantics.html#type_glob_step">type_glob_step</a></span> <span class="id"><a href="TypedSemantics.html#core">core</a></span>) <span class="id">pc</span>' <span class="id"><a href="PRaceLemmas.html#fp">fp</a></span> <span class="id">pc</span>'' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="PRaceLemmas.html#glob_predict">glob_predict</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id"><a href="PRaceLemmas.html#t">t</a></span> <span class="id"><a href="GlobDefs.html#I">I</a></span> <span class="id"><a href="PRaceLemmas.html#fp">fp</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="predict_equiv">predict_equiv</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">pc</span> <span class="id">t</span> <span class="id">b</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="DRF.html#predict">predict</a></span> <span class="id"><a href="PRaceLemmas.html#ge">ge</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id"><a href="PRaceLemmas.html#t">t</a></span> <span class="id"><a href="PRaceLemmas.html#b">b</a></span> <span class="id"><a href="PRaceLemmas.html#fp">fp</a></span> &lt;-&gt; <span class="id"><a href="PRaceLemmas.html#glob_predict">glob_predict</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id"><a href="PRaceLemmas.html#t">t</a></span> <span class="id"><a href="PRaceLemmas.html#b">b</a></span> <span class="id"><a href="PRaceLemmas.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8880')">Proof.</div>
<div class="proofscript" id="proof8880">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H_core_step</span> <span class="kwd">as</span> <span class="id">Tmp1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="TypedSemantics.html#local_core_step">local_core_step</a></span> <span class="kwd">in</span> <span class="id">Tmp1</span> <span class="kwd">as</span> (<span class="id">c</span>'&amp;?&amp;<span class="id">thdp</span>'&amp;?) ;<span class="tactic">eauto</span>.      <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">exists</span> <span class="id">c</span>',<span class="id"><a href="GlobDefs.html#Core.update">Core.update</a></span> <span class="id">c</span> <span class="id">cc</span>' <span class="id">c</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexists</span>;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H0</span> <span class="kwd">as</span> (<span class="id">c</span>'&amp;<span class="id">H_core_upd</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H_tp_core</span> <span class="kwd">as</span> <span class="id">backup1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GlobDefs.html#ThreadPool.get_top">ThreadPool.get_top</a></span> <span class="kwd">in</span> <span class="id">H_tp_core</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="GlobDefs.html#ThreadPool.get_cs">ThreadPool.get_cs</a></span> <span class="id">thdp</span> <span class="id">t</span>) <span class="id">eqn</span>:<span class="id">eq</span>;[|<span class="tactic">inversion</span> <span class="id">H_tp_core</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GlobDefs.html#CallStack.top">CallStack.top</a></span> <span class="kwd">in</span> <span class="id">H_tp_core</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">t1</span> <span class="id">eqn</span>:<span class="id">eq2</span>;<span class="tactic">inversion</span> <span class="id">H_tp_core</span>;<span class="tactic">subst</span>;<span class="tactic">clear</span> <span class="id">H_tp_core</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rename</span> <span class="id">backup1</span> <span class="id">into</span> <span class="id">H_tp_core</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">exists</span> <span class="id">thdp</span>',<span class="id"><a href="GlobDefs.html#ThreadPool.update">ThreadPool.update</a></span> <span class="id">thdp</span> <span class="id">t</span> <span class="id">c</span>' <span class="id">thdp</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexists</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H0</span> <span class="kwd">as</span> (<span class="id">t</span>'&amp;<span class="id">H_tp_upd</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">entat_step</span>:<span class="id"><a href="TypedSemantics.html#type_glob_step">type_glob_step</a></span> <span class="id"><a href="TypedSemantics.html#entat">entat</a></span> ({<span class="id">thdp</span>, <span class="id">t</span>, <span class="id">gm</span>, <span class="id"><a href="GlobDefs.html#O">O</a></span>}) <span class="id"><a href="ETrace.html#tau">tau</a></span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> ({<span class="id">t</span>',<span class="id">t</span>,<span class="id">gm</span>,<span class="id"><a href="GlobDefs.html#I">I</a></span>})).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GlobDefs.html#ThreadPool.get_top">ThreadPool.get_top</a></span> <span class="kwd">in</span> <span class="id">H_tp_core</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="GlobDefs.html#ThreadPool.get_cs">ThreadPool.get_cs</a></span> <span class="id">thdp</span> <span class="id">t</span>) <span class="id">eqn</span>:<span class="id">eq2</span>;[|<span class="tactic">inversion</span> <span class="id">H_tp_core</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="GlobDefs.html#ThreadPool.get_cs">ThreadPool.get_cs</a></span> <span class="id">t</span>' <span class="id">t</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">c</span>'::<span class="id">t3</span>)%<span class="id">list</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GlobDefs.html#ThreadPool.get_cs">ThreadPool.get_cs</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H_tp_upd</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Maps.html#PMap.gsspec">Maps.PMap.gsspec</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#peq">Coqlib.peq</a></span>;[|<span class="id">contradiction</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H1</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">eq2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">eq2</span>;<span class="tactic">inversion</span> <span class="id">eq</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H5</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="GlobDefs.html#ThreadPool.get_top">ThreadPool.get_top</a></span> <span class="id">t</span>' <span class="id">t</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">c</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GlobDefs.html#ThreadPool.get_top">ThreadPool.get_top</a></span>. <span class="tactic">rewrite</span> <span class="id">H0</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H_core_upd</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="TypedSemantics.html#star_local_core_step">star_local_core_step</a></span> <span class="kwd">with</span>(<span class="id">d</span>:=<span class="id"><a href="GlobDefs.html#I">I</a></span>) <span class="kwd">in</span> <span class="id">H_core_step</span> <span class="kwd">as</span> [];<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 2;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H0</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">pc</span> <span class="kwd">as</span> (<span class="id">thdp</span>,<span class="id">t</span>',<span class="id">gm</span>,<span class="id">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">compute</span> <span class="kwd">in</span> <span class="id">H1</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> ;<span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H0</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">pc</span> <span class="kwd">as</span> (<span class="id">thdp</span>,<span class="id">t</span>',<span class="id">gm</span>,<span class="id">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">compute</span> <span class="kwd">in</span> <span class="id">H6</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">pc</span>''.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H1</span> <span class="kwd">as</span> <span class="id">Tmp1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="TypedSemantics.html#star_core_step_equiv">star_core_step_equiv</a></span> <span class="kwd">in</span> <span class="id">Tmp1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="TypedSemantics.html#tau_star_type_step">tau_star_type_step</a></span> <span class="kwd">in</span> <span class="id">Tmp1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">cur_tid</span> = <span class="id">t</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="GlobSim.html#GlobSim.tau_star_tid_preservation">GlobSim.GlobSim.tau_star_tid_preservation</a></span> <span class="kwd">in</span> <span class="id">Tmp1</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">atom_bit</span> = <span class="id"><a href="GlobDefs.html#I">I</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="ETrace.html#tau_star_tau_N_equiv">tau_star_tau_N_equiv</a></span> <span class="kwd">in</span> <span class="id">Tmp1</span> <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="GlobSim.html#GlobSim.tau_N_bit_I_preservation">GlobSim.GlobSim.tau_N_bit_I_preservation</a></span> <span class="kwd">in</span> <span class="id">H2</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">Tmp1</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">c</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H_core_update</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="GlobDefs.html#ThreadPool.get_top">ThreadPool.get_top</a></span> <span class="id">thdp</span>' <span class="id">t</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (&lt;&lt; <span class="id">i</span>,<span class="id">cc</span>',<span class="id">sg</span>,<span class="id">F</span>&gt;&gt;)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GlobDefs.html#ThreadPool.get_top">ThreadPool.get_top</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H_tp_upd</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GlobDefs.html#ThreadPool.get_cs">ThreadPool.get_cs</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Maps.html#PMap.gsspec">Maps.PMap.gsspec</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#peq">Coqlib.peq</a></span>;[|<span class="id">contradiction</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H4</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">compute</span> [<span class="id"><a href="GlobDefs.html#CallStack.top">CallStack.top</a></span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H2</span>;<span class="tactic">auto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H3</span> <span class="kwd">as</span> <span class="id">Tmp1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="TypedSemantics.html#corestar_localstar">corestar_localstar</a></span> <span class="kwd">in</span> <span class="id">Tmp1</span> <span class="kwd">as</span> [<span class="id">cc</span>''[]];<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 2;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="glob_npnsw_step">glob_npnsw_step</a></span> {<span class="id">GE</span>}(<span class="id">pc</span>:@<span class="id"><a href="GlobDefs.html#ProgConfig">ProgConfig</a></span> <span class="id"><a href="PRaceLemmas.html#GE">GE</a></span>)(<span class="id">l</span>:<span class="id"><a href="ETrace.html#glabel">glabel</a></span>)(<span class="id">fp</span>:<span class="id"><a href="Footprint.html#FP.t">FP.t</a></span>)(<span class="id">pc</span>':@<span class="id"><a href="GlobDefs.html#ProgConfig">ProgConfig</a></span> <span class="id"><a href="PRaceLemmas.html#GE">GE</a></span>):<span class="kwd">Prop</span>:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="TypedSemantics.html#type_glob_step">type_glob_step</a></span> <span class="id"><a href="PRaceLemmas.html#GE">GE</a></span> <span class="id"><a href="TypedSemantics.html#core">core</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id"><a href="PRaceLemmas.html#l">l</a></span> <span class="id"><a href="PRaceLemmas.html#fp">fp</a></span> <span class="id">pc</span>' \/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="TypedSemantics.html#type_glob_step">type_glob_step</a></span> <span class="id"><a href="TypedSemantics.html#call">call</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id"><a href="PRaceLemmas.html#l">l</a></span> <span class="id"><a href="PRaceLemmas.html#fp">fp</a></span> <span class="id">pc</span>' \/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="TypedSemantics.html#type_glob_step">type_glob_step</a></span> <span class="id"><a href="TypedSemantics.html#ret">ret</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id"><a href="PRaceLemmas.html#l">l</a></span> <span class="id"><a href="PRaceLemmas.html#fp">fp</a></span> <span class="id">pc</span>'.    <br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="glob_npnsw_step_bitO_preserve">glob_npnsw_step_bitO_preserve</a></span>{<span class="id">GE</span>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">pc</span> <span class="id">l</span> <span class="id">fp</span> <span class="id">pc</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> = <span class="id"><a href="GlobDefs.html#O">O</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="PRaceLemmas.html#glob_npnsw_step">glob_npnsw_step</a></span> <span class="id"><a href="PRaceLemmas.html#GE">GE</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id"><a href="PRaceLemmas.html#l">l</a></span> <span class="id"><a href="PRaceLemmas.html#fp">fp</a></span> <span class="id">pc</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">pc</span>' = <span class="id"><a href="GlobDefs.html#O">O</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8881')">Proof.</div>
<div class="proofscript" id="proof8881">
  <span class="tactic">inversion</span> 2 <span class="kwd">as</span> [<span class="id">T</span>|[<span class="id">T</span>|<span class="id">T</span>]];<span class="tactic">inversion</span> <span class="id">T</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="glob_npnsw_star_bitO_preserve">glob_npnsw_star_bitO_preserve</a></span>{<span class="id">GE</span>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">pc</span> <span class="id">fp</span> <span class="id">pc</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> = <span class="id"><a href="GlobDefs.html#O">O</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> (@<span class="id"><a href="PRaceLemmas.html#glob_npnsw_step">glob_npnsw_step</a></span> <span class="id"><a href="PRaceLemmas.html#GE">GE</a></span>) <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id"><a href="PRaceLemmas.html#fp">fp</a></span> <span class="id">pc</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">pc</span>' = <span class="id"><a href="GlobDefs.html#O">O</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8882')">Proof.</div>
<div class="proofscript" id="proof8882">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> 2;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">IHtau_star</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="PRaceLemmas.html#glob_npnsw_step_bitO_preserve">glob_npnsw_step_bitO_preserve</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="glob_npnsw_step_to_np_step">glob_npnsw_step_to_np_step</a></span>{<span class="id">GE</span>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">pc</span> <span class="id">l</span> <span class="id">fp</span> <span class="id">pc</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="PRaceLemmas.html#glob_npnsw_step">glob_npnsw_step</a></span> <span class="id"><a href="PRaceLemmas.html#GE">GE</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id"><a href="PRaceLemmas.html#l">l</a></span> <span class="id"><a href="PRaceLemmas.html#fp">fp</a></span> <span class="id">pc</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id"><a href="PRaceLemmas.html#l">l</a></span> <span class="id"><a href="PRaceLemmas.html#fp">fp</a></span> <span class="id">pc</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8883')">Proof.</div>
<div class="proofscript" id="proof8883">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H</span> <span class="kwd">as</span> [|[]];<span class="tactic">subst</span>;<span class="tactic">inversion</span> <span class="id">H0</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="NPSemantics.html#Call">NPSemantics.Call</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="NPSemantics.html#Return">NPSemantics.Return</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="glob_npnsw_star_to_np_taustar">glob_npnsw_star_to_np_taustar</a></span>{<span class="id">GE</span>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">pc</span> <span class="id">fp</span> <span class="id">pc</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> (@<span class="id"><a href="PRaceLemmas.html#glob_npnsw_step">glob_npnsw_step</a></span> <span class="id"><a href="PRaceLemmas.html#GE">GE</a></span>) <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id"><a href="PRaceLemmas.html#fp">fp</a></span> <span class="id">pc</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id"><a href="PRaceLemmas.html#fp">fp</a></span> <span class="id">pc</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8884')">Proof.</div>
<div class="proofscript" id="proof8884">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> 1. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 2;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="PRaceLemmas.html#glob_npnsw_step_to_np_step">glob_npnsw_step_to_np_step</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="glob_predict_star">glob_predict_star</a></span>{<span class="id">GE</span>}:@<span class="id"><a href="GlobDefs.html#ProgConfig">ProgConfig</a></span> <span class="id">GE</span> -&gt; <span class="id"><a href="GlobDefs.html#tid">tid</a></span> -&gt; <span class="id"><a href="GlobDefs.html#Bit">Bit</a></span> -&gt; <span class="id"><a href="Footprint.html#FP.t">FP.t</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="star_predict0">star_predict0</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">pc</span> <span class="id">pc</span>' <span class="id">fp</span> <span class="id">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> <span class="id"><a href="PRaceLemmas.html#glob_npnsw_step">glob_npnsw_step</a></span> ({-|<span class="id"><a href="PRaceLemmas.html#pc">pc</a></span>,<span class="id"><a href="PRaceLemmas.html#t">t</a></span>}) <span class="id"><a href="PRaceLemmas.html#fp">fp</a></span> <span class="id">pc</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> = <span class="id"><a href="GlobDefs.html#O">O</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="PRaceLemmas.html#glob_predict_star">glob_predict_star</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id"><a href="PRaceLemmas.html#t">t</a></span> <span class="id"><a href="GlobDefs.html#O">O</a></span> <span class="id"><a href="PRaceLemmas.html#fp">fp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="star_predictI">star_predictI</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">pc</span> <span class="id">pc</span>' <span class="id">pc</span>'' <span class="id">fp</span> <span class="id">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="TypedSemantics.html#type_glob_step">type_glob_step</a></span> <span class="id">GE</span> <span class="id"><a href="TypedSemantics.html#entat">entat</a></span> ({-|<span class="id"><a href="PRaceLemmas.html#pc">pc</a></span>,<span class="id"><a href="PRaceLemmas.html#t">t</a></span>}) <span class="id"><a href="ETrace.html#tau">tau</a></span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> <span class="id">pc</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> (<span class="id"><a href="TypedSemantics.html#type_glob_step">type_glob_step</a></span> <span class="id"><a href="TypedSemantics.html#core">core</a></span>) <span class="id">pc</span>' <span class="id"><a href="PRaceLemmas.html#fp">fp</a></span> <span class="id">pc</span>'' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="PRaceLemmas.html#glob_predict_star">glob_predict_star</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id"><a href="PRaceLemmas.html#t">t</a></span> <span class="id"><a href="GlobDefs.html#I">I</a></span> <span class="id"><a href="PRaceLemmas.html#fp">fp</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="np_predict_star">np_predict_star</a></span>{<span class="id">GE</span>}:@<span class="id"><a href="GlobDefs.html#ProgConfig">ProgConfig</a></span> <span class="id">GE</span>-&gt;<span class="id"><a href="GlobDefs.html#tid">tid</a></span>-&gt;<span class="id"><a href="GlobDefs.html#Bit">Bit</a></span>-&gt;<span class="id"><a href="Footprint.html#FP.t">FP.t</a></span>-&gt;<span class="kwd">Prop</span>:=<br/>
&nbsp;&nbsp;| <span class="id"><a name="np_predict0_star">np_predict0_star</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">pc</span> <span class="id">pc</span>' <span class="id">fp</span> <span class="id">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> ({-|<span class="id"><a href="PRaceLemmas.html#pc">pc</a></span>,<span class="id"><a href="PRaceLemmas.html#t">t</a></span>}) <span class="id"><a href="PRaceLemmas.html#fp">fp</a></span> <span class="id">pc</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> = <span class="id"><a href="GlobDefs.html#O">O</a></span> -&gt; <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">pc</span>' = <span class="id"><a href="GlobDefs.html#O">O</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="PRaceLemmas.html#np_predict_star">np_predict_star</a></span> <span class="id">GE</span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id"><a href="PRaceLemmas.html#t">t</a></span> <span class="id"><a href="GlobDefs.html#O">O</a></span> <span class="id"><a href="PRaceLemmas.html#fp">fp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="np_predictI_star">np_predictI_star</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">pc</span> <span class="id">pc1</span> <span class="id">pc2</span> <span class="id">pc3</span> <span class="id">fp1</span> <span class="id">fp2</span> <span class="id">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> ({-|<span class="id"><a href="PRaceLemmas.html#pc">pc</a></span>,<span class="id"><a href="PRaceLemmas.html#t">t</a></span>}) <span class="id"><a href="PRaceLemmas.html#fp1">fp1</a></span> <span class="id"><a href="PRaceLemmas.html#pc1">pc1</a></span> -&gt; <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> = <span class="id"><a href="GlobDefs.html#O">O</a></span> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="TypedSemantics.html#type_np_step">type_np_step</a></span> <span class="id"><a href="TypedSemantics.html#entat">entat</a></span> <span class="id"><a href="PRaceLemmas.html#pc1">pc1</a></span> <span class="id"><a href="ETrace.html#tau">tau</a></span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> <span class="id"><a href="PRaceLemmas.html#pc2">pc2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="PRaceLemmas.html#pc2">pc2</a></span> <span class="id"><a href="PRaceLemmas.html#fp2">fp2</a></span> <span class="id"><a href="PRaceLemmas.html#pc3">pc3</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="PRaceLemmas.html#np_predict_star">np_predict_star</a></span> <span class="id">GE</span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id"><a href="PRaceLemmas.html#t">t</a></span> <span class="id"><a href="GlobDefs.html#I">I</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="PRaceLemmas.html#fp1">fp1</a></span> <span class="id"><a href="PRaceLemmas.html#fp2">fp2</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="glob_predict_star_alter">glob_predict_star_alter</a></span>{<span class="id">GE</span>}:@<span class="id"><a href="GlobDefs.html#ProgConfig">ProgConfig</a></span> <span class="id">GE</span>-&gt;<span class="id"><a href="GlobDefs.html#tid">tid</a></span>-&gt;<span class="id"><a href="GlobDefs.html#Bit">Bit</a></span>-&gt;<span class="id"><a href="Footprint.html#FP.t">FP.t</a></span>-&gt;<span class="kwd">Prop</span>:=<br/>
&nbsp;&nbsp;| <span class="id"><a name="glob_predict0_star_alter">glob_predict0_star_alter</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">pc</span> <span class="id">pc</span>' <span class="id">fp</span> <span class="id">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> <span class="id"><a href="PRaceLemmas.html#glob_npnsw_step">glob_npnsw_step</a></span> ({-|<span class="id"><a href="PRaceLemmas.html#pc">pc</a></span>,<span class="id"><a href="PRaceLemmas.html#t">t</a></span>}) <span class="id"><a href="PRaceLemmas.html#fp">fp</a></span> <span class="id">pc</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> = <span class="id"><a href="GlobDefs.html#O">O</a></span> -&gt; <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">pc</span>' = <span class="id"><a href="GlobDefs.html#O">O</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="PRaceLemmas.html#glob_predict_star_alter">glob_predict_star_alter</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id"><a href="PRaceLemmas.html#t">t</a></span> <span class="id"><a href="GlobDefs.html#O">O</a></span> <span class="id"><a href="PRaceLemmas.html#fp">fp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="glob_predictI_star_alter">glob_predictI_star_alter</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">pc</span> <span class="id">pc1</span> <span class="id">pc2</span> <span class="id">pc3</span> <span class="id">fp1</span> <span class="id">fp2</span> <span class="id">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> <span class="id"><a href="PRaceLemmas.html#glob_npnsw_step">glob_npnsw_step</a></span> ({-|<span class="id"><a href="PRaceLemmas.html#pc">pc</a></span>,<span class="id"><a href="PRaceLemmas.html#t">t</a></span>}) <span class="id"><a href="PRaceLemmas.html#fp1">fp1</a></span> <span class="id"><a href="PRaceLemmas.html#pc1">pc1</a></span> -&gt; <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> = <span class="id"><a href="GlobDefs.html#O">O</a></span> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="TypedSemantics.html#type_glob_step">type_glob_step</a></span> <span class="id"><a href="TypedSemantics.html#entat">entat</a></span> <span class="id"><a href="PRaceLemmas.html#pc1">pc1</a></span> <span class="id"><a href="ETrace.html#tau">tau</a></span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> <span class="id"><a href="PRaceLemmas.html#pc2">pc2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> (<span class="id"><a href="TypedSemantics.html#type_glob_step">type_glob_step</a></span> <span class="id"><a href="TypedSemantics.html#core">core</a></span>) <span class="id"><a href="PRaceLemmas.html#pc2">pc2</a></span> <span class="id"><a href="PRaceLemmas.html#fp2">fp2</a></span> <span class="id"><a href="PRaceLemmas.html#pc3">pc3</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="PRaceLemmas.html#glob_predict_star_alter">glob_predict_star_alter</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id"><a href="PRaceLemmas.html#t">t</a></span> <span class="id"><a href="GlobDefs.html#I">I</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="PRaceLemmas.html#fp1">fp1</a></span> <span class="id"><a href="PRaceLemmas.html#fp2">fp2</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="glob_predict_star_to_alter">glob_predict_star_to_alter</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">GE</span> <span class="id">pc</span> <span class="id">t</span> <span class="id">b</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="PRaceLemmas.html#glob_predict_star">glob_predict_star</a></span> <span class="id"><a href="PRaceLemmas.html#GE">GE</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id"><a href="PRaceLemmas.html#t">t</a></span> <span class="id"><a href="PRaceLemmas.html#b">b</a></span> <span class="id"><a href="PRaceLemmas.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="PRaceLemmas.html#glob_predict_star_alter">glob_predict_star_alter</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id"><a href="PRaceLemmas.html#t">t</a></span> <span class="id"><a href="PRaceLemmas.html#b">b</a></span> <span class="id"><a href="PRaceLemmas.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8885')">Proof.</div>
<div class="proofscript" id="proof8885">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> 1;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="PRaceLemmas.html#glob_npnsw_star_bitO_preserve">glob_npnsw_star_bitO_preserve</a></span> <span class="kwd">in</span> <span class="id">H0</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;-<span class="id"><a href="Footprint.html#FP.emp_union_fp">FP.emp_union_fp</a></span> <span class="kwd">with</span> (<span class="id">fp</span>:=<span class="id">fp</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 2;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H0</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="nonhalt_biteq_tau_npstep">nonhalt_biteq_tau_npstep</a></span> {<span class="id">GE</span>}(<span class="id">pc</span>:@<span class="id"><a href="GlobDefs.html#ProgConfig">ProgConfig</a></span> <span class="id"><a href="PRaceLemmas.html#GE">GE</a></span>)(<span class="id">l</span>:<span class="id"><a href="ETrace.html#glabel">glabel</a></span>)(<span class="id">fp</span>:<span class="id"><a href="Footprint.html#FP.t">FP.t</a></span>)(<span class="id">pc</span>':@<span class="id"><a href="GlobDefs.html#ProgConfig">ProgConfig</a></span> <span class="id"><a href="PRaceLemmas.html#GE">GE</a></span>):<span class="kwd">Prop</span>:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="TypedSemantics.html#type_np_step">type_np_step</a></span> <span class="id"><a href="TypedSemantics.html#core">core</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id"><a href="PRaceLemmas.html#l">l</a></span> <span class="id"><a href="PRaceLemmas.html#fp">fp</a></span> <span class="id">pc</span>' \/ <span class="id"><a href="TypedSemantics.html#type_np_step">type_np_step</a></span> <span class="id"><a href="TypedSemantics.html#call">call</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id"><a href="PRaceLemmas.html#l">l</a></span> <span class="id"><a href="PRaceLemmas.html#fp">fp</a></span> <span class="id">pc</span>' \/ <span class="id"><a href="TypedSemantics.html#type_np_step">type_np_step</a></span> <span class="id"><a href="TypedSemantics.html#ret">ret</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id"><a href="PRaceLemmas.html#l">l</a></span> <span class="id"><a href="PRaceLemmas.html#fp">fp</a></span> <span class="id">pc</span>'.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="npstep_nohalt">npstep_nohalt</a></span>{<span class="id">GE</span>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">pc</span> <span class="id">fp</span> <span class="id">pc</span>' <span class="id">fp</span>' <span class="id">pc</span>'',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="TypedSemantics.html#type_np_step">type_np_step</a></span> <span class="id"><a href="PRaceLemmas.html#GE">GE</a></span> <span class="id"><a href="PRaceLemmas.html#x">x</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id"><a href="ETrace.html#tau">tau</a></span> <span class="id"><a href="PRaceLemmas.html#fp">fp</a></span> <span class="id">pc</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id">pc</span>' <span class="id"><a href="ETrace.html#tau">tau</a></span> <span class="id">fp</span>' <span class="id">pc</span>'' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="PRaceLemmas.html#x">x</a></span> &lt;&gt; <span class="id"><a href="TypedSemantics.html#allhalt">allhalt</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8886')">Proof.</div>
<div class="proofscript" id="proof8886">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H</span>;<span class="tactic">subst</span>;<span class="tactic">try</span>(<span class="tactic">intro</span> <span class="id">contra</span>;<span class="tactic">inversion</span> <span class="id">contra</span>;<span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">exists</span> <span class="id">c</span>',<span class="id"><a href="GlobDefs.html#ThreadPool.get_top">ThreadPool.get_top</a></span> <span class="id">thdp</span>' <span class="id">t</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">c</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H0</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GlobDefs.html#ThreadPool.get_top">ThreadPool.get_top</a></span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="GlobDefs.html#ThreadPool.get_cs">ThreadPool.get_cs</a></span> <span class="id">eqn</span>:?;<span class="tactic">inversion</span> <span class="id">H1</span>;<span class="tactic">clear</span> <span class="id">H1</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H_thread_halt</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heqo</span> <span class="kwd">in</span> <span class="id">H1</span>;<span class="tactic">inversion</span> <span class="id">H1</span>;<span class="tactic">clear</span> <span class="id">H1</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H2</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="npstep_biteq_nohalt">npstep_biteq_nohalt</a></span>{<span class="id">GE</span>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">pc</span> <span class="id">fp</span> <span class="id">pc</span>' <span class="id">fp</span>' <span class="id">pc</span>'',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="PRaceLemmas.html#GE">GE</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id"><a href="ETrace.html#tau">tau</a></span> <span class="id"><a href="PRaceLemmas.html#fp">fp</a></span> <span class="id">pc</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> = <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">pc</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id">pc</span>' <span class="id"><a href="ETrace.html#tau">tau</a></span> <span class="id">fp</span>' <span class="id">pc</span>'' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="PRaceLemmas.html#nonhalt_biteq_tau_npstep">nonhalt_biteq_tau_npstep</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id"><a href="ETrace.html#tau">tau</a></span> <span class="id"><a href="PRaceLemmas.html#fp">fp</a></span> <span class="id">pc</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8887')">Proof.</div>
<div class="proofscript" id="proof8887">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="TypedSemantics.html#type_step_exists">type_step_exists</a></span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>;<span class="tactic">try</span> (<span class="tactic">inversion</span> <span class="id">H</span>;<span class="tactic">subst</span>;<span class="tactic">inversion</span> <span class="id">H0</span>;<span class="tactic">fail</span>);<span class="tactic">unfold</span> <span class="id"><a href="PRaceLemmas.html#nonhalt_biteq_tau_npstep">nonhalt_biteq_tau_npstep</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="PRaceLemmas.html#npstep_nohalt">npstep_nohalt</a></span> <span class="kwd">in</span> <span class="id">H</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="nptaustar_nohalt">nptaustar_nohalt</a></span>{<span class="id">GE</span>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">pc</span> <span class="id">fp</span> <span class="id">pc</span>' <span class="id">fp</span>' <span class="id">pc</span>'',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> (@<span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="PRaceLemmas.html#GE">GE</a></span>) <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id"><a href="PRaceLemmas.html#fp">fp</a></span> <span class="id">pc</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> = <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">pc</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id">pc</span>' <span class="id"><a href="ETrace.html#tau">tau</a></span> <span class="id">fp</span>' <span class="id">pc</span>'' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> <span class="id"><a href="PRaceLemmas.html#nonhalt_biteq_tau_npstep">nonhalt_biteq_tau_npstep</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id"><a href="PRaceLemmas.html#fp">fp</a></span> <span class="id">pc</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8888')">Proof.</div>
<div class="proofscript" id="proof8888">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">pc</span>'';<span class="tactic">intro</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">pc</span>'' <span class="id">fp</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">H</span>;<span class="tactic">intros</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="ETrace.html#tau_star_tau_N_equiv">tau_star_tau_N_equiv</a></span> <span class="kwd">in</span> <span class="id">H0</span> <span class="kwd">as</span> <span class="id">L1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">L1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H3</span>;<span class="tactic">clear</span> <span class="id">H3</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="PRaceLemmas.html#npstep_biteq_nohalt">npstep_biteq_nohalt</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="GlobSim.html#GlobSim.tau_N_tau_step_bit_rule">GlobSim.GlobSim.tau_N_tau_step_bit_rule</a></span> <span class="kwd">in</span> <span class="id">H1</span> <span class="kwd">as</span> <span class="id">E1</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">E1</span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHtau_star</span> <span class="kwd">in</span> <span class="id">H1</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H3</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="PRaceLemmas.html#npstep_biteq_nohalt">npstep_biteq_nohalt</a></span> ;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="nohalt_nptaustar">nohalt_nptaustar</a></span>{<span class="id">GE</span>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">pc</span> <span class="id">fp</span> <span class="id">pc</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> <span class="id"><a href="PRaceLemmas.html#nonhalt_biteq_tau_npstep">nonhalt_biteq_tau_npstep</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id"><a href="PRaceLemmas.html#fp">fp</a></span> <span class="id">pc</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> (@<span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="PRaceLemmas.html#GE">GE</a></span>) <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id"><a href="PRaceLemmas.html#fp">fp</a></span> <span class="id">pc</span>' /\ <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> = <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">pc</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8889')">Proof.</div>
<div class="proofscript" id="proof8889">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> 1;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;[<span class="id">constructor</span>|];<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">IHtau_star</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">s</span> = <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">s</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [|[]];<span class="tactic">inversion</span> <span class="id">H</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="ETrace.html#tau_star_star">tau_star_star</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="ETrace.html#tau_plus2star">tau_plus2star</a></span>;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [|[]];<span class="tactic">eapply</span> <span class="id"><a href="TypedSemantics.html#type_step_elim">type_step_elim</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="nonhalt_biteq_tau_npstep_glob_npnsw_step_equiv">nonhalt_biteq_tau_npstep_glob_npnsw_step_equiv</a></span>{<span class="id">GE</span>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">pc</span> <span class="id">l</span> <span class="id">fp</span> <span class="id">pc</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="PRaceLemmas.html#nonhalt_biteq_tau_npstep">nonhalt_biteq_tau_npstep</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id"><a href="PRaceLemmas.html#l">l</a></span> <span class="id"><a href="PRaceLemmas.html#fp">fp</a></span> <span class="id">pc</span>' &lt;-&gt; @<span class="id"><a href="PRaceLemmas.html#glob_npnsw_step">glob_npnsw_step</a></span> <span class="id"><a href="PRaceLemmas.html#GE">GE</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id"><a href="PRaceLemmas.html#l">l</a></span> <span class="id"><a href="PRaceLemmas.html#fp">fp</a></span> <span class="id">pc</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8890')">Proof.</div>
<div class="proofscript" id="proof8890">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">intro</span>;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [|[]];<span class="tactic">assert</span>(<span class="id">l</span>=<span class="id"><a href="ETrace.html#tau">tau</a></span>);<span class="tactic">try</span> (<span class="tactic">inversion</span> <span class="id">H</span>;<span class="tactic">auto</span>;<span class="tactic">fail</span>);<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="TypedSemantics.html#core_step_equiv">core_step_equiv</a></span> <span class="kwd">in</span> <span class="id">H</span>;<span class="id">left</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="TypedSemantics.html#call_step_equiv">call_step_equiv</a></span> <span class="kwd">in</span> <span class="id">H</span>;<span class="id">right</span>;<span class="id">left</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="TypedSemantics.html#ret_step_equiv">ret_step_equiv</a></span> <span class="kwd">in</span> <span class="id">H</span>;<span class="id">right</span>;<span class="id">right</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="TypedSemantics.html#core_step_equiv">core_step_equiv</a></span> <span class="kwd">in</span> <span class="id">H</span>;<span class="id">left</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="TypedSemantics.html#call_step_equiv">call_step_equiv</a></span> <span class="kwd">in</span> <span class="id">H</span>;<span class="id">right</span>;<span class="id">left</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="TypedSemantics.html#ret_step_equiv">ret_step_equiv</a></span> <span class="kwd">in</span> <span class="id">H</span>;<span class="id">right</span>;<span class="id">right</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="nonhalt_biteq_taustar_npnsw_tau_star_equiv">nonhalt_biteq_taustar_npnsw_tau_star_equiv</a></span>{<span class="id">GE</span>}:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">pc</span> <span class="id">fp</span> <span class="id">pc</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> <span class="id"><a href="PRaceLemmas.html#nonhalt_biteq_tau_npstep">nonhalt_biteq_tau_npstep</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id"><a href="PRaceLemmas.html#fp">fp</a></span> <span class="id">pc</span>' &lt;-&gt; <span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> (@<span class="id"><a href="PRaceLemmas.html#glob_npnsw_step">glob_npnsw_step</a></span> <span class="id"><a href="PRaceLemmas.html#GE">GE</a></span>) <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id"><a href="PRaceLemmas.html#fp">fp</a></span> <span class="id">pc</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8891')">Proof.</div>
<div class="proofscript" id="proof8891">
 <span class="tactic">split</span>;<span class="tactic">induction</span> 1;<span class="tactic">intros</span>;<span class="id">econstructor</span>;<span class="tactic">eauto</span>;<span class="tactic">eapply</span> <span class="id"><a href="PRaceLemmas.html#nonhalt_biteq_tau_npstep_glob_npnsw_step_equiv">nonhalt_biteq_tau_npstep_glob_npnsw_step_equiv</a></span>;<span class="tactic">eauto</span>. Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="race">race</a></span> {<span class="id">ge</span>} : (@<span class="id"><a href="GlobDefs.html#ProgConfig">ProgConfig</a></span> <span class="id">ge</span>-&gt;<span class="id"><a href="GlobDefs.html#tid">tid</a></span>-&gt;<span class="id"><a href="GlobDefs.html#Bit">Bit</a></span>-&gt;<span class="id"><a href="Footprint.html#FP.t">FP.t</a></span>-&gt;<span class="kwd">Prop</span>)-&gt;@<span class="id"><a href="GlobDefs.html#ProgConfig">ProgConfig</a></span> <span class="id">ge</span> -&gt;<span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="Race">Race</a></span>: <span class="kwd">forall</span> (<span class="id">predict</span>:@<span class="id"><a href="GlobDefs.html#ProgConfig">ProgConfig</a></span> <span class="id">ge</span>-&gt;<span class="id"><a href="GlobDefs.html#tid">tid</a></span>-&gt;<span class="id"><a href="GlobDefs.html#Bit">Bit</a></span>-&gt;<span class="id"><a href="Footprint.html#FP.t">FP.t</a></span>-&gt;<span class="kwd">Prop</span>) <span class="id">pc</span> <span class="id">t1</span> <span class="id">b1</span> <span class="id">fp1</span> <span class="id">t2</span> <span class="id">b2</span> <span class="id">fp2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="PRaceLemmas.html#t1">t1</a></span> &lt;&gt; <span class="id"><a href="PRaceLemmas.html#t2">t2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="PRaceLemmas.html#predict">predict</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id"><a href="PRaceLemmas.html#t1">t1</a></span> <span class="id"><a href="PRaceLemmas.html#b1">b1</a></span> <span class="id"><a href="PRaceLemmas.html#fp1">fp1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="PRaceLemmas.html#predict">predict</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id"><a href="PRaceLemmas.html#t2">t2</a></span> <span class="id"><a href="PRaceLemmas.html#b2">b2</a></span> <span class="id"><a href="PRaceLemmas.html#fp2">fp2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="PRaceLemmas.html#b1">b1</a></span> &lt;&gt; <span class="id"><a href="GlobDefs.html#I">I</a></span> \/ <span class="id"><a href="PRaceLemmas.html#b2">b2</a></span> &lt;&gt; <span class="id"><a href="GlobDefs.html#I">I</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.conflict">FP.conflict</a></span> <span class="id"><a href="PRaceLemmas.html#fp1">fp1</a></span> <span class="id"><a href="PRaceLemmas.html#fp2">fp2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="PRaceLemmas.html#race">race</a></span> <span class="id"><a href="PRaceLemmas.html#predict">predict</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="race_equiv">race_equiv</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">pc</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="DRF.html#race_config">race_config</a></span> <span class="id"><a href="PRaceLemmas.html#ge">ge</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> &lt;-&gt; <span class="id"><a href="PRaceLemmas.html#race">race</a></span> <span class="id"><a href="DRF.html#predict">predict</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8892')">Proof.</div>
<div class="proofscript" id="proof8892">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">intro</span>;<span class="tactic">inversion</span> <span class="id">H</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">H0</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="nprace_equiv">nprace_equiv</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">pc</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="NPDRF.html#np_race_config">np_race_config</a></span> <span class="id"><a href="PRaceLemmas.html#ge">ge</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span>  &lt;-&gt; <span class="id"><a href="PRaceLemmas.html#race">race</a></span> <span class="id"><a href="PRaceLemmas.html#np_predict_star">np_predict_star</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8893')">Proof.</div>
<div class="proofscript" id="proof8893">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Coqlib.inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="Footprint.html#FP.conflict">FP.conflict</a></span> <span class="id">fp10</span> <span class="id">fp20</span>\/<span class="id"><a href="Footprint.html#FP.conflict">FP.conflict</a></span> <span class="id">fp11</span> <span class="id">fp20</span> \/ <span class="id"><a href="Footprint.html#FP.conflict">FP.conflict</a></span> <span class="id">fp10</span> <span class="id">fp21</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H3</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H1</span>;<span class="tactic">inversion</span> <span class="id">H2</span>;<span class="tactic">clear</span> <span class="id">H1</span>;<span class="tactic">clear</span> <span class="id">H2</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="NPDRF.html#np_normal_iff_tau_star_bitpreservation">np_normal_iff_tau_star_bitpreservation</a></span> <span class="kwd">in</span> <span class="id">H3</span> <span class="kwd">as</span> (?&amp;?&amp;?&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="NPDRF.html#np_normal_iff_tau_star_bitpreservation">np_normal_iff_tau_star_bitpreservation</a></span> <span class="kwd">in</span> <span class="id">H8</span> <span class="kwd">as</span> (?&amp;?&amp;?&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H9</span>;<span class="tactic">clear</span> <span class="id">H9</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *;<span class="tactic">subst</span>. <span class="tactic">clear</span> <span class="id">H2</span> <span class="id">H3</span> <span class="id">H6</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">left</span>;<span class="tactic">intro</span> <span class="id">contra</span>;<span class="tactic">inversion</span> <span class="id">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [|[]];<span class="tactic">auto</span>;<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.emp_never_conflict">FP.emp_never_conflict</a></span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> [];<span class="id">contradiction</span>.        <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="NPDRF.html#np_normal_iff_tau_star_bitpreservation">np_normal_iff_tau_star_bitpreservation</a></span> <span class="kwd">in</span> <span class="id">H3</span> <span class="kwd">as</span> (?&amp;?&amp;?&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="NPDRF.html#np_normal_iff_tau_star_bitpreservation">np_normal_iff_tau_star_bitpreservation</a></span> <span class="kwd">in</span> <span class="id">H8</span> <span class="kwd">as</span> (?&amp;?&amp;?&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="NPDRF.html#np_normal_iff_tau_star_bitpreservation">np_normal_iff_tau_star_bitpreservation</a></span> <span class="kwd">in</span> <span class="id">H10</span> <span class="kwd">as</span> (?&amp;?&amp;?&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H11</span>;<span class="tactic">clear</span> <span class="id">H11</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H9</span>;<span class="tactic">clear</span> <span class="id">H9</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *;<span class="tactic">subst</span>. <span class="tactic">clear</span> <span class="id">H2</span> <span class="id">H3</span> <span class="id">H6</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 2;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="TypedSemantics.html#type_step_exists">type_step_exists</a></span> <span class="kwd">in</span> <span class="id">H11</span> <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>;<span class="tactic">inversion</span> <span class="id">H2</span>;<span class="tactic">subst</span>;<span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">left</span>;<span class="tactic">intro</span> <span class="id">contra</span>;<span class="tactic">inversion</span> <span class="id">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [|[]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="USimDRF.html#conflict_union_ano">conflict_union_ano</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.emp_never_conflict">FP.emp_never_conflict</a></span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> [];<span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.union_comm_eq">FP.union_comm_eq</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="USimDRF.html#conflict_union_ano">conflict_union_ano</a></span>;<span class="tactic">auto</span>.        <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="NPDRF.html#np_normal_iff_tau_star_bitpreservation">np_normal_iff_tau_star_bitpreservation</a></span> <span class="kwd">in</span> <span class="id">H3</span> <span class="kwd">as</span> (?&amp;?&amp;?&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="NPDRF.html#np_normal_iff_tau_star_bitpreservation">np_normal_iff_tau_star_bitpreservation</a></span> <span class="kwd">in</span> <span class="id">H5</span> <span class="kwd">as</span> (?&amp;?&amp;?&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="NPDRF.html#np_normal_iff_tau_star_bitpreservation">np_normal_iff_tau_star_bitpreservation</a></span> <span class="kwd">in</span> <span class="id">H10</span> <span class="kwd">as</span> (?&amp;?&amp;?&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H11</span>;<span class="tactic">clear</span> <span class="id">H11</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H4</span>;<span class="tactic">clear</span> <span class="id">H4</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *;<span class="tactic">subst</span>. <span class="tactic">clear</span> <span class="id">H2</span> <span class="id">H3</span> <span class="id">H12</span> <span class="id">H13</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="TypedSemantics.html#type_step_exists">type_step_exists</a></span> <span class="kwd">in</span> <span class="id">H8</span> <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>;<span class="tactic">try</span>(<span class="tactic">inversion</span> <span class="id">H2</span>;<span class="tactic">subst</span>;<span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H16</span> <span class="kwd">in</span> <span class="id">H9</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 2;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>;<span class="tactic">intro</span> <span class="id">contra</span>;<span class="tactic">inversion</span> <span class="id">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [|[]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="USimDRF.html#conflict_union">conflict_union</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.union_comm_eq">FP.union_comm_eq</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="USimDRF.html#conflict_union">conflict_union</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.emp_never_conflict">FP.emp_never_conflict</a></span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> [];<span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="NPDRF.html#np_normal_iff_tau_star_bitpreservation">np_normal_iff_tau_star_bitpreservation</a></span> <span class="kwd">in</span> <span class="id">H3</span> <span class="kwd">as</span> (?&amp;?&amp;?&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="NPDRF.html#np_normal_iff_tau_star_bitpreservation">np_normal_iff_tau_star_bitpreservation</a></span> <span class="kwd">in</span> <span class="id">H5</span> <span class="kwd">as</span> (?&amp;?&amp;?&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="NPDRF.html#np_normal_iff_tau_star_bitpreservation">np_normal_iff_tau_star_bitpreservation</a></span> <span class="kwd">in</span> <span class="id">H10</span> <span class="kwd">as</span> (?&amp;?&amp;?&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="NPDRF.html#np_normal_iff_tau_star_bitpreservation">np_normal_iff_tau_star_bitpreservation</a></span> <span class="kwd">in</span> <span class="id">H12</span> <span class="kwd">as</span> (?&amp;?&amp;?&amp;?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H13</span>;<span class="tactic">clear</span> <span class="id">H13</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *;<span class="tactic">subst</span>. <span class="tactic">clear</span> <span class="id">H2</span> <span class="id">H14</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [|[]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> ;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">left</span>;<span class="tactic">intro</span> <span class="id">contra</span>;<span class="tactic">inversion</span> <span class="id">contra</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 1 <span class="kwd">with</span>(<span class="id">fp1</span>:=<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fp10</span> <span class="id">fp11</span>);<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 2;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H4</span>;<span class="tactic">subst</span>;<span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H2</span>;<span class="tactic">subst</span>;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>;<span class="tactic">intro</span> <span class="id">contra</span>;<span class="tactic">inversion</span> <span class="id">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.union_comm_eq">FP.union_comm_eq</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="USimDRF.html#conflict_union">conflict_union</a></span>;<span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 1 <span class="kwd">with</span>(<span class="id">fp2</span>:=<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fp20</span> <span class="id">fp21</span>);<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 2;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H11</span>;<span class="tactic">subst</span>;<span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H2</span>;<span class="tactic">subst</span>;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">left</span>;<span class="tactic">intro</span> <span class="id">contra</span>;<span class="tactic">inversion</span> <span class="id">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.union_comm_eq">FP.union_comm_eq</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="USimDRF.html#conflict_union_ano">conflict_union_ano</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H</span>;<span class="tactic">subst</span>;<span class="tactic">clear</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">pc</span> <span class="kwd">as</span> [<span class="id">thdp</span> <span class="id">tid</span> <span class="id">tgm</span> <span class="id">tbit</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Coqlib.inv</span> <span class="id">H1</span>;<span class="id">Coqlib.inv</span> <span class="id">H2</span>;<span class="tactic">simpl</span> <span class="kwd">in</span> *;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 1 <span class="kwd">with</span>(<span class="id">fp10</span>:=<span class="id">fp1</span>)(<span class="id">fp11</span>:=<span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>)(<span class="id">fp20</span>:=<span class="id">fp2</span>)(<span class="id">fp21</span>:=<span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>);<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 1 <span class="kwd">with</span>(<span class="id">pc</span>':=<span class="id">pc</span>');<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="NPDRF.html#np_normal_iff_tau_star_bitpreservation">np_normal_iff_tau_star_bitpreservation</a></span>;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> <span class="id">H</span>:<span class="id">_</span>|-<span class="id">_</span>/\<span class="id">_</span>=&gt;<span class="tactic">split</span> <span class="kwd">end</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 1 <span class="kwd">with</span>(<span class="id">pc</span>':=<span class="id">pc</span>'0);<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="NPDRF.html#np_normal_iff_tau_star_bitpreservation">np_normal_iff_tau_star_bitpreservation</a></span>;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> <span class="id">H</span>:<span class="id">_</span>|-<span class="id">_</span>/\<span class="id">_</span>=&gt;<span class="tactic">split</span> <span class="kwd">end</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 1 <span class="kwd">with</span>(<span class="id">fp10</span>:=<span class="id">fp1</span>)(<span class="id">fp11</span>:=<span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>)(<span class="id">fp20</span>:=<span class="id">fp0</span>)(<span class="id">fp21</span>:=<span class="id">fp3</span>);<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 1 <span class="kwd">with</span>(<span class="id">pc</span>':=<span class="id">pc</span>');<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="NPDRF.html#np_normal_iff_tau_star_bitpreservation">np_normal_iff_tau_star_bitpreservation</a></span>;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> <span class="id">H</span>:<span class="id">_</span>|-<span class="id">_</span>/\<span class="id">_</span>=&gt;<span class="tactic">split</span> <span class="kwd">end</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">pc2</span> = <span class="id"><a href="GlobDefs.html#I">I</a></span>). <span class="id">Coqlib.inv</span> <span class="id">H8</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">pc3</span> = <span class="id"><a href="GlobDefs.html#I">I</a></span>). <span class="tactic">apply</span> <span class="id"><a href="ETrace.html#tau_star_tau_N_equiv">tau_star_tau_N_equiv</a></span> <span class="kwd">in</span> <span class="id">H9</span> <span class="kwd">as</span> [];<span class="tactic">eapply</span> <span class="id"><a href="GlobSim.html#GlobSim.tau_N_bit_I_preservation">GlobSim.GlobSim.tau_N_bit_I_preservation</a></span>;<span class="tactic">eauto</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span> <span class="id">pc1</span> = <span class="id">t2</span>). <span class="tactic">apply</span> <span class="id"><a href="GlobSim.html#GlobSim.tau_star_tid_preservation">GlobSim.GlobSim.tau_star_tid_preservation</a></span> <span class="kwd">in</span> <span class="id">H1</span>;<span class="tactic">auto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 2 <span class="kwd">with</span>(<span class="id">pc</span>':=<span class="id">pc1</span>)(<span class="id">pc</span>'':=<span class="id">pc2</span>)(<span class="id">pc</span>''':=<span class="id">pc3</span>);<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="NPDRF.html#np_normal_iff_tau_star_bitpreservation">np_normal_iff_tau_star_bitpreservation</a></span>;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> <span class="id">H</span>:<span class="id">_</span>|-<span class="id">_</span>/\<span class="id">_</span>=&gt;<span class="tactic">split</span> <span class="kwd">end</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H8</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H8</span>;<span class="tactic">simpl</span> <span class="kwd">in</span> *;<span class="tactic">subst</span>;<span class="tactic">simpl</span> <span class="kwd">in</span> *;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.      <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="NPDRF.html#np_normal_iff_tau_star_bitpreservation">np_normal_iff_tau_star_bitpreservation</a></span>;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> <span class="id">H</span>:<span class="id">_</span>|-<span class="id">_</span>/\<span class="id">_</span>=&gt;<span class="tactic">split</span> <span class="kwd">end</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Coqlib.inv</span> <span class="id">H8</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="Footprint.html#FP.conflict">FP.conflict</a></span> <span class="id">fp1</span> <span class="id">fp0</span> \/ ~<span class="id"><a href="Footprint.html#FP.conflict">FP.conflict</a></span> <span class="id">fp1</span> <span class="id">fp0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#classic">classic</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="Footprint.html#FP.conflict">FP.conflict</a></span> <span class="id">fp1</span> <span class="id">fp3</span> \/ ~<span class="id"><a href="Footprint.html#FP.conflict">FP.conflict</a></span> <span class="id">fp1</span> <span class="id">fp3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#classic">classic</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 3;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Footprint.html#FP.smile_conflict_compat">FP.smile_conflict_compat</a></span> <span class="kwd">in</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Footprint.html#FP.smile_conflict_compat">FP.smile_conflict_compat</a></span> <span class="kwd">in</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="FPLemmas.html#fpsmile_sym">fpsmile_sym</a></span> <span class="kwd">in</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="FPLemmas.html#fpsmile_sym">fpsmile_sym</a></span> <span class="kwd">in</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="FPLemmas.html#fpsmile_union">fpsmile_union</a></span> <span class="kwd">with</span>(<span class="id">fp2</span>:=<span class="id">fp3</span>) <span class="kwd">in</span> <span class="id">H2</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="FPLemmas.html#fpsmile_sym">fpsmile_sym</a></span> <span class="kwd">in</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Footprint.html#FP.smile_conflict_compat">FP.smile_conflict_compat</a></span> <span class="kwd">in</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">contradiction</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 1 <span class="kwd">with</span>(<span class="id">fp10</span>:=<span class="id">fp2</span>)(<span class="id">fp11</span>:=<span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>)(<span class="id">fp20</span>:=<span class="id">fp0</span>)(<span class="id">fp21</span>:=<span class="id">fp3</span>)(<span class="id">t1</span>:=<span class="id">t2</span>)(<span class="id">t2</span>:=<span class="id">t1</span>);<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 1 <span class="kwd">with</span>(<span class="id">pc</span>':=<span class="id">pc</span>');<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="NPDRF.html#np_normal_iff_tau_star_bitpreservation">np_normal_iff_tau_star_bitpreservation</a></span>;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> <span class="id">H</span>:<span class="id">_</span>|-<span class="id">_</span>/\<span class="id">_</span>=&gt;<span class="tactic">split</span> <span class="kwd">end</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">pc2</span> = <span class="id"><a href="GlobDefs.html#I">I</a></span>). <span class="id">Coqlib.inv</span> <span class="id">H6</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">pc3</span> = <span class="id"><a href="GlobDefs.html#I">I</a></span>). <span class="tactic">apply</span> <span class="id"><a href="ETrace.html#tau_star_tau_N_equiv">tau_star_tau_N_equiv</a></span> <span class="kwd">in</span> <span class="id">H7</span> <span class="kwd">as</span> [];<span class="tactic">eapply</span> <span class="id"><a href="GlobSim.html#GlobSim.tau_N_bit_I_preservation">GlobSim.GlobSim.tau_N_bit_I_preservation</a></span>;<span class="tactic">eauto</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span> <span class="id">pc1</span> = <span class="id">t1</span>). <span class="tactic">apply</span> <span class="id"><a href="GlobSim.html#GlobSim.tau_star_tid_preservation">GlobSim.GlobSim.tau_star_tid_preservation</a></span> <span class="kwd">in</span> <span class="id">H</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 2 <span class="kwd">with</span>(<span class="id">pc</span>':=<span class="id">pc1</span>)(<span class="id">pc</span>'':=<span class="id">pc2</span>)(<span class="id">pc</span>''':=<span class="id">pc3</span>);<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="NPDRF.html#np_normal_iff_tau_star_bitpreservation">np_normal_iff_tau_star_bitpreservation</a></span>;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> <span class="id">H</span>:<span class="id">_</span>|-<span class="id">_</span>/\<span class="id">_</span>=&gt;<span class="tactic">split</span> <span class="kwd">end</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H6</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H6</span>;<span class="tactic">simpl</span> <span class="kwd">in</span> *;<span class="tactic">subst</span>;<span class="tactic">simpl</span> <span class="kwd">in</span> *;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.      <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="NPDRF.html#np_normal_iff_tau_star_bitpreservation">np_normal_iff_tau_star_bitpreservation</a></span>;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> <span class="id">H</span>:<span class="id">_</span>|-<span class="id">_</span>/\<span class="id">_</span>=&gt;<span class="tactic">split</span> <span class="kwd">end</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Coqlib.inv</span> <span class="id">H6</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="Footprint.html#FP.conflict">FP.conflict</a></span> <span class="id">fp0</span> <span class="id">fp2</span> \/ ~<span class="id"><a href="Footprint.html#FP.conflict">FP.conflict</a></span> <span class="id">fp0</span> <span class="id">fp2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#classic">classic</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.conflict_sym">FP.conflict_sym</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="Footprint.html#FP.conflict">FP.conflict</a></span> <span class="id">fp3</span> <span class="id">fp2</span> \/ ~<span class="id"><a href="Footprint.html#FP.conflict">FP.conflict</a></span> <span class="id">fp3</span> <span class="id">fp2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#classic">classic</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 3;<span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.conflict_sym">FP.conflict_sym</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Footprint.html#FP.smile_conflict_compat">FP.smile_conflict_compat</a></span> <span class="kwd">in</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Footprint.html#FP.smile_conflict_compat">FP.smile_conflict_compat</a></span> <span class="kwd">in</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="FPLemmas.html#fpsmile_union">fpsmile_union</a></span> <span class="kwd">with</span>(<span class="id">fp2</span>:=<span class="id">fp3</span>) <span class="kwd">in</span> <span class="id">H2</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Footprint.html#FP.smile_conflict_compat">FP.smile_conflict_compat</a></span> <span class="kwd">in</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">contradiction</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H3</span>;<span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="predict_equiv_race_equiv">predict_equiv_race_equiv</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">predict1</span> <span class="id">predict2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> (<span class="id">pc</span>:@<span class="id"><a href="GlobDefs.html#ProgConfig">ProgConfig</a></span> <span class="id"><a href="PRaceLemmas.html#ge">ge</a></span>) <span class="id">t</span> <span class="id">b</span> <span class="id">fp</span>, <span class="id"><a href="PRaceLemmas.html#predict1">predict1</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id"><a href="PRaceLemmas.html#t">t</a></span> <span class="id"><a href="PRaceLemmas.html#b">b</a></span> <span class="id"><a href="PRaceLemmas.html#fp">fp</a></span> &lt;-&gt; <span class="id"><a href="PRaceLemmas.html#predict2">predict2</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id"><a href="PRaceLemmas.html#t">t</a></span> <span class="id"><a href="PRaceLemmas.html#b">b</a></span> <span class="id"><a href="PRaceLemmas.html#fp">fp</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">pc</span>,@<span class="id"><a href="PRaceLemmas.html#race">race</a></span> <span class="id"><a href="PRaceLemmas.html#ge">ge</a></span> <span class="id"><a href="PRaceLemmas.html#predict1">predict1</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> &lt;-&gt; <span class="id"><a href="PRaceLemmas.html#race">race</a></span> <span class="id"><a href="PRaceLemmas.html#predict2">predict2</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8894')">Proof.</div>
<div class="proofscript" id="proof8894">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">intro</span>;<span class="tactic">inversion</span> <span class="id">H0</span>;<span class="tactic">subst</span>;<span class="tactic">apply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H2</span>;<span class="tactic">apply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H3</span>;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="predict_race_to_star">predict_race_to_star</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">pc</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="PRaceLemmas.html#race">race</a></span> <span class="id"><a href="PRaceLemmas.html#ge">ge</a></span> <span class="id"><a href="PRaceLemmas.html#glob_predict">glob_predict</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> -&gt; <span class="id"><a href="PRaceLemmas.html#race">race</a></span> <span class="id"><a href="PRaceLemmas.html#glob_predict_star">glob_predict_star</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8895')">Proof.</div>
<div class="proofscript" id="proof8895">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H1</span>;<span class="tactic">inversion</span> <span class="id">H2</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;-<span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span> <span class="kwd">with</span>(<span class="id">fp</span>:=<span class="id">fp1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>;[<span class="id">left</span>;<span class="tactic">eauto</span>|<span class="id">constructor</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;-<span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span> <span class="kwd">with</span>(<span class="id">fp</span>:=<span class="id">fp2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>;[<span class="id">left</span>;<span class="tactic">eauto</span>|<span class="id">constructor</span>].<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;-<span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span> <span class="kwd">with</span>(<span class="id">fp</span>:=<span class="id">fp1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>;[<span class="id">left</span>;<span class="tactic">eauto</span>|<span class="id">constructor</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;-<span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span> <span class="kwd">with</span>(<span class="id">fp</span>:=<span class="id">fp2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>;[<span class="id">left</span>;<span class="tactic">eauto</span>|<span class="id">constructor</span>].<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H3</span>;<span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="predict_star_race_to_alter">predict_star_race_to_alter</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">pc</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="PRaceLemmas.html#race">race</a></span> <span class="id"><a href="PRaceLemmas.html#ge">ge</a></span> <span class="id"><a href="PRaceLemmas.html#glob_predict_star">glob_predict_star</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> -&gt; <span class="id"><a href="PRaceLemmas.html#race">race</a></span> <span class="id"><a href="PRaceLemmas.html#glob_predict_star_alter">glob_predict_star_alter</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8896')">Proof.</div>
<div class="proofscript" id="proof8896">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> 1;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="PRaceLemmas.html#glob_predict_star_to_alter">glob_predict_star_to_alter</a></span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="PRaceLemmas.html#glob_predict_star_to_alter">glob_predict_star_to_alter</a></span> <span class="kwd">in</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="race_np_predict_starOO_glob_predict_star_alter">race_np_predict_starOO_glob_predict_star_alter</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">pc</span> <span class="id">t1</span> <span class="id">fp1</span> <span class="id">pc1</span> <span class="id">t2</span> <span class="id">fp2</span> <span class="id">pc2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="PRaceLemmas.html#t1">t1</a></span> &lt;&gt; <span class="id"><a href="PRaceLemmas.html#t2">t2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> (@<span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="PRaceLemmas.html#ge">ge</a></span>) ({-|<span class="id"><a href="PRaceLemmas.html#pc">pc</a></span>,<span class="id"><a href="PRaceLemmas.html#t1">t1</a></span>}) <span class="id"><a href="PRaceLemmas.html#fp1">fp1</a></span> <span class="id"><a href="PRaceLemmas.html#pc1">pc1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> = <span class="id"><a href="GlobDefs.html#O">O</a></span> -&gt; <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="PRaceLemmas.html#pc1">pc1</a></span> = <span class="id"><a href="GlobDefs.html#O">O</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> ({-|<span class="id"><a href="PRaceLemmas.html#pc">pc</a></span>,<span class="id"><a href="PRaceLemmas.html#t2">t2</a></span>}) <span class="id"><a href="PRaceLemmas.html#fp2">fp2</a></span> <span class="id"><a href="PRaceLemmas.html#pc2">pc2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="PRaceLemmas.html#pc2">pc2</a></span> = <span class="id"><a href="GlobDefs.html#O">O</a></span> -&gt; <span class="id"><a href="Footprint.html#FP.conflict">FP.conflict</a></span> <span class="id"><a href="PRaceLemmas.html#fp1">fp1</a></span> <span class="id"><a href="PRaceLemmas.html#fp2">fp2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="PRaceLemmas.html#race">race</a></span> <span class="id"><a href="PRaceLemmas.html#glob_predict_star_alter">glob_predict_star_alter</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8897')">Proof.</div>
<div class="proofscript" id="proof8897">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="FPLemmas.html#conflict_min_rule_extended">conflict_min_rule_extended</a></span> <span class="kwd">in</span> <span class="id">H5</span>;<span class="tactic">eauto</span>;<span class="tactic">simpl</span>;<span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H5</span> <span class="kwd">as</span> (<span class="id">pc10</span>&amp;<span class="id">pc11</span>&amp;<span class="id">fp10</span>&amp;<span class="id">fp11</span>&amp;<span class="id">star1</span>&amp;<span class="id">biteq1</span>&amp;<span class="id">step1</span>&amp;<span class="id">biteq2</span>&amp;<span class="id">pc20</span>&amp;<span class="id">pc21</span>&amp;<span class="id">fp20</span>&amp;<span class="id">fp21</span>&amp;<span class="id">star2</span>&amp;<span class="id">biteq3</span>&amp;<span class="id">step2</span>&amp;<span class="id">biteq4</span>&amp;<span class="id">smile1</span>&amp;<span class="id">smile2</span>&amp;<span class="id">smile3</span>&amp;<span class="id">conflict1</span>&amp;<span class="id">subset1</span>&amp;<span class="id">subset2</span>&amp;<span class="id">subset3</span>&amp;<span class="id">subset4</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="PRaceLemmas.html#nptaustar_nohalt">nptaustar_nohalt</a></span> <span class="kwd">in</span> <span class="id">star1</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="PRaceLemmas.html#nptaustar_nohalt">nptaustar_nohalt</a></span> <span class="kwd">in</span> <span class="id">star2</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="PRaceLemmas.html#nonhalt_biteq_taustar_npnsw_tau_star_equiv">nonhalt_biteq_taustar_npnsw_tau_star_equiv</a></span> <span class="kwd">in</span> <span class="id">star1</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="PRaceLemmas.html#nonhalt_biteq_taustar_npnsw_tau_star_equiv">nonhalt_biteq_taustar_npnsw_tau_star_equiv</a></span> <span class="kwd">in</span> <span class="id">star2</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.emp_never_conflict">FP.emp_never_conflict</a></span> <span class="kwd">in</span> <span class="id">conflict1</span> <span class="kwd">as</span> <span class="id">N1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">N1</span> <span class="kwd">as</span> [<span class="id">N1</span> <span class="id">N2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="TypedSemantics.html#type_step_exists">type_step_exists</a></span> <span class="kwd">in</span> <span class="id">step1</span> <span class="kwd">as</span> [<span class="id">x</span> <span class="id">step1</span>].        <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>;<span class="tactic">try</span>(<span class="tactic">inversion</span> <span class="id">step1</span>;<span class="tactic">subst</span>;<span class="tactic">inversion</span> <span class="id">biteq2</span>;<span class="id">contradiction</span>;<span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="TypedSemantics.html#core_step_equiv">core_step_equiv</a></span> <span class="kwd">in</span> <span class="id">step1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="TypedSemantics.html#type_step_exists">type_step_exists</a></span> <span class="kwd">in</span> <span class="id">step2</span> <span class="kwd">as</span> [<span class="id">x</span> <span class="id">step2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>;<span class="tactic">try</span>(<span class="tactic">inversion</span> <span class="id">step2</span>;<span class="tactic">subst</span>;<span class="tactic">inversion</span> <span class="id">biteq4</span>;<span class="id">contradiction</span>;<span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="TypedSemantics.html#core_step_equiv">core_step_equiv</a></span> <span class="kwd">in</span> <span class="id">step2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 1 <span class="kwd">with</span>(<span class="id">fp1</span>:=<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fp10</span> <span class="id">fp11</span>)(<span class="id">fp2</span>:=<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fp20</span> <span class="id">fp21</span>);<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 1 <span class="kwd">with</span>(<span class="id">pc</span>':=<span class="id">pc11</span>);<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="ETrace.html#tau_star_star">tau_star_star</a></span>;<span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="ETrace.html#tau_plus2star">tau_plus2star</a></span>. <span class="id">constructor</span>. <span class="id">left</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 1 <span class="kwd">with</span>(<span class="id">pc</span>':=<span class="id">pc21</span>);<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="ETrace.html#tau_star_star">tau_star_star</a></span>;<span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="ETrace.html#tau_plus2star">tau_plus2star</a></span>. <span class="id">constructor</span>. <span class="id">left</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">left</span>. <span class="tactic">intro</span> <span class="id">contra</span>;<span class="tactic">inversion</span> <span class="id">contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.union_comm_eq">FP.union_comm_eq</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="USimDRF.html#conflict_union">conflict_union</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.union_comm_eq">FP.union_comm_eq</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="USimDRF.html#conflict_union_ano">conflict_union_ano</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assumption</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="race_np_predict_starOI_glob_predict_star_alter">race_np_predict_starOI_glob_predict_star_alter</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">pc</span> <span class="id">t1</span> <span class="id">fp1</span> <span class="id">pc1</span> <span class="id">t2</span> <span class="id">fp2</span> <span class="id">pc2</span> <span class="id">pc3</span> <span class="id">fp3</span> <span class="id">pc4</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="PRaceLemmas.html#t1">t1</a></span> &lt;&gt; <span class="id"><a href="PRaceLemmas.html#t2">t2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> (@<span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="PRaceLemmas.html#ge">ge</a></span>) ({-|<span class="id"><a href="PRaceLemmas.html#pc">pc</a></span>,<span class="id"><a href="PRaceLemmas.html#t1">t1</a></span>}) <span class="id"><a href="PRaceLemmas.html#fp1">fp1</a></span> <span class="id"><a href="PRaceLemmas.html#pc1">pc1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> = <span class="id"><a href="GlobDefs.html#O">O</a></span> -&gt; <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="PRaceLemmas.html#pc1">pc1</a></span> = <span class="id"><a href="GlobDefs.html#O">O</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> ({-|<span class="id"><a href="PRaceLemmas.html#pc">pc</a></span>,<span class="id"><a href="PRaceLemmas.html#t2">t2</a></span>}) <span class="id"><a href="PRaceLemmas.html#fp2">fp2</a></span> <span class="id"><a href="PRaceLemmas.html#pc2">pc2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="PRaceLemmas.html#pc2">pc2</a></span> = <span class="id"><a href="GlobDefs.html#O">O</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="TypedSemantics.html#type_np_step">type_np_step</a></span> <span class="id"><a href="TypedSemantics.html#entat">entat</a></span> <span class="id"><a href="PRaceLemmas.html#pc2">pc2</a></span> <span class="id"><a href="ETrace.html#tau">tau</a></span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> <span class="id"><a href="PRaceLemmas.html#pc3">pc3</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="PRaceLemmas.html#pc3">pc3</a></span> <span class="id"><a href="PRaceLemmas.html#fp3">fp3</a></span> <span class="id"><a href="PRaceLemmas.html#pc4">pc4</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.conflict">FP.conflict</a></span> <span class="id"><a href="PRaceLemmas.html#fp1">fp1</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="PRaceLemmas.html#fp2">fp2</a></span> <span class="id"><a href="PRaceLemmas.html#fp3">fp3</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="PRaceLemmas.html#race">race</a></span> <span class="id"><a href="PRaceLemmas.html#glob_predict_star_alter">glob_predict_star_alter</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8898')">Proof.</div>
<div class="proofscript" id="proof8898">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="Footprint.html#FP.conflict">FP.conflict</a></span> <span class="id">fp1</span> <span class="id">fp2</span> \/ ~ <span class="id"><a href="Footprint.html#FP.conflict">FP.conflict</a></span> <span class="id">fp1</span> <span class="id">fp2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#classic">classic</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="PRaceLemmas.html#race_np_predict_starOO_glob_predict_star_alter">race_np_predict_starOO_glob_predict_star_alter</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="FPLemmas.html#fpconflict_union">fpconflict_union</a></span> <span class="kwd">in</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H7</span>;<span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">pc3</span> = <span class="id"><a href="GlobDefs.html#I">I</a></span>). <span class="tactic">inversion</span> <span class="id">H5</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">pc4</span> = <span class="id"><a href="GlobDefs.html#I">I</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="ETrace.html#tau_star_tau_N_equiv">tau_star_tau_N_equiv</a></span> <span class="kwd">in</span> <span class="id">H6</span> <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="GlobSim.html#GlobSim.tau_N_bit_I_preservation">GlobSim.GlobSim.tau_N_bit_I_preservation</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="FPLemmas.html#conflict_min_rule_extended">conflict_min_rule_extended</a></span> <span class="kwd">in</span> <span class="id">H7</span>;<span class="tactic">eauto</span>;<span class="tactic">simpl</span>;<span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H7</span> <span class="kwd">as</span> (<span class="id">pc10</span>&amp;<span class="id">pc11</span>&amp;<span class="id">fp10</span>&amp;<span class="id">fp11</span>&amp;<span class="id">star1</span>&amp;<span class="id">biteq1</span>&amp;<span class="id">step1</span>&amp;<span class="id">biteq2</span>&amp;<span class="id">pc20</span>&amp;<span class="id">pc21</span>&amp;<span class="id">fp20</span>&amp;<span class="id">fp21</span>&amp;<span class="id">star2</span>&amp;<span class="id">biteq3</span>&amp;<span class="id">step2</span>&amp;<span class="id">biteq4</span>&amp;<span class="id">smile1</span>&amp;<span class="id">smile2</span>&amp;<span class="id">smile3</span>&amp;<span class="id">conflict1</span>&amp;<span class="id">subset1</span>&amp;<span class="id">subset2</span>&amp;<span class="id">subset3</span>&amp;<span class="id">subset4</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="PRaceLemmas.html#nptaustar_nohalt">nptaustar_nohalt</a></span> <span class="kwd">in</span> <span class="id">star1</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="PRaceLemmas.html#nptaustar_nohalt">nptaustar_nohalt</a></span> <span class="kwd">in</span> <span class="id">star2</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="TypedSemantics.html#type_step_elim">type_step_elim</a></span> <span class="kwd">in</span> <span class="id">H5</span> <span class="kwd">as</span> <span class="id">step</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="PRaceLemmas.html#nptaustar_nohalt">nptaustar_nohalt</a></span> <span class="kwd">in</span> <span class="id">H3</span>;<span class="tactic">eauto</span>;<span class="tactic">simpl</span>;<span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="PRaceLemmas.html#nonhalt_biteq_taustar_npnsw_tau_star_equiv">nonhalt_biteq_taustar_npnsw_tau_star_equiv</a></span> <span class="kwd">in</span> <span class="id">star1</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="PRaceLemmas.html#nonhalt_biteq_taustar_npnsw_tau_star_equiv">nonhalt_biteq_taustar_npnsw_tau_star_equiv</a></span> <span class="kwd">in</span> <span class="id">star2</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="PRaceLemmas.html#nonhalt_biteq_taustar_npnsw_tau_star_equiv">nonhalt_biteq_taustar_npnsw_tau_star_equiv</a></span> <span class="kwd">in</span> <span class="id">H3</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="TypedSemantics.html#entat_step_equiv">entat_step_equiv</a></span> <span class="kwd">in</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.emp_never_conflict">FP.emp_never_conflict</a></span> <span class="kwd">in</span> <span class="id">conflict1</span> <span class="kwd">as</span> <span class="id">N1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">N1</span> <span class="kwd">as</span> [<span class="id">N1</span> <span class="id">N2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="TypedSemantics.html#type_step_exists">type_step_exists</a></span> <span class="kwd">in</span> <span class="id">step1</span> <span class="kwd">as</span> [<span class="id">x</span> <span class="id">step1</span>].        <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>;<span class="tactic">try</span>(<span class="tactic">inversion</span> <span class="id">step1</span>;<span class="tactic">subst</span>;<span class="tactic">inversion</span> <span class="id">biteq2</span>;<span class="id">contradiction</span>;<span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="TypedSemantics.html#core_step_equiv">core_step_equiv</a></span> <span class="kwd">in</span> <span class="id">step1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="TypedSemantics.html#type_step_exists">type_step_exists</a></span> <span class="kwd">in</span> <span class="id">step2</span> <span class="kwd">as</span> [<span class="id">x</span> <span class="id">step2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>;<span class="tactic">try</span>(<span class="tactic">inversion</span> <span class="id">step2</span>;<span class="tactic">subst</span>;<span class="tactic">inversion</span> <span class="id">biteq4</span>;<span class="id">contradiction</span>;<span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="TypedSemantics.html#core_step_equiv">core_step_equiv</a></span> <span class="kwd">in</span> <span class="id">step2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 1 <span class="kwd">with</span>(<span class="id">fp1</span>:=<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fp10</span> <span class="id">fp11</span>)(<span class="id">fp2</span>:=<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fp2</span>(<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fp20</span> <span class="id">fp21</span>));<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 1 <span class="kwd">with</span>(<span class="id">pc</span>':=<span class="id">pc11</span>);<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="ETrace.html#tau_star_star">tau_star_star</a></span>;<span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="ETrace.html#tau_plus2star">tau_plus2star</a></span>. <span class="id">constructor</span>;<span class="id">left</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 2 <span class="kwd">with</span>(<span class="id">pc3</span>:=<span class="id">pc21</span>);<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="ETrace.html#tau_star_star">tau_star_star</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Focus</span> 2. <span class="tactic">apply</span> <span class="id"><a href="ETrace.html#tau_plus2star">tau_plus2star</a></span>. <span class="id">constructor</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">H9</span> <span class="id">star2</span>;<span class="tactic">clear</span>;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">star2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">s</span>' = <span class="id"><a href="GlobDefs.html#I">I</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [|[]];<span class="id">Coqlib.inv</span> <span class="id">H</span>;<span class="tactic">inversion</span> <span class="id">H9</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">IHstar2</span> <span class="id">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [|[]];<span class="tactic">try</span> (<span class="id">Coqlib.inv</span> <span class="id">H</span>;<span class="tactic">inversion</span> <span class="id">H9</span>;<span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">left</span>. <span class="tactic">intro</span> <span class="id">contra</span>;<span class="tactic">inversion</span> <span class="id">contra</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.union_comm_eq">FP.union_comm_eq</a></span>;<span class="tactic">apply</span> <span class="id"><a href="USimDRF.html#conflict_union">conflict_union</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> 2 (<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.union_comm_eq">FP.union_comm_eq</a></span>;<span class="tactic">apply</span> <span class="id"><a href="USimDRF.html#conflict_union_ano">conflict_union_ano</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assumption</span>.    <br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="nppredictrace_globpredictstaraltrace_equiv">nppredictrace_globpredictstaraltrace_equiv</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">pc</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="PRaceLemmas.html#race">race</a></span> <span class="id"><a href="PRaceLemmas.html#ge">ge</a></span> <span class="id"><a href="PRaceLemmas.html#np_predict_star">np_predict_star</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> &lt;-&gt; <span class="id"><a href="PRaceLemmas.html#race">race</a></span> <span class="id"><a href="PRaceLemmas.html#glob_predict_star_alter">glob_predict_star_alter</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8899')">Proof.</div>
<div class="proofscript" id="proof8899">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">intro</span>;<span class="id">Coqlib.inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Coqlib.inv</span> <span class="id">H1</span>;<span class="id">Coqlib.inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="PRaceLemmas.html#race_np_predict_starOO_glob_predict_star_alter">race_np_predict_starOO_glob_predict_star_alter</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="PRaceLemmas.html#race_np_predict_starOI_glob_predict_star_alter">race_np_predict_starOI_glob_predict_star_alter</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Coqlib.inv</span> <span class="id">H8</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="PRaceLemmas.html#race_np_predict_starOI_glob_predict_star_alter">race_np_predict_starOI_glob_predict_star_alter</a></span> <span class="kwd">with</span>(<span class="id">t2</span>:=<span class="id">t1</span>)(<span class="id">t1</span>:=<span class="id">t2</span>);<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Coqlib.inv</span> <span class="id">H6</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.conflict_sym">FP.conflict_sym</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H3</span>;<span class="id">contradiction</span>.      <br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Coqlib.inv</span> <span class="id">H1</span>;<span class="id">Coqlib.inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="PRaceLemmas.html#nonhalt_biteq_taustar_npnsw_tau_star_equiv">nonhalt_biteq_taustar_npnsw_tau_star_equiv</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="PRaceLemmas.html#nonhalt_biteq_taustar_npnsw_tau_star_equiv">nonhalt_biteq_taustar_npnsw_tau_star_equiv</a></span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="PRaceLemmas.html#nohalt_nptaustar">nohalt_nptaustar</a></span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> (?&amp;<span class="id">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="PRaceLemmas.html#nohalt_nptaustar">nohalt_nptaustar</a></span> <span class="kwd">in</span> <span class="id">H1</span> <span class="kwd">as</span> (?&amp;<span class="id">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="PRaceLemmas.html#nonhalt_biteq_taustar_npnsw_tau_star_equiv">nonhalt_biteq_taustar_npnsw_tau_star_equiv</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="PRaceLemmas.html#nonhalt_biteq_taustar_npnsw_tau_star_equiv">nonhalt_biteq_taustar_npnsw_tau_star_equiv</a></span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="PRaceLemmas.html#nohalt_nptaustar">nohalt_nptaustar</a></span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> (?&amp;<span class="id">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="PRaceLemmas.html#nohalt_nptaustar">nohalt_nptaustar</a></span> <span class="kwd">in</span> <span class="id">H1</span> <span class="kwd">as</span> (?&amp;<span class="id">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="TypedSemantics.html#entat_step_equiv">entat_step_equiv</a></span> <span class="kwd">in</span> <span class="id">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="TypedSemantics.html#star_core_step_equiv">star_core_step_equiv</a></span> <span class="kwd">in</span> <span class="id">H9</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="TypedSemantics.html#tau_star_type_step">tau_star_type_step</a></span> <span class="kwd">in</span> <span class="id">H9</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="PRaceLemmas.html#nonhalt_biteq_taustar_npnsw_tau_star_equiv">nonhalt_biteq_taustar_npnsw_tau_star_equiv</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="PRaceLemmas.html#nonhalt_biteq_taustar_npnsw_tau_star_equiv">nonhalt_biteq_taustar_npnsw_tau_star_equiv</a></span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="PRaceLemmas.html#nohalt_nptaustar">nohalt_nptaustar</a></span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> (?&amp;<span class="id">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="PRaceLemmas.html#nohalt_nptaustar">nohalt_nptaustar</a></span> <span class="kwd">in</span> <span class="id">H1</span> <span class="kwd">as</span> (?&amp;<span class="id">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="TypedSemantics.html#entat_step_equiv">entat_step_equiv</a></span> <span class="kwd">in</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="TypedSemantics.html#star_core_step_equiv">star_core_step_equiv</a></span> <span class="kwd">in</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="TypedSemantics.html#tau_star_type_step">tau_star_type_step</a></span> <span class="kwd">in</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H3</span>;<span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="star_race">star_race</a></span> {<span class="id">ge</span>} (<span class="id">predict</span>:@<span class="id"><a href="GlobDefs.html#ProgConfig">ProgConfig</a></span> <span class="id"><a href="PRaceLemmas.html#ge">ge</a></span>-&gt;<span class="id"><a href="GlobDefs.html#tid">tid</a></span>-&gt;<span class="id"><a href="GlobDefs.html#Bit">Bit</a></span>-&gt;<span class="id"><a href="Footprint.html#FP.t">FP.t</a></span>-&gt;<span class="kwd">Prop</span>)(<span class="id">pc</span>:<span class="id"><a href="GlobDefs.html#ProgConfig">ProgConfig</a></span>):<span class="kwd">Prop</span>:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">l</span> <span class="id">fp</span> <span class="id">pc</span>',<span class="id"><a href="ETrace.html#star">ETrace.star</a></span> <span class="id"><a href="GlobSemantics.html#glob_step">glob_step</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id"><a href="PRaceLemmas.html#l">l</a></span> <span class="id"><a href="PRaceLemmas.html#fp">fp</a></span> <span class="id">pc</span>' /\ <span class="id"><a href="PRaceLemmas.html#race">race</a></span> <span class="id"><a href="PRaceLemmas.html#predict">predict</a></span> <span class="id">pc</span>'.<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="star_race_equiv">star_race_equiv</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">pc</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="DRF.html#star_race_config">star_race_config</a></span> <span class="id"><a href="PRaceLemmas.html#ge">ge</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> &lt;-&gt; <span class="id"><a href="PRaceLemmas.html#star_race">star_race</a></span> <span class="id"><a href="DRF.html#predict">predict</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8900')">Proof.</div>
<div class="proofscript" id="proof8900">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="DRF.html#star_race_config">star_race_config</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> (<span class="id">l</span>&amp;<span class="id">fp</span>&amp;<span class="id">pc</span>'&amp;<span class="id">star1</span>&amp;<span class="id">race1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">l</span>,<span class="id">fp</span>,<span class="id">pc</span>'. <span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="PRaceLemmas.html#race_equiv">race_equiv</a></span>;<span class="tactic">auto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="PRaceLemmas.html#star_race">star_race</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> (<span class="id">l</span>&amp;<span class="id">fp</span>&amp;<span class="id">pc</span>'&amp;<span class="id">star1</span>&amp;<span class="id">race1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">l</span>,<span class="id">fp</span>,<span class="id">pc</span>'. <span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="PRaceLemmas.html#race_equiv">race_equiv</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="predict_equiv_to_star_race_equiv">predict_equiv_to_star_race_equiv</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">predict1</span> <span class="id">predict2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> (<span class="id">pc</span>:@<span class="id"><a href="GlobDefs.html#ProgConfig">ProgConfig</a></span> <span class="id"><a href="PRaceLemmas.html#ge">ge</a></span>) <span class="id">t</span> <span class="id">b</span> <span class="id">fp</span>, <span class="id"><a href="PRaceLemmas.html#predict1">predict1</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id"><a href="PRaceLemmas.html#t">t</a></span> <span class="id"><a href="PRaceLemmas.html#b">b</a></span> <span class="id"><a href="PRaceLemmas.html#fp">fp</a></span> &lt;-&gt; <span class="id"><a href="PRaceLemmas.html#predict2">predict2</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id"><a href="PRaceLemmas.html#t">t</a></span> <span class="id"><a href="PRaceLemmas.html#b">b</a></span> <span class="id"><a href="PRaceLemmas.html#fp">fp</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">pc</span>,@<span class="id"><a href="PRaceLemmas.html#star_race">star_race</a></span> <span class="id"><a href="PRaceLemmas.html#ge">ge</a></span> <span class="id"><a href="PRaceLemmas.html#predict1">predict1</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> &lt;-&gt; <span class="id"><a href="PRaceLemmas.html#star_race">star_race</a></span> <span class="id"><a href="PRaceLemmas.html#predict2">predict2</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8901')">Proof.</div>
<div class="proofscript" id="proof8901">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="PRaceLemmas.html#star_race">star_race</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H0</span> <span class="kwd">as</span> (<span class="id">l</span>&amp;<span class="id">fp</span>&amp;<span class="id">pc</span>'&amp;<span class="id">star1</span>&amp;<span class="id">race1</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="PRaceLemmas.html#predict_equiv_race_equiv">predict_equiv_race_equiv</a></span> <span class="kwd">in</span> <span class="id">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">race1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">l</span>,<span class="id">fp</span>,<span class="id">pc</span>';<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="glob_predict_to_star">glob_predict_to_star</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">pc</span> <span class="id">fp</span> <span class="id">b</span> <span class="id">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="PRaceLemmas.html#glob_predict">glob_predict</a></span> <span class="id"><a href="PRaceLemmas.html#ge">ge</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id"><a href="PRaceLemmas.html#b">b</a></span> <span class="id"><a href="PRaceLemmas.html#t">t</a></span> <span class="id"><a href="PRaceLemmas.html#fp">fp</a></span> -&gt; <span class="id"><a href="PRaceLemmas.html#glob_predict_star">glob_predict_star</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id"><a href="PRaceLemmas.html#b">b</a></span> <span class="id"><a href="PRaceLemmas.html#t">t</a></span> <span class="id"><a href="PRaceLemmas.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8902')">Proof.</div>
<div class="proofscript" id="proof8902">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H</span>;<span class="tactic">subst</span>; <span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span>&lt;- <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span> <span class="kwd">with</span>(<span class="id">fp</span>:=<span class="id">fp</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 2;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="PRaceLemmas.html#glob_npnsw_step">glob_npnsw_step</a></span>;<span class="id">left</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="star_race_to_star_predict_race">star_race_to_star_predict_race</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">pc</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="PRaceLemmas.html#star_race">star_race</a></span> <span class="id"><a href="PRaceLemmas.html#ge">ge</a></span> <span class="id"><a href="PRaceLemmas.html#glob_predict">glob_predict</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> -&gt; <span class="id"><a href="PRaceLemmas.html#star_race">star_race</a></span> <span class="id"><a href="PRaceLemmas.html#glob_predict_star">glob_predict_star</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8903')">Proof.</div>
<div class="proofscript" id="proof8903">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>;<span class="tactic">unfold</span> <span class="id"><a href="PRaceLemmas.html#star_race">star_race</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> (<span class="id">l</span>&amp;<span class="id">fp</span>&amp;<span class="id">pc</span>'&amp;<span class="id">star1</span>&amp;<span class="id">race1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">star1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>,<span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>,<span class="id">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;[<span class="id">constructor</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">race1</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="PRaceLemmas.html#glob_predict_to_star">glob_predict_to_star</a></span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="PRaceLemmas.html#glob_predict_to_star">glob_predict_to_star</a></span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">IHstar1</span> <span class="id">race1</span>) <span class="kwd">as</span> (<span class="id">l</span>'&amp;<span class="id">fp</span>'&amp;<span class="id">pc</span>'&amp;<span class="id">star</span>'&amp;<span class="id">race</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#cons">cons</a></span> <span class="id">e</span> <span class="id">l</span>'),(<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fp1</span> <span class="id">fp</span>'),<span class="id">pc</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;[<span class="id">econstructor</span> 2|];<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="glob_race_prog">glob_race_prog</a></span> {<span class="id">NL</span>}{<span class="id">L</span>:@<span class="id"><a href="GAST.html#langs">langs</a></span> <span class="id"><a href="PRaceLemmas.html#NL">NL</a></span>}{<span class="id">ge</span>}(<span class="id">predict</span>:@<span class="id"><a href="GlobDefs.html#ProgConfig">ProgConfig</a></span> <span class="id"><a href="PRaceLemmas.html#ge">ge</a></span>-&gt;<span class="id"><a href="GlobDefs.html#tid">tid</a></span>-&gt;<span class="id"><a href="GlobDefs.html#Bit">Bit</a></span>-&gt;<span class="id"><a href="Footprint.html#FP.t">FP.t</a></span>-&gt;<span class="kwd">Prop</span>)(<span class="id">p</span>:<span class="id"><a href="GAST.html#prog">prog</a></span> <span class="id"><a href="PRaceLemmas.html#L">L</a></span>):<span class="kwd">Prop</span>:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">gm</span> <span class="id">pc</span> <span class="id">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#init_config">init_config</a></span> <span class="id"><a href="PRaceLemmas.html#p">p</a></span> <span class="id"><a href="PRaceLemmas.html#gm">gm</a></span> <span class="id"><a href="PRaceLemmas.html#ge">ge</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span> <span class="id"><a href="PRaceLemmas.html#t">t</a></span> /\ <span class="id"><a href="PRaceLemmas.html#star_race">star_race</a></span> <span class="id"><a href="PRaceLemmas.html#predict">predict</a></span> <span class="id"><a href="PRaceLemmas.html#pc">pc</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="race_prog_to_glob_race_prog_star_predictt">race_prog_to_glob_race_prog_star_predictt</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">NL</span> <span class="id">L</span> <span class="id">p</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="DRF.html#race_prog">race_prog</a></span> <span class="id"><a href="PRaceLemmas.html#NL">NL</a></span> <span class="id"><a href="PRaceLemmas.html#L">L</a></span> <span class="id"><a href="PRaceLemmas.html#p">p</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">ge</span>,@<span class="id"><a href="PRaceLemmas.html#glob_race_prog">glob_race_prog</a></span> <span class="id"><a href="PRaceLemmas.html#NL">NL</a></span> <span class="id"><a href="PRaceLemmas.html#L">L</a></span> <span class="id"><a href="PRaceLemmas.html#ge">ge</a></span> <span class="id"><a href="PRaceLemmas.html#glob_predict_star">glob_predict_star</a></span> <span class="id"><a href="PRaceLemmas.html#p">p</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8904')">Proof.</div>
<div class="proofscript" id="proof8904">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="DRF.html#race_prog">race_prog</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="PRaceLemmas.html#glob_race_prog">glob_race_prog</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> (<span class="id">gm</span>&amp;<span class="id">ge</span>&amp;<span class="id">pc</span>&amp;<span class="id">t</span>&amp;<span class="id">init</span>&amp;<span class="id">race</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">ge</span>,<span class="id">gm</span>,<span class="id">pc</span>,<span class="id">t</span>;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="PRaceLemmas.html#star_race_equiv">star_race_equiv</a></span> <span class="kwd">in</span> <span class="id">race</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id"><a href="PRaceLemmas.html#predict_equiv">predict_equiv</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="PRaceLemmas.html#predict_equiv_to_star_race_equiv">predict_equiv_to_star_race_equiv</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">race</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="PRaceLemmas.html#star_race_to_star_predict_race">star_race_to_star_predict_race</a></span> <span class="kwd">in</span> <span class="id">race</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assumption</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<br/>
<span class="kwd">End</span> <span class="id"><a href="PRaceLemmas.html#PRace">PRace</a></span>.<br/>
</div>
<div class="footer"><hr/>Generated by coq2html</div>
</body>
</html>
