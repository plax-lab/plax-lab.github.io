<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module SCSemLemmas</title>
<meta name="description" content="Documentation of Coq module SCSemLemmas" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module SCSemLemmas</h1>
<div class="coq">
<span class="id">From</span> <span class="id">mathcomp.ssreflect</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">fintype</span> <span class="id">ssrnat</span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Coqlib.html">Coqlib</a></span> <span class="id"><a href="Maps.html">Maps</a></span> <span class="id"><a href="Axioms.html">Axioms</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="AST.html">AST</a></span> <span class="id"><a href="Integers.html">Integers</a></span> <span class="id"><a href="Floats.html">Floats</a></span> <span class="id"><a href="Values.html">Values</a></span> <span class="id"><a href="Events.html">Events</a></span> <span class="id"><a href="Globalenvs.html">Globalenvs</a></span> <span class="id"><a href="Smallstep.html">Smallstep</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Locations.html">Locations</a></span> <span class="id"><a href="Stacklayout.html">Stacklayout</a></span> <span class="id"><a href="Conventions.html">Conventions</a></span>.<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="CUAST.html">CUAST</a></span>.<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Footprint.html">Footprint</a></span> <span class="id"><a href="GMemory.html">GMemory</a></span> <span class="id"><a href="FMemory.html">FMemory</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="GAST.html">GAST</a></span> <span class="id"><a href="GlobDefs.html">GlobDefs</a></span> <span class="id"><a href="ETrace.html">ETrace</a></span> <span class="id"><a href="Blockset.html">Blockset</a></span> <span class="id"><a href="DRF.html">DRF</a></span>.<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Languages.html">Languages</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="GlobSemantics.html">GlobSemantics</a></span> <span class="id"><a href="RGRels.html">RGRels</a></span> <span class="id"><a href="ClientSim.html">ClientSim</a></span> <span class="id"><a href="ObjectSim.html">ObjectSim</a></span>.<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="ASM_local.html">ASM_local</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="AsmLang.html">AsmLang</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="InteractionSemantics.html">InteractionSemantics</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="taustar_etrace_star">taustar_etrace_star</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">State</span> <span class="id">step</span> (<span class="id">s</span> <span class="id">s</span>': <span class="id"><a href="SCSemLemmas.html#State">State</a></span>) <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> <span class="id"><a href="SCSemLemmas.html#step">step</a></span> <span class="id"><a href="SCSemLemmas.html#s">s</a></span> <span class="id"><a href="SCSemLemmas.html#fp">fp</a></span> <span class="id">s</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">ls</span>, <span class="id"><a href="ETrace.html#star">ETrace.star</a></span> <span class="id"><a href="SCSemLemmas.html#step">step</a></span> <span class="id"><a href="SCSemLemmas.html#s">s</a></span> <span class="id"><a href="SCSemLemmas.html#ls">ls</a></span> <span class="id"><a href="SCSemLemmas.html#fp">fp</a></span> <span class="id">s</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9981')">Proof.</div>
<div class="proofscript" id="proof9981">
&nbsp;&nbsp;<span class="tactic">induction</span> 1. <span class="id">eexists</span>. <span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">IHtau_star</span>. <span class="id">eexists</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="etrace_star_star">etrace_star_star</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">State</span> <span class="id">step</span> (<span class="id">s1</span> <span class="id">s2</span>: <span class="id"><a href="SCSemLemmas.html#State">State</a></span>) <span class="id">ls1</span> <span class="id">fp1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#star">ETrace.star</a></span> <span class="id"><a href="SCSemLemmas.html#step">step</a></span> <span class="id"><a href="SCSemLemmas.html#s1">s1</a></span> <span class="id"><a href="SCSemLemmas.html#ls1">ls1</a></span> <span class="id"><a href="SCSemLemmas.html#fp1">fp1</a></span> <span class="id"><a href="SCSemLemmas.html#s2">s2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ls2</span> <span class="id">fp2</span> <span class="id">s3</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#star">ETrace.star</a></span> <span class="id"><a href="SCSemLemmas.html#step">step</a></span> <span class="id"><a href="SCSemLemmas.html#s2">s2</a></span> <span class="id"><a href="SCSemLemmas.html#ls2">ls2</a></span> <span class="id"><a href="SCSemLemmas.html#fp2">fp2</a></span> <span class="id"><a href="SCSemLemmas.html#s3">s3</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#star">ETrace.star</a></span> <span class="id"><a href="SCSemLemmas.html#step">step</a></span> <span class="id"><a href="SCSemLemmas.html#s1">s1</a></span> (<span class="id"><a href="SCSemLemmas.html#ls1">ls1</a></span> ++ <span class="id"><a href="SCSemLemmas.html#ls2">ls2</a></span>) (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="SCSemLemmas.html#fp1">fp1</a></span> <span class="id"><a href="SCSemLemmas.html#fp2">fp2</a></span>) <span class="id"><a href="SCSemLemmas.html#s3">s3</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9982')">Proof.</div>
<div class="proofscript" id="proof9982">
&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.emp_union_fp">FP.emp_union_fp</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">IHstar</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Footprint.html#FP.fp_union_assoc">FP.fp_union_assoc</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="thdp_inv_upd">thdp_inv_upd</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> (<span class="id">tp</span> : @<span class="id"><a href="GlobDefs.html#ThreadPool.t">ThreadPool.t</a></span> <span class="id"><a href="SCSemLemmas.html#ge">ge</a></span>) <span class="id">i</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">c</span>' : <span class="id"><a href="GlobDefs.html#Core.t">Core.t</a></span>) (<span class="id">tp</span>' : <span class="id"><a href="GlobDefs.html#ThreadPool.t">ThreadPool.t</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#ThreadPool.inv">ThreadPool.inv</a></span> <span class="id"><a href="SCSemLemmas.html#tp">tp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#ThreadPool.update">ThreadPool.update</a></span> <span class="id"><a href="SCSemLemmas.html#tp">tp</a></span> <span class="id"><a href="SCSemLemmas.html#i">i</a></span> <span class="id">c</span>' <span class="id">tp</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#ThreadPool.inv">ThreadPool.inv</a></span> <span class="id">tp</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9983')">Proof.</div>
<div class="proofscript" id="proof9983">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H2</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">constructor</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;{ <span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#peq">peq</a></span> <span class="id">i0</span> <span class="id">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">apply</span> <span class="id">tp_finite</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">unfold</span> <span class="id"><a href="GlobDefs.html#ThreadPool.get_cs">ThreadPool.get_cs</a></span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Maps.html#PMap.gso">PMap.gso</a></span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;{ <span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#peq">peq</a></span> <span class="id">i0</span> <span class="id">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Maps.html#PMap.gss">PMap.gss</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Maps.html#PMap.gso">PMap.gso</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;{ <span class="tactic">intro</span> <span class="id">i0</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#peq">peq</a></span> <span class="id">i0</span> <span class="id">i</span>). <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Maps.html#PMap.gss">PMap.gss</a></span>. <span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="GlobDefs.html#ThreadPool.cs_upd_inv_cs">ThreadPool.cs_upd_inv_cs</a></span>. <span class="tactic">eapply</span> <span class="id">cs_inv</span>. <span class="tactic">eauto</span>. <span class="id">econstructor</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Maps.html#PMap.gso">PMap.gso</a></span>; <span class="tactic">auto</span>. }<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="thdp_upd_next_tid">thdp_upd_next_tid</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">GE</span> (<span class="id">tp</span>: @<span class="id"><a href="GlobDefs.html#ThreadPool.t">ThreadPool.t</a></span> <span class="id"><a href="SCSemLemmas.html#GE">GE</a></span>) <span class="id">t</span> <span class="id">c</span> <span class="id">tp</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#ThreadPool.update">ThreadPool.update</a></span> <span class="id"><a href="SCSemLemmas.html#tp">tp</a></span> <span class="id"><a href="SCSemLemmas.html#t">t</a></span> <span class="id"><a href="SCSemLemmas.html#c">c</a></span> <span class="id">tp</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#ThreadPool.next_tid">ThreadPool.next_tid</a></span> <span class="id">tp</span>' = <span class="id"><a href="GlobDefs.html#ThreadPool.next_tid">ThreadPool.next_tid</a></span> <span class="id"><a href="SCSemLemmas.html#tp">tp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9984')">Proof.</div>
<div class="proofscript" id="proof9984">
 <span class="tactic">clear</span>. <span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">auto</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="thdp_upd_next_fmap">thdp_upd_next_fmap</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">GE</span> (<span class="id">tp</span>: @<span class="id"><a href="GlobDefs.html#ThreadPool.t">ThreadPool.t</a></span> <span class="id"><a href="SCSemLemmas.html#GE">GE</a></span>) <span class="id">t</span> <span class="id">c</span> <span class="id">tp</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#ThreadPool.update">ThreadPool.update</a></span> <span class="id"><a href="SCSemLemmas.html#tp">tp</a></span> <span class="id"><a href="SCSemLemmas.html#t">t</a></span> <span class="id"><a href="SCSemLemmas.html#c">c</a></span> <span class="id">tp</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t0</span>, <span class="id"><a href="GlobDefs.html#ThreadPool.next_fmap">ThreadPool.next_fmap</a></span> <span class="id">tp</span>' <span class="id"><a href="SCSemLemmas.html#t0">t0</a></span> = <span class="id"><a href="GlobDefs.html#ThreadPool.next_fmap">ThreadPool.next_fmap</a></span> <span class="id"><a href="SCSemLemmas.html#tp">tp</a></span> <span class="id"><a href="SCSemLemmas.html#t0">t0</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9985')">Proof.</div>
<div class="proofscript" id="proof9985">
 <span class="tactic">clear</span>. <span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">auto</span>. Qed.</div>
<br/>
<span class="kwd">Require</span> <span class="id"><a href="GDefLemmas.html">GDefLemmas</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="core_step_globstep">core_step_globstep</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">GE</span> <span class="id">i_x</span> <span class="id">F</span> <span class="id">c</span> <span class="id">m</span> <span class="id">fp</span> <span class="id">c</span>' <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span>: <span class="id">Mod</span> := <span class="id"><a href="GlobDefs.html#GlobEnv.modules">GlobEnv.modules</a></span> <span class="id"><a href="SCSemLemmas.html#GE">GE</a></span> <span class="id"><a href="SCSemLemmas.html#i_x">i_x</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span>: <span class="id">lang</span> := <span class="id"><a href="InteractionSemantics.html#ModSem.lang">ModSem.lang</a></span> <span class="id">Mod</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span>: <span class="id">Ge</span> := <span class="id"><a href="InteractionSemantics.html#ModSem.Ge">ModSem.Ge</a></span> <span class="id">Mod</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span>: <span class="id">fl</span> := <span class="id"><a href="GlobDefs.html#FLists.get_fl">FLists.get_fl</a></span> (<span class="id"><a href="GlobDefs.html#GlobEnv.freelists">GlobEnv.freelists</a></span> <span class="id"><a href="SCSemLemmas.html#GE">GE</a></span>) <span class="id"><a href="SCSemLemmas.html#F">F</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#step">step</a></span> <span class="id">lang</span> <span class="id">Ge</span> <span class="id">fl</span> <span class="id"><a href="SCSemLemmas.html#c">c</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span> <span class="id"><a href="SCSemLemmas.html#fp">fp</a></span> <span class="id">c</span>' <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">tp</span>: @<span class="id"><a href="GlobDefs.html#ThreadPool.t">ThreadPool.t</a></span> <span class="id"><a href="SCSemLemmas.html#GE">GE</a></span>) <span class="id">i</span> <span class="id">sg</span> <span class="id">b</span> <span class="id">cs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#ThreadPool.get_cs">ThreadPool.get_cs</a></span> <span class="id"><a href="SCSemLemmas.html#tp">tp</a></span> <span class="id"><a href="SCSemLemmas.html#i">i</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> ((<span class="id"><a href="GlobDefs.html#Core.Build_t">Core.Build_t</a></span> <span class="id"><a href="SCSemLemmas.html#i_x">i_x</a></span> <span class="id"><a href="SCSemLemmas.html#c">c</a></span> <span class="id"><a href="SCSemLemmas.html#sg">sg</a></span> <span class="id"><a href="SCSemLemmas.html#F">F</a></span>)::<span class="id"><a href="SCSemLemmas.html#cs">cs</a></span>)  -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">tp</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobSemantics.html#glob_step">glob_step</a></span> (<span class="id"><a href="GlobDefs.html#Build_ProgConfig">Build_ProgConfig</a></span> <span class="id"><a href="SCSemLemmas.html#GE">GE</a></span> <span class="id"><a href="SCSemLemmas.html#tp">tp</a></span> <span class="id"><a href="SCSemLemmas.html#i">i</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span> <span class="id"><a href="SCSemLemmas.html#b">b</a></span>) <span class="id"><a href="ETrace.html#tau">ETrace.tau</a></span> <span class="id"><a href="SCSemLemmas.html#fp">fp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="GlobDefs.html#Build_ProgConfig">Build_ProgConfig</a></span> <span class="id"><a href="SCSemLemmas.html#GE">GE</a></span> <span class="id">tp</span>' <span class="id"><a href="SCSemLemmas.html#i">i</a></span> <span class="id">m</span>' <span class="id"><a href="SCSemLemmas.html#b">b</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#ThreadPool.update">ThreadPool.update</a></span> <span class="id"><a href="SCSemLemmas.html#tp">tp</a></span> <span class="id"><a href="SCSemLemmas.html#i">i</a></span> (<span class="id"><a href="GlobDefs.html#Core.Build_t">Core.Build_t</a></span> <span class="id"><a href="SCSemLemmas.html#i_x">i_x</a></span> <span class="id">c</span>' <span class="id"><a href="SCSemLemmas.html#sg">sg</a></span> <span class="id"><a href="SCSemLemmas.html#F">F</a></span>) <span class="id">tp</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9986')">Proof.</div>
<div class="proofscript" id="proof9986">
&nbsp;&nbsp;<span class="tactic">clear</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">exists</span> <span class="id">tp</span>', <span class="id"><a href="GlobDefs.html#ThreadPool.update">ThreadPool.update</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">tp</span> <span class="id">i</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{| <span class="id"><a href="GlobDefs.html#Core.Build_t">Core.i</a></span> := <span class="id">i_x</span>; <span class="id">Core.c</span> := <span class="id">c</span>'; <span class="id">Core.sg</span>:= <span class="id">sg</span>; <span class="id">Core.F</span> := <span class="id">F</span> |} <span class="id">tp</span>').<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">exists</span> <span class="id">cs</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#CallStack.update">CallStack.update</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;({| <span class="id"><a href="GlobDefs.html#Core.Build_t">Core.c</a></span> := <span class="id">c</span>; <span class="id">Core.sg</span>:= <span class="id">sg</span>; <span class="id">Core.F</span> := <span class="id">F</span> |}::<span class="id">cs</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{| <span class="id"><a href="GlobDefs.html#Core.Build_t">Core.c</a></span> := <span class="id">c</span>'; <span class="id">Core.sg</span>:= <span class="id">sg</span>; <span class="id">Core.F</span> := <span class="id">F</span> |} <span class="id">cs</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">eexists</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H1</span> <span class="kwd">as</span> (<span class="id">cs</span>' &amp; <span class="id">H_cs_upd</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexists</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H1</span> <span class="kwd">as</span> (<span class="id">tp</span>' &amp; <span class="id">H_tp_upd</span>).<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">tp</span>'. <span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="GlobSemantics.html#Corestep">Corestep</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GlobDefs.html#ThreadPool.get_top">ThreadPool.get_top</a></span>. <span class="tactic">rewrite</span> <span class="id">H0</span>. <span class="tactic">simpl</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span>. <span class="id">constructor</span>; <span class="tactic">auto</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="core_plus_globstep_plus">core_plus_globstep_plus</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">GE</span> <span class="id">i_x</span> <span class="id">F</span> <span class="id">c</span> <span class="id">m</span> <span class="id">fp</span> <span class="id">c</span>' <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span>: <span class="id">Mod</span> := <span class="id"><a href="GlobDefs.html#GlobEnv.modules">GlobEnv.modules</a></span> <span class="id"><a href="SCSemLemmas.html#GE">GE</a></span> <span class="id"><a href="SCSemLemmas.html#i_x">i_x</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span>: <span class="id">lang</span> := <span class="id"><a href="InteractionSemantics.html#ModSem.lang">ModSem.lang</a></span> <span class="id">Mod</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span>: <span class="id">Ge</span> := <span class="id"><a href="InteractionSemantics.html#ModSem.Ge">ModSem.Ge</a></span> <span class="id">Mod</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span>: <span class="id">fl</span> := <span class="id"><a href="GlobDefs.html#FLists.get_fl">FLists.get_fl</a></span> (<span class="id"><a href="GlobDefs.html#GlobEnv.freelists">GlobEnv.freelists</a></span> <span class="id"><a href="SCSemLemmas.html#GE">GE</a></span>) <span class="id"><a href="SCSemLemmas.html#F">F</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#plus">plus</a></span> (<span class="id"><a href="InteractionSemantics.html#step">step</a></span> <span class="id">lang</span> <span class="id">Ge</span> <span class="id">fl</span>) <span class="id"><a href="SCSemLemmas.html#c">c</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span> <span class="id"><a href="SCSemLemmas.html#fp">fp</a></span> <span class="id">c</span>' <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">tp</span>: @<span class="id"><a href="GlobDefs.html#ThreadPool.t">ThreadPool.t</a></span> <span class="id"><a href="SCSemLemmas.html#GE">GE</a></span>) <span class="id">i</span> <span class="id">sg</span> <span class="id">b</span> <span class="id">cs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#ThreadPool.get_cs">ThreadPool.get_cs</a></span> <span class="id"><a href="SCSemLemmas.html#tp">tp</a></span> <span class="id"><a href="SCSemLemmas.html#i">i</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="GlobDefs.html#Core.Build_t">Core.Build_t</a></span> <span class="id"><a href="SCSemLemmas.html#i_x">i_x</a></span> <span class="id"><a href="SCSemLemmas.html#c">c</a></span> <span class="id"><a href="SCSemLemmas.html#sg">sg</a></span> <span class="id"><a href="SCSemLemmas.html#F">F</a></span> :: <span class="id"><a href="SCSemLemmas.html#cs">cs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">tp</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_plus">tau_plus</a></span> <span class="id"><a href="GlobSemantics.html#glob_step">glob_step</a></span> (<span class="id"><a href="GlobDefs.html#Build_ProgConfig">Build_ProgConfig</a></span> <span class="id"><a href="SCSemLemmas.html#GE">GE</a></span> <span class="id"><a href="SCSemLemmas.html#tp">tp</a></span> <span class="id"><a href="SCSemLemmas.html#i">i</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span> <span class="id"><a href="SCSemLemmas.html#b">b</a></span>) <span class="id"><a href="SCSemLemmas.html#fp">fp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="GlobDefs.html#Build_ProgConfig">Build_ProgConfig</a></span> <span class="id"><a href="SCSemLemmas.html#GE">GE</a></span> <span class="id">tp</span>' <span class="id"><a href="SCSemLemmas.html#i">i</a></span> <span class="id">m</span>' <span class="id"><a href="SCSemLemmas.html#b">b</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#ThreadPool.update">ThreadPool.update</a></span> <span class="id"><a href="SCSemLemmas.html#tp">tp</a></span> <span class="id"><a href="SCSemLemmas.html#i">i</a></span> {| <span class="id"><a href="GlobDefs.html#Core.Build_t">Core.c</a></span>:=<span class="id">c</span>'; <span class="id">Core.sg</span>:=<span class="id"><a href="SCSemLemmas.html#sg">sg</a></span>; <span class="id">Core.F</span>:=<span class="id"><a href="SCSemLemmas.html#F">F</a></span> |} <span class="id">tp</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9987')">Proof.</div>
<div class="proofscript" id="proof9987">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">intros</span> <span class="id">GE</span> <span class="id">i_x</span> <span class="id">F</span> <span class="id">c</span> <span class="id">m</span> <span class="id">fp</span> <span class="id">c</span>' <span class="id">m</span>' <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">H</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SCSemLemmas.html#core_step_globstep">core_step_globstep</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> (<span class="id">tp</span>'&amp; <span class="id">Hstep</span> &amp; <span class="id">Htp</span>'). <span class="id">eexists</span>; <span class="tactic">split</span>; [<span class="id">econstructor</span>|]; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SCSemLemmas.html#core_step_globstep">core_step_globstep</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> (<span class="id">tp</span>' &amp; <span class="id">Hstep</span> &amp; <span class="id">Htp</span>'). <span class="id">instantiate</span> (1:=<span class="id">b</span>) <span class="kwd">in</span> <span class="id">Hstep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">Htp</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">inversion</span> <span class="id">H</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> (<span class="id">IHplus</span> <span class="id">tp</span>' <span class="id">i</span> <span class="id">sg</span> <span class="id">b</span> <span class="id">cs</span>) <span class="kwd">as</span> [<span class="id">tp</span>'' [<span class="id">Hplus</span>' <span class="id">Htp</span>''] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">unfold</span> <span class="id"><a href="GlobDefs.html#ThreadPool.get_cs">ThreadPool.get_cs</a></span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Maps.html#PMap.gsspec">PMap.gsspec</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#peq">peq</a></span>; [|<span class="tactic">congruence</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H2</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">tp</span>''. <span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="ETrace.html#tau_plus_cons">tau_plus_cons</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">Htp</span>''. <span class="tactic">subst</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">clear</span> <span class="id">Hplus</span>' <span class="id">IHplus</span> <span class="id">H0</span> <span class="id">Hstep</span> <span class="id">Htp</span>''.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GlobDefs.html#ThreadPool.get_cs">ThreadPool.get_cs</a></span> <span class="kwd">in</span> <span class="id">H5</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H5</span>; <span class="tactic">rewrite</span> <span class="id"><a href="Maps.html#PMap.gsspec">PMap.gsspec</a></span> <span class="kwd">in</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#peq">peq</a></span>; [|<span class="tactic">congruence</span>]. <span class="tactic">inversion</span> <span class="id">H5</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> (<span class="id">econstructor</span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H7</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Maps.html#PMap.set2">PMap.set2</a></span>. <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H2</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="tau_plus_tau_star">tau_plus_tau_star</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">GE</span> (<span class="id">pc</span>: @<span class="id"><a href="GlobDefs.html#ProgConfig">ProgConfig</a></span> <span class="id"><a href="SCSemLemmas.html#GE">GE</a></span>) <span class="id">fp</span> <span class="id">pc</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_plus">tau_plus</a></span> <span class="id"><a href="GlobSemantics.html#glob_step">glob_step</a></span> <span class="id"><a href="SCSemLemmas.html#pc">pc</a></span> <span class="id"><a href="SCSemLemmas.html#fp">fp</a></span> <span class="id">pc</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> <span class="id"><a href="GlobSemantics.html#glob_step">glob_step</a></span> <span class="id"><a href="SCSemLemmas.html#pc">pc</a></span> <span class="id"><a href="SCSemLemmas.html#fp">fp</a></span> <span class="id">pc</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9988')">Proof.</div>
<div class="proofscript" id="proof9988">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">induction</span> 1. <br/>
&nbsp;&nbsp;<span class="tactic">replace</span> <span class="id">fp</span> <span class="kwd">with</span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fp</span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>) <span class="tactic">by</span> <span class="tactic">apply</span> <span class="id"><a href="GDefLemmas.html#fp_union_emp_r">GDefLemmas.fp_union_emp_r</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="ETrace.html#tau_star_cons">tau_star_cons</a></span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="ETrace.html#tau_star_cons">tau_star_cons</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="core_star_globstep_star">core_star_globstep_star</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">GE</span> <span class="id">i_x</span> <span class="id">F</span> <span class="id">c</span> <span class="id">m</span> <span class="id">fp</span> <span class="id">c</span>' <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span>: <span class="id">Mod</span> := <span class="id"><a href="GlobDefs.html#GlobEnv.modules">GlobEnv.modules</a></span> <span class="id"><a href="SCSemLemmas.html#GE">GE</a></span> <span class="id"><a href="SCSemLemmas.html#i_x">i_x</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span>: <span class="id">lang</span> := <span class="id"><a href="InteractionSemantics.html#ModSem.lang">ModSem.lang</a></span> <span class="id">Mod</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span>: <span class="id">Ge</span> := <span class="id"><a href="InteractionSemantics.html#ModSem.Ge">ModSem.Ge</a></span> <span class="id">Mod</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span>: <span class="id">fl</span> := <span class="id"><a href="GlobDefs.html#FLists.get_fl">FLists.get_fl</a></span> (<span class="id"><a href="GlobDefs.html#GlobEnv.freelists">GlobEnv.freelists</a></span> <span class="id"><a href="SCSemLemmas.html#GE">GE</a></span>) <span class="id"><a href="SCSemLemmas.html#F">F</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#star">star</a></span> (<span class="id"><a href="InteractionSemantics.html#step">step</a></span> <span class="id">lang</span> <span class="id">Ge</span> <span class="id">fl</span>) <span class="id"><a href="SCSemLemmas.html#c">c</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span> <span class="id"><a href="SCSemLemmas.html#fp">fp</a></span> <span class="id">c</span>' <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">tp</span>: @<span class="id"><a href="GlobDefs.html#ThreadPool.t">ThreadPool.t</a></span> <span class="id"><a href="SCSemLemmas.html#GE">GE</a></span>) <span class="id">i</span> <span class="id">sg</span> <span class="id">b</span> <span class="id">cs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#ThreadPool.get_cs">ThreadPool.get_cs</a></span> <span class="id"><a href="SCSemLemmas.html#tp">tp</a></span> <span class="id"><a href="SCSemLemmas.html#i">i</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> ((<span class="id"><a href="GlobDefs.html#Core.Build_t">Core.Build_t</a></span> <span class="id"><a href="SCSemLemmas.html#i_x">i_x</a></span> <span class="id"><a href="SCSemLemmas.html#c">c</a></span> <span class="id"><a href="SCSemLemmas.html#sg">sg</a></span> <span class="id"><a href="SCSemLemmas.html#F">F</a></span>)::<span class="id"><a href="SCSemLemmas.html#cs">cs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">tp</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> <span class="id"><a href="GlobSemantics.html#glob_step">glob_step</a></span> (<span class="id"><a href="GlobDefs.html#Build_ProgConfig">Build_ProgConfig</a></span> <span class="id"><a href="SCSemLemmas.html#GE">GE</a></span> <span class="id"><a href="SCSemLemmas.html#tp">tp</a></span> <span class="id"><a href="SCSemLemmas.html#i">i</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span> <span class="id"><a href="SCSemLemmas.html#b">b</a></span>) <span class="id"><a href="SCSemLemmas.html#fp">fp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="GlobDefs.html#Build_ProgConfig">Build_ProgConfig</a></span> <span class="id"><a href="SCSemLemmas.html#GE">GE</a></span> <span class="id">tp</span>' <span class="id"><a href="SCSemLemmas.html#i">i</a></span> <span class="id">m</span>' <span class="id"><a href="SCSemLemmas.html#b">b</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="GlobDefs.html#ThreadPool.update">ThreadPool.update</a></span> <span class="id"><a href="SCSemLemmas.html#tp">tp</a></span> <span class="id"><a href="SCSemLemmas.html#i">i</a></span> (<span class="id"><a href="GlobDefs.html#Core.Build_t">Core.Build_t</a></span> <span class="id"><a href="SCSemLemmas.html#i_x">i_x</a></span> <span class="id">c</span>' <span class="id"><a href="SCSemLemmas.html#sg">sg</a></span> <span class="id"><a href="SCSemLemmas.html#F">F</a></span>) <span class="id">tp</span>' \/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SCSemLemmas.html#m">m</a></span> = <span class="id">m</span>' /\ <span class="id"><a href="SCSemLemmas.html#c">c</a></span> = <span class="id">c</span>' /\ <span class="id"><a href="SCSemLemmas.html#tp">tp</a></span> = <span class="id">tp</span>' /\ <span class="id"><a href="SCSemLemmas.html#fp">fp</a></span> = <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9989')">Proof.</div>
<div class="proofscript" id="proof9989">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">intros</span> <span class="id">GE</span> <span class="id">i_x</span> <span class="id">F</span> <span class="id">c</span> <span class="id">m</span> <span class="id">fp</span> <span class="id">c</span>' <span class="id">m</span>' <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexists</span>; <span class="tactic">split</span>; [<span class="id">econstructor</span>|]; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="GDefLemmas.html#step_star_plus">GDefLemmas.step_star_plus</a></span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SCSemLemmas.html#core_plus_globstep_plus">core_plus_globstep_plus</a></span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H0</span> <span class="kwd">as</span> [<span class="id">tp</span>' [<span class="id">Hplus</span> <span class="id">Htp</span>'] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">tp</span>'. <span class="tactic">split</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="SCSemLemmas.html#tau_plus_tau_star">tau_plus_tau_star</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="range_perm_client_mem">range_perm_client_mem</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">size</span> <span class="id">p</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemory.html#Mem.range_perm">Mem.range_perm</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span> <span class="id"><a href="SCSemLemmas.html#b">b</a></span> <span class="id"><a href="SCSemLemmas.html#ofs">ofs</a></span> (<span class="id"><a href="SCSemLemmas.html#ofs">ofs</a></span> + <span class="id"><a href="SCSemLemmas.html#size">size</a></span>) <span class="id"><a href="Memperm.html#Cur">Memperm.Cur</a></span> <span class="id"><a href="SCSemLemmas.html#p">p</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span>' <span class="id">ofs</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemOpFP.html#range_locset">FMemOpFP.range_locset</a></span> <span class="id"><a href="SCSemLemmas.html#b">b</a></span> <span class="id"><a href="SCSemLemmas.html#ofs">ofs</a></span> <span class="id"><a href="SCSemLemmas.html#size">size</a></span> <span class="id">b</span>' <span class="id">ofs</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#client_mem">client_mem</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span>) <span class="id">b</span>' <span class="id">ofs</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9990')">Proof.</div>
<div class="proofscript" id="proof9990">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="FMemOpFP.html#range_locset_loc">FMemOpFP.range_locset_loc</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">destruct</span> <span class="id">H0</span>; <span class="tactic">subst</span> <span class="id">b</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#Mem.range_perm">Mem.range_perm</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">specialize</span> (<span class="id">H</span> <span class="id">ofs</span>').<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="RGRels.html#client_mem">client_mem</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#strip">strip</a></span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#Mem.perm">Mem.perm</a></span>, <span class="id">Mem.perm_order</span>' <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="FMemory.html#Mem.mem_access">Mem.mem_access</a></span> <span class="id">m</span>) !! <span class="id">b</span> <span class="id">ofs</span>' <span class="id"><a href="Memperm.html#Cur">Memperm.Cur</a></span>) <span class="id">eqn</span>:<span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="FMemory.html#Mem.access_max">Mem.access_max</a></span>. <span class="tactic">rewrite</span> <span class="id">A</span>. <span class="tactic">unfold</span> <span class="id">Mem.perm_order</span>''.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="FMemory.html#Mem.mem_access">Mem.mem_access</a></span> <span class="id">m</span>) !! <span class="id">b</span> <span class="id">ofs</span>' <span class="id"><a href="Memperm.html#Max">Memperm.Max</a></span>); [|<span class="id">contradiction</span>].<br/>
&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="tactic">split</span>; <span class="tactic">intro</span>; <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">exfalso</span>. <span class="tactic">apply</span> <span class="id">H</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="valid_access_client_mem">valid_access_client_mem</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">chunk</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">p</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemory.html#Mem.valid_access">Mem.valid_access</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span> <span class="id"><a href="SCSemLemmas.html#chunk">chunk</a></span> <span class="id"><a href="SCSemLemmas.html#b">b</a></span> <span class="id"><a href="SCSemLemmas.html#ofs">ofs</a></span> <span class="id"><a href="SCSemLemmas.html#p">p</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span>' <span class="id">ofs</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemOpFP.html#range_locset">FMemOpFP.range_locset</a></span> <span class="id"><a href="SCSemLemmas.html#b">b</a></span> <span class="id"><a href="SCSemLemmas.html#ofs">ofs</a></span> (<span class="id"><a href="Memdata.html#size_chunk">size_chunk</a></span> <span class="id"><a href="SCSemLemmas.html#chunk">chunk</a></span>) <span class="id">b</span>' <span class="id">ofs</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#client_mem">client_mem</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span>) <span class="id">b</span>' <span class="id">ofs</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9991')">Proof.</div>
<div class="proofscript" id="proof9991">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#Mem.valid_access">Mem.valid_access</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">m</span> <span class="id">chunk</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">p</span> [<span class="id">H</span> <span class="id">_</span>].<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="SCSemLemmas.html#range_perm_client_mem">range_perm_client_mem</a></span>.<br/>
Qed.</div>
&nbsp;&nbsp;<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loadv_loadv_fp_client_fp">loadv_loadv_fp_client_fp</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">chunk</span> <span class="id">m</span> <span class="id">v</span> <span class="id">v</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemory.html#Mem.loadv">Mem.loadv</a></span> <span class="id"><a href="SCSemLemmas.html#chunk">chunk</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span> <span class="id"><a href="SCSemLemmas.html#v">v</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#client_fp">client_fp</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span>) (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span>) (<span class="id"><a href="FMemOpFP.html#loadv_fp">FMemOpFP.loadv_fp</a></span> <span class="id"><a href="SCSemLemmas.html#chunk">chunk</a></span> <span class="id"><a href="SCSemLemmas.html#v">v</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9992')">Proof.</div>
<div class="proofscript" id="proof9992">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#Mem.loadv">Mem.loadv</a></span>, <span class="id"><a href="FMemOpFP.html#loadv_fp">FMemOpFP.loadv_fp</a></span>. <span class="tactic">destruct</span> <span class="id">v</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="FMemory.html#Mem.load_valid_access">Mem.load_valid_access</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemOpFP.html#load_fp">FMemOpFP.load_fp</a></span>. <br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="RGRels.html#client_valid_block_fp">client_valid_block_fp</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.locs">FP.locs</a></span>. <span class="id">Locs.unfolds</span>. <span class="tactic">simpl</span>. <span class="tactic">intros</span>. <span class="id">red_boolean_true</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="SCSemLemmas.html#valid_access_client_mem">valid_access_client_mem</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="storev_storev_fp_client_fp">storev_storev_fp_client_fp</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">chunk</span> <span class="id">m</span> <span class="id">v</span> <span class="id">v</span>' <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemory.html#Mem.storev">Mem.storev</a></span> <span class="id"><a href="SCSemLemmas.html#chunk">chunk</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span> <span class="id"><a href="SCSemLemmas.html#v">v</a></span> <span class="id">v</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#client_fp">client_fp</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span>) (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id">m</span>') (<span class="id"><a href="FMemOpFP.html#storev_fp">FMemOpFP.storev_fp</a></span> <span class="id"><a href="SCSemLemmas.html#chunk">chunk</a></span> <span class="id"><a href="SCSemLemmas.html#v">v</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9993')">Proof.</div>
<div class="proofscript" id="proof9993">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#Mem.storev">Mem.storev</a></span>, <span class="id"><a href="FMemOpFP.html#storev_fp">FMemOpFP.storev_fp</a></span>. <span class="tactic">destruct</span> <span class="id">v</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="FMemory.html#Mem.store_valid_access_3">Mem.store_valid_access_3</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemOpFP.html#store_fp">FMemOpFP.store_fp</a></span>. <span class="tactic">apply</span> <span class="id"><a href="RGRels.html#client_valid_block_fp">client_valid_block_fp</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.locs">FP.locs</a></span>. <span class="id">Locs.unfolds</span>. <span class="tactic">simpl</span>. <span class="tactic">intros</span>. <span class="id">red_boolean_true</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="SCSemLemmas.html#valid_access_client_mem">valid_access_client_mem</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="valid_pointer_client_mem">valid_pointer_client_mem</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span> <span class="id"><a href="SCSemLemmas.html#b">b</a></span> <span class="id"><a href="SCSemLemmas.html#ofs">ofs</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#client_mem">client_mem</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span>) <span class="id"><a href="SCSemLemmas.html#b">b</a></span> <span class="id"><a href="SCSemLemmas.html#ofs">ofs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9994')">Proof.</div>
<div class="proofscript" id="proof9994">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="FMemory.html#Mem.valid_pointer_nonempty_perm">Mem.valid_pointer_nonempty_perm</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="RGRels.html#client_mem">client_mem</a></span>, <span class="id"><a href="FMemory.html#Mem.perm">Mem.perm</a></span>, <span class="id">Mem.perm_order</span>', <span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="kwd">in</span> *; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="FMemory.html#Mem.mem_access">Mem.mem_access</a></span> <span class="id">m</span>) !! <span class="id">b</span> <span class="id">ofs</span> <span class="id"><a href="Memperm.html#Cur">Memperm.Cur</a></span>) <span class="id">eqn</span>:<span class="id">A</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="FMemory.html#Mem.mem_access">Mem.mem_access</a></span> <span class="id">m</span>) !! <span class="id">b</span> <span class="id">ofs</span> <span class="id"><a href="Memperm.html#Max">Memperm.Max</a></span>) <span class="id">eqn</span>:<span class="id">B</span>. <span class="tactic">split</span>; <span class="tactic">intro</span>; <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="FMemory.html#Mem.access_max">Mem.access_max</a></span>. <span class="tactic">rewrite</span> <span class="id">B</span>. <span class="tactic">unfold</span> <span class="id">Mem.perm_order</span>''. <span class="tactic">rewrite</span> <span class="id">A</span>. <span class="id">contradiction</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="valid_pointer_client_mem_range_locset">valid_pointer_client_mem_range_locset</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">b</span>' <span class="id">ofs</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span> <span class="id"><a href="SCSemLemmas.html#b">b</a></span> <span class="id"><a href="SCSemLemmas.html#ofs">ofs</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemOpFP.html#range_locset">FMemOpFP.range_locset</a></span> <span class="id"><a href="SCSemLemmas.html#b">b</a></span> <span class="id"><a href="SCSemLemmas.html#ofs">ofs</a></span> 1 <span class="id">b</span>' <span class="id">ofs</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#client_mem">client_mem</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span>) <span class="id">b</span>' <span class="id">ofs</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9995')">Proof.</div>
<div class="proofscript" id="proof9995">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="FMemOpFP.html#range_locset">FMemOpFP.range_locset</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Values.html#eq_block">eq_block</a></span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#zlt">zlt</a></span>, <span class="id"><a href="Coqlib.html#zle">zle</a></span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">ofs</span>' = <span class="id">ofs</span>) <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">subst</span>. <span class="tactic">clear</span> <span class="id">H0</span> <span class="id">l0</span> <span class="id">l</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span> <span class="kwd">using</span> <span class="id"><a href="SCSemLemmas.html#valid_pointer_client_mem">valid_pointer_client_mem</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="weak_valid_pointer_client_mem">weak_valid_pointer_client_mem</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">b</span>' <span class="id">ofs</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span> <span class="id"><a href="SCSemLemmas.html#b">b</a></span> <span class="id"><a href="SCSemLemmas.html#ofs">ofs</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.cmps">FP.cmps</a></span> (<span class="id"><a href="FMemOpFP.html#weak_valid_pointer_fp">FMemOpFP.weak_valid_pointer_fp</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span> <span class="id"><a href="SCSemLemmas.html#b">b</a></span> <span class="id"><a href="SCSemLemmas.html#ofs">ofs</a></span>) <span class="id">b</span>' <span class="id">ofs</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">ofs</span>'', <span class="id"><a href="RGRels.html#client_mem">client_mem</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span>) <span class="id">b</span>' <span class="id">ofs</span>''.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9996')">Proof.</div>
<div class="proofscript" id="proof9996">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span>, <span class="id"><a href="FMemOpFP.html#weak_valid_pointer_fp">FMemOpFP.weak_valid_pointer_fp</a></span>; <span class="tactic">simpl</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">red_boolean_true</span>. <span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="SCSemLemmas.html#valid_pointer_client_mem_range_locset">valid_pointer_client_mem_range_locset</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="FMemory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span>) <span class="id">eqn</span>:<span class="id">A</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="SCSemLemmas.html#valid_pointer_client_mem_range_locset">valid_pointer_client_mem_range_locset</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id">ofs</span> - 1). <span class="tactic">apply</span> <span class="id"><a href="FMemOpFP.html#range_locset_loc">FMemOpFP.range_locset_loc</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">destruct</span> <span class="id">H0</span>. <span class="tactic">subst</span>. <span class="tactic">auto</span> <span class="kwd">using</span> <span class="id"><a href="SCSemLemmas.html#valid_pointer_client_mem">valid_pointer_client_mem</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="valid_pointer_valid_pointer_fp_client_fp">valid_pointer_valid_pointer_fp_client_fp</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span> <span class="id"><a href="SCSemLemmas.html#b">b</a></span> <span class="id"><a href="SCSemLemmas.html#ofs">ofs</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#client_fp">client_fp</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span>) (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span>) (<span class="id"><a href="FMemOpFP.html#valid_pointer_fp">FMemOpFP.valid_pointer_fp</a></span> <span class="id"><a href="SCSemLemmas.html#b">b</a></span> <span class="id"><a href="SCSemLemmas.html#ofs">ofs</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9997')">Proof.</div>
<div class="proofscript" id="proof9997">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemOpFP.html#valid_pointer_fp">FMemOpFP.valid_pointer_fp</a></span>. <span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="RGRels.html#client_valid_block_fp">client_valid_block_fp</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.locs">FP.locs</a></span>. <span class="id">Locs.unfolds</span>. <span class="tactic">simpl</span>. <span class="tactic">intros</span>. <span class="id">red_boolean_true</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="SCSemLemmas.html#valid_pointer_client_mem_range_locset">valid_pointer_client_mem_range_locset</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="weak_valid_pointer_weak_valid_pointer_fp_client_fp">weak_valid_pointer_weak_valid_pointer_fp_client_fp</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span> <span class="id"><a href="SCSemLemmas.html#b">b</a></span> <span class="id"><a href="SCSemLemmas.html#ofs">ofs</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#client_fp">client_fp</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span>) (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span>) (<span class="id"><a href="FMemOpFP.html#weak_valid_pointer_fp">FMemOpFP.weak_valid_pointer_fp</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span> <span class="id"><a href="SCSemLemmas.html#b">b</a></span> <span class="id"><a href="SCSemLemmas.html#ofs">ofs</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9998')">Proof.</div>
<div class="proofscript" id="proof9998">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemOpFP.html#weak_valid_pointer_fp">FMemOpFP.weak_valid_pointer_fp</a></span>. <span class="tactic">intros</span>. <br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="FMemory.html#Mem.weak_valid_pointer_spec">Mem.weak_valid_pointer_spec</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [<span class="id">Hvalid</span>|<span class="id">Hvalid</span>'].<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Hvalid</span>. <span class="tactic">intros</span>. <span class="tactic">auto</span> <span class="kwd">using</span> <span class="id"><a href="SCSemLemmas.html#valid_pointer_valid_pointer_fp_client_fp">valid_pointer_valid_pointer_fp_client_fp</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="FMemory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span>) <span class="id">eqn</span>:<span class="id">A</span>. <span class="tactic">auto</span> <span class="kwd">using</span> <span class="id"><a href="SCSemLemmas.html#valid_pointer_valid_pointer_fp_client_fp">valid_pointer_valid_pointer_fp_client_fp</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="RGRels.html#client_valid_block_fp">client_valid_block_fp</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.locs">FP.locs</a></span>. <span class="id">Locs.unfolds</span>. <span class="tactic">simpl</span>. <span class="tactic">intros</span>. <span class="id">red_boolean_true</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="FMemOpFP.html#range_locset_loc">FMemOpFP.range_locset_loc</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">destruct</span> <span class="id">H0</span>. <span class="tactic">subst</span>. <span class="id">right</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="SCSemLemmas.html#valid_pointer_client_mem">valid_pointer_client_mem</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="alloc_client_or_unused">alloc_client_or_unused</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">lo</span> <span class="id">hi</span> <span class="id">m</span>' <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemory.html#Mem.alloc">Mem.alloc</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span> <span class="id"><a href="SCSemLemmas.html#lo">lo</a></span> <span class="id"><a href="SCSemLemmas.html#hi">hi</a></span> = (<span class="id">m</span>', <span class="id"><a href="SCSemLemmas.html#b">b</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ofs</span>, <span class="id"><a href="RGRels.html#client_mem">client_mem</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id">m</span>') <span class="id"><a href="SCSemLemmas.html#b">b</a></span> <span class="id"><a href="SCSemLemmas.html#ofs">ofs</a></span> \/ <span class="id"><a href="RGRels.html#unused_mem">unused_mem</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id">m</span>') <span class="id"><a href="SCSemLemmas.html#b">b</a></span> <span class="id"><a href="SCSemLemmas.html#ofs">ofs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9999')">Proof.</div>
<div class="proofscript" id="proof9999">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#zle">zle</a></span> <span class="id">lo</span> <span class="id">ofs</span>). <span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#zlt">zlt</a></span> <span class="id">ofs</span> <span class="id">hi</span>).<br/>
&nbsp;&nbsp;<span class="id">left</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="FMemory.html#Mem.perm_alloc_2">Mem.perm_alloc_2</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="id">instantiate</span> (1:= <span class="id"><a href="Memperm.html#Max">Memperm.Max</a></span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="FMemory.html#Mem.perm_alloc_2">Mem.perm_alloc_2</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="id">instantiate</span> (1:= <span class="id"><a href="Memperm.html#Cur">Memperm.Cur</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="RGRels.html#client_mem">client_mem</a></span>, <span class="id"><a href="FMemory.html#Mem.perm">Mem.perm</a></span>, <span class="id"><a href="FMemory.html#strip">strip</a></span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="FMemory.html#Mem.mem_access">Mem.mem_access</a></span> <span class="id">m</span>') !! <span class="id">b</span> <span class="id">ofs</span> <span class="id"><a href="Memperm.html#Cur">Memperm.Cur</a></span>);[|<span class="tactic">inversion</span> 1].<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="FMemory.html#Mem.mem_access">Mem.mem_access</a></span> <span class="id">m</span>') !! <span class="id">b</span> <span class="id">ofs</span> <span class="id"><a href="Memperm.html#Max">Memperm.Max</a></span>);[|<span class="tactic">inversion</span> 2].<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">split</span>; <span class="tactic">intro</span>; <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="RGRels.html#unused_mem">unused_mem</a></span>, <span class="id"><a href="FMemory.html#strip">strip</a></span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="FMemory.html#Mem.mem_access">Mem.mem_access</a></span> <span class="id">m</span>') !! <span class="id">b</span> <span class="id">ofs</span> <span class="id"><a href="Memperm.html#Max">Memperm.Max</a></span>) <span class="id">eqn</span>:<span class="id">C</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="FMemory.html#Mem.perm_alloc_3">Mem.perm_alloc_3</a></span>. <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#Mem.perm">Mem.perm</a></span>. <span class="tactic">rewrite</span> <span class="id">C</span>. <span class="tactic">apply</span> <span class="id"><a href="Memperm.html#perm_any_N">Memperm.perm_any_N</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="RGRels.html#unused_mem">unused_mem</a></span>, <span class="id"><a href="FMemory.html#strip">strip</a></span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="FMemory.html#Mem.mem_access">Mem.mem_access</a></span> <span class="id">m</span>') !! <span class="id">b</span> <span class="id">ofs</span> <span class="id"><a href="Memperm.html#Max">Memperm.Max</a></span>) <span class="id">eqn</span>:<span class="id">C</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="FMemory.html#Mem.perm_alloc_3">Mem.perm_alloc_3</a></span>. <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#Mem.perm">Mem.perm</a></span>. <span class="tactic">rewrite</span> <span class="id">C</span>. <span class="tactic">apply</span> <span class="id"><a href="Memperm.html#perm_any_N">Memperm.perm_any_N</a></span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="alloc_obj_mem_unchg">alloc_obj_mem_unchg</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">lo</span> <span class="id">hi</span> <span class="id">m</span>' <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemory.html#Mem.alloc">Mem.alloc</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span> <span class="id"><a href="SCSemLemmas.html#lo">lo</a></span> <span class="id"><a href="SCSemLemmas.html#hi">hi</a></span> = (<span class="id">m</span>', <span class="id"><a href="SCSemLemmas.html#b">b</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span>' <span class="id">ofs</span>', <span class="id"><a href="RGRels.html#obj_mem">obj_mem</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span>) <span class="id">b</span>' <span class="id">ofs</span>' &lt;-&gt; <span class="id"><a href="RGRels.html#obj_mem">obj_mem</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id">m</span>') <span class="id">b</span>' <span class="id">ofs</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof10000')">Proof.</div>
<div class="proofscript" id="proof10000">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#peq">peq</a></span> <span class="id">b</span> <span class="id">b</span>'). <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">intro</span>; <span class="id">exfalso</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="RGRels.html#obj_mem_valid">obj_mem_valid</a></span>; <span class="tactic">eauto</span>. <span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="FMemory.html#Mem.fresh_block_alloc">Mem.fresh_block_alloc</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>).<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#strip">strip</a></span>, <span class="id"><a href="GMemory.html#GMem.valid_block">GMem.valid_block</a></span>. <span class="tactic">simpl</span>. <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SCSemLemmas.html#alloc_client_or_unused">alloc_client_or_unused</a></span>; <span class="tactic">eauto</span>. <span class="id">instantiate</span> (1:= <span class="id">ofs</span>').<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="RGRels.html#obj_mem">obj_mem</a></span>, <span class="id"><a href="RGRels.html#client_mem">client_mem</a></span>, <span class="id"><a href="RGRels.html#unused_mem">unused_mem</a></span> <span class="kwd">in</span> *. <span class="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="FMemory.html#Mem.perm_alloc_4">Mem.perm_alloc_4</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>).<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="FMemory.html#Mem.perm_alloc_1">Mem.perm_alloc_1</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>).<br/>
&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">H0</span> <span class="id">b</span>' <span class="id">ofs</span>').<br/>
&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">H1</span> <span class="id">b</span>' <span class="id">ofs</span>').<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="RGRels.html#obj_mem">obj_mem</a></span>, <span class="id"><a href="FMemory.html#Mem.perm">Mem.perm</a></span> <span class="kwd">in</span> *. <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="FMemory.html#Mem.mem_access">Mem.mem_access</a></span> <span class="id">m</span>) !! <span class="id">b</span>' <span class="id">ofs</span>' <span class="id"><a href="Memperm.html#Max">Memperm.Max</a></span>) <span class="id">eqn</span>:<span class="id">A</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="FMemory.html#Mem.mem_access">Mem.mem_access</a></span> <span class="id">m</span>) !! <span class="id">b</span>' <span class="id">ofs</span>' <span class="id"><a href="Memperm.html#Cur">Memperm.Cur</a></span>) <span class="id">eqn</span>:<span class="id">B</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="FMemory.html#Mem.mem_access">Mem.mem_access</a></span> <span class="id">m</span>') !! <span class="id">b</span>' <span class="id">ofs</span>' <span class="id"><a href="Memperm.html#Max">Memperm.Max</a></span>) <span class="id">eqn</span>:<span class="id">C</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="FMemory.html#Mem.mem_access">Mem.mem_access</a></span> <span class="id">m</span>') !! <span class="id">b</span>' <span class="id">ofs</span>' <span class="id"><a href="Memperm.html#Cur">Memperm.Cur</a></span>) <span class="id">eqn</span>:<span class="id">D</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">clear</span>; <span class="tactic">split</span>; <span class="tactic">intros</span> [<span class="id">A</span> <span class="id">B</span>]; <span class="id">exfalso</span>; <span class="tactic">discriminate</span>; <span class="tactic">fail</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">clear</span>; <span class="tactic">split</span>; (<span class="tactic">intros</span> [<span class="id">A</span> <span class="id">B</span>]; <span class="tactic">split</span>; [<span class="tactic">discriminate</span> | <span class="tactic">auto</span>]); <span class="tactic">fail</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">clear</span>; <span class="tactic">tauto</span>; <span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> <span class="id">B</span>. <span class="tactic">apply</span> <span class="id"><a href="Memperm.html#perm_any_N">Memperm.perm_any_N</a></span>. <span class="tactic">rewrite</span> <span class="id">D</span>. <span class="tactic">inversion</span> 1.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> <span class="id">B</span>. <span class="tactic">apply</span> <span class="id"><a href="Memperm.html#perm_any_N">Memperm.perm_any_N</a></span>. <span class="tactic">rewrite</span> <span class="id">D</span>. <span class="tactic">inversion</span> 1.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id">D</span>. <span class="tactic">apply</span> <span class="id"><a href="Memperm.html#perm_any_N">Memperm.perm_any_N</a></span>. <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">B</span>. <span class="tactic">inversion</span> 1.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> <span class="id">A</span>. <span class="tactic">apply</span> <span class="id"><a href="Memperm.html#perm_any_N">Memperm.perm_any_N</a></span>. <span class="tactic">rewrite</span> <span class="id">C</span>. <span class="tactic">inversion</span> 1.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> <span class="id">A</span>. <span class="tactic">apply</span> <span class="id"><a href="Memperm.html#perm_any_N">Memperm.perm_any_N</a></span>. <span class="tactic">rewrite</span> <span class="id">C</span>. <span class="tactic">inversion</span> 1.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> <span class="id">B</span>. <span class="tactic">apply</span> <span class="id"><a href="Memperm.html#perm_any_N">Memperm.perm_any_N</a></span>. <span class="tactic">rewrite</span> <span class="id">D</span>. <span class="tactic">inversion</span> 1.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id">D</span>. <span class="tactic">apply</span> <span class="id"><a href="Memperm.html#perm_any_N">Memperm.perm_any_N</a></span>. <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">B</span>. <span class="tactic">inversion</span> 1.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id">C</span>. <span class="tactic">apply</span> <span class="id"><a href="Memperm.html#perm_any_N">Memperm.perm_any_N</a></span>. <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">A</span>. <span class="tactic">inversion</span> 1.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="alloc_clt_mem_unchg">alloc_clt_mem_unchg</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">lo</span> <span class="id">hi</span> <span class="id">m</span>' <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemory.html#Mem.alloc">Mem.alloc</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span> <span class="id"><a href="SCSemLemmas.html#lo">lo</a></span> <span class="id"><a href="SCSemLemmas.html#hi">hi</a></span> = (<span class="id">m</span>', <span class="id"><a href="SCSemLemmas.html#b">b</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span>' <span class="id">ofs</span>', <span class="id">b</span>' &lt;&gt; <span class="id"><a href="SCSemLemmas.html#b">b</a></span> -&gt; <span class="id"><a href="RGRels.html#client_mem">client_mem</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span>) <span class="id">b</span>' <span class="id">ofs</span>' &lt;-&gt; <span class="id"><a href="RGRels.html#client_mem">client_mem</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id">m</span>') <span class="id">b</span>' <span class="id">ofs</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof10001')">Proof.</div>
<div class="proofscript" id="proof10001">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="FMemory.html#Mem.perm_alloc_4">Mem.perm_alloc_4</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>).<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="FMemory.html#Mem.perm_alloc_1">Mem.perm_alloc_1</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>).<br/>
&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">H1</span> <span class="id">b</span>' <span class="id">ofs</span>').<br/>
&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">H2</span> <span class="id">b</span>' <span class="id">ofs</span>').<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="RGRels.html#client_mem">client_mem</a></span>, <span class="id"><a href="FMemory.html#Mem.perm">Mem.perm</a></span> <span class="kwd">in</span> *. <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="FMemory.html#Mem.mem_access">Mem.mem_access</a></span> <span class="id">m</span>) !! <span class="id">b</span>' <span class="id">ofs</span>' <span class="id"><a href="Memperm.html#Max">Memperm.Max</a></span>) <span class="id">eqn</span>:<span class="id">A</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="FMemory.html#Mem.mem_access">Mem.mem_access</a></span> <span class="id">m</span>) !! <span class="id">b</span>' <span class="id">ofs</span>' <span class="id"><a href="Memperm.html#Cur">Memperm.Cur</a></span>) <span class="id">eqn</span>:<span class="id">B</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="FMemory.html#Mem.mem_access">Mem.mem_access</a></span> <span class="id">m</span>') !! <span class="id">b</span>' <span class="id">ofs</span>' <span class="id"><a href="Memperm.html#Max">Memperm.Max</a></span>) <span class="id">eqn</span>:<span class="id">C</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="FMemory.html#Mem.mem_access">Mem.mem_access</a></span> <span class="id">m</span>') !! <span class="id">b</span>' <span class="id">ofs</span>' <span class="id"><a href="Memperm.html#Cur">Memperm.Cur</a></span>) <span class="id">eqn</span>:<span class="id">D</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">clear</span>; <span class="tactic">split</span>; <span class="tactic">intros</span> [<span class="id">A</span> <span class="id">B</span>]; <span class="id">exfalso</span>; <span class="tactic">discriminate</span>; <span class="tactic">fail</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">clear</span>; <span class="tactic">split</span>; (<span class="tactic">intros</span> [<span class="id">A</span> <span class="id">B</span>]; <span class="tactic">split</span>; [<span class="tactic">discriminate</span> | <span class="tactic">discriminate</span>]); <span class="tactic">fail</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">clear</span>; <span class="tactic">tauto</span>; <span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H2</span>. <span class="tactic">rewrite</span> <span class="id">B</span>. <span class="tactic">apply</span> <span class="id"><a href="Memperm.html#perm_any_N">Memperm.perm_any_N</a></span>. <span class="tactic">rewrite</span> <span class="id">D</span>. <span class="tactic">inversion</span> 1.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H2</span>. <span class="tactic">rewrite</span> <span class="id">A</span>. <span class="tactic">apply</span> <span class="id"><a href="Memperm.html#perm_any_N">Memperm.perm_any_N</a></span>. <span class="tactic">rewrite</span> <span class="id">C</span>. <span class="tactic">inversion</span> 1.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H2</span>. <span class="tactic">rewrite</span> <span class="id">A</span>. <span class="tactic">apply</span> <span class="id"><a href="Memperm.html#perm_any_N">Memperm.perm_any_N</a></span>. <span class="tactic">rewrite</span> <span class="id">C</span>. <span class="tactic">inversion</span> 1.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> <span class="id">D</span>. <span class="tactic">apply</span> <span class="id"><a href="Memperm.html#perm_any_N">Memperm.perm_any_N</a></span>. <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">B</span>. <span class="tactic">inversion</span> 1.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> <span class="id">C</span>. <span class="tactic">apply</span> <span class="id"><a href="Memperm.html#perm_any_N">Memperm.perm_any_N</a></span>. <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">A</span>. <span class="tactic">inversion</span> 1.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> <span class="id">C</span>. <span class="tactic">apply</span> <span class="id"><a href="Memperm.html#perm_any_N">Memperm.perm_any_N</a></span>. <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">A</span>. <span class="tactic">inversion</span> 1.          <br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="free_obj_mem_unchg">free_obj_mem_unchg</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">b</span> <span class="id">lo</span> <span class="id">hi</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemory.html#Mem.free">Mem.free</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span> <span class="id"><a href="SCSemLemmas.html#b">b</a></span> <span class="id"><a href="SCSemLemmas.html#lo">lo</a></span> <span class="id"><a href="SCSemLemmas.html#hi">hi</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span>' <span class="id">ofs</span>', <span class="id"><a href="RGRels.html#obj_mem">obj_mem</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span>) <span class="id">b</span>' <span class="id">ofs</span>' &lt;-&gt; <span class="id"><a href="RGRels.html#obj_mem">obj_mem</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id">m</span>') <span class="id">b</span>' <span class="id">ofs</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof10002')">Proof.</div>
<div class="proofscript" id="proof10002">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="RGRels.html#obj_mem">obj_mem</a></span>, <span class="id"><a href="FMemory.html#strip">strip</a></span>. <span class="tactic">simpl</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="FMemory.html#Mem.perm_free_inv">Mem.perm_free_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span> <span class="id">b</span>' <span class="id">ofs</span>') <span class="kwd">as</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="FMemory.html#Mem.perm_free_2">Mem.perm_free_2</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span> <span class="id">ofs</span>') <span class="kwd">as</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="FMemory.html#Mem.perm_free_3">Mem.perm_free_3</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span> <span class="id">b</span>' <span class="id">ofs</span>') <span class="kwd">as</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#Mem.perm">Mem.perm</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="FMemory.html#Mem.mem_access">Mem.mem_access</a></span> <span class="id">m</span> ) !! <span class="id">b</span>' <span class="id">ofs</span>' <span class="id"><a href="Memperm.html#Max">Memperm.Max</a></span>) <span class="id">eqn</span>:<span class="id">A</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="FMemory.html#Mem.mem_access">Mem.mem_access</a></span> <span class="id">m</span>) !! <span class="id">b</span>' <span class="id">ofs</span>' <span class="id"><a href="Memperm.html#Cur">Memperm.Cur</a></span>) <span class="id">eqn</span>:<span class="id">B</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="FMemory.html#Mem.mem_access">Mem.mem_access</a></span> <span class="id">m</span>') !! <span class="id">b</span>' <span class="id">ofs</span>' <span class="id"><a href="Memperm.html#Max">Memperm.Max</a></span>) <span class="id">eqn</span>:<span class="id">C</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="FMemory.html#Mem.mem_access">Mem.mem_access</a></span> <span class="id">m</span>') !! <span class="id">b</span>' <span class="id">ofs</span>' <span class="id"><a href="Memperm.html#Cur">Memperm.Cur</a></span>) <span class="id">eqn</span>:<span class="id">D</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">clear</span>; <span class="tactic">split</span>; <span class="tactic">intros</span> [<span class="id">A</span> <span class="id">B</span>]; <span class="id">exfalso</span>; <span class="tactic">congruence</span>; <span class="tactic">fail</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">clear</span>; <span class="tactic">split</span>; (<span class="tactic">intros</span> [<span class="id">A</span> <span class="id">B</span>]; <span class="tactic">split</span>; [<span class="tactic">discriminate</span> | <span class="tactic">auto</span>]); <span class="tactic">fail</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">clear</span>; <span class="tactic">tauto</span>; <span class="tactic">fail</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exfalso</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> <span class="id">B</span>. <span class="tactic">eapply</span> <span class="id"><a href="Memperm.html#perm_any_N">Memperm.perm_any_N</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [[<span class="id">E</span> <span class="id">F</span>]|<span class="id">E</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="tactic">subst</span> <span class="id">b</span>'; <span class="tactic">eapply</span> <span class="id">H2</span>; [<span class="tactic">intuition</span>|]; <span class="id">erewrite</span> <span class="id">C</span>; <span class="tactic">eapply</span> <span class="id"><a href="Memperm.html#perm_any_N">Memperm.perm_any_N</a></span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="tactic">rewrite</span> <span class="id">D</span> <span class="kwd">in</span> <span class="id">E</span>; <span class="id">inv</span> <span class="id">E</span>].<br/>
<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H3</span>. <span class="tactic">rewrite</span> <span class="id">D</span>. <span class="tactic">eapply</span> <span class="id"><a href="Memperm.html#perm_any_N">Memperm.perm_any_N</a></span>. <span class="tactic">rewrite</span> <span class="id">B</span>. <span class="tactic">inversion</span> 1.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H3</span>. <span class="tactic">rewrite</span> <span class="id">D</span>. <span class="tactic">eapply</span> <span class="id"><a href="Memperm.html#perm_any_N">Memperm.perm_any_N</a></span>. <span class="tactic">rewrite</span> <span class="id">B</span>. <span class="tactic">inversion</span> 1.<br/>
<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> <span class="id">A</span>. <span class="tactic">eapply</span> <span class="id"><a href="Memperm.html#perm_any_N">Memperm.perm_any_N</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [[<span class="id">E</span> <span class="id">F</span>]|<span class="id">E</span>]; [| <span class="tactic">rewrite</span> <span class="id">C</span> <span class="kwd">in</span> <span class="id">E</span>; <span class="id">inv</span> <span class="id">E</span>].<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">b</span>'. <span class="tactic">eapply</span> <span class="id"><a href="FMemory.html#Mem.free_range_perm">Mem.free_range_perm</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">apply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">F</span>. <span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#Mem.perm">Mem.perm</a></span> <span class="kwd">in</span> <span class="id">F</span>. <span class="tactic">rewrite</span> <span class="id">B</span> <span class="kwd">in</span> <span class="id">F</span>. <span class="id">inv</span> <span class="id">F</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H3</span>. <span class="tactic">rewrite</span> <span class="id">C</span>. <span class="tactic">eapply</span> <span class="id"><a href="Memperm.html#perm_any_N">Memperm.perm_any_N</a></span>. <span class="tactic">rewrite</span> <span class="id">A</span>. <span class="tactic">inversion</span> 1.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H3</span>. <span class="tactic">rewrite</span> <span class="id">C</span>. <span class="tactic">eapply</span> <span class="id"><a href="Memperm.html#perm_any_N">Memperm.perm_any_N</a></span>. <span class="tactic">rewrite</span> <span class="id">A</span>. <span class="tactic">inversion</span> 1.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">free_clt_mem</span>':<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">b</span> <span class="id">lo</span> <span class="id">hi</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemory.html#Mem.free">Mem.free</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span> <span class="id"><a href="SCSemLemmas.html#b">b</a></span> <span class="id"><a href="SCSemLemmas.html#lo">lo</a></span> <span class="id"><a href="SCSemLemmas.html#hi">hi</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span>' <span class="id">ofs</span>', <span class="id"><a href="RGRels.html#client_mem">client_mem</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id">m</span>') <span class="id">b</span>' <span class="id">ofs</span>' -&gt; <span class="id"><a href="RGRels.html#client_mem">client_mem</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span>) <span class="id">b</span>' <span class="id">ofs</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof10003')">Proof.</div>
<div class="proofscript" id="proof10003">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="RGRels.html#client_mem">client_mem</a></span>, <span class="id"><a href="FMemory.html#strip">strip</a></span>. <span class="tactic">simpl</span>. <span class="tactic">intros</span> <span class="id">m</span> <span class="id">b</span> <span class="id">lo</span> <span class="id">hi</span> <span class="id">m</span>' <span class="id">Hfree</span> <span class="id">b</span>' <span class="id">ofs</span>' [<span class="id">A</span>' <span class="id">B</span>'].<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="FMemory.html#Mem.perm_free_3">Mem.perm_free_3</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hfree</span> <span class="id">b</span>' <span class="id">ofs</span>') <span class="kwd">as</span> <span class="id">H</span>. <span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#Mem.perm">Mem.perm</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="FMemory.html#Mem.mem_access">Mem.mem_access</a></span> <span class="id">m</span> ) !! <span class="id">b</span>' <span class="id">ofs</span>' <span class="id"><a href="Memperm.html#Max">Memperm.Max</a></span>) <span class="id">eqn</span>:<span class="id">A</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="FMemory.html#Mem.mem_access">Mem.mem_access</a></span> <span class="id">m</span>) !! <span class="id">b</span>' <span class="id">ofs</span>' <span class="id"><a href="Memperm.html#Cur">Memperm.Cur</a></span>) <span class="id">eqn</span>:<span class="id">B</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="FMemory.html#Mem.mem_access">Mem.mem_access</a></span> <span class="id">m</span>') !! <span class="id">b</span>' <span class="id">ofs</span>' <span class="id"><a href="Memperm.html#Max">Memperm.Max</a></span>) <span class="id">eqn</span>:<span class="id">C</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="FMemory.html#Mem.mem_access">Mem.mem_access</a></span> <span class="id">m</span>') !! <span class="id">b</span>' <span class="id">ofs</span>' <span class="id"><a href="Memperm.html#Cur">Memperm.Cur</a></span>) <span class="id">eqn</span>:<span class="id">D</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">split</span>; <span class="tactic">intro</span>; <span class="tactic">congruence</span>; <span class="tactic">fail</span>); <span class="id">exfalso</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id">D</span>. <span class="tactic">eapply</span> <span class="id"><a href="Memperm.html#perm_any_N">Memperm.perm_any_N</a></span>. <span class="tactic">rewrite</span> <span class="id">B</span>. <span class="tactic">inversion</span> 1.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id">C</span>. <span class="tactic">eapply</span> <span class="id"><a href="Memperm.html#perm_any_N">Memperm.perm_any_N</a></span>. <span class="tactic">rewrite</span> <span class="id">A</span>. <span class="tactic">inversion</span> 1.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id">D</span>. <span class="tactic">eapply</span> <span class="id"><a href="Memperm.html#perm_any_N">Memperm.perm_any_N</a></span>. <span class="tactic">rewrite</span> <span class="id">B</span>. <span class="tactic">inversion</span> 1.<br/>
Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="exec_load_client_fp_obj_unchg">exec_load_client_fp_obj_unchg</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">chunk</span> <span class="id">m</span> <span class="id">a</span> <span class="id">rs</span> <span class="id">r</span> <span class="id">rs</span>' <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#sep_obj_client_block">sep_obj_client_block</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmLang.html#exec_load">exec_load</a></span> <span class="id"><a href="SCSemLemmas.html#ge">ge</a></span> <span class="id"><a href="SCSemLemmas.html#chunk">chunk</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span> <span class="id"><a href="SCSemLemmas.html#a">a</a></span> <span class="id"><a href="SCSemLemmas.html#rs">rs</a></span> <span class="id"><a href="SCSemLemmas.html#r">r</a></span> = <span class="id"><a href="AsmLang.html#Next">AsmLang.Next</a></span> <span class="id">rs</span>' <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#client_fp">client_fp</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span>) (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id">m</span>') (<span class="id"><a href="AsmLang.html#exec_load_fp">exec_load_fp</a></span> <span class="id"><a href="SCSemLemmas.html#ge">ge</a></span> <span class="id"><a href="SCSemLemmas.html#chunk">chunk</a></span> <span class="id"><a href="SCSemLemmas.html#a">a</a></span> <span class="id"><a href="SCSemLemmas.html#rs">rs</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span>, <span class="id"><a href="RGRels.html#obj_mem">obj_mem</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span>) <span class="id"><a href="SCSemLemmas.html#b">b</a></span> <span class="id"><a href="SCSemLemmas.html#ofs">ofs</a></span> &lt;-&gt; <span class="id"><a href="RGRels.html#obj_mem">obj_mem</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id">m</span>') <span class="id"><a href="SCSemLemmas.html#b">b</a></span> <span class="id"><a href="SCSemLemmas.html#ofs">ofs</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#sep_obj_client_block">sep_obj_client_block</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id">m</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof10004')">Proof.</div>
<div class="proofscript" id="proof10004">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="AsmLang.html#exec_load">exec_load</a></span>, <span class="id"><a href="AsmLang.html#exec_load_fp">exec_load_fp</a></span>. <span class="tactic">intros</span>. <br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="FMemory.html#Mem.loadv">Mem.loadv</a></span> <span class="id">chunk</span> <span class="id">m</span> (<span class="id"><a href="ASM_local.html#eval_addrmode">eval_addrmode</a></span> <span class="id">ge</span> <span class="id">a</span> <span class="id">rs</span>)) <span class="id">eqn</span>:<span class="id">A</span>; <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>; [|<span class="tactic">tauto</span>].<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SCSemLemmas.html#loadv_loadv_fp_client_fp">loadv_loadv_fp_client_fp</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="exec_store_client_fp_obj_unchg">exec_store_client_fp_obj_unchg</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">chunk</span> <span class="id">m</span> <span class="id">a</span> <span class="id">rs</span> <span class="id">r</span> <span class="id">lr</span> <span class="id">rs</span>' <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#sep_obj_client_block">sep_obj_client_block</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmLang.html#exec_store">exec_store</a></span> <span class="id"><a href="SCSemLemmas.html#ge">ge</a></span> <span class="id"><a href="SCSemLemmas.html#chunk">chunk</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span> <span class="id"><a href="SCSemLemmas.html#a">a</a></span> <span class="id"><a href="SCSemLemmas.html#rs">rs</a></span> <span class="id"><a href="SCSemLemmas.html#r">r</a></span> <span class="id"><a href="SCSemLemmas.html#lr">lr</a></span> = <span class="id"><a href="AsmLang.html#Next">AsmLang.Next</a></span> <span class="id">rs</span>' <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#client_fp">client_fp</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span>) (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id">m</span>') (<span class="id"><a href="AsmLang.html#exec_store_fp">exec_store_fp</a></span> <span class="id"><a href="SCSemLemmas.html#ge">ge</a></span> <span class="id"><a href="SCSemLemmas.html#chunk">chunk</a></span> <span class="id"><a href="SCSemLemmas.html#a">a</a></span> <span class="id"><a href="SCSemLemmas.html#rs">rs</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span>, <span class="id"><a href="RGRels.html#obj_mem">obj_mem</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span>) <span class="id"><a href="SCSemLemmas.html#b">b</a></span> <span class="id"><a href="SCSemLemmas.html#ofs">ofs</a></span> &lt;-&gt; <span class="id"><a href="RGRels.html#obj_mem">obj_mem</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id">m</span>') <span class="id"><a href="SCSemLemmas.html#b">b</a></span> <span class="id"><a href="SCSemLemmas.html#ofs">ofs</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#sep_obj_client_block">sep_obj_client_block</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id">m</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof10005')">Proof.</div>
<div class="proofscript" id="proof10005">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="AsmLang.html#exec_store">exec_store</a></span>, <span class="id"><a href="AsmLang.html#exec_store_fp">exec_store_fp</a></span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="FMemory.html#Mem.storev">Mem.storev</a></span> <span class="id">chunk</span> <span class="id">m</span> (<span class="id"><a href="ASM_local.html#eval_addrmode">eval_addrmode</a></span> <span class="id">ge</span> <span class="id">a</span> <span class="id">rs</span>)) <span class="id">eqn</span>:<span class="id">A</span>; <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="SCSemLemmas.html#storev_storev_fp_client_fp">storev_storev_fp_client_fp</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="RGRels.html#sep_obj_client_block">sep_obj_client_block</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="RGRels.html#obj_mem">obj_mem</a></span>, <span class="id"><a href="RGRels.html#client_mem">client_mem</a></span> <span class="kwd">in</span> *. <span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="kwd">in</span> *; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#Mem.storev">Mem.storev</a></span> <span class="kwd">in</span> *. <span class="tactic">destruct</span> (<span class="id"><a href="ASM_local.html#eval_addrmode">eval_addrmode</a></span> <span class="id">ge</span> <span class="id">a</span> <span class="id">rs</span>); <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> (<span class="id"><a href="FMemory.html#Mem.store_access">Mem.store_access</a></span> <span class="id">chunk</span> <span class="id">m</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">m</span>'); <span class="tactic">eauto</span>. <span class="tactic">tauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="check_true_compare_ints_client_fp">check_true_compare_ints_client_fp</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">v1</span> <span class="id">v2</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#sep_obj_client_block">sep_obj_client_block</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmLang.html#check_compare_ints">check_compare_ints</a></span> <span class="id"><a href="SCSemLemmas.html#v1">v1</a></span> <span class="id"><a href="SCSemLemmas.html#v2">v2</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#client_fp">client_fp</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span>) (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span>) (<span class="id"><a href="AsmLang.html#compare_ints_fp">compare_ints_fp</a></span> <span class="id"><a href="SCSemLemmas.html#v1">v1</a></span> <span class="id"><a href="SCSemLemmas.html#v2">v2</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof10006')">Proof.</div>
<div class="proofscript" id="proof10006">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="AsmLang.html#check_compare_ints">check_compare_ints</a></span>, <span class="id"><a href="AsmLang.html#compare_ints_fp">compare_ints_fp</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v1</span>; <span class="tactic">simpl</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Footprint.html#FP.emp_union_fp">FP.emp_union_fp</a></span>, <span class="id"><a href="RGRels.html#client_emp_fp">client_emp_fp</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v2</span>; <span class="tactic">simpl</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Footprint.html#FP.emp_union_fp">FP.emp_union_fp</a></span>, <span class="id"><a href="RGRels.html#client_emp_fp">client_emp_fp</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span>; <span class="tactic">simpl</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;{ <span class="tactic">destruct</span> <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Footprint.html#FP.emp_union_fp">FP.emp_union_fp</a></span>, <span class="id"><a href="RGRels.html#client_emp_fp">client_emp_fp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fold</span> (<span class="id"><a href="FMemory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id">m</span> <span class="id">b</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">i0</span>)) <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="FMemory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id">m</span> <span class="id">b</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">i0</span>)) <span class="id">eqn</span>:<span class="id">A</span>; [|<span class="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span> <span class="kwd">using</span> <span class="id"><a href="SCSemLemmas.html#weak_valid_pointer_weak_valid_pointer_fp_client_fp">weak_valid_pointer_weak_valid_pointer_fp_client_fp</a></span>. }<br/>
&nbsp;&nbsp;{ <span class="tactic">destruct</span> <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Footprint.html#FP.emp_union_fp">FP.emp_union_fp</a></span>, <span class="id"><a href="RGRels.html#client_emp_fp">client_emp_fp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fold</span> (<span class="id"><a href="FMemory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id">m</span> <span class="id">b</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">i</span>)) <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="FMemory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id">m</span> <span class="id">b</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">i</span>)) <span class="id">eqn</span>:<span class="id">A</span>; [|<span class="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span> <span class="kwd">using</span> <span class="id"><a href="SCSemLemmas.html#weak_valid_pointer_weak_valid_pointer_fp_client_fp">weak_valid_pointer_weak_valid_pointer_fp_client_fp</a></span>. }<br/>
&nbsp;&nbsp;{ <span class="tactic">destruct</span> <span class="id"><a href="Values.html#eq_block">eq_block</a></span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fold</span> (<span class="id"><a href="FMemory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id">m</span> <span class="id">b0</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">i</span>)) <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fold</span> (<span class="id"><a href="FMemory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id">m</span> <span class="id">b0</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">i0</span>)) <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="FMemory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id">m</span> <span class="id">b0</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">i</span>)) <span class="id">eqn</span>:<span class="id">A</span>; [|<span class="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="FMemory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id">m</span> <span class="id">b0</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">i0</span>)) <span class="id">eqn</span>:<span class="id">B</span>; [|<span class="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="RGRels.html#client_valid_block_fp">client_valid_block_fp</a></span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.locs">FP.locs</a></span>; <span class="tactic">simpl</span>. <span class="id">Locs.unfolds</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="id">red_boolean_true</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="Footprint.html#FP.reads">FP.reads</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemOpFP.html#weak_valid_pointer_fp">FMemOpFP.weak_valid_pointer_fp</a></span> <span class="kwd">in</span> <span class="id">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="FMemory.html#Mem.valid_pointer">Mem.valid_pointer</a></span>; <span class="id">inv</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="Footprint.html#FP.writes">FP.writes</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemOpFP.html#weak_valid_pointer_fp">FMemOpFP.weak_valid_pointer_fp</a></span> <span class="kwd">in</span> <span class="id">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="FMemory.html#Mem.valid_pointer">Mem.valid_pointer</a></span>; <span class="id">inv</span> <span class="id">H</span>            <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="Footprint.html#FP.frees">FP.frees</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemOpFP.html#weak_valid_pointer_fp">FMemOpFP.weak_valid_pointer_fp</a></span> <span class="kwd">in</span> <span class="id">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="FMemory.html#Mem.valid_pointer">Mem.valid_pointer</a></span>; <span class="id">inv</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="SCSemLemmas.html#weak_valid_pointer_client_mem">weak_valid_pointer_client_mem</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="RGRels.html#client_valid_block_fp">client_valid_block_fp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.locs">FP.locs</a></span>; <span class="tactic">simpl</span>. <span class="id">Locs.unfolds</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="FMemory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id">m</span> <span class="id">b</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">i</span>)) <span class="id">eqn</span>:<span class="id">A</span>; [|<span class="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="FMemory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id">m</span> <span class="id">b0</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">i0</span>)) <span class="id">eqn</span>:<span class="id">B</span>; [|<span class="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="id">red_boolean_true</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="SCSemLemmas.html#valid_pointer_client_mem_range_locset">valid_pointer_client_mem_range_locset</a></span>.<br/>
&nbsp;&nbsp;}<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="test_compare_ints_client_fp">test_compare_ints_client_fp</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">v1</span> <span class="id">v2</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#client_fp">client_fp</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span>) (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span>) (<span class="id"><a href="AsmLang.html#compare_ints_fp">compare_ints_fp</a></span> (<span class="id"><a href="Values.html#Val.and">Val.and</a></span> <span class="id"><a href="SCSemLemmas.html#v1">v1</a></span> <span class="id"><a href="SCSemLemmas.html#v2">v2</a></span>) <span class="id"><a href="Values.html#Vzero">Vzero</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof10007')">Proof.</div>
<div class="proofscript" id="proof10007">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">destruct</span> <span class="id">v1</span>, <span class="id">v2</span>; <span class="tactic">unfold</span> <span class="id"><a href="AsmLang.html#compare_ints_fp">compare_ints_fp</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.emp_union_fp">FP.emp_union_fp</a></span>; <span class="tactic">auto</span> <span class="kwd">using</span> <span class="id"><a href="RGRels.html#client_emp_fp">client_emp_fp</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="compare_longs_client_fp">compare_longs_client_fp</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">v1</span> <span class="id">v2</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#client_fp">client_fp</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span>) (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span>) (<span class="id"><a href="AsmLang.html#compare_longs_fp">compare_longs_fp</a></span> <span class="id"><a href="SCSemLemmas.html#v1">v1</a></span> <span class="id"><a href="SCSemLemmas.html#v2">v2</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof10008')">Proof.</div>
<div class="proofscript" id="proof10008">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">destruct</span> <span class="id">v1</span>, <span class="id">v2</span>; <span class="tactic">unfold</span> <span class="id"><a href="AsmLang.html#compare_longs_fp">compare_longs_fp</a></span>; <span class="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.emp_union_fp">FP.emp_union_fp</a></span>; <span class="tactic">auto</span> <span class="kwd">using</span> <span class="id"><a href="RGRels.html#client_emp_fp">client_emp_fp</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fp_locs_fp_union_locs_union_fp_locs">fp_locs_fp_union_locs_union_fp_locs</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp1</span> <span class="id">fp2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.locs">FP.locs</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="SCSemLemmas.html#fp1">fp1</a></span> <span class="id"><a href="SCSemLemmas.html#fp2">fp2</a></span>) = <span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> (<span class="id"><a href="Footprint.html#FP.locs">FP.locs</a></span> <span class="id"><a href="SCSemLemmas.html#fp1">fp1</a></span>) (<span class="id"><a href="Footprint.html#FP.locs">FP.locs</a></span> <span class="id"><a href="SCSemLemmas.html#fp2">fp2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof10009')">Proof.</div>
<div class="proofscript" id="proof10009">
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">fp1</span>, <span class="id">fp2</span>. <span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.locs">FP.locs</a></span>. <span class="tactic">simpl</span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Footprint.html#Locs.union_assoc_eq">Locs.union_assoc_eq</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">do</span> 2 (<span class="tactic">apply</span> <span class="id"><a href="Axioms.html#functional_extensionality">functional_extensionality</a></span>; <span class="tactic">intro</span>). <span class="id">Locs.unfolds</span>. <br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- ?<span class="id">a</span> || ?<span class="id">b</span> = <span class="id">_</span> =&gt; <span class="tactic">destruct</span> <span class="id">a</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">bool</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id">_</span> = ?<span class="id">a</span> || ?<span class="id">b</span> =&gt; <span class="tactic">destruct</span> <span class="id">a</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">bool</span>                                                            <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_builtin_arg_fp_client_mem">eval_builtin_arg_fp_client_mem</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">rs</span> <span class="id">v</span> <span class="id">m</span> <span class="id">a</span> <span class="id">b</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmLang.html#eval_builtin_arg">eval_builtin_arg</a></span> <span class="id"><a href="SCSemLemmas.html#ge">ge</a></span> <span class="id"><a href="SCSemLemmas.html#rs">rs</a></span> <span class="id"><a href="SCSemLemmas.html#v">v</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span> <span class="id"><a href="SCSemLemmas.html#a">a</a></span> <span class="id"><a href="SCSemLemmas.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="MemOpFP.html#eval_builtin_arg_fp">MemOpFP.eval_builtin_arg_fp</a></span> <span class="id"><a href="Asm.html#preg">Asm.preg</a></span> <span class="id"><a href="SCSemLemmas.html#ge">ge</a></span> <span class="id"><a href="SCSemLemmas.html#rs">rs</a></span> <span class="id"><a href="SCSemLemmas.html#v">v</a></span> <span class="id"><a href="SCSemLemmas.html#a">a</a></span> <span class="id"><a href="SCSemLemmas.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span>' <span class="id">ofs</span>', <span class="id"><a href="Footprint.html#FP.locs">FP.locs</a></span> <span class="id"><a href="SCSemLemmas.html#fp">fp</a></span> <span class="id">b</span>' <span class="id">ofs</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="RGRels.html#client_mem">client_mem</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span>) <span class="id">b</span>' <span class="id">ofs</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof10010')">Proof.</div>
<div class="proofscript" id="proof10010">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">ge</span> <span class="id">rs</span> <span class="id">v</span> <span class="id">m</span> <span class="id">a</span>. <span class="tactic">induction</span> <span class="id">a</span>; <span class="tactic">intros</span>; <span class="id">inv</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H0</span>; <span class="tactic">try</span> (<span class="id">inv</span> <span class="id">H1</span>; <span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#Mem.loadv">Mem.loadv</a></span>, <span class="id"><a href="FMemOpFP.html#loadv_fp">FMemOpFP.loadv_fp</a></span> <span class="kwd">in</span> *. <span class="tactic">destruct</span> (<span class="id"><a href="Values.html#Val.offset_ptr">Val.offset_ptr</a></span> <span class="id">v</span> <span class="id">ofs</span>); <span class="id">inv</span> <span class="id">H5</span>. <br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemOpFP.html#load_fp">FMemOpFP.load_fp</a></span>, <span class="id"><a href="Footprint.html#FP.locs">FP.locs</a></span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="id">Locs.unfolds</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="id">red_boolean_true</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="FMemory.html#Mem.load_valid_access">Mem.load_valid_access</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">eapply</span> <span class="id"><a href="SCSemLemmas.html#valid_access_client_mem">valid_access_client_mem</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#Mem.loadv">Mem.loadv</a></span>, <span class="id"><a href="FMemOpFP.html#loadv_fp">FMemOpFP.loadv_fp</a></span> <span class="kwd">in</span> *. <span class="tactic">destruct</span> (<span class="id"><a href="Globalenvs.html#Senv.symbol_address">Senv.symbol_address</a></span> <span class="id">ge</span> <span class="id">id</span> <span class="id">ofs</span>); <span class="id">inv</span> <span class="id">H6</span>. <br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemOpFP.html#load_fp">FMemOpFP.load_fp</a></span>, <span class="id"><a href="Footprint.html#FP.locs">FP.locs</a></span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="id">Locs.unfolds</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="id">red_boolean_true</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="FMemory.html#Mem.load_valid_access">Mem.load_valid_access</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">eapply</span> <span class="id"><a href="SCSemLemmas.html#valid_access_client_mem">valid_access_client_mem</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="SCSemLemmas.html#fp_locs_fp_union_locs_union_fp_locs">fp_locs_fp_union_locs_union_fp_locs</a></span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="id">Locs.unfolds</span>. <span class="id">red_boolean_true</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="extcall_arg_fp_client_mem">extcall_arg_fp_client_mem</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rs</span> <span class="id">m</span> <span class="id">r</span> <span class="id">b</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmLang.html#extcall_arg">extcall_arg</a></span> <span class="id"><a href="SCSemLemmas.html#rs">rs</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span> <span class="id"><a href="SCSemLemmas.html#r">r</a></span> <span class="id"><a href="SCSemLemmas.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#extcall_arg_fp">extcall_arg_fp</a></span> <span class="id"><a href="SCSemLemmas.html#rs">rs</a></span> <span class="id"><a href="SCSemLemmas.html#r">r</a></span> <span class="id"><a href="SCSemLemmas.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span>' <span class="id">ofs</span>', <span class="id"><a href="Footprint.html#FP.locs">FP.locs</a></span> <span class="id"><a href="SCSemLemmas.html#fp">fp</a></span> <span class="id">b</span>' <span class="id">ofs</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="RGRels.html#client_mem">client_mem</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span>) <span class="id">b</span>' <span class="id">ofs</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof10011')">Proof.</div>
<div class="proofscript" id="proof10011">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H1</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#Mem.loadv">Mem.loadv</a></span>, <span class="id"><a href="FMemOpFP.html#loadv_fp">FMemOpFP.loadv_fp</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Values.html#Val.offset_ptr">Val.offset_ptr</a></span>; <span class="id">inv</span> <span class="id">H5</span>. <span class="tactic">apply</span> <span class="id"><a href="FMemory.html#Mem.load_valid_access">Mem.load_valid_access</a></span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemOpFP.html#load_fp">FMemOpFP.load_fp</a></span>, <span class="id"><a href="Footprint.html#FP.locs">FP.locs</a></span> <span class="kwd">in</span> *. <span class="id">Locs.unfolds</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">red_boolean_true</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="SCSemLemmas.html#valid_access_client_mem">valid_access_client_mem</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="store_args_fmem_mem_validblock_eq">store_args_fmem_mem_validblock_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">stk</span> <span class="id">args</span> <span class="id">tys</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="loadframe.html#store_args_fmem">loadframe.store_args_fmem</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span> <span class="id"><a href="SCSemLemmas.html#stk">stk</a></span> <span class="id"><a href="SCSemLemmas.html#args">args</a></span> <span class="id"><a href="SCSemLemmas.html#tys">tys</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemory.html#Mem.validblocks">Mem.validblocks</a></span> <span class="id">m</span>' = <span class="id"><a href="FMemory.html#Mem.validblocks">Mem.validblocks</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof10012')">Proof.</div>
<div class="proofscript" id="proof10012">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="loadframe.html#store_args_fmem">loadframe.store_args_fmem</a></span>. <span class="tactic">generalize</span> 0.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">z</span> <span class="id">m</span> <span class="id">stk</span> <span class="id">args</span> <span class="id">tys</span> <span class="id">m</span>'. <span class="id">revert</span> <span class="id">z</span> <span class="id">m</span> <span class="id">stk</span> <span class="id">args</span> <span class="id">m</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">tys</span>; <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">args</span>; <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">args</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">unfold</span> <span class="id"><a href="loadframe.html#store_stack_fmem">loadframe.store_stack_fmem</a></span>, <span class="id"><a href="FMemory.html#Mem.storev">Mem.storev</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id">context</span>[<span class="kwd">match</span> ?<span class="id">a</span> <span class="kwd">with</span> <span class="id">_</span> =&gt; <span class="id">_</span> <span class="kwd">end</span>] |- <span class="id">_</span> =&gt; <span class="tactic">destruct</span> <span class="id">a</span> <span class="id">eqn</span>:?; <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">auto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- (<span class="id"><a href="FMemory.html#Mem.store_validblocks">Mem.store_validblocks</a></span> <span class="id">_</span> <span class="id">m</span>). <span class="tactic">eapply</span> <span class="id">IHtys</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- (<span class="id"><a href="FMemory.html#Mem.store_validblocks">Mem.store_validblocks</a></span> <span class="id">_</span> <span class="id">m</span>). <span class="tactic">eapply</span> <span class="id">IHtys</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- (<span class="id"><a href="FMemory.html#Mem.store_validblocks">Mem.store_validblocks</a></span> <span class="id">_</span> <span class="id">m</span>); [|<span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- (<span class="id"><a href="FMemory.html#Mem.store_validblocks">Mem.store_validblocks</a></span> <span class="id">_</span> <span class="id">m0</span>); [|<span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHtys</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- (<span class="id"><a href="FMemory.html#Mem.store_validblocks">Mem.store_validblocks</a></span> <span class="id">_</span> <span class="id">m</span>). <span class="tactic">eapply</span> <span class="id">IHtys</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- (<span class="id"><a href="FMemory.html#Mem.store_validblocks">Mem.store_validblocks</a></span> <span class="id">_</span> <span class="id">m</span>). <span class="tactic">eapply</span> <span class="id">IHtys</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- (<span class="id"><a href="FMemory.html#Mem.store_validblocks">Mem.store_validblocks</a></span> <span class="id">_</span> <span class="id">m</span>). <span class="tactic">eapply</span> <span class="id">IHtys</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="store_args_fmem_mem_access_eq">store_args_fmem_mem_access_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">stk</span> <span class="id">args</span> <span class="id">tys</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="loadframe.html#store_args_fmem">loadframe.store_args_fmem</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span> <span class="id"><a href="SCSemLemmas.html#stk">stk</a></span> <span class="id"><a href="SCSemLemmas.html#args">args</a></span> <span class="id"><a href="SCSemLemmas.html#tys">tys</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemory.html#Mem.mem_access">Mem.mem_access</a></span> <span class="id">m</span>' = <span class="id"><a href="FMemory.html#Mem.mem_access">Mem.mem_access</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof10013')">Proof.</div>
<div class="proofscript" id="proof10013">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="loadframe.html#store_args_fmem">loadframe.store_args_fmem</a></span>. <span class="tactic">generalize</span> 0.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">z</span> <span class="id">m</span> <span class="id">stk</span> <span class="id">args</span> <span class="id">tys</span> <span class="id">m</span>'. <span class="id">revert</span> <span class="id">z</span> <span class="id">m</span> <span class="id">stk</span> <span class="id">args</span> <span class="id">m</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">tys</span>; <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">args</span>; <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">args</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">unfold</span> <span class="id"><a href="loadframe.html#store_stack_fmem">loadframe.store_stack_fmem</a></span>, <span class="id"><a href="FMemory.html#Mem.storev">Mem.storev</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id">context</span>[<span class="kwd">match</span> ?<span class="id">a</span> <span class="kwd">with</span> <span class="id">_</span> =&gt; <span class="id">_</span> <span class="kwd">end</span>] |- <span class="id">_</span> =&gt; <span class="tactic">destruct</span> <span class="id">a</span> <span class="id">eqn</span>:?; <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">auto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- (<span class="id"><a href="FMemory.html#Mem.store_access">Mem.store_access</a></span> <span class="id">_</span> <span class="id">m</span>). <span class="tactic">eapply</span> <span class="id">IHtys</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- (<span class="id"><a href="FMemory.html#Mem.store_access">Mem.store_access</a></span> <span class="id">_</span> <span class="id">m</span>). <span class="tactic">eapply</span> <span class="id">IHtys</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <br/>
&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- (<span class="id"><a href="FMemory.html#Mem.store_access">Mem.store_access</a></span> <span class="id">_</span> <span class="id">m</span>); [|<span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- (<span class="id"><a href="FMemory.html#Mem.store_access">Mem.store_access</a></span> <span class="id">_</span> <span class="id">m0</span>); [|<span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHtys</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- (<span class="id"><a href="FMemory.html#Mem.store_access">Mem.store_access</a></span> <span class="id">_</span> <span class="id">m</span>). <span class="tactic">eapply</span> <span class="id">IHtys</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- (<span class="id"><a href="FMemory.html#Mem.store_access">Mem.store_access</a></span> <span class="id">_</span> <span class="id">m</span>). <span class="tactic">eapply</span> <span class="id">IHtys</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- (<span class="id"><a href="FMemory.html#Mem.store_access">Mem.store_access</a></span> <span class="id">_</span> <span class="id">m</span>). <span class="tactic">eapply</span> <span class="id">IHtys</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="AsmLang_step_client_fp">AsmLang_step_client_fp</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">Ge</span> <span class="id">fl</span> <span class="id">c</span> <span class="id">gm</span> <span class="id">fp</span> <span class="id">c</span>' <span class="id">gm</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#sep_obj_client_block">sep_obj_client_block</a></span> <span class="id"><a href="SCSemLemmas.html#gm">gm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#step">step</a></span> <span class="id"><a href="AsmLang.html#AsmLang">AsmLang</a></span> <span class="id"><a href="SCSemLemmas.html#Ge">Ge</a></span> <span class="id"><a href="SCSemLemmas.html#fl">fl</a></span> <span class="id"><a href="SCSemLemmas.html#c">c</a></span> <span class="id"><a href="SCSemLemmas.html#gm">gm</a></span> <span class="id"><a href="SCSemLemmas.html#fp">fp</a></span> <span class="id">c</span>' <span class="id">gm</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#client_fp">client_fp</a></span> <span class="id"><a href="SCSemLemmas.html#gm">gm</a></span> <span class="id">gm</span>' <span class="id"><a href="SCSemLemmas.html#fp">fp</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span>, <span class="id"><a href="RGRels.html#obj_mem">obj_mem</a></span> <span class="id"><a href="SCSemLemmas.html#gm">gm</a></span> <span class="id"><a href="SCSemLemmas.html#b">b</a></span> <span class="id"><a href="SCSemLemmas.html#ofs">ofs</a></span> &lt;-&gt; <span class="id"><a href="RGRels.html#obj_mem">obj_mem</a></span> <span class="id">gm</span>' <span class="id"><a href="SCSemLemmas.html#b">b</a></span> <span class="id"><a href="SCSemLemmas.html#ofs">ofs</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#sep_obj_client_block">sep_obj_client_block</a></span> <span class="id">gm</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof10014')">Proof.</div>
<div class="proofscript" id="proof10014">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">intros</span> <span class="id">Ge</span> <span class="id">fl</span> <span class="id">c</span> <span class="id">gm</span> <span class="id">fp</span> <span class="id">c</span>' <span class="id">gm</span>' <span class="id">Hsep</span> <span class="id">Hstep</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hstep</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;{ <span class="comment">(*&nbsp;exec_instr&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">Hsep</span> <span class="id">H2</span> <span class="id">H3</span>. <span class="tactic">clear</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">i</span>; <span class="tactic">simpl</span>; <span class="tactic">unfold</span> <span class="id"><a href="AsmLang.html#goto_label">goto_label</a></span>; <span class="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">discriminate</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="SCSemLemmas.html#exec_store_client_fp_obj_unchg">exec_store_client_fp_obj_unchg</a></span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SCSemLemmas.html#exec_load_client_fp_obj_unchg">exec_load_client_fp_obj_unchg</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="kwd">match</span> ?<span class="id">a</span> <span class="kwd">with</span> <span class="id">_</span> =&gt; <span class="id">_</span> <span class="kwd">end</span> = <span class="id"><a href="AsmLang.html#Next">AsmLang.Next</a></span> <span class="id">_</span> <span class="id">_</span> |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span> <span class="id">eqn</span>:?; <span class="id">inv</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="AsmLang.html#Next">AsmLang.Next</a></span> <span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="AsmLang.html#Next">AsmLang.Next</a></span> <span class="id">_</span> <span class="id">_</span> |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id"><a href="RGRels.html#client_fp">client_fp</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> /\ <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; [<span class="tactic">apply</span> <span class="id"><a href="RGRels.html#client_emp_fp">client_emp_fp</a></span>; <span class="tactic">auto</span>|<span class="tactic">tauto</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id"><a href="RGRels.html#client_fp">client_fp</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="AsmLang.html#compare_ints_fp">compare_ints_fp</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) /\ <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; [<span class="tactic">auto</span> <span class="kwd">using</span> <span class="id"><a href="SCSemLemmas.html#check_true_compare_ints_client_fp">check_true_compare_ints_client_fp</a></span>, <span class="id"><a href="SCSemLemmas.html#test_compare_ints_client_fp">test_compare_ints_client_fp</a></span>|<span class="tactic">tauto</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id"><a href="RGRels.html#client_fp">client_fp</a></span> <span class="id">_</span> <span class="id">_</span> (<span class="id"><a href="AsmLang.html#compare_longs_fp">compare_longs_fp</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) /\ <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; [<span class="tactic">auto</span> <span class="kwd">using</span> <span class="id"><a href="SCSemLemmas.html#compare_longs_client_fp">compare_longs_client_fp</a></span>|<span class="tactic">tauto</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
&nbsp;alloc&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="FMemory.html#Mem.fresh_block_alloc">Mem.fresh_block_alloc</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Heqp</span>) <span class="kwd">as</span> <span class="id">Hfresh</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="FMemory.html#Mem.valid_new_block">Mem.valid_new_block</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Heqp</span>) <span class="kwd">as</span> <span class="id">Hvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#strip">strip</a></span>, <span class="id"><a href="RGRels.html#obj_mem">obj_mem</a></span>, <span class="id"><a href="RGRels.html#client_mem">client_mem</a></span>, <span class="id"><a href="RGRels.html#unused_mem">unused_mem</a></span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="RGRels.html#client_alloc_fp">client_alloc_fp</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="GMemory.html#GMem.valid_block">GMem.valid_block</a></span>, <span class="id"><a href="RGRels.html#client_mem">client_mem</a></span>, <span class="id"><a href="RGRels.html#unused_mem">unused_mem</a></span>. <span class="tactic">simpl</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.locs">FP.locs</a></span>. <span class="id">Locs.unfolds</span>. <span class="tactic">simpl</span>. <span class="tactic">intros</span>. <span class="id">red_boolean_true</span>.<br/>
&nbsp;store&nbsp;cases&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#Locs.emp_union_locs">Locs.emp_union_locs</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">Locs.unfolds</span>. <span class="id">red_boolean_true</span>.<br/>
&nbsp;store&nbsp;ofs_link&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="FMemOpFP.html#range_locset_loc">FMemOpFP.range_locset_loc</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> <span class="id">H</span>. <span class="tactic">subst</span> <span class="id">b0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">auto</span>. <span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="FMemory.html#Mem.store_valid_block_1">Mem.store_valid_block_1</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="FMemory.html#Mem.store_valid_block_1">Mem.store_valid_block_1</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="FMemory.html#Mem.store_access">Mem.store_access</a></span>; <span class="tactic">eauto</span>. <span class="id">erewrite</span> <span class="id"><a href="FMemory.html#Mem.store_access">Mem.store_access</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SCSemLemmas.html#alloc_client_or_unused">alloc_client_or_unused</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;store&nbsp;ofs_ra&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="FMemOpFP.html#range_locset_loc">FMemOpFP.range_locset_loc</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> <span class="id">H</span>. <span class="tactic">subst</span> <span class="id">b0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">auto</span>. <span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="FMemory.html#Mem.store_valid_block_1">Mem.store_valid_block_1</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="FMemory.html#Mem.store_valid_block_1">Mem.store_valid_block_1</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="FMemory.html#Mem.store_access">Mem.store_access</a></span>; <span class="tactic">eauto</span>. <span class="id">erewrite</span> <span class="id"><a href="FMemory.html#Mem.store_access">Mem.store_access</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SCSemLemmas.html#alloc_client_or_unused">alloc_client_or_unused</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;alloc&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#Locs.locs_union_emp">Locs.locs_union_emp</a></span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#peq">peq</a></span>; [|<span class="tactic">discriminate</span>]; <span class="tactic">subst</span> <span class="id">b0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="FMemory.html#Mem.alloc_result">Mem.alloc_result</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span>. <span class="tactic">subst</span> <span class="id">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">auto</span>. <span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="FMemory.html#Mem.store_valid_block_1">Mem.store_valid_block_1</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="FMemory.html#Mem.store_valid_block_1">Mem.store_valid_block_1</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="FMemory.html#Mem.store_access">Mem.store_access</a></span>; <span class="tactic">eauto</span>. <span class="id">erewrite</span> <span class="id"><a href="FMemory.html#Mem.store_access">Mem.store_access</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SCSemLemmas.html#alloc_client_or_unused">alloc_client_or_unused</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">split</span>. <span class="tactic">intros</span> <span class="id">b</span>' <span class="id">ofs</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> (<span class="id"><a href="FMemory.html#Mem.store_access">Mem.store_access</a></span> <span class="id">_</span> <span class="id">m1</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">m</span>'); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> (<span class="id"><a href="FMemory.html#Mem.store_access">Mem.store_access</a></span> <span class="id">_</span> <span class="id">m0</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">m1</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SCSemLemmas.html#alloc_obj_mem_unchg">alloc_obj_mem_unchg</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="RGRels.html#sep_obj_client_block">sep_obj_client_block</a></span>. <span class="tactic">intros</span> <span class="id">b</span>' <span class="id">ofs1</span> <span class="id">ofs2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="RGRels.html#obj_mem">obj_mem</a></span>, <span class="id"><a href="RGRels.html#client_mem">client_mem</a></span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="FMemory.html#Mem.store_access">Mem.store_access</a></span>; <span class="tactic">eauto</span>. <span class="id">erewrite</span> <span class="id"><a href="FMemory.html#Mem.store_access">Mem.store_access</a></span>; <span class="tactic">eauto</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SCSemLemmas.html#alloc_obj_mem_unchg">alloc_obj_mem_unchg</a></span>. <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#strip">strip</a></span>, <span class="id"><a href="RGRels.html#obj_mem">obj_mem</a></span>, <span class="id"><a href="RGRels.html#client_mem">client_mem</a></span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">A</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">A</span>. <span class="tactic">clear</span> <span class="id">A</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">b</span>' &lt;&gt; <span class="id">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">intro</span>. <span class="tactic">subst</span>. <span class="tactic">destruct</span> <span class="id">H</span>. <span class="tactic">apply</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="FMemory.html#Mem.fresh_block_alloc">Mem.fresh_block_alloc</a></span>; <span class="tactic">eauto</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exfalso</span>. <span class="tactic">apply</span> <span class="id">H</span>. <span class="tactic">apply</span> <span class="id"><a href="FMemory.html#Mem.invalid_noaccess">Mem.invalid_noaccess</a></span>. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SCSemLemmas.html#alloc_clt_mem_unchg">alloc_clt_mem_unchg</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#strip">strip</a></span>, <span class="id"><a href="RGRels.html#client_mem">client_mem</a></span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">A</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">A</span>. <span class="tactic">clear</span> <span class="id">A</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Hsep</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;free&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="RGRels.html#client_valid_block_fp">client_valid_block_fp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#strip">strip</a></span>, <span class="id"><a href="RGRels.html#obj_mem">obj_mem</a></span>, <span class="id"><a href="RGRels.html#client_mem">client_mem</a></span>, <span class="id"><a href="RGRels.html#unused_mem">unused_mem</a></span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.locs">FP.locs</a></span>. <span class="id">Locs.unfolds</span>. <span class="tactic">simpl</span>. <span class="id">Locs.unfolds</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="FMemory.html#Mem.load_valid_access">Mem.load_valid_access</a></span> <span class="kwd">in</span> <span class="id">Heqo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="FMemory.html#Mem.load_valid_access">Mem.load_valid_access</a></span> <span class="kwd">in</span> <span class="id">Heqo0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="FMemory.html#Mem.free_range_perm">Mem.free_range_perm</a></span> <span class="kwd">in</span> <span class="id">Heqo1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">red_boolean_true</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">left</span>. <span class="tactic">eapply</span> <span class="id"><a href="SCSemLemmas.html#valid_access_client_mem">valid_access_client_mem</a></span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="RGRels.html#client_mem">client_mem</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">left</span>. <span class="tactic">eapply</span> <span class="id"><a href="SCSemLemmas.html#valid_access_client_mem">valid_access_client_mem</a></span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="RGRels.html#client_mem">client_mem</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">left</span>. <span class="tactic">eapply</span> <span class="id"><a href="SCSemLemmas.html#range_perm_client_mem">range_perm_client_mem</a></span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="RGRels.html#client_mem">client_mem</a></span>, <span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.sub_0_r">Z.sub_0_r</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_0_l">Z.add_0_l</a></span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SCSemLemmas.html#free_obj_mem_unchg">free_obj_mem_unchg</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="RGRels.html#sep_obj_client_block">sep_obj_client_block</a></span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- <span class="id"><a href="SCSemLemmas.html#free_obj_mem_unchg">free_obj_mem_unchg</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">free_clt_mem</span>' <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{ <span class="comment">(*&nbsp;built-in&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; [|<span class="tactic">tauto</span>]. <span class="tactic">apply</span> <span class="id"><a href="RGRels.html#client_valid_block_fp">client_valid_block_fp</a></span>. <span class="id">revert</span> <span class="id">H4</span> <span class="id">H5</span>. <span class="tactic">clear</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id">rs</span> (<span class="id"><a href="Asm.html#IR">Asm.IR</a></span> <span class="id"><a href="Asm.html#RSP">Asm.RSP</a></span>)) <span class="id">m</span>' <span class="id">vargs</span> <span class="id">fp</span>. <span class="tactic">clear</span>. <span class="tactic">induction</span> <span class="id">args</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H5</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">v</span> <span class="id">m</span>' <span class="id">vargs</span> <span class="id">fp</span> <span class="id">Heval</span> <span class="id">Hevalfp</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Heval</span>. <span class="id">inv</span> <span class="id">Hevalfp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="SCSemLemmas.html#fp_locs_fp_union_locs_union_fp_locs">fp_locs_fp_union_locs_union_fp_locs</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Locs.unfolds</span>. <span class="id">red_boolean_true</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">left</span>. <span class="tactic">eapply</span> <span class="id"><a href="SCSemLemmas.html#eval_builtin_arg_fp_client_mem">eval_builtin_arg_fp_client_mem</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}      <br/>
&nbsp;&nbsp;{ <span class="comment">(*&nbsp;extcall&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; [|<span class="tactic">tauto</span>]. <span class="tactic">apply</span> <span class="id"><a href="RGRels.html#client_valid_block_fp">client_valid_block_fp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">H2</span> <span class="id">H3</span>. <span class="tactic">clear</span>. <span class="tactic">unfold</span> <span class="id"><a href="AsmLang.html#extcall_arguments">extcall_arguments</a></span>, <span class="id"><a href="ASM_local.html#extcall_arguments_fp">extcall_arguments_fp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Conventions1.html#loc_arguments">loc_arguments</a></span> (<span class="id"><a href="AST.html#ef_sig">ef_sig</a></span> <span class="id">ef</span>)) <span class="kwd">as</span> <span class="id">typs</span>, <span class="id">m</span>' <span class="kwd">as</span> <span class="id">m</span>, <span class="id">args</span> <span class="kwd">as</span> <span class="id">vl</span>, <span class="id">fp</span> <span class="kwd">as</span> <span class="id">FP</span>. <span class="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">typs</span>; <span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H3</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H2</span>. <span class="id">inv</span> <span class="id">H3</span>. <span class="tactic">rewrite</span> <span class="id"><a href="SCSemLemmas.html#fp_locs_fp_union_locs_union_fp_locs">fp_locs_fp_union_locs_union_fp_locs</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">Locs.unfolds</span>. <span class="id">red_boolean_true</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">IHtyps</span> <span class="id">H5</span> <span class="id">H6</span>. <span class="id">revert</span> <span class="id">H0</span> <span class="id">H4</span> <span class="id">H2</span>. <span class="tactic">clear</span>. <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">a</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="id">inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">left</span>. <span class="tactic">eapply</span> <span class="id"><a href="SCSemLemmas.html#extcall_arg_fp_client_mem">extcall_arg_fp_client_mem</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">left</span>. <span class="id">inv</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H4</span>. <span class="tactic">rewrite</span> <span class="id"><a href="SCSemLemmas.html#fp_locs_fp_union_locs_union_fp_locs">fp_locs_fp_union_locs_union_fp_locs</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">Locs.unfolds</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red_boolean_true</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="SCSemLemmas.html#extcall_arg_fp_client_mem">extcall_arg_fp_client_mem</a></span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{ <span class="tactic">split</span>; [<span class="tactic">auto</span> <span class="kwd">using</span> <span class="id"><a href="RGRels.html#client_emp_fp">client_emp_fp</a></span>|<span class="tactic">tauto</span>]. }<br/>
&nbsp;&nbsp;{ <span class="comment">(*&nbsp;initialize&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="RGRels.html#client_alloc_fp">client_alloc_fp</a></span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">b</span> = <span class="id">stk</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id"><a href="SCSemLemmas.html#fp_locs_fp_union_locs_union_fp_locs">fp_locs_fp_union_locs_union_fp_locs</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">Locs.unfolds</span>. <span class="id">red_boolean_true</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.locs">FP.locs</a></span> <span class="kwd">in</span> *. <span class="id">Locs.unfolds</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#peq">peq</a></span>; [<span class="tactic">subst</span> <span class="id">b</span>|<span class="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="FMemory.html#Mem.alloc_result">Mem.alloc_result</a></span>. <span class="tactic">eauto</span>. <span class="tactic">intro</span>; <span class="tactic">subst</span> <span class="id">stk</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">H2</span>. <span class="tactic">clear</span>. <span class="tactic">unfold</span> <span class="id"><a href="loadframe.html#store_args_fp">loadframe.store_args_fp</a></span>. <span class="tactic">generalize</span> 0. <span class="tactic">induction</span> <span class="id">tys</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span>; <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="SCSemLemmas.html#fp_locs_fp_union_locs_union_fp_locs">fp_locs_fp_union_locs_union_fp_locs</a></span> <span class="kwd">in</span> <span class="id">H2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Locs.unfolds</span>; <span class="tactic">unfold</span> <span class="id"><a href="loadframe.html#store_stack_fp">loadframe.store_stack_fp</a></span>, <span class="id"><a href="FMemOpFP.html#storev_fp">FMemOpFP.storev_fp</a></span> <span class="kwd">in</span> <span class="id">H2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id">context</span>[<span class="kwd">match</span> ?<span class="id">a</span> <span class="kwd">with</span> <span class="id">_</span> =&gt; <span class="id">_</span> <span class="kwd">end</span>] |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span> <span class="id">eqn</span>:?; <span class="id">inv</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red_boolean_true</span>; <span class="tactic">auto</span>; <span class="tactic">try</span> (<span class="tactic">eapply</span> <span class="id">IHtys</span>; <span class="id">eassumption</span>; <span class="tactic">fail</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="Values.html#Val.offset_ptr">Val.offset_ptr</a></span> (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">_</span> <span class="id">_</span>) <span class="id">_</span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">_</span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">inv</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id">context</span>[<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> <span class="id">_</span>] |- <span class="id">_</span> =&gt; <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.emp_union_fp">FP.emp_union_fp</a></span> <span class="kwd">in</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id">context</span>[<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">_</span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>] |- <span class="id">_</span> =&gt; <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span> <span class="kwd">in</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="Footprint.html#FP.locs">FP.locs</a></span> (<span class="id"><a href="FMemOpFP.html#store_fp">FMemOpFP.store_fp</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) <span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.locs">FP.locs</a></span>, <span class="id"><a href="FMemOpFP.html#store_fp">FMemOpFP.store_fp</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#Locs.locs_union_emp">Locs.locs_union_emp</a></span> <span class="kwd">in</span> <span class="id">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#Locs.emp_union_locs">Locs.emp_union_locs</a></span> <span class="kwd">in</span> <span class="id">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="FMemOpFP.html#range_locset_loc">FMemOpFP.range_locset_loc</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">intuition</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">intro</span>. <span class="id">exploit</span> <span class="id"><a href="FMemory.html#Mem.fresh_block_alloc">Mem.fresh_block_alloc</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>. <span class="id">exploit</span> <span class="id"><a href="FMemory.html#Mem.valid_new_block">Mem.valid_new_block</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#Mem.valid_block">Mem.valid_block</a></span>. <span class="tactic">apply</span> <span class="id"><a href="SCSemLemmas.html#store_args_fmem_mem_validblock_eq">store_args_fmem_mem_validblock_eq</a></span> <span class="kwd">in</span> <span class="id">H3</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H3</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="RGRels.html#client_mem">client_mem</a></span>, <span class="id"><a href="RGRels.html#unused_mem">unused_mem</a></span>. <span class="tactic">simpl</span>. <span class="id">erewrite</span> <span class="id"><a href="SCSemLemmas.html#store_args_fmem_mem_access_eq">store_args_fmem_mem_access_eq</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SCSemLemmas.html#alloc_client_or_unused">alloc_client_or_unused</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">intros</span> <span class="id">b</span>' <span class="id">ofs</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="SCSemLemmas.html#alloc_obj_mem_unchg">alloc_obj_mem_unchg</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="RGRels.html#obj_mem">obj_mem</a></span>. <span class="tactic">simpl</span>. <span class="tactic">eapply</span> <span class="id"><a href="SCSemLemmas.html#store_args_fmem_mem_access_eq">store_args_fmem_mem_access_eq</a></span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="tactic">rewrite</span> <span class="id">H3</span>. <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="RGRels.html#sep_obj_client_block">sep_obj_client_block</a></span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="RGRels.html#obj_mem">obj_mem</a></span>, <span class="id"><a href="RGRels.html#client_mem">client_mem</a></span> <span class="kwd">in</span> *. <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SCSemLemmas.html#store_args_fmem_mem_access_eq">store_args_fmem_mem_access_eq</a></span> <span class="kwd">in</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H3</span>. <span class="tactic">clear</span> <span class="id">H3</span>. <span class="tactic">intros</span> <span class="id">b</span>' <span class="id">ofs1</span> <span class="id">ofs2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SCSemLemmas.html#alloc_obj_mem_unchg">alloc_obj_mem_unchg</a></span>. <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#strip">strip</a></span>, <span class="id"><a href="RGRels.html#obj_mem">obj_mem</a></span>, <span class="id"><a href="RGRels.html#client_mem">client_mem</a></span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">A</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">A</span>. <span class="tactic">clear</span> <span class="id">A</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">b</span>' &lt;&gt; <span class="id">stk</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">intro</span>. <span class="tactic">subst</span>. <span class="tactic">destruct</span> <span class="id">H0</span>. <span class="tactic">apply</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="FMemory.html#Mem.fresh_block_alloc">Mem.fresh_block_alloc</a></span>; <span class="tactic">eauto</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exfalso</span>. <span class="tactic">apply</span> <span class="id">H0</span>. <span class="tactic">apply</span> <span class="id"><a href="FMemory.html#Mem.invalid_noaccess">Mem.invalid_noaccess</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="FMemory.html#Mem.fresh_block_alloc">Mem.fresh_block_alloc</a></span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SCSemLemmas.html#alloc_clt_mem_unchg">alloc_clt_mem_unchg</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#strip">strip</a></span>, <span class="id"><a href="RGRels.html#client_mem">client_mem</a></span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">A</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">A</span>. <span class="tactic">clear</span> <span class="id">A</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Hsep</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="SpecLang_step_sep">SpecLang_step_sep</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">fl</span> <span class="id">c</span> <span class="id">m</span> <span class="id">fp</span> <span class="id">c</span>' <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#sep_obj_client_block">sep_obj_client_block</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#step">step</a></span> <span class="id"><a href="SpecLang.html#speclang">SpecLang.speclang</a></span> <span class="id"><a href="SCSemLemmas.html#ge">ge</a></span> <span class="id"><a href="SCSemLemmas.html#fl">fl</a></span> <span class="id"><a href="SCSemLemmas.html#c">c</a></span> <span class="id"><a href="SCSemLemmas.html#m">m</a></span> <span class="id"><a href="SCSemLemmas.html#fp">fp</a></span> <span class="id">c</span>' <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#sep_obj_client_block">sep_obj_client_block</a></span> <span class="id">m</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof10015')">Proof.</div>
<div class="proofscript" id="proof10015">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H1</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">H0</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLang.html#storemax">SpecLang.storemax</a></span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="tactic">destruct</span> <span class="id"><a href="FMemory.html#Mem.range_perm_dec">Mem.range_perm_dec</a></span>; <span class="id">inv</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#strip">strip</a></span>. <span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="RGRels.html#sep_obj_client_block">sep_obj_client_block</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="RGRels.html#obj_mem">obj_mem</a></span>, <span class="id"><a href="RGRels.html#client_mem">client_mem</a></span> <span class="kwd">in</span> *. <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">H0</span>; <span class="tactic">auto</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLang.html#storemax">SpecLang.storemax</a></span> <span class="kwd">in</span> *. <span class="tactic">destruct</span> <span class="id"><a href="FMemory.html#Mem.range_perm_dec">Mem.range_perm_dec</a></span>; <span class="id">inv</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#strip">strip</a></span>. <span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="RGRels.html#sep_obj_client_block">sep_obj_client_block</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="RGRels.html#obj_mem">obj_mem</a></span>, <span class="id"><a href="RGRels.html#client_mem">client_mem</a></span> <span class="kwd">in</span> *. <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Local</span> <span class="id">Transparent</span> <span class="id"><a href="FMemory.html#Mem.alloc">Mem.alloc</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#Mem.alloc">Mem.alloc</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#strip">strip</a></span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="RGRels.html#sep_obj_client_block">sep_obj_client_block</a></span>, <span class="id"><a href="RGRels.html#obj_mem">obj_mem</a></span>, <span class="id"><a href="RGRels.html#client_mem">client_mem</a></span> <span class="kwd">in</span> *. <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#peq">peq</a></span> <span class="id">b</span> (<span class="id"><a href="FMemory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">m0</span>)). <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Maps.html#PMap.gss">PMap.gss</a></span> <span class="kwd">in</span> *. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#zle">zle</a></span>, <span class="id"><a href="Coqlib.html#zlt">zlt</a></span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> (<span class="tactic">rewrite</span> <span class="id"><a href="Maps.html#PMap.gso">PMap.gso</a></span> <span class="kwd">in</span> *; <span class="tactic">auto</span>). <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Local</span> <span class="id">Opaque</span> <span class="id"><a href="FMemory.html#Mem.alloc">Mem.alloc</a></span>.<br/>
&nbsp;&nbsp;}<br/>
Qed.</div>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Compositionality.html">Compositionality</a></span> <span class="id"><a href="Soundness.html">Soundness</a></span>.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="abort_behav">abort_behav</a></span> : <span class="id"><a href="ETrace.html#behav">behav</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
| <span class="id"><a name="abort_imm">abort_imm</a></span>: <span class="id"><a href="SCSemLemmas.html#abort_behav">abort_behav</a></span> <span class="id"><a href="ETrace.html#Behav_abort">Behav_abort</a></span><br/>
| <span class="id"><a name="abort_cons">abort_cons</a></span>: <span class="kwd">forall</span> <span class="id">v</span> <span class="id">B</span>, <span class="id"><a href="SCSemLemmas.html#abort_behav">abort_behav</a></span> <span class="id"><a href="SCSemLemmas.html#B">B</a></span> -&gt; <span class="id"><a href="SCSemLemmas.html#abort_behav">abort_behav</a></span> (<span class="id"><a href="ETrace.html#Behav_cons">Behav_cons</a></span> <span class="id"><a href="SCSemLemmas.html#v">v</a></span> <span class="id"><a href="SCSemLemmas.html#B">B</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="non_evt_star_star_step">non_evt_star_star_step</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">state</span> <span class="id">step</span> (<span class="id">pc</span>: <span class="id"><a href="SCSemLemmas.html#state">state</a></span>) <span class="id">fp</span> <span class="id">pc</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#non_evt_star">non_evt_star</a></span> <span class="id"><a href="SCSemLemmas.html#step">step</a></span> <span class="id"><a href="SCSemLemmas.html#pc">pc</a></span> <span class="id"><a href="SCSemLemmas.html#fp">fp</a></span> <span class="id">pc</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">ll</span>, <span class="id"><a href="ETrace.html#star">ETrace.star</a></span> <span class="id"><a href="SCSemLemmas.html#step">step</a></span> <span class="id"><a href="SCSemLemmas.html#pc">pc</a></span> <span class="id"><a href="SCSemLemmas.html#ll">ll</a></span> <span class="id"><a href="SCSemLemmas.html#fp">fp</a></span> <span class="id">pc</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof10016')">Proof.</div>
<div class="proofscript" id="proof10016">
&nbsp;&nbsp;<span class="tactic">induction</span> 1. <span class="id">eexists</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">IHnon_evt_star</span>. <span class="id">eexists</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">IHnon_evt_star</span>. <span class="id">eexists</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="prog_refine_safety_preserved">prog_refine_safety_preserved</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">NL</span> <span class="id">L</span> <span class="id">ps</span> <span class="id">pt</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="GlobSemantics.html#prog_refine">prog_refine</a></span> <span class="id"><a href="SCSemLemmas.html#NL">NL</a></span> <span class="id"><a href="SCSemLemmas.html#L">L</a></span> <span class="id"><a href="SCSemLemmas.html#ps">ps</a></span> <span class="id"><a href="SCSemLemmas.html#pt">pt</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">mu</span> : <span class="id"><a href="Injections.html#Mu">Injections.Mu</a></span>) (<span class="id">sgm</span> : <span class="id"><a href="GMemory.html#gmem">gmem</a></span>) (<span class="id">sge</span> : <span class="id"><a href="GlobDefs.html#GlobEnv.t">GlobEnv.t</a></span>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">spc</span> : <span class="id"><a href="GlobDefs.html#ProgConfig">ProgConfig</a></span>) (<span class="id">ts</span> : <span class="id"><a href="GlobDefs.html#tid">tid</a></span>) (<span class="id">tgm</span> : <span class="id"><a href="GMemory.html#gmem">gmem</a></span>) (<span class="id">tge</span> : <span class="id"><a href="GlobDefs.html#GlobEnv.t">GlobEnv.t</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">tpc</span> : <span class="id"><a href="GlobDefs.html#ProgConfig">ProgConfig</a></span>) (<span class="id">tt</span> : <span class="id"><a href="GlobDefs.html#tid">tid</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#InitRel">InitRel</a></span> <span class="id"><a href="SCSemLemmas.html#mu">mu</a></span> <span class="id"><a href="SCSemLemmas.html#sge">sge</a></span> <span class="id"><a href="SCSemLemmas.html#tge">tge</a></span> <span class="id"><a href="SCSemLemmas.html#sgm">sgm</a></span> <span class="id"><a href="SCSemLemmas.html#tgm">tgm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#init_config">init_config</a></span> <span class="id"><a href="SCSemLemmas.html#ps">ps</a></span> <span class="id"><a href="SCSemLemmas.html#sgm">sgm</a></span> <span class="id"><a href="SCSemLemmas.html#sge">sge</a></span> <span class="id"><a href="SCSemLemmas.html#spc">spc</a></span> <span class="id"><a href="SCSemLemmas.html#ts">ts</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#init_config">init_config</a></span> <span class="id"><a href="SCSemLemmas.html#pt">pt</a></span> <span class="id"><a href="SCSemLemmas.html#tgm">tgm</a></span> <span class="id"><a href="SCSemLemmas.html#tge">tge</a></span> <span class="id"><a href="SCSemLemmas.html#tpc">tpc</a></span> <span class="id"><a href="SCSemLemmas.html#tt">tt</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#safe_state">safe_state</a></span> <span class="id"><a href="GlobSemantics.html#glob_step">glob_step</a></span> <span class="id"><a href="GlobSemantics.html#abort">GlobSemantics.abort</a></span> <span class="id"><a href="SCSemLemmas.html#spc">spc</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#safe_state">safe_state</a></span> <span class="id"><a href="GlobSemantics.html#glob_step">glob_step</a></span> <span class="id"><a href="GlobSemantics.html#abort">GlobSemantics.abort</a></span> <span class="id"><a href="SCSemLemmas.html#tpc">tpc</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof10017')">Proof.</div>
<div class="proofscript" id="proof10017">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">NL</span> <span class="id">L</span> <span class="id">ps</span> <span class="id">pt</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">rename</span> <span class="id">H0</span> <span class="id">into</span> <span class="id">REF</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">mu</span> <span class="id">sgm</span> <span class="id">sge</span> <span class="id">spc</span> <span class="id">ts</span> <span class="id">tgm</span> <span class="id">tge</span> <span class="id">tpc</span> <span class="id">tt</span> <span class="id">H0</span> <span class="id">H1</span> <span class="id">H2</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">REF</span> <span class="id">mu</span> <span class="id">sgm</span> <span class="id">sge</span> <span class="id">spc</span> <span class="id">ts</span> <span class="id">tgm</span> <span class="id">tge</span> <span class="id">tpc</span> <span class="id">tt</span> <span class="id">H0</span> <span class="id">H1</span> <span class="id">H2</span>).<br/>
&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">mu</span> <span class="id">sgm</span> <span class="id">tgm</span> <span class="id">ts</span> <span class="id">tt</span> <span class="id">H0</span> <span class="id">H1</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="ETrace.html#safe_state">safe_state</a></span> <span class="kwd">in</span> *. <span class="tactic">intros</span>. <span class="tactic">intro</span> <span class="id">Habort</span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">exists</span> <span class="id">B</span>, <span class="id"><a href="ETrace.html#Etr">Etr</a></span> <span class="id"><a href="GlobSemantics.html#glob_step">glob_step</a></span> <span class="id"><a href="GlobSemantics.html#abort">GlobSemantics.abort</a></span> <span class="id"><a href="GlobDefs.html#final_state">final_state</a></span> <span class="id">tpc</span> <span class="id"><a href="SCSemLemmas.html#B">B</a></span> /\ <span class="id"><a href="SCSemLemmas.html#abort_behav">abort_behav</a></span> <span class="id"><a href="SCSemLemmas.html#B">B</a></span>).<br/>
&nbsp;&nbsp;{ <span class="id">revert</span> <span class="id">H</span> <span class="id">Habort</span>; <span class="tactic">clear</span>. <span class="tactic">induction</span> 1; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">eexists</span>. <span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="ETrace.html#Etr_abort">Etr_abort</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="ETrace.html#ne_star_refl">ne_star_refl</a></span>. <span class="tactic">auto</span>. <span class="id">constructor</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id">IHstar</span> <span class="kwd">in</span> <span class="id">Habort</span>. <span class="tactic">destruct</span> <span class="id">Habort</span> <span class="kwd">as</span> (<span class="id">B</span> &amp; <span class="id">HEtr</span> &amp; <span class="id">Habort</span>). <span class="tactic">clear</span> <span class="id">IHstar</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">exists</span> <span class="id">B</span>. <span class="tactic">split</span>. <span class="tactic">destruct</span> <span class="id">Habort</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">HEtr</span>. <span class="id">econstructor</span>. <span class="tactic">eapply</span> <span class="id"><a href="ETrace.html#ne_star_step">ne_star_step</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">HEtr</span>. <span class="id">econstructor</span>. <span class="tactic">eapply</span> <span class="id"><a href="ETrace.html#ne_star_step">ne_star_step</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">exists</span> <span class="id">B</span>. <span class="tactic">split</span>. <span class="tactic">destruct</span> <span class="id">Habort</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">HEtr</span>. <span class="id">econstructor</span>. <span class="tactic">eapply</span> <span class="id"><a href="ETrace.html#ne_star_step">ne_star_step</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">HEtr</span>. <span class="id">econstructor</span>. <span class="tactic">eapply</span> <span class="id"><a href="ETrace.html#ne_star_step">ne_star_step</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">exists</span> (<span class="id"><a href="ETrace.html#Behav_cons">Behav_cons</a></span> <span class="id">v</span> <span class="id">B</span>). <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">fp1</span> = <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>) <span class="tactic">by</span> (<span class="id">inv</span> <span class="id">H</span>; <span class="tactic">auto</span>). <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">econstructor</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="id">econstructor</span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H0</span> <span class="kwd">as</span> (<span class="id">B</span> &amp; <span class="id">HEtr</span> &amp; <span class="id">Habort</span>').<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">REF</span> <span class="kwd">in</span> <span class="id">HEtr</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">exists</span> <span class="id">l</span>' <span class="id">fp</span>' <span class="id">spc</span>', <span class="id"><a href="ETrace.html#star">ETrace.star</a></span> <span class="id"><a href="GlobSemantics.html#glob_step">glob_step</a></span> <span class="id">spc</span> <span class="id">l</span>' <span class="id">fp</span>' <span class="id">spc</span>' /\ <span class="id"><a href="GlobSemantics.html#abort">GlobSemantics.abort</a></span> <span class="id">spc</span>').<br/>
&nbsp;&nbsp;{ <span class="id">revert</span> <span class="id">HEtr</span> <span class="id">Habort</span>'. <span class="tactic">clear</span>. <span class="tactic">intros</span>. <span class="id">revert</span> <span class="id">spc</span> <span class="id">HEtr</span>. <span class="tactic">induction</span> <span class="id">Habort</span>'; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">HEtr</span>. <span class="tactic">eapply</span> <span class="id"><a href="SCSemLemmas.html#non_evt_star_star_step">non_evt_star_star_step</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> <span class="id">H</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">HEtr</span>. <span class="tactic">eapply</span> <span class="id">IHHabort</span>' <span class="kwd">in</span> <span class="id">H3</span>. <span class="tactic">eapply</span> <span class="id"><a href="SCSemLemmas.html#non_evt_star_star_step">non_evt_star_star_step</a></span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H1</span>. <span class="tactic">destruct</span> <span class="id">H3</span> <span class="kwd">as</span> (? &amp; ? &amp; ? &amp; ? &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> 3 <span class="id">eexists</span>. <span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="SCSemLemmas.html#etrace_star_star">etrace_star_star</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="ETrace.html#star_step">ETrace.star_step</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. }<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H0</span> <span class="kwd">as</span> (<span class="id">l</span>' &amp; <span class="id">fp</span>' &amp; <span class="id">spc</span>' &amp; <span class="id">Hstar</span>' &amp; <span class="id">Habort</span>'').<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H3</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="safety_preservation">safety_preservation</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">NL</span> <span class="id">L</span> <span class="id">scunits</span> <span class="id">tcunits</span> <span class="id">e</span> <span class="id">comps</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GAST.html#wd_langs">wd_langs</a></span> <span class="id"><a href="SCSemLemmas.html#scunits">scunits</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GAST.html#wd_langs">wd_langs</a></span> <span class="id"><a href="SCSemLemmas.html#tcunits">tcunits</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GAST.html#det_langs">det_langs</a></span> <span class="id"><a href="SCSemLemmas.html#tcunits">tcunits</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Compositionality.html#rc_cunits">rc_cunits</a></span> <span class="id"><a href="SCSemLemmas.html#scunits">scunits</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GAST.html#cunits_transf">cunits_transf</a></span> <span class="id"><a href="SCSemLemmas.html#comps">comps</a></span> <span class="id"><a href="SCSemLemmas.html#scunits">scunits</a></span> <span class="id"><a href="SCSemLemmas.html#tcunits">tcunits</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="Soundness.html#seqs_correct">seqs_correct</a></span> <span class="id"><a href="SCSemLemmas.html#NL">NL</a></span> <span class="id"><a href="SCSemLemmas.html#L">L</a></span> <span class="id"><a href="SCSemLemmas.html#comps">comps</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="DRF.html#drf">drf</a></span> (<span class="id"><a href="SCSemLemmas.html#scunits">scunits</a></span>, <span class="id"><a href="SCSemLemmas.html#e">e</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobSemantics.html#safe_prog">safe_prog</a></span> (<span class="id"><a href="SCSemLemmas.html#scunits">scunits</a></span>, <span class="id"><a href="SCSemLemmas.html#e">e</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">mu</span> <span class="id">sgm</span> <span class="id">sge</span> <span class="id">spc</span> <span class="id">ts</span> <span class="id">tgm</span> <span class="id">tge</span> <span class="id">tpc</span> <span class="id">tt</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#InitRel">InitRel</a></span> <span class="id"><a href="SCSemLemmas.html#mu">mu</a></span> <span class="id"><a href="SCSemLemmas.html#sge">sge</a></span> <span class="id"><a href="SCSemLemmas.html#tge">tge</a></span> <span class="id"><a href="SCSemLemmas.html#sgm">sgm</a></span> <span class="id"><a href="SCSemLemmas.html#tgm">tgm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#init_config">init_config</a></span> (<span class="id"><a href="SCSemLemmas.html#scunits">scunits</a></span>, <span class="id"><a href="SCSemLemmas.html#e">e</a></span>) <span class="id"><a href="SCSemLemmas.html#sgm">sgm</a></span> <span class="id"><a href="SCSemLemmas.html#sge">sge</a></span> <span class="id"><a href="SCSemLemmas.html#spc">spc</a></span> <span class="id"><a href="SCSemLemmas.html#ts">ts</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#init_config">init_config</a></span> (<span class="id"><a href="SCSemLemmas.html#tcunits">tcunits</a></span>, <span class="id"><a href="SCSemLemmas.html#e">e</a></span>) <span class="id"><a href="SCSemLemmas.html#tgm">tgm</a></span> <span class="id"><a href="SCSemLemmas.html#tge">tge</a></span> <span class="id"><a href="SCSemLemmas.html#tpc">tpc</a></span> <span class="id"><a href="SCSemLemmas.html#tt">tt</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#safe_state">safe_state</a></span> <span class="id"><a href="GlobSemantics.html#glob_step">glob_step</a></span> <span class="id"><a href="GlobSemantics.html#abort">GlobSemantics.abort</a></span> <span class="id"><a href="SCSemLemmas.html#tpc">tpc</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof10018')">Proof.</div>
<div class="proofscript" id="proof10018">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">NL</span> <span class="id">L</span> <span class="id">scunits</span> <span class="id">tcunits</span> <span class="id">e</span> <span class="id">comps</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Hwd_src</span> <span class="id">Hwd_tgt</span> <span class="id">Hdet_tgt</span> <span class="id">Hrc</span> <span class="id">Hcomp</span> <span class="id">Hcorrect</span> <span class="id">Hdrf</span> <span class="id">Hsafe</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (@<span class="id"><a href="Compositionality.html#compositionality">compositionality</a></span> <span class="id">NL</span> <span class="id">L</span>) <span class="kwd">as</span> <span class="id">HSim</span>.<br/>
&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">HSim</span> <span class="id">_</span> <span class="id">_</span> <span class="id">e</span> <span class="id">Hwd_src</span> <span class="id">Hwd_tgt</span> <span class="id">Hrc</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Soundness.html#seqs_correct_fn_preserved">seqs_correct_fn_preserved</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span> <span class="id">Hfn</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Soundness.html#seqs_correct_ldsims">seqs_correct_ldsims</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span> <span class="id">Hsims</span>. <br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="NPEquiv.html#Safe_NPSafe">NPEquiv.Safe_NPSafe</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hwd_src</span> <span class="id">Hsafe</span>) <span class="kwd">as</span> <span class="id">Hnpsafe</span>.<br/>
&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">HSim</span> <span class="id">Hsims</span> <span class="id">Hfn</span>). <span class="tactic">apply</span> <span class="id"><a href="Flipping.html#flipping">Flipping.flipping</a></span> <span class="kwd">in</span> <span class="id">HSim</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="SCSemLemmas.html#prog_refine_safety_preserved">prog_refine_safety_preserved</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Soundness.html#framework_sound">framework_sound</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Hsafe</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="drf_preservation">drf_preservation</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">NL</span> <span class="id">L</span> <span class="id">scunits</span> <span class="id">tcunits</span> <span class="id">e</span> <span class="id">comps</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GAST.html#wd_langs">wd_langs</a></span> <span class="id"><a href="SCSemLemmas.html#scunits">scunits</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GAST.html#wd_langs">wd_langs</a></span> <span class="id"><a href="SCSemLemmas.html#tcunits">tcunits</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GAST.html#det_langs">det_langs</a></span> <span class="id"><a href="SCSemLemmas.html#tcunits">tcunits</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Compositionality.html#rc_cunits">rc_cunits</a></span> <span class="id"><a href="SCSemLemmas.html#scunits">scunits</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GAST.html#cunits_transf">cunits_transf</a></span> <span class="id"><a href="SCSemLemmas.html#comps">comps</a></span> <span class="id"><a href="SCSemLemmas.html#scunits">scunits</a></span> <span class="id"><a href="SCSemLemmas.html#tcunits">tcunits</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="Soundness.html#seqs_correct">seqs_correct</a></span> <span class="id"><a href="SCSemLemmas.html#NL">NL</a></span> <span class="id"><a href="SCSemLemmas.html#L">L</a></span> <span class="id"><a href="SCSemLemmas.html#comps">comps</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="DRF.html#drf">drf</a></span> (<span class="id"><a href="SCSemLemmas.html#scunits">scunits</a></span>, <span class="id"><a href="SCSemLemmas.html#e">e</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobSemantics.html#safe_prog">safe_prog</a></span> (<span class="id"><a href="SCSemLemmas.html#scunits">scunits</a></span>, <span class="id"><a href="SCSemLemmas.html#e">e</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">mu</span> <span class="id">sgm</span> <span class="id">sge</span> <span class="id">spc</span> <span class="id">ts</span> <span class="id">tgm</span> <span class="id">tge</span> <span class="id">tpc</span> <span class="id">tt</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#InitRel">InitRel</a></span> <span class="id"><a href="SCSemLemmas.html#mu">mu</a></span> <span class="id"><a href="SCSemLemmas.html#sge">sge</a></span> <span class="id"><a href="SCSemLemmas.html#tge">tge</a></span> <span class="id"><a href="SCSemLemmas.html#sgm">sgm</a></span> <span class="id"><a href="SCSemLemmas.html#tgm">tgm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#init_config">init_config</a></span> (<span class="id"><a href="SCSemLemmas.html#scunits">scunits</a></span>, <span class="id"><a href="SCSemLemmas.html#e">e</a></span>) <span class="id"><a href="SCSemLemmas.html#sgm">sgm</a></span> <span class="id"><a href="SCSemLemmas.html#sge">sge</a></span> <span class="id"><a href="SCSemLemmas.html#spc">spc</a></span> <span class="id"><a href="SCSemLemmas.html#ts">ts</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#init_config">init_config</a></span> (<span class="id"><a href="SCSemLemmas.html#tcunits">tcunits</a></span>, <span class="id"><a href="SCSemLemmas.html#e">e</a></span>) <span class="id"><a href="SCSemLemmas.html#tgm">tgm</a></span> <span class="id"><a href="SCSemLemmas.html#tge">tge</a></span> <span class="id"><a href="SCSemLemmas.html#tpc">tpc</a></span> <span class="id"><a href="SCSemLemmas.html#tt">tt</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~ <span class="id"><a href="DRF.html#star_race_config">star_race_config</a></span> <span class="id"><a href="SCSemLemmas.html#tpc">tpc</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof10019')">Proof.</div>
<div class="proofscript" id="proof10019">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">NL</span> <span class="id">L</span> <span class="id">scunits</span> <span class="id">tcunits</span> <span class="id">e</span> <span class="id">comps</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Hwd_src</span> <span class="id">Hwd_tgt</span> <span class="id">Hdet_tgt</span> <span class="id">Hrc</span> <span class="id">Hcomp</span> <span class="id">Hcorrect</span> <span class="id">Hdrf</span> <span class="id">Hsafe</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (@<span class="id"><a href="Compositionality.html#compositionality">compositionality</a></span> <span class="id">NL</span> <span class="id">L</span>) <span class="kwd">as</span> <span class="id">HSim</span>.<br/>
&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">HSim</span> <span class="id">_</span> <span class="id">_</span> <span class="id">e</span> <span class="id">Hwd_src</span> <span class="id">Hwd_tgt</span> <span class="id">Hrc</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Soundness.html#seqs_correct_fn_preserved">seqs_correct_fn_preserved</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span> <span class="id">Hfn</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Soundness.html#seqs_correct_ldsims">seqs_correct_ldsims</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span> <span class="id">Hsims</span>. <br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="NPEquiv.html#Safe_NPSafe">NPEquiv.Safe_NPSafe</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hwd_src</span> <span class="id">Hsafe</span>) <span class="kwd">as</span> <span class="id">Hnpsafe</span>.<br/>
&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">HSim</span> <span class="id">Hsims</span>). <span class="tactic">clear</span> <span class="id">Hsims</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="NPDRF.html#npdrf">NPDRF.npdrf</a></span> (<span class="id">scunits</span>,<span class="id">e</span>)).<br/>
&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="NPDRF.html#npdrf">NPDRF.npdrf</a></span>. <span class="tactic">intro</span>. <span class="tactic">unfold</span> <span class="id"><a href="DRF.html#drf">drf</a></span> <span class="kwd">in</span> <span class="id">Hdrf</span>. <span class="id">contradict</span> <span class="id">Hdrf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="SmileReorder.html#NPRace_Race">SmileReorder.NPRace_Race</a></span>;<span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Flipping.html#flipping">Flipping.flipping</a></span> <span class="kwd">in</span> <span class="id">HSim</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">mu</span> <span class="id">sgm</span> <span class="id">sge</span> <span class="id">spc</span> <span class="id">ts</span> <span class="id">tgm</span> <span class="id">tge</span> <span class="id">tpc</span> <span class="id">tt</span> <span class="id">INITREL</span> <span class="id">INITSrc</span> <span class="id">INITTgt</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="NPEquiv.html#NPDRF_DRF_Config">NPEquiv.NPDRF_DRF_Config</a></span>;<span class="tactic">eauto</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">assert</span>(<span class="id">ts</span> = <span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span> <span class="id">spc</span>). <span class="id">inv</span> <span class="id">INITSrc</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">tt</span> = <span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span> <span class="id">tpc</span>). <span class="id">inv</span> <span class="id">INITTgt</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Init.html#init_pair_valid_tid">Init.init_pair_valid_tid</a></span> <span class="kwd">in</span> <span class="id">H0</span> <span class="kwd">as</span> ?;<span class="tactic">try</span> <span class="tactic">exact</span> <span class="id">INITSrc</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Init.html#init_free">Init.init_free</a></span> <span class="kwd">in</span> <span class="id">H0</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Init.html#init_free">Init.init_free</a></span> <span class="kwd">in</span> <span class="id">H1</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">INITSrc</span> <span class="id">INITTgt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="GlobUSimRefine.html#USim_Safe_Config">GlobUSimRefine.USim_Safe_Config</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>;<span class="id">econstructor</span>;<span class="tactic">eauto</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">assert</span>(<span class="id">ts</span> = <span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span> <span class="id">spc</span>). <span class="id">inv</span> <span class="id">INITSrc</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">tt</span> = <span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span> <span class="id">tpc</span>). <span class="id">inv</span> <span class="id">INITTgt</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Init.html#init_pair_valid_tid">Init.init_pair_valid_tid</a></span> <span class="kwd">in</span> <span class="id">H0</span> <span class="kwd">as</span> ?;<span class="tactic">try</span> <span class="tactic">exact</span> <span class="id">INITSrc</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Init.html#init_free">Init.init_free</a></span> <span class="kwd">in</span> <span class="id">H0</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Init.html#init_free">Init.init_free</a></span> <span class="kwd">in</span> <span class="id">H1</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SimDRF.html#USim_NPDRF_Config">SimDRF.USim_NPDRF_Config</a></span> <span class="kwd">in</span> <span class="id">H0</span> <span class="kwd">as</span> ?;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">H1</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="DRFLemmas.html#NPDRF_config">DRFLemmas.NPDRF_config</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Init.html#init_property_1_alt">Init.init_property_1_alt</a></span> <span class="kwd">in</span> <span class="id">H1</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
Qed.</div>
</div>
<div class="footer"><hr/>Generated by coq2html</div>
</body>
</html>
