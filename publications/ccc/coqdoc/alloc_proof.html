<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module alloc_proof</title>
<meta name="description" content="Documentation of Coq module alloc_proof" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module alloc_proof</h1>
<div class="coq">
<br/>
<br/>
<br/>
<div class="doc">Correctness proof for the <span class="bracket"><span class="id">Allocation</span></span> pass (validated translation from
  RTL to LTL). </div>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.FSets.FSets.html">FSets</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Coqlib.html">Coqlib</a></span> <span class="id"><a href="Ordered.html">Ordered</a></span> <span class="id"><a href="Maps.html">Maps</a></span> <span class="id"><a href="Errors.html">Errors</a></span> <span class="id"><a href="Integers.html">Integers</a></span> <span class="id"><a href="Floats.html">Floats</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="AST.html">AST</a></span> <span class="id"><a href="Linking.html">Linking</a></span> <span class="id"><a href="Lattice.html">Lattice</a></span> <span class="id"><a href="Kildall.html">Kildall</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Values.html">Values</a></span> <span class="id"><a href="Memory.html">Memory</a></span> <span class="id"><a href="Globalenvs.html">Globalenvs</a></span> <span class="id"><a href="Events.html">Events</a></span> <span class="id"><a href="Smallstep.html">Smallstep</a></span>.<br/>
<span class="kwd">Require</span> <span class="id"><a href="Archi.html">Archi</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Op.html">Op</a></span> <span class="id"><a href="Registers.html">Registers</a></span> <span class="id"><a href="RTL.html">RTL</a></span> <span class="id"><a href="Locations.html">Locations</a></span> <span class="id"><a href="Conventions.html">Conventions</a></span> <span class="id"><a href="RTLtyping.html">RTLtyping</a></span> <span class="id"><a href="LTL.html">LTL</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">Allocation</span>.<br/>
<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="CUAST.html">CUAST</a></span> <span class="id"><a href="Footprint.html">Footprint</a></span> <span class="id"><a href="Blockset.html">Blockset</a></span> <span class="id"><a href="LDSimDefs_local.html">LDSimDefs_local</a></span> <span class="id"><a href="LDSim_local.html">LDSim_local</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="InteractionSemantics.html">InteractionSemantics</a></span> <span class="id"><a href="IS_local.html">IS_local</a></span> <span class="id"><a href="val_casted.html">val_casted</a></span> <span class="id"><a href="InjRels.html">InjRels</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Op_fp.html">Op_fp</a></span> <span class="id"><a href="RTL_local.html">RTL_local</a></span> <span class="id"><a href="RTLtyping_local.html">RTLtyping_local</a></span> <span class="id"><a href="LTL_local.html">LTL_local</a></span> <span class="id"><a href="allocation.html">allocation</a></span>.<br/>
<br/>
<span class="kwd">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="empfp">empfp</a></span>:=<span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>.<br/>
<span class="kwd">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="footprint">footprint</a></span>:=<span class="id"><a href="Footprint.html#FP.t">FP.t</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="match_cu">match_cu</a></span> (<span class="id">scu</span>: <span class="id"><a href="RTL_local.html#RTL_comp_unit">RTL_comp_unit</a></span>) (<span class="id">tcu</span>: <span class="id"><a href="LTL_local.html#LTL_comp_unit">LTL_comp_unit</a></span>) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="CUAST.html#match_comp_unit_gen">match_comp_unit_gen</a></span> (<span class="kwd">fun</span> <span class="id">f</span> <span class="id">tf</span> =&gt; <span class="id">transf_fundef</span> <span class="id"><a href="alloc_proof.html#f">f</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="alloc_proof.html#tf">tf</a></span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id"><a href="alloc_proof.html#scu">scu</a></span> <span class="id"><a href="alloc_proof.html#tcu">tcu</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transf_program_match">transf_program_match</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">scu</span> <span class="id">tcu</span>, <span class="id"><a href="allocation.html#transf_program">transf_program</a></span> <span class="id"><a href="alloc_proof.html#scu">scu</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="alloc_proof.html#tcu">tcu</a></span> -&gt; <span class="id"><a href="alloc_proof.html#match_cu">match_cu</a></span> <span class="id"><a href="alloc_proof.html#scu">scu</a></span> <span class="id"><a href="alloc_proof.html#tcu">tcu</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7353')">Proof.</div>
<div class="proofscript" id="proof7353">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="CUAST.html#match_transform_partial_cunit">match_transform_partial_cunit</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<h1> Soundness of structural checks </h1>
<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="expand_move">expand_move</a></span> (<span class="id">m</span>: <span class="tactic">move</span>) : <span class="id"><a href="LTL.html#instruction">instruction</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="alloc_proof.html#m">m</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| (<span class="id"><a href="Locations.html#R">R</a></span> <span class="id">src</span>, <span class="id"><a href="Locations.html#R">R</a></span> <span class="id">dst</span>) =&gt; <span class="id"><a href="LTL.html#Lop">Lop</a></span> <span class="id"><a href="Op.html#Omove">Omove</a></span> (<span class="id">src</span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id">dst</span><br/>
&nbsp;&nbsp;| (<span class="id"><a href="Locations.html#S">S</a></span> <span class="id">sl</span> <span class="id">ofs</span> <span class="id">ty</span>, <span class="id"><a href="Locations.html#R">R</a></span> <span class="id">dst</span>) =&gt; <span class="id"><a href="LTL.html#Lgetstack">Lgetstack</a></span> <span class="id">sl</span> <span class="id">ofs</span> <span class="id">ty</span> <span class="id">dst</span><br/>
&nbsp;&nbsp;| (<span class="id"><a href="Locations.html#R">R</a></span> <span class="id">src</span>, <span class="id"><a href="Locations.html#S">S</a></span> <span class="id">sl</span> <span class="id">ofs</span> <span class="id">ty</span>) =&gt; <span class="id"><a href="LTL.html#Lsetstack">Lsetstack</a></span> <span class="id">src</span> <span class="id">sl</span> <span class="id">ofs</span> <span class="id">ty</span><br/>
&nbsp;&nbsp;| (<span class="id"><a href="Locations.html#S">S</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>, <span class="id"><a href="Locations.html#S">S</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) =&gt; <span class="id"><a href="LTL.html#Lreturn">Lreturn</a></span>    <span class="docright">(* should never happen  *)</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="expand_moves">expand_moves</a></span> (<span class="id">mv</span>: <span class="id">moves</span>) (<span class="id">k</span>: <span class="id"><a href="LTL.html#bblock">bblock</a></span>) : <span class="id"><a href="LTL.html#bblock">bblock</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">List.map</a></span> <span class="id"><a href="alloc_proof.html#expand_move">expand_move</a></span> <span class="id"><a href="alloc_proof.html#mv">mv</a></span> ++ <span class="id"><a href="alloc_proof.html#k">k</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="wf_move">wf_move</a></span> (<span class="id">m</span>: <span class="tactic">move</span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="alloc_proof.html#m">m</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| (<span class="id"><a href="Locations.html#S">S</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>, <span class="id"><a href="Locations.html#S">S</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="wf_moves">wf_moves</a></span> (<span class="id">mv</span>: <span class="id">moves</span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall">List.Forall</a></span> <span class="id"><a href="alloc_proof.html#wf_move">wf_move</a></span> <span class="id"><a href="alloc_proof.html#mv">mv</a></span>.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="expand_block_shape">expand_block_shape</a></span>: <span class="id">block_shape</span> -&gt; <span class="id"><a href="RTL.html#instruction">RTL.instruction</a></span> -&gt; <span class="id"><a href="LTL.html#bblock">LTL.bblock</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="ebs_nop">ebs_nop</a></span>: <span class="kwd">forall</span> <span class="id">mv</span> <span class="id">s</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="alloc_proof.html#mv">mv</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#expand_block_shape">expand_block_shape</a></span> (<span class="id">BSnop</span> <span class="id"><a href="alloc_proof.html#mv">mv</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="RTL.html#Inop">Inop</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="alloc_proof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="alloc_proof.html#mv">mv</a></span> (<span class="id"><a href="LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span> :: <span class="id"><a href="alloc_proof.html#k">k</a></span>))<br/>
&nbsp;&nbsp;| <span class="id"><a name="ebs_move">ebs_move</a></span>: <span class="kwd">forall</span> <span class="id">src</span> <span class="id">dst</span> <span class="id">mv</span> <span class="id">s</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="alloc_proof.html#mv">mv</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#expand_block_shape">expand_block_shape</a></span> (<span class="id">BSmove</span> <span class="id"><a href="alloc_proof.html#src">src</a></span> <span class="id"><a href="alloc_proof.html#dst">dst</a></span> <span class="id"><a href="alloc_proof.html#mv">mv</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="RTL.html#Iop">Iop</a></span> <span class="id"><a href="Op.html#Omove">Omove</a></span> (<span class="id"><a href="alloc_proof.html#src">src</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id"><a href="alloc_proof.html#dst">dst</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="alloc_proof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="alloc_proof.html#mv">mv</a></span> (<span class="id"><a href="LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span> :: <span class="id"><a href="alloc_proof.html#k">k</a></span>))<br/>
&nbsp;&nbsp;| <span class="id"><a name="ebs_makelong">ebs_makelong</a></span>: <span class="kwd">forall</span> <span class="id">src1</span> <span class="id">src2</span> <span class="id">dst</span> <span class="id">mv</span> <span class="id">s</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="alloc_proof.html#mv">mv</a></span> -&gt; <span class="id"><a href="Archi.html#splitlong">Archi.splitlong</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#expand_block_shape">expand_block_shape</a></span> (<span class="id">BSmakelong</span> <span class="id"><a href="alloc_proof.html#src1">src1</a></span> <span class="id"><a href="alloc_proof.html#src2">src2</a></span> <span class="id"><a href="alloc_proof.html#dst">dst</a></span> <span class="id"><a href="alloc_proof.html#mv">mv</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="RTL.html#Iop">Iop</a></span> <span class="id"><a href="Op.html#Omakelong">Omakelong</a></span> (<span class="id"><a href="alloc_proof.html#src1">src1</a></span> :: <span class="id"><a href="alloc_proof.html#src2">src2</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id"><a href="alloc_proof.html#dst">dst</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="alloc_proof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="alloc_proof.html#mv">mv</a></span> (<span class="id"><a href="LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span> :: <span class="id"><a href="alloc_proof.html#k">k</a></span>))<br/>
&nbsp;&nbsp;| <span class="id"><a name="ebs_lowlong">ebs_lowlong</a></span>: <span class="kwd">forall</span> <span class="id">src</span> <span class="id">dst</span> <span class="id">mv</span> <span class="id">s</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="alloc_proof.html#mv">mv</a></span> -&gt; <span class="id"><a href="Archi.html#splitlong">Archi.splitlong</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#expand_block_shape">expand_block_shape</a></span> (<span class="id">BSlowlong</span> <span class="id"><a href="alloc_proof.html#src">src</a></span> <span class="id"><a href="alloc_proof.html#dst">dst</a></span> <span class="id"><a href="alloc_proof.html#mv">mv</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="RTL.html#Iop">Iop</a></span> <span class="id"><a href="Op.html#Olowlong">Olowlong</a></span> (<span class="id"><a href="alloc_proof.html#src">src</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id"><a href="alloc_proof.html#dst">dst</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="alloc_proof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="alloc_proof.html#mv">mv</a></span> (<span class="id"><a href="LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span> :: <span class="id"><a href="alloc_proof.html#k">k</a></span>))<br/>
&nbsp;&nbsp;| <span class="id"><a name="ebs_highlong">ebs_highlong</a></span>: <span class="kwd">forall</span> <span class="id">src</span> <span class="id">dst</span> <span class="id">mv</span> <span class="id">s</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="alloc_proof.html#mv">mv</a></span> -&gt; <span class="id"><a href="Archi.html#splitlong">Archi.splitlong</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#expand_block_shape">expand_block_shape</a></span> (<span class="id">BShighlong</span> <span class="id"><a href="alloc_proof.html#src">src</a></span> <span class="id"><a href="alloc_proof.html#dst">dst</a></span> <span class="id"><a href="alloc_proof.html#mv">mv</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="RTL.html#Iop">Iop</a></span> <span class="id"><a href="Op.html#Ohighlong">Ohighlong</a></span> (<span class="id"><a href="alloc_proof.html#src">src</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id"><a href="alloc_proof.html#dst">dst</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="alloc_proof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="alloc_proof.html#mv">mv</a></span> (<span class="id"><a href="LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span> :: <span class="id"><a href="alloc_proof.html#k">k</a></span>))<br/>
&nbsp;&nbsp;| <span class="id"><a name="ebs_op">ebs_op</a></span>: <span class="kwd">forall</span> <span class="id">op</span> <span class="id">args</span> <span class="id">res</span> <span class="id">mv1</span> <span class="id">args</span>' <span class="id">res</span>' <span class="id">mv2</span> <span class="id">s</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="alloc_proof.html#mv1">mv1</a></span> -&gt; <span class="id"><a href="alloc_proof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="alloc_proof.html#mv2">mv2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#expand_block_shape">expand_block_shape</a></span> (<span class="id">BSop</span> <span class="id"><a href="alloc_proof.html#op">op</a></span> <span class="id"><a href="alloc_proof.html#args">args</a></span> <span class="id"><a href="alloc_proof.html#res">res</a></span> <span class="id"><a href="alloc_proof.html#mv1">mv1</a></span> <span class="id">args</span>' <span class="id">res</span>' <span class="id"><a href="alloc_proof.html#mv2">mv2</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="RTL.html#Iop">Iop</a></span> <span class="id"><a href="alloc_proof.html#op">op</a></span> <span class="id"><a href="alloc_proof.html#args">args</a></span> <span class="id"><a href="alloc_proof.html#res">res</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="alloc_proof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="alloc_proof.html#mv1">mv1</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="LTL.html#Lop">Lop</a></span> <span class="id"><a href="alloc_proof.html#op">op</a></span> <span class="id">args</span>' <span class="id">res</span>' :: <span class="id"><a href="alloc_proof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="alloc_proof.html#mv2">mv2</a></span> (<span class="id"><a href="LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span> :: <span class="id"><a href="alloc_proof.html#k">k</a></span>)))<br/>
&nbsp;&nbsp;| <span class="id"><a name="ebs_op_dead">ebs_op_dead</a></span>: <span class="kwd">forall</span> <span class="id">op</span> <span class="id">args</span> <span class="id">res</span> <span class="id">mv</span> <span class="id">s</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="alloc_proof.html#mv">mv</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#expand_block_shape">expand_block_shape</a></span> (<span class="id">BSopdead</span> <span class="id"><a href="alloc_proof.html#op">op</a></span> <span class="id"><a href="alloc_proof.html#args">args</a></span> <span class="id"><a href="alloc_proof.html#res">res</a></span> <span class="id"><a href="alloc_proof.html#mv">mv</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="RTL.html#Iop">Iop</a></span> <span class="id"><a href="alloc_proof.html#op">op</a></span> <span class="id"><a href="alloc_proof.html#args">args</a></span> <span class="id"><a href="alloc_proof.html#res">res</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="alloc_proof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="alloc_proof.html#mv">mv</a></span> (<span class="id"><a href="LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span> :: <span class="id"><a href="alloc_proof.html#k">k</a></span>))<br/>
&nbsp;&nbsp;| <span class="id"><a name="ebs_load">ebs_load</a></span>: <span class="kwd">forall</span> <span class="id">chunk</span> <span class="id">addr</span> <span class="id">args</span> <span class="id">dst</span> <span class="id">mv1</span> <span class="id">args</span>' <span class="id">dst</span>' <span class="id">mv2</span> <span class="id">s</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="alloc_proof.html#mv1">mv1</a></span> -&gt; <span class="id"><a href="alloc_proof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="alloc_proof.html#mv2">mv2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#expand_block_shape">expand_block_shape</a></span> (<span class="id">BSload</span> <span class="id"><a href="alloc_proof.html#chunk">chunk</a></span> <span class="id"><a href="alloc_proof.html#addr">addr</a></span> <span class="id"><a href="alloc_proof.html#args">args</a></span> <span class="id"><a href="alloc_proof.html#dst">dst</a></span> <span class="id"><a href="alloc_proof.html#mv1">mv1</a></span> <span class="id">args</span>' <span class="id">dst</span>' <span class="id"><a href="alloc_proof.html#mv2">mv2</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="RTL.html#Iload">Iload</a></span> <span class="id"><a href="alloc_proof.html#chunk">chunk</a></span> <span class="id"><a href="alloc_proof.html#addr">addr</a></span> <span class="id"><a href="alloc_proof.html#args">args</a></span> <span class="id"><a href="alloc_proof.html#dst">dst</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="alloc_proof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="alloc_proof.html#mv1">mv1</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="LTL.html#Lload">Lload</a></span> <span class="id"><a href="alloc_proof.html#chunk">chunk</a></span> <span class="id"><a href="alloc_proof.html#addr">addr</a></span> <span class="id">args</span>' <span class="id">dst</span>' :: <span class="id"><a href="alloc_proof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="alloc_proof.html#mv2">mv2</a></span> (<span class="id"><a href="LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span> :: <span class="id"><a href="alloc_proof.html#k">k</a></span>)))<br/>
&nbsp;&nbsp;| <span class="id"><a name="ebs_load2">ebs_load2</a></span>: <span class="kwd">forall</span> <span class="id">addr</span> <span class="id">addr2</span> <span class="id">args</span> <span class="id">dst</span> <span class="id">mv1</span> <span class="id">args1</span>' <span class="id">dst1</span>' <span class="id">mv2</span> <span class="id">args2</span>' <span class="id">dst2</span>' <span class="id">mv3</span> <span class="id">s</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="alloc_proof.html#mv1">mv1</a></span> -&gt; <span class="id"><a href="alloc_proof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="alloc_proof.html#mv2">mv2</a></span> -&gt; <span class="id"><a href="alloc_proof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="alloc_proof.html#mv3">mv3</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Archi.html#splitlong">Archi.splitlong</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="Op.html#offset_addressing">offset_addressing</a></span> <span class="id"><a href="alloc_proof.html#addr">addr</a></span> 4 = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="alloc_proof.html#addr2">addr2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#expand_block_shape">expand_block_shape</a></span> (<span class="id">BSload2</span> <span class="id"><a href="alloc_proof.html#addr">addr</a></span> <span class="id"><a href="alloc_proof.html#addr2">addr2</a></span> <span class="id"><a href="alloc_proof.html#args">args</a></span> <span class="id"><a href="alloc_proof.html#dst">dst</a></span> <span class="id"><a href="alloc_proof.html#mv1">mv1</a></span> <span class="id">args1</span>' <span class="id">dst1</span>' <span class="id"><a href="alloc_proof.html#mv2">mv2</a></span> <span class="id">args2</span>' <span class="id">dst2</span>' <span class="id"><a href="alloc_proof.html#mv3">mv3</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="RTL.html#Iload">Iload</a></span> <span class="id"><a href="AST.html#Mint64">Mint64</a></span> <span class="id"><a href="alloc_proof.html#addr">addr</a></span> <span class="id"><a href="alloc_proof.html#args">args</a></span> <span class="id"><a href="alloc_proof.html#dst">dst</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="alloc_proof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="alloc_proof.html#mv1">mv1</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="LTL.html#Lload">Lload</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> <span class="id"><a href="alloc_proof.html#addr">addr</a></span> <span class="id">args1</span>' <span class="id">dst1</span>' ::<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="alloc_proof.html#mv2">mv2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="LTL.html#Lload">Lload</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> <span class="id"><a href="alloc_proof.html#addr2">addr2</a></span> <span class="id">args2</span>' <span class="id">dst2</span>' ::<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="alloc_proof.html#mv3">mv3</a></span> (<span class="id"><a href="LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span> :: <span class="id"><a href="alloc_proof.html#k">k</a></span>))))<br/>
&nbsp;&nbsp;| <span class="id"><a name="ebs_load2_1">ebs_load2_1</a></span>: <span class="kwd">forall</span> <span class="id">addr</span> <span class="id">args</span> <span class="id">dst</span> <span class="id">mv1</span> <span class="id">args</span>' <span class="id">dst</span>' <span class="id">mv2</span> <span class="id">s</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="alloc_proof.html#mv1">mv1</a></span> -&gt; <span class="id"><a href="alloc_proof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="alloc_proof.html#mv2">mv2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Archi.html#splitlong">Archi.splitlong</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#expand_block_shape">expand_block_shape</a></span> (<span class="id">BSload2_1</span> <span class="id"><a href="alloc_proof.html#addr">addr</a></span> <span class="id"><a href="alloc_proof.html#args">args</a></span> <span class="id"><a href="alloc_proof.html#dst">dst</a></span> <span class="id"><a href="alloc_proof.html#mv1">mv1</a></span> <span class="id">args</span>' <span class="id">dst</span>' <span class="id"><a href="alloc_proof.html#mv2">mv2</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="RTL.html#Iload">Iload</a></span> <span class="id"><a href="AST.html#Mint64">Mint64</a></span> <span class="id"><a href="alloc_proof.html#addr">addr</a></span> <span class="id"><a href="alloc_proof.html#args">args</a></span> <span class="id"><a href="alloc_proof.html#dst">dst</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="alloc_proof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="alloc_proof.html#mv1">mv1</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="LTL.html#Lload">Lload</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> <span class="id"><a href="alloc_proof.html#addr">addr</a></span> <span class="id">args</span>' <span class="id">dst</span>' ::<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="alloc_proof.html#mv2">mv2</a></span> (<span class="id"><a href="LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span> :: <span class="id"><a href="alloc_proof.html#k">k</a></span>)))<br/>
&nbsp;&nbsp;| <span class="id"><a name="ebs_load2_2">ebs_load2_2</a></span>: <span class="kwd">forall</span> <span class="id">addr</span> <span class="id">addr2</span> <span class="id">args</span> <span class="id">dst</span> <span class="id">mv1</span> <span class="id">args</span>' <span class="id">dst</span>' <span class="id">mv2</span> <span class="id">s</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="alloc_proof.html#mv1">mv1</a></span> -&gt; <span class="id"><a href="alloc_proof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="alloc_proof.html#mv2">mv2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Archi.html#splitlong">Archi.splitlong</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="Op.html#offset_addressing">offset_addressing</a></span> <span class="id"><a href="alloc_proof.html#addr">addr</a></span> 4 = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="alloc_proof.html#addr2">addr2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#expand_block_shape">expand_block_shape</a></span> (<span class="id">BSload2_2</span> <span class="id"><a href="alloc_proof.html#addr">addr</a></span> <span class="id"><a href="alloc_proof.html#addr2">addr2</a></span> <span class="id"><a href="alloc_proof.html#args">args</a></span> <span class="id"><a href="alloc_proof.html#dst">dst</a></span> <span class="id"><a href="alloc_proof.html#mv1">mv1</a></span> <span class="id">args</span>' <span class="id">dst</span>' <span class="id"><a href="alloc_proof.html#mv2">mv2</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="RTL.html#Iload">Iload</a></span> <span class="id"><a href="AST.html#Mint64">Mint64</a></span> <span class="id"><a href="alloc_proof.html#addr">addr</a></span> <span class="id"><a href="alloc_proof.html#args">args</a></span> <span class="id"><a href="alloc_proof.html#dst">dst</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="alloc_proof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="alloc_proof.html#mv1">mv1</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="LTL.html#Lload">Lload</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> <span class="id"><a href="alloc_proof.html#addr2">addr2</a></span> <span class="id">args</span>' <span class="id">dst</span>' ::<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="alloc_proof.html#mv2">mv2</a></span> (<span class="id"><a href="LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span> :: <span class="id"><a href="alloc_proof.html#k">k</a></span>)))<br/>
&nbsp;&nbsp;| <span class="id"><a name="ebs_load_dead">ebs_load_dead</a></span>: <span class="kwd">forall</span> <span class="id">chunk</span> <span class="id">addr</span> <span class="id">args</span> <span class="id">dst</span> <span class="id">mv</span> <span class="id">s</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="alloc_proof.html#mv">mv</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#expand_block_shape">expand_block_shape</a></span> (<span class="id">BSloaddead</span> <span class="id"><a href="alloc_proof.html#chunk">chunk</a></span> <span class="id"><a href="alloc_proof.html#addr">addr</a></span> <span class="id"><a href="alloc_proof.html#args">args</a></span> <span class="id"><a href="alloc_proof.html#dst">dst</a></span> <span class="id"><a href="alloc_proof.html#mv">mv</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="RTL.html#Iload">Iload</a></span> <span class="id"><a href="alloc_proof.html#chunk">chunk</a></span> <span class="id"><a href="alloc_proof.html#addr">addr</a></span> <span class="id"><a href="alloc_proof.html#args">args</a></span> <span class="id"><a href="alloc_proof.html#dst">dst</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="alloc_proof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="alloc_proof.html#mv">mv</a></span> (<span class="id"><a href="LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span> :: <span class="id"><a href="alloc_proof.html#k">k</a></span>))<br/>
&nbsp;&nbsp;| <span class="id"><a name="ebs_store">ebs_store</a></span>: <span class="kwd">forall</span> <span class="id">chunk</span> <span class="id">addr</span> <span class="id">args</span> <span class="id">src</span> <span class="id">mv1</span> <span class="id">args</span>' <span class="id">src</span>' <span class="id">s</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="alloc_proof.html#mv1">mv1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#expand_block_shape">expand_block_shape</a></span> (<span class="id">BSstore</span> <span class="id"><a href="alloc_proof.html#chunk">chunk</a></span> <span class="id"><a href="alloc_proof.html#addr">addr</a></span> <span class="id"><a href="alloc_proof.html#args">args</a></span> <span class="id"><a href="alloc_proof.html#src">src</a></span> <span class="id"><a href="alloc_proof.html#mv1">mv1</a></span> <span class="id">args</span>' <span class="id">src</span>' <span class="id"><a href="alloc_proof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="RTL.html#Istore">Istore</a></span> <span class="id"><a href="alloc_proof.html#chunk">chunk</a></span> <span class="id"><a href="alloc_proof.html#addr">addr</a></span> <span class="id"><a href="alloc_proof.html#args">args</a></span> <span class="id"><a href="alloc_proof.html#src">src</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="alloc_proof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="alloc_proof.html#mv1">mv1</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="LTL.html#Lstore">Lstore</a></span> <span class="id"><a href="alloc_proof.html#chunk">chunk</a></span> <span class="id"><a href="alloc_proof.html#addr">addr</a></span> <span class="id">args</span>' <span class="id">src</span>' :: <span class="id"><a href="LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span> :: <span class="id"><a href="alloc_proof.html#k">k</a></span>))<br/>
&nbsp;&nbsp;| <span class="id"><a name="ebs_store2">ebs_store2</a></span>: <span class="kwd">forall</span> <span class="id">addr</span> <span class="id">addr2</span> <span class="id">args</span> <span class="id">src</span> <span class="id">mv1</span> <span class="id">args1</span>' <span class="id">src1</span>' <span class="id">mv2</span> <span class="id">args2</span>' <span class="id">src2</span>' <span class="id">s</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="alloc_proof.html#mv1">mv1</a></span> -&gt; <span class="id"><a href="alloc_proof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="alloc_proof.html#mv2">mv2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Archi.html#splitlong">Archi.splitlong</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="Op.html#offset_addressing">offset_addressing</a></span> <span class="id"><a href="alloc_proof.html#addr">addr</a></span> 4 = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="alloc_proof.html#addr2">addr2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#expand_block_shape">expand_block_shape</a></span> (<span class="id">BSstore2</span> <span class="id"><a href="alloc_proof.html#addr">addr</a></span> <span class="id"><a href="alloc_proof.html#addr2">addr2</a></span> <span class="id"><a href="alloc_proof.html#args">args</a></span> <span class="id"><a href="alloc_proof.html#src">src</a></span> <span class="id"><a href="alloc_proof.html#mv1">mv1</a></span> <span class="id">args1</span>' <span class="id">src1</span>' <span class="id"><a href="alloc_proof.html#mv2">mv2</a></span> <span class="id">args2</span>' <span class="id">src2</span>' <span class="id"><a href="alloc_proof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="RTL.html#Istore">Istore</a></span> <span class="id"><a href="AST.html#Mint64">Mint64</a></span> <span class="id"><a href="alloc_proof.html#addr">addr</a></span> <span class="id"><a href="alloc_proof.html#args">args</a></span> <span class="id"><a href="alloc_proof.html#src">src</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="alloc_proof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="alloc_proof.html#mv1">mv1</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="LTL.html#Lstore">Lstore</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> <span class="id"><a href="alloc_proof.html#addr">addr</a></span> <span class="id">args1</span>' <span class="id">src1</span>' ::<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="alloc_proof.html#mv2">mv2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="LTL.html#Lstore">Lstore</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> <span class="id"><a href="alloc_proof.html#addr2">addr2</a></span> <span class="id">args2</span>' <span class="id">src2</span>' ::<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span> :: <span class="id"><a href="alloc_proof.html#k">k</a></span>)))<br/>
&nbsp;&nbsp;| <span class="id"><a name="ebs_call">ebs_call</a></span>: <span class="kwd">forall</span> <span class="id">sg</span> <span class="id">ros</span> <span class="id">args</span> <span class="id">res</span> <span class="id">mv1</span> <span class="id">ros</span>' <span class="id">mv2</span> <span class="id">s</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="alloc_proof.html#mv1">mv1</a></span> -&gt; <span class="id"><a href="alloc_proof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="alloc_proof.html#mv2">mv2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#expand_block_shape">expand_block_shape</a></span> (<span class="id">BScall</span> <span class="id"><a href="alloc_proof.html#sg">sg</a></span> <span class="id"><a href="alloc_proof.html#ros">ros</a></span> <span class="id"><a href="alloc_proof.html#args">args</a></span> <span class="id"><a href="alloc_proof.html#res">res</a></span> <span class="id"><a href="alloc_proof.html#mv1">mv1</a></span> <span class="id">ros</span>' <span class="id"><a href="alloc_proof.html#mv2">mv2</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="RTL.html#Icall">Icall</a></span> <span class="id"><a href="alloc_proof.html#sg">sg</a></span> <span class="id"><a href="alloc_proof.html#ros">ros</a></span> <span class="id"><a href="alloc_proof.html#args">args</a></span> <span class="id"><a href="alloc_proof.html#res">res</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="alloc_proof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="alloc_proof.html#mv1">mv1</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="LTL.html#Lcall">Lcall</a></span> <span class="id"><a href="alloc_proof.html#sg">sg</a></span> <span class="id">ros</span>' :: <span class="id"><a href="alloc_proof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="alloc_proof.html#mv2">mv2</a></span> (<span class="id"><a href="LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span> :: <span class="id"><a href="alloc_proof.html#k">k</a></span>)))<br/>
&nbsp;&nbsp;| <span class="id"><a name="ebs_tailcall">ebs_tailcall</a></span>: <span class="kwd">forall</span> <span class="id">sg</span> <span class="id">ros</span> <span class="id">args</span> <span class="id">mv</span> <span class="id">ros</span>' <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="alloc_proof.html#mv">mv</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#expand_block_shape">expand_block_shape</a></span> (<span class="id">BStailcall</span> <span class="id"><a href="alloc_proof.html#sg">sg</a></span> <span class="id"><a href="alloc_proof.html#ros">ros</a></span> <span class="id"><a href="alloc_proof.html#args">args</a></span> <span class="id"><a href="alloc_proof.html#mv">mv</a></span> <span class="id">ros</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="RTL.html#Itailcall">Itailcall</a></span> <span class="id"><a href="alloc_proof.html#sg">sg</a></span> <span class="id"><a href="alloc_proof.html#ros">ros</a></span> <span class="id"><a href="alloc_proof.html#args">args</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="alloc_proof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="alloc_proof.html#mv">mv</a></span> (<span class="id"><a href="LTL.html#Ltailcall">Ltailcall</a></span> <span class="id"><a href="alloc_proof.html#sg">sg</a></span> <span class="id">ros</span>' :: <span class="id"><a href="alloc_proof.html#k">k</a></span>))<br/>
&nbsp;&nbsp;| <span class="id"><a name="ebs_builtin">ebs_builtin</a></span>: <span class="kwd">forall</span> <span class="id">ef</span> <span class="id">args</span> <span class="id">res</span> <span class="id">mv1</span> <span class="id">args</span>' <span class="id">res</span>' <span class="id">mv2</span> <span class="id">s</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="alloc_proof.html#mv1">mv1</a></span> -&gt; <span class="id"><a href="alloc_proof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="alloc_proof.html#mv2">mv2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#expand_block_shape">expand_block_shape</a></span> (<span class="id">BSbuiltin</span> <span class="id"><a href="alloc_proof.html#ef">ef</a></span> <span class="id"><a href="alloc_proof.html#args">args</a></span> <span class="id"><a href="alloc_proof.html#res">res</a></span> <span class="id"><a href="alloc_proof.html#mv1">mv1</a></span> <span class="id">args</span>' <span class="id">res</span>' <span class="id"><a href="alloc_proof.html#mv2">mv2</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="RTL.html#Ibuiltin">Ibuiltin</a></span> <span class="id"><a href="alloc_proof.html#ef">ef</a></span> <span class="id"><a href="alloc_proof.html#args">args</a></span> <span class="id"><a href="alloc_proof.html#res">res</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="alloc_proof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="alloc_proof.html#mv1">mv1</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="LTL.html#Lbuiltin">Lbuiltin</a></span> <span class="id"><a href="alloc_proof.html#ef">ef</a></span> <span class="id">args</span>' <span class="id">res</span>' :: <span class="id"><a href="alloc_proof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="alloc_proof.html#mv2">mv2</a></span> (<span class="id"><a href="LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span> :: <span class="id"><a href="alloc_proof.html#k">k</a></span>)))<br/>
&nbsp;&nbsp;| <span class="id"><a name="ebs_cond">ebs_cond</a></span>: <span class="kwd">forall</span> <span class="id">cond</span> <span class="id">args</span> <span class="id">mv</span> <span class="id">args</span>' <span class="id">s1</span> <span class="id">s2</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="alloc_proof.html#mv">mv</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#expand_block_shape">expand_block_shape</a></span> (<span class="id">BScond</span> <span class="id"><a href="alloc_proof.html#cond">cond</a></span> <span class="id"><a href="alloc_proof.html#args">args</a></span> <span class="id"><a href="alloc_proof.html#mv">mv</a></span> <span class="id">args</span>' <span class="id"><a href="alloc_proof.html#s1">s1</a></span> <span class="id"><a href="alloc_proof.html#s2">s2</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="RTL.html#Icond">Icond</a></span> <span class="id"><a href="alloc_proof.html#cond">cond</a></span> <span class="id"><a href="alloc_proof.html#args">args</a></span> <span class="id"><a href="alloc_proof.html#s1">s1</a></span> <span class="id"><a href="alloc_proof.html#s2">s2</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="alloc_proof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="alloc_proof.html#mv">mv</a></span> (<span class="id"><a href="LTL.html#Lcond">Lcond</a></span> <span class="id"><a href="alloc_proof.html#cond">cond</a></span> <span class="id">args</span>' <span class="id"><a href="alloc_proof.html#s1">s1</a></span> <span class="id"><a href="alloc_proof.html#s2">s2</a></span> :: <span class="id"><a href="alloc_proof.html#k">k</a></span>))<br/>
&nbsp;&nbsp;| <span class="id"><a name="ebs_jumptable">ebs_jumptable</a></span>: <span class="kwd">forall</span> <span class="id">arg</span> <span class="id">mv</span> <span class="id">arg</span>' <span class="id">tbl</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="alloc_proof.html#mv">mv</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#expand_block_shape">expand_block_shape</a></span> (<span class="id">BSjumptable</span> <span class="id"><a href="alloc_proof.html#arg">arg</a></span> <span class="id"><a href="alloc_proof.html#mv">mv</a></span> <span class="id">arg</span>' <span class="id"><a href="alloc_proof.html#tbl">tbl</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="RTL.html#Ijumptable">Ijumptable</a></span> <span class="id"><a href="alloc_proof.html#arg">arg</a></span> <span class="id"><a href="alloc_proof.html#tbl">tbl</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="alloc_proof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="alloc_proof.html#mv">mv</a></span> (<span class="id"><a href="LTL.html#Ljumptable">Ljumptable</a></span> <span class="id">arg</span>' <span class="id"><a href="alloc_proof.html#tbl">tbl</a></span> :: <span class="id"><a href="alloc_proof.html#k">k</a></span>))<br/>
&nbsp;&nbsp;| <span class="id"><a name="ebs_return">ebs_return</a></span>: <span class="kwd">forall</span> <span class="id">optarg</span> <span class="id">mv</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="alloc_proof.html#mv">mv</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#expand_block_shape">expand_block_shape</a></span> (<span class="id">BSreturn</span> <span class="id"><a href="alloc_proof.html#optarg">optarg</a></span> <span class="id"><a href="alloc_proof.html#mv">mv</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="RTL.html#Ireturn">Ireturn</a></span> <span class="id"><a href="alloc_proof.html#optarg">optarg</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="alloc_proof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="alloc_proof.html#mv">mv</a></span> (<span class="id"><a href="LTL.html#Lreturn">Lreturn</a></span> :: <span class="id"><a href="alloc_proof.html#k">k</a></span>)).<br/>
<br/>
<span class="kwd">Ltac</span> <span class="id">MonadInv</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> =&gt; <span class="id">_</span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">end</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span> <span class="kwd">as</span> [] <span class="id">eqn</span>:? ; [<span class="id">MonadInv</span>|<span class="tactic">discriminate</span>]<br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#left">left</a></span> <span class="id">_</span> =&gt; <span class="id">_</span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#right">right</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">end</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; [<span class="id">MonadInv</span>|<span class="tactic">discriminate</span>]<br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="kwd">match</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="Coqlib.html#proj_sumbool">proj_sumbool</a></span> ?<span class="id">x</span>) <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt; <span class="id">_</span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">end</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; [<span class="tactic">discriminate</span>|<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>; <span class="id">MonadInv</span>]<br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="kwd">match</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt; <span class="id">_</span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">end</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; [<span class="tactic">discriminate</span>|<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>; <span class="id">MonadInv</span>]<br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt; <span class="id">_</span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">end</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span> <span class="kwd">as</span> [] <span class="id">eqn</span>:? ; [<span class="id">MonadInv</span>|<span class="tactic">discriminate</span>]<br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> (<span class="id">_</span>, <span class="id">_</span>) =&gt; <span class="id">_</span> <span class="kwd">end</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span> <span class="kwd">as</span> [] <span class="id">eqn</span>:? ; <span class="id">MonadInv</span><br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="id">MonadInv</span><br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">discriminate</span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">idtac</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="expand_moves_cons">expand_moves_cons</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">accu</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#expand_moves">expand_moves</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">rev</a></span> (<span class="id"><a href="alloc_proof.html#m">m</a></span> :: <span class="id"><a href="alloc_proof.html#accu">accu</a></span>)) <span class="id"><a href="alloc_proof.html#b">b</a></span> = <span class="id"><a href="alloc_proof.html#expand_moves">expand_moves</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">rev</a></span> <span class="id"><a href="alloc_proof.html#accu">accu</a></span>) (<span class="id"><a href="alloc_proof.html#expand_move">expand_move</a></span> <span class="id"><a href="alloc_proof.html#m">m</a></span> :: <span class="id"><a href="alloc_proof.html#b">b</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7354')">Proof.</div>
<div class="proofscript" id="proof7354">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="alloc_proof.html#expand_moves">expand_moves</a></span>; <span class="tactic">intros</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_ass">app_ass</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="extract_moves_sound">extract_moves_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">mv</span> <span class="id">b</span>',<br/>
&nbsp;&nbsp;<span class="id">extract_moves</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="alloc_proof.html#b">b</a></span> = (<span class="id"><a href="alloc_proof.html#mv">mv</a></span>, <span class="id">b</span>') -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="alloc_proof.html#mv">mv</a></span> /\ <span class="id"><a href="alloc_proof.html#b">b</a></span> = <span class="id"><a href="alloc_proof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="alloc_proof.html#mv">mv</a></span> <span class="id">b</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7355')">Proof.</div>
<div class="proofscript" id="proof7355">
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">BASE</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">accu</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="alloc_proof.html#accu">accu</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#wf_moves">wf_moves</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">List.rev</a></span> <span class="id"><a href="alloc_proof.html#accu">accu</a></span>) /\ <span class="id"><a href="alloc_proof.html#expand_moves">expand_moves</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">List.rev</a></span> <span class="id"><a href="alloc_proof.html#accu">accu</a></span>) <span class="id"><a href="alloc_proof.html#b">b</a></span> = <span class="id"><a href="alloc_proof.html#expand_moves">expand_moves</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">List.rev</a></span> <span class="id"><a href="alloc_proof.html#accu">accu</a></span>) <span class="id"><a href="alloc_proof.html#b">b</a></span>).<br/>
&nbsp;&nbsp;&nbsp;{ <span class="tactic">intros</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">unfold</span> <span class="id"><a href="alloc_proof.html#wf_moves">wf_moves</a></span> <span class="kwd">in</span> *; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#Forall_forall">Forall_forall</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id">H</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_rev">in_rev</a></span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">auto</span>. }<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">IND</span>: <span class="kwd">forall</span> <span class="id">b</span> <span class="id">accu</span> <span class="id">mv</span> <span class="id">b</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">extract_moves</span> <span class="id"><a href="alloc_proof.html#accu">accu</a></span> <span class="id"><a href="alloc_proof.html#b">b</a></span> = (<span class="id"><a href="alloc_proof.html#mv">mv</a></span>, <span class="id">b</span>') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="alloc_proof.html#accu">accu</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="alloc_proof.html#mv">mv</a></span> /\ <span class="id"><a href="alloc_proof.html#expand_moves">expand_moves</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#rev">List.rev</a></span> <span class="id"><a href="alloc_proof.html#accu">accu</a></span>) <span class="id"><a href="alloc_proof.html#b">b</a></span> = <span class="id"><a href="alloc_proof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="alloc_proof.html#mv">mv</a></span> <span class="id">b</span>').<br/>
&nbsp;&nbsp;{ <span class="tactic">induction</span> <span class="id">b</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">a</span>; <span class="tactic">try</span> (<span class="id">inv</span> <span class="id">H</span>; <span class="tactic">apply</span> <span class="id">BASE</span>; <span class="tactic">auto</span>; <span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;+ <span class="tactic">destruct</span> (<span class="id"><a href="Op.html#is_move_operation">is_move_operation</a></span> <span class="id">op</span> <span class="id">args</span>) <span class="kwd">as</span> [<span class="id">arg</span>|] <span class="id">eqn</span>:<span class="id">E</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Op.html#is_move_operation_correct">is_move_operation_correct</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">A</span> <span class="id">B</span>]; <span class="tactic">subst</span>.<br/>
&nbsp;reg-reg&nbsp;move&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHb</span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>; <span class="tactic">auto</span>. <span class="tactic">exact</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#I">I</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="alloc_proof.html#expand_moves_cons">expand_moves_cons</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="tactic">apply</span> <span class="id">BASE</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;stack-reg&nbsp;move&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHb</span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>; <span class="tactic">auto</span>. <span class="tactic">exact</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#I">I</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="alloc_proof.html#expand_moves_cons">expand_moves_cons</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*&nbsp;reg-stack&nbsp;move&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHb</span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>; <span class="tactic">auto</span>. <span class="tactic">exact</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#I">I</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="alloc_proof.html#expand_moves_cons">expand_moves_cons</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">exploit</span> <span class="id">IND</span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>. <br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="check_succ_sound">check_succ_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">s</span> <span class="id">b</span>, <span class="id">check_succ</span> <span class="id"><a href="alloc_proof.html#s">s</a></span> <span class="id"><a href="alloc_proof.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id">exists</span> <span class="id">k</span>, <span class="id"><a href="alloc_proof.html#b">b</a></span> = <span class="id"><a href="LTL.html#Lbranch">Lbranch</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span> :: <span class="id"><a href="alloc_proof.html#k">k</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7356')">Proof.</div>
<div class="proofscript" id="proof7356">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">b</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">i</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#peq">peq</a></span> <span class="id">s</span> <span class="id">s0</span>); <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H</span>. <span class="id">exists</span> <span class="id">b</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Ltac</span> <span class="id">UseParsingLemmas</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="id">extract_moves</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id">_</span> = (<span class="id">_</span>, <span class="id">_</span>) |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="alloc_proof.html#extract_moves_sound">extract_moves_sound</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>); <span class="tactic">clear</span> <span class="id">H</span>; <span class="tactic">subst</span>; <span class="id">UseParsingLemmas</span><br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="id">check_succ</span> <span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">discriminate</span> <span class="id">H</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="alloc_proof.html#check_succ_sound">check_succ_sound</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>); <span class="tactic">clear</span> <span class="id">H</span>; <span class="tactic">subst</span>; <span class="id">UseParsingLemmas</span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id">idtac</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="pair_instr_block_sound">pair_instr_block_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">i</span> <span class="id">b</span> <span class="id">bsh</span>,<br/>
&nbsp;&nbsp;<span class="id">pair_instr_block</span> <span class="id"><a href="alloc_proof.html#i">i</a></span> <span class="id"><a href="alloc_proof.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="alloc_proof.html#bsh">bsh</a></span> -&gt; <span class="id"><a href="alloc_proof.html#expand_block_shape">expand_block_shape</a></span> <span class="id"><a href="alloc_proof.html#bsh">bsh</a></span> <span class="id"><a href="alloc_proof.html#i">i</a></span> <span class="id"><a href="alloc_proof.html#b">b</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7357')">Proof.</div>
<div class="proofscript" id="proof7357">
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">OP</span>: <span class="kwd">forall</span> <span class="id">op</span> <span class="id">args</span> <span class="id">res</span> <span class="id">s</span> <span class="id">b</span> <span class="id">bsh</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pair_Iop_block</span> <span class="id"><a href="alloc_proof.html#op">op</a></span> <span class="id"><a href="alloc_proof.html#args">args</a></span> <span class="id"><a href="alloc_proof.html#res">res</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span> <span class="id"><a href="alloc_proof.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="alloc_proof.html#bsh">bsh</a></span> -&gt; <span class="id"><a href="alloc_proof.html#expand_block_shape">expand_block_shape</a></span> <span class="id"><a href="alloc_proof.html#bsh">bsh</a></span> (<span class="id"><a href="RTL.html#Iop">Iop</a></span> <span class="id"><a href="alloc_proof.html#op">op</a></span> <span class="id"><a href="alloc_proof.html#args">args</a></span> <span class="id"><a href="alloc_proof.html#res">res</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span>) <span class="id"><a href="alloc_proof.html#b">b</a></span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">pair_Iop_block</span>; <span class="tactic">intros</span>. <span class="id">MonadInv</span>. <span class="tactic">destruct</span> <span class="id">b0</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">MonadInv</span>; <span class="id">UseParsingLemmas</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">i</span>; <span class="id">MonadInv</span>; <span class="id">UseParsingLemmas</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#ebs_op">ebs_op</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#ebs_op_dead">ebs_op_dead</a></span>; <span class="tactic">eauto</span>. }<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">destruct</span> <span class="id">i</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>; <span class="id">MonadInv</span>; <span class="id">UseParsingLemmas</span>.<br/>
- <span class="comment">(*&nbsp;nop&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;op&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">classify_operation</span> <span class="id">o</span> <span class="id">l</span>).<br/>
+ <span class="comment">(*&nbsp;move&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">MonadInv</span>; <span class="id">UseParsingLemmas</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
+ <span class="comment">(*&nbsp;makelong&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Archi.html#splitlong">Archi.splitlong</a></span> <span class="id">eqn</span>:<span class="id">SL</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">MonadInv</span>; <span class="id">UseParsingLemmas</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
+ <span class="comment">(*&nbsp;lowlong&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Archi.html#splitlong">Archi.splitlong</a></span> <span class="id">eqn</span>:<span class="id">SL</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">MonadInv</span>; <span class="id">UseParsingLemmas</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
+ <span class="comment">(*&nbsp;highlong&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Archi.html#splitlong">Archi.splitlong</a></span> <span class="id">eqn</span>:<span class="id">SL</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">MonadInv</span>; <span class="id">UseParsingLemmas</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
+ <span class="comment">(*&nbsp;other&nbsp;ops&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;load&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">b0</span> <span class="kwd">as</span> [ | [] <span class="id">b0</span>]; <span class="id">MonadInv</span>; <span class="id">UseParsingLemmas</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="AST.html#chunk_eq">chunk_eq</a></span> <span class="id">m</span> <span class="id"><a href="AST.html#Mint64">Mint64</a></span> &amp;&amp; <span class="id"><a href="Archi.html#splitlong">Archi.splitlong</a></span>) <span class="id">eqn</span>:<span class="id">A</span>; <span class="id">MonadInv</span>; <span class="id">UseParsingLemmas</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">b</span> <span class="kwd">as</span> [ | [] <span class="id">b</span>]; <span class="id">MonadInv</span>; <span class="id">UseParsingLemmas</span>.<br/>
&nbsp;&nbsp;<span class="id">InvBooleans</span>. <span class="tactic">subst</span> <span class="id">m</span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#ebs_load2">ebs_load2</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">InvBooleans</span>. <span class="tactic">subst</span> <span class="id">m</span>. <br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Op.html#eq_addressing">eq_addressing</a></span> <span class="id">a</span> <span class="id">addr</span>). <br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H2</span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#ebs_load2_1">ebs_load2_1</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#option_eq">option_eq</a></span> <span class="id"><a href="Op.html#eq_addressing">eq_addressing</a></span> (<span class="id"><a href="Op.html#offset_addressing">offset_addressing</a></span> <span class="id">a</span> 4) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">addr</span>)).<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H2</span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#ebs_load2_2">ebs_load2_2</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#ebs_load">ebs_load</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#ebs_load_dead">ebs_load_dead</a></span>; <span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;store&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">b0</span>; <span class="id">MonadInv</span>. <span class="tactic">destruct</span> <span class="id">i</span>; <span class="id">MonadInv</span>; <span class="id">UseParsingLemmas</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="AST.html#chunk_eq">chunk_eq</a></span> <span class="id">m</span> <span class="id"><a href="AST.html#Mint64">Mint64</a></span> &amp;&amp; <span class="id"><a href="Archi.html#splitlong">Archi.splitlong</a></span>) <span class="id">eqn</span>:<span class="id">A</span>; <span class="id">MonadInv</span>; <span class="id">UseParsingLemmas</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">b</span> <span class="kwd">as</span> [ | [] <span class="id">b</span>]; <span class="id">MonadInv</span>; <span class="id">UseParsingLemmas</span>.<br/>
&nbsp;&nbsp;<span class="id">InvBooleans</span>. <span class="tactic">subst</span> <span class="id">m</span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#ebs_store2">ebs_store2</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#ebs_store">ebs_store</a></span>; <span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;call&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">b0</span> <span class="kwd">as</span> [|[] ]; <span class="id">MonadInv</span>; <span class="id">UseParsingLemmas</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;tailcall&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">b0</span> <span class="kwd">as</span> [|[] ]; <span class="id">MonadInv</span>; <span class="id">UseParsingLemmas</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;builtin&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">b1</span> <span class="kwd">as</span> [|[] ]; <span class="id">MonadInv</span>; <span class="id">UseParsingLemmas</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;cond&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">b0</span> <span class="kwd">as</span> [|[]]; <span class="id">MonadInv</span>; <span class="id">UseParsingLemmas</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;jumptable&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">b0</span> <span class="kwd">as</span> [|[]]; <span class="id">MonadInv</span>; <span class="id">UseParsingLemmas</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;return&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">b0</span> <span class="kwd">as</span> [|[]]; <span class="id">MonadInv</span>; <span class="id">UseParsingLemmas</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="matching_instr_block">matching_instr_block</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f1</span> <span class="id">f2</span> <span class="id">pc</span> <span class="id">bsh</span> <span class="id">i</span>,<br/>
&nbsp;&nbsp;(<span class="id">pair_codes</span> <span class="id"><a href="alloc_proof.html#f1">f1</a></span> <span class="id"><a href="alloc_proof.html#f2">f2</a></span>)!<span class="id"><a href="alloc_proof.html#pc">pc</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="alloc_proof.html#bsh">bsh</a></span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id"><a href="RTL.html#fn_code">RTL.fn_code</a></span> <span class="id"><a href="alloc_proof.html#f1">f1</a></span>)!<span class="id"><a href="alloc_proof.html#pc">pc</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="alloc_proof.html#i">i</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">b</span>, (<span class="id"><a href="LTL.html#fn_code">LTL.fn_code</a></span> <span class="id"><a href="alloc_proof.html#f2">f2</a></span>)!<span class="id"><a href="alloc_proof.html#pc">pc</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="alloc_proof.html#b">b</a></span> /\ <span class="id"><a href="alloc_proof.html#expand_block_shape">expand_block_shape</a></span> <span class="id"><a href="alloc_proof.html#bsh">bsh</a></span> <span class="id"><a href="alloc_proof.html#i">i</a></span> <span class="id"><a href="alloc_proof.html#b">b</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7358')">Proof.</div>
<div class="proofscript" id="proof7358">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id">pair_codes</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Maps.html#PTree.gcombine">PTree.gcombine</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="LTL.html#fn_code">LTL.fn_code</a></span> <span class="id">f2</span>)!<span class="id">pc</span> <span class="kwd">as</span> [<span class="id">b</span>|].<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">b</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="alloc_proof.html#pair_instr_block_sound">pair_instr_block_sound</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">discriminate</span>.<br/>
Qed.</div>
<br/>
<h1> Properties of equations </h1>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="ESF">ESF</a></span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.FSets.FSetFacts.html#Facts">FSetFacts.Facts</a></span>(<span class="id">EqSet</span>).<br/>
<span class="kwd">Module</span> <span class="id"><a name="ESP">ESP</a></span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.FSets.FSetProperties.html#Properties">FSetProperties.Properties</a></span>(<span class="id">EqSet</span>).<br/>
<span class="kwd">Module</span> <span class="id"><a name="ESD">ESD</a></span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.FSets.FSetDecide.html#Decide">FSetDecide.Decide</a></span>(<span class="id">EqSet</span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="sel_val">sel_val</a></span> (<span class="id">k</span>: <span class="id">equation_kind</span>) (<span class="id">v</span>: <span class="id"><a href="Values.html#val">val</a></span>) : <span class="id"><a href="Values.html#val">val</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="alloc_proof.html#k">k</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">Full</span> =&gt; <span class="id"><a href="alloc_proof.html#v">v</a></span><br/>
&nbsp;&nbsp;| <span class="id">Low</span> =&gt; <span class="id"><a href="Values.html#Val.loword">Val.loword</a></span> <span class="id"><a href="alloc_proof.html#v">v</a></span><br/>
&nbsp;&nbsp;| <span class="id">High</span> =&gt; <span class="id"><a href="Values.html#Val.hiword">Val.hiword</a></span> <span class="id"><a href="alloc_proof.html#v">v</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<div class="doc">A set of equations <span class="bracket"><span class="id">e</span></span> is satisfied in a RTL pseudoreg state <span class="bracket"><span class="id">rs</span></span>
  and an LTL location state <span class="bracket"><span class="id">ls</span></span> if, for every equation <span class="bracket"><span class="id">r</span> = <span class="id">l</span> [<span class="id">k</span>]</span> in <span class="bracket"><span class="id">e</span></span>,
  <span class="bracket"><span class="id">sel_val</span> <span class="id">k</span> (<span class="id">rs</span>#<span class="id">r</span>)</span> (the <span class="bracket"><span class="id">k</span></span> fragment of <span class="bracket"><span class="id">r</span></span>'s value in the RTL code)
  is less defined than <span class="bracket"><span class="id">ls</span> <span class="id">l</span></span> (the value of <span class="bracket"><span class="id">l</span></span> in the LTL code). </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="satisf">satisf</a></span> (<span class="id">rs</span>: <span class="id"><a href="RTL.html#regset">regset</a></span>) (<span class="id">ls</span>: <span class="id"><a href="LTL.html#locset">locset</a></span>) (<span class="id">e</span>: <span class="id">eqs</span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">q</span>, <span class="id">EqSet.In</span> <span class="id"><a href="alloc_proof.html#q">q</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> -&gt; <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="alloc_proof.html#sel_val">sel_val</a></span> (<span class="id">ekind</span> <span class="id"><a href="alloc_proof.html#q">q</a></span>) <span class="id"><a href="alloc_proof.html#rs">rs</a></span>#(<span class="id">ereg</span> <span class="id"><a href="alloc_proof.html#q">q</a></span>)) (<span class="id"><a href="alloc_proof.html#ls">ls</a></span> (<span class="id">eloc</span> <span class="id"><a href="alloc_proof.html#q">q</a></span>)).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="empty_eqs_satisf">empty_eqs_satisf</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rs</span> <span class="id">ls</span>, <span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id">empty_eqs</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7359')">Proof.</div>
<div class="proofscript" id="proof7359">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">empty_eqs</span>; <span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="id">ESD.fsetdec</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="satisf_incr">satisf_incr</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rs</span> <span class="id">ls</span> (<span class="id">e1</span> <span class="id">e2</span>: <span class="id">eqs</span>),<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id"><a href="alloc_proof.html#e2">e2</a></span> -&gt; <span class="id">EqSet.Subset</span> <span class="id"><a href="alloc_proof.html#e1">e1</a></span> <span class="id"><a href="alloc_proof.html#e2">e2</a></span> -&gt; <span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id"><a href="alloc_proof.html#e1">e1</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7360')">Proof.</div>
<div class="proofscript" id="proof7360">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="alloc_proof.html#satisf">satisf</a></span>; <span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id">H</span>. <span class="id">ESD.fsetdec</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="satisf_undef_reg">satisf_undef_reg</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">e</span> <span class="id">r</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> (<span class="id"><a href="alloc_proof.html#rs">rs</a></span>#<span class="id"><a href="alloc_proof.html#r">r</a></span> &lt;- <span class="id"><a href="Values.html#Vundef">Vundef</a></span>) <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7361')">Proof.</div>
<div class="proofscript" id="proof7361">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Registers.html#Regmap.gsspec">Regmap.gsspec</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#peq">peq</a></span> (<span class="id">ereg</span> <span class="id">q</span>) <span class="id">r</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">ekind</span> <span class="id">q</span>); <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="add_equation_lessdef">add_equation_lessdef</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">q</span> <span class="id">e</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> (<span class="id">add_equation</span> <span class="id"><a href="alloc_proof.html#q">q</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span>) -&gt; <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="alloc_proof.html#sel_val">sel_val</a></span> (<span class="id">ekind</span> <span class="id"><a href="alloc_proof.html#q">q</a></span>) <span class="id"><a href="alloc_proof.html#rs">rs</a></span>#(<span class="id">ereg</span> <span class="id"><a href="alloc_proof.html#q">q</a></span>)) (<span class="id"><a href="alloc_proof.html#ls">ls</a></span> (<span class="id">eloc</span> <span class="id"><a href="alloc_proof.html#q">q</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7362')">Proof.</div>
<div class="proofscript" id="proof7362">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id">H</span>. <span class="tactic">unfold</span> <span class="id">add_equation</span>. <span class="tactic">simpl</span>. <span class="tactic">apply</span> <span class="id">EqSet.add_1</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="add_equation_satisf">add_equation_satisf</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">q</span> <span class="id">e</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> (<span class="id">add_equation</span> <span class="id"><a href="alloc_proof.html#q">q</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span>) -&gt; <span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7363')">Proof.</div>
<div class="proofscript" id="proof7363">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#satisf_incr">satisf_incr</a></span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id">add_equation</span>. <span class="tactic">simpl</span>. <span class="id">ESD.fsetdec</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="add_equations_satisf">add_equations_satisf</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">rl</span> <span class="id">ml</span> <span class="id">e</span> <span class="id">e</span>',<br/>
&nbsp;&nbsp;<span class="id">add_equations</span> <span class="id"><a href="alloc_proof.html#rl">rl</a></span> <span class="id"><a href="alloc_proof.html#ml">ml</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id">e</span>' -&gt; <span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7364')">Proof.</div>
<div class="proofscript" id="proof7364">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">rl</span>; <span class="tactic">destruct</span> <span class="id">ml</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>; <span class="id">MonadInv</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equation_satisf">add_equation_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="add_equations_lessdef">add_equations_lessdef</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">rl</span> <span class="id">ml</span> <span class="id">e</span> <span class="id">e</span>',<br/>
&nbsp;&nbsp;<span class="id">add_equations</span> <span class="id"><a href="alloc_proof.html#rl">rl</a></span> <span class="id"><a href="alloc_proof.html#ml">ml</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef_list">Val.lessdef_list</a></span> (<span class="id"><a href="alloc_proof.html#rs">rs</a></span>##<span class="id"><a href="alloc_proof.html#rl">rl</a></span>) (<span class="id"><a href="LTL.html#reglist">reglist</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id"><a href="alloc_proof.html#ml">ml</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7365')">Proof.</div>
<div class="proofscript" id="proof7365">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">rl</span>; <span class="tactic">destruct</span> <span class="id">ml</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>; <span class="id">MonadInv</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="alloc_proof.html#add_equation_lessdef">add_equation_lessdef</a></span> <span class="kwd">with</span> (<span class="id">e</span> := <span class="id">e</span>) (<span class="id">q</span> := <span class="id">Eq</span> <span class="id">Full</span> <span class="id">a</span> (<span class="id"><a href="Locations.html#R">R</a></span> <span class="id">m</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equations_satisf">add_equations_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="add_equations_args_satisf">add_equations_args_satisf</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">rl</span> <span class="id">tyl</span> <span class="id">ll</span> <span class="id">e</span> <span class="id">e</span>',<br/>
&nbsp;&nbsp;<span class="id">add_equations_args</span> <span class="id"><a href="alloc_proof.html#rl">rl</a></span> <span class="id"><a href="alloc_proof.html#tyl">tyl</a></span> <span class="id"><a href="alloc_proof.html#ll">ll</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id">e</span>' -&gt; <span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7366')">Proof.</div>
<div class="proofscript" id="proof7366">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">e</span>'. <span class="id">functional</span> <span class="tactic">induction</span> (<span class="id">add_equations_args</span> <span class="id">rl</span> <span class="id">tyl</span> <span class="id">ll</span> <span class="id">e</span>); <span class="tactic">intros</span>.<br/>
- <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equation_satisf">add_equation_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
- <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equation_satisf">add_equation_satisf</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equation_satisf">add_equation_satisf</a></span>. <span class="tactic">eauto</span>.<br/>
- <span class="tactic">congruence</span>.<br/>
- <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="val_longofwords_eq">val_longofwords_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.has_type">Val.has_type</a></span> <span class="id"><a href="alloc_proof.html#v">v</a></span> <span class="id"><a href="AST.html#Tlong">Tlong</a></span> -&gt; <span class="id"><a href="Archi.html#splitlong">Archi.splitlong</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.longofwords">Val.longofwords</a></span> (<span class="id"><a href="Values.html#Val.hiword">Val.hiword</a></span> <span class="id"><a href="alloc_proof.html#v">v</a></span>) (<span class="id"><a href="Values.html#Val.loword">Val.loword</a></span> <span class="id"><a href="alloc_proof.html#v">v</a></span>) = <span class="id"><a href="alloc_proof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7367')">Proof.</div>
<div class="proofscript" id="proof7367">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> <span class="id">v</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
- <span class="tactic">reflexivity</span>.<br/>
- <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.ofwords_recompose">Int64.ofwords_recompose</a></span>. <span class="tactic">auto</span>.<br/>
- <span class="tactic">rewrite</span> <span class="id"><a href="Archi.html#splitlong_ptr32">Archi.splitlong_ptr32</a></span> <span class="kwd">in</span> <span class="id">H</span> <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="add_equations_args_lessdef">add_equations_args_lessdef</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">rl</span> <span class="id">tyl</span> <span class="id">ll</span> <span class="id">e</span> <span class="id">e</span>',<br/>
&nbsp;&nbsp;<span class="id">add_equations_args</span> <span class="id"><a href="alloc_proof.html#rl">rl</a></span> <span class="id"><a href="alloc_proof.html#tyl">tyl</a></span> <span class="id"><a href="alloc_proof.html#ll">ll</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.has_type_list">Val.has_type_list</a></span> (<span class="id"><a href="alloc_proof.html#rs">rs</a></span>##<span class="id"><a href="alloc_proof.html#rl">rl</a></span>) <span class="id"><a href="alloc_proof.html#tyl">tyl</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef_list">Val.lessdef_list</a></span> (<span class="id"><a href="alloc_proof.html#rs">rs</a></span>##<span class="id"><a href="alloc_proof.html#rl">rl</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">p</span> =&gt; <span class="id"><a href="Locations.html#Locmap.getpair">Locmap.getpair</a></span> <span class="id"><a href="alloc_proof.html#p">p</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span>) <span class="id"><a href="alloc_proof.html#ll">ll</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7368')">Proof.</div>
<div class="proofscript" id="proof7368">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">e</span>'. <span class="id">functional</span> <span class="tactic">induction</span> (<span class="id">add_equations_args</span> <span class="id">rl</span> <span class="id">tyl</span> <span class="id">ll</span> <span class="id">e</span>); <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
- <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">destruct</span> <span class="id">H1</span>. <span class="id">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equation_lessdef">add_equation_lessdef</a></span> <span class="kwd">with</span> (<span class="id">q</span> := <span class="id">Eq</span> <span class="id">Full</span> <span class="id">r1</span> <span class="id">l1</span>). <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equations_args_satisf">add_equations_args_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
- <span class="tactic">destruct</span> <span class="id">H1</span>. <span class="id">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="alloc_proof.html#val_longofwords_eq">val_longofwords_eq</a></span> (<span class="id">rs</span>#<span class="id">r1</span>)) <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.longofwords_lessdef">Val.longofwords_lessdef</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equation_lessdef">add_equation_lessdef</a></span> <span class="kwd">with</span> (<span class="id">q</span> := <span class="id">Eq</span> <span class="id">High</span> <span class="id">r1</span> <span class="id">l1</span>).<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equation_satisf">add_equation_satisf</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equations_args_satisf">add_equations_args_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equation_lessdef">add_equation_lessdef</a></span> <span class="kwd">with</span> (<span class="id">q</span> := <span class="id">Eq</span> <span class="id">Low</span> <span class="id">r1</span> <span class="id">l2</span>).<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equations_args_satisf">add_equations_args_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
- <span class="tactic">discriminate</span>.<br/>
- <span class="tactic">discriminate</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="add_equation_ros_satisf">add_equation_ros_satisf</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">ros</span> <span class="id">mos</span> <span class="id">e</span> <span class="id">e</span>',<br/>
&nbsp;&nbsp;<span class="id">add_equation_ros</span> <span class="id"><a href="alloc_proof.html#ros">ros</a></span> <span class="id"><a href="alloc_proof.html#mos">mos</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id">e</span>' -&gt; <span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7369')">Proof.</div>
<div class="proofscript" id="proof7369">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">add_equation_ros</span>; <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">ros</span>; <span class="tactic">destruct</span> <span class="id">mos</span>; <span class="id">MonadInv</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equation_satisf">add_equation_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="remove_equation_satisf">remove_equation_satisf</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">q</span> <span class="id">e</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> -&gt; <span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> (<span class="id">remove_equation</span> <span class="id"><a href="alloc_proof.html#q">q</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7370')">Proof.</div>
<div class="proofscript" id="proof7370">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#satisf_incr">satisf_incr</a></span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id">remove_equation</span>; <span class="tactic">simpl</span>. <span class="id">ESD.fsetdec</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="remove_equation_res_satisf">remove_equation_res_satisf</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">r</span> <span class="id">l</span> <span class="id">e</span> <span class="id">e</span>',<br/>
&nbsp;&nbsp;<span class="id">remove_equations_res</span> <span class="id"><a href="alloc_proof.html#r">r</a></span> <span class="id"><a href="alloc_proof.html#l">l</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> -&gt; <span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id">e</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7371')">Proof.</div>
<div class="proofscript" id="proof7371">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">functional</span> <span class="tactic">inversion</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="alloc_proof.html#remove_equation_satisf">remove_equation_satisf</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="alloc_proof.html#remove_equation_satisf">remove_equation_satisf</a></span>. <span class="tactic">apply</span> <span class="id"><a href="alloc_proof.html#remove_equation_satisf">remove_equation_satisf</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="select_reg_l_monotone">select_reg_l_monotone</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">r</span> <span class="id">q1</span> <span class="id">q2</span>,<br/>
&nbsp;&nbsp;<span class="id">OrderedEquation.eq</span> <span class="id"><a href="alloc_proof.html#q1">q1</a></span> <span class="id"><a href="alloc_proof.html#q2">q2</a></span> \/ <span class="id">OrderedEquation.lt</span> <span class="id"><a href="alloc_proof.html#q1">q1</a></span> <span class="id"><a href="alloc_proof.html#q2">q2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">select_reg_l</span> <span class="id"><a href="alloc_proof.html#r">r</a></span> <span class="id"><a href="alloc_proof.html#q1">q1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id">select_reg_l</span> <span class="id"><a href="alloc_proof.html#r">r</a></span> <span class="id"><a href="alloc_proof.html#q2">q2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7372')">Proof.</div>
<div class="proofscript" id="proof7372">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">select_reg_l</span>; <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.leb_le">Pos.leb_le</a></span> <span class="kwd">in</span> *. <span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [<span class="id">A</span> | [<span class="id">A</span> <span class="id">B</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">red</span> <span class="kwd">in</span> <span class="id">A</span>. <span class="id">zify</span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">A</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="select_reg_h_monotone">select_reg_h_monotone</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">r</span> <span class="id">q1</span> <span class="id">q2</span>,<br/>
&nbsp;&nbsp;<span class="id">OrderedEquation.eq</span> <span class="id"><a href="alloc_proof.html#q1">q1</a></span> <span class="id"><a href="alloc_proof.html#q2">q2</a></span> \/ <span class="id">OrderedEquation.lt</span> <span class="id"><a href="alloc_proof.html#q2">q2</a></span> <span class="id"><a href="alloc_proof.html#q1">q1</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">select_reg_h</span> <span class="id"><a href="alloc_proof.html#r">r</a></span> <span class="id"><a href="alloc_proof.html#q1">q1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id">select_reg_h</span> <span class="id"><a href="alloc_proof.html#r">r</a></span> <span class="id"><a href="alloc_proof.html#q2">q2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7373')">Proof.</div>
<div class="proofscript" id="proof7373">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">select_reg_h</span>; <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.leb_le">Pos.leb_le</a></span> <span class="kwd">in</span> *. <span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [<span class="id">A</span> | [<span class="id">A</span> <span class="id">B</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">red</span> <span class="kwd">in</span> <span class="id">A</span>. <span class="id">zify</span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">A</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="select_reg_charact">select_reg_charact</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">r</span> <span class="id">q</span>, <span class="id">select_reg_l</span> <span class="id"><a href="alloc_proof.html#r">r</a></span> <span class="id"><a href="alloc_proof.html#q">q</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> /\ <span class="id">select_reg_h</span> <span class="id"><a href="alloc_proof.html#r">r</a></span> <span class="id"><a href="alloc_proof.html#q">q</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> &lt;-&gt; <span class="id">ereg</span> <span class="id"><a href="alloc_proof.html#q">q</a></span> = <span class="id"><a href="alloc_proof.html#r">r</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7374')">Proof.</div>
<div class="proofscript" id="proof7374">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">select_reg_l</span>, <span class="id">select_reg_h</span>; <span class="tactic">intros</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> ! <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.leb_le">Pos.leb_le</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="Registers.html#reg">reg</a></span>; <span class="id">zify</span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id">H</span>. <span class="tactic">rewrite</span> ! <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.leb_refl">Pos.leb_refl</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="reg_unconstrained_sound">reg_unconstrained_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">r</span> <span class="id">e</span> <span class="id">q</span>,<br/>
&nbsp;&nbsp;<span class="id">reg_unconstrained</span> <span class="id"><a href="alloc_proof.html#r">r</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">EqSet.In</span> <span class="id"><a href="alloc_proof.html#q">q</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">ereg</span> <span class="id"><a href="alloc_proof.html#q">q</a></span> &lt;&gt; <span class="id"><a href="alloc_proof.html#r">r</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7375')">Proof.</div>
<div class="proofscript" id="proof7375">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">reg_unconstrained</span>; <span class="tactic">intros</span>. <span class="tactic">red</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="alloc_proof.html#select_reg_charact">select_reg_charact</a></span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">EqSet.mem_between</span> (<span class="id">select_reg_l</span> <span class="id">r</span>) (<span class="id">select_reg_h</span> <span class="id">r</span>) <span class="id">e</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">EqSet.mem_between_2</span> <span class="kwd">with</span> <span class="id">q</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exact</span> (<span class="id"><a href="alloc_proof.html#select_reg_l_monotone">select_reg_l_monotone</a></span> <span class="id">r</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exact</span> (<span class="id"><a href="alloc_proof.html#select_reg_h_monotone">select_reg_h_monotone</a></span> <span class="id">r</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H2</span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">discriminate</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="reg_unconstrained_satisf">reg_unconstrained_satisf</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">r</span> <span class="id">e</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;<span class="id">reg_unconstrained</span> <span class="id"><a href="alloc_proof.html#r">r</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> (<span class="id"><a href="alloc_proof.html#rs">rs</a></span>#<span class="id"><a href="alloc_proof.html#r">r</a></span> &lt;- <span class="id"><a href="alloc_proof.html#v">v</a></span>) <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7376')">Proof.</div>
<div class="proofscript" id="proof7376">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Maps.html#PMap.gso">PMap.gso</a></span>. <span class="tactic">auto</span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#reg_unconstrained_sound">reg_unconstrained_sound</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="select_loc_l_monotone">select_loc_l_monotone</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l</span> <span class="id">q1</span> <span class="id">q2</span>,<br/>
&nbsp;&nbsp;<span class="id">OrderedEquation</span>'.<span class="id">eq</span> <span class="id"><a href="alloc_proof.html#q1">q1</a></span> <span class="id"><a href="alloc_proof.html#q2">q2</a></span> \/ <span class="id">OrderedEquation</span>'.<span class="id">lt</span> <span class="id"><a href="alloc_proof.html#q1">q1</a></span> <span class="id"><a href="alloc_proof.html#q2">q2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">select_loc_l</span> <span class="id"><a href="alloc_proof.html#l">l</a></span> <span class="id"><a href="alloc_proof.html#q1">q1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id">select_loc_l</span> <span class="id"><a href="alloc_proof.html#l">l</a></span> <span class="id"><a href="alloc_proof.html#q2">q2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7377')">Proof.</div>
<div class="proofscript" id="proof7377">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">select_loc_l</span>; <span class="tactic">intros</span>. <span class="tactic">set</span> (<span class="id">lb</span> := <span class="id"><a href="Locations.html#OrderedLoc.diff_low_bound">OrderedLoc.diff_low_bound</a></span> <span class="id">l</span>) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">subst</span> <span class="id">q2</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">eloc</span> <span class="id">q1</span> = <span class="id">eloc</span> <span class="id">q2</span> \/ <span class="id"><a href="Locations.html#OrderedLoc.lt">OrderedLoc.lt</a></span> (<span class="id">eloc</span> <span class="id">q1</span>) (<span class="id">eloc</span> <span class="id">q2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H1</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Locations.html#OrderedLoc.compare">OrderedLoc.compare</a></span> (<span class="id">eloc</span> <span class="id">q2</span>) <span class="id">lb</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Locations.html#OrderedLoc.lt">OrderedLoc.lt</a></span> (<span class="id">eloc</span> <span class="id">q1</span>) <span class="id">lb</span>) <span class="tactic">by</span> (<span class="tactic">eapply</span> <span class="id"><a href="Locations.html#OrderedLoc.lt_trans">OrderedLoc.lt_trans</a></span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Locations.html#OrderedLoc.compare">OrderedLoc.compare</a></span> (<span class="id">eloc</span> <span class="id">q1</span>) <span class="id">lb</span>).<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eelim</span> <span class="id"><a href="Locations.html#OrderedLoc.lt_not_eq">OrderedLoc.lt_not_eq</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eelim</span> <span class="id"><a href="Locations.html#OrderedLoc.lt_not_eq">OrderedLoc.lt_not_eq</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="Locations.html#OrderedLoc.lt_trans">OrderedLoc.lt_trans</a></span>. <span class="id">eexact</span> <span class="id">l1</span>. <span class="id">eexact</span> <span class="id">H2</span>. <span class="tactic">red</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="select_loc_h_monotone">select_loc_h_monotone</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l</span> <span class="id">q1</span> <span class="id">q2</span>,<br/>
&nbsp;&nbsp;<span class="id">OrderedEquation</span>'.<span class="id">eq</span> <span class="id"><a href="alloc_proof.html#q1">q1</a></span> <span class="id"><a href="alloc_proof.html#q2">q2</a></span> \/ <span class="id">OrderedEquation</span>'.<span class="id">lt</span> <span class="id"><a href="alloc_proof.html#q2">q2</a></span> <span class="id"><a href="alloc_proof.html#q1">q1</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">select_loc_h</span> <span class="id"><a href="alloc_proof.html#l">l</a></span> <span class="id"><a href="alloc_proof.html#q1">q1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id">select_loc_h</span> <span class="id"><a href="alloc_proof.html#l">l</a></span> <span class="id"><a href="alloc_proof.html#q2">q2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7378')">Proof.</div>
<div class="proofscript" id="proof7378">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">select_loc_h</span>; <span class="tactic">intros</span>. <span class="tactic">set</span> (<span class="id">lb</span> := <span class="id"><a href="Locations.html#OrderedLoc.diff_high_bound">OrderedLoc.diff_high_bound</a></span> <span class="id">l</span>) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">subst</span> <span class="id">q2</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">eloc</span> <span class="id">q2</span> = <span class="id">eloc</span> <span class="id">q1</span> \/ <span class="id"><a href="Locations.html#OrderedLoc.lt">OrderedLoc.lt</a></span> (<span class="id">eloc</span> <span class="id">q2</span>) (<span class="id">eloc</span> <span class="id">q1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> <span class="id">H1</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Locations.html#OrderedLoc.compare">OrderedLoc.compare</a></span> (<span class="id">eloc</span> <span class="id">q2</span>) <span class="id">lb</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Locations.html#OrderedLoc.lt">OrderedLoc.lt</a></span> <span class="id">lb</span> (<span class="id">eloc</span> <span class="id">q1</span>)) <span class="tactic">by</span> (<span class="tactic">eapply</span> <span class="id"><a href="Locations.html#OrderedLoc.lt_trans">OrderedLoc.lt_trans</a></span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Locations.html#OrderedLoc.compare">OrderedLoc.compare</a></span> (<span class="id">eloc</span> <span class="id">q1</span>) <span class="id">lb</span>).<br/>
&nbsp;&nbsp;<span class="id">eelim</span> <span class="id"><a href="Locations.html#OrderedLoc.lt_not_eq">OrderedLoc.lt_not_eq</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="Locations.html#OrderedLoc.lt_trans">OrderedLoc.lt_trans</a></span>. <span class="id">eexact</span> <span class="id">l1</span>. <span class="id">eexact</span> <span class="id">H2</span>. <span class="tactic">red</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eelim</span> <span class="id"><a href="Locations.html#OrderedLoc.lt_not_eq">OrderedLoc.lt_not_eq</a></span>. <span class="id">eexact</span> <span class="id">H2</span>. <span class="tactic">apply</span> <span class="id"><a href="Locations.html#OrderedLoc.eq_sym">OrderedLoc.eq_sym</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="select_loc_charact">select_loc_charact</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l</span> <span class="id">q</span>,<br/>
&nbsp;&nbsp;<span class="id">select_loc_l</span> <span class="id"><a href="alloc_proof.html#l">l</a></span> <span class="id"><a href="alloc_proof.html#q">q</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> \/ <span class="id">select_loc_h</span> <span class="id"><a href="alloc_proof.html#l">l</a></span> <span class="id"><a href="alloc_proof.html#q">q</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> &lt;-&gt; <span class="id"><a href="Locations.html#Loc.diff">Loc.diff</a></span> <span class="id"><a href="alloc_proof.html#l">l</a></span> (<span class="id">eloc</span> <span class="id"><a href="alloc_proof.html#q">q</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7379')">Proof.</div>
<div class="proofscript" id="proof7379">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">select_loc_l</span>, <span class="id">select_loc_h</span>; <span class="tactic">intros</span>; <span class="tactic">split</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Locations.html#OrderedLoc.outside_interval_diff">OrderedLoc.outside_interval_diff</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">left</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Locations.html#OrderedLoc.compare">OrderedLoc.compare</a></span> (<span class="id">eloc</span> <span class="id">q</span>) (<span class="id"><a href="Locations.html#OrderedLoc.diff_low_bound">OrderedLoc.diff_low_bound</a></span> <span class="id">l</span>)); <span class="tactic">assumption</span> || <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Locations.html#OrderedLoc.compare">OrderedLoc.compare</a></span> (<span class="id">eloc</span> <span class="id">q</span>) (<span class="id"><a href="Locations.html#OrderedLoc.diff_high_bound">OrderedLoc.diff_high_bound</a></span> <span class="id">l</span>)); <span class="tactic">assumption</span> || <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Locations.html#OrderedLoc.diff_outside_interval">OrderedLoc.diff_outside_interval</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">A</span> | <span class="id">A</span>].<br/>
&nbsp;&nbsp;<span class="id">left</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Locations.html#OrderedLoc.compare">OrderedLoc.compare</a></span> (<span class="id">eloc</span> <span class="id">q</span>) (<span class="id"><a href="Locations.html#OrderedLoc.diff_low_bound">OrderedLoc.diff_low_bound</a></span> <span class="id">l</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eelim</span> <span class="id"><a href="Locations.html#OrderedLoc.lt_not_eq">OrderedLoc.lt_not_eq</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">eelim</span> <span class="id"><a href="Locations.html#OrderedLoc.lt_not_eq">OrderedLoc.lt_not_eq</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="Locations.html#OrderedLoc.lt_trans">OrderedLoc.lt_trans</a></span>; <span class="tactic">eauto</span>. <span class="tactic">red</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Locations.html#OrderedLoc.compare">OrderedLoc.compare</a></span> (<span class="id">eloc</span> <span class="id">q</span>) (<span class="id"><a href="Locations.html#OrderedLoc.diff_high_bound">OrderedLoc.diff_high_bound</a></span> <span class="id">l</span>)).<br/>
&nbsp;&nbsp;<span class="id">eelim</span> <span class="id"><a href="Locations.html#OrderedLoc.lt_not_eq">OrderedLoc.lt_not_eq</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="Locations.html#OrderedLoc.lt_trans">OrderedLoc.lt_trans</a></span>; <span class="tactic">eauto</span>. <span class="tactic">red</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">eelim</span> <span class="id"><a href="Locations.html#OrderedLoc.lt_not_eq">OrderedLoc.lt_not_eq</a></span>; <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="Locations.html#OrderedLoc.eq_sym">OrderedLoc.eq_sym</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc_unconstrained_sound">loc_unconstrained_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l</span> <span class="id">e</span> <span class="id">q</span>,<br/>
&nbsp;&nbsp;<span class="id">loc_unconstrained</span> <span class="id"><a href="alloc_proof.html#l">l</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">EqSet.In</span> <span class="id"><a href="alloc_proof.html#q">q</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Locations.html#Loc.diff">Loc.diff</a></span> <span class="id"><a href="alloc_proof.html#l">l</a></span> (<span class="id">eloc</span> <span class="id"><a href="alloc_proof.html#q">q</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7380')">Proof.</div>
<div class="proofscript" id="proof7380">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">loc_unconstrained</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">select_loc_l</span> <span class="id">l</span> <span class="id">q</span>) <span class="id">eqn</span>:<span class="id">SL</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">select_loc_h</span> <span class="id">l</span> <span class="id">q</span>) <span class="id">eqn</span>:<span class="id">SH</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">EqSet2.mem_between</span> (<span class="id">select_loc_l</span> <span class="id">l</span>) (<span class="id">select_loc_h</span> <span class="id">l</span>) (<span class="id">eqs2</span> <span class="id">e</span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">EqSet2.mem_between_2</span> <span class="kwd">with</span> <span class="id">q</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exact</span> (<span class="id"><a href="alloc_proof.html#select_loc_l_monotone">select_loc_l_monotone</a></span> <span class="id">l</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exact</span> (<span class="id"><a href="alloc_proof.html#select_loc_h_monotone">select_loc_h_monotone</a></span> <span class="id">l</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">eqs_same</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="alloc_proof.html#select_loc_charact">select_loc_charact</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="alloc_proof.html#select_loc_charact">select_loc_charact</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc_unconstrained_satisf">loc_unconstrained_satisf</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">k</span> <span class="id">r</span> <span class="id">mr</span> <span class="id">e</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">l</span> := <span class="id"><a href="Locations.html#R">R</a></span> <span class="id"><a href="alloc_proof.html#mr">mr</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> (<span class="id">remove_equation</span> (<span class="id">Eq</span> <span class="id"><a href="alloc_proof.html#k">k</a></span> <span class="id"><a href="alloc_proof.html#r">r</a></span> <span class="id"><a href="alloc_proof.html#l">l</a></span>) <span class="id"><a href="alloc_proof.html#e">e</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id">loc_unconstrained</span> (<span class="id"><a href="Locations.html#R">R</a></span> <span class="id"><a href="alloc_proof.html#mr">mr</a></span>) (<span class="id">remove_equation</span> (<span class="id">Eq</span> <span class="id"><a href="alloc_proof.html#k">k</a></span> <span class="id"><a href="alloc_proof.html#r">r</a></span> <span class="id"><a href="alloc_proof.html#l">l</a></span>) <span class="id"><a href="alloc_proof.html#e">e</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="alloc_proof.html#sel_val">sel_val</a></span> <span class="id"><a href="alloc_proof.html#k">k</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span>#<span class="id"><a href="alloc_proof.html#r">r</a></span>) <span class="id"><a href="alloc_proof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> (<span class="id"><a href="Locations.html#Locmap.set">Locmap.set</a></span> <span class="id"><a href="alloc_proof.html#l">l</a></span> <span class="id"><a href="alloc_proof.html#v">v</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span>) <span class="id"><a href="alloc_proof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7381')">Proof.</div>
<div class="proofscript" id="proof7381">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">OrderedEquation.eq_dec</span> <span class="id">q</span> (<span class="id">Eq</span> <span class="id">k</span> <span class="id">r</span> <span class="id">l</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">q</span>; <span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id">l</span>; <span class="tactic">rewrite</span> <span class="id"><a href="Locations.html#Locmap.gss">Locmap.gss</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">EqSet.In</span> <span class="id">q</span> (<span class="id">remove_equation</span> (<span class="id">Eq</span> <span class="id">k</span> <span class="id">r</span> <span class="id">l</span>) <span class="id">e</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="id">ESD.fsetdec</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Locations.html#Locmap.gso">Locmap.gso</a></span>. <span class="tactic">apply</span> <span class="id">H</span>; <span class="tactic">auto</span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#loc_unconstrained_sound">loc_unconstrained_sound</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="reg_loc_unconstrained_sound">reg_loc_unconstrained_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">r</span> <span class="id">l</span> <span class="id">e</span> <span class="id">q</span>,<br/>
&nbsp;&nbsp;<span class="id">reg_loc_unconstrained</span> <span class="id"><a href="alloc_proof.html#r">r</a></span> <span class="id"><a href="alloc_proof.html#l">l</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">EqSet.In</span> <span class="id"><a href="alloc_proof.html#q">q</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">ereg</span> <span class="id"><a href="alloc_proof.html#q">q</a></span> &lt;&gt; <span class="id"><a href="alloc_proof.html#r">r</a></span> /\ <span class="id"><a href="Locations.html#Loc.diff">Loc.diff</a></span> <span class="id"><a href="alloc_proof.html#l">l</a></span> (<span class="id">eloc</span> <span class="id"><a href="alloc_proof.html#q">q</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7382')">Proof.</div>
<div class="proofscript" id="proof7382">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb_prop">andb_prop</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>).<br/>
&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#reg_unconstrained_sound">reg_unconstrained_sound</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#loc_unconstrained_sound">loc_unconstrained_sound</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="parallel_assignment_satisf">parallel_assignment_satisf</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">k</span> <span class="id">r</span> <span class="id">mr</span> <span class="id">e</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">v</span> <span class="id">v</span>',<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">l</span> := <span class="id"><a href="Locations.html#R">R</a></span> <span class="id"><a href="alloc_proof.html#mr">mr</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="alloc_proof.html#sel_val">sel_val</a></span> <span class="id"><a href="alloc_proof.html#k">k</a></span> <span class="id"><a href="alloc_proof.html#v">v</a></span>) <span class="id">v</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id">reg_loc_unconstrained</span> <span class="id"><a href="alloc_proof.html#r">r</a></span> (<span class="id"><a href="Locations.html#R">R</a></span> <span class="id"><a href="alloc_proof.html#mr">mr</a></span>) (<span class="id">remove_equation</span> (<span class="id">Eq</span> <span class="id"><a href="alloc_proof.html#k">k</a></span> <span class="id"><a href="alloc_proof.html#r">r</a></span> <span class="id"><a href="alloc_proof.html#l">l</a></span>) <span class="id"><a href="alloc_proof.html#e">e</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> (<span class="id">remove_equation</span> (<span class="id">Eq</span> <span class="id"><a href="alloc_proof.html#k">k</a></span> <span class="id"><a href="alloc_proof.html#r">r</a></span> <span class="id"><a href="alloc_proof.html#l">l</a></span>) <span class="id"><a href="alloc_proof.html#e">e</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> (<span class="id"><a href="alloc_proof.html#rs">rs</a></span>#<span class="id"><a href="alloc_proof.html#r">r</a></span> &lt;- <span class="id"><a href="alloc_proof.html#v">v</a></span>) (<span class="id"><a href="Locations.html#Locmap.set">Locmap.set</a></span> <span class="id"><a href="alloc_proof.html#l">l</a></span> <span class="id">v</span>' <span class="id"><a href="alloc_proof.html#ls">ls</a></span>) <span class="id"><a href="alloc_proof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7383')">Proof.</div>
<div class="proofscript" id="proof7383">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">OrderedEquation.eq_dec</span> <span class="id">q</span> (<span class="id">Eq</span> <span class="id">k</span> <span class="id">r</span> <span class="id">l</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">q</span>; <span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id">l</span>; <span class="tactic">rewrite</span> <span class="id"><a href="Registers.html#Regmap.gss">Regmap.gss</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="Locations.html#Locmap.gss">Locmap.gss</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">EqSet.In</span> <span class="id">q</span> (<span class="id">remove_equation</span> {| <span class="id">ekind</span> := <span class="id">k</span>; <span class="id">ereg</span> := <span class="id">r</span>; <span class="id">eloc</span> := <span class="id">l</span> |} <span class="id">e</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="id">ESD.fsetdec</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#reg_loc_unconstrained_sound">reg_loc_unconstrained_sound</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">A</span> <span class="id">B</span>].<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Registers.html#Regmap.gso">Regmap.gso</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Locations.html#Locmap.gso">Locmap.gso</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="parallel_assignment_satisf_2">parallel_assignment_satisf_2</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">res</span> <span class="id">res</span>' <span class="id">e</span> <span class="id">e</span>' <span class="id">v</span> <span class="id">v</span>',<br/>
&nbsp;&nbsp;<span class="id">remove_equations_res</span> <span class="id"><a href="alloc_proof.html#res">res</a></span> <span class="id">res</span>' <span class="id"><a href="alloc_proof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id">reg_unconstrained</span> <span class="id"><a href="alloc_proof.html#res">res</a></span> <span class="id">e</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#forallb">forallb</a></span> (<span class="kwd">fun</span> <span class="id">l</span> =&gt; <span class="id">loc_unconstrained</span> <span class="id"><a href="alloc_proof.html#l">l</a></span> <span class="id">e</span>') (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Locations.html#R">R</a></span> (<span class="id"><a href="AST.html#regs_of_rpair">regs_of_rpair</a></span> <span class="id">res</span>')) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="alloc_proof.html#v">v</a></span> <span class="id">v</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> (<span class="id"><a href="alloc_proof.html#rs">rs</a></span>#<span class="id"><a href="alloc_proof.html#res">res</a></span> &lt;- <span class="id"><a href="alloc_proof.html#v">v</a></span>) (<span class="id"><a href="Locations.html#Locmap.setpair">Locmap.setpair</a></span> <span class="id">res</span>' <span class="id">v</span>' <span class="id"><a href="alloc_proof.html#ls">ls</a></span>) <span class="id"><a href="alloc_proof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7384')">Proof.</div>
<div class="proofscript" id="proof7384">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">functional</span> <span class="tactic">inversion</span> <span class="id">H</span>.<br/>
- <span class="comment">(*&nbsp;One&nbsp;location&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="id">InvBooleans</span>. <span class="tactic">simpl</span>. <br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="alloc_proof.html#parallel_assignment_satisf">parallel_assignment_satisf</a></span> <span class="kwd">with</span> <span class="id">Full</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">reg_loc_unconstrained</span>. <span class="tactic">rewrite</span> <span class="id">H1</span>, <span class="id">H4</span>. <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;Two&nbsp;32-bit&nbsp;halves&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">e</span>' := <span class="id">remove_equation</span> {| <span class="id">ekind</span> := <span class="id">Low</span>; <span class="id">ereg</span> := <span class="id">res</span>; <span class="id">eloc</span> := <span class="id"><a href="Locations.html#R">R</a></span> <span class="id">mr2</span> |}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">remove_equation</span> {| <span class="id">ekind</span> := <span class="id">High</span>; <span class="id">ereg</span> := <span class="id">res</span>; <span class="id">eloc</span> := <span class="id"><a href="Locations.html#R">R</a></span> <span class="id">mr1</span> |} <span class="id">e</span>)) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="id">InvBooleans</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">OrderedEquation.eq_dec</span> <span class="id">q</span> (<span class="id">Eq</span> <span class="id">Low</span> <span class="id">res</span> (<span class="id"><a href="Locations.html#R">R</a></span> <span class="id">mr2</span>))).<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">q</span>; <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Registers.html#Regmap.gss">Regmap.gss</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Locations.html#Locmap.gss">Locmap.gss</a></span>. <br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.loword_lessdef">Val.loword_lessdef</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">OrderedEquation.eq_dec</span> <span class="id">q</span> (<span class="id">Eq</span> <span class="id">High</span> <span class="id">res</span> (<span class="id"><a href="Locations.html#R">R</a></span> <span class="id">mr1</span>))).<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">q</span>; <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Registers.html#Regmap.gss">Regmap.gss</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Locations.html#Locmap.gso">Locmap.gso</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Locations.html#Locmap.gss">Locmap.gss</a></span>. <br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.hiword_lessdef">Val.hiword_lessdef</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">EqSet.In</span> <span class="id">q</span> <span class="id">e</span>'). <span class="tactic">unfold</span> <span class="id">e</span>', <span class="id">remove_equation</span>; <span class="tactic">simpl</span>; <span class="id">ESD.fsetdec</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Registers.html#Regmap.gso">Regmap.gso</a></span>. <span class="tactic">rewrite</span> ! <span class="id"><a href="Locations.html#Locmap.gso">Locmap.gso</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#loc_unconstrained_sound">loc_unconstrained_sound</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#loc_unconstrained_sound">loc_unconstrained_sound</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#reg_unconstrained_sound">reg_unconstrained_sound</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="in_elements_between_1">in_elements_between_1</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">r1</span> <span class="id">s</span> <span class="id">q</span>,<br/>
&nbsp;&nbsp;<span class="id">EqSet.In</span> <span class="id"><a href="alloc_proof.html#q">q</a></span> (<span class="id">EqSet.elements_between</span> (<span class="id">select_reg_l</span> <span class="id"><a href="alloc_proof.html#r1">r1</a></span>) (<span class="id">select_reg_h</span> <span class="id"><a href="alloc_proof.html#r1">r1</a></span>) <span class="id"><a href="alloc_proof.html#s">s</a></span>) &lt;-&gt; <span class="id">EqSet.In</span> <span class="id"><a href="alloc_proof.html#q">q</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span> /\ <span class="id">ereg</span> <span class="id"><a href="alloc_proof.html#q">q</a></span> = <span class="id"><a href="alloc_proof.html#r1">r1</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7385')">Proof.</div>
<div class="proofscript" id="proof7385">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id">EqSet.elements_between_iff</span>, <span class="id"><a href="alloc_proof.html#select_reg_charact">select_reg_charact</a></span>. <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">exact</span> (<span class="id"><a href="alloc_proof.html#select_reg_l_monotone">select_reg_l_monotone</a></span> <span class="id">r1</span>). <span class="tactic">exact</span> (<span class="id"><a href="alloc_proof.html#select_reg_h_monotone">select_reg_h_monotone</a></span> <span class="id">r1</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="in_subst_reg">in_subst_reg</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">q</span> (<span class="id">e</span>: <span class="id">eqs</span>),<br/>
&nbsp;&nbsp;<span class="id">EqSet.In</span> <span class="id"><a href="alloc_proof.html#q">q</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">ereg</span> <span class="id"><a href="alloc_proof.html#q">q</a></span> = <span class="id"><a href="alloc_proof.html#r1">r1</a></span> /\ <span class="id">EqSet.In</span> (<span class="id">Eq</span> (<span class="id">ekind</span> <span class="id"><a href="alloc_proof.html#q">q</a></span>) <span class="id"><a href="alloc_proof.html#r2">r2</a></span> (<span class="id">eloc</span> <span class="id"><a href="alloc_proof.html#q">q</a></span>)) (<span class="id">subst_reg</span> <span class="id"><a href="alloc_proof.html#r1">r1</a></span> <span class="id"><a href="alloc_proof.html#r2">r2</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span>)<br/>
&nbsp;&nbsp;\/ <span class="id">ereg</span> <span class="id"><a href="alloc_proof.html#q">q</a></span> &lt;&gt; <span class="id"><a href="alloc_proof.html#r1">r1</a></span> /\ <span class="id">EqSet.In</span> <span class="id"><a href="alloc_proof.html#q">q</a></span> (<span class="id">subst_reg</span> <span class="id"><a href="alloc_proof.html#r1">r1</a></span> <span class="id"><a href="alloc_proof.html#r2">r2</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7386')">Proof.</div>
<div class="proofscript" id="proof7386">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">q</span> <span class="id">e0</span> <span class="id">IN0</span>. <span class="tactic">unfold</span> <span class="id">subst_reg</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">f</span> := <span class="kwd">fun</span> (<span class="id">q</span>: <span class="id">EqSet.elt</span>) <span class="id">e</span> =&gt; <span class="id">add_equation</span> (<span class="id">Eq</span> (<span class="id">ekind</span> <span class="id"><a href="alloc_proof.html#q">q</a></span>) <span class="id">r2</span> (<span class="id">eloc</span> <span class="id"><a href="alloc_proof.html#q">q</a></span>)) (<span class="id">remove_equation</span> <span class="id"><a href="alloc_proof.html#q">q</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span>)).<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="alloc_proof.html#in_elements_between_1">in_elements_between_1</a></span> <span class="id">r1</span> <span class="id">e0</span>).<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">elt</span> := <span class="id">EqSet.elements_between</span> (<span class="id">select_reg_l</span> <span class="id">r1</span>) (<span class="id">select_reg_h</span> <span class="id">r1</span>) <span class="id">e0</span>).<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">IN_ELT</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">P</span> := <span class="kwd">fun</span> <span class="id">e1</span> <span class="id">e2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">EqSet.In</span> <span class="id">q</span> <span class="id"><a href="alloc_proof.html#e1">e1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">EqSet.In</span> (<span class="id">Eq</span> (<span class="id">ekind</span> <span class="id">q</span>) <span class="id">r2</span> (<span class="id">eloc</span> <span class="id">q</span>)) <span class="id"><a href="alloc_proof.html#e2">e2</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">P</span> <span class="id">elt</span> (<span class="id">EqSet.fold</span> <span class="id">f</span> <span class="id">elt</span> <span class="id">e0</span>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="alloc_proof.html#fold_rec">ESP.fold_rec</a></span>; <span class="tactic">unfold</span> <span class="id">P</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">ESD.fsetdec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">simpl</span>. <span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">apply</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="tactic">destruct</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">subst</span> <span class="id">x</span>. <span class="id">ESD.fsetdec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">rewrite</span> <span class="id"><a href="alloc_proof.html#add_iff">ESF.add_iff</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="alloc_proof.html#remove_iff">ESF.remove_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">OrderedEquation.eq_dec</span> <span class="id">x</span> {| <span class="id">ekind</span> := <span class="id">ekind</span> <span class="id">q</span>; <span class="id">ereg</span> := <span class="id">r2</span>; <span class="id">eloc</span> := <span class="id">eloc</span> <span class="id">q</span> |}); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">left</span>. <span class="tactic">subst</span> <span class="id">x</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">Q</span> := <span class="kwd">fun</span> <span class="id">e1</span> <span class="id">e2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~<span class="id">EqSet.In</span> <span class="id">q</span> <span class="id"><a href="alloc_proof.html#e1">e1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">EqSet.In</span> <span class="id">q</span> <span class="id"><a href="alloc_proof.html#e2">e2</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Q</span> <span class="id">elt</span> (<span class="id">EqSet.fold</span> <span class="id">f</span> <span class="id">elt</span> <span class="id">e0</span>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="alloc_proof.html#fold_rec">ESP.fold_rec</a></span>; <span class="tactic">unfold</span> <span class="id">Q</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">simpl</span>. <span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="tactic">rewrite</span> <span class="id">H2</span> <span class="kwd">in</span> <span class="id">H4</span>. <span class="id">ESD.fsetdec</span>. <br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="alloc_proof.html#In_dec">ESP.In_dec</a></span> <span class="id">q</span> <span class="id">elt</span>).<br/>
&nbsp;&nbsp;<span class="id">left</span>. <span class="tactic">split</span>. <span class="tactic">apply</span> <span class="id">IN_ELT</span>. <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id">H</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="tactic">split</span>. <span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="tactic">elim</span> <span class="id">n</span>. <span class="tactic">rewrite</span> <span class="id">IN_ELT</span>. <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id">H0</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="subst_reg_satisf">subst_reg_satisf</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">src</span> <span class="id">dst</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">e</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> (<span class="id">subst_reg</span> <span class="id"><a href="alloc_proof.html#dst">dst</a></span> <span class="id"><a href="alloc_proof.html#src">src</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> (<span class="id"><a href="alloc_proof.html#rs">rs</a></span>#<span class="id"><a href="alloc_proof.html#dst">dst</a></span> &lt;- (<span class="id"><a href="alloc_proof.html#rs">rs</a></span>#<span class="id"><a href="alloc_proof.html#src">src</a></span>)) <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7387')">Proof.</div>
<div class="proofscript" id="proof7387">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="alloc_proof.html#in_subst_reg">in_subst_reg</a></span> <span class="id">dst</span> <span class="id">src</span> <span class="id">q</span> <span class="id">e</span> <span class="id">H0</span>) <span class="kwd">as</span> [[<span class="id">A</span> <span class="id">B</span>] | [<span class="id">A</span> <span class="id">B</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">dst</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Registers.html#Regmap.gss">Regmap.gss</a></span>. <span class="id">exploit</span> <span class="id">H</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Registers.html#Regmap.gso">Regmap.gso</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="in_subst_reg_kind">in_subst_reg_kind</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">r1</span> <span class="id">k1</span> <span class="id">r2</span> <span class="id">k2</span> <span class="id">q</span> (<span class="id">e</span>: <span class="id">eqs</span>),<br/>
&nbsp;&nbsp;<span class="id">EqSet.In</span> <span class="id"><a href="alloc_proof.html#q">q</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id">ereg</span> <span class="id"><a href="alloc_proof.html#q">q</a></span>, <span class="id">ekind</span> <span class="id"><a href="alloc_proof.html#q">q</a></span>) = (<span class="id"><a href="alloc_proof.html#r1">r1</a></span>, <span class="id"><a href="alloc_proof.html#k1">k1</a></span>) /\ <span class="id">EqSet.In</span> (<span class="id">Eq</span> <span class="id"><a href="alloc_proof.html#k2">k2</a></span> <span class="id"><a href="alloc_proof.html#r2">r2</a></span> (<span class="id">eloc</span> <span class="id"><a href="alloc_proof.html#q">q</a></span>)) (<span class="id">subst_reg_kind</span> <span class="id"><a href="alloc_proof.html#r1">r1</a></span> <span class="id"><a href="alloc_proof.html#k1">k1</a></span> <span class="id"><a href="alloc_proof.html#r2">r2</a></span> <span class="id"><a href="alloc_proof.html#k2">k2</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span>)<br/>
&nbsp;&nbsp;\/ <span class="id">EqSet.In</span> <span class="id"><a href="alloc_proof.html#q">q</a></span> (<span class="id">subst_reg_kind</span> <span class="id"><a href="alloc_proof.html#r1">r1</a></span> <span class="id"><a href="alloc_proof.html#k1">k1</a></span> <span class="id"><a href="alloc_proof.html#r2">r2</a></span> <span class="id"><a href="alloc_proof.html#k2">k2</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7388')">Proof.</div>
<div class="proofscript" id="proof7388">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">r1</span> <span class="id">k1</span> <span class="id">r2</span> <span class="id">k2</span> <span class="id">q</span> <span class="id">e0</span> <span class="id">IN0</span>. <span class="tactic">unfold</span> <span class="id">subst_reg</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">f</span> := <span class="kwd">fun</span> (<span class="id">q</span>: <span class="id">EqSet.elt</span>) <span class="id">e</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id">IndexedEqKind.eq</span> (<span class="id">ekind</span> <span class="id"><a href="alloc_proof.html#q">q</a></span>) <span class="id">k1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id">add_equation</span> (<span class="id">Eq</span> <span class="id">k2</span> <span class="id">r2</span> (<span class="id">eloc</span> <span class="id"><a href="alloc_proof.html#q">q</a></span>)) (<span class="id">remove_equation</span> <span class="id"><a href="alloc_proof.html#q">q</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="alloc_proof.html#e">e</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="alloc_proof.html#in_elements_between_1">in_elements_between_1</a></span> <span class="id">r1</span> <span class="id">e0</span>).<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">elt</span> := <span class="id">EqSet.elements_between</span> (<span class="id">select_reg_l</span> <span class="id">r1</span>) (<span class="id">select_reg_h</span> <span class="id">r1</span>) <span class="id">e0</span>).<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">IN_ELT</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">P</span> := <span class="kwd">fun</span> <span class="id">e1</span> <span class="id">e2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">EqSet.In</span> <span class="id">q</span> <span class="id"><a href="alloc_proof.html#e1">e1</a></span> -&gt; <span class="id">ekind</span> <span class="id">q</span> = <span class="id">k1</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">EqSet.In</span> (<span class="id">Eq</span> <span class="id">k2</span> <span class="id">r2</span> (<span class="id">eloc</span> <span class="id">q</span>)) <span class="id"><a href="alloc_proof.html#e2">e2</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">P</span> <span class="id">elt</span> (<span class="id">EqSet.fold</span> <span class="id">f</span> <span class="id">elt</span> <span class="id">e0</span>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">apply</span> <span class="id"><a href="alloc_proof.html#fold_rec">ESP.fold_rec</a></span>; <span class="tactic">unfold</span> <span class="id">P</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">ESD.fsetdec</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">simpl</span>. <span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">apply</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="tactic">destruct</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">subst</span> <span class="id">x</span>. <span class="tactic">unfold</span> <span class="id">f</span>. <span class="tactic">destruct</span> (<span class="id">IndexedEqKind.eq</span> (<span class="id">ekind</span> <span class="id">q</span>) <span class="id">k1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="id">ESD.fsetdec</span>. <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">unfold</span> <span class="id">f</span>. <span class="tactic">destruct</span> (<span class="id">IndexedEqKind.eq</span> (<span class="id">ekind</span> <span class="id">x</span>) <span class="id">k1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="alloc_proof.html#add_iff">ESF.add_iff</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="alloc_proof.html#remove_iff">ESF.remove_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">OrderedEquation.eq_dec</span> <span class="id">x</span> {| <span class="id">ekind</span> := <span class="id">k2</span>; <span class="id">ereg</span> := <span class="id">r2</span>; <span class="id">eloc</span> := <span class="id">eloc</span> <span class="id">q</span> |}); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">left</span>. <span class="tactic">subst</span> <span class="id">x</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">Q</span> := <span class="kwd">fun</span> <span class="id">e1</span> <span class="id">e2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~<span class="id">EqSet.In</span> <span class="id">q</span> <span class="id"><a href="alloc_proof.html#e1">e1</a></span> \/ <span class="id">ekind</span> <span class="id">q</span> &lt;&gt; <span class="id">k1</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">EqSet.In</span> <span class="id">q</span> <span class="id"><a href="alloc_proof.html#e2">e2</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Q</span> <span class="id">elt</span> (<span class="id">EqSet.fold</span> <span class="id">f</span> <span class="id">elt</span> <span class="id">e0</span>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="alloc_proof.html#fold_rec">ESP.fold_rec</a></span>; <span class="tactic">unfold</span> <span class="id">Q</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id">f</span>. <span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="tactic">rewrite</span> <span class="id">H2</span> <span class="kwd">in</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">IndexedEqKind.eq</span> (<span class="id">ekind</span> <span class="id">x</span>) <span class="id">k1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="alloc_proof.html#add_iff">ESF.add_iff</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="alloc_proof.html#remove_iff">ESF.remove_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>. <span class="tactic">split</span>. <span class="tactic">apply</span> <span class="id">H3</span>. <span class="tactic">tauto</span>. <span class="tactic">intuition</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H3</span>. <span class="tactic">intuition</span> <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="alloc_proof.html#In_dec">ESP.In_dec</a></span> <span class="id">q</span> <span class="id">elt</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">IndexedEqKind.eq</span> (<span class="id">ekind</span> <span class="id">q</span>) <span class="id">k1</span>).<br/>
&nbsp;&nbsp;<span class="id">left</span>. <span class="tactic">split</span>. <span class="tactic">f_equal</span>. <span class="tactic">apply</span> <span class="id">IN_ELT</span>. <span class="tactic">auto</span>. <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id">H</span>. <span class="tactic">auto</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="tactic">apply</span> <span class="id">H0</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="tactic">apply</span> <span class="id">H0</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="subst_reg_kind_satisf_makelong">subst_reg_kind_satisf_makelong</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">src1</span> <span class="id">src2</span> <span class="id">dst</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">e</span>,<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">e1</span> := <span class="id">subst_reg_kind</span> <span class="id"><a href="alloc_proof.html#dst">dst</a></span> <span class="id">High</span> <span class="id"><a href="alloc_proof.html#src1">src1</a></span> <span class="id">Full</span> <span class="id"><a href="alloc_proof.html#e">e</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">e2</span> := <span class="id">subst_reg_kind</span> <span class="id"><a href="alloc_proof.html#dst">dst</a></span> <span class="id">Low</span> <span class="id"><a href="alloc_proof.html#src2">src2</a></span> <span class="id">Full</span> <span class="id"><a href="alloc_proof.html#e1">e1</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="id">reg_unconstrained</span> <span class="id"><a href="alloc_proof.html#dst">dst</a></span> <span class="id"><a href="alloc_proof.html#e2">e2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id"><a href="alloc_proof.html#e2">e2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> (<span class="id"><a href="alloc_proof.html#rs">rs</a></span>#<span class="id"><a href="alloc_proof.html#dst">dst</a></span> &lt;- (<span class="id"><a href="Values.html#Val.longofwords">Val.longofwords</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span>#<span class="id"><a href="alloc_proof.html#src1">src1</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span>#<span class="id"><a href="alloc_proof.html#src2">src2</a></span>)) <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7389')">Proof.</div>
<div class="proofscript" id="proof7389">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="alloc_proof.html#in_subst_reg_kind">in_subst_reg_kind</a></span> <span class="id">dst</span> <span class="id">High</span> <span class="id">src1</span> <span class="id">Full</span> <span class="id">q</span> <span class="id">e</span> <span class="id">H1</span>) <span class="kwd">as</span> [[<span class="id">A</span> <span class="id">B</span>] | <span class="id">B</span>]; <span class="id">fold</span> <span class="id">e1</span> <span class="kwd">in</span> <span class="id">B</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="alloc_proof.html#in_subst_reg_kind">in_subst_reg_kind</a></span> <span class="id">dst</span> <span class="id">Low</span> <span class="id">src2</span> <span class="id">Full</span> <span class="id">_</span> <span class="id">e1</span> <span class="id">B</span>) <span class="kwd">as</span> [[<span class="id">C</span> <span class="id">D</span>] | <span class="id">D</span>]; <span class="id">fold</span> <span class="id">e2</span> <span class="kwd">in</span> <span class="id">D</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">C</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">D</span>. <span class="id">inv</span> <span class="id">C</span>.<br/>
&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">A</span>. <span class="tactic">rewrite</span> <span class="id">H3</span>; <span class="tactic">rewrite</span> <span class="id">H4</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Registers.html#Regmap.gss">Regmap.gss</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.lessdef_trans">Val.lessdef_trans</a></span> <span class="kwd">with</span> (<span class="id">rs</span>#<span class="id">src1</span>).<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">destruct</span> (<span class="id">rs</span>#<span class="id">src1</span>); <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> (<span class="id">rs</span>#<span class="id">src2</span>); <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.hi_ofwords">Int64.hi_ofwords</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H0</span>. <span class="id">eexact</span> <span class="id">D</span>. <span class="tactic">simpl</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="alloc_proof.html#in_subst_reg_kind">in_subst_reg_kind</a></span> <span class="id">dst</span> <span class="id">Low</span> <span class="id">src2</span> <span class="id">Full</span> <span class="id">q</span> <span class="id">e1</span> <span class="id">B</span>) <span class="kwd">as</span> [[<span class="id">C</span> <span class="id">D</span>] | <span class="id">D</span>]; <span class="id">fold</span> <span class="id">e2</span> <span class="kwd">in</span> <span class="id">D</span>.<br/>
&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">C</span>. <span class="tactic">rewrite</span> <span class="id">H3</span>; <span class="tactic">rewrite</span> <span class="id">H4</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Registers.html#Regmap.gss">Regmap.gss</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.lessdef_trans">Val.lessdef_trans</a></span> <span class="kwd">with</span> (<span class="id">rs</span>#<span class="id">src2</span>).<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">destruct</span> (<span class="id">rs</span>#<span class="id">src1</span>); <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> (<span class="id">rs</span>#<span class="id">src2</span>); <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.lo_ofwords">Int64.lo_ofwords</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H0</span>. <span class="id">eexact</span> <span class="id">D</span>. <span class="tactic">simpl</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Registers.html#Regmap.gso">Regmap.gso</a></span>. <span class="tactic">apply</span> <span class="id">H0</span>; <span class="tactic">auto</span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#reg_unconstrained_sound">reg_unconstrained_sound</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="subst_reg_kind_satisf_lowlong">subst_reg_kind_satisf_lowlong</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">src</span> <span class="id">dst</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">e</span>,<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">e1</span> := <span class="id">subst_reg_kind</span> <span class="id"><a href="alloc_proof.html#dst">dst</a></span> <span class="id">Full</span> <span class="id"><a href="alloc_proof.html#src">src</a></span> <span class="id">Low</span> <span class="id"><a href="alloc_proof.html#e">e</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="id">reg_unconstrained</span> <span class="id"><a href="alloc_proof.html#dst">dst</a></span> <span class="id"><a href="alloc_proof.html#e1">e1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id"><a href="alloc_proof.html#e1">e1</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> (<span class="id"><a href="alloc_proof.html#rs">rs</a></span>#<span class="id"><a href="alloc_proof.html#dst">dst</a></span> &lt;- (<span class="id"><a href="Values.html#Val.loword">Val.loword</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span>#<span class="id"><a href="alloc_proof.html#src">src</a></span>)) <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7390')">Proof.</div>
<div class="proofscript" id="proof7390">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="alloc_proof.html#in_subst_reg_kind">in_subst_reg_kind</a></span> <span class="id">dst</span> <span class="id">Full</span> <span class="id">src</span> <span class="id">Low</span> <span class="id">q</span> <span class="id">e</span> <span class="id">H1</span>) <span class="kwd">as</span> [[<span class="id">A</span> <span class="id">B</span>] | <span class="id">B</span>]; <span class="id">fold</span> <span class="id">e1</span> <span class="kwd">in</span> <span class="id">B</span>.<br/>
&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">A</span>. <span class="tactic">rewrite</span> <span class="id">H3</span>; <span class="tactic">rewrite</span> <span class="id">H4</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Registers.html#Regmap.gss">Regmap.gss</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H0</span>. <span class="id">eexact</span> <span class="id">B</span>. <span class="tactic">simpl</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Registers.html#Regmap.gso">Regmap.gso</a></span>. <span class="tactic">apply</span> <span class="id">H0</span>; <span class="tactic">auto</span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#reg_unconstrained_sound">reg_unconstrained_sound</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="subst_reg_kind_satisf_highlong">subst_reg_kind_satisf_highlong</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">src</span> <span class="id">dst</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">e</span>,<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">e1</span> := <span class="id">subst_reg_kind</span> <span class="id"><a href="alloc_proof.html#dst">dst</a></span> <span class="id">Full</span> <span class="id"><a href="alloc_proof.html#src">src</a></span> <span class="id">High</span> <span class="id"><a href="alloc_proof.html#e">e</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="id">reg_unconstrained</span> <span class="id"><a href="alloc_proof.html#dst">dst</a></span> <span class="id"><a href="alloc_proof.html#e1">e1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id"><a href="alloc_proof.html#e1">e1</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> (<span class="id"><a href="alloc_proof.html#rs">rs</a></span>#<span class="id"><a href="alloc_proof.html#dst">dst</a></span> &lt;- (<span class="id"><a href="Values.html#Val.hiword">Val.hiword</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span>#<span class="id"><a href="alloc_proof.html#src">src</a></span>)) <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7391')">Proof.</div>
<div class="proofscript" id="proof7391">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="alloc_proof.html#in_subst_reg_kind">in_subst_reg_kind</a></span> <span class="id">dst</span> <span class="id">Full</span> <span class="id">src</span> <span class="id">High</span> <span class="id">q</span> <span class="id">e</span> <span class="id">H1</span>) <span class="kwd">as</span> [[<span class="id">A</span> <span class="id">B</span>] | <span class="id">B</span>]; <span class="id">fold</span> <span class="id">e1</span> <span class="kwd">in</span> <span class="id">B</span>.<br/>
&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">A</span>. <span class="tactic">rewrite</span> <span class="id">H3</span>; <span class="tactic">rewrite</span> <span class="id">H4</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Registers.html#Regmap.gss">Regmap.gss</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H0</span>. <span class="id">eexact</span> <span class="id">B</span>. <span class="tactic">simpl</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Registers.html#Regmap.gso">Regmap.gso</a></span>. <span class="tactic">apply</span> <span class="id">H0</span>; <span class="tactic">auto</span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#reg_unconstrained_sound">reg_unconstrained_sound</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="ESF2">ESF2</a></span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.FSets.FSetFacts.html#Facts">FSetFacts.Facts</a></span>(<span class="id">EqSet2</span>).<br/>
<span class="kwd">Module</span> <span class="id"><a name="ESP2">ESP2</a></span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.FSets.FSetProperties.html#Properties">FSetProperties.Properties</a></span>(<span class="id">EqSet2</span>).<br/>
<span class="kwd">Module</span> <span class="id"><a name="ESD2">ESD2</a></span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.FSets.FSetDecide.html#Decide">FSetDecide.Decide</a></span>(<span class="id">EqSet2</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="partial_fold_ind">partial_fold_ind</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">A</span>: <span class="kwd">Type</span>) (<span class="id">P</span>: <span class="id">EqSet2.t</span> -&gt; <span class="id"><a href="alloc_proof.html#A">A</a></span> -&gt; <span class="kwd">Prop</span>) <span class="id">f</span> <span class="id">init</span> <span class="id">final</span> <span class="id">s</span>,<br/>
&nbsp;&nbsp;<span class="id">EqSet2.fold</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">q</span> <span class="id">opte</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="alloc_proof.html#opte">opte</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span> =&gt; <span class="id"><a href="alloc_proof.html#f">f</a></span> <span class="id"><a href="alloc_proof.html#q">q</a></span> <span class="id">e</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#s">s</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="alloc_proof.html#init">init</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="alloc_proof.html#final">final</a></span> -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">s</span>', <span class="id">EqSet2.Empty</span> <span class="id">s</span>' -&gt; <span class="id"><a href="alloc_proof.html#P">P</a></span> <span class="id">s</span>' <span class="id"><a href="alloc_proof.html#init">init</a></span>) -&gt;<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">x</span> <span class="id">a</span>' <span class="id">a</span>'' <span class="id">s</span>' <span class="id">s</span>'',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">EqSet2.In</span> <span class="id"><a href="alloc_proof.html#x">x</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span> -&gt; ~<span class="id">EqSet2.In</span> <span class="id"><a href="alloc_proof.html#x">x</a></span> <span class="id">s</span>' -&gt; <span class="id"><a href="alloc_proof.html#Add">ESP2.Add</a></span> <span class="id"><a href="alloc_proof.html#x">x</a></span> <span class="id">s</span>' <span class="id">s</span>'' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#f">f</a></span> <span class="id"><a href="alloc_proof.html#x">x</a></span> <span class="id">a</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">a</span>'' -&gt; <span class="id"><a href="alloc_proof.html#P">P</a></span> <span class="id">s</span>' <span class="id">a</span>' -&gt; <span class="id"><a href="alloc_proof.html#P">P</a></span> <span class="id">s</span>'' <span class="id">a</span>'') -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#P">P</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span> <span class="id"><a href="alloc_proof.html#final">final</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7392')">Proof.</div>
<div class="proofscript" id="proof7392">
&nbsp;&nbsp;<span class="tactic">intros</span>. <br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">g</span> := <span class="kwd">fun</span> <span class="id">q</span> <span class="id">opte</span> =&gt; <span class="kwd">match</span> <span class="id"><a href="alloc_proof.html#opte">opte</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span> =&gt; <span class="id">f</span> <span class="id"><a href="alloc_proof.html#q">q</a></span> <span class="id">e</span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">end</span>) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">Q</span> := <span class="kwd">fun</span> <span class="id">s1</span> <span class="id">opte</span> =&gt; <span class="kwd">match</span> <span class="id"><a href="alloc_proof.html#opte">opte</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span> =&gt; <span class="id">P</span> <span class="id"><a href="alloc_proof.html#s1">s1</a></span> <span class="id">e</span> <span class="kwd">end</span>).<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id">Q</span> <span class="id">s</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">final</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H</span>. <span class="tactic">apply</span> <span class="id"><a href="alloc_proof.html#fold_rec">ESP2.fold_rec</a></span>; <span class="tactic">unfold</span> <span class="id">Q</span>, <span class="id">g</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">a</span> <span class="kwd">as</span> [<span class="id">e</span>|]; <span class="tactic">auto</span>. <span class="tactic">destruct</span> (<span class="id">f</span> <span class="id">x</span> <span class="id">e</span>) <span class="kwd">as</span> [<span class="id">e</span>'|] <span class="id">eqn</span>:<span class="id">F</span>; <span class="tactic">auto</span>. <span class="tactic">eapply</span> <span class="id">H1</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="in_subst_loc">in_subst_loc</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l1</span> <span class="id">l2</span> <span class="id">q</span> (<span class="id">e</span> <span class="id">e</span>': <span class="id">eqs</span>),<br/>
&nbsp;&nbsp;<span class="id">EqSet.In</span> <span class="id"><a href="alloc_proof.html#q">q</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">subst_loc</span> <span class="id"><a href="alloc_proof.html#l1">l1</a></span> <span class="id"><a href="alloc_proof.html#l2">l2</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;(<span class="id">eloc</span> <span class="id"><a href="alloc_proof.html#q">q</a></span> = <span class="id"><a href="alloc_proof.html#l1">l1</a></span> /\ <span class="id">EqSet.In</span> (<span class="id">Eq</span> (<span class="id">ekind</span> <span class="id"><a href="alloc_proof.html#q">q</a></span>) (<span class="id">ereg</span> <span class="id"><a href="alloc_proof.html#q">q</a></span>) <span class="id"><a href="alloc_proof.html#l2">l2</a></span>) <span class="id">e</span>') \/ (<span class="id"><a href="Locations.html#Loc.diff">Loc.diff</a></span> <span class="id"><a href="alloc_proof.html#l1">l1</a></span> (<span class="id">eloc</span> <span class="id"><a href="alloc_proof.html#q">q</a></span>) /\ <span class="id">EqSet.In</span> <span class="id"><a href="alloc_proof.html#q">q</a></span> <span class="id">e</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7393')">Proof.</div>
<div class="proofscript" id="proof7393">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">subst_loc</span>; <span class="tactic">intros</span> <span class="id">l1</span> <span class="id">l2</span> <span class="id">q</span> <span class="id">e0</span> <span class="id">e0</span>' <span class="id">IN</span> <span class="id">SUBST</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">elt</span> := <span class="id">EqSet2.elements_between</span> (<span class="id">select_loc_l</span> <span class="id">l1</span>) (<span class="id">select_loc_h</span> <span class="id">l1</span>) (<span class="id">eqs2</span> <span class="id">e0</span>)) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">f</span> := <span class="kwd">fun</span> <span class="id">q0</span> <span class="id">e</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Locations.html#Loc.eq">Loc.eq</a></span> <span class="id">l1</span> (<span class="id">eloc</span> <span class="id"><a href="alloc_proof.html#q0">q0</a></span>) <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">add_equation</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{| <span class="id">ekind</span> := <span class="id">ekind</span> <span class="id"><a href="alloc_proof.html#q0">q0</a></span>; <span class="id">ereg</span> := <span class="id">ereg</span> <span class="id"><a href="alloc_proof.html#q0">q0</a></span>; <span class="id">eloc</span> := <span class="id">l2</span> |}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">remove_equation</span> <span class="id"><a href="alloc_proof.html#q0">q0</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">P</span> := <span class="kwd">fun</span> <span class="id">e1</span> <span class="id">e2</span> =&gt; <span class="id">EqSet2.In</span> <span class="id">q</span> <span class="id"><a href="alloc_proof.html#e1">e1</a></span> -&gt; <span class="id">eloc</span> <span class="id">q</span> = <span class="id">l1</span> /\ <span class="id">EqSet.In</span> (<span class="id">Eq</span> (<span class="id">ekind</span> <span class="id">q</span>) (<span class="id">ereg</span> <span class="id">q</span>) <span class="id">l2</span>) <span class="id"><a href="alloc_proof.html#e2">e2</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">A</span>: <span class="id">P</span> <span class="id">elt</span> <span class="id">e0</span>').<br/>
&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#partial_fold_ind">partial_fold_ind</a></span> <span class="kwd">with</span> (<span class="id">f</span> := <span class="id">f</span>) (<span class="id">s</span> := <span class="id">elt</span>) (<span class="id">final</span> := <span class="id">e0</span>'). <span class="id">eexact</span> <span class="id">SUBST</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id">P</span>; <span class="tactic">intros</span>. <span class="id">ESD2.fsetdec</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id">P</span>, <span class="id">f</span>; <span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Locations.html#Loc.eq">Loc.eq</a></span> <span class="id">l1</span> (<span class="id">eloc</span> <span class="id">x</span>)); <span class="tactic">inversion</span> <span class="id">H2</span>; <span class="tactic">subst</span> <span class="id">a</span>''; <span class="tactic">clear</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="alloc_proof.html#add_iff">ESF.add_iff</a></span>, <span class="id"><a href="alloc_proof.html#remove_iff">ESF.remove_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H4</span>; <span class="tactic">destruct</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">x</span>; <span class="tactic">rewrite</span> <span class="id">e</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H3</span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="tactic">destruct</span> <span class="id">H2</span>. <span class="tactic">split</span>. <span class="tactic">congruence</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">OrderedEquation.eq_dec</span> <span class="id">x</span> {| <span class="id">ekind</span> := <span class="id">ekind</span> <span class="id">q</span>; <span class="id">ereg</span> := <span class="id">ereg</span> <span class="id">q</span>; <span class="id">eloc</span> := <span class="id">l2</span> |}); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">x</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">Q</span> := <span class="kwd">fun</span> <span class="id">e1</span> <span class="id">e2</span> =&gt; ~<span class="id">EqSet2.In</span> <span class="id">q</span> <span class="id"><a href="alloc_proof.html#e1">e1</a></span> -&gt; <span class="id">EqSet.In</span> <span class="id">q</span> <span class="id"><a href="alloc_proof.html#e2">e2</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">B</span>: <span class="id">Q</span> <span class="id">elt</span> <span class="id">e0</span>').<br/>
&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#partial_fold_ind">partial_fold_ind</a></span> <span class="kwd">with</span> (<span class="id">f</span> := <span class="id">f</span>) (<span class="id">s</span> := <span class="id">elt</span>) (<span class="id">final</span> := <span class="id">e0</span>'). <span class="id">eexact</span> <span class="id">SUBST</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id">Q</span>; <span class="tactic">intros</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id">Q</span>, <span class="id">f</span>; <span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Locations.html#Loc.eq">Loc.eq</a></span> <span class="id">l1</span> (<span class="id">eloc</span> <span class="id">x</span>)); <span class="tactic">inversion</span> <span class="id">H2</span>; <span class="tactic">subst</span> <span class="id">a</span>''; <span class="tactic">clear</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="alloc_proof.html#add_iff">ESF.add_iff</a></span>, <span class="id"><a href="alloc_proof.html#remove_iff">ESF.remove_iff</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H4</span>. <span class="tactic">intuition</span> <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="alloc_proof.html#In_dec">ESP2.In_dec</a></span> <span class="id">q</span> <span class="id">elt</span>).<br/>
&nbsp;&nbsp;<span class="id">left</span>. <span class="tactic">apply</span> <span class="id">A</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="alloc_proof.html#select_loc_charact">select_loc_charact</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">select_loc_l</span> <span class="id">l1</span> <span class="id">q</span>) <span class="id">eqn</span>: <span class="id">LL</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">select_loc_h</span> <span class="id">l1</span> <span class="id">q</span>) <span class="id">eqn</span>: <span class="id">LH</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">elim</span> <span class="id">n</span>. <span class="tactic">eapply</span> <span class="id">EqSet2.elements_between_iff</span>.<br/>
&nbsp;&nbsp;<span class="tactic">exact</span> (<span class="id"><a href="alloc_proof.html#select_loc_l_monotone">select_loc_l_monotone</a></span> <span class="id">l1</span>).<br/>
&nbsp;&nbsp;<span class="tactic">exact</span> (<span class="id"><a href="alloc_proof.html#select_loc_h_monotone">select_loc_h_monotone</a></span> <span class="id">l1</span>).<br/>
&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">apply</span> <span class="id">eqs_same</span>; <span class="tactic">auto</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loc_type_compat_charact">loc_type_compat_charact</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">env</span> <span class="id">l</span> <span class="id">e</span> <span class="id">q</span>,<br/>
&nbsp;&nbsp;<span class="id">loc_type_compat</span> <span class="id"><a href="alloc_proof.html#env">env</a></span> <span class="id"><a href="alloc_proof.html#l">l</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">EqSet.In</span> <span class="id"><a href="alloc_proof.html#q">q</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="AST.html#subtype">subtype</a></span> (<span class="id">sel_type</span> (<span class="id">ekind</span> <span class="id"><a href="alloc_proof.html#q">q</a></span>) (<span class="id"><a href="alloc_proof.html#env">env</a></span> (<span class="id">ereg</span> <span class="id"><a href="alloc_proof.html#q">q</a></span>))) (<span class="id"><a href="Locations.html#Loc.type">Loc.type</a></span> <span class="id"><a href="alloc_proof.html#l">l</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> \/ <span class="id"><a href="Locations.html#Loc.diff">Loc.diff</a></span> <span class="id"><a href="alloc_proof.html#l">l</a></span> (<span class="id">eloc</span> <span class="id"><a href="alloc_proof.html#q">q</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7394')">Proof.</div>
<div class="proofscript" id="proof7394">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">loc_type_compat</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">EqSet2.for_all_between_iff</span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">select_loc_l</span> <span class="id">l</span> <span class="id">q</span>) <span class="id">eqn</span>: <span class="id">LL</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">select_loc_h</span> <span class="id">l</span> <span class="id">q</span>) <span class="id">eqn</span>: <span class="id">LH</span>.<br/>
&nbsp;&nbsp;<span class="id">left</span>; <span class="tactic">apply</span> <span class="id">H</span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id">eqs_same</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="tactic">apply</span> <span class="id"><a href="alloc_proof.html#select_loc_charact">select_loc_charact</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="tactic">apply</span> <span class="id"><a href="alloc_proof.html#select_loc_charact">select_loc_charact</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">subst</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">exact</span> (<span class="id"><a href="alloc_proof.html#select_loc_l_monotone">select_loc_l_monotone</a></span> <span class="id">l</span>).<br/>
&nbsp;&nbsp;<span class="tactic">exact</span> (<span class="id"><a href="alloc_proof.html#select_loc_h_monotone">select_loc_h_monotone</a></span> <span class="id">l</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="well_typed_move_charact">well_typed_move_charact</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">env</span> <span class="id">l</span> <span class="id">e</span> <span class="id">k</span> <span class="id">r</span> <span class="id">rs</span>,<br/>
&nbsp;&nbsp;<span class="id">well_typed_move</span> <span class="id"><a href="alloc_proof.html#env">env</a></span> <span class="id"><a href="alloc_proof.html#l">l</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">EqSet.In</span> (<span class="id">Eq</span> <span class="id"><a href="alloc_proof.html#k">k</a></span> <span class="id"><a href="alloc_proof.html#r">r</a></span> <span class="id"><a href="alloc_proof.html#l">l</a></span>) <span class="id"><a href="alloc_proof.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="RTLtyping.html#wt_regset">wt_regset</a></span> <span class="id"><a href="alloc_proof.html#env">env</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="alloc_proof.html#l">l</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Locations.html#R">R</a></span> <span class="id">mr</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Locations.html#S">S</a></span> <span class="id">sl</span> <span class="id">ofs</span> <span class="id">ty</span> =&gt; <span class="id"><a href="Values.html#Val.has_type">Val.has_type</a></span> (<span class="id"><a href="alloc_proof.html#sel_val">sel_val</a></span> <span class="id"><a href="alloc_proof.html#k">k</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span>#<span class="id"><a href="alloc_proof.html#r">r</a></span>) <span class="id">ty</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7395')">Proof.</div>
<div class="proofscript" id="proof7395">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">well_typed_move</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">l</span> <span class="kwd">as</span> [<span class="id">mr</span> | <span class="id">sl</span> <span class="id">ofs</span> <span class="id">ty</span>].<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#loc_type_compat_charact">loc_type_compat_charact</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">A</span> | <span class="id">A</span>].<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">A</span>. <span class="tactic">eapply</span> <span class="id"><a href="Values.html#Val.has_subtype">Val.has_subtype</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id">H1</span> <span class="id">r</span>). <span class="tactic">destruct</span> <span class="id">k</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">rs</span>#<span class="id">r</span>); <span class="tactic">exact</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#I">I</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">rs</span>#<span class="id">r</span>); <span class="tactic">exact</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#I">I</a></span>.<br/>
&nbsp;&nbsp;<span class="id">eelim</span> <span class="id"><a href="Locations.html#Loc.diff_not_eq">Loc.diff_not_eq</a></span>. <span class="id">eexact</span> <span class="id">A</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="val_lessdef_normalize">val_lessdef_normalize</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">v</span> <span class="id">v</span>' <span class="id">ty</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.has_type">Val.has_type</a></span> <span class="id"><a href="alloc_proof.html#v">v</a></span> <span class="id"><a href="alloc_proof.html#ty">ty</a></span> -&gt; <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="alloc_proof.html#v">v</a></span> <span class="id">v</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="alloc_proof.html#v">v</a></span> (<span class="id"><a href="Values.html#Val.load_result">Val.load_result</a></span> (<span class="id"><a href="AST.html#chunk_of_type">chunk_of_type</a></span> <span class="id"><a href="alloc_proof.html#ty">ty</a></span>) <span class="id">v</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7396')">Proof.</div>
<div class="proofscript" id="proof7396">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Values.html#Val.load_result_same">Val.load_result_same</a></span>; <span class="tactic">auto</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="subst_loc_satisf">subst_loc_satisf</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">env</span> <span class="id">src</span> <span class="id">dst</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">e</span> <span class="id">e</span>',<br/>
&nbsp;&nbsp;<span class="id">subst_loc</span> <span class="id"><a href="alloc_proof.html#dst">dst</a></span> <span class="id"><a href="alloc_proof.html#src">src</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id">well_typed_move</span> <span class="id"><a href="alloc_proof.html#env">env</a></span> <span class="id"><a href="alloc_proof.html#dst">dst</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="RTLtyping.html#wt_regset">wt_regset</a></span> <span class="id"><a href="alloc_proof.html#env">env</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> (<span class="id"><a href="Locations.html#Locmap.set">Locmap.set</a></span> <span class="id"><a href="alloc_proof.html#dst">dst</a></span> (<span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id"><a href="alloc_proof.html#src">src</a></span>) <span class="id"><a href="alloc_proof.html#ls">ls</a></span>) <span class="id"><a href="alloc_proof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7397')">Proof.</div>
<div class="proofscript" id="proof7397">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#in_subst_loc">in_subst_loc</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [[<span class="id">A</span> <span class="id">B</span>] | [<span class="id">A</span> <span class="id">B</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">dst</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Locations.html#Locmap.gss">Locmap.gss</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">q</span> <span class="kwd">as</span> [<span class="id">k</span> <span class="id">r</span> <span class="id">l</span>]; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#well_typed_move_charact">well_typed_move_charact</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">l</span> <span class="kwd">as</span> [<span class="id">mr</span> | <span class="id">sl</span> <span class="id">ofs</span> <span class="id">ty</span>]; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> (<span class="id">H2</span> <span class="id">_</span> <span class="id">B</span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="alloc_proof.html#val_lessdef_normalize">val_lessdef_normalize</a></span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> (<span class="id">H2</span> <span class="id">_</span> <span class="id">B</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Locations.html#Locmap.gso">Locmap.gso</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="can_undef_sound">can_undef_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">e</span> <span class="id">ml</span> <span class="id">q</span>,<br/>
&nbsp;&nbsp;<span class="id">can_undef</span> <span class="id"><a href="alloc_proof.html#ml">ml</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id">EqSet.In</span> <span class="id"><a href="alloc_proof.html#q">q</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> -&gt; <span class="id"><a href="Locations.html#Loc.notin">Loc.notin</a></span> (<span class="id">eloc</span> <span class="id"><a href="alloc_proof.html#q">q</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Locations.html#R">R</a></span> <span class="id"><a href="alloc_proof.html#ml">ml</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7398')">Proof.</div>
<div class="proofscript" id="proof7398">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">ml</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="id">InvBooleans</span>. <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Locations.html#Loc.diff_sym">Loc.diff_sym</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#loc_unconstrained_sound">loc_unconstrained_sound</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="undef_regs_outside">undef_regs_outside</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ml</span> <span class="id">ls</span> <span class="id">l</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Locations.html#Loc.notin">Loc.notin</a></span> <span class="id"><a href="alloc_proof.html#l">l</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Locations.html#R">R</a></span> <span class="id"><a href="alloc_proof.html#ml">ml</a></span>) -&gt; <span class="id"><a href="LTL.html#undef_regs">undef_regs</a></span> <span class="id"><a href="alloc_proof.html#ml">ml</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id"><a href="alloc_proof.html#l">l</a></span> = <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id"><a href="alloc_proof.html#l">l</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7399')">Proof.</div>
<div class="proofscript" id="proof7399">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">ml</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Locations.html#Locmap.gso">Locmap.gso</a></span>. <span class="tactic">apply</span> <span class="id">IHml</span>. <span class="tactic">tauto</span>. <span class="tactic">apply</span> <span class="id"><a href="Locations.html#Loc.diff_sym">Loc.diff_sym</a></span>. <span class="tactic">tauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="can_undef_satisf">can_undef_satisf</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ml</span> <span class="id">e</span> <span class="id">rs</span> <span class="id">ls</span>,<br/>
&nbsp;&nbsp;<span class="id">can_undef</span> <span class="id"><a href="alloc_proof.html#ml">ml</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> (<span class="id"><a href="LTL.html#undef_regs">undef_regs</a></span> <span class="id"><a href="alloc_proof.html#ml">ml</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span>) <span class="id"><a href="alloc_proof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7400')">Proof.</div>
<div class="proofscript" id="proof7400">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="alloc_proof.html#undef_regs_outside">undef_regs_outside</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#can_undef_sound">can_undef_sound</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="can_undef_except_sound">can_undef_except_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">lx</span> <span class="id">e</span> <span class="id">ml</span> <span class="id">q</span>,<br/>
&nbsp;&nbsp;<span class="id">can_undef_except</span> <span class="id"><a href="alloc_proof.html#lx">lx</a></span> <span class="id"><a href="alloc_proof.html#ml">ml</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id">EqSet.In</span> <span class="id"><a href="alloc_proof.html#q">q</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> -&gt; <span class="id"><a href="Locations.html#Loc.diff">Loc.diff</a></span> (<span class="id">eloc</span> <span class="id"><a href="alloc_proof.html#q">q</a></span>) <span class="id"><a href="alloc_proof.html#lx">lx</a></span> -&gt; <span class="id"><a href="Locations.html#Loc.notin">Loc.notin</a></span> (<span class="id">eloc</span> <span class="id"><a href="alloc_proof.html#q">q</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Locations.html#R">R</a></span> <span class="id"><a href="alloc_proof.html#ml">ml</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7401')">Proof.</div>
<div class="proofscript" id="proof7401">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">ml</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="id">InvBooleans</span>. <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_true_elim">orb_true_elim</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H2</span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Coqlib.html#proj_sumbool_true">proj_sumbool_true</a></span> <span class="kwd">in</span> <span class="id">e0</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Locations.html#Loc.diff_sym">Loc.diff_sym</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#loc_unconstrained_sound">loc_unconstrained_sound</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHml</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="subst_loc_undef_satisf">subst_loc_undef_satisf</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">env</span> <span class="id">src</span> <span class="id">dst</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">ml</span> <span class="id">e</span> <span class="id">e</span>',<br/>
&nbsp;&nbsp;<span class="id">subst_loc</span> <span class="id"><a href="alloc_proof.html#dst">dst</a></span> <span class="id"><a href="alloc_proof.html#src">src</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id">well_typed_move</span> <span class="id"><a href="alloc_proof.html#env">env</a></span> <span class="id"><a href="alloc_proof.html#dst">dst</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">can_undef_except</span> <span class="id"><a href="alloc_proof.html#dst">dst</a></span> <span class="id"><a href="alloc_proof.html#ml">ml</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="RTLtyping.html#wt_regset">wt_regset</a></span> <span class="id"><a href="alloc_proof.html#env">env</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> (<span class="id"><a href="Locations.html#Locmap.set">Locmap.set</a></span> <span class="id"><a href="alloc_proof.html#dst">dst</a></span> (<span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id"><a href="alloc_proof.html#src">src</a></span>) (<span class="id"><a href="LTL.html#undef_regs">undef_regs</a></span> <span class="id"><a href="alloc_proof.html#ml">ml</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span>)) <span class="id"><a href="alloc_proof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7402')">Proof.</div>
<div class="proofscript" id="proof7402">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#in_subst_loc">in_subst_loc</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [[<span class="id">A</span> <span class="id">B</span>] | [<span class="id">A</span> <span class="id">B</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">dst</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Locations.html#Locmap.gss">Locmap.gss</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">q</span> <span class="kwd">as</span> [<span class="id">k</span> <span class="id">r</span> <span class="id">l</span>]; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#well_typed_move_charact">well_typed_move_charact</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">l</span> <span class="kwd">as</span> [<span class="id">mr</span> | <span class="id">sl</span> <span class="id">ofs</span> <span class="id">ty</span>]; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> (<span class="id">H3</span> <span class="id">_</span> <span class="id">B</span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="alloc_proof.html#val_lessdef_normalize">val_lessdef_normalize</a></span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> (<span class="id">H3</span> <span class="id">_</span> <span class="id">B</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Locations.html#Locmap.gso">Locmap.gso</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="alloc_proof.html#undef_regs_outside">undef_regs_outside</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#can_undef_except_sound">can_undef_except_sound</a></span>; <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="Locations.html#Loc.diff_sym">Loc.diff_sym</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transfer_use_def_satisf">transfer_use_def_satisf</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">args</span> <span class="id">res</span> <span class="id">args</span>' <span class="id">res</span>' <span class="id">und</span> <span class="id">e</span> <span class="id">e</span>' <span class="id">rs</span> <span class="id">ls</span>,<br/>
&nbsp;&nbsp;<span class="id">transfer_use_def</span> <span class="id"><a href="alloc_proof.html#args">args</a></span> <span class="id"><a href="alloc_proof.html#res">res</a></span> <span class="id">args</span>' <span class="id">res</span>' <span class="id"><a href="alloc_proof.html#und">und</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef_list">Val.lessdef_list</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span>##<span class="id"><a href="alloc_proof.html#args">args</a></span> (<span class="id"><a href="LTL.html#reglist">reglist</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id">args</span>') /\<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">v</span> <span class="id">v</span>', <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="alloc_proof.html#v">v</a></span> <span class="id">v</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> (<span class="id"><a href="alloc_proof.html#rs">rs</a></span>#<span class="id"><a href="alloc_proof.html#res">res</a></span> &lt;- <span class="id"><a href="alloc_proof.html#v">v</a></span>) (<span class="id"><a href="Locations.html#Locmap.set">Locmap.set</a></span> (<span class="id"><a href="Locations.html#R">R</a></span> <span class="id">res</span>') <span class="id">v</span>' (<span class="id"><a href="LTL.html#undef_regs">undef_regs</a></span> <span class="id"><a href="alloc_proof.html#und">und</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span>)) <span class="id"><a href="alloc_proof.html#e">e</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7403')">Proof.</div>
<div class="proofscript" id="proof7403">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">transfer_use_def</span>; <span class="tactic">intros</span>. <span class="id">MonadInv</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equations_lessdef">add_equations_lessdef</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#parallel_assignment_satisf">parallel_assignment_satisf</a></span>; <span class="tactic">eauto</span>. <span class="tactic">assumption</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#can_undef_satisf">can_undef_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equations_satisf">add_equations_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="add_equations_res_lessdef">add_equations_res_lessdef</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">r</span> <span class="id">oty</span> <span class="id">l</span> <span class="id">e</span> <span class="id">e</span>' <span class="id">rs</span> <span class="id">ls</span>,<br/>
&nbsp;&nbsp;<span class="id">add_equations_res</span> <span class="id"><a href="alloc_proof.html#r">r</a></span> <span class="id"><a href="alloc_proof.html#oty">oty</a></span> <span class="id"><a href="alloc_proof.html#l">l</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.has_type">Val.has_type</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span>#<span class="id"><a href="alloc_proof.html#r">r</a></span> (<span class="kwd">match</span> <span class="id"><a href="alloc_proof.html#oty">oty</a></span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">ty</span> =&gt; <span class="id">ty</span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="AST.html#Tint">Tint</a></span> <span class="kwd">end</span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span>#<span class="id"><a href="alloc_proof.html#r">r</a></span> (<span class="id"><a href="Locations.html#Locmap.getpair">Locmap.getpair</a></span> (<span class="id"><a href="AST.html#map_rpair">map_rpair</a></span> <span class="id"><a href="Locations.html#R">R</a></span> <span class="id"><a href="alloc_proof.html#l">l</a></span>) <span class="id"><a href="alloc_proof.html#ls">ls</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7404')">Proof.</div>
<div class="proofscript" id="proof7404">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">functional</span> <span class="tactic">inversion</span> <span class="id">H</span>; <span class="tactic">simpl</span>.<br/>
- <span class="tactic">subst</span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equation_lessdef">add_equation_lessdef</a></span> <span class="kwd">with</span> (<span class="id">q</span> := <span class="id">Eq</span> <span class="id">Full</span> <span class="id">r</span> (<span class="id"><a href="Locations.html#R">R</a></span> <span class="id">mr</span>)); <span class="tactic">eauto</span>.<br/>
- <span class="tactic">subst</span>. <span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="alloc_proof.html#val_longofwords_eq">val_longofwords_eq</a></span> <span class="id">rs</span>#<span class="id">r</span>) <span class="tactic">by</span> <span class="tactic">auto</span>. <br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.longofwords_lessdef">Val.longofwords_lessdef</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equation_lessdef">add_equation_lessdef</a></span> <span class="kwd">with</span> (<span class="id">q</span> := <span class="id">Eq</span> <span class="id">High</span> <span class="id">r</span> (<span class="id"><a href="Locations.html#R">R</a></span> <span class="id">mr1</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equation_satisf">add_equation_satisf</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equation_lessdef">add_equation_lessdef</a></span> <span class="kwd">with</span> (<span class="id">q</span> := <span class="id">Eq</span> <span class="id">Low</span> <span class="id">r</span> (<span class="id"><a href="Locations.html#R">R</a></span> <span class="id">mr2</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="callee_save_loc">callee_save_loc</a></span> (<span class="id">l</span>: <span class="id"><a href="Locations.html#loc">loc</a></span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="alloc_proof.html#l">l</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Locations.html#R">R</a></span> <span class="id">r</span> =&gt; <span class="id"><a href="Conventions1.html#is_callee_save">is_callee_save</a></span> <span class="id">r</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Locations.html#S">S</a></span> <span class="id">sl</span> <span class="id">ofs</span> <span class="id">ty</span> =&gt; <span class="id">sl</span> &lt;&gt; <span class="id"><a href="Locations.html#Outgoing">Outgoing</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="agree_callee_save">agree_callee_save</a></span> (<span class="id">ls1</span> <span class="id">ls2</span>: <span class="id"><a href="LTL.html#locset">locset</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l</span>, <span class="id"><a href="alloc_proof.html#callee_save_loc">callee_save_loc</a></span> <span class="id"><a href="alloc_proof.html#l">l</a></span> -&gt; <span class="id"><a href="alloc_proof.html#ls1">ls1</a></span> <span class="id"><a href="alloc_proof.html#l">l</a></span> = <span class="id"><a href="alloc_proof.html#ls2">ls2</a></span> <span class="id"><a href="alloc_proof.html#l">l</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="return_regs_agree_callee_save">return_regs_agree_callee_save</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">caller</span> <span class="id">callee</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#agree_callee_save">agree_callee_save</a></span> <span class="id"><a href="alloc_proof.html#caller">caller</a></span> (<span class="id"><a href="LTL.html#return_regs">return_regs</a></span> <span class="id"><a href="alloc_proof.html#caller">caller</a></span> <span class="id"><a href="alloc_proof.html#callee">callee</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7405')">Proof.</div>
<div class="proofscript" id="proof7405">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="LTL.html#return_regs">return_regs</a></span>. <span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">l</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span>; <span class="tactic">auto</span>. <br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">sl</span>; <span class="tactic">auto</span> || <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="no_caller_saves_sound">no_caller_saves_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">e</span> <span class="id">q</span>,<br/>
&nbsp;&nbsp;<span class="id">no_caller_saves</span> <span class="id"><a href="alloc_proof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">EqSet.In</span> <span class="id"><a href="alloc_proof.html#q">q</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#callee_save_loc">callee_save_loc</a></span> (<span class="id">eloc</span> <span class="id"><a href="alloc_proof.html#q">q</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7406')">Proof.</div>
<div class="proofscript" id="proof7406">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">no_caller_saves</span>, <span class="id"><a href="alloc_proof.html#callee_save_loc">callee_save_loc</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">EqSet.for_all_2</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">hnf</span>. <span class="tactic">intros</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> <span class="id">H1</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">lazy</span> <span class="id">beta</span>. <span class="tactic">destruct</span> (<span class="id">eloc</span> <span class="id">q</span>). <span class="tactic">auto</span>. <span class="tactic">destruct</span> <span class="id">sl</span>; <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="val_hiword_longofwords">val_hiword_longofwords</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">v1</span> <span class="id">v2</span>, <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="Values.html#Val.hiword">Val.hiword</a></span> (<span class="id"><a href="Values.html#Val.longofwords">Val.longofwords</a></span> <span class="id"><a href="alloc_proof.html#v1">v1</a></span> <span class="id"><a href="alloc_proof.html#v2">v2</a></span>)) <span class="id"><a href="alloc_proof.html#v1">v1</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7407')">Proof.</div>
<div class="proofscript" id="proof7407">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">v1</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> <span class="id">v2</span>; <span class="tactic">auto</span>. <span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.hiword">Val.hiword</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.hi_ofwords">Int64.hi_ofwords</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="val_loword_longofwords">val_loword_longofwords</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">v1</span> <span class="id">v2</span>, <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="Values.html#Val.loword">Val.loword</a></span> (<span class="id"><a href="Values.html#Val.longofwords">Val.longofwords</a></span> <span class="id"><a href="alloc_proof.html#v1">v1</a></span> <span class="id"><a href="alloc_proof.html#v2">v2</a></span>)) <span class="id"><a href="alloc_proof.html#v2">v2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7408')">Proof.</div>
<div class="proofscript" id="proof7408">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">v1</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> <span class="id">v2</span>; <span class="tactic">auto</span>. <span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.loword">Val.loword</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.lo_ofwords">Int64.lo_ofwords</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="function_return_satisf">function_return_satisf</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rs</span> <span class="id">ls_before</span> <span class="id">ls_after</span> <span class="id">res</span> <span class="id">res</span>' <span class="id">sg</span> <span class="id">e</span> <span class="id">e</span>' <span class="id">v</span>,<br/>
&nbsp;&nbsp;<span class="id">res</span>' = <span class="id"><a href="Conventions1.html#loc_result">loc_result</a></span> <span class="id"><a href="alloc_proof.html#sg">sg</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">remove_equations_res</span> <span class="id"><a href="alloc_proof.html#res">res</a></span> <span class="id">res</span>' <span class="id"><a href="alloc_proof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls_before">ls_before</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#forallb">forallb</a></span> (<span class="kwd">fun</span> <span class="id">l</span> =&gt; <span class="id">reg_loc_unconstrained</span> <span class="id"><a href="alloc_proof.html#res">res</a></span> <span class="id"><a href="alloc_proof.html#l">l</a></span> <span class="id">e</span>') (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Locations.html#R">R</a></span> (<span class="id"><a href="AST.html#regs_of_rpair">regs_of_rpair</a></span> <span class="id">res</span>')) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">no_caller_saves</span> <span class="id">e</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="alloc_proof.html#v">v</a></span> (<span class="id"><a href="Locations.html#Locmap.getpair">Locmap.getpair</a></span> (<span class="id"><a href="AST.html#map_rpair">map_rpair</a></span> <span class="id"><a href="Locations.html#R">R</a></span> <span class="id">res</span>') <span class="id"><a href="alloc_proof.html#ls_after">ls_after</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#agree_callee_save">agree_callee_save</a></span> <span class="id"><a href="alloc_proof.html#ls_before">ls_before</a></span> <span class="id"><a href="alloc_proof.html#ls_after">ls_after</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> (<span class="id"><a href="alloc_proof.html#rs">rs</a></span>#<span class="id"><a href="alloc_proof.html#res">res</a></span> &lt;- <span class="id"><a href="alloc_proof.html#v">v</a></span>) <span class="id"><a href="alloc_proof.html#ls_after">ls_after</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7409')">Proof.</div>
<div class="proofscript" id="proof7409">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">functional</span> <span class="tactic">inversion</span> <span class="id">H0</span>.<br/>
- <span class="comment">(*&nbsp;One&nbsp;register&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H8</span> <span class="kwd">in</span> *. <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="id">InvBooleans</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">e</span>' := <span class="id">remove_equation</span> {| <span class="id">ekind</span> := <span class="id">Full</span>; <span class="id">ereg</span> := <span class="id">res</span>; <span class="id">eloc</span> := <span class="id"><a href="Locations.html#R">R</a></span> <span class="id">mr</span> |} <span class="id">e</span>) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">OrderedEquation.eq_dec</span> <span class="id">q</span> (<span class="id">Eq</span> <span class="id">Full</span> <span class="id">res</span> (<span class="id"><a href="Locations.html#R">R</a></span> <span class="id">mr</span>))).<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">q</span>; <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Registers.html#Regmap.gss">Regmap.gss</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">EqSet.In</span> <span class="id">q</span> <span class="id">e</span>'). <span class="tactic">unfold</span> <span class="id">e</span>', <span class="id">remove_equation</span>; <span class="tactic">simpl</span>. <span class="id">ESD.fsetdec</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#reg_loc_unconstrained_sound">reg_loc_unconstrained_sound</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">A</span> <span class="id">B</span>].<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Registers.html#Regmap.gso">Regmap.gso</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#no_caller_saves_sound">no_caller_saves_sound</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H5</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H5</span>; <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;Two&nbsp;32-bit&nbsp;halves&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H9</span> <span class="kwd">in</span> *. <span class="tactic">simpl</span> <span class="kwd">in</span> *. <br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">e</span>' := <span class="id">remove_equation</span> {| <span class="id">ekind</span> := <span class="id">Low</span>; <span class="id">ereg</span> := <span class="id">res</span>; <span class="id">eloc</span> := <span class="id"><a href="Locations.html#R">R</a></span> <span class="id">mr2</span> |}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">remove_equation</span> {| <span class="id">ekind</span> := <span class="id">High</span>; <span class="id">ereg</span> := <span class="id">res</span>; <span class="id">eloc</span> := <span class="id"><a href="Locations.html#R">R</a></span> <span class="id">mr1</span> |} <span class="id">e</span>)) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">InvBooleans</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">OrderedEquation.eq_dec</span> <span class="id">q</span> (<span class="id">Eq</span> <span class="id">Low</span> <span class="id">res</span> (<span class="id"><a href="Locations.html#R">R</a></span> <span class="id">mr2</span>))).<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">q</span>; <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Registers.html#Regmap.gss">Regmap.gss</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Values.html#Val.lessdef_trans">Val.lessdef_trans</a></span>. <span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.loword_lessdef">Val.loword_lessdef</a></span>. <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="alloc_proof.html#val_loword_longofwords">val_loword_longofwords</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">OrderedEquation.eq_dec</span> <span class="id">q</span> (<span class="id">Eq</span> <span class="id">High</span> <span class="id">res</span> (<span class="id"><a href="Locations.html#R">R</a></span> <span class="id">mr1</span>))).<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">q</span>; <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Registers.html#Regmap.gss">Regmap.gss</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Values.html#Val.lessdef_trans">Val.lessdef_trans</a></span>. <span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.hiword_lessdef">Val.hiword_lessdef</a></span>. <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="alloc_proof.html#val_hiword_longofwords">val_hiword_longofwords</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">EqSet.In</span> <span class="id">q</span> <span class="id">e</span>'). <span class="tactic">unfold</span> <span class="id">e</span>', <span class="id">remove_equation</span>; <span class="tactic">simpl</span>; <span class="id">ESD.fsetdec</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#reg_loc_unconstrained_sound">reg_loc_unconstrained_sound</a></span>. <span class="id">eexact</span> <span class="id">H</span>. <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">A</span> <span class="id">B</span>].<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#reg_loc_unconstrained_sound">reg_loc_unconstrained_sound</a></span>. <span class="id">eexact</span> <span class="id">H2</span>. <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">C</span> <span class="id">D</span>].<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Registers.html#Regmap.gso">Regmap.gso</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#no_caller_saves_sound">no_caller_saves_sound</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">red</span> <span class="kwd">in</span> <span class="id">H5</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H5</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="compat_left_sound">compat_left_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">r</span> <span class="id">l</span> <span class="id">e</span> <span class="id">q</span>,<br/>
&nbsp;&nbsp;<span class="id">compat_left</span> <span class="id"><a href="alloc_proof.html#r">r</a></span> <span class="id"><a href="alloc_proof.html#l">l</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id">EqSet.In</span> <span class="id"><a href="alloc_proof.html#q">q</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> -&gt; <span class="id">ereg</span> <span class="id"><a href="alloc_proof.html#q">q</a></span> = <span class="id"><a href="alloc_proof.html#r">r</a></span> -&gt; <span class="id">ekind</span> <span class="id"><a href="alloc_proof.html#q">q</a></span> = <span class="id">Full</span> /\ <span class="id">eloc</span> <span class="id"><a href="alloc_proof.html#q">q</a></span> = <span class="id"><a href="alloc_proof.html#l">l</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7410')">Proof.</div>
<div class="proofscript" id="proof7410">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">compat_left</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">EqSet.for_all_between_iff</span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="alloc_proof.html#select_reg_charact">select_reg_charact</a></span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">destruct</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">ekind</span> <span class="id">q</span>); <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Locations.html#Loc.eq">Loc.eq</a></span> <span class="id">l</span> (<span class="id">eloc</span> <span class="id">q</span>)); <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">subst</span> <span class="id">x2</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">exact</span> (<span class="id"><a href="alloc_proof.html#select_reg_l_monotone">select_reg_l_monotone</a></span> <span class="id">r</span>).<br/>
&nbsp;&nbsp;<span class="tactic">exact</span> (<span class="id"><a href="alloc_proof.html#select_reg_h_monotone">select_reg_h_monotone</a></span> <span class="id">r</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="compat_left2_sound">compat_left2_sound</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">r</span> <span class="id">l1</span> <span class="id">l2</span> <span class="id">e</span> <span class="id">q</span>,<br/>
&nbsp;&nbsp;<span class="id">compat_left2</span> <span class="id"><a href="alloc_proof.html#r">r</a></span> <span class="id"><a href="alloc_proof.html#l1">l1</a></span> <span class="id"><a href="alloc_proof.html#l2">l2</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id">EqSet.In</span> <span class="id"><a href="alloc_proof.html#q">q</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> -&gt; <span class="id">ereg</span> <span class="id"><a href="alloc_proof.html#q">q</a></span> = <span class="id"><a href="alloc_proof.html#r">r</a></span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id">ekind</span> <span class="id"><a href="alloc_proof.html#q">q</a></span> = <span class="id">High</span> /\ <span class="id">eloc</span> <span class="id"><a href="alloc_proof.html#q">q</a></span> = <span class="id"><a href="alloc_proof.html#l1">l1</a></span>) \/ (<span class="id">ekind</span> <span class="id"><a href="alloc_proof.html#q">q</a></span> = <span class="id">Low</span> /\ <span class="id">eloc</span> <span class="id"><a href="alloc_proof.html#q">q</a></span> = <span class="id"><a href="alloc_proof.html#l2">l2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7411')">Proof.</div>
<div class="proofscript" id="proof7411">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">compat_left2</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">EqSet.for_all_between_iff</span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="alloc_proof.html#select_reg_charact">select_reg_charact</a></span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">destruct</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">ekind</span> <span class="id">q</span>); <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">InvBooleans</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">InvBooleans</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">subst</span> <span class="id">x2</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">exact</span> (<span class="id"><a href="alloc_proof.html#select_reg_l_monotone">select_reg_l_monotone</a></span> <span class="id">r</span>).<br/>
&nbsp;&nbsp;<span class="tactic">exact</span> (<span class="id"><a href="alloc_proof.html#select_reg_h_monotone">select_reg_h_monotone</a></span> <span class="id">r</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="compat_entry_satisf">compat_entry_satisf</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rl</span> <span class="id">ll</span> <span class="id">e</span>,<br/>
&nbsp;&nbsp;<span class="id">compat_entry</span> <span class="id"><a href="alloc_proof.html#rl">rl</a></span> <span class="id"><a href="alloc_proof.html#ll">ll</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">vl</span> <span class="id">ls</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef_list">Val.lessdef_list</a></span> <span class="id"><a href="alloc_proof.html#vl">vl</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">p</span> =&gt; <span class="id"><a href="Locations.html#Locmap.getpair">Locmap.getpair</a></span> <span class="id"><a href="alloc_proof.html#p">p</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span>) <span class="id"><a href="alloc_proof.html#ll">ll</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> (<span class="id"><a href="RTL.html#init_regs">init_regs</a></span> <span class="id"><a href="alloc_proof.html#vl">vl</a></span> <span class="id"><a href="alloc_proof.html#rl">rl</a></span>) <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7412')">Proof.</div>
<div class="proofscript" id="proof7412">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">e</span>. <span class="id">functional</span> <span class="tactic">induction</span> (<span class="id">compat_entry</span> <span class="id">rl</span> <span class="id">ll</span> <span class="id">e</span>); <span class="tactic">intros</span>.<br/>
- <span class="comment">(*&nbsp;no&nbsp;params&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Registers.html#Regmap.gi">Regmap.gi</a></span>. <span class="tactic">destruct</span> (<span class="id">ekind</span> <span class="id">q</span>); <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;a&nbsp;param&nbsp;in&nbsp;a&nbsp;single&nbsp;location&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">InvBooleans</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Registers.html#Regmap.gsspec">Regmap.gsspec</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#peq">peq</a></span> (<span class="id">ereg</span> <span class="id">q</span>) <span class="id">r1</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#compat_left_sound">compat_left_sound</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">A</span> <span class="id">B</span>]. <span class="tactic">rewrite</span> <span class="id">A</span>; <span class="tactic">rewrite</span> <span class="id">B</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHb</span>; <span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;a&nbsp;param&nbsp;split&nbsp;across&nbsp;two&nbsp;locations&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">InvBooleans</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Registers.html#Regmap.gsspec">Regmap.gsspec</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#peq">peq</a></span> (<span class="id">ereg</span> <span class="id">q</span>) <span class="id">r1</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#compat_left2_sound">compat_left2_sound</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [[<span class="id">A</span> <span class="id">B</span>] | [<span class="id">A</span> <span class="id">B</span>]]; <span class="tactic">rewrite</span> <span class="id">A</span>; <span class="tactic">rewrite</span> <span class="id">B</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.lessdef_trans">Val.lessdef_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="Values.html#Val.hiword">Val.hiword</a></span> (<span class="id"><a href="Values.html#Val.longofwords">Val.longofwords</a></span> (<span class="id">ls</span> <span class="id">l1</span>) (<span class="id">ls</span> <span class="id">l2</span>))).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.hiword_lessdef">Val.hiword_lessdef</a></span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="alloc_proof.html#val_hiword_longofwords">val_hiword_longofwords</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.lessdef_trans">Val.lessdef_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="Values.html#Val.loword">Val.loword</a></span> (<span class="id"><a href="Values.html#Val.longofwords">Val.longofwords</a></span> (<span class="id">ls</span> <span class="id">l1</span>) (<span class="id">ls</span> <span class="id">l2</span>))).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.loword_lessdef">Val.loword_lessdef</a></span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="alloc_proof.html#val_loword_longofwords">val_loword_longofwords</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHb</span>; <span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;error&nbsp;case&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">discriminate</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="call_regs_param_values">call_regs_param_values</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">sg</span> <span class="id">ls</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">p</span> =&gt; <span class="id"><a href="Locations.html#Locmap.getpair">Locmap.getpair</a></span> <span class="id"><a href="alloc_proof.html#p">p</a></span> (<span class="id"><a href="LTL.html#call_regs">call_regs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span>)) (<span class="id"><a href="Conventions.html#loc_parameters">loc_parameters</a></span> <span class="id"><a href="alloc_proof.html#sg">sg</a></span>)<br/>
&nbsp;&nbsp;= <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">p</span> =&gt; <span class="id"><a href="Locations.html#Locmap.getpair">Locmap.getpair</a></span> <span class="id"><a href="alloc_proof.html#p">p</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span>) (<span class="id"><a href="Conventions1.html#loc_arguments">loc_arguments</a></span> <span class="id"><a href="alloc_proof.html#sg">sg</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7413')">Proof.</div>
<div class="proofscript" id="proof7413">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="Conventions.html#loc_parameters">loc_parameters</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Coqlib.html#list_map_compose">list_map_compose</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Coqlib.html#list_map_exten">list_map_exten</a></span>; <span class="tactic">intros</span>. <span class="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">A</span>: <span class="kwd">forall</span> <span class="id">l</span>, <span class="id"><a href="Conventions1.html#loc_argument_acceptable">loc_argument_acceptable</a></span> <span class="id"><a href="alloc_proof.html#l">l</a></span> -&gt; <span class="id"><a href="LTL.html#call_regs">call_regs</a></span> <span class="id">ls</span> (<span class="id"><a href="Conventions.html#parameter_of_argument">parameter_of_argument</a></span> <span class="id"><a href="alloc_proof.html#l">l</a></span>) = <span class="id">ls</span> <span class="id"><a href="alloc_proof.html#l">l</a></span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">destruct</span> <span class="id">l</span> <span class="kwd">as</span> [<span class="id">r</span> | [] <span class="id">ofs</span> <span class="id">ty</span>]; <span class="tactic">simpl</span>; <span class="tactic">auto</span>; <span class="id">contradiction</span>. }<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Conventions1.html#loc_arguments_acceptable">loc_arguments_acceptable</a></span>; <span class="tactic">eauto</span>. <span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
- <span class="tactic">auto</span>.<br/>
- <span class="tactic">destruct</span> <span class="id">H0</span>; <span class="tactic">f_equal</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="return_regs_arg_values">return_regs_arg_values</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">sg</span> <span class="id">ls1</span> <span class="id">ls2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Conventions.html#tailcall_is_possible">tailcall_is_possible</a></span> <span class="id"><a href="alloc_proof.html#sg">sg</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">p</span> =&gt; <span class="id"><a href="Locations.html#Locmap.getpair">Locmap.getpair</a></span> <span class="id"><a href="alloc_proof.html#p">p</a></span> (<span class="id"><a href="LTL.html#return_regs">return_regs</a></span> <span class="id"><a href="alloc_proof.html#ls1">ls1</a></span> <span class="id"><a href="alloc_proof.html#ls2">ls2</a></span>)) (<span class="id"><a href="Conventions1.html#loc_arguments">loc_arguments</a></span> <span class="id"><a href="alloc_proof.html#sg">sg</a></span>) <br/>
&nbsp;&nbsp;= <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">p</span> =&gt; <span class="id"><a href="Locations.html#Locmap.getpair">Locmap.getpair</a></span> <span class="id"><a href="alloc_proof.html#p">p</a></span> <span class="id"><a href="alloc_proof.html#ls2">ls2</a></span>) (<span class="id"><a href="Conventions1.html#loc_arguments">loc_arguments</a></span> <span class="id"><a href="alloc_proof.html#sg">sg</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7414')">Proof.</div>
<div class="proofscript" id="proof7414">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Conventions.html#tailcall_is_possible_correct">tailcall_is_possible_correct</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Coqlib.html#list_map_exten">list_map_exten</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Locations.html#Locmap.getpair_exten">Locmap.getpair_exten</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">l</span> (<span class="id"><a href="AST.html#regs_of_rpairs">regs_of_rpairs</a></span> (<span class="id"><a href="Conventions1.html#loc_arguments">loc_arguments</a></span> <span class="id">sg</span>))) <span class="tactic">by</span> (<span class="tactic">eapply</span> <span class="id"><a href="AST.html#in_regs_of_rpairs">in_regs_of_rpairs</a></span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Conventions.html#loc_arguments_acceptable_2">loc_arguments_acceptable_2</a></span>; <span class="tactic">eauto</span>. <span class="id">exploit</span> <span class="id">H</span>; <span class="tactic">eauto</span>. <br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">l</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>; <span class="tactic">try</span> <span class="id">contradiction</span>. <span class="tactic">rewrite</span> <span class="id">H4</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="find_function_tailcall">find_function_tailcall</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">tge</span> <span class="id">ros</span> <span class="id">ls1</span> <span class="id">ls2</span>,<br/>
&nbsp;&nbsp;<span class="id">ros_compatible_tailcall</span> <span class="id"><a href="alloc_proof.html#ros">ros</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="LTL.html#find_function">find_function</a></span> <span class="id"><a href="alloc_proof.html#tge">tge</a></span> <span class="id"><a href="alloc_proof.html#ros">ros</a></span> (<span class="id"><a href="LTL.html#return_regs">return_regs</a></span> <span class="id"><a href="alloc_proof.html#ls1">ls1</a></span> <span class="id"><a href="alloc_proof.html#ls2">ls2</a></span>) = <span class="id"><a href="LTL.html#find_function">find_function</a></span> <span class="id"><a href="alloc_proof.html#tge">tge</a></span> <span class="id"><a href="alloc_proof.html#ros">ros</a></span> <span class="id"><a href="alloc_proof.html#ls2">ls2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7415')">Proof.</div>
<div class="proofscript" id="proof7415">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">ros_compatible_tailcall</span>, <span class="id"><a href="LTL.html#find_function">find_function</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">ros</span> <span class="kwd">as</span> [<span class="id">r</span>|<span class="id">id</span>]; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="LTL.html#return_regs">return_regs</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="Conventions1.html#is_callee_save">is_callee_save</a></span> <span class="id">r</span>). <span class="tactic">discriminate</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loadv_int64_split">loadv_int64_split</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">a</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.loadv">Mem.loadv</a></span> <span class="id"><a href="AST.html#Mint64">Mint64</a></span> <span class="id"><a href="alloc_proof.html#m">m</a></span> <span class="id"><a href="alloc_proof.html#a">a</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="alloc_proof.html#v">v</a></span> -&gt; <span class="id"><a href="Archi.html#splitlong">Archi.splitlong</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v1</span> <span class="id">v2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.loadv">Mem.loadv</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> <span class="id"><a href="alloc_proof.html#m">m</a></span> <span class="id"><a href="alloc_proof.html#a">a</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="kwd">if</span> <span class="id"><a href="Archi.html#big_endian">Archi.big_endian</a></span> <span class="kwd">then</span> <span class="id"><a href="alloc_proof.html#v1">v1</a></span> <span class="kwd">else</span> <span class="id"><a href="alloc_proof.html#v2">v2</a></span>)<br/>
&nbsp;&nbsp;/\ <span class="id"><a href="Memory.html#Mem.loadv">Mem.loadv</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> <span class="id"><a href="alloc_proof.html#m">m</a></span> (<span class="id"><a href="Values.html#Val.add">Val.add</a></span> <span class="id"><a href="alloc_proof.html#a">a</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> 4))) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="kwd">if</span> <span class="id"><a href="Archi.html#big_endian">Archi.big_endian</a></span> <span class="kwd">then</span> <span class="id"><a href="alloc_proof.html#v2">v2</a></span> <span class="kwd">else</span> <span class="id"><a href="alloc_proof.html#v1">v1</a></span>)<br/>
&nbsp;&nbsp;/\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="Values.html#Val.hiword">Val.hiword</a></span> <span class="id"><a href="alloc_proof.html#v">v</a></span>) <span class="id"><a href="alloc_proof.html#v1">v1</a></span><br/>
&nbsp;&nbsp;/\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="Values.html#Val.loword">Val.loword</a></span> <span class="id"><a href="alloc_proof.html#v">v</a></span>) <span class="id"><a href="alloc_proof.html#v2">v2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7416')">Proof.</div>
<div class="proofscript" id="proof7416">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="Archi.html#splitlong_ptr32">Archi.splitlong_ptr32</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Memory.html#Mem.loadv_int64_split">Mem.loadv_int64_split</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">v1</span> &amp; <span class="id">v2</span> &amp; <span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>).<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v1</span>, <span class="id">v2</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">C</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> <span class="id">v1</span>, <span class="id">v2</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.hi_ofwords">Int64.hi_ofwords</a></span>, <span class="id"><a href="Integers.html#Int64.lo_ofwords">Int64.lo_ofwords</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="add_equations_builtin_arg_satisf">add_equations_builtin_arg_satisf</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">env</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">arg</span> <span class="id">arg</span>' <span class="id">e</span> <span class="id">e</span>',<br/>
&nbsp;&nbsp;<span class="id">add_equations_builtin_arg</span> <span class="id"><a href="alloc_proof.html#env">env</a></span> <span class="id"><a href="alloc_proof.html#arg">arg</a></span> <span class="id">arg</span>' <span class="id"><a href="alloc_proof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id">e</span>' -&gt; <span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7417')">Proof.</div>
<div class="proofscript" id="proof7417">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">arg</span>; <span class="tactic">destruct</span> <span class="id">arg</span>'; <span class="tactic">simpl</span>; <span class="tactic">intros</span>; <span class="id">MonadInv</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equation_satisf">add_equation_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">arg</span>'1; <span class="id">MonadInv</span>. <span class="tactic">destruct</span> <span class="id">arg</span>'2; <span class="id">MonadInv</span>. <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="alloc_proof.html#add_equation_satisf">add_equation_satisf</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="add_equations_builtin_arg_lessdef">add_equations_builtin_arg_lessdef</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">env</span> (<span class="id">ge</span>: <span class="id"><a href="RTL.html#genv">RTL.genv</a></span>) <span class="id">sp</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">m</span> <span class="id">arg</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Events.html#eval_builtin_arg">eval_builtin_arg</a></span> <span class="id"><a href="alloc_proof.html#ge">ge</a></span> (<span class="kwd">fun</span> <span class="id">r</span> =&gt; <span class="id"><a href="alloc_proof.html#rs">rs</a></span>#<span class="id"><a href="alloc_proof.html#r">r</a></span>) <span class="id"><a href="alloc_proof.html#sp">sp</a></span> <span class="id"><a href="alloc_proof.html#m">m</a></span> <span class="id"><a href="alloc_proof.html#arg">arg</a></span> <span class="id"><a href="alloc_proof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">e</span> <span class="id">e</span>' <span class="id">arg</span>',<br/>
&nbsp;&nbsp;<span class="id">add_equations_builtin_arg</span> <span class="id"><a href="alloc_proof.html#env">env</a></span> <span class="id"><a href="alloc_proof.html#arg">arg</a></span> <span class="id">arg</span>' <span class="id"><a href="alloc_proof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="RTLtyping.html#wt_regset">wt_regset</a></span> <span class="id"><a href="alloc_proof.html#env">env</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>', <span class="id"><a href="Events.html#eval_builtin_arg">eval_builtin_arg</a></span> <span class="id"><a href="alloc_proof.html#ge">ge</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id"><a href="alloc_proof.html#sp">sp</a></span> <span class="id"><a href="alloc_proof.html#m">m</a></span> <span class="id">arg</span>' <span class="id">v</span>' /\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="alloc_proof.html#v">v</a></span> <span class="id">v</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7418')">Proof.</div>
<div class="proofscript" id="proof7418">
&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="tactic">simpl</span>; <span class="tactic">intros</span> <span class="id">e</span> <span class="id">e</span>' <span class="id">arg</span>' <span class="id">AE</span> <span class="id">SAT</span> <span class="id">WT</span>; <span class="tactic">destruct</span> <span class="id">arg</span>'; <span class="id">MonadInv</span>.<br/>
- <span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#add_equation_lessdef">add_equation_lessdef</a></span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id">ls</span> <span class="id">x0</span>); <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">barg</span>.<br/>
- <span class="tactic">destruct</span> <span class="id">arg</span>'1; <span class="id">MonadInv</span>. <span class="tactic">destruct</span> <span class="id">arg</span>'2; <span class="id">MonadInv</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#add_equation_lessdef">add_equation_lessdef</a></span>. <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">intros</span> <span class="id">LD1</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#add_equation_lessdef">add_equation_lessdef</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equation_satisf">add_equation_satisf</a></span>. <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">intros</span> <span class="id">LD2</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="Values.html#Val.longofwords">Val.longofwords</a></span> (<span class="id">ls</span> <span class="id">x0</span>) (<span class="id">ls</span> <span class="id">x1</span>)); <span class="tactic">split</span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">barg</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="alloc_proof.html#val_longofwords_eq">val_longofwords_eq</a></span> <span class="id">rs</span>#<span class="id">x</span>). <span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.longofwords_lessdef">Val.longofwords_lessdef</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">e0</span>; <span class="tactic">apply</span> <span class="id">WT</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assumption</span>.<br/>
- <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">barg</span>.<br/>
- <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">barg</span>.<br/>
- <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">barg</span>.<br/>
- <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">barg</span>.<br/>
- <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">barg</span>.<br/>
- <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">barg</span>.<br/>
- <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">barg</span>.<br/>
- <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">barg</span>.<br/>
- <span class="id">exploit</span> <span class="id">IHeval_builtin_arg1</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equations_builtin_arg_satisf">add_equations_builtin_arg_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> (<span class="id">v1</span> &amp; <span class="id">A</span> &amp; <span class="id">B</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHeval_builtin_arg2</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">v2</span> &amp; <span class="id">C</span> &amp; <span class="id">D</span>).<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="Values.html#Val.longofwords">Val.longofwords</a></span> <span class="id">v1</span> <span class="id">v2</span>); <span class="tactic">split</span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">barg</span>. <span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.longofwords_lessdef">Val.longofwords_lessdef</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="add_equations_builtin_args_satisf">add_equations_builtin_args_satisf</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">env</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">arg</span> <span class="id">arg</span>' <span class="id">e</span> <span class="id">e</span>',<br/>
&nbsp;&nbsp;<span class="id">add_equations_builtin_args</span> <span class="id"><a href="alloc_proof.html#env">env</a></span> <span class="id"><a href="alloc_proof.html#arg">arg</a></span> <span class="id">arg</span>' <span class="id"><a href="alloc_proof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id">e</span>' -&gt; <span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7419')">Proof.</div>
<div class="proofscript" id="proof7419">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">arg</span>; <span class="tactic">destruct</span> <span class="id">arg</span>'; <span class="tactic">simpl</span>; <span class="tactic">intros</span>; <span class="id">MonadInv</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="alloc_proof.html#add_equations_builtin_arg_satisf">add_equations_builtin_arg_satisf</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="add_equations_builtin_args_lessdef">add_equations_builtin_args_lessdef</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">env</span> (<span class="id">ge</span>: <span class="id"><a href="RTL.html#genv">RTL.genv</a></span>) <span class="id">sp</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">m</span> <span class="id">tm</span> <span class="id">arg</span> <span class="id">vl</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Events.html#eval_builtin_args">eval_builtin_args</a></span> <span class="id"><a href="alloc_proof.html#ge">ge</a></span> (<span class="kwd">fun</span> <span class="id">r</span> =&gt; <span class="id"><a href="alloc_proof.html#rs">rs</a></span>#<span class="id"><a href="alloc_proof.html#r">r</a></span>) <span class="id"><a href="alloc_proof.html#sp">sp</a></span> <span class="id"><a href="alloc_proof.html#m">m</a></span> <span class="id"><a href="alloc_proof.html#arg">arg</a></span> <span class="id"><a href="alloc_proof.html#vl">vl</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">arg</span>' <span class="id">e</span> <span class="id">e</span>',<br/>
&nbsp;&nbsp;<span class="id">add_equations_builtin_args</span> <span class="id"><a href="alloc_proof.html#env">env</a></span> <span class="id"><a href="alloc_proof.html#arg">arg</a></span> <span class="id">arg</span>' <span class="id"><a href="alloc_proof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="RTLtyping.html#wt_regset">wt_regset</a></span> <span class="id"><a href="alloc_proof.html#env">env</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="alloc_proof.html#m">m</a></span> <span class="id"><a href="alloc_proof.html#tm">tm</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">vl</span>', <span class="id"><a href="Events.html#eval_builtin_args">eval_builtin_args</a></span> <span class="id"><a href="alloc_proof.html#ge">ge</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id"><a href="alloc_proof.html#sp">sp</a></span> <span class="id"><a href="alloc_proof.html#tm">tm</a></span> <span class="id">arg</span>' <span class="id">vl</span>' /\ <span class="id"><a href="Values.html#Val.lessdef_list">Val.lessdef_list</a></span> <span class="id"><a href="alloc_proof.html#vl">vl</a></span> <span class="id">vl</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7420')">Proof.</div>
<div class="proofscript" id="proof7420">
&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="tactic">simpl</span>; <span class="tactic">intros</span>; <span class="tactic">destruct</span> <span class="id">arg</span>'; <span class="id">MonadInv</span>.<br/>
- <span class="id">exists</span> (@<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="Values.html#val">val</a></span>); <span class="tactic">split</span>; <span class="id">constructor</span>.<br/>
- <span class="id">exploit</span> <span class="id">IHlist_forall2</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">vl</span>' &amp; <span class="id">A</span> &amp; <span class="id">B</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#add_equations_builtin_arg_lessdef">add_equations_builtin_arg_lessdef</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equations_builtin_args_satisf">add_equations_builtin_args_satisf</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">v1</span>' &amp; <span class="id">C</span> &amp; <span class="id">D</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (@<span class="id"><a href="Events.html#eval_builtin_arg_lessdef">eval_builtin_arg_lessdef</a></span> <span class="id">_</span> <span class="id">ge</span> <span class="id">ls</span> <span class="id">ls</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">v1</span>'' &amp; <span class="id">E</span> &amp; <span class="id">F</span>).<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id">v1</span>'' :: <span class="id">vl</span>'); <span class="tactic">split</span>; <span class="id">constructor</span>; <span class="tactic">auto</span>. <span class="tactic">eapply</span> <span class="id"><a href="Values.html#Val.lessdef_trans">Val.lessdef_trans</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="add_equations_debug_args_satisf">add_equations_debug_args_satisf</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">env</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">arg</span> <span class="id">arg</span>' <span class="id">e</span> <span class="id">e</span>',<br/>
&nbsp;&nbsp;<span class="id">add_equations_debug_args</span> <span class="id"><a href="alloc_proof.html#env">env</a></span> <span class="id"><a href="alloc_proof.html#arg">arg</a></span> <span class="id">arg</span>' <span class="id"><a href="alloc_proof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id">e</span>' -&gt; <span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7421')">Proof.</div>
<div class="proofscript" id="proof7421">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">arg</span>; <span class="tactic">destruct</span> <span class="id">arg</span>'; <span class="tactic">simpl</span>; <span class="tactic">intros</span>; <span class="id">MonadInv</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">add_equations_builtin_arg</span> <span class="id">env</span> <span class="id">a</span> <span class="id">b</span> <span class="id">e</span>) <span class="kwd">as</span> [<span class="id">e1</span>|] <span class="id">eqn</span>:<span class="id">A</span>;<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="alloc_proof.html#add_equations_builtin_arg_satisf">add_equations_builtin_arg_satisf</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="add_equations_debug_args_eval">add_equations_debug_args_eval</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">env</span> (<span class="id">ge</span>: <span class="id"><a href="RTL.html#genv">RTL.genv</a></span>) <span class="id">sp</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">m</span> <span class="id">tm</span> <span class="id">arg</span> <span class="id">vl</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Events.html#eval_builtin_args">eval_builtin_args</a></span> <span class="id"><a href="alloc_proof.html#ge">ge</a></span> (<span class="kwd">fun</span> <span class="id">r</span> =&gt; <span class="id"><a href="alloc_proof.html#rs">rs</a></span>#<span class="id"><a href="alloc_proof.html#r">r</a></span>) <span class="id"><a href="alloc_proof.html#sp">sp</a></span> <span class="id"><a href="alloc_proof.html#m">m</a></span> <span class="id"><a href="alloc_proof.html#arg">arg</a></span> <span class="id"><a href="alloc_proof.html#vl">vl</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">arg</span>' <span class="id">e</span> <span class="id">e</span>',<br/>
&nbsp;&nbsp;<span class="id">add_equations_debug_args</span> <span class="id"><a href="alloc_proof.html#env">env</a></span> <span class="id"><a href="alloc_proof.html#arg">arg</a></span> <span class="id">arg</span>' <span class="id"><a href="alloc_proof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="RTLtyping.html#wt_regset">wt_regset</a></span> <span class="id"><a href="alloc_proof.html#env">env</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="alloc_proof.html#m">m</a></span> <span class="id"><a href="alloc_proof.html#tm">tm</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">vl</span>', <span class="id"><a href="Events.html#eval_builtin_args">eval_builtin_args</a></span> <span class="id"><a href="alloc_proof.html#ge">ge</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id"><a href="alloc_proof.html#sp">sp</a></span> <span class="id"><a href="alloc_proof.html#tm">tm</a></span> <span class="id">arg</span>' <span class="id">vl</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7422')">Proof.</div>
<div class="proofscript" id="proof7422">
&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="tactic">simpl</span>; <span class="tactic">intros</span>; <span class="tactic">destruct</span> <span class="id">arg</span>'; <span class="id">MonadInv</span>.<br/>
- <span class="id">exists</span> (@<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="Values.html#val">val</a></span>); <span class="id">constructor</span>.<br/>
- <span class="id">exists</span> (@<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="Values.html#val">val</a></span>); <span class="id">constructor</span>.<br/>
- <span class="tactic">destruct</span> (<span class="id">add_equations_builtin_arg</span> <span class="id">env</span> <span class="id">a1</span> <span class="id">b</span> <span class="id">e</span>) <span class="kwd">as</span> [<span class="id">e1</span>|] <span class="id">eqn</span>:<span class="id">A</span>.<br/>
+ <span class="id">exploit</span> <span class="id">IHlist_forall2</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">vl</span>' &amp; <span class="id">B</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#add_equations_builtin_arg_lessdef">add_equations_builtin_arg_lessdef</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equations_debug_args_satisf">add_equations_debug_args_satisf</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">v1</span>' &amp; <span class="id">C</span> &amp; <span class="id">D</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (@<span class="id"><a href="Events.html#eval_builtin_arg_lessdef">eval_builtin_arg_lessdef</a></span> <span class="id">_</span> <span class="id">ge</span> <span class="id">ls</span> <span class="id">ls</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">v1</span>'' &amp; <span class="id">E</span> &amp; <span class="id">F</span>).<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id">v1</span>'' :: <span class="id">vl</span>'); <span class="id">constructor</span>; <span class="tactic">auto</span>.<br/>
+ <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="add_equations_builtin_eval">add_equations_builtin_eval</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ef</span> <span class="id">env</span> <span class="id">args</span> <span class="id">args</span>' <span class="id">e1</span> <span class="id">e2</span> <span class="id">m1</span> <span class="id">m1</span>' <span class="id">rs</span> <span class="id">ls</span> (<span class="id">ge</span>: <span class="id"><a href="RTL.html#genv">RTL.genv</a></span>) <span class="id">sp</span> <span class="id">vargs</span> <span class="id">t</span> <span class="id">vres</span> <span class="id">m2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="RTLtyping.html#wt_regset">wt_regset</a></span> <span class="id"><a href="alloc_proof.html#env">env</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="alloc_proof.html#ef">ef</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="AST.html#EF_debug">EF_debug</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id">add_equations_debug_args</span> <span class="id"><a href="alloc_proof.html#env">env</a></span> <span class="id"><a href="alloc_proof.html#args">args</a></span> <span class="id">args</span>' <span class="id"><a href="alloc_proof.html#e1">e1</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span>              =&gt; <span class="id">add_equations_builtin_args</span> <span class="id"><a href="alloc_proof.html#env">env</a></span> <span class="id"><a href="alloc_proof.html#args">args</a></span> <span class="id">args</span>' <span class="id"><a href="alloc_proof.html#e1">e1</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="alloc_proof.html#e2">e2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="alloc_proof.html#m1">m1</a></span> <span class="id">m1</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id"><a href="alloc_proof.html#e2">e2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Events.html#eval_builtin_args">eval_builtin_args</a></span> <span class="id"><a href="alloc_proof.html#ge">ge</a></span> (<span class="kwd">fun</span> <span class="id">r</span> =&gt; <span class="id"><a href="alloc_proof.html#rs">rs</a></span> # <span class="id"><a href="alloc_proof.html#r">r</a></span>) <span class="id"><a href="alloc_proof.html#sp">sp</a></span> <span class="id"><a href="alloc_proof.html#m1">m1</a></span> <span class="id"><a href="alloc_proof.html#args">args</a></span> <span class="id"><a href="alloc_proof.html#vargs">vargs</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Events.html#external_call">external_call</a></span> <span class="id"><a href="alloc_proof.html#ef">ef</a></span> <span class="id"><a href="alloc_proof.html#ge">ge</a></span> <span class="id"><a href="alloc_proof.html#vargs">vargs</a></span> <span class="id"><a href="alloc_proof.html#m1">m1</a></span> <span class="id"><a href="alloc_proof.html#t">t</a></span> <span class="id"><a href="alloc_proof.html#vres">vres</a></span> <span class="id"><a href="alloc_proof.html#m2">m2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id"><a href="alloc_proof.html#e1">e1</a></span> /\<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">vargs</span>' <span class="id">vres</span>' <span class="id">m2</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Events.html#eval_builtin_args">eval_builtin_args</a></span> <span class="id"><a href="alloc_proof.html#ge">ge</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id"><a href="alloc_proof.html#sp">sp</a></span> <span class="id">m1</span>' <span class="id">args</span>' <span class="id">vargs</span>'<br/>
&nbsp;&nbsp;/\ <span class="id"><a href="Events.html#external_call">external_call</a></span> <span class="id"><a href="alloc_proof.html#ef">ef</a></span> <span class="id"><a href="alloc_proof.html#ge">ge</a></span> <span class="id">vargs</span>' <span class="id">m1</span>' <span class="id"><a href="alloc_proof.html#t">t</a></span> <span class="id">vres</span>' <span class="id">m2</span>'<br/>
&nbsp;&nbsp;/\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="alloc_proof.html#vres">vres</a></span> <span class="id">vres</span>'<br/>
&nbsp;&nbsp;/\ <span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="alloc_proof.html#m2">m2</a></span> <span class="id">m2</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7423')">Proof.</div>
<div class="proofscript" id="proof7423">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">DEFAULT</span>: <span class="id">add_equations_builtin_args</span> <span class="id">env</span> <span class="id">args</span> <span class="id">args</span>' <span class="id">e1</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e2</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">e1</span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">vargs</span>' <span class="id">vres</span>' <span class="id">m2</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Events.html#eval_builtin_args">eval_builtin_args</a></span> <span class="id">ge</span> <span class="id">ls</span> <span class="id">sp</span> <span class="id">m1</span>' <span class="id">args</span>' <span class="id">vargs</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Events.html#external_call">external_call</a></span> <span class="id">ef</span> <span class="id">ge</span> <span class="id">vargs</span>' <span class="id">m1</span>' <span class="id">t</span> <span class="id">vres</span>' <span class="id">m2</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id">vres</span> <span class="id">vres</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id">m2</span> <span class="id">m2</span>').<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equations_builtin_args_satisf">add_equations_builtin_args_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#add_equations_builtin_args_lessdef">add_equations_builtin_args_lessdef</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> (<span class="id">vargs</span>' &amp; <span class="id">A</span> &amp; <span class="id">B</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Events.html#external_call_mem_extends">external_call_mem_extends</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> (<span class="id">vres</span>' &amp; <span class="id">m2</span>' &amp; <span class="id">C</span> &amp; <span class="id">D</span> &amp; <span class="id">E</span> &amp; <span class="id">F</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">vargs</span>', <span class="id">vres</span>', <span class="id">m2</span>'; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">ef</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equations_debug_args_satisf">add_equations_debug_args_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#add_equations_debug_args_eval">add_equations_debug_args_eval</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> (<span class="id">vargs</span>' &amp; <span class="id">A</span>).<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H4</span>; <span class="id">inv</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">vargs</span>', <span class="id"><a href="Values.html#Vundef">Vundef</a></span>, <span class="id">m1</span>'. <span class="tactic">intuition</span> <span class="tactic">auto</span>. <span class="tactic">simpl</span>. <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="parallel_set_builtin_res_satisf">parallel_set_builtin_res_satisf</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">env</span> <span class="id">res</span> <span class="id">res</span>' <span class="id">e0</span> <span class="id">e1</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">v</span> <span class="id">v</span>',<br/>
&nbsp;&nbsp;<span class="id">remove_equations_builtin_res</span> <span class="id"><a href="alloc_proof.html#env">env</a></span> <span class="id"><a href="alloc_proof.html#res">res</a></span> <span class="id">res</span>' <span class="id"><a href="alloc_proof.html#e0">e0</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="alloc_proof.html#e1">e1</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#forallb">forallb</a></span> (<span class="kwd">fun</span> <span class="id">r</span> =&gt; <span class="id">reg_unconstrained</span> <span class="id"><a href="alloc_proof.html#r">r</a></span> <span class="id"><a href="alloc_proof.html#e1">e1</a></span>) (<span class="id"><a href="AST.html#params_of_builtin_res">params_of_builtin_res</a></span> <span class="id"><a href="alloc_proof.html#res">res</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#forallb">forallb</a></span> (<span class="kwd">fun</span> <span class="id">mr</span> =&gt; <span class="id">loc_unconstrained</span> (<span class="id"><a href="Locations.html#R">R</a></span> <span class="id"><a href="alloc_proof.html#mr">mr</a></span>) <span class="id"><a href="alloc_proof.html#e1">e1</a></span>) (<span class="id"><a href="AST.html#params_of_builtin_res">params_of_builtin_res</a></span> <span class="id">res</span>') = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id"><a href="alloc_proof.html#e1">e1</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="alloc_proof.html#v">v</a></span> <span class="id">v</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> (<span class="id"><a href="Registers.html#regmap_setres">regmap_setres</a></span> <span class="id"><a href="alloc_proof.html#res">res</a></span> <span class="id"><a href="alloc_proof.html#v">v</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span>) (<span class="id"><a href="Locations.html#Locmap.setres">Locmap.setres</a></span> <span class="id">res</span>' <span class="id">v</span>' <span class="id"><a href="alloc_proof.html#ls">ls</a></span>) <span class="id"><a href="alloc_proof.html#e0">e0</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7424')">Proof.</div>
<div class="proofscript" id="proof7424">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#forallb_forall">forallb_forall</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">res</span>, <span class="id">res</span>'; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="id">inv</span> <span class="id">H</span>.<br/>
- <span class="tactic">apply</span> <span class="id"><a href="alloc_proof.html#parallel_assignment_satisf">parallel_assignment_satisf</a></span> <span class="kwd">with</span> (<span class="id">k</span> := <span class="id">Full</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">reg_loc_unconstrained</span>. <span class="tactic">rewrite</span> <span class="id">H0</span> <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id">H1</span> <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">auto</span>.<br/>
- <span class="tactic">destruct</span> <span class="id">res</span>'1; <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="tactic">destruct</span> <span class="id">res</span>'2; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rename</span> <span class="id">x0</span> <span class="id">into</span> <span class="id">hi</span>; <span class="tactic">rename</span> <span class="id">x1</span> <span class="id">into</span> <span class="id">lo</span>. <span class="id">MonadInv</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Machregs.html#mreg_eq">mreg_eq</a></span> <span class="id">hi</span> <span class="id">lo</span>); <span class="id">inv</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">e</span>' := <span class="id">remove_equation</span> {| <span class="id">ekind</span> := <span class="id">High</span>; <span class="id">ereg</span> := <span class="id">x</span>; <span class="id">eloc</span> := <span class="id"><a href="Locations.html#R">R</a></span> <span class="id">hi</span> |} <span class="id">e0</span>) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">e</span>'' := <span class="id">remove_equation</span> {| <span class="id">ekind</span> := <span class="id">Low</span>; <span class="id">ereg</span> := <span class="id">x</span>; <span class="id">eloc</span> := <span class="id"><a href="Locations.html#R">R</a></span> <span class="id">lo</span> |} <span class="id">e</span>') <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">red</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">OrderedEquation.eq_dec</span> <span class="id">q</span> (<span class="id">Eq</span> <span class="id">Low</span> <span class="id">x</span> (<span class="id"><a href="Locations.html#R">R</a></span> <span class="id">lo</span>))).<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">q</span>; <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Registers.html#Regmap.gss">Regmap.gss</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Locations.html#Locmap.gss">Locmap.gss</a></span>. <span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.loword_lessdef">Val.loword_lessdef</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">OrderedEquation.eq_dec</span> <span class="id">q</span> (<span class="id">Eq</span> <span class="id">High</span> <span class="id">x</span> (<span class="id"><a href="Locations.html#R">R</a></span> <span class="id">hi</span>))).<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">q</span>; <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Registers.html#Regmap.gss">Regmap.gss</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Locations.html#Locmap.gso">Locmap.gso</a></span> <span class="tactic">by</span> (<span class="tactic">red</span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Locations.html#Locmap.gss">Locmap.gss</a></span>. <span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.hiword_lessdef">Val.hiword_lessdef</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">EqSet.In</span> <span class="id">q</span> <span class="id">e</span>'').<br/>
&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id">e</span>'', <span class="id">e</span>', <span class="id">remove_equation</span>; <span class="tactic">simpl</span>; <span class="id">ESD.fsetdec</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Registers.html#Regmap.gso">Regmap.gso</a></span>. <span class="tactic">rewrite</span> ! <span class="id"><a href="Locations.html#Locmap.gso">Locmap.gso</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#loc_unconstrained_sound">loc_unconstrained_sound</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#loc_unconstrained_sound">loc_unconstrained_sound</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#reg_unconstrained_sound">reg_unconstrained_sound</a></span>; <span class="tactic">eauto</span>.<br/>
- <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<h1> Properties of the dataflow analysis </h1>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="analyze_successors">analyze_successors</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">env</span> <span class="id">bsh</span> <span class="id">an</span> <span class="id">pc</span> <span class="id">bs</span> <span class="id">s</span> <span class="id">e</span>,<br/>
&nbsp;&nbsp;<span class="id">analyze</span> <span class="id"><a href="alloc_proof.html#f">f</a></span> <span class="id"><a href="alloc_proof.html#env">env</a></span> <span class="id"><a href="alloc_proof.html#bsh">bsh</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="alloc_proof.html#an">an</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#bsh">bsh</a></span>!<span class="id"><a href="alloc_proof.html#pc">pc</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="alloc_proof.html#bs">bs</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span> (<span class="id">successors_block_shape</span> <span class="id"><a href="alloc_proof.html#bs">bs</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#an">an</a></span>!!<span class="id"><a href="alloc_proof.html#pc">pc</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">e</span>', <span class="id">transfer</span> <span class="id"><a href="alloc_proof.html#f">f</a></span> <span class="id"><a href="alloc_proof.html#env">env</a></span> <span class="id"><a href="alloc_proof.html#bsh">bsh</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span> <span class="id"><a href="alloc_proof.html#an">an</a></span>!!<span class="id"><a href="alloc_proof.html#s">s</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id">e</span>' /\ <span class="id">EqSet.Subset</span> <span class="id">e</span>' <span class="id"><a href="alloc_proof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7425')">Proof.</div>
<div class="proofscript" id="proof7425">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">analyze</span>; <span class="tactic">intros</span>. <span class="id">exploit</span> <span class="id">DS.fixpoint_allnodes_solution</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H2</span>. <span class="tactic">unfold</span> <span class="id">DS.L.ge</span>. <span class="tactic">destruct</span> (<span class="id">transfer</span> <span class="id">f</span> <span class="id">env</span> <span class="id">bsh</span> <span class="id">s</span> <span class="id">an</span>#<span class="id">s</span>); <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">e0</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">contradiction</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="satisf_successors">satisf_successors</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">env</span> <span class="id">bsh</span> <span class="id">an</span> <span class="id">pc</span> <span class="id">bs</span> <span class="id">s</span> <span class="id">e</span> <span class="id">rs</span> <span class="id">ls</span>,<br/>
&nbsp;&nbsp;<span class="id">analyze</span> <span class="id"><a href="alloc_proof.html#f">f</a></span> <span class="id"><a href="alloc_proof.html#env">env</a></span> <span class="id"><a href="alloc_proof.html#bsh">bsh</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="alloc_proof.html#an">an</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#bsh">bsh</a></span>!<span class="id"><a href="alloc_proof.html#pc">pc</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="alloc_proof.html#bs">bs</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span> (<span class="id">successors_block_shape</span> <span class="id"><a href="alloc_proof.html#bs">bs</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#an">an</a></span>!!<span class="id"><a href="alloc_proof.html#pc">pc</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">e</span>', <span class="id">transfer</span> <span class="id"><a href="alloc_proof.html#f">f</a></span> <span class="id"><a href="alloc_proof.html#env">env</a></span> <span class="id"><a href="alloc_proof.html#bsh">bsh</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span> <span class="id"><a href="alloc_proof.html#an">an</a></span>!!<span class="id"><a href="alloc_proof.html#s">s</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id">e</span>' /\ <span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id">e</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7426')">Proof.</div>
<div class="proofscript" id="proof7426">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#analyze_successors">analyze_successors</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">e</span>' [<span class="id">A</span> <span class="id">B</span>]].<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">e</span>'; <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#satisf_incr">satisf_incr</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Inversion on <span class="bracket"><span class="id">transf_function</span></span> </div>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="transf_function_spec">transf_function_spec</a></span> (<span class="id">f</span>: <span class="id"><a href="RTL.html#function">RTL.function</a></span>) (<span class="id">tf</span>: <span class="id"><a href="LTL.html#function">LTL.function</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="transf_function_spec_intro">transf_function_spec_intro</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">env</span> <span class="id">an</span> <span class="id">mv</span> <span class="id">k</span> <span class="id">e1</span> <span class="id">e2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RTLtyping.html#wt_function">wt_function</a></span> <span class="id">f</span> <span class="id"><a href="alloc_proof.html#env">env</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">analyze</span> <span class="id">f</span> <span class="id"><a href="alloc_proof.html#env">env</a></span> (<span class="id">pair_codes</span> <span class="id">f</span> <span class="id">tf</span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="alloc_proof.html#an">an</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="LTL.html#fn_code">LTL.fn_code</a></span> <span class="id">tf</span>)!(<span class="id"><a href="LTL.html#fn_entrypoint">LTL.fn_entrypoint</a></span> <span class="id">tf</span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="alloc_proof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="alloc_proof.html#mv">mv</a></span> (<span class="id"><a href="LTL.html#Lbranch">Lbranch</a></span> (<span class="id"><a href="RTL.html#fn_entrypoint">RTL.fn_entrypoint</a></span> <span class="id">f</span>) :: <span class="id"><a href="alloc_proof.html#k">k</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="alloc_proof.html#mv">mv</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">transfer</span> <span class="id">f</span> <span class="id"><a href="alloc_proof.html#env">env</a></span> (<span class="id">pair_codes</span> <span class="id">f</span> <span class="id">tf</span>) (<span class="id"><a href="RTL.html#fn_entrypoint">RTL.fn_entrypoint</a></span> <span class="id">f</span>) <span class="id"><a href="alloc_proof.html#an">an</a></span>!!(<span class="id"><a href="RTL.html#fn_entrypoint">RTL.fn_entrypoint</a></span> <span class="id">f</span>) = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="alloc_proof.html#e1">e1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">track_moves</span> <span class="id"><a href="alloc_proof.html#env">env</a></span> <span class="id"><a href="alloc_proof.html#mv">mv</a></span> <span class="id"><a href="alloc_proof.html#e1">e1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="alloc_proof.html#e2">e2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">compat_entry</span> (<span class="id"><a href="RTL.html#fn_params">RTL.fn_params</a></span> <span class="id">f</span>) (<span class="id"><a href="Conventions.html#loc_parameters">loc_parameters</a></span> (<span class="id"><a href="LTL.html#fn_sig">fn_sig</a></span> <span class="id">tf</span>)) <span class="id"><a href="alloc_proof.html#e2">e2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">can_undef</span> <span class="id"><a href="Machregs.html#destroyed_at_function_entry">destroyed_at_function_entry</a></span> <span class="id"><a href="alloc_proof.html#e2">e2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RTL.html#fn_stacksize">RTL.fn_stacksize</a></span> <span class="id">f</span> = <span class="id"><a href="LTL.html#fn_stacksize">LTL.fn_stacksize</a></span> <span class="id">tf</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RTL.html#fn_sig">RTL.fn_sig</a></span> <span class="id">f</span> = <span class="id"><a href="LTL.html#fn_sig">LTL.fn_sig</a></span> <span class="id">tf</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#transf_function_spec">transf_function_spec</a></span> <span class="id">f</span> <span class="id">tf</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transf_function_inv">transf_function_inv</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">tf</span>,<br/>
&nbsp;&nbsp;<span class="id">transf_function</span> <span class="id"><a href="alloc_proof.html#f">f</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="alloc_proof.html#tf">tf</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#transf_function_spec">transf_function_spec</a></span> <span class="id"><a href="alloc_proof.html#f">f</a></span> <span class="id"><a href="alloc_proof.html#tf">tf</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7427')">Proof.</div>
<div class="proofscript" id="proof7427">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">transf_function</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="RTLtyping.html#type_function">type_function</a></span> <span class="id">f</span>) <span class="kwd">as</span> [<span class="id">env</span>|] <span class="id">eqn</span>:<span class="id">TY</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">regalloc</span> <span class="id">f</span>); <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">check_function</span> <span class="id">f</span> <span class="id">f0</span> <span class="id">env</span>) <span class="kwd">as</span> [] <span class="id">eqn</span>:?; <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">check_function</span> <span class="kwd">in</span> <span class="id">Heqr</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">analyze</span> <span class="id">f</span> <span class="id">env</span> (<span class="id">pair_codes</span> <span class="id">f</span> <span class="id">tf</span>)) <span class="kwd">as</span> [<span class="id">an</span>|] <span class="id">eqn</span>:?; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">Heqr</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">check_entrypoints_aux</span> <span class="id">f</span> <span class="id">tf</span> <span class="id">env</span> <span class="id">x</span>) <span class="kwd">as</span> [<span class="id">y</span>|] <span class="id">eqn</span>:?; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">check_entrypoints_aux</span>, <span class="id">pair_entrypoints</span> <span class="kwd">in</span> <span class="id">Heqo0</span>. <span class="id">MonadInv</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#extract_moves_sound">extract_moves_sound</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">A</span> <span class="id">B</span>]. <span class="tactic">subst</span> <span class="id">b</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#check_succ_sound">check_succ_sound</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">k</span> <span class="id">EQ1</span>]. <span class="tactic">subst</span> <span class="id">b0</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="RTLtyping.html#type_function_correct">type_function_correct</a></span>; <span class="tactic">eauto</span>. <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="invert_code">invert_code</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">env</span> <span class="id">tf</span> <span class="id">pc</span> <span class="id">i</span> <span class="id">opte</span> <span class="id">e</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="RTLtyping.html#wt_function">wt_function</a></span> <span class="id"><a href="alloc_proof.html#f">f</a></span> <span class="id"><a href="alloc_proof.html#env">env</a></span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id"><a href="RTL.html#fn_code">RTL.fn_code</a></span> <span class="id"><a href="alloc_proof.html#f">f</a></span>)!<span class="id"><a href="alloc_proof.html#pc">pc</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="alloc_proof.html#i">i</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">transfer</span> <span class="id"><a href="alloc_proof.html#f">f</a></span> <span class="id"><a href="alloc_proof.html#env">env</a></span> (<span class="id">pair_codes</span> <span class="id"><a href="alloc_proof.html#f">f</a></span> <span class="id"><a href="alloc_proof.html#tf">tf</a></span>) <span class="id"><a href="alloc_proof.html#pc">pc</a></span> <span class="id"><a href="alloc_proof.html#opte">opte</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">eafter</span>, <span class="id">exists</span> <span class="id">bsh</span>, <span class="id">exists</span> <span class="id">bb</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#opte">opte</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="alloc_proof.html#eafter">eafter</a></span> /\<br/>
&nbsp;&nbsp;(<span class="id">pair_codes</span> <span class="id"><a href="alloc_proof.html#f">f</a></span> <span class="id"><a href="alloc_proof.html#tf">tf</a></span>)!<span class="id"><a href="alloc_proof.html#pc">pc</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="alloc_proof.html#bsh">bsh</a></span> /\<br/>
&nbsp;&nbsp;(<span class="id"><a href="LTL.html#fn_code">LTL.fn_code</a></span> <span class="id"><a href="alloc_proof.html#tf">tf</a></span>)!<span class="id"><a href="alloc_proof.html#pc">pc</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="alloc_proof.html#bb">bb</a></span> /\<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#expand_block_shape">expand_block_shape</a></span> <span class="id"><a href="alloc_proof.html#bsh">bsh</a></span> <span class="id"><a href="alloc_proof.html#i">i</a></span> <span class="id"><a href="alloc_proof.html#bb">bb</a></span> /\<br/>
&nbsp;&nbsp;<span class="id">transfer_aux</span> <span class="id"><a href="alloc_proof.html#f">f</a></span> <span class="id"><a href="alloc_proof.html#env">env</a></span> <span class="id"><a href="alloc_proof.html#bsh">bsh</a></span> <span class="id"><a href="alloc_proof.html#eafter">eafter</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> /\<br/>
&nbsp;&nbsp;<span class="id"><a href="RTLtyping.html#wt_instr">wt_instr</a></span> <span class="id"><a href="alloc_proof.html#f">f</a></span> <span class="id"><a href="alloc_proof.html#env">env</a></span> <span class="id"><a href="alloc_proof.html#i">i</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7428')">Proof.</div>
<div class="proofscript" id="proof7428">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">opte</span> <span class="kwd">as</span> [<span class="id">eafter</span>|]; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="id">exists</span> <span class="id">eafter</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">pair_codes</span> <span class="id">f</span> <span class="id">tf</span>)!<span class="id">pc</span> <span class="kwd">as</span> [<span class="id">bsh</span>|] <span class="id">eqn</span>:?; <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="id">exists</span> <span class="id">bsh</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#matching_instr_block">matching_instr_block</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">bb</span> [<span class="id">A</span> <span class="id">B</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">transfer_aux</span> <span class="id">f</span> <span class="id">env</span> <span class="id">bsh</span> <span class="id">eafter</span>) <span class="kwd">as</span> [<span class="id">e1</span>|] <span class="id">eqn</span>:?; <span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">bb</span>. <span class="id">exploit</span> <span class="id"><a href="RTLtyping.html#wt_instr_at">wt_instr_at</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">tauto</span>.<br/>
Qed.</div>
<br/>
<h1> Semantic preservation </h1>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="PRESERVATION">PRESERVATION</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="PRESERVATION.scu">scu</a></span>: <span class="id"><a href="RTL_local.html#RTL_comp_unit">RTL_comp_unit</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="PRESERVATION.tcu">tcu</a></span>: <span class="id"><a href="LTL_local.html#LTL_comp_unit">LTL_comp_unit</a></span>.<br/>
<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="PRESERVATION.TRANSF">TRANSF</a></span>: <span class="id"><a href="alloc_proof.html#match_cu">match_cu</a></span> <span class="id"><a href="alloc_proof.html#PRESERVATION.scu">scu</a></span> <span class="id"><a href="alloc_proof.html#PRESERVATION.tcu">tcu</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="PRESERVATION.sge">sge</a></span> <span class="id"><a name="PRESERVATION.sG">sG</a></span>: <span class="id"><a href="RTL.html#genv">RTL.genv</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="PRESERVATION.tge">tge</a></span> <span class="id"><a name="PRESERVATION.tG">tG</a></span>: <span class="id"><a href="LTL.html#genv">LTL.genv</a></span>.<br/>
<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="PRESERVATION.GE_INIT">GE_INIT</a></span>: <span class="id"><a href="RTL_local.html#RTL_IS">RTL_IS</a></span>.(<span class="id"><a href="IS_local.html#init_genv_local">init_genv_local</a></span>) <span class="id"><a href="alloc_proof.html#PRESERVATION.scu">scu</a></span> <span class="id"><a href="alloc_proof.html#PRESERVATION.sge">sge</a></span> <span class="id"><a href="alloc_proof.html#PRESERVATION.sG">sG</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="PRESERVATION.TGE_INIT">TGE_INIT</a></span>: <span class="id"><a href="LTL_local.html#LTL_IS">LTL_IS</a></span>.(<span class="id"><a href="IS_local.html#init_genv_local">init_genv_local</a></span>) <span class="id"><a href="alloc_proof.html#PRESERVATION.tcu">tcu</a></span> <span class="id"><a href="alloc_proof.html#PRESERVATION.tge">tge</a></span> <span class="id"><a href="alloc_proof.html#PRESERVATION.tG">tG</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="PRESERVATION.S_EQ">S_EQ</a></span>: <span class="id"><a href="alloc_proof.html#PRESERVATION.sge">sge</a></span>.(<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span>) = <span class="id"><a href="alloc_proof.html#PRESERVATION.tge">tge</a></span>.(<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="symbols_preserved">symbols_preserved</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">s</span>: <span class="id"><a href="AST.html#ident">ident</a></span>), <span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="alloc_proof.html#PRESERVATION.tge">tge</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span> = <span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="alloc_proof.html#PRESERVATION.sge">sge</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7429')">Proof.</div>
<div class="proofscript" id="proof7429">
&nbsp;&nbsp;<span class="id">inv</span> <span class="id"><a href="alloc_proof.html#PRESERVATION.GE_INIT">GE_INIT</a></span>; <span class="id">inv</span> <span class="id"><a href="alloc_proof.html#PRESERVATION.TGE_INIT">TGE_INIT</a></span>. <span class="id">exploit</span> <span class="id"><a href="CUAST.html#match_cu_match_genv">match_cu_match_genv</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="function_ptr_translated">function_ptr_translated</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">f</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="alloc_proof.html#PRESERVATION.sge">sge</a></span> <span class="id"><a href="alloc_proof.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="alloc_proof.html#f">f</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">tf</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="alloc_proof.html#PRESERVATION.tge">tge</a></span> <span class="id"><a href="alloc_proof.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="alloc_proof.html#tf">tf</a></span> /\ <span class="id">transf_fundef</span> <span class="id"><a href="alloc_proof.html#f">f</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="alloc_proof.html#tf">tf</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7430')">Proof.</div>
<div class="proofscript" id="proof7430">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span>, <span class="id"><a href="Globalenvs.html#Genv.find_def">Genv.find_def</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="CUAST.html#match_cu_match_genv">match_cu_match_genv</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id"><a href="alloc_proof.html#PRESERVATION.GE_INIT">GE_INIT</a></span>; <span class="tactic">auto</span>. <span class="id">inv</span> <span class="id"><a href="alloc_proof.html#PRESERVATION.TGE_INIT">TGE_INIT</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">_</span> <span class="id">_</span> <span class="id">MATCH</span>]. <span class="id">specialize</span> (<span class="id">MATCH</span> <span class="id">b</span>).<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MATCH</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H0</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">H</span>. <br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H2</span>. <span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">eauto</span>. <span class="tactic">discriminate</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="functions_translated">functions_translated</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">v</span> <span class="id">f</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="id"><a href="alloc_proof.html#PRESERVATION.sge">sge</a></span> <span class="id"><a href="alloc_proof.html#v">v</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="alloc_proof.html#f">f</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">tf</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="id"><a href="alloc_proof.html#PRESERVATION.tge">tge</a></span> <span class="id"><a href="alloc_proof.html#v">v</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="alloc_proof.html#tf">tf</a></span> /\ <span class="id">transf_fundef</span> <span class="id"><a href="alloc_proof.html#f">f</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="alloc_proof.html#tf">tf</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7431')">Proof.</div>
<div class="proofscript" id="proof7431">
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Integers.html#Ptrofs.eq_dec">Ptrofs.eq_dec</a></span>; [|<span class="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="alloc_proof.html#function_ptr_translated">function_ptr_translated</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="senv_preserved">senv_preserved</a></span>:<br/>
&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Senv.equiv">Senv.equiv</a></span> <span class="id"><a href="alloc_proof.html#PRESERVATION.sge">sge</a></span> <span class="id"><a href="alloc_proof.html#PRESERVATION.tge">tge</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7432')">Proof.</div>
<div class="proofscript" id="proof7432">
 <span class="id">inv</span> <span class="id"><a href="alloc_proof.html#PRESERVATION.GE_INIT">GE_INIT</a></span>. <span class="id">inv</span> <span class="id"><a href="alloc_proof.html#PRESERVATION.TGE_INIT">TGE_INIT</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="CUAST.html#match_cu_senv_preserved">match_cu_senv_preserved</a></span>; <span class="tactic">eauto</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ge_match">ge_match</a></span>: <span class="id"><a href="LDSim_local.html#ge_match_strict">ge_match_strict</a></span> <span class="id"><a href="alloc_proof.html#PRESERVATION.sge">sge</a></span> <span class="id"><a href="alloc_proof.html#PRESERVATION.tge">tge</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7433')">Proof.</div>
<div class="proofscript" id="proof7433">
 <span class="id">inv</span> <span class="id"><a href="alloc_proof.html#PRESERVATION.GE_INIT">GE_INIT</a></span>. <span class="id">inv</span> <span class="id"><a href="alloc_proof.html#PRESERVATION.TGE_INIT">TGE_INIT</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="CUAST.html#match_cu_ge_match_strict">match_cu_ge_match_strict</a></span>; <span class="tactic">eauto</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sig_function_translated">sig_function_translated</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">tf</span>,<br/>
&nbsp;&nbsp;<span class="id">transf_fundef</span> <span class="id"><a href="alloc_proof.html#f">f</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="alloc_proof.html#tf">tf</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="LTL.html#funsig">LTL.funsig</a></span> <span class="id"><a href="alloc_proof.html#tf">tf</a></span> = <span class="id"><a href="RTL.html#funsig">RTL.funsig</a></span> <span class="id"><a href="alloc_proof.html#f">f</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7434')">Proof.</div>
<div class="proofscript" id="proof7434">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">destruct</span> <span class="id">f</span>; <span class="id">monadInv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="alloc_proof.html#transf_function_inv">transf_function_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">EQ</span>). <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="find_function_translated">find_function_translated</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ros</span> <span class="id">rs</span> <span class="id">fd</span> <span class="id">ros</span>' <span class="id">e</span> <span class="id">e</span>' <span class="id">ls</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="RTL.html#find_function">RTL.find_function</a></span> <span class="id"><a href="alloc_proof.html#PRESERVATION.sge">sge</a></span> <span class="id"><a href="alloc_proof.html#ros">ros</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="alloc_proof.html#fd">fd</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">add_equation_ros</span> <span class="id"><a href="alloc_proof.html#ros">ros</a></span> <span class="id">ros</span>' <span class="id"><a href="alloc_proof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">tfd</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="LTL.html#find_function">LTL.find_function</a></span> <span class="id"><a href="alloc_proof.html#PRESERVATION.tge">tge</a></span> <span class="id">ros</span>' <span class="id"><a href="alloc_proof.html#ls">ls</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="alloc_proof.html#tfd">tfd</a></span> /\ <span class="id">transf_fundef</span> <span class="id"><a href="alloc_proof.html#fd">fd</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="alloc_proof.html#tfd">tfd</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7435')">Proof.</div>
<div class="proofscript" id="proof7435">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="RTL.html#find_function">RTL.find_function</a></span>, <span class="id"><a href="LTL.html#find_function">LTL.find_function</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">ros</span> <span class="kwd">as</span> [<span class="id">r</span>|<span class="id">id</span>]; <span class="tactic">destruct</span> <span class="id">ros</span>' <span class="kwd">as</span> [<span class="id">r</span>'|<span class="id">id</span>']; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="id">MonadInv</span>.<br/>
&nbsp;two&nbsp;regs&nbsp;*)</span>&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#add_equation_lessdef">add_equation_lessdef</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">LD</span>. <span class="id">inv</span> <span class="id">LD</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#functions_translated">functions_translated</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H2</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;two&nbsp;symbols&nbsp;*)</span>&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="alloc_proof.html#symbols_preserved">symbols_preserved</a></span>. <span class="tactic">rewrite</span> <span class="id">Heqo</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#function_ptr_translated">function_ptr_translated</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="exec_moves">exec_moves</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">mv</span> <span class="id">env</span> <span class="id">rs</span> <span class="id">s</span> <span class="id">f</span> <span class="id">sp</span> <span class="id">bb</span> <span class="id">m</span> <span class="id">e</span> <span class="id">e</span>' <span class="id">ls</span> <span class="id">sigres0</span>,<br/>
&nbsp;&nbsp;<span class="id">track_moves</span> <span class="id"><a href="alloc_proof.html#env">env</a></span> <span class="id"><a href="alloc_proof.html#mv">mv</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#wf_moves">wf_moves</a></span> <span class="id"><a href="alloc_proof.html#mv">mv</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="RTLtyping.html#wt_regset">wt_regset</a></span> <span class="id"><a href="alloc_proof.html#env">env</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">ls</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#star">star</a></span> (<span class="id"><a href="LTL_local.html#step">step</a></span> <span class="id"><a href="alloc_proof.html#PRESERVATION.tge">tge</a></span>) (<span class="id"><a href="LTL_local.html#Core_Block">Core_Block</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span> <span class="id"><a href="alloc_proof.html#f">f</a></span> <span class="id"><a href="alloc_proof.html#sp">sp</a></span> (<span class="id"><a href="alloc_proof.html#expand_moves">expand_moves</a></span> <span class="id"><a href="alloc_proof.html#mv">mv</a></span> <span class="id"><a href="alloc_proof.html#bb">bb</a></span>) <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id"><a href="alloc_proof.html#sigres0">sigres0</a></span>) <span class="id"><a href="alloc_proof.html#m">m</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#empfp">empfp</a></span> (<span class="id"><a href="LTL_local.html#Core_Block">Core_Block</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span> <span class="id"><a href="alloc_proof.html#f">f</a></span> <span class="id"><a href="alloc_proof.html#sp">sp</a></span> <span class="id"><a href="alloc_proof.html#bb">bb</a></span> <span class="id">ls</span>' <span class="id"><a href="alloc_proof.html#sigres0">sigres0</a></span>) <span class="id"><a href="alloc_proof.html#m">m</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id">ls</span>' <span class="id"><a href="alloc_proof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7436')">Proof.</div>
<div class="proofscript" id="proof7436">
<span class="id">Opaque</span> <span class="id"><a href="Machregs.html#destroyed_by_op">destroyed_by_op</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">mv</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
&nbsp;base&nbsp;*)</span>- <span class="tactic">unfold</span> <span class="id"><a href="alloc_proof.html#expand_moves">expand_moves</a></span>; <span class="tactic">simpl</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">exists</span> <span class="id">ls</span>; <span class="tactic">split</span>. <span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#star_refl">star_refl</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;step&nbsp;*)</span>- <span class="tactic">assert</span> (<span class="id"><a href="alloc_proof.html#wf_moves">wf_moves</a></span> <span class="id">mv</span>) <span class="tactic">by</span> (<span class="id">inv</span> <span class="id">H0</span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span> <span class="kwd">as</span> (<span class="id">src</span>, <span class="id">dst</span>); <span class="tactic">unfold</span> <span class="id"><a href="alloc_proof.html#expand_moves">expand_moves</a></span>; <span class="tactic">simpl</span>; <span class="id">MonadInv</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">src</span> <span class="kwd">as</span> [<span class="id">rsrc</span> | <span class="id">ssrc</span>]; <span class="tactic">destruct</span> <span class="id">dst</span> <span class="kwd">as</span> [<span class="id">rdst</span> | <span class="id">sdst</span>].<br/>
* <span class="comment">(*&nbsp;reg-reg&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHmv</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#subst_loc_undef_satisf">subst_loc_undef_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">ls</span>' [<span class="id">A</span> <span class="id">B</span>]]. <span class="id">exists</span> <span class="id">ls</span>'; <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_left">star_left</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="tactic">simpl</span>. <span class="tactic">eauto</span>. <span class="tactic">simpl</span>. <span class="tactic">eauto</span>. <span class="tactic">auto</span>. <span class="tactic">auto</span>.<br/>
* <span class="comment">(*&nbsp;reg-&gt;stack&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHmv</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#subst_loc_undef_satisf">subst_loc_undef_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">ls</span>' [<span class="id">A</span> <span class="id">B</span>]]. <span class="id">exists</span> <span class="id">ls</span>'; <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_left">star_left</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="tactic">simpl</span>. <span class="tactic">eauto</span>. <span class="tactic">auto</span>.<br/>
* <span class="comment">(*&nbsp;stack-&gt;reg&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Heqb</span>. <span class="id">exploit</span> <span class="id">IHmv</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#subst_loc_undef_satisf">subst_loc_undef_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">ls</span>' [<span class="id">A</span> <span class="id">B</span>]]. <span class="id">exists</span> <span class="id">ls</span>'; <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_left">star_left</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="tactic">auto</span>. <span class="tactic">auto</span>.<br/>
* <span class="comment">(*&nbsp;stack-&gt;stack&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H6</span>. <span class="id">contradiction</span>.<br/>
Qed.</div>
<br/>
<div class="doc">The simulation relation </div>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="match_stackframes">match_stackframes</a></span> (<span class="id">sigres0</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="AST.html#typ">typ</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="RTL.html#stackframe">RTL.stackframe</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="LTL.html#stackframe">LTL.stackframe</a></span> -&gt; <span class="id"><a href="AST.html#signature">signature</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
| <span class="id"><a name="match_stackframes_nil">match_stackframes_nil</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">sg</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#sg">sg</a></span>.(<span class="id"><a href="AST.html#sig_res">sig_res</a></span>) = <span class="id">sigres0</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#match_stackframes">match_stackframes</a></span> <span class="id">sigres0</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="alloc_proof.html#sg">sg</a></span><br/>
| <span class="id"><a name="match_stackframes_cons">match_stackframes_cons</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">res</span> <span class="id">f</span> <span class="id">sp</span> <span class="id">pc</span> <span class="id">rs</span> <span class="id">s</span> <span class="id">tf</span> <span class="id">bb</span> <span class="id">ls</span> <span class="id">ts</span> <span class="id">sg</span> <span class="id">an</span> <span class="id">e</span> <span class="id">env</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STACKS</span>: <span class="id"><a href="alloc_proof.html#match_stackframes">match_stackframes</a></span> <span class="id">sigres0</span> <span class="id"><a href="alloc_proof.html#s">s</a></span> <span class="id"><a href="alloc_proof.html#ts">ts</a></span> (<span class="id"><a href="LTL.html#fn_sig">fn_sig</a></span> <span class="id"><a href="alloc_proof.html#tf">tf</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FUN</span>: <span class="id">transf_function</span> <span class="id"><a href="alloc_proof.html#f">f</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="alloc_proof.html#tf">tf</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">ANL</span>: <span class="id">analyze</span> <span class="id"><a href="alloc_proof.html#f">f</a></span> <span class="id"><a href="alloc_proof.html#env">env</a></span> (<span class="id">pair_codes</span> <span class="id"><a href="alloc_proof.html#f">f</a></span> <span class="id"><a href="alloc_proof.html#tf">tf</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="alloc_proof.html#an">an</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">EQ</span>: <span class="id">transfer</span> <span class="id"><a href="alloc_proof.html#f">f</a></span> <span class="id"><a href="alloc_proof.html#env">env</a></span> (<span class="id">pair_codes</span> <span class="id"><a href="alloc_proof.html#f">f</a></span> <span class="id"><a href="alloc_proof.html#tf">tf</a></span>) <span class="id"><a href="alloc_proof.html#pc">pc</a></span> <span class="id"><a href="alloc_proof.html#an">an</a></span>!!<span class="id"><a href="alloc_proof.html#pc">pc</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">WTF</span>: <span class="id"><a href="RTLtyping.html#wt_function">wt_function</a></span> <span class="id"><a href="alloc_proof.html#f">f</a></span> <span class="id"><a href="alloc_proof.html#env">env</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">WTRS</span>: <span class="id"><a href="RTLtyping.html#wt_regset">wt_regset</a></span> <span class="id"><a href="alloc_proof.html#env">env</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">WTRES</span>: <span class="id"><a href="alloc_proof.html#env">env</a></span> <span class="id"><a href="alloc_proof.html#res">res</a></span> = <span class="id"><a href="AST.html#proj_sig_res">proj_sig_res</a></span> <span class="id"><a href="alloc_proof.html#sg">sg</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STEPS</span>: <span class="kwd">forall</span> <span class="id">v</span> <span class="id">ls1</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="alloc_proof.html#v">v</a></span> (<span class="id"><a href="Locations.html#Locmap.getpair">Locmap.getpair</a></span> (<span class="id"><a href="AST.html#map_rpair">map_rpair</a></span> <span class="id"><a href="Locations.html#R">R</a></span> (<span class="id"><a href="Conventions1.html#loc_result">loc_result</a></span> <span class="id"><a href="alloc_proof.html#sg">sg</a></span>)) <span class="id"><a href="alloc_proof.html#ls1">ls1</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.has_type">Val.has_type</a></span> <span class="id"><a href="alloc_proof.html#v">v</a></span> (<span class="id"><a href="alloc_proof.html#env">env</a></span> <span class="id"><a href="alloc_proof.html#res">res</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#agree_callee_save">agree_callee_save</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id"><a href="alloc_proof.html#ls1">ls1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">ls2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#star">star</a></span> (<span class="id"><a href="LTL_local.html#step">step</a></span> <span class="id"><a href="alloc_proof.html#PRESERVATION.tge">tge</a></span>) (<span class="id"><a href="LTL_local.html#Core_Block">Core_Block</a></span> <span class="id"><a href="alloc_proof.html#ts">ts</a></span> <span class="id"><a href="alloc_proof.html#tf">tf</a></span> <span class="id"><a href="alloc_proof.html#sp">sp</a></span> <span class="id"><a href="alloc_proof.html#bb">bb</a></span> <span class="id"><a href="alloc_proof.html#ls1">ls1</a></span> <span class="id">sigres0</span>) <span class="id"><a href="alloc_proof.html#m">m</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#empfp">empfp</a></span> (<span class="id"><a href="LTL_local.html#Core_State">Core_State</a></span> <span class="id"><a href="alloc_proof.html#ts">ts</a></span> <span class="id"><a href="alloc_proof.html#tf">tf</a></span> <span class="id"><a href="alloc_proof.html#sp">sp</a></span> <span class="id"><a href="alloc_proof.html#pc">pc</a></span> <span class="id"><a href="alloc_proof.html#ls2">ls2</a></span> <span class="id">sigres0</span>) <span class="id"><a href="alloc_proof.html#m">m</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> (<span class="id"><a href="alloc_proof.html#rs">rs</a></span>#<span class="id"><a href="alloc_proof.html#res">res</a></span> &lt;- <span class="id"><a href="alloc_proof.html#v">v</a></span>) <span class="id"><a href="alloc_proof.html#ls2">ls2</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#match_stackframes">match_stackframes</a></span> <span class="id">sigres0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="RTL.html#Stackframe">RTL.Stackframe</a></span> <span class="id"><a href="alloc_proof.html#res">res</a></span> <span class="id"><a href="alloc_proof.html#f">f</a></span> <span class="id"><a href="alloc_proof.html#sp">sp</a></span> <span class="id"><a href="alloc_proof.html#pc">pc</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> :: <span class="id"><a href="alloc_proof.html#s">s</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="LTL.html#Stackframe">LTL.Stackframe</a></span> <span class="id"><a href="alloc_proof.html#tf">tf</a></span> <span class="id"><a href="alloc_proof.html#sp">sp</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id"><a href="alloc_proof.html#bb">bb</a></span> :: <span class="id"><a href="alloc_proof.html#ts">ts</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#sg">sg</a></span>.<br/>
<br/>
<span class="kwd">Inductive</span>  <span class="id"><a name="MATCH_STATE">MATCH_STATE</a></span>:<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span> -&gt; <span class="id"><a href="Injections.html#Mu">Injections.Mu</a></span> -&gt; <span class="id"><a href="Footprint.html#FP.t">FP.t</a></span> -&gt; <span class="id"><a href="Footprint.html#FP.t">FP.t</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="RTL_local.html#core">RTL_local.core</a></span> * <span class="id"><a href="Memory.html#mem">mem</a></span> -&gt; <span class="id"><a href="LTL_local.html#core">LTL_local.core</a></span> * <span class="id"><a href="Memory.html#mem">mem</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
| <span class="id"><a name="match_states_intro">match_states_intro</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">mu</span> <span class="id">fp</span> <span class="id">fp</span>' <span class="id">s</span> <span class="id">f</span> <span class="id">sp</span> <span class="id">pc</span> <span class="id">rs</span> <span class="id">m</span> <span class="id">ts</span> <span class="id">tf</span> <span class="id">ls</span> <span class="id">m</span>' <span class="id">an</span> <span class="id">e</span> <span class="id">env</span> <span class="id">sigres0</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STACKS</span>: <span class="id"><a href="alloc_proof.html#match_stackframes">match_stackframes</a></span> <span class="id"><a href="alloc_proof.html#sigres0">sigres0</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span> <span class="id"><a href="alloc_proof.html#ts">ts</a></span> (<span class="id"><a href="LTL.html#fn_sig">fn_sig</a></span> <span class="id"><a href="alloc_proof.html#tf">tf</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FUN</span>: <span class="id">transf_function</span> <span class="id"><a href="alloc_proof.html#f">f</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="alloc_proof.html#tf">tf</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">ANL</span>: <span class="id">analyze</span> <span class="id"><a href="alloc_proof.html#f">f</a></span> <span class="id"><a href="alloc_proof.html#env">env</a></span> (<span class="id">pair_codes</span> <span class="id"><a href="alloc_proof.html#f">f</a></span> <span class="id"><a href="alloc_proof.html#tf">tf</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="alloc_proof.html#an">an</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">EQ</span>: <span class="id">transfer</span> <span class="id"><a href="alloc_proof.html#f">f</a></span> <span class="id"><a href="alloc_proof.html#env">env</a></span> (<span class="id">pair_codes</span> <span class="id"><a href="alloc_proof.html#f">f</a></span> <span class="id"><a href="alloc_proof.html#tf">tf</a></span>) <span class="id"><a href="alloc_proof.html#pc">pc</a></span> <span class="id"><a href="alloc_proof.html#an">an</a></span>!!<span class="id"><a href="alloc_proof.html#pc">pc</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SAT</span>: <span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id"><a href="alloc_proof.html#e">e</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MEM</span>: <span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="alloc_proof.html#m">m</a></span> <span class="id">m</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">WTF</span>: <span class="id"><a href="RTLtyping.html#wt_function">wt_function</a></span> <span class="id"><a href="alloc_proof.html#f">f</a></span> <span class="id"><a href="alloc_proof.html#env">env</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">WTRS</span>: <span class="id"><a href="RTLtyping.html#wt_regset">wt_regset</a></span> <span class="id"><a href="alloc_proof.html#env">env</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span>)<br/>
<div class="doc">NEW </div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">WTC</span>: <span class="id"><a href="RTLtyping_local.html#wt_core">wt_core</a></span> (<span class="id"><a href="RTL_local.html#Core_State">RTL_local.Core_State</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span> <span class="id"><a href="alloc_proof.html#f">f</a></span> <span class="id"><a href="alloc_proof.html#sp">sp</a></span> <span class="id"><a href="alloc_proof.html#pc">pc</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SVALID</span>: <span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedSrc">Injections.SharedSrc</a></span> <span class="id"><a href="alloc_proof.html#mu">mu</a></span>) <span class="id"><a href="alloc_proof.html#b">b</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id"><a href="alloc_proof.html#m">m</a></span> <span class="id"><a href="alloc_proof.html#b">b</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TVALID</span>: <span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedTgt">Injections.SharedTgt</a></span> <span class="id"><a href="alloc_proof.html#mu">mu</a></span>) <span class="id"><a href="alloc_proof.html#b">b</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id">m</span>' <span class="id"><a href="alloc_proof.html#b">b</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">AGMU</span>: <span class="id"><a href="InjRels.html#proper_mu">proper_mu</a></span> <span class="id"><a href="alloc_proof.html#PRESERVATION.sge">sge</a></span> <span class="id"><a href="alloc_proof.html#PRESERVATION.tge">tge</a></span> <span class="id"><a href="Values.html#inject_id">inject_id</a></span> <span class="id"><a href="alloc_proof.html#mu">mu</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">RCPRESV</span>: <span class="id"><a href="MemClosures_local.html#unmapped_closed">MemClosures_local.unmapped_closed</a></span> <span class="id"><a href="alloc_proof.html#mu">mu</a></span> <span class="id"><a href="alloc_proof.html#m">m</a></span> <span class="id">m</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FPMATCH</span>: <span class="id">Injections.FPMatch</span>' <span class="id"><a href="alloc_proof.html#mu">mu</a></span> <span class="id"><a href="alloc_proof.html#fp">fp</a></span> <span class="id">fp</span>'),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#MATCH_STATE">MATCH_STATE</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> 0%<span class="id">nat</span> <span class="id"><a href="alloc_proof.html#mu">mu</a></span> <span class="id"><a href="alloc_proof.html#fp">fp</a></span> <span class="id">fp</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="RTL_local.html#Core_State">RTL_local.Core_State</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span> <span class="id"><a href="alloc_proof.html#f">f</a></span> <span class="id"><a href="alloc_proof.html#sp">sp</a></span> <span class="id"><a href="alloc_proof.html#pc">pc</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span>, <span class="id"><a href="alloc_proof.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="LTL_local.html#Core_State">LTL_local.Core_State</a></span> <span class="id"><a href="alloc_proof.html#ts">ts</a></span> <span class="id"><a href="alloc_proof.html#tf">tf</a></span> <span class="id"><a href="alloc_proof.html#sp">sp</a></span> <span class="id"><a href="alloc_proof.html#pc">pc</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id"><a href="alloc_proof.html#sigres0">sigres0</a></span>, <span class="id">m</span>')<br/>
| <span class="id"><a name="match_states_call">match_states_call</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">mu</span> <span class="id">fp</span> <span class="id">fp</span>' <span class="id">s</span> <span class="id">f</span> <span class="id">args</span> <span class="id">m</span> <span class="id">ts</span> <span class="id">tf</span> <span class="id">ls</span> <span class="id">sigres0</span> <span class="id">m</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STACKS</span>: <span class="id"><a href="alloc_proof.html#match_stackframes">match_stackframes</a></span> <span class="id"><a href="alloc_proof.html#sigres0">sigres0</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span> <span class="id"><a href="alloc_proof.html#ts">ts</a></span> (<span class="id"><a href="LTL.html#funsig">funsig</a></span> <span class="id"><a href="alloc_proof.html#tf">tf</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FUN</span>: <span class="id">transf_fundef</span> <span class="id"><a href="alloc_proof.html#f">f</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="alloc_proof.html#tf">tf</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">ARGS</span>: <span class="id"><a href="Values.html#Val.lessdef_list">Val.lessdef_list</a></span> <span class="id"><a href="alloc_proof.html#args">args</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">p</span> =&gt; <span class="id"><a href="Locations.html#Locmap.getpair">Locmap.getpair</a></span> <span class="id"><a href="alloc_proof.html#p">p</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span>) (<span class="id"><a href="Conventions1.html#loc_arguments">loc_arguments</a></span> (<span class="id"><a href="LTL.html#funsig">funsig</a></span> <span class="id"><a href="alloc_proof.html#tf">tf</a></span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">AG</span>: <span class="id"><a href="alloc_proof.html#agree_callee_save">agree_callee_save</a></span> (<span class="id"><a href="LTL.html#parent_locset">parent_locset</a></span> <span class="id"><a href="alloc_proof.html#ts">ts</a></span>) <span class="id"><a href="alloc_proof.html#ls">ls</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MEM</span>: <span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="alloc_proof.html#m">m</a></span> <span class="id">m</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">WTARGS</span>: <span class="id"><a href="Values.html#Val.has_type_list">Val.has_type_list</a></span> <span class="id"><a href="alloc_proof.html#args">args</a></span> (<span class="id"><a href="AST.html#sig_args">sig_args</a></span> (<span class="id"><a href="LTL.html#funsig">funsig</a></span> <span class="id"><a href="alloc_proof.html#tf">tf</a></span>)))<br/>
<div class="doc">NEW </div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">WTC</span>: <span class="id"><a href="RTLtyping_local.html#wt_core">wt_core</a></span> (<span class="id"><a href="RTL_local.html#Core_Callstate">RTL_local.Core_Callstate</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span> <span class="id"><a href="alloc_proof.html#f">f</a></span> <span class="id"><a href="alloc_proof.html#args">args</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SVALID</span>: <span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedSrc">Injections.SharedSrc</a></span> <span class="id"><a href="alloc_proof.html#mu">mu</a></span>) <span class="id"><a href="alloc_proof.html#b">b</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id"><a href="alloc_proof.html#m">m</a></span> <span class="id"><a href="alloc_proof.html#b">b</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TVALID</span>: <span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedTgt">Injections.SharedTgt</a></span> <span class="id"><a href="alloc_proof.html#mu">mu</a></span>) <span class="id"><a href="alloc_proof.html#b">b</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id">m</span>' <span class="id"><a href="alloc_proof.html#b">b</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">AGMU</span>: <span class="id"><a href="InjRels.html#proper_mu">proper_mu</a></span> <span class="id"><a href="alloc_proof.html#PRESERVATION.sge">sge</a></span> <span class="id"><a href="alloc_proof.html#PRESERVATION.tge">tge</a></span> <span class="id"><a href="Values.html#inject_id">inject_id</a></span> <span class="id"><a href="alloc_proof.html#mu">mu</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">RCPRESV</span>: <span class="id"><a href="MemClosures_local.html#unmapped_closed">MemClosures_local.unmapped_closed</a></span> <span class="id"><a href="alloc_proof.html#mu">mu</a></span> <span class="id"><a href="alloc_proof.html#m">m</a></span> <span class="id">m</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FPMATCH</span>: <span class="id">Injections.FPMatch</span>' <span class="id"><a href="alloc_proof.html#mu">mu</a></span> <span class="id"><a href="alloc_proof.html#fp">fp</a></span> <span class="id">fp</span>'),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#MATCH_STATE">MATCH_STATE</a></span> <span class="id"><a href="alloc_proof.html#b">b</a></span> 0%<span class="id">nat</span> <span class="id"><a href="alloc_proof.html#mu">mu</a></span> <span class="id"><a href="alloc_proof.html#fp">fp</a></span> <span class="id">fp</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="RTL_local.html#Core_Callstate">RTL_local.Core_Callstate</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span> <span class="id"><a href="alloc_proof.html#f">f</a></span> <span class="id"><a href="alloc_proof.html#args">args</a></span>, <span class="id"><a href="alloc_proof.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="LTL_local.html#Core_Callstate">LTL_local.Core_Callstate</a></span> <span class="id"><a href="alloc_proof.html#ts">ts</a></span> <span class="id"><a href="alloc_proof.html#tf">tf</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id"><a href="alloc_proof.html#sigres0">sigres0</a></span>, <span class="id">m</span>')<br/>
| <span class="id"><a name="match_states_return">match_states_return</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">mu</span> <span class="id">fp</span> <span class="id">fp</span>' <span class="id">s</span> <span class="id">res</span> <span class="id">m</span> <span class="id">ts</span> <span class="id">ls</span> <span class="id">m</span>' <span class="id">sg</span> <span class="id">sigres0</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STACKS</span>: <span class="id"><a href="alloc_proof.html#match_stackframes">match_stackframes</a></span> <span class="id"><a href="alloc_proof.html#sigres0">sigres0</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span> <span class="id"><a href="alloc_proof.html#ts">ts</a></span> <span class="id"><a href="alloc_proof.html#sg">sg</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">RES</span>: <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="alloc_proof.html#res">res</a></span> (<span class="id"><a href="Locations.html#Locmap.getpair">Locmap.getpair</a></span> (<span class="id"><a href="AST.html#map_rpair">map_rpair</a></span> <span class="id"><a href="Locations.html#R">R</a></span> (<span class="id"><a href="Conventions1.html#loc_result">loc_result</a></span> <span class="id"><a href="alloc_proof.html#sg">sg</a></span>)) <span class="id"><a href="alloc_proof.html#ls">ls</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">AG</span>: <span class="id"><a href="alloc_proof.html#agree_callee_save">agree_callee_save</a></span> (<span class="id"><a href="LTL.html#parent_locset">parent_locset</a></span> <span class="id"><a href="alloc_proof.html#ts">ts</a></span>) <span class="id"><a href="alloc_proof.html#ls">ls</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MEM</span>: <span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="alloc_proof.html#m">m</a></span> <span class="id">m</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">WTRES</span>: <span class="id"><a href="Values.html#Val.has_type">Val.has_type</a></span> <span class="id"><a href="alloc_proof.html#res">res</a></span> (<span class="id"><a href="AST.html#proj_sig_res">proj_sig_res</a></span> <span class="id"><a href="alloc_proof.html#sg">sg</a></span>))<br/>
<div class="doc">NEW </div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">WTC</span>: <span class="id"><a href="RTLtyping_local.html#wt_core">wt_core</a></span> (<span class="id"><a href="RTL_local.html#Core_Returnstate">RTL_local.Core_Returnstate</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span> <span class="id"><a href="alloc_proof.html#res">res</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SVALID</span>: <span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedSrc">Injections.SharedSrc</a></span> <span class="id"><a href="alloc_proof.html#mu">mu</a></span>) <span class="id"><a href="alloc_proof.html#b">b</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id"><a href="alloc_proof.html#m">m</a></span> <span class="id"><a href="alloc_proof.html#b">b</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TVALID</span>: <span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedTgt">Injections.SharedTgt</a></span> <span class="id"><a href="alloc_proof.html#mu">mu</a></span>) <span class="id"><a href="alloc_proof.html#b">b</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id">m</span>' <span class="id"><a href="alloc_proof.html#b">b</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">AGMU</span>: <span class="id"><a href="InjRels.html#proper_mu">proper_mu</a></span> <span class="id"><a href="alloc_proof.html#PRESERVATION.sge">sge</a></span> <span class="id"><a href="alloc_proof.html#PRESERVATION.tge">tge</a></span> <span class="id"><a href="Values.html#inject_id">inject_id</a></span> <span class="id"><a href="alloc_proof.html#mu">mu</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">RCPRESV</span>: <span class="id"><a href="MemClosures_local.html#unmapped_closed">MemClosures_local.unmapped_closed</a></span> <span class="id"><a href="alloc_proof.html#mu">mu</a></span> <span class="id"><a href="alloc_proof.html#m">m</a></span> <span class="id">m</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FPMATCH</span>: <span class="id">Injections.FPMatch</span>' <span class="id"><a href="alloc_proof.html#mu">mu</a></span> <span class="id"><a href="alloc_proof.html#fp">fp</a></span> <span class="id">fp</span>'),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#MATCH_STATE">MATCH_STATE</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> 0%<span class="id">nat</span> <span class="id"><a href="alloc_proof.html#mu">mu</a></span> <span class="id"><a href="alloc_proof.html#fp">fp</a></span> <span class="id">fp</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="RTL_local.html#Core_Returnstate">RTL_local.Core_Returnstate</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span> <span class="id"><a href="alloc_proof.html#res">res</a></span>, <span class="id"><a href="alloc_proof.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="LTL_local.html#Core_Returnstate">LTL_local.Core_Returnstate</a></span> <span class="id"><a href="alloc_proof.html#ts">ts</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id"><a href="alloc_proof.html#sigres0">sigres0</a></span>, <span class="id">m</span>').<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="match_stackframes_change_sig">match_stackframes_change_sig</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">sigres0</span> <span class="id">s</span> <span class="id">ts</span> <span class="id">sg</span> <span class="id">sg</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#match_stackframes">match_stackframes</a></span> <span class="id"><a href="alloc_proof.html#sigres0">sigres0</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span> <span class="id"><a href="alloc_proof.html#ts">ts</a></span> <span class="id"><a href="alloc_proof.html#sg">sg</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">sg</span>'.(<span class="id"><a href="AST.html#sig_res">sig_res</a></span>) = <span class="id"><a href="alloc_proof.html#sg">sg</a></span>.(<span class="id"><a href="AST.html#sig_res">sig_res</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#match_stackframes">match_stackframes</a></span> <span class="id"><a href="alloc_proof.html#sigres0">sigres0</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span> <span class="id"><a href="alloc_proof.html#ts">ts</a></span> <span class="id">sg</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7437')">Proof.</div>
<div class="proofscript" id="proof7437">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="AST.html#proj_sig_res">proj_sig_res</a></span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id">H0</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> (<span class="id"><a href="Conventions1.html#loc_result_exten">loc_result_exten</a></span> <span class="id">sg</span>' <span class="id">sg</span>) <span class="kwd">in</span> <span class="id">H</span> <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Ltac</span> <span class="id">UseShape</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| [ <span class="id">WT</span>: <span class="id"><a href="RTLtyping.html#wt_function">wt_function</a></span> <span class="id">_</span> <span class="id">_</span>, <span class="id">CODE</span>: (<span class="id"><a href="RTL.html#fn_code">RTL.fn_code</a></span> <span class="id">_</span>)!<span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span>, <span class="id">EQ</span>: <span class="id">transfer</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id">_</span> |- <span class="id">_</span> ] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="alloc_proof.html#invert_code">invert_code</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">WT</span> <span class="id">CODE</span> <span class="id">EQ</span>) <span class="kwd">as</span> (<span class="id">eafter</span> &amp; <span class="id">bsh</span> &amp; <span class="id">bb</span> &amp; <span class="id">AFTER</span> &amp; <span class="id">BSH</span> &amp; <span class="id">TCODE</span> &amp; <span class="id">EBS</span> &amp; <span class="id">TR</span> &amp; <span class="id">WTI</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">EBS</span>; <span class="tactic">unfold</span> <span class="id">transfer_aux</span> <span class="kwd">in</span> <span class="id">TR</span>; <span class="id">MonadInv</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="addressing_not_long">addressing_not_long</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">env</span> <span class="id">f</span> <span class="id">addr</span> <span class="id">args</span> <span class="id">dst</span> <span class="id">s</span> <span class="id">r</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="RTLtyping.html#wt_instr">wt_instr</a></span> <span class="id"><a href="alloc_proof.html#f">f</a></span> <span class="id"><a href="alloc_proof.html#env">env</a></span> (<span class="id"><a href="RTL.html#Iload">Iload</a></span> <span class="id"><a href="AST.html#Mint64">Mint64</a></span> <span class="id"><a href="alloc_proof.html#addr">addr</a></span> <span class="id"><a href="alloc_proof.html#args">args</a></span> <span class="id"><a href="alloc_proof.html#dst">dst</a></span> <span class="id"><a href="alloc_proof.html#s">s</a></span>) -&gt; <span class="id"><a href="Archi.html#splitlong">Archi.splitlong</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="alloc_proof.html#r">r</a></span> <span class="id"><a href="alloc_proof.html#args">args</a></span> -&gt; <span class="id"><a href="alloc_proof.html#r">r</a></span> &lt;&gt; <span class="id"><a href="alloc_proof.html#dst">dst</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7438')">Proof.</div>
<div class="proofscript" id="proof7438">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">A</span>: <span class="kwd">forall</span> <span class="id">ty</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="alloc_proof.html#ty">ty</a></span> (<span class="id"><a href="Op.html#type_of_addressing">type_of_addressing</a></span> <span class="id">addr</span>) -&gt; <span class="id"><a href="alloc_proof.html#ty">ty</a></span> = <span class="id"><a href="AST.html#Tptr">Tptr</a></span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">addr</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">intuition</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">B</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id">env</span> <span class="id">r</span>) (<span class="id"><a href="Op.html#type_of_addressing">type_of_addressing</a></span> <span class="id">addr</span>)).<br/>
&nbsp;&nbsp;{ <span class="tactic">rewrite</span> &lt;- <span class="id">H5</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map">in_map</a></span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">C</span>: <span class="id">env</span> <span class="id">r</span> = <span class="id"><a href="AST.html#Tint">Tint</a></span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id">A</span> <span class="kwd">in</span> <span class="id">B</span>. <span class="tactic">rewrite</span> <span class="id">B</span>. <span class="tactic">unfold</span> <span class="id"><a href="AST.html#Tptr">Tptr</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Archi.html#splitlong_ptr32">Archi.splitlong_ptr32</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">auto</span>. }    <br/>
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span>; <span class="tactic">subst</span> <span class="id">r</span>. <span class="tactic">rewrite</span> <span class="id">C</span> <span class="kwd">in</span> <span class="id">H8</span>; <span class="tactic">discriminate</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="load_int64_fp_split">load_int64_fp_split</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">i</span> <span class="id">mu</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InjRels.html#proper_mu">proper_mu</a></span> <span class="id"><a href="alloc_proof.html#PRESERVATION.sge">sge</a></span> <span class="id"><a href="alloc_proof.html#PRESERVATION.tge">tge</a></span> <span class="id"><a href="Values.html#inject_id">inject_id</a></span> <span class="id"><a href="alloc_proof.html#mu">mu</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Memdata.html#align_chunk">align_chunk</a></span> <span class="id"><a href="AST.html#Mint64">Mint64</a></span> | <span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="alloc_proof.html#i">i</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Injections.FPMatch</span>' <span class="id"><a href="alloc_proof.html#mu">mu</a></span> (<span class="id"><a href="FMemOpFP.html#load_fp">FMemOpFP.load_fp</a></span> <span class="id"><a href="AST.html#Mint64">Mint64</a></span> <span class="id"><a href="alloc_proof.html#b">b</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="alloc_proof.html#i">i</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="FMemOpFP.html#load_fp">FMemOpFP.load_fp</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> <span class="id"><a href="alloc_proof.html#b">b</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="alloc_proof.html#i">i</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="FMemOpFP.html#load_fp">FMemOpFP.load_fp</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> <span class="id"><a href="alloc_proof.html#b">b</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Integers.html#Ptrofs.add">Ptrofs.add</a></span> <span class="id"><a href="alloc_proof.html#i">i</a></span> (<span class="id"><a href="Integers.html#Ptrofs.of_int">Ptrofs.of_int</a></span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> 4)))))).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7439')">Proof.</div>
<div class="proofscript" id="proof7439">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">intros</span> <span class="id">b</span> <span class="id">i</span> <span class="id">mu</span> <span class="id">H</span> <span class="id">ALIGN</span> <span class="id">ARCHI</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Injections.fp_match_union_T</span>'; <span class="tactic">unfold</span> <span class="id"><a href="FMemOpFP.html#load_fp">FMemOpFP.load_fp</a></span>; <span class="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>; <span class="tactic">simpl</span>; <span class="tactic">try</span> (<span class="tactic">apply</span> <span class="id"><a href="FMemOpFP.html#emp_loc_match">FMemOpFP.emp_loc_match</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.ge_reads">FP.ge_reads</a></span>,<span class="id"><a href="Footprint.html#FP.ge_writes">FP.ge_writes</a></span>; <span class="tactic">simpl</span>; <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#Locs.locs_union_emp">Locs.locs_union_emp</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="id">constructor</span>; <span class="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="FMemOpFP.html#range_locset_loc">FMemOpFP.range_locset_loc</a></span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Blockset.html#Bset.inj_range">Bset.inj_range</a></span> <span class="kwd">in</span> <span class="id">H</span>; [|<span class="id">inv</span> <span class="id">proper_mu_inject</span>; <span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span>. <span class="id">exploit</span> <span class="id">proper_mu_inject_incr</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>. <span class="tactic">rewrite</span> <span class="id">H</span>. <span class="tactic">eauto</span>. <span class="tactic">inversion</span> 1; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">eexists</span>; <span class="tactic">intuition</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inject_block">Bset.inject_block</a></span>. <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="FMemOpFP.html#range_locset_loc">FMemOpFP.range_locset_loc</a></span>; <span class="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Blockset.html#Bset.inj_range">Bset.inj_range</a></span> <span class="kwd">in</span> <span class="id">H</span>; [|<span class="id">inv</span> <span class="id">proper_mu_inject</span>; <span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span>. <span class="id">exploit</span> <span class="id">proper_mu_inject_incr</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>. <span class="tactic">rewrite</span> <span class="id">H</span>. <span class="tactic">eauto</span>. <span class="tactic">inversion</span> 1; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">eexists</span>; <span class="tactic">intuition</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inject_block">Bset.inject_block</a></span>. <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="FMemOpFP.html#range_locset_loc">FMemOpFP.range_locset_loc</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id">ALIGN</span> <span class="id">ARCHI</span> <span class="id">H0</span> <span class="id">H4</span>. <span class="tactic">simpl</span>. <span class="tactic">clear</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Memory.html#Mem.addressing_int64_split">Mem.addressing_int64_split</a></span> <span class="kwd">in</span> <span class="id">ALIGN</span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id">ALIGN</span> <span class="kwd">in</span> *. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="store_int64_fp_split">store_int64_fp_split</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">i</span> <span class="id">mu</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InjRels.html#proper_mu">proper_mu</a></span> <span class="id"><a href="alloc_proof.html#PRESERVATION.sge">sge</a></span> <span class="id"><a href="alloc_proof.html#PRESERVATION.tge">tge</a></span> <span class="id"><a href="Values.html#inject_id">inject_id</a></span> <span class="id"><a href="alloc_proof.html#mu">mu</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Memdata.html#align_chunk">align_chunk</a></span> <span class="id"><a href="AST.html#Mint64">Mint64</a></span> | <span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="alloc_proof.html#i">i</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Injections.FPMatch</span>' <span class="id"><a href="alloc_proof.html#mu">mu</a></span> (<span class="id"><a href="FMemOpFP.html#store_fp">FMemOpFP.store_fp</a></span> <span class="id"><a href="AST.html#Mint64">Mint64</a></span> <span class="id"><a href="alloc_proof.html#b">b</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="alloc_proof.html#i">i</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="FMemOpFP.html#store_fp">FMemOpFP.store_fp</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> <span class="id"><a href="alloc_proof.html#b">b</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="alloc_proof.html#i">i</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="FMemOpFP.html#store_fp">FMemOpFP.store_fp</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> <span class="id"><a href="alloc_proof.html#b">b</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Integers.html#Ptrofs.add">Ptrofs.add</a></span> <span class="id"><a href="alloc_proof.html#i">i</a></span> (<span class="id"><a href="Integers.html#Ptrofs.of_int">Ptrofs.of_int</a></span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> 4)))))).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7440')">Proof.</div>
<div class="proofscript" id="proof7440">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">intros</span> <span class="id">b</span> <span class="id">i</span> <span class="id">mu</span> <span class="id">H</span> <span class="id">ALIGN</span> <span class="id">ARCHI</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Injections.fp_match_union_T</span>'; <span class="tactic">unfold</span> <span class="id"><a href="FMemOpFP.html#load_fp">FMemOpFP.load_fp</a></span>; <span class="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>; <span class="tactic">simpl</span>; <span class="tactic">try</span> (<span class="tactic">apply</span> <span class="id"><a href="FMemOpFP.html#emp_loc_match">FMemOpFP.emp_loc_match</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.ge_reads">FP.ge_reads</a></span>,<span class="id"><a href="Footprint.html#FP.ge_writes">FP.ge_writes</a></span>; <span class="tactic">simpl</span>; <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#Locs.locs_union_emp">Locs.locs_union_emp</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="id">constructor</span>; <span class="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="FMemOpFP.html#range_locset_loc">FMemOpFP.range_locset_loc</a></span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Blockset.html#Bset.inj_range">Bset.inj_range</a></span> <span class="kwd">in</span> <span class="id">H</span>; [|<span class="id">inv</span> <span class="id">proper_mu_inject</span>; <span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span>. <span class="id">exploit</span> <span class="id">proper_mu_inject_incr</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>. <span class="tactic">rewrite</span> <span class="id">H</span>. <span class="tactic">eauto</span>. <span class="tactic">inversion</span> 1; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">eexists</span>; <span class="tactic">intuition</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inject_block">Bset.inject_block</a></span>. <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="FMemOpFP.html#range_locset_loc">FMemOpFP.range_locset_loc</a></span>; <span class="tactic">intuition</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Blockset.html#Bset.inj_range">Bset.inj_range</a></span> <span class="kwd">in</span> <span class="id">H</span>; [|<span class="id">inv</span> <span class="id">proper_mu_inject</span>; <span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span>. <span class="id">exploit</span> <span class="id">proper_mu_inject_incr</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>. <span class="tactic">rewrite</span> <span class="id">H</span>. <span class="tactic">eauto</span>. <span class="tactic">inversion</span> 1; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">eexists</span>; <span class="tactic">intuition</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inject_block">Bset.inject_block</a></span>. <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="FMemOpFP.html#range_locset_loc">FMemOpFP.range_locset_loc</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id">ALIGN</span> <span class="id">ARCHI</span> <span class="id">H0</span> <span class="id">H4</span>. <span class="tactic">simpl</span>. <span class="tactic">clear</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Memory.html#Mem.addressing_int64_split">Mem.addressing_int64_split</a></span> <span class="kwd">in</span> <span class="id">ALIGN</span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id">ALIGN</span> <span class="kwd">in</span> *. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="add_equations_builtin_arg_fp_lessdef">add_equations_builtin_arg_fp_lessdef</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">env</span> (<span class="id">ge</span>: <span class="id"><a href="RTL.html#genv">RTL.genv</a></span>) <span class="id">sp</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">arg</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemOpFP.html#eval_builtin_arg_fp">MemOpFP.eval_builtin_arg_fp</a></span> <span class="id"><a href="alloc_proof.html#ge">ge</a></span> (<span class="kwd">fun</span> <span class="id">r</span> =&gt; <span class="id"><a href="alloc_proof.html#rs">rs</a></span>#<span class="id"><a href="alloc_proof.html#r">r</a></span>) <span class="id"><a href="alloc_proof.html#sp">sp</a></span> <span class="id"><a href="alloc_proof.html#arg">arg</a></span> <span class="id"><a href="alloc_proof.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">e</span> <span class="id">e</span>' <span class="id">arg</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">add_equations_builtin_arg</span> <span class="id"><a href="alloc_proof.html#env">env</a></span> <span class="id"><a href="alloc_proof.html#arg">arg</a></span> <span class="id">arg</span>' <span class="id"><a href="alloc_proof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RTLtyping.html#wt_regset">wt_regset</a></span> <span class="id"><a href="alloc_proof.html#env">env</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemOpFP.html#eval_builtin_arg_fp">MemOpFP.eval_builtin_arg_fp</a></span> <span class="id"><a href="alloc_proof.html#ge">ge</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id"><a href="alloc_proof.html#sp">sp</a></span> <span class="id">arg</span>' <span class="id"><a href="alloc_proof.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7441')">Proof.</div>
<div class="proofscript" id="proof7441">
&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="tactic">simpl</span>; <span class="tactic">intros</span> <span class="id">e</span> <span class="id">e</span>' <span class="id">arg</span>' <span class="id">AE</span> <span class="id">SAT</span> <span class="id">WT</span>; <span class="tactic">destruct</span> <span class="id">arg</span>'; <span class="id">MonadInv</span>; <span class="tactic">try</span> (<span class="id">econstructor</span>; <span class="tactic">eauto</span>; <span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">arg</span>'1, <span class="id">arg</span>'2; <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="tactic">repeat</span> <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHeval_builtin_arg_fp1</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equations_builtin_arg_satisf">add_equations_builtin_arg_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHeval_builtin_arg_fp2</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="add_equations_builtin_args_fp_lessdef">add_equations_builtin_args_fp_lessdef</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">env</span> (<span class="id">ge</span>: <span class="id"><a href="RTL.html#genv">RTL.genv</a></span>) <span class="id">sp</span> <span class="id">rs</span> <span class="id">ls</span> <span class="id">arg</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemOpFP.html#eval_builtin_args_fp">MemOpFP.eval_builtin_args_fp</a></span> <span class="id"><a href="alloc_proof.html#ge">ge</a></span> (<span class="kwd">fun</span> <span class="id">r</span> =&gt; <span class="id"><a href="alloc_proof.html#rs">rs</a></span>#<span class="id"><a href="alloc_proof.html#r">r</a></span>) <span class="id"><a href="alloc_proof.html#sp">sp</a></span> <span class="id"><a href="alloc_proof.html#arg">arg</a></span> <span class="id"><a href="alloc_proof.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">arg</span>' <span class="id">e</span> <span class="id">e</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">add_equations_builtin_args</span> <span class="id"><a href="alloc_proof.html#env">env</a></span> <span class="id"><a href="alloc_proof.html#arg">arg</a></span> <span class="id">arg</span>' <span class="id"><a href="alloc_proof.html#e">e</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id">e</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RTLtyping.html#wt_regset">wt_regset</a></span> <span class="id"><a href="alloc_proof.html#env">env</a></span> <span class="id"><a href="alloc_proof.html#rs">rs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemOpFP.html#eval_builtin_args_fp">MemOpFP.eval_builtin_args_fp</a></span> <span class="id"><a href="alloc_proof.html#ge">ge</a></span> <span class="id"><a href="alloc_proof.html#ls">ls</a></span> <span class="id"><a href="alloc_proof.html#sp">sp</a></span> <span class="id">arg</span>' <span class="id"><a href="alloc_proof.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7442')">Proof.</div>
<div class="proofscript" id="proof7442">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">induction</span> 1; <span class="tactic">simpl</span>; <span class="tactic">intros</span>; <span class="tactic">destruct</span> <span class="id">arg</span>'; <span class="id">MonadInv</span>.<br/>
&nbsp;&nbsp;- <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id">exploit</span> <span class="id">IHeval_builtin_args_fp</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">TLFP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equations_builtin_arg_fp_lessdef">add_equations_builtin_arg_fp_lessdef</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equations_builtin_args_satisf">add_equations_builtin_args_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="callee_save_loc_arg_diff">callee_save_loc_arg_diff</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l</span> <span class="id">l</span>', <span class="id"><a href="alloc_proof.html#callee_save_loc">callee_save_loc</a></span> <span class="id"><a href="alloc_proof.html#l">l</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Conventions1.html#loc_argument_acceptable">loc_argument_acceptable</a></span> <span class="id">l</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Locations.html#Loc.diff">Loc.diff</a></span> <span class="id">l</span>' <span class="id"><a href="alloc_proof.html#l">l</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7443')">Proof.</div>
<div class="proofscript" id="proof7443">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">intros</span>. <br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">l</span>, <span class="id">l</span>'; <span class="tactic">try</span> <span class="id">contradiction</span>; <span class="tactic">try</span> (<span class="tactic">red</span>; <span class="tactic">auto</span>). <br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">r0</span>, <span class="id">r</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>. <span class="tactic">destruct</span> <span class="id">sl</span>, <span class="id">sl0</span>; <span class="tactic">try</span> <span class="id">contradiction</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Ltac</span> <span class="id">resolvfp</span>:=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| |- <span class="id">context</span>[<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">_</span> <span class="id"><a href="alloc_proof.html#empfp">empfp</a></span>] =&gt; <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>; <span class="id">resolvfp</span><br/>
&nbsp;&nbsp;| |- <span class="id">context</span>[<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="alloc_proof.html#empfp">empfp</a></span> <span class="id">_</span>] =&gt; <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.emp_union_fp">FP.emp_union_fp</a></span>; <span class="id">resolvfp</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">inv</span> <span class="id">H</span>; <span class="id">resolvfp</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id">Injections.FPMatch</span>' ?<span class="id">mu</span> ?<span class="id">fp1</span> ?<span class="id">fp1</span>' |- <span class="id">Injections.FPMatch</span>' ?<span class="id">mu</span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> ?<span class="id">fp1</span> <span class="id">_</span>) (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> ?<span class="id">fp1</span>' <span class="id">_</span>) =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Injections.fp_match_union</span>'; [<span class="tactic">exact</span> <span class="id">H</span>| <span class="id">resolvfp</span>]<br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id">idtac</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Ltac</span> <span class="id">eresolvfp</span>:= <span class="id">resolvfp</span>; <span class="tactic">eauto</span>.<br/>
<br/>
<span class="kwd">Ltac</span> <span class="id">PLUS</span>:= <span class="tactic">do</span> 3 <span class="id">eexists</span>; <span class="tactic">split</span>.<br/>
<span class="kwd">Ltac</span> <span class="id">FP</span>:= <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> |- ?<span class="id">P</span> /\ <span class="id">_</span> =&gt; <span class="tactic">assert</span> <span class="id">P</span>; [<span class="id">eresolvfp</span>|] <span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="wt_scu">wt_scu</a></span>: <span class="id"><a href="RTLtyping_local.html#wt_cu">wt_cu</a></span> <span class="id"><a href="alloc_proof.html#PRESERVATION.scu">scu</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7444')">Proof.</div>
<div class="proofscript" id="proof7444">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span>. <br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Coqlib.html#list_forall2_in_left">list_forall2_in_left</a></span>. <span class="id">eexact</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> <span class="id"><a href="alloc_proof.html#PRESERVATION.TRANSF">TRANSF</a></span>). <span class="tactic">eauto</span>. <br/>
&nbsp;&nbsp;<span class="tactic">intros</span> ([<span class="id">i</span>' <span class="id">gd</span>] &amp; <span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span>). <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">subst</span> <span class="id">i</span>'.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">C</span>. <span class="tactic">destruct</span> <span class="id">f</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
- <span class="id">monadInv</span> <span class="id">H1</span>.  <br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">transf_function</span> <span class="kwd">in</span> <span class="id">EQ</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="RTLtyping.html#type_function">type_function</a></span> <span class="id">f</span>) <span class="kwd">as</span> [<span class="id">env</span>|] <span class="id">eqn</span>:<span class="id">TF</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="tactic">eapply</span> <span class="id"><a href="RTLtyping.html#type_function_correct">type_function_correct</a></span>; <span class="tactic">eauto</span>.<br/>
- <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="TRANSF_local_ldsim">TRANSF_local_ldsim</a></span>:<br/>
&nbsp;&nbsp;@<span class="id"><a href="LDSim_local.html#local_ldsim">local_ldsim</a></span> <span class="id"><a href="RTL_local.html#RTL_IS">RTL_IS</a></span> <span class="id"><a href="LTL_local.html#LTL_IS">LTL_IS</a></span> <span class="id"><a href="alloc_proof.html#PRESERVATION.sG">sG</a></span> <span class="id"><a href="alloc_proof.html#PRESERVATION.tG">tG</a></span> <span class="id"><a href="alloc_proof.html#PRESERVATION.sge">sge</a></span> <span class="id"><a href="alloc_proof.html#PRESERVATION.tge">tge</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7445')">Proof.</div>
<div class="proofscript" id="proof7445">
&nbsp;&nbsp;<span class="tactic">eapply</span> (@<span class="id"><a href="LDSim_local.html#Local_ldsim">Local_ldsim</a></span> <span class="id"><a href="RTL_local.html#RTL_IS">RTL_IS</a></span> <span class="id"><a href="LTL_local.html#LTL_IS">LTL_IS</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Arith.PeanoNat.html#Nat.lt">Nat.lt</a></span> <span class="id"><a href="alloc_proof.html#MATCH_STATE">MATCH_STATE</a></span>).<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;index&nbsp;wf&nbsp;*)</span>&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Arith.PeanoNat.html#Nat.lt_wf_0">Nat.lt_wf_0</a></span>.<br/>
&nbsp;wd_mu&nbsp;*)</span>&nbsp;&nbsp;- <span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">eapply</span> <span class="id"><a href="InjRels.html#proper_mu_inject">proper_mu_inject</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;inj&nbsp;ge&nbsp;*)</span>&nbsp;&nbsp;- <span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">eapply</span> <span class="id"><a href="InjRels.html#proper_mu_ge_init_inj">proper_mu_ge_init_inj</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;ge&nbsp;match&nbsp;*)</span>&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="alloc_proof.html#ge_match">ge_match</a></span>.<br/>
&nbsp;initial&nbsp;call&nbsp;*)</span>&nbsp;&nbsp;- <span class="tactic">intros</span> <span class="id">mu</span> <span class="id">fid</span> <span class="id">args</span> <span class="id">args</span>' <span class="id">score</span> <span class="id">GE_INIT_INJ</span> <span class="id">INJID</span> <span class="id">GARG</span> <span class="id">ARGREL</span> <span class="id">INITCORE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">HSG</span>: <span class="id"><a href="alloc_proof.html#PRESERVATION.sG">sG</a></span> = <span class="id"><a href="alloc_proof.html#PRESERVATION.sge">sge</a></span>) <span class="tactic">by</span> (<span class="id">inv</span> <span class="id"><a href="alloc_proof.html#PRESERVATION.GE_INIT">GE_INIT</a></span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">HTG</span>: <span class="id"><a href="alloc_proof.html#PRESERVATION.tG">tG</a></span> = <span class="id"><a href="alloc_proof.html#PRESERVATION.tge">tge</a></span>) <span class="tactic">by</span> (<span class="id">inv</span> <span class="id"><a href="alloc_proof.html#PRESERVATION.TGE_INIT">TGE_INIT</a></span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="RTLtyping_local.html#wt_initial_core">wt_initial_core</a></span>; <span class="tactic">eauto</span>. <span class="tactic">exact</span> <span class="id"><a href="alloc_proof.html#wt_scu">wt_scu</a></span>. <span class="id">inv</span> <span class="id"><a href="alloc_proof.html#PRESERVATION.GE_INIT">GE_INIT</a></span>. <span class="tactic">auto</span>. <span class="tactic">intro</span> <span class="id">WTC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="IS_local.html#init_core_local">init_core_local</a></span> <span class="kwd">in</span> *. <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="RTL_local.html#init_core">RTL_local.init_core</a></span>, <span class="id"><a href="LTL_local.html#init_core">init_core</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="CUAST.html#generic_init_core">generic_init_core</a></span> <span class="kwd">in</span> <span class="id">INITCORE</span> |- * .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">HTG</span>, <span class="id"><a href="alloc_proof.html#symbols_preserved">symbols_preserved</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">HSG</span> <span class="kwd">in</span> <span class="id">INITCORE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="alloc_proof.html#PRESERVATION.sge">sge</a></span> <span class="id">fid</span>) <span class="id">eqn</span>: <span class="id">FIND</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="alloc_proof.html#PRESERVATION.sge">sge</a></span> <span class="id">b</span>) <span class="id">eqn</span>: <span class="id">FINDB</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#function_ptr_translated">function_ptr_translated</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">tf</span> &amp; <span class="id">FINDB</span>' &amp; <span class="id">TRANSL</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">FINDB</span>'. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="RTL_local.html#fundef_init">RTL_local.fundef_init</a></span> <span class="kwd">in</span> <span class="id">INITCORE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">f</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">exists</span> <span class="id">tfd</span>, <span class="id">tf</span> = <span class="id"><a href="AST.html#Internal">Internal</a></span> <span class="id"><a href="alloc_proof.html#tfd">tfd</a></span>)  <span class="kwd">as</span> [<span class="id">tfd</span> <span class="id">INTERNAL</span>] <span class="tactic">by</span> (<span class="id">monadInv</span> <span class="id">TRANSL</span>; <span class="tactic">eauto</span>). <span class="tactic">subst</span> <span class="id">tf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="LTL_local.html#fundef_init">fundef_init</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="alloc_proof.html#sig_function_translated">sig_function_translated</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="val_casted.html#wd_args">wd_args</a></span> <span class="id">args</span> (<span class="id"><a href="AST.html#sig_args">sig_args</a></span> (<span class="id"><a href="RTL.html#funsig">RTL.funsig</a></span> (<span class="id"><a href="AST.html#Internal">Internal</a></span> <span class="id">f</span>)))) <span class="id">eqn</span>: <span class="id">WDARGS</span>; [|<span class="tactic">try</span> <span class="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="val_casted.html#wd_args_inject">wd_args_inject</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexists</span>. <span class="tactic">split</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">sm0</span> <span class="id">tm0</span> <span class="id">INITSM</span> <span class="id">INITTM</span> <span class="id">MEMINITINJ</span> <span class="id">sm</span> <span class="id">tm</span> [<span class="id">HRELY</span> <span class="id">LRELY</span> <span class="id">MINJ</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> 0%<span class="id">nat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">INITCORE</span>; <span class="tactic">clear</span> <span class="id">INITCORE</span>. <span class="tactic">simpl</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">args</span>' = <span class="id">args</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">generalize</span> <span class="id">ARGREL</span> <span class="id">GARG</span> <span class="id">MEMINITINJ</span>; <span class="tactic">clear</span>. <span class="id">revert</span> <span class="id">args</span>'. <span class="tactic">induction</span> <span class="id">args</span>; <span class="tactic">intros</span> <span class="id">args</span>' <span class="id">REL</span> <span class="id">G</span> <span class="id">MEMREL</span>; <span class="id">inv</span> <span class="id">REL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>. <span class="id">inv</span> <span class="id">G</span>. <span class="tactic">f_equal</span>. <span class="id">inv</span> <span class="id">H1</span>; <span class="tactic">auto</span>. <span class="id">inv</span> <span class="id">MEMREL</span>. <span class="tactic">apply</span> <span class="id">inj_inject_id</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">contradiction</span>. <span class="tactic">apply</span> <span class="id">IHargs</span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">args</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#sig_function_translated">sig_function_translated</a></span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>. <span class="tactic">intro</span> <span class="id">SG</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id">SG</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">SG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">WDARGS</span> <span class="id">ARGREL</span>. <span class="tactic">simpl</span>. <span class="tactic">generalize</span> (<span class="id"><a href="RTL.html#fn_sig">RTL.fn_sig</a></span> <span class="id">f</span>). <span class="tactic">clear</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="val_casted.html#wd_args_set_arguments_eq">wd_args_set_arguments_eq</a></span>; <span class="tactic">auto</span>. <span class="tactic">clear</span>. <span class="tactic">induction</span> <span class="id">args</span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">red</span>. <span class="tactic">simpl</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="RTL.html#fn_sig">RTL.fn_sig</a></span> <span class="id">f</span>) <span class="id">H</span>. <span class="tactic">clear</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="kwd">forall</span> <span class="id">pl</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="alloc_proof.html#pl">pl</a></span> (<span class="id"><a href="Conventions1.html#loc_arguments">loc_arguments</a></span> <span class="id">s</span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="alloc_proof.html#pl">pl</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="AST.html#One">One</a></span> <span class="id">l</span>' =&gt; <span class="id"><a href="Locations.html#Loc.diff">Loc.diff</a></span> <span class="id">l</span>' <span class="id">l</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="AST.html#Twolong">Twolong</a></span> <span class="id">l1</span> <span class="id">l2</span> =&gt; <span class="id"><a href="Locations.html#Loc.diff">Loc.diff</a></span> <span class="id">l1</span> <span class="id">l</span> /\ <span class="id"><a href="Locations.html#Loc.diff">Loc.diff</a></span> <span class="id">l2</span> <span class="id">l</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="Conventions1.html#loc_arguments_acceptable">loc_arguments_acceptable</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">destruct</span> <span class="id">pl</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="alloc_proof.html#callee_save_loc_arg_diff">callee_save_loc_arg_diff</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">apply</span> <span class="id"><a href="alloc_proof.html#callee_save_loc_arg_diff">callee_save_loc_arg_diff</a></span>; <span class="tactic">tauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Conventions1.html#loc_arguments">loc_arguments</a></span> <span class="id">s</span>) <span class="id">args</span> <span class="id">H0</span>. <span class="tactic">clear</span>. <span class="tactic">induction</span> <span class="id">l0</span>; <span class="tactic">intros</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">args</span>. <span class="tactic">auto</span>. <span class="id">pose</span> <span class="id">proof</span> (<span class="id">H0</span> <span class="id">a</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#or_introl">or_introl</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq_refl">eq_refl</a></span>)). <span class="tactic">destruct</span> <span class="id">a</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Locations.html#Locmap.gso">Locmap.gso</a></span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id">IHl0</span>. <span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id">H0</span>. <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Locations.html#Locmap.gso">Locmap.gso</a></span>; <span class="tactic">try</span> <span class="tactic">tauto</span>. <span class="tactic">apply</span> <span class="id">IHl0</span>. <span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id">H0</span>. <span class="tactic">simpl</span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">MEMINITINJ</span>. <span class="id">inv</span> <span class="id">HRELY</span>. <span class="id">inv</span> <span class="id">LRELY</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="LDSimDefs_local.html#inject_implies_extends">inject_implies_extends</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">b0</span> <span class="id">A</span>. <span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="kwd">in</span> <span class="id">A</span>; <span class="tactic">rewrite</span> <span class="id">EQNEXT</span>, &lt;- <span class="id">dom_eq_src</span> <span class="kwd">in</span> <span class="id">A</span>. <span class="tactic">eapply</span> <span class="id"><a href="Blockset.html#Bset.inj_dom">Bset.inj_dom</a></span> <span class="kwd">in</span> <span class="id">A</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">A</span> <span class="kwd">as</span> [<span class="id">b</span>' <span class="id">A</span>]. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>. <span class="tactic">rewrite</span> <span class="id">A</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">GE_INIT_INJ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">mu_shared_src</span> <span class="kwd">in</span> <span class="id">dom_eq_src</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">mu_shared_tgt</span> <span class="kwd">in</span> <span class="id">dom_eq_tgt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="alloc_proof.html#PRESERVATION.S_EQ">S_EQ</a></span> <span class="kwd">in</span> <span class="id">dom_eq_src</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="alloc_proof.html#b">b</a></span> (<span class="id"><a href="Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">sm0</span>) &lt;-&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="alloc_proof.html#b">b</a></span> (<span class="id"><a href="Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">tm0</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">intro</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">dom_eq_src</span>, &lt;- <span class="id">dom_eq_tgt</span>. <span class="tactic">tauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">EQNEXT</span>, <span class="id">EQNEXT0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.lt_total">Pos.lt_total</a></span> (<span class="id"><a href="Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">sm0</span>) (<span class="id"><a href="Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">tm0</span>)) <span class="kwd">as</span> [<span class="id">LT</span> | [<span class="id">EQ</span> | <span class="id">LT</span>]]; <span class="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="tactic">generalize</span> <span class="id">H3</span> <span class="id">LT</span>; <span class="tactic">clear</span>; <span class="tactic">intros</span>; <span class="id">exfalso</span>; <span class="tactic">apply</span> <span class="id">H3</span> <span class="kwd">in</span> <span class="id">LT</span>; <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.lt_irrefl">Pos.lt_irrefl</a></span>; <span class="tactic">eauto</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">SG</span>. <span class="tactic">unfold</span> <span class="id"><a href="val_casted.html#wd_args">wd_args</a></span> <span class="kwd">in</span> <span class="id">WDARGS</span>. <span class="tactic">eapply</span> <span class="id"><a href="val_casted.html#val_has_type_list_func_charact">val_has_type_list_func_charact</a></span>. <span class="id">InvBooleans</span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">subst</span>. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">MEMINITINJ</span>. <span class="id">inv</span> <span class="id">HRELY</span>. <span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="kwd">in</span> *. <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id">EQNEXT</span>. <span class="tactic">apply</span> <span class="id">dom_eq_src</span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">MEMINITINJ</span>. <span class="id">inv</span> <span class="id">LRELY</span>. <span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="kwd">in</span> *. <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id">EQNEXT</span>. <span class="tactic">apply</span> <span class="id">dom_eq_tgt</span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">MEMINITINJ</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> ? ? ? ? ? <span class="id">H</span> <span class="id">A</span>. <span class="id">exploit</span> <span class="id">inj_inject_id</span>. <span class="tactic">exact</span> <span class="id">H</span>. <span class="tactic">intro</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">A</span>. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="MemClosures_local.html#reach_closed_unmapped_closed">MemClosures_local.reach_closed_unmapped_closed</a></span>. <span class="id">inv</span> <span class="id">LRELY</span>. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id">Injections.fp_match_emp</span>'. }<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;tau&nbsp;step&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">i</span> <span class="id">mu</span> <span class="id">Hfp</span> <span class="id">Lfp</span> <span class="id">Hcore</span> <span class="id">Hm</span> <span class="id">Lcore</span> <span class="id">Lm</span> <span class="id">Hfp</span>' <span class="id">Hcore</span>' <span class="id">Hm</span>' <span class="id">MS</span> <span class="id">STEP</span>. <span class="id">right</span>. <span class="id">exists</span> 0%<span class="id">nat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">HSG</span>: <span class="id"><a href="alloc_proof.html#PRESERVATION.sG">sG</a></span> = <span class="id"><a href="alloc_proof.html#PRESERVATION.sge">sge</a></span>) <span class="tactic">by</span> (<span class="id">inv</span> <span class="id"><a href="alloc_proof.html#PRESERVATION.GE_INIT">GE_INIT</a></span>; <span class="tactic">auto</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">HTG</span>: <span class="id"><a href="alloc_proof.html#PRESERVATION.tG">tG</a></span> = <span class="id"><a href="alloc_proof.html#PRESERVATION.tge">tge</a></span>) <span class="tactic">by</span> (<span class="id">inv</span> <span class="id"><a href="alloc_proof.html#PRESERVATION.TGE_INIT">TGE_INIT</a></span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">HSG</span> <span class="kwd">in</span> <span class="id">STEP</span>. <span class="tactic">rewrite</span> <span class="id">HTG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="CUAST.html#globalenv_generic">globalenv_generic</a></span> <span class="id"><a href="alloc_proof.html#PRESERVATION.scu">scu</a></span> <span class="id"><a href="alloc_proof.html#PRESERVATION.sge">sge</a></span>) <span class="tactic">by</span> (<span class="id">inv</span> <span class="id"><a href="alloc_proof.html#PRESERVATION.GE_INIT">GE_INIT</a></span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="RTLtyping_local.html#subject_reduction">subject_reduction</a></span> <span class="id">_</span> <span class="id"><a href="alloc_proof.html#wt_scu">wt_scu</a></span> <span class="id">_</span> <span class="id">H</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">STEP</span>) <span class="kwd">as</span> <span class="id">WTC</span>'. <span class="tactic">clear</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">i</span> <span class="id">mu</span> <span class="id">Hfp</span> <span class="id">Lfp</span> <span class="id">Lcore</span> <span class="id">Lm</span> <span class="id">MS</span> <span class="id">HSG</span> <span class="id">HTG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">STEP</span>; <span class="tactic">intros</span> <span class="id">until</span> 1; <span class="tactic">try</span> (<span class="id">inv</span> <span class="id">MS</span>); <span class="id">specialize</span> (<span class="id">WTC</span>' <span class="id">WTC</span>); <span class="tactic">try</span> <span class="id">UseShape</span>; <span class="tactic">intros</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;nop&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#exec_moves">exec_moves</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls1</span> [<span class="id">X</span> <span class="id">Y</span>]]. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">PLUS</span>. <span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#plus_left">plus_left</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">X</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="id">eresolvfp</span>. <span class="id">eresolvfp</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">FP</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#satisf_successors">satisf_successors</a></span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">enext</span> [<span class="id">U</span> <span class="id">V</span>]]. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;op&nbsp;move&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="RTLtyping.html#wt_exec_Iop">wt_exec_Iop</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">WTI</span> <span class="id">H0</span> <span class="id">WTRS</span>). <span class="tactic">intros</span> <span class="id">WTRS</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="alloc_proof.html#exec_moves">exec_moves</a></span> <span class="id">mv</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls1</span> [<span class="id">X</span> <span class="id">Y</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">PLUS</span>. <span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#plus_left">plus_left</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">X</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.  <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">FP</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="id">eresolvfp</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#satisf_successors">satisf_successors</a></span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#subst_reg_satisf">subst_reg_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">enext</span> [<span class="id">U</span> <span class="id">V</span>]]. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;op&nbsp;makelong&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="RTLtyping.html#wt_exec_Iop">wt_exec_Iop</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">WTI</span> <span class="id">H0</span> <span class="id">WTRS</span>). <span class="tactic">intros</span> <span class="id">WTRS</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="alloc_proof.html#exec_moves">exec_moves</a></span> <span class="id">mv</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls1</span> [<span class="id">X</span> <span class="id">Y</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">PLUS</span>. <span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#plus_left">plus_left</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">X</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="id">eresolvfp</span>. <span class="id">eresolvfp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">FP</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="id">eresolvfp</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#satisf_successors">satisf_successors</a></span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#subst_reg_kind_satisf_makelong">subst_reg_kind_satisf_makelong</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">enext</span> [<span class="id">U</span> <span class="id">V</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;op&nbsp;lowlong&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="RTLtyping.html#wt_exec_Iop">wt_exec_Iop</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">WTI</span> <span class="id">H0</span> <span class="id">WTRS</span>). <span class="tactic">intros</span> <span class="id">WTRS</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="alloc_proof.html#exec_moves">exec_moves</a></span> <span class="id">mv</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls1</span> [<span class="id">X</span> <span class="id">Y</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">PLUS</span>. <span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#plus_left">plus_left</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">X</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="id">eresolvfp</span>. <span class="id">eresolvfp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">FP</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="id">eresolvfp</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#satisf_successors">satisf_successors</a></span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#subst_reg_kind_satisf_lowlong">subst_reg_kind_satisf_lowlong</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">enext</span> [<span class="id">U</span> <span class="id">V</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;op&nbsp;highlong&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="RTLtyping.html#wt_exec_Iop">wt_exec_Iop</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">WTI</span> <span class="id">H0</span> <span class="id">WTRS</span>). <span class="tactic">intros</span> <span class="id">WTRS</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="alloc_proof.html#exec_moves">exec_moves</a></span> <span class="id">mv</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls1</span> [<span class="id">X</span> <span class="id">Y</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">PLUS</span>. <span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#plus_left">plus_left</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">X</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="id">eresolvfp</span>. <span class="id">eresolvfp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">FP</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="id">eresolvfp</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#satisf_successors">satisf_successors</a></span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#subst_reg_kind_satisf_highlong">subst_reg_kind_satisf_highlong</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">enext</span> [<span class="id">U</span> <span class="id">V</span>]]. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;op&nbsp;regular&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="RTLtyping.html#wt_exec_Iop">wt_exec_Iop</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">WTI</span> <span class="id">H0</span> <span class="id">WTRS</span>). <span class="tactic">intros</span> <span class="id">WTRS</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="alloc_proof.html#exec_moves">exec_moves</a></span> <span class="id">mv1</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls1</span> [<span class="id">A1</span> <span class="id">B1</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#transfer_use_def_satisf">transfer_use_def_satisf</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">X</span> <span class="id">Y</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Op.html#eval_operation_lessdef">eval_operation_lessdef</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">v</span>' [<span class="id">F</span> <span class="id">G</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="alloc_proof.html#exec_moves">exec_moves</a></span> <span class="id">mv2</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls2</span> [<span class="id">A2</span> <span class="id">B2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Op_fp.html#eval_operation_lessdef_fp">eval_operation_lessdef_fp</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">fp</span>' [<span class="id">F</span>' <span class="id">G</span>']].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">PLUS</span>. <span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#plus_left">plus_left</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_trans">star_trans</a></span>. <span class="id">eexact</span> <span class="id">A1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_left">star_left</a></span>. <span class="id">econstructor</span>. <span class="id">instantiate</span> (1 := <span class="id">v</span>'). <span class="tactic">rewrite</span> &lt;- <span class="id">F</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Op.html#eval_operation_preserved">eval_operation_preserved</a></span>. <span class="tactic">exact</span> <span class="id"><a href="alloc_proof.html#symbols_preserved">symbols_preserved</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;-<span class="id">F</span>'. <span class="tactic">eapply</span> <span class="id"><a href="Op_fp.html#eval_operation_fp_preserved">eval_operation_fp_preserved</a></span>. <span class="tactic">exact</span> <span class="id"><a href="alloc_proof.html#symbols_preserved">symbols_preserved</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">A2</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eresolvfp</span>. <span class="id">eresolvfp</span>. <span class="id">eresolvfp</span>. <span class="id">eresolvfp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">FP</span>. <span class="tactic">eapply</span> <span class="id"><a href="Op_fp.html#fp_inject_fp_match">fp_inject_fp_match</a></span> <span class="kwd">in</span> <span class="id">G</span>'; <span class="tactic">try</span> (<span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eauto</span>; <span class="tactic">fail</span>). <span class="tactic">split</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#satisf_successors">satisf_successors</a></span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">enext</span> [<span class="id">U</span> <span class="id">V</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>. <br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;op&nbsp;dead&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#exec_moves">exec_moves</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls1</span> [<span class="id">X</span> <span class="id">Y</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">PLUS</span>. <span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#plus_left">plus_left</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">X</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eresolvfp</span>. <span class="id">eresolvfp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">FP</span>. <span class="id">resolvfp</span>. <span class="tactic">apply</span> <span class="id">Injections.fp_match_union_S</span>'. <span class="tactic">auto</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#satisf_successors">satisf_successors</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#reg_unconstrained_satisf">reg_unconstrained_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">enext</span> [<span class="id">U</span> <span class="id">V</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="RTLtyping.html#wt_exec_Iop">wt_exec_Iop</a></span>; <span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;load&nbsp;regular&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="RTLtyping.html#wt_exec_Iload">wt_exec_Iload</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">WTI</span> <span class="id">H1</span> <span class="id">WTRS</span>). <span class="tactic">intros</span> <span class="id">WTRS</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="alloc_proof.html#exec_moves">exec_moves</a></span> <span class="id">mv1</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls1</span> [<span class="id">A1</span> <span class="id">B1</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#transfer_use_def_satisf">transfer_use_def_satisf</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">X</span> <span class="id">Y</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Op.html#eval_addressing_lessdef">eval_addressing_lessdef</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">a</span>' [<span class="id">F</span> <span class="id">G</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Memory.html#Mem.loadv_extends">Mem.loadv_extends</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">v</span>' [<span class="id">P</span> <span class="id">Q</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="alloc_proof.html#exec_moves">exec_moves</a></span> <span class="id">mv2</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls2</span> [<span class="id">A2</span> <span class="id">B2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">PLUS</span>. <span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#plus_left">plus_left</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_trans">star_trans</a></span>. <span class="id">eexact</span> <span class="id">A1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_left">star_left</a></span>. <span class="id">econstructor</span>. <span class="id">instantiate</span> (1 := <span class="id">a</span>'). <span class="tactic">rewrite</span> &lt;- <span class="id">F</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Op.html#eval_addressing_preserved">eval_addressing_preserved</a></span>. <span class="tactic">exact</span> <span class="id"><a href="alloc_proof.html#symbols_preserved">symbols_preserved</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">A2</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eresolvfp</span>. <span class="id">eresolvfp</span>. <span class="id">eresolvfp</span>. <span class="id">eresolvfp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">FP</span>. <span class="tactic">generalize</span> <span class="id">AGMU</span> <span class="id">G</span> <span class="id">P</span> <span class="id">H1</span>. <span class="tactic">clear</span>. <span class="tactic">destruct</span> <span class="id">a</span>; <span class="tactic">simpl</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>; <span class="tactic">intros</span>; <span class="id">inv</span> <span class="id">G</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">eapply</span> <span class="id"><a href="LDSimDefs_local.html#fp_match_id">fp_match_id</a></span>; <span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eauto</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#satisf_successors">satisf_successors</a></span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">enext</span> [<span class="id">U</span> <span class="id">V</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;load&nbsp;pair&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="RTLtyping.html#wt_exec_Iload">wt_exec_Iload</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">WTI</span> <span class="id">H1</span> <span class="id">WTRS</span>). <span class="tactic">intros</span> <span class="id">WTRS</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#loadv_int64_split">loadv_int64_split</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">v1</span> &amp; <span class="id">v2</span> &amp; <span class="id">LOAD1</span> &amp; <span class="id">LOAD2</span> &amp; <span class="id">V1</span> &amp; <span class="id">V2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">v2</span>' := <span class="kwd">if</span> <span class="id"><a href="Archi.html#big_endian">Archi.big_endian</a></span> <span class="kwd">then</span> <span class="id">v2</span> <span class="kwd">else</span> <span class="id">v1</span>) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">v1</span>' := <span class="kwd">if</span> <span class="id"><a href="Archi.html#big_endian">Archi.big_endian</a></span> <span class="kwd">then</span> <span class="id">v1</span> <span class="kwd">else</span> <span class="id">v2</span>) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="alloc_proof.html#exec_moves">exec_moves</a></span> <span class="id">mv1</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls1</span> [<span class="id">A1</span> <span class="id">B1</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">LD1</span>: <span class="id"><a href="Values.html#Val.lessdef_list">Val.lessdef_list</a></span> <span class="id">rs</span>##<span class="id">args</span> (<span class="id"><a href="LTL.html#reglist">reglist</a></span> <span class="id">ls1</span> <span class="id">args1</span>')).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equations_lessdef">add_equations_lessdef</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Op.html#eval_addressing_lessdef">eval_addressing_lessdef</a></span>. <span class="id">eexact</span> <span class="id">LD1</span>. <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">a1</span>' [<span class="id">F1</span> <span class="id">G1</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Memory.html#Mem.loadv_extends">Mem.loadv_extends</a></span>. <span class="tactic">eauto</span>. <span class="id">eexact</span> <span class="id">LOAD1</span>. <span class="id">eexact</span> <span class="id">G1</span>. <span class="tactic">intros</span> (<span class="id">v1</span>'' &amp; <span class="id">LOAD1</span>' &amp; <span class="id">LD2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">ls2</span> := <span class="id"><a href="Locations.html#Locmap.set">Locmap.set</a></span> (<span class="id"><a href="Locations.html#R">R</a></span> <span class="id">dst1</span>') <span class="id">v1</span>'' (<span class="id"><a href="LTL.html#undef_regs">undef_regs</a></span> (<span class="id"><a href="Machregs.html#destroyed_by_load">destroyed_by_load</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> <span class="id">addr</span>) <span class="id">ls1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">SAT2</span>: <span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> (<span class="id">rs</span>#<span class="id">dst</span> &lt;- <span class="id">v</span>) <span class="id">ls2</span> <span class="id">e2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#loc_unconstrained_satisf">loc_unconstrained_satisf</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#can_undef_satisf">can_undef_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#reg_unconstrained_satisf">reg_unconstrained_satisf</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equations_satisf">add_equations_satisf</a></span>; <span class="tactic">eauto</span>. <span class="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Registers.html#Regmap.gss">Regmap.gss</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.lessdef_trans">Val.lessdef_trans</a></span> <span class="kwd">with</span> <span class="id">v1</span>'; <span class="tactic">unfold</span> <span class="id"><a href="alloc_proof.html#sel_val">sel_val</a></span>; <span class="tactic">unfold</span> <span class="id">kind_first_word</span>; <span class="tactic">unfold</span> <span class="id">v1</span>'; <span class="tactic">destruct</span> <span class="id"><a href="Archi.html#big_endian">Archi.big_endian</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="alloc_proof.html#exec_moves">exec_moves</a></span> <span class="id">mv2</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls3</span> [<span class="id">A3</span> <span class="id">B3</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">LD3</span>: <span class="id"><a href="Values.html#Val.lessdef_list">Val.lessdef_list</a></span> <span class="id">rs</span>##<span class="id">args</span> (<span class="id"><a href="LTL.html#reglist">reglist</a></span> <span class="id">ls3</span> <span class="id">args2</span>')).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">replace</span> (<span class="id">rs</span>##<span class="id">args</span>) <span class="kwd">with</span> ((<span class="id">rs</span>#<span class="id">dst</span>&lt;-<span class="id">v</span>)##<span class="id">args</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equations_lessdef">add_equations_lessdef</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Coqlib.html#list_map_exten">list_map_exten</a></span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Registers.html#Regmap.gso">Regmap.gso</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#addressing_not_long">addressing_not_long</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Op.html#eval_addressing_lessdef">eval_addressing_lessdef</a></span>. <span class="id">eexact</span> <span class="id">LD3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Op.html#eval_offset_addressing">eval_offset_addressing</a></span>; <span class="tactic">eauto</span>; <span class="tactic">apply</span> <span class="id"><a href="Archi.html#splitlong_ptr32">Archi.splitlong_ptr32</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">a2</span>' [<span class="id">F2</span> <span class="id">G2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">LOADX</span>: <span class="id">exists</span> <span class="id">v2</span>'', <span class="id"><a href="Memory.html#Mem.loadv">Mem.loadv</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> <span class="id">Lm</span> <span class="id">a2</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v2</span>'' /\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id">v2</span>' <span class="id">v2</span>'').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">discriminate</span> || (<span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.loadv_extends">Mem.loadv_extends</a></span>; [<span class="tactic">eauto</span>|<span class="id">eexact</span> <span class="id">LOAD2</span>|<span class="id">eexact</span> <span class="id">G2</span>]). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">LOADX</span> <span class="kwd">as</span> (<span class="id">v2</span>'' &amp; <span class="id">LOAD2</span>' &amp; <span class="id">LD4</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">ls4</span> := <span class="id"><a href="Locations.html#Locmap.set">Locmap.set</a></span> (<span class="id"><a href="Locations.html#R">R</a></span> <span class="id">dst2</span>') <span class="id">v2</span>'' (<span class="id"><a href="LTL.html#undef_regs">undef_regs</a></span> (<span class="id"><a href="Machregs.html#destroyed_by_load">destroyed_by_load</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> <span class="id">addr2</span>) <span class="id">ls3</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">SAT4</span>: <span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> (<span class="id">rs</span>#<span class="id">dst</span> &lt;- <span class="id">v</span>) <span class="id">ls4</span> <span class="id">e0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#loc_unconstrained_satisf">loc_unconstrained_satisf</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#can_undef_satisf">can_undef_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equations_satisf">add_equations_satisf</a></span>; <span class="tactic">eauto</span>. <span class="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Registers.html#Regmap.gss">Regmap.gss</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.lessdef_trans">Val.lessdef_trans</a></span> <span class="kwd">with</span> <span class="id">v2</span>'; <span class="tactic">unfold</span> <span class="id"><a href="alloc_proof.html#sel_val">sel_val</a></span>; <span class="tactic">unfold</span> <span class="id">kind_second_word</span>; <span class="tactic">unfold</span> <span class="id">v2</span>'; <span class="tactic">destruct</span> <span class="id"><a href="Archi.html#big_endian">Archi.big_endian</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="alloc_proof.html#exec_moves">exec_moves</a></span> <span class="id">mv3</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls5</span> [<span class="id">A5</span> <span class="id">B5</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">PLUS</span>.  <span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#plus_left">plus_left</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_trans">star_trans</a></span>. <span class="id">eexact</span> <span class="id">A1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_left">star_left</a></span>. <span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">instantiate</span> (1 := <span class="id">a1</span>'). <span class="tactic">rewrite</span> &lt;- <span class="id">F1</span>. <span class="tactic">apply</span> <span class="id"><a href="Op.html#eval_addressing_preserved">eval_addressing_preserved</a></span>. <span class="tactic">exact</span> <span class="id"><a href="alloc_proof.html#symbols_preserved">symbols_preserved</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexact</span> <span class="id">LOAD1</span>'. <span class="tactic">eauto</span>. <span class="id">instantiate</span> (1 := <span class="id">ls2</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_trans">star_trans</a></span>. <span class="id">eexact</span> <span class="id">A3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_left">star_left</a></span>. <span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">instantiate</span> (1 := <span class="id">a2</span>'). <span class="tactic">rewrite</span> &lt;- <span class="id">F2</span>. <span class="tactic">apply</span> <span class="id"><a href="Op.html#eval_addressing_preserved">eval_addressing_preserved</a></span>. <span class="tactic">exact</span> <span class="id"><a href="alloc_proof.html#symbols_preserved">symbols_preserved</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexact</span> <span class="id">LOAD2</span>'. <span class="tactic">eauto</span>. <span class="id">instantiate</span> (1 := <span class="id">ls4</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">A5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eresolvfp</span>. <span class="id">eresolvfp</span>. <span class="id">eresolvfp</span>. <span class="id">eresolvfp</span>. <span class="id">eresolvfp</span>. <span class="id">eresolvfp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">FP</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">generalize</span> <span class="id">AGMU</span> <span class="id">F1</span> <span class="id">F2</span> <span class="id">G1</span> <span class="id">G2</span> <span class="id">H1</span> <span class="id">LOAD1</span> <span class="id">LOAD2</span> <span class="id">LOAD1</span>' <span class="id">LOAD2</span>'; <span class="tactic">clear</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="id">inv</span> <span class="id">G1</span>. <span class="id">inv</span> <span class="id">G2</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:<span class="id">C</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#load_int64_fp_split">load_int64_fp_split</a></span>; <span class="tactic">eauto</span>. <span class="id">exploit</span> <span class="id"><a href="Memory.html#Mem.load_valid_access">Mem.load_valid_access</a></span>. <span class="tactic">exact</span> <span class="id">H1</span>. <span class="tactic">intros</span> [<span class="id">_</span> ?]; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#satisf_successors">satisf_successors</a></span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">enext</span> [<span class="id">W</span> <span class="id">Z</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;load&nbsp;first&nbsp;word&nbsp;of&nbsp;a&nbsp;pair&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="RTLtyping.html#wt_exec_Iload">wt_exec_Iload</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">WTI</span> <span class="id">H1</span> <span class="id">WTRS</span>). <span class="tactic">intros</span> <span class="id">WTRS</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#loadv_int64_split">loadv_int64_split</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">v1</span> &amp; <span class="id">v2</span> &amp; <span class="id">LOAD1</span> &amp; <span class="id">LOAD2</span> &amp; <span class="id">V1</span> &amp; <span class="id">V2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">v2</span>' := <span class="kwd">if</span> <span class="id"><a href="Archi.html#big_endian">Archi.big_endian</a></span> <span class="kwd">then</span> <span class="id">v2</span> <span class="kwd">else</span> <span class="id">v1</span>) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">v1</span>' := <span class="kwd">if</span> <span class="id"><a href="Archi.html#big_endian">Archi.big_endian</a></span> <span class="kwd">then</span> <span class="id">v1</span> <span class="kwd">else</span> <span class="id">v2</span>) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="alloc_proof.html#exec_moves">exec_moves</a></span> <span class="id">mv1</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls1</span> [<span class="id">A1</span> <span class="id">B1</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">LD1</span>: <span class="id"><a href="Values.html#Val.lessdef_list">Val.lessdef_list</a></span> <span class="id">rs</span>##<span class="id">args</span> (<span class="id"><a href="LTL.html#reglist">reglist</a></span> <span class="id">ls1</span> <span class="id">args</span>')).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equations_lessdef">add_equations_lessdef</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Op.html#eval_addressing_lessdef">eval_addressing_lessdef</a></span>. <span class="id">eexact</span> <span class="id">LD1</span>. <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">a1</span>' [<span class="id">F1</span> <span class="id">G1</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Memory.html#Mem.loadv_extends">Mem.loadv_extends</a></span>. <span class="tactic">eauto</span>. <span class="id">eexact</span> <span class="id">LOAD1</span>. <span class="id">eexact</span> <span class="id">G1</span>. <span class="tactic">intros</span> (<span class="id">v1</span>'' &amp; <span class="id">LOAD1</span>' &amp; <span class="id">LD2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">ls2</span> := <span class="id"><a href="Locations.html#Locmap.set">Locmap.set</a></span> (<span class="id"><a href="Locations.html#R">R</a></span> <span class="id">dst</span>') <span class="id">v1</span>'' (<span class="id"><a href="LTL.html#undef_regs">undef_regs</a></span> (<span class="id"><a href="Machregs.html#destroyed_by_load">destroyed_by_load</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> <span class="id">addr</span>) <span class="id">ls1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">SAT2</span>: <span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> (<span class="id">rs</span>#<span class="id">dst</span> &lt;- <span class="id">v</span>) <span class="id">ls2</span> <span class="id">e0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#parallel_assignment_satisf">parallel_assignment_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.lessdef_trans">Val.lessdef_trans</a></span> <span class="kwd">with</span> <span class="id">v1</span>';<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="alloc_proof.html#sel_val">sel_val</a></span>; <span class="tactic">unfold</span> <span class="id">kind_first_word</span>; <span class="tactic">unfold</span> <span class="id">v1</span>'; <span class="tactic">destruct</span> <span class="id"><a href="Archi.html#big_endian">Archi.big_endian</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#can_undef_satisf">can_undef_satisf</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equations_satisf">add_equations_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="alloc_proof.html#exec_moves">exec_moves</a></span> <span class="id">mv2</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls3</span> [<span class="id">A3</span> <span class="id">B3</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">PLUS</span>. <span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#plus_left">plus_left</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_trans">star_trans</a></span>. <span class="id">eexact</span> <span class="id">A1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_left">star_left</a></span>. <span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">instantiate</span> (1 := <span class="id">a1</span>'). <span class="tactic">rewrite</span> &lt;- <span class="id">F1</span>. <span class="tactic">apply</span> <span class="id"><a href="Op.html#eval_addressing_preserved">eval_addressing_preserved</a></span>. <span class="tactic">exact</span> <span class="id"><a href="alloc_proof.html#symbols_preserved">symbols_preserved</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexact</span> <span class="id">LOAD1</span>'. <span class="tactic">eauto</span>. <span class="id">instantiate</span> (1 := <span class="id">ls2</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">A3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>. <span class="id">eresolvfp</span>. <span class="id">eresolvfp</span>. <span class="id">eresolvfp</span>. <span class="id">eresolvfp</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">FP</span>. <span class="tactic">destruct</span> <span class="id">a</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="id">inv</span> <span class="id">G1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#load_int64_fp_split">load_int64_fp_split</a></span>; <span class="tactic">eauto</span>. <span class="id">instantiate</span> (1:=<span class="id">i</span>). <span class="id">exploit</span> <span class="id"><a href="Memory.html#Mem.load_valid_access">Mem.load_valid_access</a></span>. <span class="tactic">exact</span> <span class="id">H1</span>. <span class="tactic">intros</span> [<span class="id">_</span> <span class="id">A</span>']. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">simpl</span>. <span class="tactic">eapply</span> <span class="id">Injections.fp_match_subset_T</span>'; <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.union_subset">FP.union_subset</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#satisf_successors">satisf_successors</a></span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">enext</span> [<span class="id">W</span> <span class="id">Z</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;load&nbsp;second&nbsp;word&nbsp;of&nbsp;a&nbsp;pair&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="RTLtyping.html#wt_exec_Iload">wt_exec_Iload</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">WTI</span> <span class="id">H1</span> <span class="id">WTRS</span>). <span class="tactic">intros</span> <span class="id">WTRS</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#loadv_int64_split">loadv_int64_split</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">v1</span> &amp; <span class="id">v2</span> &amp; <span class="id">LOAD1</span> &amp; <span class="id">LOAD2</span> &amp; <span class="id">V1</span> &amp; <span class="id">V2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">v2</span>' := <span class="kwd">if</span> <span class="id"><a href="Archi.html#big_endian">Archi.big_endian</a></span> <span class="kwd">then</span> <span class="id">v2</span> <span class="kwd">else</span> <span class="id">v1</span>) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">v1</span>' := <span class="kwd">if</span> <span class="id"><a href="Archi.html#big_endian">Archi.big_endian</a></span> <span class="kwd">then</span> <span class="id">v1</span> <span class="kwd">else</span> <span class="id">v2</span>) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="alloc_proof.html#exec_moves">exec_moves</a></span> <span class="id">mv1</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls1</span> [<span class="id">A1</span> <span class="id">B1</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">LD1</span>: <span class="id"><a href="Values.html#Val.lessdef_list">Val.lessdef_list</a></span> <span class="id">rs</span>##<span class="id">args</span> (<span class="id"><a href="LTL.html#reglist">reglist</a></span> <span class="id">ls1</span> <span class="id">args</span>')).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equations_lessdef">add_equations_lessdef</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Op.html#eval_addressing_lessdef">eval_addressing_lessdef</a></span>. <span class="id">eexact</span> <span class="id">LD1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Op.html#eval_offset_addressing">eval_offset_addressing</a></span>; <span class="tactic">eauto</span>; <span class="tactic">apply</span> <span class="id"><a href="Archi.html#splitlong_ptr32">Archi.splitlong_ptr32</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">a1</span>' [<span class="id">F1</span> <span class="id">G1</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">LOADX</span>: <span class="id">exists</span> <span class="id">v2</span>'', <span class="id"><a href="Memory.html#Mem.loadv">Mem.loadv</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> <span class="id">Lm</span> <span class="id">a1</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v2</span>'' /\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id">v2</span>' <span class="id">v2</span>'').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">discriminate</span> || (<span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.loadv_extends">Mem.loadv_extends</a></span>; [<span class="tactic">eauto</span>|<span class="id">eexact</span> <span class="id">LOAD2</span>|<span class="id">eexact</span> <span class="id">G1</span>]). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">LOADX</span> <span class="kwd">as</span> (<span class="id">v2</span>'' &amp; <span class="id">LOAD2</span>' &amp; <span class="id">LD2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">ls2</span> := <span class="id"><a href="Locations.html#Locmap.set">Locmap.set</a></span> (<span class="id"><a href="Locations.html#R">R</a></span> <span class="id">dst</span>') <span class="id">v2</span>'' (<span class="id"><a href="LTL.html#undef_regs">undef_regs</a></span> (<span class="id"><a href="Machregs.html#destroyed_by_load">destroyed_by_load</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> <span class="id">addr2</span>) <span class="id">ls1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">SAT2</span>: <span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> (<span class="id">rs</span>#<span class="id">dst</span> &lt;- <span class="id">v</span>) <span class="id">ls2</span> <span class="id">e0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#parallel_assignment_satisf">parallel_assignment_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.lessdef_trans">Val.lessdef_trans</a></span> <span class="kwd">with</span> <span class="id">v2</span>'; <span class="tactic">unfold</span> <span class="id"><a href="alloc_proof.html#sel_val">sel_val</a></span>; <span class="tactic">unfold</span> <span class="id">kind_second_word</span>; <span class="tactic">unfold</span> <span class="id">v2</span>'; <span class="tactic">destruct</span> <span class="id"><a href="Archi.html#big_endian">Archi.big_endian</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#can_undef_satisf">can_undef_satisf</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equations_satisf">add_equations_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="alloc_proof.html#exec_moves">exec_moves</a></span> <span class="id">mv2</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls3</span> [<span class="id">A3</span> <span class="id">B3</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">PLUS</span>. <span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#plus_left">plus_left</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_trans">star_trans</a></span>. <span class="id">eexact</span> <span class="id">A1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_left">star_left</a></span>. <span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">instantiate</span> (1 := <span class="id">a1</span>'). <span class="tactic">rewrite</span> &lt;- <span class="id">F1</span>. <span class="tactic">apply</span> <span class="id"><a href="Op.html#eval_addressing_preserved">eval_addressing_preserved</a></span>. <span class="tactic">exact</span> <span class="id"><a href="alloc_proof.html#symbols_preserved">symbols_preserved</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexact</span> <span class="id">LOAD2</span>'. <span class="tactic">eauto</span>. <span class="id">instantiate</span> (1 := <span class="id">ls2</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">A3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>. <span class="id">eresolvfp</span>. <span class="id">eresolvfp</span>. <span class="id">eresolvfp</span>. <span class="id">eresolvfp</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">FP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="id">inv</span> <span class="id">G1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#load_int64_fp_split">load_int64_fp_split</a></span>; <span class="tactic">eauto</span>. <span class="id">instantiate</span> (1:=<span class="id">i</span>). <span class="id">exploit</span> <span class="id"><a href="Memory.html#Mem.load_valid_access">Mem.load_valid_access</a></span>. <span class="tactic">exact</span> <span class="id">H1</span>. <span class="tactic">intros</span> [<span class="id">_</span> <span class="id">A</span>']. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">simpl</span>. <span class="tactic">eapply</span> <span class="id">Injections.fp_match_subset_T</span>'; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.union_comm_eq">FP.union_comm_eq</a></span>. <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.union_subset">FP.union_subset</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#satisf_successors">satisf_successors</a></span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">enext</span> [<span class="id">W</span> <span class="id">Z</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;load&nbsp;dead&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#exec_moves">exec_moves</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls1</span> [<span class="id">X</span> <span class="id">Y</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">PLUS</span>. <span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#plus_left">plus_left</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">X</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eresolvfp</span>. <span class="id">eresolvfp</span>. <span class="id">resolvfp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">FP</span>. <span class="tactic">apply</span> <span class="id">Injections.fp_match_union_S</span>'; <span class="tactic">auto</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#satisf_successors">satisf_successors</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#reg_unconstrained_satisf">reg_unconstrained_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">enext</span> [<span class="id">U</span> <span class="id">V</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="RTLtyping.html#wt_exec_Iload">wt_exec_Iload</a></span>; <span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;store&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">HSG</span> <span class="id">HTG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#exec_moves">exec_moves</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls1</span> [<span class="id">X</span> <span class="id">Y</span>]]. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#add_equations_lessdef">add_equations_lessdef</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">LD</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">LD</span>. <span class="id">inv</span> <span class="id">LD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Op.html#eval_addressing_lessdef">eval_addressing_lessdef</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">a</span>' [<span class="id">F</span> <span class="id">G</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Memory.html#Mem.storev_extends">Mem.storev_extends</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">m</span>'' [<span class="id">P</span> <span class="id">Q</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">PLUS</span>. <span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#plus_left">plus_left</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_trans">star_trans</a></span>. <span class="id">eexact</span> <span class="id">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_two">star_two</a></span>. <span class="id">econstructor</span>. <span class="id">instantiate</span> (1 := <span class="id">a</span>'). <span class="tactic">rewrite</span> &lt;- <span class="id">F</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Op.html#eval_addressing_preserved">eval_addressing_preserved</a></span>. <span class="tactic">exact</span> <span class="id"><a href="alloc_proof.html#symbols_preserved">symbols_preserved</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>. <span class="id">eresolvfp</span>. <span class="id">eresolvfp</span>. <span class="id">eresolvfp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">HSG</span> <span class="id">HTG</span>; <span class="tactic">destruct</span> <span class="id">a</span>; <span class="tactic">try</span> (<span class="tactic">simpl</span> <span class="kwd">in</span> *;  <span class="tactic">discriminate</span>; <span class="tactic">fail</span>); <span class="id">inv</span> <span class="id">G</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">FP</span>.  <span class="tactic">eapply</span> <span class="id"><a href="LDSimDefs_local.html#fp_match_id">fp_match_id</a></span>; <span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eauto</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#satisf_successors">satisf_successors</a></span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#can_undef_satisf">can_undef_satisf</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equations_satisf">add_equations_satisf</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">enext</span> [<span class="id">U</span> <span class="id">V</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.store_valid_block_1">Mem.store_valid_block_1</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.store_valid_block_1">Mem.store_valid_block_1</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="MemClosures_local.html#store_val_inject_unmapped_closed_preserved">MemClosures_local.store_val_inject_unmapped_closed_preserved</a></span>; <span class="tactic">try</span> (<span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eauto</span>; <span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Values.html#inject_id">inject_id</a></span>. <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_0_r">Z.add_0_r</a></span>. <span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;store&nbsp;2&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">SF</span>: <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>) <span class="tactic">by</span> (<span class="tactic">apply</span> <span class="id"><a href="Archi.html#splitlong_ptr32">Archi.splitlong_ptr32</a></span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Memory.html#Mem.storev_int64_split">Mem.storev_int64_split</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="kwd">if</span> <span class="id"><a href="Archi.html#big_endian">Archi.big_endian</a></span> <span class="kwd">then</span> <span class="id"><a href="Values.html#Val.hiword">Val.hiword</a></span> <span class="id">rs</span>#<span class="id">src</span> <span class="kwd">else</span> <span class="id"><a href="Values.html#Val.loword">Val.loword</a></span> <span class="id">rs</span>#<span class="id">src</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> (<span class="id"><a href="alloc_proof.html#sel_val">sel_val</a></span> <span class="id">kind_first_word</span> <span class="id">rs</span>#<span class="id">src</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">by</span> (<span class="tactic">unfold</span> <span class="id">kind_first_word</span>; <span class="tactic">destruct</span> <span class="id"><a href="Archi.html#big_endian">Archi.big_endian</a></span>; <span class="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="kwd">if</span> <span class="id"><a href="Archi.html#big_endian">Archi.big_endian</a></span> <span class="kwd">then</span> <span class="id"><a href="Values.html#Val.loword">Val.loword</a></span> <span class="id">rs</span>#<span class="id">src</span> <span class="kwd">else</span> <span class="id"><a href="Values.html#Val.hiword">Val.hiword</a></span> <span class="id">rs</span>#<span class="id">src</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> (<span class="id"><a href="alloc_proof.html#sel_val">sel_val</a></span> <span class="id">kind_second_word</span> <span class="id">rs</span>#<span class="id">src</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">by</span> (<span class="tactic">unfold</span> <span class="id">kind_second_word</span>; <span class="tactic">destruct</span> <span class="id"><a href="Archi.html#big_endian">Archi.big_endian</a></span>; <span class="tactic">reflexivity</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">m1</span> [<span class="id">STORE1</span> <span class="id">STORE2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="alloc_proof.html#exec_moves">exec_moves</a></span> <span class="id">mv1</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls1</span> [<span class="id">X</span> <span class="id">Y</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#add_equations_lessdef">add_equations_lessdef</a></span>. <span class="id">eexact</span> <span class="id">Heqo1</span>. <span class="id">eexact</span> <span class="id">Y</span>. <span class="tactic">intros</span> <span class="id">LD1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#add_equation_lessdef">add_equation_lessdef</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equations_satisf">add_equations_satisf</a></span>. <span class="id">eexact</span> <span class="id">Heqo1</span>. <span class="id">eexact</span> <span class="id">Y</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">intros</span> <span class="id">LD2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">ls2</span> := <span class="id"><a href="LTL.html#undef_regs">undef_regs</a></span> (<span class="id"><a href="Machregs.html#destroyed_by_store">destroyed_by_store</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> <span class="id">addr</span>) <span class="id">ls1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">SAT2</span>: <span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> <span class="id">rs</span> <span class="id">ls2</span> <span class="id">e1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#can_undef_satisf">can_undef_satisf</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equation_satisf">add_equation_satisf</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equations_satisf">add_equations_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Op.html#eval_addressing_lessdef">eval_addressing_lessdef</a></span>. <span class="id">eexact</span> <span class="id">LD1</span>. <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">a1</span>' [<span class="id">F1</span> <span class="id">G1</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">F1</span>': <span class="id"><a href="Op.html#eval_addressing">eval_addressing</a></span> <span class="id"><a href="alloc_proof.html#PRESERVATION.tge">tge</a></span> <span class="id">sp</span> <span class="id">addr</span> (<span class="id"><a href="LTL.html#reglist">reglist</a></span> <span class="id">ls1</span> <span class="id">args1</span>') = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">a1</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">F1</span>. <span class="tactic">apply</span> <span class="id"><a href="Op.html#eval_addressing_preserved">eval_addressing_preserved</a></span>. <span class="tactic">exact</span> <span class="id"><a href="alloc_proof.html#symbols_preserved">symbols_preserved</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Memory.html#Mem.storev_extends">Mem.storev_extends</a></span>. <span class="tactic">eauto</span>. <span class="id">eexact</span> <span class="id">STORE1</span>. <span class="id">eexact</span> <span class="id">G1</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">m1</span>' [<span class="id">STORE1</span>' <span class="id">EXT1</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="alloc_proof.html#exec_moves">exec_moves</a></span> <span class="id">mv2</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls3</span> [<span class="id">U</span> <span class="id">V</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#add_equations_lessdef">add_equations_lessdef</a></span>. <span class="id">eexact</span> <span class="id">Heqo</span>. <span class="id">eexact</span> <span class="id">V</span>. <span class="tactic">intros</span> <span class="id">LD3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#add_equation_lessdef">add_equation_lessdef</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equations_satisf">add_equations_satisf</a></span>. <span class="id">eexact</span> <span class="id">Heqo</span>. <span class="id">eexact</span> <span class="id">V</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">intros</span> <span class="id">LD4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Op.html#eval_addressing_lessdef">eval_addressing_lessdef</a></span>. <span class="id">eexact</span> <span class="id">LD3</span>. <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">a2</span>' [<span class="id">F2</span> <span class="id">G2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">F2</span>': <span class="id"><a href="Op.html#eval_addressing">eval_addressing</a></span> <span class="id"><a href="alloc_proof.html#PRESERVATION.tge">tge</a></span> <span class="id">sp</span> <span class="id">addr</span> (<span class="id"><a href="LTL.html#reglist">reglist</a></span> <span class="id">ls3</span> <span class="id">args2</span>') = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">a2</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">F2</span>. <span class="tactic">apply</span> <span class="id"><a href="Op.html#eval_addressing_preserved">eval_addressing_preserved</a></span>. <span class="tactic">exact</span> <span class="id"><a href="alloc_proof.html#symbols_preserved">symbols_preserved</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Op.html#eval_offset_addressing">eval_offset_addressing</a></span> <span class="id"><a href="alloc_proof.html#PRESERVATION.tge">tge</a></span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">F2</span>''.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">STOREX</span>: <span class="id">exists</span> <span class="id">m2</span>', <span class="id"><a href="Memory.html#Mem.storev">Mem.storev</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> <span class="id">m1</span>' (<span class="id"><a href="Values.html#Val.add">Val.add</a></span> <span class="id">a2</span>' (<span class="id"><a href="Values.html#Vint">Vint</a></span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> 4))) (<span class="id">ls3</span> (<span class="id"><a href="Locations.html#R">R</a></span> <span class="id">src2</span>')) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m2</span>' /\ <span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id">m</span>' <span class="id">m2</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">try</span> <span class="tactic">discriminate</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.storev_extends">Mem.storev_extends</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id">eexact</span> <span class="id">EXT1</span> | <span class="id">eexact</span> <span class="id">STORE2</span> | <span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.add_lessdef">Val.add_lessdef</a></span>; [<span class="id">eexact</span> <span class="id">G2</span>|<span class="tactic">eauto</span>] | <span class="tactic">eauto</span>]). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">STOREX</span> <span class="kwd">as</span> [<span class="id">m2</span>' [<span class="id">STORE2</span>' <span class="id">EXT2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">PLUS</span>. <span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#plus_left">plus_left</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_trans">star_trans</a></span>. <span class="id">eexact</span> <span class="id">X</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_left">star_left</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">eexact</span> <span class="id">F1</span>'. <span class="id">eexact</span> <span class="id">STORE1</span>'. <span class="tactic">eauto</span>. <span class="id">instantiate</span> (1 := <span class="id">ls2</span>). <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_trans">star_trans</a></span>. <span class="id">eexact</span> <span class="id">U</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_two">star_two</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="LTL_local.html#exec_Lstore">exec_Lstore</a></span> <span class="kwd">with</span> (<span class="id">m</span>' := <span class="id">m2</span>'). <span class="id">eexact</span> <span class="id">F2</span>''. <span class="tactic">discriminate</span>||<span class="tactic">exact</span> <span class="id">STORE2</span>'. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>. <span class="id">eresolvfp</span>. <span class="id">eresolvfp</span>. <span class="id">eresolvfp</span>. <span class="id">eresolvfp</span>. <span class="id">eresolvfp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">HSG</span> <span class="id">HTG</span>. <span class="tactic">destruct</span> <span class="id">a</span>; <span class="tactic">try</span> (<span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">discriminate</span>; <span class="tactic">fail</span>); <span class="id">inv</span> <span class="id">G1</span>; <span class="id">inv</span> <span class="id">G2</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">FP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#store_int64_fp_split">store_int64_fp_split</a></span>; <span class="tactic">eauto</span>. <span class="id">instantiate</span> (1:=<span class="id">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Memory.html#Mem.store_valid_access_3">Mem.store_valid_access_3</a></span>. <span class="tactic">exact</span> <span class="id">H1</span>. <span class="tactic">intros</span> [<span class="id">_</span> <span class="id">A</span>']. <span class="tactic">auto</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">simpl</span>. <span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:<span class="id">Cont</span>; [<span class="id">inv</span> <span class="id">Cont</span>|]. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#satisf_successors">satisf_successors</a></span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#can_undef_satisf">can_undef_satisf</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equation_satisf">add_equation_satisf</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equations_satisf">add_equations_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">enext</span> [<span class="id">P</span> <span class="id">Q</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.store_valid_block_1">Mem.store_valid_block_1</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.store_valid_block_1">Mem.store_valid_block_1</a></span>. <span class="tactic">exact</span> <span class="id">STORE2</span>'. <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.store_valid_block_1">Mem.store_valid_block_1</a></span>. <span class="tactic">exact</span> <span class="id">STORE1</span>'. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="MemClosures_local.html#unmapped_closed">MemClosures_local.unmapped_closed</a></span> <span class="id">mu</span> <span class="id">m1</span> <span class="id">m1</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="MemClosures_local.html#store_val_inject_unmapped_closed_preserved">MemClosures_local.store_val_inject_unmapped_closed_preserved</a></span>; <span class="tactic">try</span> (<span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eauto</span>; <span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Values.html#inject_id">inject_id</a></span>. <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_0_r">Z.add_0_r</a></span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="MemClosures_local.html#store_val_inject_unmapped_closed_preserved">MemClosures_local.store_val_inject_unmapped_closed_preserved</a></span>; <span class="tactic">try</span> <span class="tactic">exact</span> <span class="id">H3</span>; <span class="tactic">try</span> (<span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eauto</span>; <span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.store_valid_block_1">Mem.store_valid_block_1</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.store_valid_block_1">Mem.store_valid_block_1</a></span>. <span class="tactic">exact</span> <span class="id">STORE1</span>'. <span class="tactic">eauto</span>. <span class="tactic">exact</span> <span class="id">STORE2</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Values.html#inject_id">inject_id</a></span>. <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_0_r">Z.add_0_r</a></span>. <span class="tactic">exact</span> <span class="id">STORE2</span>'.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;call&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">sg</span> := <span class="id"><a href="RTL.html#funsig">RTL.funsig</a></span> <span class="id">fd</span>) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">args</span>' := <span class="id"><a href="Conventions1.html#loc_arguments">loc_arguments</a></span> <span class="id">sg</span>) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">res</span>' := <span class="id"><a href="Conventions1.html#loc_result">loc_result</a></span> <span class="id">sg</span>) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="alloc_proof.html#exec_moves">exec_moves</a></span> <span class="id">mv1</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls1</span> [<span class="id">A1</span> <span class="id">B1</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#find_function_translated">find_function_translated</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equations_args_satisf">add_equations_args_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">tfd</span> [<span class="id">E</span> <span class="id">F</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">SIG</span>: <span class="id"><a href="LTL.html#funsig">funsig</a></span> <span class="id">tfd</span> = <span class="id">sg</span>). <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#sig_function_translated">sig_function_translated</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">PLUS</span>. <span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#plus_left">plus_left</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">A1</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="id">eresolvfp</span>. <span class="id">eresolvfp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">FP</span>. <span class="tactic">split</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#analyze_successors">analyze_successors</a></span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>. <span class="id">left</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">enext</span> [<span class="id">U</span> <span class="id">V</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">WTI</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">exploit</span> (<span class="id"><a href="alloc_proof.html#exec_moves">exec_moves</a></span> <span class="id">mv2</span>). <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#function_return_satisf">function_return_satisf</a></span> <span class="kwd">with</span> (<span class="id">v</span> := <span class="id">v</span>) (<span class="id">ls_before</span> := <span class="id">ls1</span>) (<span class="id">ls_after</span> := <span class="id">ls0</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equation_ros_satisf">add_equation_ros_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equations_args_satisf">add_equations_args_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="RTLtyping.html#wt_regset_assign">wt_regset_assign</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">ls2</span> [<span class="id">A2</span> <span class="id">B2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">ls2</span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">A2</span>. <span class="id">constructor</span>. <span class="id">eresolvfp</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="alloc_proof.html#satisf_incr">satisf_incr</a></span> <span class="kwd">with</span> <span class="id">eafter</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">SIG</span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equations_args_lessdef">add_equations_args_lessdef</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">WTI</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H10</span>. <span class="tactic">apply</span> <span class="id"><a href="RTLtyping.html#wt_regset_list">wt_regset_list</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">red</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">WTI</span>. <span class="tactic">rewrite</span> <span class="id">SIG</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H10</span>. <span class="tactic">apply</span> <span class="id"><a href="RTLtyping.html#wt_regset_list">wt_regset_list</a></span>; <span class="tactic">auto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;tailcall&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">sg</span> := <span class="id"><a href="RTL.html#funsig">RTL.funsig</a></span> <span class="id">fd</span>) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">args</span>' := <span class="id"><a href="Conventions1.html#loc_arguments">loc_arguments</a></span> <span class="id">sg</span>) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Memory.html#Mem.free_parallel_extends">Mem.free_parallel_extends</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">m</span>'' [<span class="id">P</span> <span class="id">Q</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="alloc_proof.html#exec_moves">exec_moves</a></span> <span class="id">mv</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls1</span> [<span class="id">A1</span> <span class="id">B1</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#find_function_translated">find_function_translated</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equations_args_satisf">add_equations_args_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">tfd</span> [<span class="id">E</span> <span class="id">F</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">SIG</span>: <span class="id"><a href="LTL.html#funsig">funsig</a></span> <span class="id">tfd</span> = <span class="id">sg</span>). <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#sig_function_translated">sig_function_translated</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">PLUS</span>. <span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#plus_left">plus_left</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">A1</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">E</span>. <span class="tactic">apply</span> <span class="id"><a href="alloc_proof.html#find_function_tailcall">find_function_tailcall</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="LTL.html#fn_stacksize">fn_stacksize</a></span> <span class="id">tf</span>) <span class="kwd">with</span> (<span class="id"><a href="RTL.html#fn_stacksize">RTL.fn_stacksize</a></span> <span class="id">f</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="alloc_proof.html#transf_function_inv">transf_function_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">FUN</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="LTL.html#fn_stacksize">fn_stacksize</a></span> <span class="id">tf</span>) <span class="kwd">with</span> (<span class="id"><a href="RTL.html#fn_stacksize">RTL.fn_stacksize</a></span> <span class="id">f</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="alloc_proof.html#transf_function_inv">transf_function_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">FUN</span>); <span class="tactic">auto</span>. <span class="id">eresolvfp</span>. <span class="id">eresolvfp</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">FP</span>. <span class="tactic">eapply</span> <span class="id"><a href="LDSimDefs_local.html#fp_match_id">fp_match_id</a></span>; <span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eauto</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#match_stackframes_change_sig">match_stackframes_change_sig</a></span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">SIG</span>. <span class="tactic">rewrite</span> <span class="id">e0</span>. <span class="id">decEq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="alloc_proof.html#transf_function_inv">transf_function_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">FUN</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">SIG</span>. <span class="tactic">rewrite</span> <span class="id"><a href="alloc_proof.html#return_regs_arg_values">return_regs_arg_values</a></span>; <span class="tactic">auto</span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equations_args_lessdef">add_equations_args_lessdef</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">WTI</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H8</span>. <span class="tactic">apply</span> <span class="id"><a href="RTLtyping.html#wt_regset_list">wt_regset_list</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="alloc_proof.html#return_regs_agree_callee_save">return_regs_agree_callee_save</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">SIG</span>. <span class="id">inv</span> <span class="id">WTI</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H8</span>. <span class="tactic">apply</span> <span class="id"><a href="RTLtyping.html#wt_regset_list">wt_regset_list</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.valid_block_free_1">Mem.valid_block_free_1</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.valid_block_free_1">Mem.valid_block_free_1</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="MemClosures_local.html#free_inject_unmapped_closed_preserved">MemClosures_local.free_inject_unmapped_closed_preserved</a></span>; <span class="tactic">try</span> (<span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eauto</span>; <span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cbv</span>; <span class="tactic">eauto</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
<br/>
&nbsp;builtin&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">exploit</span> (<span class="id"><a href="alloc_proof.html#exec_moves">exec_moves</a></span> <span class="id">mv1</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls1</span> [<span class="id">A1</span> <span class="id">B1</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#add_equations_builtin_eval">add_equations_builtin_eval</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#add_equations_builtin_args_fp_lessdef">add_equations_builtin_args_fp_lessdef</a></span>; <span class="tactic">eauto</span>. <span class="tactic">destruct</span> <span class="id">ef</span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">D</span>' (<span class="id">C</span> &amp; <span class="id">vargs</span>' &amp; <span class="id">vres</span>' &amp; <span class="id">m</span>'' &amp; <span class="id">D</span> &amp; <span class="id">E</span> &amp; <span class="id">F</span> &amp; <span class="id">G</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="helpers.html#i64ext_effects">helpers.i64ext_effects</a></span>; <span class="tactic">try</span> <span class="tactic">exact</span> <span class="id">E</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">X</span> <span class="id">_</span>]; <span class="tactic">subst</span> <span class="id">m</span>''.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">WTRS</span>': <span class="id"><a href="RTLtyping.html#wt_regset">wt_regset</a></span> <span class="id">env</span> (<span class="id"><a href="Registers.html#regmap_setres">regmap_setres</a></span> <span class="id">res</span> <span class="id">vres</span> <span class="id">rs</span>)) <span class="tactic">by</span> (<span class="tactic">eapply</span> <span class="id"><a href="RTLtyping.html#wt_exec_Ibuiltin">wt_exec_Ibuiltin</a></span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">ls2</span> := <span class="id"><a href="Locations.html#Locmap.setres">Locmap.setres</a></span> <span class="id">res</span>' <span class="id">vres</span>' (<span class="id"><a href="LTL.html#undef_regs">undef_regs</a></span> (<span class="id"><a href="Machregs.html#destroyed_by_builtin">destroyed_by_builtin</a></span> <span class="id">ef</span>) <span class="id">ls1</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="alloc_proof.html#satisf">satisf</a></span> (<span class="id"><a href="Registers.html#regmap_setres">regmap_setres</a></span> <span class="id">res</span> <span class="id">vres</span> <span class="id">rs</span>) <span class="id">ls2</span> <span class="id">e0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#parallel_set_builtin_res_satisf">parallel_set_builtin_res_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#can_undef_satisf">can_undef_satisf</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="alloc_proof.html#exec_moves">exec_moves</a></span> <span class="id">mv2</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls3</span> [<span class="id">A3</span> <span class="id">B3</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">PLUS</span>. <span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#plus_left">plus_left</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_trans">star_trans</a></span>. <span class="id">eexact</span> <span class="id">A1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_left">star_left</a></span>. <span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Events.html#eval_builtin_args_preserved">eval_builtin_args_preserved</a></span> <span class="kwd">with</span> (<span class="id">ge1</span> := <span class="id"><a href="alloc_proof.html#PRESERVATION.sge">sge</a></span>); <span class="tactic">eauto</span>. <span class="tactic">exact</span> <span class="id"><a href="alloc_proof.html#symbols_preserved">symbols_preserved</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="MemOpFP.html#eval_builtin_args_fp_preserved">MemOpFP.eval_builtin_args_fp_preserved</a></span>. <span class="tactic">exact</span> <span class="id"><a href="alloc_proof.html#symbols_preserved">symbols_preserved</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Events.html#external_call_symbols_preserved">external_call_symbols_preserved</a></span>. <span class="tactic">apply</span> <span class="id"><a href="alloc_proof.html#senv_preserved">senv_preserved</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">instantiate</span> (1 := <span class="id">ls2</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">A3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">eresolvfp</span>. <span class="id">eresolvfp</span>. <span class="id">eresolvfp</span>. <span class="id">eresolvfp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">FP</span>. <span class="tactic">eapply</span> <span class="id"><a href="LDSimDefs_local.html#fp_match_id">fp_match_id</a></span>; <span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eauto</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#satisf_successors">satisf_successors</a></span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">enext</span> [<span class="id">U</span> <span class="id">V</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;cond&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="alloc_proof.html#exec_moves">exec_moves</a></span> <span class="id">mv</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls1</span> [<span class="id">A1</span> <span class="id">B1</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Op_fp.html#eval_condition_lessdef_fp">eval_condition_lessdef_fp</a></span>; <span class="tactic">try</span> <span class="id">eassumption</span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equations_lessdef">add_equations_lessdef</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">fp</span>' [<span class="id">CFP</span> <span class="id">INJFP</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Op_fp.html#fp_inject_fp_match">fp_inject_fp_match</a></span> <span class="kwd">in</span> <span class="id">INJFP</span>; <span class="tactic">try</span> (<span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eauto</span>; <span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">PLUS</span>. <span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#plus_left">plus_left</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">A1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="tactic">eapply</span> <span class="id"><a href="Op.html#eval_condition_lessdef">eval_condition_lessdef</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equations_lessdef">add_equations_lessdef</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="id">eresolvfp</span>. <span class="id">eresolvfp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">FP</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#satisf_successors">satisf_successors</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">instantiate</span> (1 := <span class="kwd">if</span> <span class="id">b</span> <span class="kwd">then</span> <span class="id">ifso</span> <span class="kwd">else</span> <span class="id">ifnot</span>). <span class="tactic">simpl</span>. <span class="tactic">destruct</span> <span class="id">b</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#can_undef_satisf">can_undef_satisf</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equations_satisf">add_equations_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">enext</span> [<span class="id">U</span> <span class="id">V</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;jumptable&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="alloc_proof.html#exec_moves">exec_moves</a></span> <span class="id">mv</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls1</span> [<span class="id">A1</span> <span class="id">B1</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>) (<span class="id">ls1</span> (<span class="id"><a href="Locations.html#R">R</a></span> <span class="id">arg</span>'))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H0</span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equation_lessdef">add_equation_lessdef</a></span> <span class="kwd">with</span> (<span class="id">q</span> := <span class="id">Eq</span> <span class="id">Full</span> <span class="id">arg</span> (<span class="id"><a href="Locations.html#R">R</a></span> <span class="id">arg</span>')); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">HSG</span> <span class="id">HTG</span>; <span class="id">inv</span> <span class="id">H2</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">PLUS</span>. <span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#plus_left">plus_left</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">A1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">FP</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="alloc_proof.html#satisf_successors">satisf_successors</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">instantiate</span> (1 := <span class="id">pc</span>'). <span class="tactic">simpl</span>. <span class="tactic">eapply</span> <span class="id"><a href="Coqlib.html#list_nth_z_in">list_nth_z_in</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#can_undef_satisf">can_undef_satisf</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equation_satisf">add_equation_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">enext</span> [<span class="id">U</span> <span class="id">V</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;return&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="alloc_proof.html#transf_function_inv">transf_function_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">FUN</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Memory.html#Mem.free_parallel_extends">Mem.free_parallel_extends</a></span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">H10</span>. <span class="tactic">intros</span> [<span class="id">m</span>'' [<span class="id">P</span> <span class="id">Q</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">HSG</span> <span class="id">HTG</span>. <span class="id">inv</span> <span class="id">WTI</span>; <span class="id">MonadInv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="comment">(*&nbsp;without&nbsp;an&nbsp;argument&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="alloc_proof.html#exec_moves">exec_moves</a></span> <span class="id">mv</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls1</span> [<span class="id">A1</span> <span class="id">B1</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">PLUS</span>. <span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#plus_left">plus_left</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">A1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">FP</span>. <span class="tactic">eapply</span> <span class="id"><a href="LDSimDefs_local.html#fp_match_id">fp_match_id</a></span>; <span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eauto</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="alloc_proof.html#return_regs_agree_callee_save">return_regs_agree_callee_save</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.valid_block_free_1">Mem.valid_block_free_1</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.valid_block_free_1">Mem.valid_block_free_1</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="MemClosures_local.html#free_inject_unmapped_closed_preserved">MemClosures_local.free_inject_unmapped_closed_preserved</a></span>; <span class="tactic">try</span> (<span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eauto</span>; <span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cbv</span>; <span class="tactic">eauto</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++ <span class="comment">(*&nbsp;with&nbsp;an&nbsp;argument&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="alloc_proof.html#exec_moves">exec_moves</a></span> <span class="id">mv</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ls1</span> [<span class="id">A1</span> <span class="id">B1</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">PLUS</span>. <span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#plus_left">plus_left</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">A1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">FP</span>. <span class="tactic">eapply</span> <span class="id"><a href="LDSimDefs_local.html#fp_match_id">fp_match_id</a></span>; <span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eauto</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H11</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">replace</span> (<span class="id"><a href="Locations.html#Locmap.getpair">Locmap.getpair</a></span> (<span class="id"><a href="AST.html#map_rpair">map_rpair</a></span> <span class="id"><a href="Locations.html#R">R</a></span> (<span class="id"><a href="Conventions1.html#loc_result">loc_result</a></span> (<span class="id"><a href="RTL.html#fn_sig">RTL.fn_sig</a></span> <span class="id">f</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="LTL.html#return_regs">return_regs</a></span> (<span class="id"><a href="LTL.html#parent_locset">parent_locset</a></span> <span class="id">ts</span>) <span class="id">ls1</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">with</span> (<span class="id"><a href="Locations.html#Locmap.getpair">Locmap.getpair</a></span> (<span class="id"><a href="AST.html#map_rpair">map_rpair</a></span> <span class="id"><a href="Locations.html#R">R</a></span> (<span class="id"><a href="Conventions1.html#loc_result">loc_result</a></span> (<span class="id"><a href="RTL.html#fn_sig">RTL.fn_sig</a></span> <span class="id">f</span>))) <span class="id">ls1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#add_equations_res_lessdef">add_equations_res_lessdef</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H13</span>. <span class="tactic">apply</span> <span class="id">WTRS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Conventions1.html#loc_result_caller_save">loc_result_caller_save</a></span> (<span class="id"><a href="RTL.html#fn_sig">RTL.fn_sig</a></span> <span class="id">f</span>)). <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Conventions1.html#loc_result">loc_result</a></span> (<span class="id"><a href="RTL.html#fn_sig">RTL.fn_sig</a></span> <span class="id">f</span>)); <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">A</span>; <span class="tactic">rewrite</span> <span class="id">A</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">A</span> <span class="id">B</span>]; <span class="tactic">rewrite</span> <span class="id">A</span>, <span class="id">B</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="alloc_proof.html#return_regs_agree_callee_save">return_regs_agree_callee_save</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="AST.html#proj_sig_res">proj_sig_res</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H11</span>; <span class="tactic">rewrite</span> <span class="id">H13</span>. <span class="tactic">apply</span> <span class="id">WTRS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.valid_block_free_1">Mem.valid_block_free_1</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.valid_block_free_1">Mem.valid_block_free_1</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="MemClosures_local.html#free_inject_unmapped_closed_preserved">MemClosures_local.free_inject_unmapped_closed_preserved</a></span>; <span class="tactic">try</span> (<span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eauto</span>; <span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">cbv</span>; <span class="tactic">eauto</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>. <br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;internal&nbsp;function&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">HSG</span> <span class="id">HTG</span>; <span class="id">monadInv</span> <span class="id">FUN</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="alloc_proof.html#transf_function_inv">transf_function_inv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">EQ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Memory.html#Mem.alloc_extends">Mem.alloc_extends</a></span>; <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zle_refl">Zle_refl</a></span>. <span class="tactic">rewrite</span> <span class="id">H8</span>; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zorder.html#Zle_refl">Zle_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">m</span>'' [<span class="id">U</span> <span class="id">V</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">WTRS</span>: <span class="id"><a href="RTLtyping.html#wt_regset">wt_regset</a></span> <span class="id">env</span> (<span class="id"><a href="RTL.html#init_regs">init_regs</a></span> <span class="id">args</span> (<span class="id"><a href="RTL.html#fn_params">fn_params</a></span> <span class="id">f</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="RTLtyping.html#wt_init_regs">wt_init_regs</a></span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id">wt_params</span>. <span class="tactic">rewrite</span> <span class="id">H9</span>. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="alloc_proof.html#exec_moves">exec_moves</a></span> <span class="id">mv</span>). <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#can_undef_satisf">can_undef_satisf</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#compat_entry_satisf">compat_entry_satisf</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="alloc_proof.html#call_regs_param_values">call_regs_param_values</a></span>. <span class="id">eexact</span> <span class="id">ARGS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exact</span> <span class="id">WTRS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">ls1</span> [<span class="id">A</span> <span class="id">B</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">PLUS</span>. <span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#plus_left">plus_left</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_left">star_left</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#star_right">star_right</a></span>. <span class="id">eexact</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="id">resolvfp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">FP</span>. <span class="tactic">unfold</span> <span class="id"><a href="MemOpFP.html#alloc_fp">MemOpFP.alloc_fp</a></span>. <span class="id">erewrite</span> <span class="id"><a href="Memory.html#Mem.mext_next">Mem.mext_next</a></span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">H8</span>. <span class="tactic">eapply</span> <span class="id"><a href="LDSimDefs_local.html#fp_match_id">fp_match_id</a></span>; <span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.valid_block_alloc">Mem.valid_block_alloc</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.valid_block_alloc">Mem.valid_block_alloc</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="MemClosures_local.html#unchanged_on_unmapped_closed_preserved">MemClosures_local.unchanged_on_unmapped_closed_preserved</a></span>; <span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.alloc_unchanged_on">Mem.alloc_unchanged_on</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.alloc_unchanged_on">Mem.alloc_unchanged_on</a></span>; <span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;external&nbsp;function&nbsp;(i64helpers)&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">HSG</span> <span class="id">HTG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Events.html#external_call_mem_extends">external_call_mem_extends</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">v</span>' [<span class="id">m</span>'' [<span class="id">F</span> [<span class="id">G</span> [<span class="id">J</span> <span class="id">K</span>]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="helpers.html#i64ext_effects">helpers.i64ext_effects</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">X</span> <span class="id">_</span>]; <span class="tactic">subst</span> <span class="id">m</span>''.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">FUN</span>; <span class="id">inv</span> <span class="id">FUN</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">PLUS</span>. <span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#plus_one">plus_one</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Events.html#external_call_symbols_preserved">external_call_symbols_preserved</a></span> <span class="kwd">with</span> (<span class="id">ge1</span> := <span class="id"><a href="alloc_proof.html#PRESERVATION.sge">sge</a></span>); <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="alloc_proof.html#senv_preserved">senv_preserved</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">FP</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Conventions1.html#loc_result">loc_result</a></span> (<span class="id"><a href="AST.html#ef_sig">ef_sig</a></span> <span class="id">ef</span>)) <span class="id">eqn</span>:<span class="id">RES</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Locations.html#Locmap.gss">Locmap.gss</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Conventions1.html#loc_result_pair">loc_result_pair</a></span> (<span class="id"><a href="AST.html#ef_sig">ef_sig</a></span> <span class="id">ef</span>)); <span class="tactic">rewrite</span> <span class="id">RES</span>; <span class="tactic">intros</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span> &amp; <span class="id">D</span> &amp; <span class="id">E</span>). <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Events.html#external_call_well_typed">external_call_well_typed</a></span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="AST.html#proj_sig_res">proj_sig_res</a></span>; <span class="tactic">rewrite</span> <span class="id">B</span>. <span class="tactic">intros</span> <span class="id">WTRES</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Locations.html#Locmap.gss">Locmap.gss</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Locations.html#Locmap.gso">Locmap.gso</a></span> <span class="tactic">by</span> (<span class="tactic">red</span>; <span class="tactic">auto</span>). <span class="tactic">rewrite</span> <span class="id"><a href="Locations.html#Locmap.gss">Locmap.gss</a></span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="alloc_proof.html#val_longofwords_eq">val_longofwords_eq</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> (<span class="id">AG</span> <span class="id">l</span> <span class="id">H2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span>; <span class="tactic">apply</span> <span class="id"><a href="Locations.html#Locmap.gpo">Locmap.gpo</a></span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">X</span>: <span class="kwd">forall</span> <span class="id">r</span>, <span class="id"><a href="Conventions1.html#is_callee_save">is_callee_save</a></span> <span class="id"><a href="alloc_proof.html#r">r</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt; <span class="id"><a href="Locations.html#Loc.diff">Loc.diff</a></span> <span class="id">l</span> (<span class="id"><a href="Locations.html#R">R</a></span> <span class="id"><a href="alloc_proof.html#r">r</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">l</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">congruence</span>. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Conventions1.html#loc_result_caller_save">loc_result_caller_save</a></span> (<span class="id"><a href="AST.html#ef_sig">ef_sig</a></span> <span class="id">ef</span>)). <span class="tactic">destruct</span> (<span class="id"><a href="Conventions1.html#loc_result">loc_result</a></span> (<span class="id"><a href="AST.html#ef_sig">ef_sig</a></span> <span class="id">ef</span>)); <span class="tactic">simpl</span>; <span class="tactic">intuition</span> <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Events.html#external_call_well_typed">external_call_well_typed</a></span>; <span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;return&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">HSG</span> <span class="id">HTG</span>; <span class="id">inv</span> <span class="id">STACKS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">STEPS</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">WTRES0</span>; <span class="tactic">auto</span>. <span class="tactic">intros</span> [<span class="id">ls2</span> [<span class="id">A</span> <span class="id">B</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">PLUS</span>. <span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#plus_left">plus_left</a></span>. <span class="id">constructor</span>. <span class="id">eexact</span> <span class="id">A</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">FP</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="RTLtyping.html#wt_regset_assign">wt_regset_assign</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id">WTRES0</span>; <span class="tactic">auto</span>.<br/>
<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;at&nbsp;external&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">unfold</span> <span class="id"><a href="RTL_local.html#at_external">RTL_local.at_external</a></span>, <span class="id"><a href="LTL_local.html#at_external">at_external</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">i</span> <span class="id">mu</span> <span class="id">Hfp</span> <span class="id">Lfp</span> <span class="id">Hcore</span> <span class="id">Hm</span> <span class="id">Lcore</span> <span class="id">Lm</span> <span class="id">f</span> <span class="id">sg</span> <span class="id">argSrc</span> <span class="id">MS</span> <span class="id">ATEXT</span> <span class="id">RC</span> <span class="id">GARG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">HSG</span>: <span class="id"><a href="alloc_proof.html#PRESERVATION.sG">sG</a></span> = <span class="id"><a href="alloc_proof.html#PRESERVATION.sge">sge</a></span>) <span class="tactic">by</span> (<span class="id">inv</span> <span class="id"><a href="alloc_proof.html#PRESERVATION.GE_INIT">GE_INIT</a></span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">HTG</span>: <span class="id"><a href="alloc_proof.html#PRESERVATION.tG">tG</a></span> = <span class="id"><a href="alloc_proof.html#PRESERVATION.tge">tge</a></span>) <span class="tactic">by</span> (<span class="id">inv</span> <span class="id"><a href="alloc_proof.html#PRESERVATION.TGE_INIT">TGE_INIT</a></span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hcore</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">f0</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">e</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">HSG</span> <span class="kwd">in</span> <span class="id">ATEXT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="CUAST.html#invert_symbol_from_string">invert_symbol_from_string</a></span> <span class="id"><a href="alloc_proof.html#PRESERVATION.sge">sge</a></span> <span class="id">name</span>) <span class="id">eqn</span>:<span class="id">SYMBNAME</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#peq">peq</a></span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#peq">peq</a></span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">HSG</span> <span class="id">HTG</span>; <span class="id">inv</span> <span class="id">ATEXT</span>. <span class="id">inv</span> <span class="id">MS</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">FUN</span>. <span class="id">inv</span> <span class="id">FUN</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="CUAST.html#match_genvs_invert_symbol_from_string_preserved">match_genvs_invert_symbol_from_string_preserved</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#peq">peq</a></span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#peq">peq</a></span>; <span class="tactic">try</span> <span class="id">contradiction</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexists</span> 0%<span class="id">nat</span>, <span class="id">_</span>. <span class="tactic">split</span>. <span class="tactic">eauto</span>. <span class="tactic">split</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">unfold</span> <span class="id"><a href="LDSimDefs.html#arg_rel">LDSimDefs.arg_rel</a></span>. <span class="id">revert</span> <span class="id">AGMU</span> <span class="id">ARGS</span> <span class="id">GARG</span>; <span class="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">p</span> : <span class="id"><a href="AST.html#rpair">rpair</a></span> <span class="id"><a href="Locations.html#loc">loc</a></span> =&gt; <span class="id"><a href="Locations.html#Locmap.getpair">Locmap.getpair</a></span> <span class="id"><a href="alloc_proof.html#p">p</a></span> <span class="id">ls</span>) (<span class="id"><a href="Conventions1.html#loc_arguments">loc_arguments</a></span> <span class="id">sg</span>)). <span class="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">argSrc</span>; <span class="tactic">intros</span>. <span class="tactic">simpl</span>. <span class="id">inv</span> <span class="id">ARGS</span>. <span class="tactic">auto</span>. <span class="id">inv</span> <span class="id">ARGS</span>. <span class="id">inv</span> <span class="id">GARG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>; <span class="tactic">auto</span>. <span class="tactic">clear</span> <span class="id">H3</span> <span class="id">H4</span> <span class="id">IHargSrc</span>. <span class="id">inv</span> <span class="id">H1</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> <span class="id">v2</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="tactic">eapply</span> <span class="id"><a href="Blockset.html#Bset.inj_dom">Bset.inj_dom</a></span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H2</span>. <span class="id">exploit</span> <span class="id">proper_mu_inject_incr</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>; <span class="tactic">rewrite</span> <span class="id">H</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">econstructor</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>; <span class="tactic">rewrite</span> <span class="id">H</span>. <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span>; <span class="tactic">auto</span>.  }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="MemClosures_local.html#unmapped_closed_reach_closed_preserved_by_extends">MemClosures_local.unmapped_closed_reach_closed_preserved_by_extends</a></span>; <span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="LDSimDefs_local.html#extends_reach_closed_implies_inject">extends_reach_closed_implies_inject</a></span>; <span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id">Injections.fp_match_emp</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">HTG</span>. <span class="tactic">eapply</span> <span class="id"><a href="CUAST.html#match_cu_match_genv">match_cu_match_genv</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id"><a href="alloc_proof.html#PRESERVATION.GE_INIT">GE_INIT</a></span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id"><a href="alloc_proof.html#PRESERVATION.TGE_INIT">TGE_INIT</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> <span class="id">f1</span>; <span class="id">monadInv</span> <span class="id">H0</span>; <span class="tactic">auto</span>.<br/>
<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;after&nbsp;external&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="LTL_local.html#after_external">LTL_local.after_external</a></span>, <span class="id"><a href="LTL_local.html#after_external">after_external</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">i</span> <span class="id">mu</span> <span class="id">Hcore</span> <span class="id">Hm</span> <span class="id">Lcore</span> <span class="id">Lm</span> <span class="id">oresSrc</span> <span class="id">Hcore</span>' <span class="id">oresTgt</span> <span class="id">MS</span> <span class="id">GRES</span> <span class="id">AFTEXT</span> <span class="id">RESREL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">HSG</span>: <span class="id"><a href="alloc_proof.html#PRESERVATION.sG">sG</a></span> = <span class="id"><a href="alloc_proof.html#PRESERVATION.sge">sge</a></span>) <span class="tactic">by</span> (<span class="id">inv</span> <span class="id"><a href="alloc_proof.html#PRESERVATION.GE_INIT">GE_INIT</a></span>; <span class="tactic">auto</span>). <span class="tactic">assert</span> (<span class="id">HTG</span>: <span class="id"><a href="alloc_proof.html#PRESERVATION.tG">tG</a></span> = <span class="id"><a href="alloc_proof.html#PRESERVATION.tge">tge</a></span>) <span class="tactic">by</span> (<span class="id">inv</span> <span class="id"><a href="alloc_proof.html#PRESERVATION.TGE_INIT">TGE_INIT</a></span>; <span class="tactic">auto</span>). <span class="id">revert</span> <span class="id">HSG</span> <span class="id">HTG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hcore</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">f</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">e</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MS</span>. <span class="id">monadInv</span> <span class="id">FUN</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="RTLtyping_local.html#wt_after_external">wt_after_external</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span> <span class="id">WTC</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Hcore</span>' = <span class="id"><a href="RTL_local.html#Core_Returnstate">RTL_local.Core_Returnstate</a></span> <span class="id">stack</span> (<span class="kwd">match</span> <span class="id">oresSrc</span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v</span> =&gt; <span class="id">v</span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="Values.html#Vundef">Vundef</a></span> <span class="kwd">end</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">destruct</span> <span class="id">oresSrc</span>, (<span class="id"><a href="AST.html#sig_res">sig_res</a></span> <span class="id">sg</span>); <span class="id">inv</span> <span class="id">AFTEXT</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="val_casted.html#val_has_type_func">val_has_type_func</a></span> <span class="id">v</span> <span class="id">t</span>); <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="kwd">match</span> <span class="id">oresSrc</span>, (<span class="id"><a href="AST.html#sig_res">sig_res</a></span> <span class="id">sg</span>) <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">ty</span> =&gt; <span class="id"><a href="Values.html#Val.has_type">Val.has_type</a></span> <span class="id">v</span> <span class="id">ty</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>) <span class="kwd">as</span> <span class="id">HRES</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">destruct</span> <span class="id">oresSrc</span>, (<span class="id"><a href="AST.html#sig_res">sig_res</a></span> <span class="id">sg</span>); <span class="id">inv</span> <span class="id">AFTEXT</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="val_casted.html#val_has_type_func">val_has_type_func</a></span> <span class="id">v</span> <span class="id">t</span>) <span class="id">eqn</span>:<span class="id">A</span>; <span class="id">inv</span> <span class="id">H1</span>. <span class="tactic">apply</span> <span class="id"><a href="val_casted.html#val_has_type_funcP">val_has_type_funcP</a></span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">AFTEXT</span>. <span class="tactic">rename</span> <span class="id">H</span> <span class="id">into</span> <span class="id">AFTEXT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="LTL_local.html#Core_Returnstate">Core_Returnstate</a></span> <span class="id">ts</span> (<span class="id"><a href="Locations.html#Locmap.setpair">Locmap.setpair</a></span> (<span class="id"><a href="Conventions1.html#loc_result">loc_result</a></span> <span class="id">sg</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">match</span> <span class="id">oresTgt</span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v</span> =&gt; <span class="id">v</span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="Values.html#Vundef">Vundef</a></span> <span class="kwd">end</span>) <span class="id">ls</span>) <span class="id">sigres0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">destruct</span> <span class="id">oresSrc</span>, <span class="id">oresTgt</span>, (<span class="id"><a href="AST.html#sig_res">sig_res</a></span> <span class="id">sg</span>); <span class="tactic">try</span> <span class="id">contradiction</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">RESREL</span>; <span class="tactic">destruct</span> <span class="id">t</span>; <span class="tactic">try</span> <span class="id">contradiction</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">HRES</span>. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">Hm</span>' <span class="id">Lm</span>' <span class="id">HLRELY</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">HLRELY</span> <span class="kwd">as</span> [<span class="id">HRELY</span> <span class="id">LRELY</span> <span class="id">INV</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> 0%<span class="id">nat</span>. <span class="tactic">subst</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="Locations.html#Locmap.getpair">Locmap.getpair</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="Conventions1.html#loc_result">loc_result</a></span> <span class="id">sg</span>) <span class="id">eqn</span>:<span class="id">RESREG</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Locations.html#Locmap.gss">Locmap.gss</a></span>. <span class="tactic">destruct</span> <span class="id">oresSrc</span>, <span class="id">oresTgt</span>, (<span class="id"><a href="AST.html#sig_res">sig_res</a></span> <span class="id">sg</span>); <span class="id">inv</span> <span class="id">RESREL</span>; <span class="tactic">auto</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">AGMU</span>. <span class="tactic">apply</span> <span class="id">proper_mu_inject_incr</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="Conventions1.html#loc_result_pair">loc_result_pair</a></span> <span class="id">sg</span>). <span class="tactic">rewrite</span> <span class="id">RESREG</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> (<span class="id">A</span> &amp; <span class="id">B</span> &amp; <span class="id">C</span> &amp; <span class="id">D</span> &amp; <span class="id">E</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Locations.html#Locmap.gss">Locmap.gss</a></span>. <span class="tactic">simpl</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Locations.html#Locmap.gso">Locmap.gso</a></span> <span class="tactic">by</span> (<span class="tactic">red</span>; <span class="tactic">auto</span>). <span class="tactic">rewrite</span> <span class="id"><a href="Locations.html#Locmap.gss">Locmap.gss</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">oresSrc</span>, <span class="id">oresTgt</span>, (<span class="id"><a href="AST.html#sig_res">sig_res</a></span> <span class="id">sg</span>); <span class="id">inv</span> <span class="id">RESREL</span>; <span class="tactic">auto</span>; <span class="id">inv</span> <span class="id">B</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="alloc_proof.html#val_longofwords_eq">val_longofwords_eq</a></span>; <span class="tactic">auto</span>. <span class="tactic">eapply</span> <span class="id"><a href="InjRels.html#proper_mu_inject_incr">proper_mu_inject_incr</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span>, <span class="id"><a href="alloc_proof.html#val_longofwords_eq">val_longofwords_eq</a></span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">red</span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> (<span class="id">AG</span> <span class="id">l</span> <span class="id">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span>; <span class="tactic">apply</span> <span class="id"><a href="Locations.html#Locmap.gpo">Locmap.gpo</a></span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">X</span>: <span class="kwd">forall</span> <span class="id">r</span>, <span class="id"><a href="Conventions1.html#is_callee_save">is_callee_save</a></span> <span class="id"><a href="alloc_proof.html#r">r</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt; <span class="id"><a href="Locations.html#Loc.diff">Loc.diff</a></span> <span class="id">l</span> (<span class="id"><a href="Locations.html#R">R</a></span> <span class="id"><a href="alloc_proof.html#r">r</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">l</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">congruence</span>. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Conventions1.html#loc_result_caller_save">loc_result_caller_save</a></span> <span class="id">sg</span>). <span class="tactic">destruct</span> (<span class="id"><a href="Conventions1.html#loc_result">loc_result</a></span> <span class="id">sg</span>); <span class="tactic">simpl</span>; <span class="tactic">intuition</span> <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eapply</span> <span class="id"><a href="LDSimDefs_local.html#extends_rely_extends">extends_rely_extends</a></span>; <span class="tactic">eauto</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="AST.html#proj_sig_res">proj_sig_res</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="AST.html#sig_res">sig_res</a></span> <span class="id">sg</span>), <span class="id">oresSrc</span>; <span class="tactic">auto</span>; <span class="id">contradiction</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> ? <span class="id">S</span>. <span class="tactic">apply</span> <span class="id">SVALID</span> <span class="kwd">in</span> <span class="id">S</span>. <span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="kwd">in</span> *. <span class="id">inv</span> <span class="id">HRELY</span>. <span class="tactic">rewrite</span> <span class="id">EQNEXT</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> ? <span class="id">T</span>. <span class="tactic">apply</span> <span class="id">TVALID</span> <span class="kwd">in</span> <span class="id">T</span>. <span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="kwd">in</span> *. <span class="id">inv</span> <span class="id">LRELY</span>. <span class="tactic">rewrite</span> <span class="id">EQNEXT</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">LRELY</span>. <span class="tactic">eapply</span> <span class="id"><a href="MemClosures_local.html#reach_closed_unmapped_closed">MemClosures_local.reach_closed_unmapped_closed</a></span>; <span class="tactic">eauto</span>.    <br/>
<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;halt&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>.  <span class="tactic">unfold</span> <span class="id"><a href="RTL_local.html#halted">RTL_local.halted</a></span>, <span class="id"><a href="LTL_local.html#halted">halted</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">i</span> <span class="id">mu</span> <span class="id">Hfp</span> <span class="id">Lfp</span> <span class="id">Hcore</span> <span class="id">Hm</span> <span class="id">Lcore</span> <span class="id">Lm</span> <span class="id">resSrc</span> <span class="id">MS</span> <span class="id">HALT</span> <span class="id">RC</span> <span class="id">GRES</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hcore</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="tactic">destruct</span> <span class="id">stack</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">HALT</span>. <span class="id">inv</span> <span class="id">MS</span>. <span class="id">inv</span> <span class="id">STACKS</span>. <span class="tactic">clear</span> <span class="id">AG</span>. <span class="id">exists</span> <span class="id">resSrc</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">erewrite</span> (<span class="id"><a href="Conventions1.html#loc_result_exten">Conventions1.loc_result_exten</a></span> <span class="id">_</span> <span class="id">sg</span>) ; <span class="tactic">eauto</span>. <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="val_casted.html#get_result">get_result</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="Conventions1.html#loc_result">loc_result</a></span> <span class="id">sg</span>); <span class="tactic">simpl</span> <span class="kwd">in</span> *; (<span class="id">inv</span> <span class="id">RES</span>; <span class="tactic">auto</span>; <span class="id">contradiction</span>). }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">revert</span> <span class="id">AGMU</span> <span class="id">GRES</span>. <span class="tactic">clear</span>; <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">resSrc</span>; <span class="tactic">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">GRES</span>. <span class="id">inv</span> <span class="id">AGMU</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Blockset.html#Bset.inj_dom">Bset.inj_dom</a></span> <span class="kwd">in</span> <span class="id">GRES</span>; <span class="tactic">eauto</span>. <span class="tactic">destruct</span> <span class="id">GRES</span> <span class="kwd">as</span> [<span class="id">b</span>' <span class="id">INJ</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">proper_mu_inject_incr</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>; <span class="tactic">rewrite</span> <span class="id">INJ</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">A</span>. <span class="id">inv</span> <span class="id">A</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>; <span class="tactic">rewrite</span> <span class="id">INJ</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eapply</span> <span class="id"><a href="MemClosures_local.html#unmapped_closed_reach_closed_preserved_by_extends">MemClosures_local.unmapped_closed_reach_closed_preserved_by_extends</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eapply</span> <span class="id"><a href="LDSimDefs_local.html#extends_reach_closed_implies_inject">extends_reach_closed_implies_inject</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="alloc_proof.html#PRESERVATION">PRESERVATION</a></span>.<br/>
<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="transf_local_ldsim">transf_local_ldsim</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">scu</span> <span class="id">tcu</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="allocation.html#transf_program">allocation.transf_program</a></span> <span class="id"><a href="alloc_proof.html#scu">scu</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="alloc_proof.html#tcu">tcu</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">sge</span> <span class="id">sG</span> <span class="id">tge</span> <span class="id">tG</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="IS_local.html#init_genv_local">init_genv_local</a></span> <span class="id"><a href="RTL_local.html#RTL_IS">RTL_IS</a></span> <span class="id"><a href="alloc_proof.html#scu">scu</a></span> <span class="id"><a href="alloc_proof.html#sge">sge</a></span> <span class="id"><a href="alloc_proof.html#sG">sG</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="IS_local.html#init_genv_local">init_genv_local</a></span> <span class="id"><a href="LTL_local.html#LTL_IS">LTL_IS</a></span> <span class="id"><a href="alloc_proof.html#tcu">tcu</a></span> <span class="id"><a href="alloc_proof.html#tge">tge</a></span> <span class="id"><a href="alloc_proof.html#tG">tG</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id"><a href="alloc_proof.html#sge">sge</a></span> = <span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id"><a href="alloc_proof.html#tge">tge</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSim_local.html#local_ldsim">local_ldsim</a></span> <span class="id"><a href="alloc_proof.html#sG">sG</a></span> <span class="id"><a href="alloc_proof.html#tG">tG</a></span> <span class="id"><a href="alloc_proof.html#sge">sge</a></span> <span class="id"><a href="alloc_proof.html#tge">tge</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7446')">Proof.</div>
<div class="proofscript" id="proof7446">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="alloc_proof.html#TRANSF_local_ldsim">TRANSF_local_ldsim</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="alloc_proof.html#transf_program_match">transf_program_match</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
</div>
<div class="footer"><hr/>Generated by coq2html</div>
</body>
</html>
