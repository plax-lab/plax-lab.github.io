<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module USimDRF</title>
<meta name="description" content="Documentation of Coq module USimDRF" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module USimDRF</h1>
<div class="coq">
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Blockset.html">Blockset</a></span> <span class="id"><a href="Footprint.html">Footprint</a></span> <span class="id"><a href="GMemory.html">GMemory</a></span> <span class="id"><a href="Injections.html">Injections</a></span> <span class="id"><a href="InteractionSemantics.html">InteractionSemantics</a></span> <span class="id"><a href="GlobDefs.html">GlobDefs</a></span> <span class="id"><a href="GAST.html">GAST</a></span> <span class="id"><a href="ETrace.html">ETrace</a></span> <span class="id"><a href="NPSemantics.html">NPSemantics</a></span> <span class="id"><a href="GDefLemmas.html">GDefLemmas</a></span>.<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html">Classical_Prop</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Arith.Arith.html">Arith</a></span> <span class="id"><a href="GSimDefs.html">GSimDefs</a></span> <span class="id"><a href="GlobSim.html">GlobSim</a></span> <span class="id"><a href="GlobUSim.html">GlobUSim</a></span> <span class="id"><a href="NPDRF.html">NPDRF</a></span> <span class="id"><a href="Init.html">Init</a></span>.<br/>
<div class="doc">This file contains proof of DRF-preservation</div>
<span class="kwd">Local</span> <span class="kwd">Notation</span> "{ <span class="id">A</span> , <span class="id">B</span> , <span class="id">C</span> , <span class="id">D</span> }" := {|<span class="id"><a href="GlobDefs.html#Build_ProgConfig">thread_pool</a></span>:=<span class="id">A</span>;<span class="id">cur_tid</span>:=<span class="id">B</span>;<span class="id">gm</span>:=<span class="id">C</span>;<span class="id">atom_bit</span>:=<span class="id">D</span>|} (<span class="tactic">at</span> <span class="id">level</span> 72,<span class="id">right</span> <span class="id">associativity</span>).<br/>
<span class="kwd">Local</span> <span class="kwd">Notation</span> "{-| <span class="id">PC</span> , <span class="id">T</span> }" := <br/>
&nbsp;&nbsp;({|<span class="id"><a href="GlobDefs.html#Build_ProgConfig">thread_pool</a></span> := <span class="id"><a href="GlobDefs.html#thread_pool">thread_pool</a></span> <span class="id">PC</span>; <span class="id">cur_tid</span> := <span class="id">T</span>;<span class="id">gm</span> := <span class="id"><a href="GlobDefs.html#gm">gm</a></span> <span class="id">PC</span>; <span class="id">atom_bit</span> := <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">PC</span> |})  (<span class="tactic">at</span> <span class="id">level</span> 70,<span class="id">right</span> <span class="id">associativity</span>).<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="conflict_union">conflict_union</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp1</span> <span class="id">fp2</span> <span class="id">fp3</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.conflict">FP.conflict</a></span> <span class="id"><a href="USimDRF.html#fp1">fp1</a></span> <span class="id"><a href="USimDRF.html#fp2">fp2</a></span>-&gt;<span class="id"><a href="Footprint.html#FP.conflict">FP.conflict</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="USimDRF.html#fp1">fp1</a></span> <span class="id"><a href="USimDRF.html#fp3">fp3</a></span>) <span class="id"><a href="USimDRF.html#fp2">fp2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8256')">Proof.</div>
<div class="proofscript" id="proof8256">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">fp1</span>,<span class="id">fp2</span>,<span class="id">fp3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H</span>; [<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.conflict_cf">FP.conflict_cf</a></span> | <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.conflict_rf">FP.conflict_rf</a></span> | <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.conflict_wf">FP.conflict_wf</a></span> | <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.conflict_ff">FP.conflict_ff</a></span> |  <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.conflict_rw">FP.conflict_rw</a></span> |  <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.conflict_ww">FP.conflict_ww</a></span>];<span class="tactic">simpl</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>;<span class="id">Locs.unfolds</span>;<span class="tactic">destruct</span> <span class="id">H0</span> <span class="kwd">as</span> [<span class="id">b</span>[<span class="id">ofs</span>]];<span class="id">exists</span> <span class="id">b</span>,<span class="id">ofs</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="tactic">destruct</span> (<span class="id">cmps</span> <span class="id">b</span> <span class="id">ofs</span>),(<span class="id">frees</span> <span class="id">b</span> <span class="id">ofs</span>),(<span class="id">cmps0</span> <span class="id">b</span> <span class="id">ofs</span>),(<span class="id">frees0</span> <span class="id">b</span> <span class="id">ofs</span>),(<span class="id">cmps1</span> <span class="id">b</span> <span class="id">ofs</span>),(<span class="id">frees1</span> <span class="id">b</span> <span class="id">ofs</span>)|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">reads</span> <span class="id">b</span> <span class="id">ofs</span>),(<span class="id">frees</span> <span class="id">b</span> <span class="id">ofs</span>),(<span class="id">reads0</span> <span class="id">b</span> <span class="id">ofs</span>),(<span class="id">frees0</span> <span class="id">b</span> <span class="id">ofs</span>),(<span class="id">reads1</span> <span class="id">b</span> <span class="id">ofs</span>),(<span class="id">frees1</span> <span class="id">b</span> <span class="id">ofs</span>)|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">writes</span> <span class="id">b</span> <span class="id">ofs</span>),(<span class="id">frees</span> <span class="id">b</span> <span class="id">ofs</span>),(<span class="id">writes0</span> <span class="id">b</span> <span class="id">ofs</span>),(<span class="id">frees0</span> <span class="id">b</span> <span class="id">ofs</span>),(<span class="id">writes1</span> <span class="id">b</span> <span class="id">ofs</span>),(<span class="id">frees1</span> <span class="id">b</span> <span class="id">ofs</span>)|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">frees</span> <span class="id">b</span> <span class="id">ofs</span>),(<span class="id">frees0</span> <span class="id">b</span> <span class="id">ofs</span>),(<span class="id">frees1</span> <span class="id">b</span> <span class="id">ofs</span>) |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">reads</span> <span class="id">b</span> <span class="id">ofs</span>),(<span class="id">writes</span> <span class="id">b</span> <span class="id">ofs</span>),(<span class="id">reads0</span> <span class="id">b</span> <span class="id">ofs</span>),(<span class="id">writes0</span> <span class="id">b</span> <span class="id">ofs</span>),(<span class="id">reads1</span> <span class="id">b</span> <span class="id">ofs</span>),(<span class="id">writes1</span> <span class="id">b</span> <span class="id">ofs</span>)|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">writes</span> <span class="id">b</span> <span class="id">ofs</span>),(<span class="id">writes0</span> <span class="id">b</span> <span class="id">ofs</span>),(<span class="id">writes1</span> <span class="id">b</span> <span class="id">ofs</span>)];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">bool</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id"><a name="conflict_union_ano">conflict_union_ano</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp1</span> <span class="id">fp2</span> <span class="id">fp3</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.conflict">FP.conflict</a></span> <span class="id"><a href="USimDRF.html#fp1">fp1</a></span> <span class="id"><a href="USimDRF.html#fp2">fp2</a></span>-&gt;<span class="id"><a href="Footprint.html#FP.conflict">FP.conflict</a></span> <span class="id"><a href="USimDRF.html#fp1">fp1</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="USimDRF.html#fp2">fp2</a></span> <span class="id"><a href="USimDRF.html#fp3">fp3</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8257')">Proof.</div>
<div class="proofscript" id="proof8257">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.conflict_sym">FP.conflict_sym</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.conflict_sym">FP.conflict_sym</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="USimDRF.html#conflict_union">conflict_union</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Local</span> <span class="kwd">Notation</span> " <span class="id">A</span> |+| <span class="id">B</span>" := (<span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> <span class="id">A</span> <span class="id">B</span>)  (<span class="tactic">at</span> <span class="id">level</span> 70,<span class="id">right</span> <span class="id">associativity</span>).<br/>
&nbsp;&nbsp;<span class="kwd">Local</span> <span class="kwd">Notation</span> "<span class="id">A</span> |&lt;=| <span class="id">B</span>" := (<span class="id"><a href="Footprint.html#Locs.subset">Locs.subset</a></span> <span class="id">A</span> <span class="id">B</span>) (<span class="tactic">at</span> <span class="id">level</span> 70,<span class="id">right</span> <span class="id">associativity</span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Local</span> <span class="kwd">Ltac</span> <span class="id">clearfp</span>:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span> <span class="kwd">in</span> *;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.emp_union_fp">FP.emp_union_fp</a></span> <span class="kwd">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_assoc">FP.fp_union_assoc</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="kwd">Local</span> <span class="kwd">Hint</span> <span class="kwd">Resolve</span>  <span class="id">Locs.locs_eq</span> <span class="id">Locs.union_incr</span> <span class="id">Locs.union_subset</span> <span class="id">Locs.union_assoc</span> <span class="id">Locs.union_sym</span> .<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="locs_union_assoc">locs_union_assoc</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l1</span> <span class="id">l2</span> <span class="id">l3</span>,(<span class="id"><a href="USimDRF.html#l1">l1</a></span> |+| <span class="id"><a href="USimDRF.html#l2">l2</a></span> |+| <span class="id"><a href="USimDRF.html#l3">l3</a></span>) = ((<span class="id"><a href="USimDRF.html#l1">l1</a></span>|+|<span class="id"><a href="USimDRF.html#l2">l2</a></span>) |+| <span class="id"><a href="USimDRF.html#l3">l3</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8258')">Proof.</div>
<div class="proofscript" id="proof8258">
 <span class="tactic">auto</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="locs_union_sym">locs_union_sym</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l1</span> <span class="id">l2</span>,(<span class="id"><a href="USimDRF.html#l1">l1</a></span> |+| <span class="id"><a href="USimDRF.html#l2">l2</a></span>) = (<span class="id"><a href="USimDRF.html#l2">l2</a></span> |+| <span class="id"><a href="USimDRF.html#l1">l1</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8259')">Proof.</div>
<div class="proofscript" id="proof8259">
 <span class="tactic">auto</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Local</span> <span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">locs_union_assoc</span> <span class="id">locs_union_sym</span>.<br/>
&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id"><a name="UnionSubset4">UnionSubset4</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l1</span> <span class="id">l2</span> <span class="id">l3</span> <span class="id">l4</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="USimDRF.html#l1">l1</a></span> |&lt;=| (<span class="id"><a href="USimDRF.html#l1">l1</a></span>|+|<span class="id"><a href="USimDRF.html#l2">l2</a></span>|+|<span class="id"><a href="USimDRF.html#l3">l3</a></span>|+|<span class="id"><a href="USimDRF.html#l4">l4</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="USimDRF.html#l2">l2</a></span> |&lt;=| (<span class="id"><a href="USimDRF.html#l1">l1</a></span>|+|<span class="id"><a href="USimDRF.html#l2">l2</a></span>|+|<span class="id"><a href="USimDRF.html#l3">l3</a></span>|+|<span class="id"><a href="USimDRF.html#l4">l4</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="USimDRF.html#l3">l3</a></span> |&lt;=| (<span class="id"><a href="USimDRF.html#l1">l1</a></span>|+|<span class="id"><a href="USimDRF.html#l2">l2</a></span>|+|<span class="id"><a href="USimDRF.html#l3">l3</a></span>|+|<span class="id"><a href="USimDRF.html#l4">l4</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="USimDRF.html#l4">l4</a></span> |&lt;=| (<span class="id"><a href="USimDRF.html#l1">l1</a></span>|+|<span class="id"><a href="USimDRF.html#l2">l2</a></span>|+|<span class="id"><a href="USimDRF.html#l3">l3</a></span>|+|<span class="id"><a href="USimDRF.html#l4">l4</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8260')">Proof.</div>
<div class="proofscript" id="proof8260">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">rewrite</span> <span class="id"><a href="USimDRF.html#locs_union_assoc">locs_union_assoc</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="USimDRF.html#locs_union_sym">locs_union_sym</a></span> <span class="kwd">with</span>(<span class="id">l1</span> := <span class="id">l1</span>). <span class="tactic">rewrite</span> &lt;-<span class="id"><a href="USimDRF.html#locs_union_assoc">locs_union_assoc</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">rewrite</span> <span class="id"><a href="USimDRF.html#locs_union_assoc">locs_union_assoc</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="USimDRF.html#locs_union_sym">locs_union_sym</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="USimDRF.html#locs_union_assoc">locs_union_assoc</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="USimDRF.html#locs_union_assoc">locs_union_assoc</a></span>.  <span class="tactic">rewrite</span> <span class="id"><a href="USimDRF.html#locs_union_assoc">locs_union_assoc</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="USimDRF.html#locs_union_sym">locs_union_sym</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id"><a name="subset_belongsto">subset_belongsto</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#Locs.subset">Locs.subset</a></span> <span class="id"><a href="USimDRF.html#x">x</a></span> <span class="id"><a href="USimDRF.html#y">y</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span> <span class="id"><a href="USimDRF.html#x">x</a></span> <span class="id"><a href="USimDRF.html#b">b</a></span> <span class="id"><a href="USimDRF.html#ofs">ofs</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span> <span class="id"><a href="USimDRF.html#y">y</a></span> <span class="id"><a href="USimDRF.html#b">b</a></span> <span class="id"><a href="USimDRF.html#ofs">ofs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8261')">Proof.</div>
<div class="proofscript" id="proof8261">
 <span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="Footprint.html#Locs.belongsto_subset">Locs.belongsto_subset</a></span>;<span class="tactic">eauto</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="LocG">LocG</a></span> (<span class="id">l</span>:<span class="id"><a href="Footprint.html#Locs.t">Locs.t</a></span>) (<span class="id">Shared</span>:<span class="id"><a href="Blockset.html#Bset.t">Bset.t</a></span>)(<span class="id">ge</span>:<span class="id"><a href="GlobDefs.html#GlobEnv.t">GlobEnv.t</a></span>)(<span class="id">t</span>:<span class="id"><a href="GlobDefs.html#tid">tid</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span> <span class="id"><a href="USimDRF.html#l">l</a></span> <span class="id"><a href="USimDRF.html#b">b</a></span> <span class="id"><a href="USimDRF.html#ofs">ofs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> <span class="id"><a href="USimDRF.html#Shared">Shared</a></span> <span class="id"><a href="USimDRF.html#b">b</a></span> \/ <span class="id"><a href="GlobDefs.html#FLists.bbelongsto">FLists.bbelongsto</a></span> (<span class="id"><a href="GlobDefs.html#GlobEnv.freelists">GlobEnv.freelists</a></span> <span class="id"><a href="USimDRF.html#ge">ge</a></span>) <span class="id"><a href="USimDRF.html#t">t</a></span> <span class="id"><a href="USimDRF.html#b">b</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="fpGtoLocG">fpGtoLocG</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp</span> <span class="id">Shared</span> <span class="id">ge</span> <span class="id">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GSimDefs.html#fpG">fpG</a></span> <span class="id"><a href="USimDRF.html#fp">fp</a></span> <span class="id"><a href="USimDRF.html#Shared">Shared</a></span> <span class="id"><a href="USimDRF.html#ge">ge</a></span> <span class="id"><a href="USimDRF.html#t">t</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="USimDRF.html#LocG">LocG</a></span> <span class="id"><a href="USimDRF.html#fp">fp</a></span>.(<span class="id"><a href="Footprint.html#FP.cmps">FP.cmps</a></span>) <span class="id"><a href="USimDRF.html#Shared">Shared</a></span> <span class="id"><a href="USimDRF.html#ge">ge</a></span> <span class="id"><a href="USimDRF.html#t">t</a></span> /\ <span class="id"><a href="USimDRF.html#LocG">LocG</a></span> <span class="id"><a href="USimDRF.html#fp">fp</a></span>.(<span class="id"><a href="Footprint.html#FP.reads">FP.reads</a></span>) <span class="id"><a href="USimDRF.html#Shared">Shared</a></span> <span class="id"><a href="USimDRF.html#ge">ge</a></span> <span class="id"><a href="USimDRF.html#t">t</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="USimDRF.html#LocG">LocG</a></span> <span class="id"><a href="USimDRF.html#fp">fp</a></span>.(<span class="id"><a href="Footprint.html#FP.writes">FP.writes</a></span>) <span class="id"><a href="USimDRF.html#Shared">Shared</a></span> <span class="id"><a href="USimDRF.html#ge">ge</a></span> <span class="id"><a href="USimDRF.html#t">t</a></span> /\ <span class="id"><a href="USimDRF.html#LocG">LocG</a></span> <span class="id"><a href="USimDRF.html#fp">fp</a></span>.(<span class="id"><a href="Footprint.html#FP.frees">FP.frees</a></span>) <span class="id"><a href="USimDRF.html#Shared">Shared</a></span> <span class="id"><a href="USimDRF.html#ge">ge</a></span> <span class="id"><a href="USimDRF.html#t">t</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8262')">Proof.</div>
<div class="proofscript" id="proof8262">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span>; <span class="tactic">destruct</span> <span class="id">fp</span>; <span class="tactic">simpl</span>;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id"><a href="USimDRF.html#UnionSubset4">UnionSubset4</a></span> <span class="id">cmps</span> <span class="id">reads</span> <span class="id">writes</span> <span class="id">frees</span>) <span class="kwd">as</span>[<span class="id">L1</span> [<span class="id">L2</span> [<span class="id">L3</span> <span class="id">L4</span>]]] .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">remember</span> (<span class="id">cmps</span> |+| <span class="id">reads</span> |+| <span class="id">writes</span> |+| <span class="id">frees</span>) <span class="kwd">as</span> <span class="id">U4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id"><a href="USimDRF.html#subset_belongsto">subset_belongsto</a></span> <span class="id">cmps</span> <span class="id">U4</span> <span class="id">L1</span>) <span class="kwd">as</span> <span class="id">S1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id"><a href="USimDRF.html#subset_belongsto">subset_belongsto</a></span> <span class="id">reads</span> <span class="id">U4</span> <span class="id">L2</span>) <span class="kwd">as</span> <span class="id">S2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id"><a href="USimDRF.html#subset_belongsto">subset_belongsto</a></span> <span class="id">writes</span> <span class="id">U4</span> <span class="id">L3</span>) <span class="kwd">as</span> <span class="id">S3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id"><a href="USimDRF.html#subset_belongsto">subset_belongsto</a></span> <span class="id">frees</span> <span class="id">U4</span> <span class="id">L4</span>) <span class="kwd">as</span> <span class="id">S4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">Refine</span>:<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span> <span class="id">U4</span> <span class="id"><a href="USimDRF.html#b">b</a></span> <span class="id"><a href="USimDRF.html#ofs">ofs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> <span class="id">Shared</span> <span class="id"><a href="USimDRF.html#b">b</a></span> \/ <span class="id"><a href="GlobDefs.html#FLists.bbelongsto">FLists.bbelongsto</a></span> (<span class="id"><a href="GlobDefs.html#GlobEnv.freelists">GlobEnv.freelists</a></span> <span class="id">ge</span>) <span class="id">t</span> <span class="id"><a href="USimDRF.html#b">b</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>;<span class="tactic">subst</span>;<span class="tactic">eapply</span> <span class="id">H</span>;<span class="tactic">auto</span>; <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="USimDRF.html#locs_union_assoc">locs_union_assoc</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="USimDRF.html#LocG">LocG</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">try</span> <span class="tactic">split</span>;<span class="tactic">try</span> <span class="tactic">split</span>;<span class="tactic">intros</span>;<span class="tactic">eapply</span> <span class="id">Refine</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="Locemp">Locemp</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span> ,~ <span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span> <span class="id"><a href="USimDRF.html#x">x</a></span> <span class="id"><a href="USimDRF.html#b">b</a></span> <span class="id"><a href="USimDRF.html#ofs">ofs</a></span>) &lt;-&gt; <span class="id"><a href="Footprint.html#Locs.eq">Locs.eq</a></span> <span class="id"><a href="USimDRF.html#x">x</a></span> <span class="id"><a href="Footprint.html#Locs.emp">Locs.emp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8263')">Proof.</div>
<div class="proofscript" id="proof8263">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#Locs.eq">Locs.eq</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">H</span> <span class="id">b</span> <span class="id">ofs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#Locs.emp">Locs.emp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">x</span> <span class="id">b</span> <span class="id">ofs</span>);<span class="tactic">auto</span>;<span class="id">contradiction</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.locs_eq">Locs.locs_eq</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">compute</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="loc_belongsto_intersect">loc_belongsto_intersect</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l1</span> <span class="id">l2</span> <span class="id">b</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span> (<span class="id"><a href="Footprint.html#Locs.intersect">Locs.intersect</a></span> <span class="id"><a href="USimDRF.html#l1">l1</a></span> <span class="id"><a href="USimDRF.html#l2">l2</a></span>) <span class="id"><a href="USimDRF.html#b">b</a></span> <span class="id"><a href="USimDRF.html#ofs">ofs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span> <span class="id"><a href="USimDRF.html#l1">l1</a></span> <span class="id"><a href="USimDRF.html#b">b</a></span> <span class="id"><a href="USimDRF.html#ofs">ofs</a></span> /\ <span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span> <span class="id"><a href="USimDRF.html#l2">l2</a></span> <span class="id"><a href="USimDRF.html#b">b</a></span> <span class="id"><a href="USimDRF.html#ofs">ofs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8264')">Proof.</div>
<div class="proofscript" id="proof8264">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#Locs.intersect">Locs.intersect</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">l1</span> <span class="id">b</span> <span class="id">ofs</span>);<span class="tactic">destruct</span>(<span class="id">l2</span> <span class="id">b</span> <span class="id">ofs</span>);<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LocMatch_smile_preservation">LocMatch_smile_preservation</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">mu</span> <span class="id">ge</span> <span class="id">l1</span> <span class="id">l2</span> <span class="id">l3</span> <span class="id">l4</span> <span class="id">t1</span> <span class="id">t2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#GlobEnv.wd">GlobEnv.wd</a></span> <span class="id"><a href="USimDRF.html#ge">ge</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Injections.html#LocMatch">LocMatch</a></span> <span class="id"><a href="USimDRF.html#mu">mu</a></span> <span class="id"><a href="USimDRF.html#l1">l1</a></span> <span class="id"><a href="USimDRF.html#l2">l2</a></span> -&gt; <span class="id"><a href="Injections.html#LocMatch">LocMatch</a></span> <span class="id"><a href="USimDRF.html#mu">mu</a></span> <span class="id"><a href="USimDRF.html#l3">l3</a></span> <span class="id"><a href="USimDRF.html#l4">l4</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="USimDRF.html#LocG">LocG</a></span> <span class="id"><a href="USimDRF.html#l2">l2</a></span> <span class="id"><a href="USimDRF.html#mu">mu</a></span>.(<span class="id"><a href="Injections.html#SharedTgt">SharedTgt</a></span>) <span class="id"><a href="USimDRF.html#ge">ge</a></span> <span class="id"><a href="USimDRF.html#t1">t1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="USimDRF.html#LocG">LocG</a></span> <span class="id"><a href="USimDRF.html#l4">l4</a></span> <span class="id"><a href="USimDRF.html#mu">mu</a></span>.(<span class="id"><a href="Injections.html#SharedTgt">SharedTgt</a></span>) <span class="id"><a href="USimDRF.html#ge">ge</a></span> <span class="id"><a href="USimDRF.html#t2">t2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="USimDRF.html#t1">t1</a></span> &lt;&gt; <span class="id"><a href="USimDRF.html#t2">t2</a></span> -&gt; <span class="id"><a href="Blockset.html#Bset.inj_inject">Bset.inj_inject</a></span> (<span class="id"><a href="Injections.html#inj">inj</a></span> <span class="id"><a href="USimDRF.html#mu">mu</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#Locs.smile">Locs.smile</a></span> <span class="id"><a href="USimDRF.html#l1">l1</a></span> <span class="id"><a href="USimDRF.html#l3">l3</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#Locs.smile">Locs.smile</a></span> <span class="id"><a href="USimDRF.html#l2">l2</a></span> <span class="id"><a href="USimDRF.html#l4">l4</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8265')">Proof.</div>
<div class="proofscript" id="proof8265">
 {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">t2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">wd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">mu</span>;<span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_inject">Bset.inj_inject</a></span> <span class="kwd">in</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#Locs.smile">Locs.smile</a></span> <span class="kwd">in</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#Locs.smile">Locs.smile</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="USimDRF.html#LocG">LocG</a></span> <span class="kwd">in</span> <span class="id">H1</span>,<span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span>,<span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>,<span class="id">H0</span>,<span class="id">H1</span>,<span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="USimDRF.html#Locemp">Locemp</a></span> .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#Locs.eq">Locs.eq</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#Locs.eq">Locs.eq</a></span> <span class="kwd">in</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#Locs.emp">Locs.emp</a></span> <span class="kwd">in</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="USimDRF.html#loc_belongsto_intersect">loc_belongsto_intersect</a></span> <span class="kwd">in</span> <span class="id">H6</span> <span class="kwd">as</span>[].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H6</span> <span class="kwd">as</span> <span class="id">L</span>;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H7</span> <span class="kwd">as</span> <span class="id">R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H6</span> <span class="kwd">as</span> [];<span class="tactic">apply</span> <span class="id">H2</span> <span class="kwd">in</span> <span class="id">H7</span> <span class="kwd">as</span> [];<span class="tactic">try</span>(<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">L</span> <span class="kwd">as</span> [<span class="id">x</span>[]];<span class="tactic">apply</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">R</span> <span class="kwd">as</span> [<span class="id">y</span>[]];<span class="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inject_block">Bset.inject_block</a></span> <span class="kwd">in</span> <span class="id">H8</span>,<span class="id">H10</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H4</span> <span class="kwd">in</span> <span class="id">H8</span>;<span class="tactic">eauto</span>;<span class="tactic">subst</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span> <span class="kwd">in</span> <span class="id">H9</span>,<span class="id">H11</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">H5</span> <span class="id">x</span> <span class="id">ofs</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#Locs.intersect">Locs.intersect</a></span> <span class="kwd">in</span> <span class="id">H5</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H9</span> <span class="kwd">in</span> <span class="id">H5</span>;<span class="tactic">rewrite</span> <span class="id">H11</span> <span class="kwd">in</span> <span class="id">H5</span>; <span class="tactic">inversion</span> <span class="id">H5</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">H</span> <span class="id">H0</span> <span class="id">H1</span> <span class="id">H2</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H6</span>,<span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [],<span class="id">H0</span> <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H0</span> <span class="kwd">in</span> <span class="id">H</span>;<span class="tactic">clear</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GlobDefs.html#FLists.get_tfblock">FLists.get_tfblock</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GlobDefs.html#FLists.get_block">FLists.get_block</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GlobDefs.html#FLists.get_tfl">FLists.get_tfl</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GlobDefs.html#FLists.get_fl">FLists.get_fl</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GlobDefs.html#FLists.get_tfid">FLists.get_tfid</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">ge</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">freelists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">wd</span> <span class="kwd">as</span> [<span class="id">wd</span> <span class="id">_</span> <span class="id">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">wd</span> <span class="kwd">as</span> [<span class="id">_</span> <span class="id">wd</span> <span class="id">_</span> <span class="id">wd2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">wd</span>,<span class="id">wd2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">wd2</span> <span class="id">t1</span> <span class="id">t2</span> <span class="id">x</span> <span class="id">x0</span> <span class="id">H3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">wd</span> <span class="kwd">in</span> <span class="id">wd2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">wd2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="LFPG_smile_preservation">LFPG_smile_preservation</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">mu</span> <span class="id">ge</span> <span class="id">id</span> <span class="id">id</span>' <span class="id">fp1</span> <span class="id">fp2</span> <span class="id">fp3</span> <span class="id">fp4</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#GlobEnv.wd">GlobEnv.wd</a></span> <span class="id"><a href="USimDRF.html#ge">ge</a></span> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GSimDefs.html#LFPG">LFPG</a></span> <span class="id"><a href="USimDRF.html#mu">mu</a></span> <span class="id"><a href="USimDRF.html#ge">ge</a></span> <span class="id"><a href="USimDRF.html#id">id</a></span> <span class="id"><a href="USimDRF.html#fp1">fp1</a></span> <span class="id"><a href="USimDRF.html#fp2">fp2</a></span> -&gt; <span class="id"><a href="GSimDefs.html#LFPG">LFPG</a></span> <span class="id"><a href="USimDRF.html#mu">mu</a></span> <span class="id"><a href="USimDRF.html#ge">ge</a></span> <span class="id">id</span>' <span class="id"><a href="USimDRF.html#fp3">fp3</a></span> <span class="id"><a href="USimDRF.html#fp4">fp4</a></span> -&gt; <span class="id"><a href="Footprint.html#FP.smile">FP.smile</a></span> <span class="id"><a href="USimDRF.html#fp1">fp1</a></span> <span class="id"><a href="USimDRF.html#fp3">fp3</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="USimDRF.html#id">id</a></span> &lt;&gt; <span class="id">id</span>' -&gt; <span class="id"><a href="Blockset.html#Bset.inj_inject">Bset.inj_inject</a></span> (<span class="id"><a href="Injections.html#inj">inj</a></span> <span class="id"><a href="USimDRF.html#mu">mu</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.smile">FP.smile</a></span> <span class="id"><a href="USimDRF.html#fp2">fp2</a></span> <span class="id"><a href="USimDRF.html#fp4">fp4</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8266')">Proof.</div>
<div class="proofscript" id="proof8266">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H0</span>,<span class="id">H1</span>,<span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H0</span>,<span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="USimDRF.html#fpGtoLocG">fpGtoLocG</a></span> <span class="kwd">in</span> <span class="id">H5</span> <span class="kwd">as</span> [<span class="id">S1</span>[<span class="id">S2</span>[<span class="id">S3</span> <span class="id">S4</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="USimDRF.html#fpGtoLocG">fpGtoLocG</a></span> <span class="kwd">in</span> <span class="id">H6</span> <span class="kwd">as</span> [<span class="id">W1</span>[<span class="id">W2</span>[<span class="id">W3</span> <span class="id">W4</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">smile_cf</span>,<span class="id">smile_rf</span>,<span class="id">smile_rw</span>,<span class="id">smile_wf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>;<span class="tactic">try</span> <span class="tactic">split</span>;<span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id"><a href="USimDRF.html#LocMatch_smile_preservation">LocMatch_smile_preservation</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">all</span>: <span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.ge_cmps">FP.ge_cmps</a></span>, <span class="id"><a href="Footprint.html#FP.ge_reads">FP.ge_reads</a></span>, <span class="id"><a href="Footprint.html#FP.ge_writes">FP.ge_writes</a></span>, <span class="id"><a href="Footprint.html#FP.ge_frees">FP.ge_frees</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.smile_union">Locs.smile_union</a></span>; <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.smile_sym">Locs.smile_sym</a></span>; <span class="tactic">repeat</span> <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.smile_union">Locs.smile_union</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span> <span class="kwd">using</span> <span class="id"><a href="Footprint.html#Locs.smile_sym">Locs.smile_sym</a></span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id"><a name="smile_conflict">smile_conflict</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp1</span> <span class="id">fp2</span>, <span class="id"><a href="Footprint.html#FP.conflict">FP.conflict</a></span> <span class="id"><a href="USimDRF.html#fp1">fp1</a></span> <span class="id"><a href="USimDRF.html#fp2">fp2</a></span> &lt;-&gt; ~ <span class="id"><a href="Footprint.html#FP.smile">FP.smile</a></span> <span class="id"><a href="USimDRF.html#fp1">fp1</a></span> <span class="id"><a href="USimDRF.html#fp2">fp2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8267')">Proof.</div>
<div class="proofscript" id="proof8267">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.smile_conflict_compat">FP.smile_conflict_compat</a></span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">contradiction</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="Footprint.html#FP.conflict">FP.conflict</a></span> <span class="id">fp1</span> <span class="id">fp2</span> \/ ~ <span class="id"><a href="Footprint.html#FP.conflict">FP.conflict</a></span> <span class="id">fp1</span> <span class="id">fp2</span>). <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#classic">classic</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H0</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.smile_conflict_compat">FP.smile_conflict_compat</a></span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id"><a name="LFPG_conflict_backwards_preservation">LFPG_conflict_backwards_preservation</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">mu</span> <span class="id">ge</span> <span class="id">id</span> <span class="id">id</span>' <span class="id">fp1</span> <span class="id">fp2</span> <span class="id">fp3</span> <span class="id">fp4</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#GlobEnv.wd">GlobEnv.wd</a></span> <span class="id"><a href="USimDRF.html#ge">ge</a></span> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GSimDefs.html#LFPG">LFPG</a></span> <span class="id"><a href="USimDRF.html#mu">mu</a></span> <span class="id"><a href="USimDRF.html#ge">ge</a></span> <span class="id"><a href="USimDRF.html#id">id</a></span> <span class="id"><a href="USimDRF.html#fp1">fp1</a></span> <span class="id"><a href="USimDRF.html#fp2">fp2</a></span> -&gt; <span class="id"><a href="GSimDefs.html#LFPG">LFPG</a></span> <span class="id"><a href="USimDRF.html#mu">mu</a></span> <span class="id"><a href="USimDRF.html#ge">ge</a></span> <span class="id">id</span>' <span class="id"><a href="USimDRF.html#fp3">fp3</a></span> <span class="id"><a href="USimDRF.html#fp4">fp4</a></span> -&gt; <span class="id"><a href="Footprint.html#FP.conflict">FP.conflict</a></span> <span class="id"><a href="USimDRF.html#fp2">fp2</a></span> <span class="id"><a href="USimDRF.html#fp4">fp4</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="USimDRF.html#id">id</a></span> &lt;&gt; <span class="id">id</span>' -&gt; <span class="id"><a href="Blockset.html#Bset.inj_inject">Bset.inj_inject</a></span> (<span class="id"><a href="Injections.html#inj">inj</a></span> <span class="id"><a href="USimDRF.html#mu">mu</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.conflict">FP.conflict</a></span> <span class="id"><a href="USimDRF.html#fp1">fp1</a></span> <span class="id"><a href="USimDRF.html#fp3">fp3</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8268')">Proof.</div>
<div class="proofscript" id="proof8268">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="USimDRF.html#smile_conflict">smile_conflict</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="USimDRF.html#smile_conflict">smile_conflict</a></span> <span class="kwd">in</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="USimDRF.html#LFPG_smile_preservation">LFPG_smile_preservation</a></span> <span class="kwd">in</span> <span class="id">H5</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="GloblUSimulation_tau_step_backwards_progress">GloblUSimulation_tau_step_backwards_progress</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">sge</span> <span class="id">tge</span> <span class="id">I</span> <span class="id">ord</span> <span class="id">match_state</span> <span class="id">i</span> <span class="id">mu</span> <span class="id">spc</span> <span class="id">tpc</span> <span class="id">fpS</span> <span class="id">fpT</span> <span class="id">tpc1</span> <span class="id">fpT1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="GlobUSim.html#GConfigUSim">GConfigUSim</a></span> <span class="id"><a href="USimDRF.html#sge">sge</a></span> <span class="id"><a href="USimDRF.html#tge">tge</a></span> <span class="id"><a href="USimDRF.html#I">I</a></span> <span class="id"><a href="USimDRF.html#ord">ord</a></span> <span class="id"><a href="USimDRF.html#match_state">match_state</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="USimDRF.html#match_state">match_state</a></span> <span class="id"><a href="USimDRF.html#i">i</a></span> <span class="id"><a href="USimDRF.html#mu">mu</a></span> <span class="id"><a href="USimDRF.html#fpS">fpS</a></span> <span class="id"><a href="USimDRF.html#fpT">fpT</a></span> <span class="id"><a href="USimDRF.html#spc">spc</a></span> <span class="id"><a href="USimDRF.html#tpc">tpc</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="USimDRF.html#tpc">tpc</a></span> <span class="id"><a href="ETrace.html#tau">tau</a></span> <span class="id"><a href="USimDRF.html#fpT1">fpT1</a></span> <span class="id"><a href="USimDRF.html#tpc1">tpc1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#tpc">tpc</a></span> = <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#tpc1">tpc1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">spce</span> <span class="id">tpce</span> <span class="id">fpSe</span> <span class="id">fpTe</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="USimDRF.html#spc">spc</a></span> <span class="id"><a href="USimDRF.html#fpSe">fpSe</a></span> <span class="id"><a href="USimDRF.html#spce">spce</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="USimDRF.html#tpc1">tpc1</a></span> <span class="id"><a href="USimDRF.html#fpTe">fpTe</a></span> <span class="id"><a href="USimDRF.html#tpce">tpce</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#spc">spc</a></span> = <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#spce">spce</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#tpc">tpc</a></span> = <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#tpce">tpce</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GSimDefs.html#LFPG">LFPG</a></span> <span class="id"><a href="USimDRF.html#mu">mu</a></span> <span class="id"><a href="USimDRF.html#tge">tge</a></span> <span class="id"><a href="USimDRF.html#tpc">tpc</a></span>.(<span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span>) (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="USimDRF.html#fpS">fpS</a></span> <span class="id"><a href="USimDRF.html#fpSe">fpSe</a></span>)(<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="USimDRF.html#fpT">fpT</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="USimDRF.html#fpT1">fpT1</a></span> <span class="id"><a href="USimDRF.html#fpTe">fpTe</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8269')">Proof.</div>
<div class="proofscript" id="proof8269">
 {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">fpT1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">GUSim</span> <span class="id">match1</span> <span class="id">step1</span> <span class="id">biteq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">GUSim</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">spc</span> <span class="id">tpc</span> <span class="id">fpS</span> <span class="id">fpT</span> <span class="id">tpc1</span> <span class="id">fpT1</span> <span class="id">match1</span> <span class="id">step1</span> <span class="id">biteq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">i</span> <span class="kwd">using</span>(<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Wf.html#well_founded_induction">well_founded_induction</a></span> <span class="id">index_wf</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">match1</span> <span class="kwd">as</span> <span class="id">Tmp1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">match_tau_step</span> <span class="kwd">in</span> <span class="id">Tmp1</span> ;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Tmp1</span> <span class="kwd">as</span> [[<span class="id">spce</span>[<span class="id">fpSe</span>[<span class="id">j</span>[<span class="id">plus1</span>[<span class="id">lfpg</span> <span class="id">match2</span>]]]]]|[<span class="id">j</span>[<span class="id">ordji</span> <span class="id">match2</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">spce</span>,<span class="id">tpc1</span>,<span class="id">fpSe</span>,<span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="ETrace.html#tau_plus2star">tau_plus2star</a></span> <span class="kwd">in</span> <span class="id">plus1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id">tpc1</span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> <span class="id">tpc1</span>). <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">spc</span> = <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">spce</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">match_tp</span> <span class="kwd">in</span> <span class="id">match2</span> <span class="kwd">as</span>[<span class="id">_</span>[<span class="id">_</span>[<span class="id">_</span>[<span class="id">Eq</span> <span class="id">_</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">Eq</span>;<span class="tactic">clear</span> <span class="id">Eq</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">match_tp</span> <span class="kwd">in</span> <span class="id">match1</span> <span class="kwd">as</span>[<span class="id">_</span>[<span class="id">_</span>[<span class="id">_</span>[<span class="id">Eq</span> <span class="id">_</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">Eq</span>;<span class="tactic">clear</span> <span class="id">Eq</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span> <span class="id">tpc</span> = <span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span> <span class="id">tpc1</span>). <span class="tactic">eapply</span> <span class="id"><a href="GlobSim.html#GlobSim.tau_step_tid_preservation">GlobSim.tau_step_tid_preservation</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">match_abort</span> <span class="id">j</span> <span class="id">mu</span> <span class="id">fpS</span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fpT</span> <span class="id">fpT1</span>) <span class="id">spc</span> <span class="id">tpc1</span> <span class="id">match2</span> <span class="kwd">as</span> [<span class="id">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="GlobSim.html#GlobSim.safe_rule">GlobSim.safe_rule</a></span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H1</span> <span class="kwd">as</span> [<span class="id">final</span>|[<span class="id">label</span>[<span class="id">fpT2</span>[<span class="id">tpc2</span> <span class="id">step2</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">match_final</span> <span class="kwd">in</span> <span class="id">final</span> <span class="kwd">as</span> [<span class="id">spce</span>[<span class="id">fpSe</span>[<span class="id">S1</span>[<span class="id">S2</span>[<span class="id">S3</span> <span class="id">S4</span>]]]]];<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">spce</span>,<span class="id">tpc1</span>,<span class="id">fpSe</span>,<span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id">tpc1</span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> <span class="id">tpc1</span>). <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>.        <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">L</span>:<span class="id">label</span> = <span class="id"><a href="ETrace.html#tau">tau</a></span> \/ <span class="id">label</span> &lt;&gt; <span class="id"><a href="ETrace.html#tau">tau</a></span>). <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#classic">classic</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">L</span> <span class="kwd">as</span> [|<span class="id">ntau</span>];<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">L</span>:<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">tpc1</span> = <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">tpc2</span> \/ <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">tpc1</span> &lt;&gt; <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">tpc2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#classic">classic</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">L</span> <span class="kwd">as</span> [<span class="id">eq</span>|<span class="id">neq</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">eq</span> <span class="kwd">as</span> <span class="id">Tmp1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">Tmp1</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Tmp1</span> <span class="kwd">as</span> [<span class="id">spce</span>[<span class="id">tpce</span>[<span class="id">fpSe</span>[<span class="id">fpTe</span>[<span class="id">S1</span>[<span class="id">S2</span>[<span class="id">S3</span>[<span class="id">S4</span> <span class="id">S5</span>]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">spce</span>,<span class="id">tpce</span>,<span class="id">fpSe</span>,(<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fpT2</span> <span class="id">fpTe</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="ETrace.html#tau_plus_1">tau_plus_1</a></span> <span class="kwd">in</span> <span class="id">step2</span>;<span class="tactic">apply</span> <span class="id"><a href="ETrace.html#tau_plus2star">tau_plus2star</a></span> <span class="kwd">in</span> <span class="id">step2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="ETrace.html#tau_star_star">tau_star_star</a></span> <span class="kwd">in</span> <span class="id">S2</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">step2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span>&lt;- <span class="id">biteq1</span> <span class="kwd">in</span> <span class="id">S4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_assoc">FP.fp_union_assoc</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">neq</span> <span class="kwd">as</span> <span class="id">Tmp1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">match_ent_atom</span> <span class="kwd">in</span> <span class="id">Tmp1</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Tmp1</span> <span class="kwd">as</span> [<span class="id">fpSe</span>[<span class="id">spce</span>[<span class="id">fpS</span>''[<span class="id">spc</span>''[<span class="id">m</span>[<span class="id">S1</span>[<span class="id">S2</span>[<span class="id">S3</span>[<span class="id">S4</span> <span class="id">S5</span>]]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">spce</span>,<span class="id">tpc1</span>,<span class="id">fpSe</span>,<span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="id">constructor</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">fpS</span>'' =<span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">S3</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>;<span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">S1</span>,<span class="id">S2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">match_tp</span> <span class="kwd">in</span> <span class="id">match1</span> <span class="kwd">as</span> [<span class="id">_</span>[<span class="id">_</span>[<span class="id">_</span> [<span class="id">Eq</span> <span class="id">_</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">Eq</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="GlobSim.html#GlobSim.EntAx_bit_rule">GlobSim.EntAx_bit_rule</a></span> <span class="kwd">in</span> <span class="id">neq</span> <span class="kwd">as</span> [];<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H2</span> <span class="kwd">in</span> <span class="id">biteq1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">biteq1</span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">match_tp</span> <span class="kwd">in</span> <span class="id">S5</span> <span class="kwd">as</span> [<span class="id">_</span>[<span class="id">_</span>[<span class="id">_</span>[<span class="id">Eq2</span> <span class="id">_</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">Eq2</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H3</span> <span class="kwd">in</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span> <span class="kwd">in</span> <span class="id">S4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">fpT2</span>=<span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">step2</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">contradiction</span> .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span> <span class="kwd">in</span> <span class="id">S4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">ntau</span> <span class="kwd">as</span> <span class="id">Tmp1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">match_npsw_step</span> <span class="kwd">in</span> <span class="id">Tmp1</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Tmp1</span> <span class="kwd">as</span> [<span class="id">fpS</span>'[<span class="id">spc</span>'[<span class="id">fpS</span>''[<span class="id">spc</span>''[<span class="id">t</span>[<span class="id">S1</span>[<span class="id">S2</span>[<span class="id">S3</span>[<span class="id">S4</span> <span class="id">S5</span>]]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">S5</span> <span class="id">t</span> <span class="id">S3</span>) <span class="kwd">as</span> [<span class="id">S5</span> [<span class="id">S6</span>[<span class="id">k</span> <span class="id">S7</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">spc</span>',<span class="id">tpc1</span>,<span class="id">fpS</span>',<span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">GlobSim.clearfp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="id">constructor</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">fpS</span>'' = <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">S4</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>;<span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">fpT2</span> = <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">step2</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>;<span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="id">GlobSim.clearfp</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="GloblUSimulation_tau_N_backwards_progress">GloblUSimulation_tau_N_backwards_progress</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">sge</span> <span class="id">tge</span> <span class="id">I</span> <span class="id">ord</span> <span class="id">match_state</span> <span class="id">k</span> <span class="id">i</span> <span class="id">mu</span> <span class="id">spc</span> <span class="id">tpc</span> <span class="id">fpS</span> <span class="id">fpT</span> <span class="id">tpc1</span> <span class="id">fpT1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="GlobUSim.html#GConfigUSim">GConfigUSim</a></span> <span class="id"><a href="USimDRF.html#sge">sge</a></span> <span class="id"><a href="USimDRF.html#tge">tge</a></span> <span class="id"><a href="USimDRF.html#I">I</a></span> <span class="id"><a href="USimDRF.html#ord">ord</a></span> <span class="id"><a href="USimDRF.html#match_state">match_state</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="USimDRF.html#match_state">match_state</a></span> <span class="id"><a href="USimDRF.html#i">i</a></span> <span class="id"><a href="USimDRF.html#mu">mu</a></span> <span class="id"><a href="USimDRF.html#fpS">fpS</a></span> <span class="id"><a href="USimDRF.html#fpT">fpT</a></span> <span class="id"><a href="USimDRF.html#spc">spc</a></span> <span class="id"><a href="USimDRF.html#tpc">tpc</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_N">tau_N</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="USimDRF.html#k">k</a></span> <span class="id"><a href="USimDRF.html#tpc">tpc</a></span> <span class="id"><a href="USimDRF.html#fpT1">fpT1</a></span> <span class="id"><a href="USimDRF.html#tpc1">tpc1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#tpc">tpc</a></span> = <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#tpc1">tpc1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">spce</span> <span class="id">tpce</span> <span class="id">fpSe</span> <span class="id">fpTe</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="USimDRF.html#spc">spc</a></span> <span class="id"><a href="USimDRF.html#fpSe">fpSe</a></span> <span class="id"><a href="USimDRF.html#spce">spce</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="USimDRF.html#tpc1">tpc1</a></span> <span class="id"><a href="USimDRF.html#fpTe">fpTe</a></span> <span class="id"><a href="USimDRF.html#tpce">tpce</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#spc">spc</a></span> = <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#spce">spce</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#tpc">tpc</a></span> = <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#tpce">tpce</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GSimDefs.html#LFPG">LFPG</a></span> <span class="id"><a href="USimDRF.html#mu">mu</a></span> <span class="id"><a href="USimDRF.html#tge">tge</a></span> <span class="id"><a href="USimDRF.html#tpc">tpc</a></span>.(<span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span>) (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="USimDRF.html#fpS">fpS</a></span> <span class="id"><a href="USimDRF.html#fpSe">fpSe</a></span>)(<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="USimDRF.html#fpT">fpT</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="USimDRF.html#fpT1">fpT1</a></span> <span class="id"><a href="USimDRF.html#fpTe">fpTe</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8270')">Proof.</div>
<div class="proofscript" id="proof8270">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">fpT1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">GUSim</span> <span class="id">match_spc_tpc</span> <span class="id">nonsense</span> <span class="id">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">GUSim</span> <span class="kwd">as</span>[<span class="kwd">wf</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">safe</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">nonsense</span>;<span class="tactic">clear</span> <span class="id">nonsense</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">safe</span> <span class="id">i</span> <span class="id">mu</span> <span class="id">fpS</span> <span class="id">fpT</span> <span class="id">spc</span> <span class="id">tpc1</span> <span class="id">match_spc_tpc</span>) <span class="kwd">as</span> [<span class="id">_</span> <span class="id">safe</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="GlobSim.html#GlobSim.safe_rule">GlobSim.safe_rule</a></span> <span class="kwd">in</span> <span class="id">safe</span> <span class="kwd">as</span> [<span class="id">final</span>|[<span class="id">l</span>[<span class="id">fpT1</span>[<span class="id">tpc2</span> <span class="id">stepT1</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">GUSim</span> <span class="kwd">as</span> [<span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">L</span> <span class="id">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">L</span> <span class="id">i</span> <span class="id">mu</span> <span class="id">fpS</span> <span class="id">fpT</span> <span class="id">spc</span> <span class="id">tpc1</span> <span class="id">match_spc_tpc</span> <span class="id">final</span>) <span class="kwd">as</span>[<span class="id">spc1</span>[<span class="id">fpS1</span>[<span class="id">star_spc_spc1</span>[<span class="id">biteq1</span> [<span class="id">lfpg</span> <span class="id">finals</span>]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">spc1</span>,<span class="id">tpc1</span>,<span class="id">fpS1</span>,<span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id">tpc1</span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> <span class="id">tpc1</span>). <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">tpc1</span> = <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">tpc1</span>). <span class="tactic">auto</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">L</span>:<span class="id">l</span>=<span class="id"><a href="ETrace.html#tau">tau</a></span>\/<span class="id">l</span>&lt;&gt;<span class="id"><a href="ETrace.html#tau">tau</a></span>). <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#classic">classic</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">L</span> <span class="kwd">as</span>[|<span class="id">non_tau</span>];<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">L</span>:<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">tpc1</span> = <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">tpc2</span> \/ <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">tpc1</span> &lt;&gt; <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">tpc2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#classic">classic</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">L</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">spc</span> <span class="id">tpc1</span> <span class="id">fpS</span> <span class="id">fpT</span> <span class="id">fpT1</span> <span class="id">tpc2</span> <span class="id">match_spc_tpc</span> <span class="id">stepT1</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">i</span> <span class="kwd">using</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Wf.html#well_founded_induction">well_founded_induction</a></span> <span class="kwd">wf</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">GUSim</span> <span class="kwd">as</span>[<span class="id">_</span> <span class="id">_</span> <span class="id">Rule</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span> <span class="id">tpc1</span> = <span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span> <span class="id">tpc2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="GlobSim.html#GlobSim.tau_step_tid_preservation">GlobSim.tau_step_tid_preservation</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">Rule</span>  <span class="id">i</span> <span class="id">mu</span> <span class="id">fpS</span> <span class="id">fpT</span> <span class="id">spc</span> <span class="id">tpc1</span> <span class="id">match_spc_tpc</span> <span class="id">tpc2</span> <span class="id">fpT1</span> <span class="id">stepT1</span> <span class="id">H0</span>) <span class="kwd">as</span>[[<span class="id">spce</span>[<span class="id">fpSe</span>[<span class="id">j</span>[<span class="id">plus_spc_spce</span>[<span class="id">lfpg</span> <span class="kwd">match</span>']]]]] |[<span class="id">j</span>[<span class="id">ordji</span> <span class="kwd">match</span>']]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">spce</span>,<span class="id">tpc2</span>,<span class="id">fpSe</span>,<span class="id">fpT1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="ETrace.html#tau_plus_1">tau_plus_1</a></span> <span class="kwd">in</span> <span class="id">stepT1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="ETrace.html#tau_plus2star">tau_plus2star</a></span> <span class="kwd">in</span> <span class="id">stepT1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="ETrace.html#tau_plus2star">tau_plus2star</a></span> <span class="kwd">in</span> <span class="id">plus_spc_spce</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">spc</span> = <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">spce</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">GUSim</span> <span class="kwd">as</span> [<span class="id">_</span> <span class="id">Rule</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">Rule</span> <span class="kwd">as</span> <span class="id">Rule1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">Rule</span> <span class="id">j</span> <span class="id">mu</span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fpS</span> <span class="id">fpSe</span>) (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fpT</span> <span class="id">fpT1</span>) <span class="id">spce</span> <span class="id">tpc2</span> <span class="kwd">match</span>') <span class="kwd">as</span>[<span class="id">_</span>[<span class="id">_</span>[<span class="id">_</span>[<span class="id">Eq</span> <span class="id">_</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">Eq</span>;<span class="tactic">clear</span> <span class="id">Eq</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span>&lt;- <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">Rule1</span>  <span class="id">i</span> <span class="id">mu</span> <span class="id">fpS</span> <span class="id">fpT</span> <span class="id">spc</span> <span class="id">tpc1</span> <span class="id">match_spc_tpc</span>) <span class="kwd">as</span> [<span class="id">_</span>[<span class="id">_</span>[<span class="id">_</span>[<span class="id">Eq</span> <span class="id">_</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">Eq</span>;<span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.emp_union_fp">FP.emp_union_fp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span>  <span class="id">GUSim</span> <span class="kwd">as</span> [<span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Safe</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">Safe</span> <span class="id">j</span> <span class="id">mu</span> <span class="id">fpS</span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fpT</span> <span class="id">fpT1</span>) <span class="id">spc</span> <span class="id">tpc2</span> <span class="kwd">match</span>') <span class="kwd">as</span> [<span class="id">_</span> <span class="id">Safe</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="GlobSim.html#GlobSim.safe_rule">GlobSim.safe_rule</a></span> <span class="kwd">in</span> <span class="id">Safe</span> <span class="kwd">as</span> [<span class="id">final</span>|[<span class="id">label</span>[<span class="id">fpT2</span>[<span class="id">tpc3</span> <span class="id">stepT2</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">GUSim</span> <span class="kwd">as</span> [<span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">P</span> <span class="id">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">P</span> <span class="kwd">in</span> <span class="id">final</span> <span class="kwd">as</span> [<span class="id">spce</span>[<span class="id">fpSe</span>[<span class="id">S1</span>[<span class="id">S2</span>[<span class="id">S3</span> <span class="id">S4</span>]]]]];<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">spce</span>,<span class="id">tpc2</span>,<span class="id">fpSe</span>,<span class="id">fpT1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">apply</span> <span class="id"><a href="ETrace.html#tau_plus2star">tau_plus2star</a></span>;<span class="id">constructor</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.emp_union_fp">FP.emp_union_fp</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">L</span>:<span class="id">label</span> = <span class="id"><a href="ETrace.html#tau">tau</a></span> \/ <span class="id">label</span> &lt;&gt; <span class="id"><a href="ETrace.html#tau">tau</a></span>). <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#classic">classic</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">L</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">L</span>:<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">tpc2</span> = <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">tpc3</span> \/ <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">tpc2</span> &lt;&gt; <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">tpc3</span>). <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#classic">classic</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">L</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span>  <span class="id"><a href="USimDRF.html#GloblUSimulation_tau_step_backwards_progress">GloblUSimulation_tau_step_backwards_progress</a></span> <span class="kwd">in</span> <span class="kwd">match</span>';<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="kwd">match</span>' <span class="kwd">as</span> [<span class="id">spce</span>[<span class="id">tpce</span>[<span class="id">fpSe</span>[<span class="id">fpTe</span>[<span class="id">S1</span>[<span class="id">S2</span>[<span class="id">S3</span>[<span class="id">S4</span> <span class="id">S5</span>]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">spce</span>,<span class="id">tpce</span>,<span class="id">fpSe</span>,(<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fpT1</span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fpT2</span> <span class="id">fpTe</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="ETrace.html#tau_plus_1">tau_plus_1</a></span> <span class="kwd">in</span> <span class="id">stepT1</span>;<span class="tactic">apply</span> <span class="id"><a href="ETrace.html#tau_plus2star">tau_plus2star</a></span> <span class="kwd">in</span> <span class="id">stepT1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="ETrace.html#tau_plus_1">tau_plus_1</a></span> <span class="kwd">in</span> <span class="id">stepT2</span>;<span class="tactic">apply</span> <span class="id"><a href="ETrace.html#tau_plus2star">tau_plus2star</a></span> <span class="kwd">in</span> <span class="id">stepT2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="ETrace.html#tau_star_star">tau_star_star</a></span> <span class="kwd">in</span> <span class="id">stepT2</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="ETrace.html#tau_star_star">tau_star_star</a></span> <span class="kwd">in</span> <span class="id">S2</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_assoc">FP.fp_union_assoc</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.emp_union_fp">FP.emp_union_fp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_assoc">FP.fp_union_assoc</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">GUSim</span> <span class="kwd">as</span> [<span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">R</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H2</span> <span class="kwd">as</span> <span class="id">Tmp1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">R</span> <span class="kwd">in</span> <span class="id">Tmp1</span>;<span class="tactic">eauto</span>;<span class="tactic">clear</span> <span class="id">R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Tmp1</span> <span class="kwd">as</span> [<span class="id">fpSe</span>[<span class="id">spce</span>[<span class="id">fpS</span>'[<span class="id">spc</span>'[<span class="id">m</span>[<span class="id">S1</span>[<span class="id">S2</span>[<span class="id">S3</span>[<span class="id">S4</span> <span class="id">S5</span>]]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">fpT2</span>=<span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">stepT2</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>;<span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">spce</span> &lt;&gt; <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">spc</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">GUSim</span> <span class="kwd">as</span> [<span class="id">_</span> <span class="id">L</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">L</span> <span class="kwd">in</span> <span class="id">S5</span> <span class="kwd">as</span> [<span class="id">_</span>[<span class="id">_</span>[<span class="id">_</span> [<span class="id">EQ</span> <span class="id">_</span>]]]];<span class="tactic">apply</span> <span class="id">L</span> <span class="kwd">in</span> <span class="kwd">match</span>' <span class="kwd">as</span> [<span class="id">_</span>[<span class="id">_</span>[<span class="id">_</span>[<span class="id">EQ2</span> <span class="id">_</span>]]]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">EQ2</span>;<span class="tactic">inversion</span> <span class="id">EQ</span>;<span class="tactic">clear</span> <span class="id">L</span> <span class="id">EQ</span> <span class="id">EQ2</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H7</span>;<span class="tactic">rewrite</span> &lt;- <span class="id">S2</span>;<span class="tactic">rewrite</span> <span class="id">H4</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">spce</span>,<span class="id">tpc2</span>,<span class="id">fpSe</span>,<span class="id">fpT1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">fpS</span>'=<span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">S3</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>;<span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span> <span class="kwd">in</span> <span class="id">S4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.emp_union_fp">FP.emp_union_fp</a></span> .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="ETrace.html#tau_plus_1">tau_plus_1</a></span> <span class="kwd">in</span> <span class="id">stepT1</span>;<span class="tactic">apply</span> <span class="id"><a href="ETrace.html#tau_plus2star">tau_plus2star</a></span> <span class="kwd">in</span> <span class="id">stepT1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">fpT2</span> = <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">stepT2</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>;<span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H2</span> <span class="kwd">as</span> <span class="id">neq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">GUSim</span> <span class="kwd">as</span> [<span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">R</span> <span class="id">_</span> <span class="id">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">R</span> <span class="kwd">in</span> <span class="id">H2</span> ;<span class="tactic">eauto</span>;<span class="tactic">clear</span> <span class="id">R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H2</span> <span class="kwd">as</span> [<span class="id">fpSe</span>[<span class="id">spce</span>[<span class="id">fpS</span>'[<span class="id">spc</span>'[<span class="id">m</span>[<span class="id">S1</span>[<span class="id">S2</span>[<span class="id">S3</span> [<span class="id">S4</span> <span class="id">S5</span>]]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">S5</span> <span class="id">m</span> <span class="id">S3</span>) <span class="kwd">as</span> [<span class="id">S7</span>[<span class="id">S5</span>[<span class="id">k</span> <span class="id">S6</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">spce</span>,<span class="id">tpc2</span>,<span class="id">fpSe</span>,<span class="id">fpT1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">apply</span> <span class="id"><a href="ETrace.html#tau_plus2star">tau_plus2star</a></span>;<span class="id">constructor</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">fpS</span>'=<span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">S7</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>;<span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">GlobSim.clearfp</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}            <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">GUSim</span> <span class="kwd">as</span> [<span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">R</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H</span> <span class="kwd">as</span> <span class="id">Tmp1</span>;<span class="tactic">eapply</span> <span class="id">R</span> <span class="kwd">in</span> <span class="id">Tmp1</span>;<span class="tactic">eauto</span>;<span class="tactic">clear</span> <span class="id">R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Tmp1</span> <span class="kwd">as</span> [<span class="id">fpSe</span>[<span class="id">spce</span>[<span class="id">fpS</span>'[<span class="id">spc</span>'[<span class="id">l</span>[<span class="id">S1</span>[<span class="id">S2</span>[<span class="id">S3</span>[<span class="id">S4</span> <span class="id">S5</span>]]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">spce</span>,<span class="id">tpc1</span>,<span class="id">fpSe</span>,<span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="id">constructor</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">spce</span> &lt;&gt; <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">spc</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">GUSim</span> <span class="kwd">as</span> [<span class="id">_</span> <span class="id">R</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">R</span> <span class="kwd">in</span> <span class="id">S5</span> <span class="kwd">as</span> [<span class="id">_</span>[<span class="id">_</span>[<span class="id">_</span>[<span class="id">Eq</span> <span class="id">_</span>]]]];<span class="tactic">apply</span> <span class="id">R</span> <span class="kwd">in</span> <span class="id">match_spc_tpc</span> <span class="kwd">as</span> [<span class="id">_</span>[<span class="id">_</span>[<span class="id">_</span>[<span class="id">Eq2</span> <span class="id">_</span>]]]];<span class="tactic">inversion</span> <span class="id">Eq</span>;<span class="tactic">inversion</span> <span class="id">Eq2</span>;<span class="tactic">subst</span>;<span class="tactic">clear</span> <span class="id">Eq</span> <span class="id">Eq2</span> <span class="id">R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;-<span class="id">S2</span>;<span class="tactic">rewrite</span> <span class="id">H3</span>;<span class="tactic">rewrite</span> <span class="id">H0</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">fpS</span>'=<span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>). <span class="tactic">inversion</span> <span class="id">S3</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>;<span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">fpT1</span>=<span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>). <span class="tactic">inversion</span> <span class="id">stepT1</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>;<span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span> <span class="kwd">in</span> <span class="id">S4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">GUSim</span> <span class="kwd">as</span> [<span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">R</span> <span class="id">_</span> <span class="id">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">stepT1</span> <span class="kwd">as</span> <span class="id">Tmp1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">R</span> <span class="kwd">in</span> <span class="id">Tmp1</span>;<span class="tactic">eauto</span>;<span class="tactic">clear</span> <span class="id">R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Tmp1</span> <span class="kwd">as</span> [<span class="id">fpSe</span>[<span class="id">spce</span>[<span class="id">fpS</span>'[<span class="id">spc</span>'[<span class="id">t</span>[<span class="id">S1</span>[<span class="id">S2</span>[<span class="id">SR</span> [<span class="id">S3</span> <span class="id">S4</span>] ]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">S4</span> <span class="id">t</span> <span class="id">SR</span>) <span class="kwd">as</span> [<span class="id">S4</span>[<span class="id">S5</span>[<span class="id">j</span> <span class="id">S6</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">spce</span>,<span class="id">tpc1</span>,<span class="id">fpSe</span>,<span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="id">constructor</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">fpS</span>' = <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">S4</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>;<span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">fpT1</span> = <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">stepT1</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>;<span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span> <span class="kwd">in</span> <span class="id">S5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">fpT1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">GUSim</span> <span class="id">match_spc_tpc</span> <span class="id">N1</span> <span class="id">biteq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">N1</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id"><a href="GlobSim.html#GlobSim.tau_N_tau_step_bit_rule">GlobSim.tau_N_tau_step_bit_rule</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">e</span> <span class="id">k</span> <span class="id">tge</span> <span class="id">tpc</span> <span class="id">s</span>' <span class="id">tpc1</span> <span class="id">fp</span> <span class="id">fp</span>' <span class="id">H0</span> <span class="id">H1</span> <span class="id">biteq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">e</span> <span class="kwd">as</span> <span class="id">f</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">GUSim</span> <span class="kwd">as</span> [<span class="id">_</span> <span class="id">_</span> <span class="id">R</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">R</span> <span class="kwd">in</span> <span class="id">f</span>;<span class="tactic">eauto</span>;<span class="tactic">clear</span> <span class="id">R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">f</span> <span class="kwd">as</span> [[<span class="id">spce</span>[<span class="id">fpSe</span>[<span class="id">f</span>[<span class="id">S1</span>[<span class="id">S2</span> <span class="id">S3</span>]]]]] | [<span class="id">f</span>[<span class="id">ordf</span> <span class="id">S1</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">e</span> <span class="kwd">in</span> <span class="id">biteq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">IHk</span> <span class="id">f</span> <span class="id">mu</span> <span class="id">spce</span> <span class="id">s</span>' (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fpS</span> <span class="id">fpSe</span>) (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fpT</span> <span class="id">fp</span>) <span class="id">tpc1</span> <span class="id">fp</span>' <span class="id">GUSim</span> <span class="id">S3</span> <span class="id">H1</span> <span class="id">biteq</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">IHk</span> <span class="kwd">as</span> [<span class="id">spce0</span>[<span class="id">tpce0</span>[<span class="id">fpSe0</span>[<span class="id">fpTe0</span>[<span class="id">Q1</span>[<span class="id">Q2</span>[<span class="id">Q3</span>[<span class="id">Q4</span> <span class="id">Q5</span>]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">spce0</span>,<span class="id">tpce0</span>,(<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fpSe</span> <span class="id">fpSe0</span>),<span class="id">fpTe0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">apply</span> <span class="id"><a href="ETrace.html#tau_plus2star">tau_plus2star</a></span> <span class="kwd">in</span> <span class="id">S1</span>;<span class="tactic">eapply</span> <span class="id"><a href="ETrace.html#tau_star_star">tau_star_star</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">GUSim</span> <span class="kwd">as</span> [<span class="id">_</span> <span class="id">R</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">R</span> <span class="kwd">in</span> <span class="id">match_spc_tpc</span> <span class="kwd">as</span> [<span class="id">_</span>[<span class="id">_</span>[<span class="id">_</span>[<span class="id">Eq</span> <span class="id">_</span>]]]];<span class="tactic">apply</span> <span class="id">R</span> <span class="kwd">in</span> <span class="id">S3</span> <span class="kwd">as</span> [<span class="id">_</span>[<span class="id">_</span>[<span class="id">_</span>[<span class="id">Eq2</span> <span class="id">_</span>]]]];<span class="tactic">inversion</span> <span class="id">Eq</span>;<span class="tactic">inversion</span> <span class="id">Eq2</span>;<span class="tactic">subst</span>;<span class="tactic">clear</span> <span class="id">Eq</span> <span class="id">Eq2</span> <span class="id">R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span> <span class="id">tpc</span> = <span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span> <span class="id">s</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H0</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>;<span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_assoc">FP.fp_union_assoc</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_assoc">FP.fp_union_assoc</a></span> <span class="kwd">in</span> <span class="id">Q5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">S1</span> <span class="kwd">as</span> <span class="id">Tmp1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHk</span> <span class="kwd">in</span> <span class="id">Tmp1</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Tmp1</span> <span class="kwd">as</span> [<span class="id">spce</span>[<span class="id">tpce</span>[<span class="id">fpSe</span>[<span class="id">fpTe</span>[<span class="id">Q1</span>[<span class="id">Q2</span>[<span class="id">Q3</span> [<span class="id">Q4</span> <span class="id">Q5</span>]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">spce</span>,<span class="id">tpce</span>,<span class="id">fpSe</span>,<span class="id">fpTe</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span> <span class="id">tpc</span> = <span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span> <span class="id">s</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H0</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>;<span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_assoc">FP.fp_union_assoc</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_assoc">FP.fp_union_assoc</a></span> <span class="kwd">in</span> <span class="id">Q5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span>&lt;- <span class="id">e</span> <span class="kwd">in</span> <span class="id">Q4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">biteq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="GlobSim.html#GlobSim.tau_N_tau_step_bit_rule">GlobSim.tau_N_tau_step_bit_rule</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="tau_star_to_star">tau_star_to_star</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">pc</span> <span class="id">fp</span> <span class="id">pc1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> (@<span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="USimDRF.html#ge">ge</a></span>) <span class="id"><a href="USimDRF.html#pc">pc</a></span> <span class="id"><a href="USimDRF.html#fp">fp</a></span> <span class="id"><a href="USimDRF.html#pc1">pc1</a></span> -&gt; <span class="id">exists</span> <span class="id">l</span>,<span class="id"><a href="ETrace.html#star">star</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="USimDRF.html#pc">pc</a></span> <span class="id"><a href="USimDRF.html#l">l</a></span> <span class="id"><a href="USimDRF.html#fp">fp</a></span> <span class="id"><a href="USimDRF.html#pc1">pc1</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8271')">Proof.</div>
<div class="proofscript" id="proof8271">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">IHtau_star</span> <span class="kwd">as</span> [<span class="id">l</span> <span class="id">star1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#cons">cons</a></span> <span class="id"><a href="ETrace.html#tau">tau</a></span> <span class="id">l</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 2;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="cons_star_step">cons_star_step</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">pc</span> <span class="id">fp</span> <span class="id">pc1</span> <span class="id">fp1</span> <span class="id">pc2</span> <span class="id">l1</span> <span class="id">o</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#star">star</a></span> (@<span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="USimDRF.html#ge">ge</a></span>) <span class="id"><a href="USimDRF.html#pc">pc</a></span> <span class="id"><a href="USimDRF.html#l1">l1</a></span> <span class="id"><a href="USimDRF.html#fp">fp</a></span> <span class="id"><a href="USimDRF.html#pc1">pc1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="USimDRF.html#pc1">pc1</a></span> <span class="id"><a href="USimDRF.html#o">o</a></span> <span class="id"><a href="USimDRF.html#fp1">fp1</a></span> <span class="id"><a href="USimDRF.html#pc2">pc2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#star">star</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="USimDRF.html#pc">pc</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#app">app</a></span> <span class="id"><a href="USimDRF.html#l1">l1</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#cons">cons</a></span> <span class="id"><a href="USimDRF.html#o">o</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>)) (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="USimDRF.html#fp">fp</a></span> <span class="id"><a href="USimDRF.html#fp1">fp1</a></span>) <span class="id"><a href="USimDRF.html#pc2">pc2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8272')">Proof.</div>
<div class="proofscript" id="proof8272">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.emp_union_fp">FP.emp_union_fp</a></span>;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span> <span class="kwd">with</span>(<span class="id">fp</span>:=<span class="id">fp1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 2;<span class="tactic">eauto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">IHstar</span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>((<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#app">app</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#cons">cons</a></span> <span class="id">e</span> <span class="id">l</span>)(<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#cons">cons</a></span> <span class="id">o</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>)) = (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#cons">cons</a></span> <span class="id">e</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#app">app</a></span> <span class="id">l</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#cons">cons</a></span> <span class="id">o</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>))));<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Footprint.html#FP.fp_union_assoc">FP.fp_union_assoc</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="GlobUSimulation_tau_N_EntAtom_progress">GlobUSimulation_tau_N_EntAtom_progress</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">sge</span> <span class="id">tge</span> <span class="id">I</span> <span class="id">ord</span> <span class="id">match_state</span> <span class="id">k</span> <span class="id">i</span> <span class="id">mu</span> <span class="id">spc</span> <span class="id">tpc</span> <span class="id">fpS</span> <span class="id">fpT</span> <span class="id">tpc1</span> <span class="id">fpT1</span> <span class="id">tpc2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="GlobUSim.html#GConfigUSim">GConfigUSim</a></span> <span class="id"><a href="USimDRF.html#sge">sge</a></span> <span class="id"><a href="USimDRF.html#tge">tge</a></span> <span class="id"><a href="USimDRF.html#I">I</a></span> <span class="id"><a href="USimDRF.html#ord">ord</a></span> <span class="id"><a href="USimDRF.html#match_state">match_state</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="USimDRF.html#match_state">match_state</a></span> <span class="id"><a href="USimDRF.html#i">i</a></span> <span class="id"><a href="USimDRF.html#mu">mu</a></span> <span class="id"><a href="USimDRF.html#fpS">fpS</a></span> <span class="id"><a href="USimDRF.html#fpT">fpT</a></span> <span class="id"><a href="USimDRF.html#spc">spc</a></span> <span class="id"><a href="USimDRF.html#tpc">tpc</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_N">tau_N</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="USimDRF.html#k">k</a></span> <span class="id"><a href="USimDRF.html#tpc">tpc</a></span> <span class="id"><a href="USimDRF.html#fpT1">fpT1</a></span> <span class="id"><a href="USimDRF.html#tpc1">tpc1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#tpc1">tpc1</a></span> = <span class="id"><a href="GlobDefs.html#O">O</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="USimDRF.html#tpc1">tpc1</a></span> <span class="id"><a href="ETrace.html#tau">tau</a></span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> <span class="id"><a href="USimDRF.html#tpc2">tpc2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#tpc2">tpc2</a></span> = <span class="id"><a href="GlobDefs.html#I">GlobDefs.I</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">spc1</span> <span class="id">spce</span> <span class="id">fpS1</span> <span class="id">j</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="USimDRF.html#spc">spc</a></span> <span class="id"><a href="USimDRF.html#fpS1">fpS1</a></span> <span class="id"><a href="USimDRF.html#spc1">spc1</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#spc1">spc1</a></span> = <span class="id"><a href="GlobDefs.html#O">O</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="USimDRF.html#spc1">spc1</a></span> <span class="id"><a href="ETrace.html#tau">tau</a></span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> <span class="id"><a href="USimDRF.html#spce">spce</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#spce">spce</a></span> = <span class="id"><a href="GlobDefs.html#I">GlobDefs.I</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GSimDefs.html#LFPG">LFPG</a></span> <span class="id"><a href="USimDRF.html#mu">mu</a></span> <span class="id"><a href="USimDRF.html#tge">tge</a></span> <span class="id"><a href="USimDRF.html#tpc">tpc</a></span>.(<span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span>)(<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="USimDRF.html#fpS">fpS</a></span> <span class="id"><a href="USimDRF.html#fpS1">fpS1</a></span>)(<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="USimDRF.html#fpT">fpT</a></span> <span class="id"><a href="USimDRF.html#fpT1">fpT1</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="USimDRF.html#match_state">match_state</a></span> <span class="id"><a href="USimDRF.html#j">j</a></span> <span class="id"><a href="USimDRF.html#mu">mu</a></span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> <span class="id"><a href="USimDRF.html#spce">spce</a></span> <span class="id"><a href="USimDRF.html#tpc2">tpc2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8273')">Proof.</div>
<div class="proofscript" id="proof8273">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">k</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H1</span>;<span class="tactic">clear</span> <span class="id">H1</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">tpc1</span> &lt;&gt; <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">tpc2</span>). <span class="tactic">rewrite</span> <span class="id">H2</span>;<span class="tactic">rewrite</span> <span class="id">H4</span>. <span class="tactic">intro</span>. <span class="tactic">inversion</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H3</span> <span class="kwd">as</span> <span class="id">L</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">match_ent_atom</span> <span class="kwd">in</span> <span class="id">L</span>;<span class="tactic">eauto</span>;<span class="tactic">destruct</span> <span class="id">L</span> <span class="kwd">as</span> [<span class="id">fpS</span>'[<span class="id">spc</span>'[<span class="id">fpS</span>''[<span class="id">spc</span>''[<span class="id">j</span>[<span class="id">S1</span>[<span class="id">S2</span>[<span class="id">S3</span>[<span class="id">S4</span> <span class="id">S5</span>]]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">spc</span>'&lt;&gt;<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">spc</span>'').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">match_tp</span> <span class="kwd">in</span> <span class="id">S5</span> <span class="kwd">as</span> [<span class="id">_</span>[<span class="id">_</span>[<span class="id">_</span>[<span class="id">eq</span> <span class="id">_</span>]]]];<span class="tactic">apply</span> <span class="id">match_tp</span> <span class="kwd">in</span> <span class="id">H0</span> <span class="kwd">as</span> [<span class="id">_</span>[<span class="id">_</span>[<span class="id">_</span> [<span class="id">eq2</span> <span class="id">_</span>]]]]; <span class="tactic">inversion</span> <span class="id">eq</span>;<span class="tactic">inversion</span> <span class="id">eq2</span>;<span class="tactic">clear</span> <span class="id">eq</span> <span class="id">eq2</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span>;<span class="tactic">rewrite</span> &lt;- <span class="id">S2</span>;<span class="tactic">rewrite</span> <span class="id">H7</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">fpS</span>''=<span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>). <span class="tactic">inversion</span> <span class="id">S3</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>;<span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="GlobSim.html#GlobSim.EntAx_bit_rule">GlobSim.EntAx_bit_rule</a></span> <span class="kwd">in</span> <span class="id">H5</span> <span class="kwd">as</span> [];<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span> <span class="kwd">in</span> <span class="id">S4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">spc</span>',<span class="id">spc</span>'',<span class="id">fpS</span>',<span class="id">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H1</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id"><a href="GlobSim.html#GlobSim.tau_N_bit_backwards_preservation">GlobSim.tau_N_bit_backwards_preservation</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">e</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">k</span>) <span class="id">tge</span> <span class="id">tpc</span> <span class="id">tpc1</span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fp</span> <span class="id">fp</span>') <span class="id">H1</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">s</span>' = <span class="id"><a href="GlobDefs.html#O">O</a></span>). <span class="tactic">eapply</span> <span class="id"><a href="GlobSim.html#GlobSim.tau_N_tau_step_bit_rule">GlobSim.tau_N_tau_step_bit_rule</a></span> <span class="kwd">in</span> <span class="id">H6</span>;<span class="tactic">eauto</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">tpc</span>=<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">s</span>'). <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H</span> <span class="kwd">as</span> [<span class="id">_</span> <span class="id">_</span> <span class="id">R</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">R</span> <span class="kwd">in</span> <span class="id">H9</span>;<span class="tactic">eauto</span>;<span class="tactic">clear</span> <span class="id">R</span>;<span class="tactic">destruct</span> <span class="id">H9</span> <span class="kwd">as</span> [[<span class="id">spc</span>'[<span class="id">fpS</span>'[<span class="id">i</span>'[<span class="id">N1</span>[<span class="id">N2</span> <span class="id">N3</span>]]]]]  |[<span class="id">t</span>[<span class="id">ordt</span> <span class="kwd">match</span>'']]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">IHk</span> <span class="id">i</span>' <span class="id">mu</span> <span class="id">spc</span>' <span class="id">s</span>'  (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fpS</span> <span class="id">fpS</span>') (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fpT</span> <span class="id">fp</span> ) <span class="id">tpc1</span> <span class="id">fp</span>' <span class="id">tpc2</span> <span class="id">H</span> <span class="id">N3</span> <span class="id">H7</span> <span class="id">H2</span> <span class="id">H3</span> <span class="id">H4</span>) <span class="kwd">as</span> [<span class="id">spc1</span>[<span class="id">spce</span>[<span class="id">fpS1</span>[<span class="id">j</span>[<span class="id">S1</span>[<span class="id">S2</span>[<span class="id">S3</span>[<span class="id">S4</span>[<span class="id">S5</span> <span class="id">S6</span>]]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">spc1</span>,<span class="id">spce</span>,(<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fpS</span>' <span class="id">fpS1</span>),<span class="id">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="ETrace.html#tau_plus2star">tau_plus2star</a></span> <span class="kwd">in</span> <span class="id">N1</span>;<span class="tactic">eapply</span> <span class="id"><a href="ETrace.html#tau_star_star">tau_star_star</a></span> <span class="kwd">in</span> <span class="id">S1</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span> <span class="id">tpc</span> = <span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span> <span class="id">s</span>') . <span class="tactic">inversion</span> <span class="id">H6</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>;<span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H9</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span>&lt;- <span class="id"><a href="Footprint.html#FP.fp_union_assoc">FP.fp_union_assoc</a></span> <span class="kwd">in</span> <span class="id">S5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHk</span> <span class="kwd">in</span> <span class="kwd">match</span>'' <span class="kwd">as</span> [<span class="id">spc1</span>[<span class="id">spce</span>[<span class="id">fpS1</span>[<span class="id">j</span>[<span class="id">S1</span>[<span class="id">S2</span>[<span class="id">S3</span>[<span class="id">S4</span>[<span class="id">S5</span> <span class="id">S6</span>]]]]]]]]];<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span> <span class="id">tpc</span> = <span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span> <span class="id">s</span>') . <span class="tactic">inversion</span> <span class="id">H6</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>;<span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H9</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Footprint.html#FP.fp_union_assoc">FP.fp_union_assoc</a></span> <span class="kwd">in</span> <span class="id">S5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">spc1</span>,<span class="id">spce</span>,<span class="id">fpS1</span>,<span class="id">j</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="tau_N_OIsplit">tau_N_OIsplit</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">k</span> <span class="id">pc</span> <span class="id">fp</span> <span class="id">pc1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_N">tau_N</a></span> (@<span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="USimDRF.html#ge">ge</a></span>) <span class="id"><a href="USimDRF.html#k">k</a></span> <span class="id"><a href="USimDRF.html#pc">pc</a></span> <span class="id"><a href="USimDRF.html#fp">fp</a></span> <span class="id"><a href="USimDRF.html#pc1">pc1</a></span> -&gt; <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#pc">pc</a></span> &lt;&gt; <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#pc1">pc1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">i</span> <span class="id">j</span> <span class="id">pc</span>' <span class="id">pc</span>'' <span class="id">fp1</span> <span class="id">fp2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_N">tau_N</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="USimDRF.html#i">i</a></span> <span class="id"><a href="USimDRF.html#pc">pc</a></span> <span class="id"><a href="USimDRF.html#fp1">fp1</a></span> <span class="id">pc</span>' /\ <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">pc</span>' = <span class="id"><a href="GlobDefs.html#O">O</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id">pc</span>' <span class="id"><a href="ETrace.html#tau">tau</a></span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> <span class="id">pc</span>'' /\ <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">pc</span>'' = <span class="id"><a href="GlobDefs.html#I">GlobDefs.I</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_N">tau_N</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="USimDRF.html#j">j</a></span> <span class="id">pc</span>'' <span class="id"><a href="USimDRF.html#fp2">fp2</a></span> <span class="id"><a href="USimDRF.html#pc1">pc1</a></span> /\ <span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="USimDRF.html#fp1">fp1</a></span> <span class="id"><a href="USimDRF.html#fp2">fp2</a></span> = <span class="id"><a href="USimDRF.html#fp">fp</a></span> /\ <span class="id"><a href="USimDRF.html#i">i</a></span>+<span class="id"><a href="USimDRF.html#j">j</a></span>+1=<span class="id"><a href="USimDRF.html#k">k</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8274')">Proof.</div>
<div class="proofscript" id="proof8274">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">k</span>;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H</span>;<span class="tactic">subst</span>;<span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">pc</span> = <span class="id"><a href="GlobDefs.html#O">O</a></span> /\ <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">pc1</span> = <span class="id"><a href="GlobDefs.html#I">I</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="GlobSim.html#GlobSim.tau_N_bit_rule">GlobSim.tau_N_bit_rule</a></span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> [[]|[[]|[]]];<span class="tactic">subst</span>;<span class="tactic">auto</span>;<span class="tactic">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H0</span>;<span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H0</span>;<span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">s</span>') <span class="id">eqn</span>:<span class="id">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">s</span>' &lt;&gt; <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">pc1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H4</span>;<span class="tactic">rewrite</span> <span class="id">eq</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>;<span class="tactic">inversion</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHk</span> <span class="kwd">in</span> <span class="id">H5</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H5</span> <span class="kwd">as</span> [<span class="id">i</span>[<span class="id">j</span>[<span class="id">pc</span>'[<span class="id">pc</span>''[<span class="id">fp1</span>[<span class="id">fp2</span>[<span class="id">N1</span>[<span class="id">b1</span>[<span class="id">step1</span>[<span class="id">b2</span>[<span class="id">N2</span>[]]]]]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">i</span>),<span class="id">j</span>,<span class="id">pc</span>',<span class="id">pc</span>'',(<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fp0</span> <span class="id">fp1</span>),<span class="id">fp2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>. <span class="id">econstructor</span> 2;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;[<span class="tactic">auto</span>|<span class="tactic">split</span>];<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;[<span class="tactic">auto</span>|<span class="tactic">split</span>];<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Footprint.html#FP.fp_union_assoc">FP.fp_union_assoc</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span>&lt;- <span class="id">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">fp0</span>=<span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>). <span class="tactic">inversion</span> <span class="id">H2</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>;<span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">compute</span> <span class="kwd">in</span> <span class="id">H1</span>,<span class="id">eq</span>. <span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">eq</span>. <span class="tactic">inversion</span> <span class="id">eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> 0,<span class="id">k</span>,<span class="id">pc</span>,<span class="id">s</span>',<span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>,<span class="id">fp</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">clearfp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="id">constructor</span>;<span class="tactic">auto</span>;<span class="id">constructor</span>;<span class="tactic">auto</span>;<span class="id">constructor</span>;<span class="tactic">auto</span>;<span class="id">constructor</span>;<span class="tactic">auto</span>;<span class="id">constructor</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Omega.omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id"><a name="tau_star_OIsplit">tau_star_OIsplit</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">pc</span> <span class="id">fp</span> <span class="id">pc1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> (@<span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="USimDRF.html#ge">ge</a></span>) <span class="id"><a href="USimDRF.html#pc">pc</a></span> <span class="id"><a href="USimDRF.html#fp">fp</a></span> <span class="id"><a href="USimDRF.html#pc1">pc1</a></span> -&gt; <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#pc">pc</a></span> &lt;&gt; <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#pc1">pc1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span>  <span class="id">pc</span>' <span class="id">pc</span>'' <span class="id">fp1</span> <span class="id">fp2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="USimDRF.html#pc">pc</a></span> <span class="id"><a href="USimDRF.html#fp1">fp1</a></span> <span class="id">pc</span>' /\ <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">pc</span>' = <span class="id"><a href="GlobDefs.html#O">O</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id">pc</span>' <span class="id"><a href="ETrace.html#tau">tau</a></span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> <span class="id">pc</span>'' /\ <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">pc</span>'' = <span class="id"><a href="GlobDefs.html#I">I</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id">pc</span>'' <span class="id"><a href="USimDRF.html#fp2">fp2</a></span> <span class="id"><a href="USimDRF.html#pc1">pc1</a></span> /\ <span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="USimDRF.html#fp1">fp1</a></span> <span class="id"><a href="USimDRF.html#fp2">fp2</a></span> = <span class="id"><a href="USimDRF.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8275')">Proof.</div>
<div class="proofscript" id="proof8275">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="ETrace.html#tau_star_tau_N_equiv">tau_star_tau_N_equiv</a></span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="USimDRF.html#tau_N_OIsplit">tau_N_OIsplit</a></span> <span class="kwd">in</span> <span class="id">H</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [<span class="id">i</span>[<span class="id">j</span>[<span class="id">pc</span>'[<span class="id">pc</span>''[<span class="id">fp1</span>[<span class="id">fp2</span>[<span class="id">S1</span>[<span class="id">S2</span>[<span class="id">S3</span>[<span class="id">S4</span>[<span class="id">S5</span>[<span class="id">S6</span> <span class="id">_</span>]]]]]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">pc</span>',<span class="id">pc</span>'',<span class="id">fp1</span>,<span class="id">fp2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">apply</span> <span class="id"><a href="ETrace.html#tau_star_tau_N_equiv">tau_star_tau_N_equiv</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="ETrace.html#tau_star_tau_N_equiv">tau_star_tau_N_equiv</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="USim_fpsconflict_backwards_preservation_case1">USim_fpsconflict_backwards_preservation_case1</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">sge</span> <span class="id">tge</span> <span class="id">I</span> <span class="id">ord</span> <span class="id">match_state</span> <span class="id">i</span> <span class="id">mu</span> <span class="id">spc</span> <span class="id">tpc</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#GlobEnv.wd">GlobEnv.wd</a></span> <span class="id"><a href="USimDRF.html#tge">tge</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="GlobUSim.html#GConfigUSim">GConfigUSim</a></span> <span class="id"><a href="USimDRF.html#sge">sge</a></span> <span class="id"><a href="USimDRF.html#tge">tge</a></span> <span class="id"><a href="USimDRF.html#I">I</a></span> <span class="id"><a href="USimDRF.html#ord">ord</a></span> <span class="id"><a href="USimDRF.html#match_state">match_state</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="USimDRF.html#match_state">match_state</a></span> <span class="id"><a href="USimDRF.html#i">i</a></span> <span class="id"><a href="USimDRF.html#mu">mu</a></span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> <span class="id"><a href="USimDRF.html#spc">spc</a></span> <span class="id"><a href="USimDRF.html#tpc">tpc</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">I2</span> <span class="id">ord2</span> <span class="id">match_state2</span> <span class="id">i2</span> <span class="id">id</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="GlobUSim.html#GConfigUSim">GConfigUSim</a></span> <span class="id"><a href="USimDRF.html#sge">sge</a></span> <span class="id"><a href="USimDRF.html#tge">tge</a></span> <span class="id"><a href="USimDRF.html#I2">I2</a></span> <span class="id"><a href="USimDRF.html#ord2">ord2</a></span> <span class="id"><a href="USimDRF.html#match_state2">match_state2</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="USimDRF.html#match_state2">match_state2</a></span> <span class="id"><a href="USimDRF.html#i2">i2</a></span> <span class="id"><a href="USimDRF.html#mu">mu</a></span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> ({-|<span class="id"><a href="USimDRF.html#spc">spc</a></span>,<span class="id"><a href="USimDRF.html#id">id</a></span>})({-|<span class="id"><a href="USimDRF.html#tpc">tpc</a></span>,<span class="id"><a href="USimDRF.html#id">id</a></span>}) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span> <span class="id"><a href="USimDRF.html#tpc">tpc</a></span> &lt;&gt; <span class="id"><a href="USimDRF.html#id">id</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">tpc1</span> <span class="id">fpT1</span> <span class="id">tpcid</span> <span class="id">fpTid</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="USimDRF.html#tpc">tpc</a></span> <span class="id"><a href="USimDRF.html#fpT1">fpT1</a></span> <span class="id"><a href="USimDRF.html#tpc1">tpc1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#tpc">tpc</a></span> = <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#tpc1">tpc1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> ({-|<span class="id"><a href="USimDRF.html#tpc">tpc</a></span>,<span class="id"><a href="USimDRF.html#id">id</a></span>}) <span class="id"><a href="USimDRF.html#fpTid">fpTid</a></span> <span class="id"><a href="USimDRF.html#tpcid">tpcid</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#tpc">tpc</a></span> = <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#tpcid">tpcid</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.conflict">FP.conflict</a></span> <span class="id"><a href="USimDRF.html#fpT1">fpT1</a></span> <span class="id"><a href="USimDRF.html#fpTid">fpTid</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">spc1</span> <span class="id">fpS1</span> <span class="id">spcid</span> <span class="id">fpSid</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="USimDRF.html#spc">spc</a></span> <span class="id"><a href="USimDRF.html#fpS1">fpS1</a></span> <span class="id"><a href="USimDRF.html#spc1">spc1</a></span> /\ <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#spc">spc</a></span> = <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#spc1">spc1</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> ({-|<span class="id"><a href="USimDRF.html#spc">spc</a></span>,<span class="id"><a href="USimDRF.html#id">id</a></span>}) <span class="id"><a href="USimDRF.html#fpSid">fpSid</a></span> <span class="id"><a href="USimDRF.html#spcid">spcid</a></span> /\ <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#spc">spc</a></span> = <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#spcid">spcid</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.conflict">FP.conflict</a></span> <span class="id"><a href="USimDRF.html#fpS1">fpS1</a></span> <span class="id"><a href="USimDRF.html#fpSid">fpSid</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8276')">Proof.</div>
<div class="proofscript" id="proof8276">
 {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">id</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">wd</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="ETrace.html#tau_star_tau_N_equiv">tau_star_tau_N_equiv</a></span> <span class="kwd">in</span> <span class="id">H4</span> <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="ETrace.html#tau_star_tau_N_equiv">tau_star_tau_N_equiv</a></span> <span class="kwd">in</span> <span class="id">H6</span> <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="USimDRF.html#GloblUSimulation_tau_N_backwards_progress">GloblUSimulation_tau_N_backwards_progress</a></span> <span class="kwd">with</span>(<span class="id">I</span>:=<span class="id">I</span>) <span class="kwd">in</span> <span class="id">H4</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="USimDRF.html#GloblUSimulation_tau_N_backwards_progress">GloblUSimulation_tau_N_backwards_progress</a></span> <span class="kwd">with</span>(<span class="id">I</span>:=<span class="id">I2</span>)<span class="kwd">in</span> <span class="id">H6</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H4</span> <span class="kwd">as</span> [<span class="id">spc1</span>[<span class="id">tpc</span>'[<span class="id">fpS1</span>[<span class="id">fpT</span>'[<span class="id">star1</span>[<span class="id">star2</span>[<span class="id">b1</span>[<span class="id">b2</span> <span class="id">lfpg</span>]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H6</span> <span class="kwd">as</span> [<span class="id">spc</span>'[<span class="id">tpc</span>''[<span class="id">fpS</span>'[<span class="id">fpT</span>''[<span class="id">star3</span>[<span class="id">star4</span>[<span class="id">b3</span>[<span class="id">b4</span> <span class="id">lfpg2</span>]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">clearfp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="Footprint.html#FP.conflict">FP.conflict</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fpT1</span> <span class="id">fpT</span>')(<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fpTid</span> <span class="id">fpT</span>'')).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="USimDRF.html#conflict_union">conflict_union</a></span>. <span class="tactic">apply</span> <span class="id"><a href="USimDRF.html#conflict_union_ano">conflict_union_ano</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="USimDRF.html#LFPG_conflict_backwards_preservation">LFPG_conflict_backwards_preservation</a></span> <span class="kwd">in</span> <span class="id">H4</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">spc1</span>,<span class="id">fpS1</span>,<span class="id">spc</span>',<span class="id">fpS</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H</span> .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="GlobUSim.html#match_mu_wd">match_mu_wd</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="USim_fpsconflict_backwards_preservation_case2">USim_fpsconflict_backwards_preservation_case2</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">sge</span> <span class="id">tge</span> <span class="id">I</span> <span class="id">ord</span> <span class="id">match_state</span> <span class="id">i</span> <span class="id">mu</span> <span class="id">spc</span> <span class="id">tpc</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#GlobEnv.wd">GlobEnv.wd</a></span> <span class="id"><a href="USimDRF.html#tge">tge</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="GlobUSim.html#GConfigUSim">GConfigUSim</a></span> <span class="id"><a href="USimDRF.html#sge">sge</a></span> <span class="id"><a href="USimDRF.html#tge">tge</a></span> <span class="id"><a href="USimDRF.html#I">I</a></span> <span class="id"><a href="USimDRF.html#ord">ord</a></span> <span class="id"><a href="USimDRF.html#match_state">match_state</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="USimDRF.html#match_state">match_state</a></span> <span class="id"><a href="USimDRF.html#i">i</a></span> <span class="id"><a href="USimDRF.html#mu">mu</a></span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> <span class="id"><a href="USimDRF.html#spc">spc</a></span> <span class="id"><a href="USimDRF.html#tpc">tpc</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">I2</span> <span class="id">ord2</span> <span class="id">match_state2</span> <span class="id">i2</span> <span class="id">id</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="GlobUSim.html#GConfigUSim">GConfigUSim</a></span> <span class="id"><a href="USimDRF.html#sge">sge</a></span> <span class="id"><a href="USimDRF.html#tge">tge</a></span> <span class="id"><a href="USimDRF.html#I2">I2</a></span> <span class="id"><a href="USimDRF.html#ord2">ord2</a></span> <span class="id"><a href="USimDRF.html#match_state2">match_state2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="USimDRF.html#match_state2">match_state2</a></span> <span class="id"><a href="USimDRF.html#i2">i2</a></span> <span class="id"><a href="USimDRF.html#mu">mu</a></span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> ({-|<span class="id"><a href="USimDRF.html#spc">spc</a></span>,<span class="id"><a href="USimDRF.html#id">id</a></span>})({-|<span class="id"><a href="USimDRF.html#tpc">tpc</a></span>,<span class="id"><a href="USimDRF.html#id">id</a></span>}) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span> <span class="id"><a href="USimDRF.html#tpc">tpc</a></span> &lt;&gt; <span class="id"><a href="USimDRF.html#id">id</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">tpc1</span> <span class="id">fpT1</span> <span class="id">tpc2</span> <span class="id">tpc3</span> <span class="id">fpT2</span> <span class="id">tpcid</span> <span class="id">fpTid</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="USimDRF.html#tpc">tpc</a></span> <span class="id"><a href="USimDRF.html#fpT1">fpT1</a></span> <span class="id"><a href="USimDRF.html#tpc1">tpc1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#tpc">tpc</a></span> = <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#tpc1">tpc1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="USimDRF.html#tpc1">tpc1</a></span> <span class="id"><a href="ETrace.html#tau">tau</a></span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> <span class="id"><a href="USimDRF.html#tpc2">tpc2</a></span> -&gt; <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#tpc1">tpc1</a></span> &lt;&gt; <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#tpc2">tpc2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="USimDRF.html#tpc2">tpc2</a></span> <span class="id"><a href="USimDRF.html#fpT2">fpT2</a></span> <span class="id"><a href="USimDRF.html#tpc3">tpc3</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#tpc2">tpc2</a></span> = <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#tpc3">tpc3</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> ({-|<span class="id"><a href="USimDRF.html#tpc">tpc</a></span>,<span class="id"><a href="USimDRF.html#id">id</a></span>}) <span class="id"><a href="USimDRF.html#fpTid">fpTid</a></span> <span class="id"><a href="USimDRF.html#tpcid">tpcid</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#tpc">tpc</a></span> = <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#tpcid">tpcid</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.conflict">FP.conflict</a></span> <span class="id"><a href="USimDRF.html#fpT2">fpT2</a></span> <span class="id"><a href="USimDRF.html#fpTid">fpTid</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">spc1</span> <span class="id">fpS1</span> <span class="id">spc2</span> <span class="id">spc3</span> <span class="id">fpS2</span> <span class="id">spcid</span> <span class="id">fpSid</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="USimDRF.html#spc">spc</a></span> <span class="id"><a href="USimDRF.html#fpS1">fpS1</a></span> <span class="id"><a href="USimDRF.html#spc1">spc1</a></span> /\ <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#spc">spc</a></span> = <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#spc1">spc1</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="USimDRF.html#spc1">spc1</a></span> <span class="id"><a href="ETrace.html#tau">tau</a></span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> <span class="id"><a href="USimDRF.html#spc2">spc2</a></span> /\ <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#spc1">spc1</a></span> &lt;&gt; <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#spc2">spc2</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="USimDRF.html#spc2">spc2</a></span> <span class="id"><a href="USimDRF.html#fpS2">fpS2</a></span> <span class="id"><a href="USimDRF.html#spc3">spc3</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> ({-|<span class="id"><a href="USimDRF.html#spc">spc</a></span>,<span class="id"><a href="USimDRF.html#id">id</a></span>}) <span class="id"><a href="USimDRF.html#fpSid">fpSid</a></span> <span class="id"><a href="USimDRF.html#spcid">spcid</a></span> /\ <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#spc">spc</a></span> = <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#spcid">spcid</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.conflict">FP.conflict</a></span> <span class="id"><a href="USimDRF.html#fpS2">fpS2</a></span> <span class="id"><a href="USimDRF.html#fpSid">fpSid</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8277')">Proof.</div>
<div class="proofscript" id="proof8277">
 {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">R</span>:<span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span> <span class="id">tpc</span> = <span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span> <span class="id">tpc2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="GlobSim.html#GlobSim.tau_star_tid_preservation">GlobSim.tau_star_tid_preservation</a></span> <span class="kwd">in</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="GlobSim.html#GlobSim.tau_step_tid_preservation">GlobSim.tau_step_tid_preservation</a></span> <span class="kwd">in</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="ETrace.html#tau_star_tau_N_equiv">tau_star_tau_N_equiv</a></span> <span class="kwd">in</span> <span class="id">H5</span> <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="ETrace.html#tau_star_tau_N_equiv">tau_star_tau_N_equiv</a></span> <span class="kwd">in</span> <span class="id">H11</span> <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="USimDRF.html#GloblUSimulation_tau_N_backwards_progress">GloblUSimulation_tau_N_backwards_progress</a></span> <span class="kwd">with</span>(<span class="id">I</span>:=<span class="id">I2</span>) <span class="kwd">in</span> <span class="id">H11</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H11</span> <span class="kwd">as</span> [<span class="id">spc</span>'[<span class="id">tpc</span>''[<span class="id">fpS</span>'[<span class="id">fpT</span>''[<span class="id">star3</span>[<span class="id">star4</span>[<span class="id">b3</span>[<span class="id">b4</span> <span class="id">lfpg2</span>]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="USimDRF.html#GlobUSimulation_tau_N_EntAtom_progress">GlobUSimulation_tau_N_EntAtom_progress</a></span> <span class="kwd">with</span>(<span class="id">I0</span>:=<span class="id">I</span>) <span class="kwd">in</span> <span class="id">H5</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H5</span> <span class="kwd">as</span> [<span class="id">spc1</span>[<span class="id">spce</span>[<span class="id">fpS1</span>[<span class="id">j</span>[<span class="id">S1</span>[<span class="id">S2</span>[<span class="id">S3</span>[<span class="id">S4</span>[<span class="id">S5</span> <span class="id">S6</span>]]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H9</span> <span class="kwd">as</span> <span class="id">H9</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="ETrace.html#tau_star_tau_N_equiv">tau_star_tau_N_equiv</a></span> <span class="kwd">in</span> <span class="id">H9</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H9</span> <span class="kwd">as</span> [<span class="id">y</span> <span class="id">L</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="USimDRF.html#GloblUSimulation_tau_N_backwards_progress">GloblUSimulation_tau_N_backwards_progress</a></span> <span class="kwd">with</span>(<span class="id">I</span>:=<span class="id">I</span>)<span class="kwd">in</span> <span class="id">L</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">L</span> <span class="kwd">as</span> [<span class="id">spce0</span>[<span class="id">tpce</span>[<span class="id">fpSe</span>[<span class="id">fpTe</span>[<span class="id">Q1</span>[<span class="id">Q2</span>[<span class="id">Q3</span>[<span class="id">Q4</span> <span class="id">Q5</span>]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">spc1</span>,<span class="id">fpS1</span>,<span class="id">spce</span>,<span class="id">spce0</span>,<span class="id">fpSe</span>,<span class="id">spc</span>',<span class="id">fpS</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">clearfp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="ETrace.html#tau_star_tau_N_equiv">tau_star_tau_N_equiv</a></span> <span class="kwd">in</span> <span class="id">S1</span> <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="GlobSim.html#GlobSim.tau_N_bit_backwards_preservation">GlobSim.tau_N_bit_backwards_preservation</a></span> <span class="kwd">in</span> <span class="id">H5</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">S2</span>;<span class="tactic">rewrite</span> <span class="id">S4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="USimDRF.html#LFPG_conflict_backwards_preservation">LFPG_conflict_backwards_preservation</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="USimDRF.html#conflict_union">conflict_union</a></span>. <span class="tactic">apply</span> <span class="id"><a href="USimDRF.html#conflict_union_ano">conflict_union_ano</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span>&lt;- <span class="id">R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">match_mu_wd</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H7</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>;<span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H7</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>;<span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="np_race_config_base">np_race_config_base</a></span> {<span class="id">ge</span>}(<span class="id">pc</span>:@<span class="id"><a href="GlobDefs.html#ProgConfig">ProgConfig</a></span> <span class="id"><a href="USimDRF.html#ge">ge</a></span>):<span class="kwd">Prop</span>:=<br/>
&nbsp;&nbsp;| <span class="id"><a name="race_tau">race_tau</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">id1</span> <span class="id">id2</span> <span class="id">fp1</span> <span class="id">fp2</span> <span class="id">pc1</span> <span class="id">pc2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GSimDefs.html#pc_valid_tid">pc_valid_tid</a></span> <span class="id">pc</span> <span class="id"><a href="USimDRF.html#id1">id1</a></span> -&gt; <span class="id"><a href="GSimDefs.html#pc_valid_tid">pc_valid_tid</a></span> <span class="id">pc</span> <span class="id"><a href="USimDRF.html#id2">id2</a></span> -&gt; <span class="id"><a href="USimDRF.html#id1">id1</a></span>&lt;&gt;<span class="id"><a href="USimDRF.html#id2">id2</a></span> -&gt; <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">pc</span> = <span class="id"><a href="GlobDefs.html#O">O</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> ({-|<span class="id">pc</span>,<span class="id"><a href="USimDRF.html#id1">id1</a></span>}) <span class="id"><a href="USimDRF.html#fp1">fp1</a></span> <span class="id"><a href="USimDRF.html#pc1">pc1</a></span> -&gt; <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">pc</span> = <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#pc1">pc1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> ({-|<span class="id">pc</span>,<span class="id"><a href="USimDRF.html#id2">id2</a></span>}) <span class="id"><a href="USimDRF.html#fp2">fp2</a></span> <span class="id"><a href="USimDRF.html#pc2">pc2</a></span> -&gt; <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">pc</span> = <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#pc2">pc2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.conflict">FP.conflict</a></span> <span class="id"><a href="USimDRF.html#fp1">fp1</a></span> <span class="id"><a href="USimDRF.html#fp2">fp2</a></span> -&gt; <span class="id"><a href="USimDRF.html#np_race_config_base">np_race_config_base</a></span> <span class="id">pc</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="race_atom_1">race_atom_1</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">id1</span> <span class="id">id2</span> <span class="id">fp1</span> <span class="id">fp10</span> <span class="id">fp2</span> <span class="id">pc1</span> <span class="id">pc10</span> <span class="id">pc11</span> <span class="id">pc2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GSimDefs.html#pc_valid_tid">pc_valid_tid</a></span> <span class="id">pc</span> <span class="id"><a href="USimDRF.html#id1">id1</a></span> -&gt; <span class="id"><a href="GSimDefs.html#pc_valid_tid">pc_valid_tid</a></span> <span class="id">pc</span> <span class="id"><a href="USimDRF.html#id2">id2</a></span> -&gt; <span class="id"><a href="USimDRF.html#id1">id1</a></span>&lt;&gt;<span class="id"><a href="USimDRF.html#id2">id2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> ({-|<span class="id">pc</span>,<span class="id"><a href="USimDRF.html#id1">id1</a></span>}) <span class="id"><a href="USimDRF.html#fp1">fp1</a></span> <span class="id"><a href="USimDRF.html#pc1">pc1</a></span> -&gt; <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">pc</span> = <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#pc1">pc1</a></span> -&gt; <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">pc</span> = <span class="id"><a href="GlobDefs.html#O">O</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="USimDRF.html#pc1">pc1</a></span> <span class="id"><a href="ETrace.html#tau">tau</a></span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> <span class="id"><a href="USimDRF.html#pc10">pc10</a></span> -&gt; <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#pc1">pc1</a></span> &lt;&gt; <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#pc10">pc10</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="USimDRF.html#pc10">pc10</a></span> <span class="id"><a href="USimDRF.html#fp10">fp10</a></span> <span class="id"><a href="USimDRF.html#pc11">pc11</a></span> -&gt; <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#pc10">pc10</a></span> = <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#pc11">pc11</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> ({-|<span class="id">pc</span>,<span class="id"><a href="USimDRF.html#id2">id2</a></span>}) <span class="id"><a href="USimDRF.html#fp2">fp2</a></span> <span class="id"><a href="USimDRF.html#pc2">pc2</a></span> -&gt; <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">pc</span> = <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#pc2">pc2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.conflict">FP.conflict</a></span> <span class="id"><a href="USimDRF.html#fp10">fp10</a></span> <span class="id"><a href="USimDRF.html#fp2">fp2</a></span> -&gt; <span class="id"><a href="USimDRF.html#np_race_config_base">np_race_config_base</a></span> <span class="id">pc</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="np_race_config_0">np_race_config_0</a></span> {<span class="id">NL</span>}{<span class="id">L</span>:@<span class="id"><a href="GAST.html#langs">langs</a></span> <span class="id"><a href="USimDRF.html#NL">NL</a></span>}{<span class="id">gm</span>}{<span class="id">ge</span>}(<span class="id">p</span>:<span class="id"><a href="GAST.html#prog">prog</a></span> <span class="id"><a href="USimDRF.html#L">L</a></span>)(<span class="id">pc</span>:@<span class="id"><a href="GlobDefs.html#ProgConfig">ProgConfig</a></span> <span class="id"><a href="USimDRF.html#ge">ge</a></span>):<span class="kwd">Prop</span>:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#init_config">init_config</a></span> <span class="id"><a href="USimDRF.html#p">p</a></span> <span class="id"><a href="USimDRF.html#gm">gm</a></span> <span class="id"><a href="USimDRF.html#ge">ge</a></span> <span class="id"><a href="USimDRF.html#pc">pc</a></span> <span class="id"><a href="USimDRF.html#pc">pc</a></span>.(<span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span>) /\ <span class="id"><a href="USimDRF.html#np_race_config_base">np_race_config_base</a></span> <span class="id"><a href="USimDRF.html#pc">pc</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="np_race_config_1">np_race_config_1</a></span> {<span class="id">ge</span>}(<span class="id">o</span>:<span class="id"><a href="ETrace.html#glabel">glabel</a></span>)(<span class="id">pc0</span> <span class="id">pc</span>:@<span class="id"><a href="GlobDefs.html#ProgConfig">ProgConfig</a></span> <span class="id"><a href="USimDRF.html#ge">ge</a></span>):<span class="kwd">Prop</span>:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="USimDRF.html#pc0">pc0</a></span> <span class="id"><a href="USimDRF.html#o">o</a></span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> <span class="id"><a href="USimDRF.html#pc">pc</a></span> /\ <span class="id"><a href="USimDRF.html#o">o</a></span> &lt;&gt; <span class="id"><a href="ETrace.html#tau">tau</a></span> /\ <span class="id"><a href="USimDRF.html#np_race_config_base">np_race_config_base</a></span> <span class="id"><a href="USimDRF.html#pc">pc</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="swid_valid_tid_preservation">swid_valid_tid_preservation</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">pc</span> <span class="id">id</span> <span class="id">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="GSimDefs.html#pc_valid_tid">pc_valid_tid</a></span> <span class="id"><a href="USimDRF.html#ge">ge</a></span> <span class="id"><a href="USimDRF.html#pc">pc</a></span> <span class="id"><a href="USimDRF.html#id">id</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GSimDefs.html#pc_valid_tid">pc_valid_tid</a></span> ({-|<span class="id"><a href="USimDRF.html#pc">pc</a></span>,<span class="id"><a href="USimDRF.html#t">t</a></span>}) <span class="id"><a href="USimDRF.html#id">id</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8278')">Proof.</div>
<div class="proofscript" id="proof8278">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">pc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GSimDefs.html#pc_valid_tid">pc_valid_tid</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="GUSim_nprace_preservation_1">GUSim_nprace_preservation_1</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">sge</span> <span class="id">tge</span> <span class="id">I</span> <span class="id">ord</span> <span class="id">i</span> <span class="id">match_state</span> <span class="id">mu</span> <span class="id">fpS</span> <span class="id">fpT</span> <span class="id">spc</span> <span class="id">tpc</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#GlobEnv.wd">GlobEnv.wd</a></span> <span class="id"><a href="USimDRF.html#tge">tge</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="GlobUSim.html#GConfigUSim">GConfigUSim</a></span> <span class="id"><a href="USimDRF.html#sge">sge</a></span> <span class="id"><a href="USimDRF.html#tge">tge</a></span> <span class="id"><a href="USimDRF.html#I">I</a></span> <span class="id"><a href="USimDRF.html#ord">ord</a></span> <span class="id"><a href="USimDRF.html#match_state">match_state</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="USimDRF.html#match_state">match_state</a></span> <span class="id"><a href="USimDRF.html#i">i</a></span> <span class="id"><a href="USimDRF.html#mu">mu</a></span> <span class="id"><a href="USimDRF.html#fpS">fpS</a></span> <span class="id"><a href="USimDRF.html#fpT">fpT</a></span> <span class="id"><a href="USimDRF.html#spc">spc</a></span> <span class="id"><a href="USimDRF.html#tpc">tpc</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">o</span> <span class="id">tpc1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="USimDRF.html#np_race_config_1">np_race_config_1</a></span> <span class="id"><a href="USimDRF.html#o">o</a></span> <span class="id"><a href="USimDRF.html#tpc">tpc</a></span> <span class="id"><a href="USimDRF.html#tpc1">tpc1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">spc1</span> <span class="id">fpS1</span> <span class="id">spc2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="USimDRF.html#spc">spc</a></span> <span class="id"><a href="USimDRF.html#fpS1">fpS1</a></span> <span class="id"><a href="USimDRF.html#spc1">spc1</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="USimDRF.html#np_race_config_1">np_race_config_1</a></span> <span class="id"><a href="USimDRF.html#o">o</a></span> <span class="id"><a href="USimDRF.html#spc1">spc1</a></span> <span class="id"><a href="USimDRF.html#spc2">spc2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8279')">Proof.</div>
<div class="proofscript" id="proof8279">
 {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="USimDRF.html#np_race_config_1">np_race_config_1</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H2</span> <span class="kwd">as</span> [<span class="id">step</span>[<span class="id">ntau</span> <span class="id">race</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H0</span> <span class="kwd">as</span> [<span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">R</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">R</span> <span class="id">i</span> <span class="id">mu</span> <span class="id">fpS</span> <span class="id">fpT</span> <span class="id">spc</span> <span class="id">tpc</span> <span class="id">H1</span> <span class="id">o</span> <span class="id">tpc1</span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> <span class="id">ntau</span> <span class="id">step</span>) <span class="kwd">as</span> [<span class="id">fpS1</span>[<span class="id">spc1</span>[<span class="id">fpS2</span>[<span class="id">spc2</span>[<span class="id">id</span>[<span class="id">S1</span>[<span class="id">S2</span>[<span class="id">S3</span>[<span class="id">S4</span> <span class="id">S5</span>]]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">fpS2</span>=<span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">S5</span> <span class="id">id</span> <span class="id">S3</span>) <span class="kwd">as</span> [<span class="id">S5</span> <span class="id">_</span>]. <span class="tactic">inversion</span> <span class="id">S5</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>;<span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="id">clearfp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="GSimDefs.html#pc_valid_tid">pc_valid_tid</a></span> <span class="id">spc2</span> <span class="id">spc2</span>.(<span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">S4</span>;<span class="tactic">subst</span>;<span class="tactic">try</span> <span class="id">contradiction</span>;<span class="tactic">unfold</span> <span class="id"><a href="GSimDefs.html#pc_valid_tid">pc_valid_tid</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">S5</span> <span class="id">spc2</span>.(<span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span>) <span class="id">H2</span> <span class="kwd">as</span> [<span class="id">S8</span>[<span class="id">S6</span>[<span class="id">j</span> <span class="id">S7</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">spc1</span>,<span class="id">fpS1</span>,<span class="id">spc2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="kwd">forall</span> <span class="id">t</span>,<span class="id"><a href="GSimDefs.html#pc_valid_tid">pc_valid_tid</a></span> <span class="id">tpc1</span> <span class="id"><a href="USimDRF.html#t">t</a></span>-&gt; <span class="id"><a href="GSimDefs.html#pc_valid_tid">pc_valid_tid</a></span> <span class="id">spc2</span> <span class="id"><a href="USimDRF.html#t">t</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H0</span> <span class="kwd">as</span> [<span class="id">_</span> <span class="id">R</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">R</span> <span class="kwd">in</span> <span class="id">S7</span> <span class="kwd">as</span> [<span class="id">E1</span>[<span class="id">E2</span>[<span class="id">E3</span> <span class="id">_</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">GlobSim.thrddom_eq</span>'<span class="id">_valid_tid_preservation</span> <span class="kwd">in</span> <span class="id">H3</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="GlobSim.html#GlobSim.thrddom_eq_comm">GlobSim.thrddom_eq_comm</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">spc2</span>,<span class="id">tpc1</span>;<span class="tactic">inversion</span> <span class="id">E3</span>;<span class="tactic">subst</span>;<span class="id">econstructor</span>;<span class="tactic">simpl</span> <span class="kwd">in</span> *;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">race</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H3</span> <span class="id">id1</span> <span class="id">H4</span> <span class="kwd">as</span> <span class="id">L1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">S5</span> <span class="id">id1</span> <span class="id">L1</span> <span class="kwd">as</span> [<span class="id">Sq1</span>[<span class="id">Sq2</span>[<span class="id">kq</span> <span class="id">Sq3</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H3</span> <span class="id">id2</span> <span class="id">H5</span> <span class="kwd">as</span> <span class="id">L2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">S5</span> <span class="id">id2</span> <span class="id">L2</span> <span class="kwd">as</span> [<span class="id">Sr1</span>[<span class="id">Sr2</span>[<span class="id">Kr</span> <span class="id">Sr3</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id"><a href="USimDRF.html#USim_fpsconflict_backwards_preservation_case1">USim_fpsconflict_backwards_preservation_case1</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">e</span> <span class="id">sge</span> <span class="id">tge</span> <span class="id">I</span> <span class="id">ord</span> <span class="id">match_state</span> <span class="id">kq</span> <span class="id">mu</span> ({-|<span class="id">spc2</span>, <span class="id">id1</span>}) ({-|<span class="id">tpc1</span>, <span class="id">id1</span>}) <span class="id">H</span> <span class="id">H0</span> <span class="id">Sq3</span> <span class="id">I</span> <span class="id">ord</span> <span class="id">match_state</span> <span class="id">Kr</span> <span class="id">id2</span> <span class="id">H0</span> <span class="id">Sr3</span> <span class="id">H6</span> <span class="id">pc1</span> <span class="id">fp1</span> <span class="id">pc2</span> <span class="id">fp2</span> <span class="id">H8</span> <span class="id">H9</span> <span class="id">H10</span> <span class="id">H11</span> <span class="id">H12</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">e</span> <span class="kwd">as</span> [<span class="id">s1</span>[<span class="id">f1</span>[<span class="id">s2</span>[<span class="id">f2</span>[<span class="id">Q1</span>[<span class="id">Q2</span>[<span class="id">Q3</span>[<span class="id">Q4</span> <span class="id">Q5</span>]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H3</span> <span class="kwd">in</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H3</span> <span class="kwd">in</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 1 <span class="kwd">with</span>(<span class="id">id1</span>:=<span class="id">id1</span>)(<span class="id">id2</span>:=<span class="id">id2</span>);<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">match_tp</span> <span class="kwd">in</span> <span class="id">Sr3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Sr3</span> <span class="kwd">as</span> [<span class="id">_</span>[<span class="id">_</span>[<span class="id">_</span>[<span class="id">Eq</span> <span class="id">_</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">Eq</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">spc2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H3</span> <span class="id">id1</span> <span class="id">H4</span> <span class="kwd">as</span> <span class="id">L1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">S5</span> <span class="id">id1</span> <span class="id">L1</span> <span class="kwd">as</span> [<span class="id">Sq1</span>[<span class="id">Sq2</span>[<span class="id">kq</span> <span class="id">Sq3</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H3</span> <span class="id">id2</span> <span class="id">H5</span> <span class="kwd">as</span> <span class="id">L2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">S5</span> <span class="id">id2</span> <span class="id">L2</span> <span class="kwd">as</span> [<span class="id">Sr1</span>[<span class="id">Sr2</span>[<span class="id">Kr</span> <span class="id">Sr3</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id"><a href="USimDRF.html#USim_fpsconflict_backwards_preservation_case2">USim_fpsconflict_backwards_preservation_case2</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">e</span> <span class="id">sge</span> <span class="id">tge</span> <span class="id">I</span> <span class="id">ord</span> <span class="id">match_state</span> <span class="id">kq</span> <span class="id">mu</span> ({-|<span class="id">spc2</span>, <span class="id">id1</span>}) ({-|<span class="id">tpc1</span>, <span class="id">id1</span>}) <span class="id">H</span> <span class="id">H0</span> <span class="id">Sq3</span> <span class="id">I</span> <span class="id">ord</span> <span class="id">match_state</span> <span class="id">Kr</span> <span class="id">id2</span> <span class="id">H0</span> <span class="id">Sr3</span> <span class="id">H6</span> <span class="id">pc1</span> <span class="id">fp1</span> <span class="id">pc10</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">e</span> <span class="id">pc11</span> <span class="id">fp10</span> <span class="id">pc2</span> <span class="id">fp2</span> <span class="id">H7</span> <span class="id">H8</span> <span class="id">H10</span> <span class="id">H11</span> <span class="id">H12</span> <span class="id">H13</span> <span class="id">H14</span> <span class="id">H15</span> <span class="id">H16</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">e</span> <span class="kwd">as</span> [<span class="id">s1</span>[<span class="id">f1</span>[<span class="id">s2</span>[<span class="id">s3</span>[<span class="id">f2</span>[<span class="id">s4</span>[<span class="id">f4</span>[<span class="id">Q1</span>[<span class="id">Q2</span>[<span class="id">Q3</span>[<span class="id">Q4</span>[<span class="id">Q5</span>[<span class="id">Q6</span>[<span class="id">Q7</span> <span class="id">Q8</span>]]]]]]]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">spc2</span> = <span class="id"><a href="GlobDefs.html#O">O</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">Sr1</span>;<span class="tactic">subst</span>;<span class="tactic">try</span> <span class="id">contradiction</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 2 <span class="kwd">with</span>(<span class="id">id1</span>:=<span class="id">id1</span>)(<span class="id">id2</span>:=<span class="id">id2</span>);<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="GlobSim.html#GlobSim.EntAx_bit_rule">GlobSim.EntAx_bit_rule</a></span> <span class="kwd">in</span> <span class="id">Q4</span> <span class="kwd">as</span> [];<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="ETrace.html#tau_star_tau_N_equiv">tau_star_tau_N_equiv</a></span> <span class="kwd">in</span> <span class="id">Q5</span> <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="GlobSim.html#GlobSim.tau_N_bit_I_preservation">GlobSim.tau_N_bit_I_preservation</a></span> <span class="kwd">in</span> <span class="id">H19</span> <span class="kwd">as</span> <span class="id">L</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="GUSim_progress">GUSim_progress</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">sge</span> <span class="id">tge</span> <span class="id">I</span> <span class="id">ord</span> <span class="id">i</span> <span class="id">match_state</span> <span class="id">mu</span> <span class="id">fpS</span> <span class="id">fpT</span> <span class="id">spc</span> <span class="id">tpc</span> <span class="id">l</span> <span class="id">fpT</span>' <span class="id">tpc</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="GlobUSim.html#GConfigUSim">GConfigUSim</a></span> <span class="id"><a href="USimDRF.html#sge">sge</a></span> <span class="id"><a href="USimDRF.html#tge">tge</a></span> <span class="id"><a href="USimDRF.html#I">I</a></span> <span class="id"><a href="USimDRF.html#ord">ord</a></span> <span class="id"><a href="USimDRF.html#match_state">match_state</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="USimDRF.html#match_state">match_state</a></span> <span class="id"><a href="USimDRF.html#i">i</a></span> <span class="id"><a href="USimDRF.html#mu">mu</a></span> <span class="id"><a href="USimDRF.html#fpS">fpS</a></span> <span class="id"><a href="USimDRF.html#fpT">fpT</a></span> <span class="id"><a href="USimDRF.html#spc">spc</a></span> <span class="id"><a href="USimDRF.html#tpc">tpc</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="USimDRF.html#tpc">tpc</a></span> <span class="id"><a href="USimDRF.html#l">l</a></span> <span class="id">fpT</span>' <span class="id">tpc</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">fpS</span>' <span class="id">spc</span>' <span class="id">l</span>' <span class="id">j</span> <span class="id">fp1</span> <span class="id">fp2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="USimDRF.html#match_state">match_state</a></span> <span class="id"><a href="USimDRF.html#j">j</a></span> <span class="id"><a href="USimDRF.html#mu">mu</a></span> <span class="id"><a href="USimDRF.html#fp1">fp1</a></span> <span class="id"><a href="USimDRF.html#fp2">fp2</a></span> <span class="id">spc</span>' <span class="id">tpc</span>' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#star">star</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="USimDRF.html#spc">spc</a></span> <span class="id">l</span>' <span class="id">fpS</span>' <span class="id">spc</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8280')">Proof.</div>
<div class="proofscript" id="proof8280">
 {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">tpc</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">GUSim</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">GUSim</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">match_spc_tpc</span> <span class="id">step1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">l</span>=<span class="id"><a href="ETrace.html#tau">tau</a></span>\/<span class="id">l</span>&lt;&gt;<span class="id"><a href="ETrace.html#tau">tau</a></span>). <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#classic">classic</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">tpc</span> = <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">tpc</span>'\/<span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">tpc</span> &lt;&gt; <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id">tpc</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#classic">classic</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">match_tau_step</span> <span class="kwd">in</span> <span class="id">H</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [[<span class="id">spc1</span>[<span class="id">fpS1</span>[<span class="id">j</span>[<span class="id">S1</span>[<span class="id">S2</span> <span class="id">S3</span>]]]]]|[<span class="id">j</span>[<span class="id">S1</span> <span class="id">S2</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="ETrace.html#tau_plus2star">tau_plus2star</a></span> <span class="kwd">in</span> <span class="id">S1</span>;<span class="tactic">apply</span> <span class="id"><a href="USimDRF.html#tau_star_to_star">tau_star_to_star</a></span> <span class="kwd">in</span> <span class="id">S1</span> <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">fpS1</span>,<span class="id">spc1</span>,<span class="id">x</span>,<span class="id">j</span>,(<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fpS</span> <span class="id">fpS1</span>), (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fpT</span> <span class="id">fpT</span>');<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">exists</span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>,<span class="id">spc</span>,<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>,<span class="id">j</span>,<span class="id">fpS</span>,(<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fpT</span> <span class="id">fpT</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>;<span class="tactic">auto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">match_ent_atom</span> <span class="kwd">in</span> <span class="id">H</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [<span class="id">fpS1</span>[<span class="id">spc1</span>[<span class="id">fpS2</span>[<span class="id">spc2</span>[<span class="id">j</span>[<span class="id">S1</span>[<span class="id">S2</span>[<span class="id">S3</span>[<span class="id">S4</span> <span class="id">S5</span>]]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="USimDRF.html#tau_star_to_star">tau_star_to_star</a></span> <span class="kwd">in</span> <span class="id">S1</span> <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fpS1</span> <span class="id">fpS2</span>),<span class="id">spc2</span>,(<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#app">app</a></span> <span class="id">x</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#cons">cons</a></span> <span class="id"><a href="ETrace.html#tau">tau</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>)),<span class="id">j</span>,<span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>,<span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="USimDRF.html#cons_star_step">cons_star_step</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H</span> <span class="kwd">as</span> <span class="id">L</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">match_npsw_step</span> <span class="kwd">in</span> <span class="id">H</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [<span class="id">fpS1</span>[<span class="id">spc1</span>[<span class="id">fpS2</span>[<span class="id">spc2</span>[<span class="id">id</span>[<span class="id">S1</span>[<span class="id">S2</span>[<span class="id">S3</span>[<span class="id">S4</span> <span class="id">S5</span>]]]]]]]]].      <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="GSimDefs.html#pc_valid_tid">pc_valid_tid</a></span> ({-|<span class="id">tpc</span>',<span class="id">id</span>}) <span class="id">tpc</span>'.(<span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">step1</span>;<span class="tactic">subst</span>;<span class="tactic">try</span> <span class="id">contradiction</span>;<span class="tactic">unfold</span> <span class="id"><a href="GSimDefs.html#pc_valid_tid">pc_valid_tid</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">S5</span> <span class="id">id</span> <span class="id">S3</span> <span class="kwd">as</span> [<span class="id">_</span>[<span class="id">_</span>[<span class="id">i</span>' <span class="id">H</span>']]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">match_tp</span> <span class="id">i</span>' <span class="id">mu</span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> ({-|<span class="id">spc2</span>, <span class="id">id</span>}) ({-|<span class="id">tpc</span>', <span class="id">id</span>}) <span class="id">H</span>' <span class="kwd">as</span> [<span class="id">E1</span>[<span class="id">E2</span>[<span class="id">E3</span> <span class="id">_</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">GlobSim.match_tp_ano</span>' <span class="kwd">in</span> <span class="id">E3</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="GSimDefs.html#pc_valid_tid">pc_valid_tid</a></span> <span class="id">spc2</span> (<span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span> <span class="id">tpc</span>')).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">S5</span> <span class="id">tpc</span>'.(<span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span>) <span class="id">H0</span>) <span class="kwd">as</span> [<span class="id">Q1</span>[<span class="id">Q2</span> [<span class="id">j</span> <span class="id">Q3</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="USimDRF.html#tau_star_to_star">tau_star_to_star</a></span> <span class="kwd">in</span> <span class="id">S1</span> <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fpS1</span> <span class="id">fpS2</span>), ({-|<span class="id">spc2</span>, <span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span> <span class="id">tpc</span>'}),(<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#app">app</a></span> <span class="id">x</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#cons">cons</a></span> <span class="id">l</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>)),<span class="id">j</span>,<span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>,<span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(({-|<span class="id">tpc</span>',<span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span> <span class="id">tpc</span>'})=<span class="id">tpc</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">tpc</span>';<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="USimDRF.html#cons_star_step">cons_star_step</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="cons_star_star">cons_star_star</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">pc0</span> <span class="id">pc1</span> <span class="id">pc2</span> <span class="id">fp1</span> <span class="id">fp2</span> <span class="id">l1</span> <span class="id">l2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#star">star</a></span> (@<span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="USimDRF.html#ge">ge</a></span>) <span class="id"><a href="USimDRF.html#pc0">pc0</a></span> <span class="id"><a href="USimDRF.html#l1">l1</a></span> <span class="id"><a href="USimDRF.html#fp1">fp1</a></span> <span class="id"><a href="USimDRF.html#pc1">pc1</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#star">star</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="USimDRF.html#pc1">pc1</a></span> <span class="id"><a href="USimDRF.html#l2">l2</a></span> <span class="id"><a href="USimDRF.html#fp2">fp2</a></span> <span class="id"><a href="USimDRF.html#pc2">pc2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#star">star</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="USimDRF.html#pc0">pc0</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#app">app</a></span> <span class="id"><a href="USimDRF.html#l1">l1</a></span> <span class="id"><a href="USimDRF.html#l2">l2</a></span>)(<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="USimDRF.html#fp1">fp1</a></span> <span class="id"><a href="USimDRF.html#fp2">fp2</a></span>) <span class="id"><a href="USimDRF.html#pc2">pc2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8281')">Proof.</div>
<div class="proofscript" id="proof8281">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">clearfp</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">IHstar</span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#app">app</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#cons">cons</a></span> <span class="id">e</span> <span class="id">l</span>) <span class="id">l2</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#cons">cons</a></span> <span class="id">e</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#app">app</a></span> <span class="id">l</span> <span class="id">l2</span>)). <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Footprint.html#FP.fp_union_assoc">FP.fp_union_assoc</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 2 ;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="GUSim_star_progress">GUSim_star_progress</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">sge</span> <span class="id">tge</span> <span class="id">I</span> <span class="id">ord</span> <span class="id">i</span> <span class="id">match_state</span> <span class="id">mu</span> <span class="id">fpS</span> <span class="id">fpT</span> <span class="id">spc</span> <span class="id">tpc</span> <span class="id">l</span> <span class="id">fpT</span>' <span class="id">tpc</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="GlobUSim.html#GConfigUSim">GConfigUSim</a></span> <span class="id"><a href="USimDRF.html#sge">sge</a></span> <span class="id"><a href="USimDRF.html#tge">tge</a></span> <span class="id"><a href="USimDRF.html#I">I</a></span> <span class="id"><a href="USimDRF.html#ord">ord</a></span> <span class="id"><a href="USimDRF.html#match_state">match_state</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="USimDRF.html#match_state">match_state</a></span> <span class="id"><a href="USimDRF.html#i">i</a></span> <span class="id"><a href="USimDRF.html#mu">mu</a></span> <span class="id"><a href="USimDRF.html#fpS">fpS</a></span> <span class="id"><a href="USimDRF.html#fpT">fpT</a></span> <span class="id"><a href="USimDRF.html#spc">spc</a></span> <span class="id"><a href="USimDRF.html#tpc">tpc</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#star">star</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="USimDRF.html#tpc">tpc</a></span> <span class="id"><a href="USimDRF.html#l">l</a></span> <span class="id">fpT</span>' <span class="id">tpc</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">fpS</span>' <span class="id">spc</span>' <span class="id">l</span>' <span class="id">j</span> <span class="id">fp1</span> <span class="id">fp2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="USimDRF.html#match_state">match_state</a></span> <span class="id"><a href="USimDRF.html#j">j</a></span> <span class="id"><a href="USimDRF.html#mu">mu</a></span> <span class="id"><a href="USimDRF.html#fp1">fp1</a></span> <span class="id"><a href="USimDRF.html#fp2">fp2</a></span> <span class="id">spc</span>' <span class="id">tpc</span>' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#star">star</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="USimDRF.html#spc">spc</a></span> <span class="id">l</span>' <span class="id">fpS</span>' <span class="id">spc</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8282')">Proof.</div>
<div class="proofscript" id="proof8282">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">H</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">I</span> <span class="id">ord</span> <span class="id">match_state</span> <span class="id">i</span> <span class="id">mu</span> <span class="id">fpS</span> <span class="id">fpT</span> <span class="id">spc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">H1</span>;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>,<span class="id">spc</span>,<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>,<span class="id">i</span>,<span class="id">fpS</span>,<span class="id">fpT</span>;<span class="tactic">split</span>;<span class="tactic">auto</span>;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="USimDRF.html#GUSim_progress">GUSim_progress</a></span> <span class="kwd">in</span> <span class="id">H</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [<span class="id">fpS1</span>[<span class="id">spc1</span>[<span class="id">l</span>'[<span class="id">j</span>[<span class="id">fp1</span>'[<span class="id">fp2</span>'[]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHstar</span> <span class="kwd">in</span> <span class="id">H</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [<span class="id">fpS2</span>[<span class="id">spc2</span>[<span class="id">l2</span>[<span class="id">j2</span>[<span class="id">fp12</span>[<span class="id">fp22</span>[]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fpS1</span> <span class="id">fpS2</span>),<span class="id">spc2</span>,(<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#app">app</a></span> <span class="id">l</span>' <span class="id">l2</span>),<span class="id">j2</span>,<span class="id">fp12</span>,<span class="id">fp22</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="USimDRF.html#cons_star_star">cons_star_star</a></span> ;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="GUSim_star_nprace_preservation_1">GUSim_star_nprace_preservation_1</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">sge</span> <span class="id">tge</span>  <span class="id">I</span> <span class="id">ord</span> <span class="id">i</span> <span class="id">match_state</span> <span class="id">mu</span> <span class="id">fpS</span> <span class="id">fpT</span> <span class="id">spc</span> <span class="id">tpc</span> ,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#GlobEnv.wd">GlobEnv.wd</a></span> <span class="id"><a href="USimDRF.html#tge">tge</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="GlobUSim.html#GConfigUSim">GConfigUSim</a></span> <span class="id"><a href="USimDRF.html#sge">sge</a></span> <span class="id"><a href="USimDRF.html#tge">tge</a></span> <span class="id"><a href="USimDRF.html#I">I</a></span> <span class="id"><a href="USimDRF.html#ord">ord</a></span> <span class="id"><a href="USimDRF.html#match_state">match_state</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="USimDRF.html#match_state">match_state</a></span> <span class="id"><a href="USimDRF.html#i">i</a></span> <span class="id"><a href="USimDRF.html#mu">mu</a></span> <span class="id"><a href="USimDRF.html#fpS">fpS</a></span> <span class="id"><a href="USimDRF.html#fpT">fpT</a></span> <span class="id"><a href="USimDRF.html#spc">spc</a></span> <span class="id"><a href="USimDRF.html#tpc">tpc</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l</span> <span class="id">fp1</span> <span class="id">tpc1</span> <span class="id">o</span> <span class="id">tpc2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#star">star</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="USimDRF.html#tpc">tpc</a></span> <span class="id"><a href="USimDRF.html#l">l</a></span> <span class="id"><a href="USimDRF.html#fp1">fp1</a></span> <span class="id"><a href="USimDRF.html#tpc1">tpc1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="USimDRF.html#np_race_config_1">np_race_config_1</a></span> <span class="id"><a href="USimDRF.html#o">o</a></span> <span class="id"><a href="USimDRF.html#tpc1">tpc1</a></span> <span class="id"><a href="USimDRF.html#tpc2">tpc2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">l2</span> <span class="id">fpS0</span> <span class="id">spc1</span> <span class="id">spc2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#star">star</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="USimDRF.html#spc">spc</a></span> <span class="id"><a href="USimDRF.html#l2">l2</a></span> <span class="id"><a href="USimDRF.html#fpS0">fpS0</a></span> <span class="id"><a href="USimDRF.html#spc1">spc1</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="USimDRF.html#np_race_config_1">np_race_config_1</a></span> <span class="id"><a href="USimDRF.html#o">o</a></span> <span class="id"><a href="USimDRF.html#spc1">spc1</a></span> <span class="id"><a href="USimDRF.html#spc2">spc2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8283')">Proof.</div>
<div class="proofscript" id="proof8283">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="USimDRF.html#GUSim_star_progress">GUSim_star_progress</a></span> <span class="kwd">in</span> <span class="id">H2</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H2</span> <span class="kwd">as</span> [<span class="id">fpS</span>'[<span class="id">spc</span>'[<span class="id">l</span>'[<span class="id">j</span>'[<span class="id">fp1</span>'[<span class="id">fp2</span>'[]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="USimDRF.html#GUSim_nprace_preservation_1">GUSim_nprace_preservation_1</a></span> <span class="kwd">in</span> <span class="id">H3</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H3</span> <span class="kwd">as</span> [<span class="id">spc1</span>[<span class="id">fpS1</span>[<span class="id">spc2</span>[]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="USimDRF.html#tau_star_to_star">tau_star_to_star</a></span> <span class="kwd">in</span> <span class="id">H3</span> <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="USimDRF.html#cons_star_star">cons_star_star</a></span> <span class="kwd">in</span> <span class="id">H3</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#app">app</a></span> <span class="id">l</span>' <span class="id">x</span>),(<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fpS</span>' <span class="id">fpS1</span>) ,<span class="id">spc1</span>,<span class="id">spc2</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="init_rel">init_rel</a></span> {<span class="id">NL</span>}{<span class="id">L</span>:@<span class="id"><a href="GAST.html#langs">langs</a></span> <span class="id"><a href="USimDRF.html#NL">NL</a></span>}(<span class="id">sp</span> <span class="id">tp</span>:<span class="id"><a href="GAST.html#prog">prog</a></span> <span class="id"><a href="USimDRF.html#L">L</a></span>):<span class="kwd">Prop</span>:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">tgm</span> <span class="id">tge</span> <span class="id">tpc</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#init_config">init_config</a></span> <span class="id"><a href="USimDRF.html#tp">tp</a></span> <span class="id"><a href="USimDRF.html#tgm">tgm</a></span> <span class="id"><a href="USimDRF.html#tge">tge</a></span> <span class="id"><a href="USimDRF.html#tpc">tpc</a></span> <span class="id"><a href="USimDRF.html#tpc">tpc</a></span>.(<span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">mu</span> <span class="id">sgm</span> <span class="id">sge</span> <span class="id">spc</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#InitRel">InitRel</a></span> <span class="id"><a href="USimDRF.html#mu">mu</a></span> <span class="id"><a href="USimDRF.html#sge">sge</a></span> <span class="id"><a href="USimDRF.html#tge">tge</a></span> <span class="id"><a href="USimDRF.html#sgm">sgm</a></span> <span class="id"><a href="USimDRF.html#tgm">tgm</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#init_config">init_config</a></span> <span class="id"><a href="USimDRF.html#sp">sp</a></span> <span class="id"><a href="USimDRF.html#sgm">sgm</a></span> <span class="id"><a href="USimDRF.html#sge">sge</a></span> <span class="id"><a href="USimDRF.html#spc">spc</a></span> <span class="id"><a href="USimDRF.html#tpc">tpc</a></span>.(<span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span>).<br/>
<br/>
&nbsp;<span class="kwd">Lemma</span> <span class="id">GUSim_nprace_preservation_2</span>':<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">NL</span> <span class="id">L</span> <span class="id">mu</span> <span class="id">sp</span> <span class="id">tp</span> <span class="id">tgm</span> <span class="id">tge</span> <span class="id">tpc</span> <span class="id">sgm</span> <span class="id">sge</span> <span class="id">spc</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">H</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">H0</span>:<span class="id"><a href="GlobUSim.html#GlobUSim">GlobUSim</a></span> <span class="id"><a href="USimDRF.html#sp">sp</a></span> <span class="id"><a href="USimDRF.html#tp">tp</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">H1</span>:@<span class="id"><a href="USimDRF.html#np_race_config_0">np_race_config_0</a></span> <span class="id"><a href="USimDRF.html#NL">NL</a></span> <span class="id"><a href="USimDRF.html#L">L</a></span> <span class="id"><a href="USimDRF.html#tgm">tgm</a></span> <span class="id"><a href="USimDRF.html#tge">tge</a></span> <span class="id"><a href="USimDRF.html#tp">tp</a></span> <span class="id"><a href="USimDRF.html#tpc">tpc</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">H3</span>:<span class="id"><a href="GlobDefs.html#InitRel">InitRel</a></span> <span class="id"><a href="USimDRF.html#mu">mu</a></span> <span class="id"><a href="USimDRF.html#sge">sge</a></span> <span class="id"><a href="USimDRF.html#tge">tge</a></span> <span class="id"><a href="USimDRF.html#sgm">sgm</a></span> <span class="id"><a href="USimDRF.html#tgm">tgm</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">H4</span>:@<span class="id"><a href="GlobDefs.html#init_config">init_config</a></span> <span class="id"><a href="USimDRF.html#NL">NL</a></span> <span class="id"><a href="USimDRF.html#L">L</a></span> <span class="id"><a href="USimDRF.html#sp">sp</a></span> <span class="id"><a href="USimDRF.html#sgm">sgm</a></span> <span class="id"><a href="USimDRF.html#sge">sge</a></span> <span class="id"><a href="USimDRF.html#spc">spc</a></span> <span class="id"><a href="USimDRF.html#tpc">tpc</a></span>.(<span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="USimDRF.html#np_race_config_0">np_race_config_0</a></span> <span class="id"><a href="USimDRF.html#NL">NL</a></span> <span class="id"><a href="USimDRF.html#L">L</a></span> <span class="id"><a href="USimDRF.html#sgm">sgm</a></span> <span class="id"><a href="USimDRF.html#sge">sge</a></span> <span class="id"><a href="USimDRF.html#sp">sp</a></span> <span class="id"><a href="USimDRF.html#spc">spc</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8284')">Proof.</div>
<div class="proofscript" id="proof8284">
 {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="USimDRF.html#np_race_config_0">np_race_config_0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span> <span class="id">tpc</span> = <span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span> <span class="id">spc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H4</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H5</span>;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GlobUSim.html#GlobUSim">GlobUSim</a></span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">thrddom_eq</span>' <span class="id">spc</span> <span class="id">tpc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">H4</span> <span class="kwd">as</span> [<span class="id">I</span>[<span class="id">ord</span>[<span class="id">i</span>[<span class="id">match_state</span>[]]]]];<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H4</span>;<span class="tactic">apply</span> <span class="id"><a href="GlobUSim.html#match_tp">match_tp</a></span> <span class="kwd">in</span> <span class="id">H6</span> <span class="kwd">as</span> [<span class="id">E1</span>[<span class="id">E2</span>[]]];<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H4</span> <span class="kwd">as</span> <span class="id">L1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H1</span> <span class="kwd">as</span> <span class="id">L2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="GlobSim.html#GlobSim.init_config_inv_thp">GlobSim.init_config_inv_thp</a></span> <span class="kwd">in</span> <span class="id">L1</span> .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="GlobSim.html#GlobSim.init_config_inv_thp">GlobSim.init_config_inv_thp</a></span> <span class="kwd">in</span> <span class="id">L2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="kwd">forall</span> <span class="id">id</span>,<span class="id"><a href="GSimDefs.html#pc_valid_tid">pc_valid_tid</a></span> <span class="id">tpc</span> <span class="id"><a href="USimDRF.html#id">id</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">I</span> <span class="id">ord</span> <span class="id">match_state</span> <span class="id">i</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobUSim.html#GConfigUSim">GConfigUSim</a></span> <span class="id"><a href="USimDRF.html#I">I</a></span> <span class="id"><a href="USimDRF.html#ord">ord</a></span> <span class="id"><a href="USimDRF.html#match_state">match_state</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="USimDRF.html#match_state">match_state</a></span> <span class="id"><a href="USimDRF.html#i">i</a></span> <span class="id">mu</span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> ({-|<span class="id">spc</span>,<span class="id"><a href="USimDRF.html#id">id</a></span>})({-|<span class="id">tpc</span>,<span class="id"><a href="USimDRF.html#id">id</a></span>})).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">eapply</span> <span class="id"><a href="Init.html#init_free">init_free</a></span> <span class="kwd">in</span> <span class="id">H1</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">H7</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">GlobSim.match_tp_ano</span>' <span class="kwd">in</span> <span class="id">H6</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">H7</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H5</span> <span class="kwd">in</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Init.html#init_free">init_free</a></span> <span class="kwd">in</span> <span class="id">H4</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">H4</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">wd</span>:<span class="id"><a href="GlobDefs.html#GlobEnv.wd">GlobEnv.wd</a></span> <span class="id">tge</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H1</span>;<span class="tactic">inversion</span> <span class="id">H8</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H2</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H7</span> <span class="id">id1</span> <span class="id">H8</span> <span class="kwd">as</span> [<span class="id">I1</span>[<span class="id">ord1</span>[<span class="id">match1</span>[<span class="id">i1</span>[]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H7</span> <span class="id">id2</span> <span class="id">H9</span> <span class="kwd">as</span> [<span class="id">I2</span>[<span class="id">ord2</span>[<span class="id">match2</span>[<span class="id">i2</span>[]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id"><a href="USimDRF.html#USim_fpsconflict_backwards_preservation_case1">USim_fpsconflict_backwards_preservation_case1</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="USimDRF.html#USim_fpsconflict_backwards_preservation_case1">USim_fpsconflict_backwards_preservation_case1</a></span> <span class="kwd">with</span>(<span class="id">I</span>:=<span class="id">I1</span>)(<span class="id">I2</span>:=<span class="id">I2</span>) <span class="kwd">in</span> <span class="id">H16</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H16</span> <span class="kwd">as</span> [<span class="id">spc1</span>[<span class="id">fpS1</span>[<span class="id">spc2</span>[<span class="id">fpS2</span>[<span class="id">S1</span>[<span class="id">S2</span>[<span class="id">S3</span>[<span class="id">S4</span> <span class="id">S5</span>]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 1;<span class="tactic">eauto</span>;<span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id">GlobSim.match_tp_ano</span>';<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H19</span> <span class="kwd">as</span> [<span class="id">_</span> <span class="id">R</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">R</span> <span class="kwd">in</span> <span class="id">H20</span> <span class="kwd">as</span> [<span class="id">_</span>[<span class="id">_</span>[<span class="id">_</span>[<span class="id">Eq</span> <span class="id">_</span>]]]];<span class="tactic">inversion</span> <span class="id">Eq</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">tpc</span>,<span class="id">spc</span>;<span class="tactic">simpl</span> <span class="kwd">in</span> *;<span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H7</span> <span class="id">id1</span> <span class="id">H8</span> <span class="kwd">as</span> [<span class="id">I1</span>[<span class="id">ord1</span>[<span class="id">match1</span>[<span class="id">i1</span>[]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H7</span> <span class="id">id2</span> <span class="id">H9</span> <span class="kwd">as</span> [<span class="id">I2</span>[<span class="id">ord2</span>[<span class="id">match2</span>[<span class="id">i2</span>[]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span>  <span class="id"><a href="USimDRF.html#USim_fpsconflict_backwards_preservation_case2">USim_fpsconflict_backwards_preservation_case2</a></span> <span class="kwd">with</span>(<span class="id">I</span>:=<span class="id">I1</span>)(<span class="id">I2</span>:=<span class="id">I2</span>) <span class="kwd">in</span> <span class="id">H20</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H20</span> <span class="kwd">as</span> [<span class="id">spc1</span>[<span class="id">fpS1</span>[<span class="id">spc2</span>[<span class="id">spc3</span>[<span class="id">fpS2</span>[<span class="id">spc</span>''[<span class="id">fpS</span>''[<span class="id">S1</span>[<span class="id">S2</span>[<span class="id">S3</span>[<span class="id">S4</span>[<span class="id">S5</span>[<span class="id">S6</span>[<span class="id">S7</span> <span class="id">S8</span>]]]]]]]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 2;<span class="tactic">eauto</span>;<span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id">GlobSim.match_tp_ano</span>';<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="GlobUSim.html#match_tp">match_tp</a></span> <span class="kwd">in</span> <span class="id">H24</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H24</span> <span class="kwd">as</span> (<span class="id">_</span>&amp;<span class="id">_</span>&amp;<span class="id">_</span>&amp;?&amp;<span class="id">_</span>). <span class="tactic">inversion</span> <span class="id">H20</span>;<span class="tactic">subst</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H24</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="GlobSim.html#GlobSim.EntAx_bit_rule">GlobSim.EntAx_bit_rule</a></span> <span class="kwd">in</span> <span class="id">S4</span> <span class="kwd">as</span> [];<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="ETrace.html#tau_star_tau_N_equiv">tau_star_tau_N_equiv</a></span> <span class="kwd">in</span> <span class="id">S5</span> <span class="kwd">as</span> [<span class="id">x</span> <span class="id">S5</span>];<span class="tactic">eapply</span> <span class="id"><a href="GlobSim.html#GlobSim.tau_N_bit_I_preservation">GlobSim.tau_N_bit_I_preservation</a></span> <span class="kwd">in</span> <span class="id">S5</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="GUSim_nprace_preservation_2">GUSim_nprace_preservation_2</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">NL</span> <span class="id">L</span> <span class="id">sp</span> <span class="id">tp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="USimDRF.html#init_rel">init_rel</a></span> <span class="id"><a href="USimDRF.html#sp">sp</a></span> <span class="id"><a href="USimDRF.html#tp">tp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobUSim.html#GlobUSim">GlobUSim</a></span> <span class="id"><a href="USimDRF.html#sp">sp</a></span> <span class="id"><a href="USimDRF.html#tp">tp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">tgm</span> <span class="id">tge</span> <span class="id">tpc</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="USimDRF.html#np_race_config_0">np_race_config_0</a></span> <span class="id"><a href="USimDRF.html#NL">NL</a></span> <span class="id"><a href="USimDRF.html#L">L</a></span> <span class="id"><a href="USimDRF.html#tgm">tgm</a></span> <span class="id"><a href="USimDRF.html#tge">tge</a></span> <span class="id"><a href="USimDRF.html#tp">tp</a></span> <span class="id"><a href="USimDRF.html#tpc">tpc</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">sgm</span> <span class="id">sge</span> <span class="id">spc</span>, @<span class="id"><a href="USimDRF.html#np_race_config_0">np_race_config_0</a></span> <span class="id"><a href="USimDRF.html#NL">NL</a></span> <span class="id"><a href="USimDRF.html#L">L</a></span> <span class="id"><a href="USimDRF.html#sgm">sgm</a></span> <span class="id"><a href="USimDRF.html#sge">sge</a></span> <span class="id"><a href="USimDRF.html#sp">sp</a></span> <span class="id"><a href="USimDRF.html#spc">spc</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8285')">Proof.</div>
<div class="proofscript" id="proof8285">
 {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H1</span> <span class="kwd">as</span> <span class="id">Tmp1</span>;<span class="tactic">eapply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">Tmp1</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">H</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Tmp1</span> <span class="kwd">as</span> [<span class="id">mu</span>[<span class="id">sgm0</span>[<span class="id">sge0</span>[<span class="id">spc0</span> []]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">sgm0</span>,<span class="id">sge0</span>,<span class="id">spc0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="USimDRF.html#np_race_config_0">np_race_config_0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span> <span class="id">tpc</span> = <span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span> <span class="id">spc0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H4</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H5</span>;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GlobUSim.html#GlobUSim">GlobUSim</a></span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">thrddom_eq</span>' <span class="id">spc0</span> <span class="id">tpc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">H4</span> <span class="kwd">as</span> [<span class="id">I</span>[<span class="id">ord</span>[<span class="id">i</span>[<span class="id">match_state</span>[]]]]];<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H4</span>;<span class="tactic">apply</span> <span class="id"><a href="GlobUSim.html#match_tp">match_tp</a></span> <span class="kwd">in</span> <span class="id">H6</span> <span class="kwd">as</span> [<span class="id">E1</span>[<span class="id">E2</span>[]]];<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H4</span> <span class="kwd">as</span> <span class="id">L1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H1</span> <span class="kwd">as</span> <span class="id">L2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="GlobSim.html#GlobSim.init_config_inv_thp">GlobSim.init_config_inv_thp</a></span> <span class="kwd">in</span> <span class="id">L1</span> .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="GlobSim.html#GlobSim.init_config_inv_thp">GlobSim.init_config_inv_thp</a></span> <span class="kwd">in</span> <span class="id">L2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="kwd">forall</span> <span class="id">id</span>,<span class="id"><a href="GSimDefs.html#pc_valid_tid">pc_valid_tid</a></span> <span class="id">tpc</span> <span class="id"><a href="USimDRF.html#id">id</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">I</span> <span class="id">ord</span> <span class="id">match_state</span> <span class="id">i</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobUSim.html#GConfigUSim">GConfigUSim</a></span> <span class="id"><a href="USimDRF.html#I">I</a></span> <span class="id"><a href="USimDRF.html#ord">ord</a></span> <span class="id"><a href="USimDRF.html#match_state">match_state</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="USimDRF.html#match_state">match_state</a></span> <span class="id"><a href="USimDRF.html#i">i</a></span> <span class="id">mu</span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> ({-|<span class="id">spc0</span>,<span class="id"><a href="USimDRF.html#id">id</a></span>})({-|<span class="id">tpc</span>,<span class="id"><a href="USimDRF.html#id">id</a></span>})).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">eapply</span> <span class="id"><a href="Init.html#init_free">init_free</a></span> <span class="kwd">in</span> <span class="id">H1</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">H7</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">GlobSim.match_tp_ano</span>' <span class="kwd">in</span> <span class="id">H6</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">H7</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H5</span> <span class="kwd">in</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Init.html#init_free">init_free</a></span> <span class="kwd">in</span> <span class="id">H4</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">H4</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">wd</span>:<span class="id"><a href="GlobDefs.html#GlobEnv.wd">GlobEnv.wd</a></span> <span class="id">tge</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H1</span>;<span class="tactic">inversion</span> <span class="id">H8</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H2</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H7</span> <span class="id">id1</span> <span class="id">H8</span> <span class="kwd">as</span> [<span class="id">I1</span>[<span class="id">ord1</span>[<span class="id">match1</span>[<span class="id">i1</span>[]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H7</span> <span class="id">id2</span> <span class="id">H9</span> <span class="kwd">as</span> [<span class="id">I2</span>[<span class="id">ord2</span>[<span class="id">match2</span>[<span class="id">i2</span>[]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id"><a href="USimDRF.html#USim_fpsconflict_backwards_preservation_case1">USim_fpsconflict_backwards_preservation_case1</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="USimDRF.html#USim_fpsconflict_backwards_preservation_case1">USim_fpsconflict_backwards_preservation_case1</a></span> <span class="kwd">with</span>(<span class="id">I</span>:=<span class="id">I1</span>)(<span class="id">I2</span>:=<span class="id">I2</span>) <span class="kwd">in</span> <span class="id">H16</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H16</span> <span class="kwd">as</span> [<span class="id">spc1</span>[<span class="id">fpS1</span>[<span class="id">spc2</span>[<span class="id">fpS2</span>[<span class="id">S1</span>[<span class="id">S2</span>[<span class="id">S3</span>[<span class="id">S4</span> <span class="id">S5</span>]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 1;<span class="tactic">eauto</span>;<span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id">GlobSim.match_tp_ano</span>';<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H19</span> <span class="kwd">as</span> [<span class="id">_</span> <span class="id">R</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">R</span> <span class="kwd">in</span> <span class="id">H20</span> <span class="kwd">as</span> [<span class="id">_</span>[<span class="id">_</span>[<span class="id">_</span>[<span class="id">Eq</span> <span class="id">_</span>]]]];<span class="tactic">inversion</span> <span class="id">Eq</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">tpc</span>,<span class="id">spc0</span>;<span class="tactic">simpl</span> <span class="kwd">in</span> *;<span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H7</span> <span class="id">id1</span> <span class="id">H8</span> <span class="kwd">as</span> [<span class="id">I1</span>[<span class="id">ord1</span>[<span class="id">match1</span>[<span class="id">i1</span>[]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H7</span> <span class="id">id2</span> <span class="id">H9</span> <span class="kwd">as</span> [<span class="id">I2</span>[<span class="id">ord2</span>[<span class="id">match2</span>[<span class="id">i2</span>[]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span>  <span class="id"><a href="USimDRF.html#USim_fpsconflict_backwards_preservation_case2">USim_fpsconflict_backwards_preservation_case2</a></span> <span class="kwd">with</span>(<span class="id">I</span>:=<span class="id">I1</span>)(<span class="id">I2</span>:=<span class="id">I2</span>) <span class="kwd">in</span> <span class="id">H20</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H20</span> <span class="kwd">as</span> [<span class="id">spc1</span>[<span class="id">fpS1</span>[<span class="id">spc2</span>[<span class="id">spc3</span>[<span class="id">fpS2</span>[<span class="id">spc</span>''[<span class="id">fpS</span>''[<span class="id">S1</span>[<span class="id">S2</span>[<span class="id">S3</span>[<span class="id">S4</span>[<span class="id">S5</span>[<span class="id">S6</span>[<span class="id">S7</span> <span class="id">S8</span>]]]]]]]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 2;<span class="tactic">eauto</span>;<span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id">GlobSim.match_tp_ano</span>';<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="GlobUSim.html#match_tp">match_tp</a></span> <span class="kwd">in</span> <span class="id">H24</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H24</span> <span class="kwd">as</span> (<span class="id">_</span>&amp;<span class="id">_</span>&amp;<span class="id">_</span>&amp;?&amp;<span class="id">_</span>). <span class="tactic">inversion</span> <span class="id">H20</span>;<span class="tactic">subst</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H24</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="GlobSim.html#GlobSim.EntAx_bit_rule">GlobSim.EntAx_bit_rule</a></span> <span class="kwd">in</span> <span class="id">S4</span> <span class="kwd">as</span> [];<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="ETrace.html#tau_star_tau_N_equiv">tau_star_tau_N_equiv</a></span> <span class="kwd">in</span> <span class="id">S5</span> <span class="kwd">as</span> [<span class="id">x</span> <span class="id">S5</span>];<span class="tactic">eapply</span> <span class="id"><a href="GlobSim.html#GlobSim.tau_N_bit_I_preservation">GlobSim.tau_N_bit_I_preservation</a></span> <span class="kwd">in</span> <span class="id">S5</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="nprace_prog">nprace_prog</a></span> {<span class="id">NL</span>}{<span class="id">L</span>:@<span class="id"><a href="GAST.html#langs">langs</a></span> <span class="id"><a href="USimDRF.html#NL">NL</a></span>}(<span class="id">sp</span>:<span class="id"><a href="GAST.html#prog">prog</a></span> <span class="id"><a href="USimDRF.html#L">L</a></span>):<span class="kwd">Prop</span>:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">gm</span> <span class="id">ge</span> <span class="id">pc</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#init_config">init_config</a></span> <span class="id"><a href="USimDRF.html#sp">sp</a></span> <span class="id"><a href="USimDRF.html#gm">gm</a></span> <span class="id"><a href="USimDRF.html#ge">ge</a></span> <span class="id"><a href="USimDRF.html#pc">pc</a></span> <span class="id"><a href="USimDRF.html#pc">pc</a></span>.(<span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="USimDRF.html#np_race_config_0">np_race_config_0</a></span> <span class="id"><a href="USimDRF.html#NL">NL</a></span> <span class="id"><a href="USimDRF.html#L">L</a></span> <span class="id"><a href="USimDRF.html#gm">gm</a></span> <span class="id"><a href="USimDRF.html#ge">ge</a></span> <span class="id"><a href="USimDRF.html#sp">sp</a></span> <span class="id"><a href="USimDRF.html#pc">pc</a></span> \/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">l</span> <span class="id">fp</span> <span class="id">pc</span>' <span class="id">o</span> <span class="id">pce</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#star">star</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="USimDRF.html#pc">pc</a></span> <span class="id"><a href="USimDRF.html#l">l</a></span> <span class="id"><a href="USimDRF.html#fp">fp</a></span> <span class="id">pc</span>' /\ <span class="id"><a href="USimDRF.html#np_race_config_1">np_race_config_1</a></span> <span class="id"><a href="USimDRF.html#o">o</a></span> <span class="id">pc</span>' <span class="id"><a href="USimDRF.html#pce">pce</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="inv_thdp_gettop_valid_tid">inv_thdp_gettop_valid_tid</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">pc</span> <span class="id">c</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#ThreadPool.inv">ThreadPool.inv</a></span> <span class="id"><a href="USimDRF.html#pc">pc</a></span>.(<span class="id"><a href="GlobDefs.html#thread_pool">thread_pool</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#ThreadPool.get_top">ThreadPool.get_top</a></span> <span class="id"><a href="USimDRF.html#pc">pc</a></span>.(<span class="id"><a href="GlobDefs.html#thread_pool">thread_pool</a></span>) <span class="id"><a href="USimDRF.html#pc">pc</a></span>.(<span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="USimDRF.html#c">c</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="GSimDefs.html#pc_valid_tid">pc_valid_tid</a></span> <span class="id"><a href="USimDRF.html#ge">ge</a></span> <span class="id"><a href="USimDRF.html#pc">pc</a></span> <span class="id"><a href="USimDRF.html#pc">pc</a></span>.(<span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8286')">Proof.</div>
<div class="proofscript" id="proof8286">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">c</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">H</span> <span class="id">H_tp_core</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">pc</span> <span class="kwd">as</span> [<span class="id">thdp</span> <span class="id">t</span> <span class="id">gm</span> <span class="id">bit</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GlobDefs.html#ThreadPool.valid_tid">ThreadPool.valid_tid</a></span>;<span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="Coqlib.html#Plt">Coqlib.Plt</a></span> <span class="id">t</span> <span class="id">thdp</span>.(<span class="id"><a href="GlobDefs.html#ThreadPool.next_tid">ThreadPool.next_tid</a></span>) \/ <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pge">BinPos.Pge</a></span> <span class="id">t</span> <span class="id">thdp</span>.(<span class="id"><a href="GlobDefs.html#ThreadPool.next_tid">ThreadPool.next_tid</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#classic">classic</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H0</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H</span> <span class="kwd">as</span> [<span class="id">tp_finite</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">tp_finite</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">tp_finite</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H_tp_core</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GlobDefs.html#ThreadPool.get_top">ThreadPool.get_top</a></span> <span class="kwd">in</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GlobDefs.html#ThreadPool.get_cs">ThreadPool.get_cs</a></span> <span class="kwd">in</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H0</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H_tp_core</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GlobDefs.html#ThreadPool.get_top">ThreadPool.get_top</a></span> <span class="kwd">in</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H2</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="inv_step_valid_tid">inv_step_valid_tid</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">pc</span> <span class="id">fp</span> <span class="id">pc1</span> <span class="id">o</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(@<span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="USimDRF.html#ge">ge</a></span>) <span class="id"><a href="USimDRF.html#pc">pc</a></span> <span class="id"><a href="USimDRF.html#o">o</a></span> <span class="id"><a href="USimDRF.html#fp">fp</a></span> <span class="id"><a href="USimDRF.html#pc1">pc1</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#ThreadPool.inv">ThreadPool.inv</a></span> <span class="id"><a href="USimDRF.html#pc">pc</a></span>.(<span class="id"><a href="GlobDefs.html#thread_pool">thread_pool</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GSimDefs.html#pc_valid_tid">pc_valid_tid</a></span> <span class="id"><a href="USimDRF.html#pc">pc</a></span> <span class="id"><a href="USimDRF.html#pc">pc</a></span>.(<span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8287')">Proof.</div>
<div class="proofscript" id="proof8287">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H</span>;<span class="tactic">subst</span>;<span class="tactic">eapply</span> <span class="id"><a href="USimDRF.html#inv_thdp_gettop_valid_tid">inv_thdp_gettop_valid_tid</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="tau_star_valid_tid">tau_star_valid_tid</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">pc</span> <span class="id">fp</span> <span class="id">pc1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#ThreadPool.inv">ThreadPool.inv</a></span> <span class="id"><a href="USimDRF.html#pc">pc</a></span>.(<span class="id"><a href="GlobDefs.html#thread_pool">thread_pool</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> (@<span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="USimDRF.html#ge">ge</a></span>) <span class="id"><a href="USimDRF.html#pc">pc</a></span> <span class="id"><a href="USimDRF.html#fp">fp</a></span> <span class="id"><a href="USimDRF.html#pc1">pc1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="USimDRF.html#fp">fp</a></span>&lt;&gt; <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GSimDefs.html#pc_valid_tid">pc_valid_tid</a></span> <span class="id"><a href="USimDRF.html#pc">pc</a></span> <span class="id"><a href="USimDRF.html#pc">pc</a></span>.(<span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8288')">Proof.</div>
<div class="proofscript" id="proof8288">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H0</span>;<span class="tactic">subst</span>;<span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="USimDRF.html#inv_step_valid_tid">inv_step_valid_tid</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="np_predict_valid_tid">np_predict_valid_tid</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">pc</span> <span class="id">id</span> <span class="id">fp1</span> <span class="id">fp2</span> ,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#ThreadPool.inv">ThreadPool.inv</a></span> <span class="id"><a href="USimDRF.html#pc">pc</a></span>.(<span class="id"><a href="GlobDefs.html#thread_pool">thread_pool</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="NPDRF.html#np_predict">np_predict</a></span> <span class="id"><a href="USimDRF.html#ge">ge</a></span> <span class="id"><a href="USimDRF.html#pc">pc</a></span> <span class="id"><a href="USimDRF.html#id">id</a></span> <span class="id"><a href="USimDRF.html#fp1">fp1</a></span> <span class="id"><a href="USimDRF.html#fp2">fp2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="USimDRF.html#fp2">fp2</a></span>&lt;&gt;<span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GSimDefs.html#pc_valid_tid">pc_valid_tid</a></span> ({-|<span class="id"><a href="USimDRF.html#pc">pc</a></span>,<span class="id"><a href="USimDRF.html#id">id</a></span>}) <span class="id"><a href="USimDRF.html#id">id</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8289')">Proof.</div>
<div class="proofscript" id="proof8289">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H0</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H2</span>;<span class="tactic">subst</span>;<span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H2</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H3</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="USimDRF.html#inv_step_valid_tid">inv_step_valid_tid</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H4</span>;<span class="tactic">subst</span>;<span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H3</span>;<span class="tactic">subst</span>;<span class="tactic">eapply</span> <span class="id"><a href="USimDRF.html#inv_step_valid_tid">inv_step_valid_tid</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="np_predict_half">np_predict_half</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">pc</span> <span class="id">id</span> <span class="id">fp1</span> <span class="id">fp2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="NPDRF.html#np_predict">np_predict</a></span> <span class="id"><a href="USimDRF.html#ge">ge</a></span> <span class="id"><a href="USimDRF.html#pc">pc</a></span> <span class="id"><a href="USimDRF.html#id">id</a></span> <span class="id"><a href="USimDRF.html#fp1">fp1</a></span> <span class="id"><a href="USimDRF.html#fp2">fp2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">pc1</span>,<span class="id"><a href="ETrace.html#tau_star">tau_star</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> ({-|<span class="id"><a href="USimDRF.html#pc">pc</a></span>,<span class="id"><a href="USimDRF.html#id">id</a></span>}) <span class="id"><a href="USimDRF.html#fp1">fp1</a></span> <span class="id"><a href="USimDRF.html#pc1">pc1</a></span> /\ <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#pc1">pc1</a></span> = <span class="id"><a href="GlobDefs.html#O">O</a></span> /\ <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> ({-|<span class="id"><a href="USimDRF.html#pc">pc</a></span>,<span class="id"><a href="USimDRF.html#id">id</a></span>}) = <span class="id"><a href="GlobDefs.html#atom_bit">atom_bit</a></span> <span class="id"><a href="USimDRF.html#pc1">pc1</a></span>. <br/>
<div class="toggleproof" onclick="toggleDisplay('proof8290')">Proof.</div>
<div class="proofscript" id="proof8290">
 <span class="tactic">intros</span>;<span class="tactic">inversion</span> <span class="id">H</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>;<span class="tactic">apply</span> <span class="id"><a href="NPDRF.html#np_normal_iff_tau_star_bitpreservation">np_normal_iff_tau_star_bitpreservation</a></span> <span class="kwd">in</span> <span class="id">H0</span> <span class="kwd">as</span> [<span class="id">Eq1</span>[<span class="id">_</span>[<span class="id">_</span> <span class="id">star1</span>]]];<span class="id">exists</span> <span class="id">pc</span>'; <span class="tactic">auto</span>. Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="np_race_config_np_race_config_base_equiv">np_race_config_np_race_config_base_equiv</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">pc</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#ThreadPool.inv">ThreadPool.inv</a></span> (<span class="id"><a href="GlobDefs.html#thread_pool">thread_pool</a></span> <span class="id"><a href="USimDRF.html#pc">pc</a></span> ) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( (@<span class="id"><a href="NPDRF.html#np_race_config">np_race_config</a></span> <span class="id"><a href="USimDRF.html#ge">ge</a></span> <span class="id"><a href="USimDRF.html#pc">pc</a></span>) &lt;-&gt; <span class="id"><a href="USimDRF.html#np_race_config_base">np_race_config_base</a></span> <span class="id"><a href="USimDRF.html#pc">pc</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8291')">Proof.</div>
<div class="proofscript" id="proof8291">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">ge</span> <span class="id">pc</span> <span class="id">invpc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H2</span>;<span class="tactic">clear</span> <span class="id">H2</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id"><a href="Footprint.html#FP.emp_never_conflict">FP.emp_never_conflict</a></span> <span class="id">fp10</span> <span class="id">fp20</span> <span class="id">H4</span> <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="USimDRF.html#np_predict_half">np_predict_half</a></span> <span class="kwd">in</span> <span class="id">H0</span> <span class="kwd">as</span> [<span class="id">s1</span>[<span class="id">star1</span>[]]];<span class="tactic">apply</span> <span class="id"><a href="USimDRF.html#np_predict_half">np_predict_half</a></span> <span class="kwd">in</span> <span class="id">H1</span> <span class="kwd">as</span> [<span class="id">s2</span>[<span class="id">star2</span>[]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">invs1</span>:<span class="id"><a href="GlobDefs.html#ThreadPool.inv">ThreadPool.inv</a></span> ({-|<span class="id">s</span>,<span class="id">t1</span>}).(<span class="id"><a href="GlobDefs.html#thread_pool">thread_pool</a></span>) /\ <span class="id"><a href="GlobDefs.html#ThreadPool.inv">ThreadPool.inv</a></span> ({-|<span class="id">s</span>,<span class="id">t2</span>}).(<span class="id"><a href="GlobDefs.html#thread_pool">thread_pool</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">s</span>;<span class="tactic">simpl</span> <span class="kwd">in</span> *;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">invs1</span> <span class="kwd">as</span> [<span class="id">invs1</span> <span class="id">invs2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H2</span> <span class="kwd">as</span> <span class="id">L</span>;<span class="tactic">eapply</span> <span class="id"><a href="USimDRF.html#tau_star_valid_tid">tau_star_valid_tid</a></span> <span class="kwd">with</span>(<span class="id">pc</span>:=({-|<span class="id">s</span>,<span class="id">t1</span>})) <span class="kwd">in</span> <span class="id">L</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H3</span> <span class="kwd">as</span> <span class="id">R</span>;<span class="tactic">eapply</span> <span class="id"><a href="USimDRF.html#tau_star_valid_tid">tau_star_valid_tid</a></span> <span class="kwd">in</span> <span class="id">R</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 1 <span class="kwd">with</span>(<span class="id">id1</span>:=<span class="id">t1</span>)(<span class="id">id2</span>:=<span class="id">t2</span>);<span class="tactic">simpl</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="ETrace.html#tau_star_tau_N_equiv">tau_star_tau_N_equiv</a></span> <span class="kwd">in</span> <span class="id">star1</span> <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="GlobSim.html#GlobSim.tau_N_bit_backwards_preservation">GlobSim.tau_N_bit_backwards_preservation</a></span> <span class="kwd">in</span> <span class="id">H7</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id"><a href="Footprint.html#FP.emp_never_conflict">FP.emp_never_conflict</a></span> <span class="id">fp11</span> <span class="id">fp20</span> <span class="id">H4</span> <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H0</span>;<span class="tactic">subst</span>. <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="NPDRF.html#np_normal_iff_tau_star_bitpreservation">np_normal_iff_tau_star_bitpreservation</a></span> <span class="kwd">in</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="NPDRF.html#np_normal_iff_tau_star_bitpreservation">np_normal_iff_tau_star_bitpreservation</a></span> <span class="kwd">in</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H5</span> <span class="kwd">as</span> [<span class="id">biteq</span>[<span class="id">_</span>[<span class="id">_</span> <span class="id">star1</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H7</span> <span class="kwd">as</span> [<span class="id">biteq2</span>[<span class="id">bit1</span>[<span class="id">tid1</span> <span class="id">star2</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="USimDRF.html#np_predict_half">np_predict_half</a></span> <span class="kwd">in</span> <span class="id">H1</span> <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H1</span> <span class="kwd">as</span> [<span class="id">star</span>'[<span class="id">bit2</span> <span class="id">biteq3</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="NPDRF.html#np_ent_atom_tau_step_bitchange">np_ent_atom_tau_step_bitchange</a></span> <span class="kwd">in</span> <span class="id">H6</span> <span class="kwd">as</span> [<span class="id">step1</span>[]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 2;<span class="tactic">simpl</span>;<span class="tactic">eauto</span>;<span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id"><a href="USimDRF.html#np_predict_valid_tid">np_predict_valid_tid</a></span> <span class="kwd">in</span> <span class="id">H0</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="USimDRF.html#tau_star_valid_tid">tau_star_valid_tid</a></span> <span class="kwd">in</span> <span class="id">star</span>';<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id"><a href="Footprint.html#FP.emp_never_conflict">FP.emp_never_conflict</a></span> <span class="id">fp10</span> <span class="id">fp21</span> <span class="id">H4</span> <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H1</span>;<span class="tactic">subst</span>;<span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="NPDRF.html#np_normal_iff_tau_star_bitpreservation">np_normal_iff_tau_star_bitpreservation</a></span> <span class="kwd">in</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="NPDRF.html#np_normal_iff_tau_star_bitpreservation">np_normal_iff_tau_star_bitpreservation</a></span> <span class="kwd">in</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H5</span> <span class="kwd">as</span> [<span class="id">biteq</span>[<span class="id">_</span>[<span class="id">_</span> <span class="id">star1</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H7</span> <span class="kwd">as</span> [<span class="id">biteq2</span>[<span class="id">bit1</span>[<span class="id">tid1</span> <span class="id">star2</span>]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="USimDRF.html#np_predict_half">np_predict_half</a></span> <span class="kwd">in</span> <span class="id">H0</span> <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H0</span> <span class="kwd">as</span> [<span class="id">star</span>'[<span class="id">bit2</span> <span class="id">biteq3</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="NPDRF.html#np_ent_atom_tau_step_bitchange">np_ent_atom_tau_step_bitchange</a></span> <span class="kwd">in</span> <span class="id">H6</span> <span class="kwd">as</span> [<span class="id">step1</span>[]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.conflict_sym">FP.conflict_sym</a></span> <span class="kwd">in</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 2 <span class="kwd">with</span>(<span class="id">id1</span>:=<span class="id">t2</span>);<span class="tactic">eauto</span>;<span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id"><a href="USimDRF.html#np_predict_valid_tid">np_predict_valid_tid</a></span> <span class="kwd">in</span> <span class="id">H1</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="USimDRF.html#tau_star_valid_tid">tau_star_valid_tid</a></span> <span class="kwd">in</span> <span class="id">star</span>';<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">pc</span> <span class="kwd">as</span> [<span class="id">tgp</span> <span class="id">id</span> <span class="id">gm</span> <span class="id">bit</span>]. <span class="tactic">simpl</span> <span class="kwd">in</span> *;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="ETrace.html#tau_star_tau_N_equiv">tau_star_tau_N_equiv</a></span> <span class="kwd">in</span> <span class="id">H4</span> <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="ETrace.html#tau_star_tau_N_equiv">tau_star_tau_N_equiv</a></span> <span class="kwd">in</span> <span class="id">H6</span> <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="NPDRF.html#tau_N_bitpreservation_np_normal_tau">tau_N_bitpreservation_np_normal_tau</a></span> <span class="kwd">in</span> <span class="id">H4</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="NPDRF.html#tau_N_bitpreservation_np_normal_tau">tau_N_bitpreservation_np_normal_tau</a></span> <span class="kwd">in</span> <span class="id">H3</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H3</span>,<span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="NPDRF.html#np_predict_only_tau">np_predict_only_tau</a></span> <span class="kwd">with</span>(<span class="id">i</span>':=<span class="id">id</span>) <span class="kwd">in</span> <span class="id">H4</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="NPDRF.html#np_predict_only_tau">np_predict_only_tau</a></span> <span class="kwd">with</span>(<span class="id">i</span>':=<span class="id">id</span>) <span class="kwd">in</span> <span class="id">H3</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">pc</span> <span class="kwd">as</span> [<span class="id">tgp</span> <span class="id">id</span> <span class="id">gm</span> <span class="id">bit</span>]. <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">T</span>:<span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span> <span class="id">pc1</span> = <span class="id">id1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="GlobSim.html#GlobSim.tau_star_tid_preservation">GlobSim.tau_star_tid_preservation</a></span> <span class="kwd">in</span> <span class="id">H3</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">T2</span>:<span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span> <span class="id">pc1</span> = <span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span> <span class="id">pc10</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H6</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>;<span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="ETrace.html#tau_star_tau_N_equiv">tau_star_tau_N_equiv</a></span> <span class="kwd">in</span> <span class="id">H3</span> <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="ETrace.html#tau_star_tau_N_equiv">tau_star_tau_N_equiv</a></span> <span class="kwd">in</span> <span class="id">H8</span> <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="ETrace.html#tau_star_tau_N_equiv">tau_star_tau_N_equiv</a></span> <span class="kwd">in</span> <span class="id">H10</span> <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="NPDRF.html#tau_N_bitpreservation_np_normal_tau">tau_N_bitpreservation_np_normal_tau</a></span> <span class="kwd">in</span> <span class="id">H3</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="NPDRF.html#tau_N_bitpreservation_np_normal_tau">tau_N_bitpreservation_np_normal_tau</a></span> <span class="kwd">in</span> <span class="id">H8</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="NPDRF.html#tau_N_bitpreservation_np_normal_tau">tau_N_bitpreservation_np_normal_tau</a></span> <span class="kwd">in</span> <span class="id">H10</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H7</span> <span class="kwd">as</span> <span class="id">L</span>;<span class="tactic">eapply</span> <span class="id"><a href="GlobSim.html#GlobSim.EntAx_bit_rule">GlobSim.EntAx_bit_rule</a></span> <span class="kwd">in</span> <span class="id">H7</span> <span class="kwd">as</span> [];<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H7</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H13</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;-<span class="id">T2</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;-<span class="id">H7</span> <span class="kwd">in</span> <span class="id">L</span>;<span class="tactic">rewrite</span> &lt;- <span class="id">H13</span> <span class="kwd">in</span> <span class="id">L</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="NPDRF.html#tau_step_bitchange_np_ent_atom">tau_step_bitchange_np_ent_atom</a></span> <span class="kwd">in</span> <span class="id">H6</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="NPDRF.html#np_predict_with_atom">np_predict_with_atom</a></span> <span class="kwd">with</span>(<span class="id">i</span>':=<span class="id">id</span>) <span class="kwd">in</span> <span class="id">H3</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="NPDRF.html#np_predict_only_tau">np_predict_only_tau</a></span> <span class="kwd">with</span>(<span class="id">i</span>':=<span class="id">id</span>) <span class="kwd">in</span> <span class="id">H10</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> ;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span> 2;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="np_star_race_config_np_race_config_1_equiv">np_star_race_config_np_race_config_1_equiv</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">pc0</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#GlobEnv.wd">GlobEnv.wd</a></span> <span class="id"><a href="USimDRF.html#ge">ge</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#ThreadPool.inv">ThreadPool.inv</a></span> (<span class="id"><a href="GlobDefs.html#thread_pool">thread_pool</a></span> <span class="id"><a href="USimDRF.html#pc0">pc0</a></span> ) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( <span class="id">exists</span> <span class="id">l</span> <span class="id">fp</span> <span class="id">o</span> <span class="id">pc1</span> <span class="id">pc</span>, <span class="id"><a href="ETrace.html#star">star</a></span> (@<span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id"><a href="USimDRF.html#ge">ge</a></span>) <span class="id"><a href="USimDRF.html#pc0">pc0</a></span> <span class="id"><a href="USimDRF.html#l">l</a></span> <span class="id"><a href="USimDRF.html#fp">fp</a></span> <span class="id"><a href="USimDRF.html#pc1">pc1</a></span> /\ <span class="id"><a href="USimDRF.html#np_race_config_1">np_race_config_1</a></span> <span class="id"><a href="USimDRF.html#o">o</a></span> <span class="id"><a href="USimDRF.html#pc1">pc1</a></span> <span class="id"><a href="USimDRF.html#pc">pc</a></span>) &lt;-&gt; <span class="id"><a href="NPDRF.html#np_star_race_config">np_star_race_config</a></span> <span class="id"><a href="USimDRF.html#pc0">pc0</a></span>.      <br/>
<div class="toggleproof" onclick="toggleDisplay('proof8292')">Proof.</div>
<div class="proofscript" id="proof8292">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">ge</span> <span class="id">pc0</span> <span class="id">wd</span> <span class="id">invpc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [<span class="id">l</span>[<span class="id">fp</span>[<span class="id">o</span>[<span class="id">pc1</span>[<span class="id">pc2</span>[]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="USimDRF.html#np_race_config_np_race_config_base_equiv">np_race_config_np_race_config_base_equiv</a></span> <span class="kwd">in</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="GlobSim.html#GlobSim.thp_inv_preservation">GlobSim.thp_inv_preservation</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">IHstar</span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 2;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="GlobSim.html#GlobSim.thp_inv_preservation">GlobSim.thp_inv_preservation</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">fp</span>=<span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>;<span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>,<span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>,<span class="id">l</span>,<span class="id">s</span>,<span class="id">s</span>';<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="id">constructor</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="USimDRF.html#np_race_config_np_race_config_base_equiv">np_race_config_np_race_config_base_equiv</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="GlobSim.html#GlobSim.thp_inv_preservation">GlobSim.thp_inv_preservation</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">IHnp_star_race_config</span> <span class="kwd">as</span> [<span class="id">ls</span>[<span class="id">fp1</span>[<span class="id">o</span>[<span class="id">pc1</span>[<span class="id">pc</span>[]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="GlobSim.html#GlobSim.thp_inv_preservation">GlobSim.thp_inv_preservation</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#cons">cons</a></span> <span class="id">l</span> <span class="id">ls</span>),(<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fp</span> <span class="id">fp1</span>),<span class="id">o</span>,<span class="id">pc1</span>,<span class="id">pc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">try</span> <span class="id">econstructor</span> 2;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}      <br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="np_race_prog_nprace_prog_equiv">np_race_prog_nprace_prog_equiv</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">NL</span> <span class="id">L</span> <span class="id">p</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="NPDRF.html#np_race_prog">np_race_prog</a></span> <span class="id"><a href="USimDRF.html#NL">NL</a></span> <span class="id"><a href="USimDRF.html#L">L</a></span> <span class="id"><a href="USimDRF.html#p">p</a></span> &lt;-&gt; <span class="id"><a href="USimDRF.html#nprace_prog">nprace_prog</a></span> <span class="id"><a href="USimDRF.html#p">p</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8293')">Proof.</div>
<div class="proofscript" id="proof8293">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="USimDRF.html#nprace_prog">nprace_prog</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">gm</span>,<span class="id">ge</span>,<span class="id">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">t</span>=<span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span> <span class="id">s</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="USimDRF.html#np_race_config_0">np_race_config_0</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="USimDRF.html#np_race_config_np_race_config_base_equiv">np_race_config_np_race_config_base_equiv</a></span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="GlobSim.html#GlobSim.init_config_inv_thp">GlobSim.init_config_inv_thp</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="USimDRF.html#nprace_prog">nprace_prog</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">gm</span>,<span class="id">ge</span>,<span class="id">s</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">t</span>=<span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span> <span class="id">s</span> ).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="USimDRF.html#np_star_race_config_np_race_config_1_equiv">np_star_race_config_np_race_config_1_equiv</a></span> <span class="kwd">in</span> <span class="id">H0</span> <span class="kwd">as</span> [<span class="id">l</span>[<span class="id">fp</span>[<span class="id">o</span>[<span class="id">pc1</span>[<span class="id">pc2</span>]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">l</span>,<span class="id">fp</span>,<span class="id">pc1</span>,<span class="id">o</span>,<span class="id">pc2</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H3</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="GlobSim.html#GlobSim.init_config_inv_thp">GlobSim.init_config_inv_thp</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="USimDRF.html#nprace_prog">nprace_prog</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [<span class="id">gm</span>[<span class="id">ge</span>[<span class="id">pc</span>[<span class="id">init</span>[<span class="id">race</span>|[<span class="id">l</span>[<span class="id">fp</span>[<span class="id">pc</span>'[<span class="id">o</span>[<span class="id">pce</span>[]]]]]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">race</span> <span class="kwd">as</span> [<span class="id">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="USimDRF.html#np_race_config_np_race_config_base_equiv">np_race_config_np_race_config_base_equiv</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="GlobSim.html#GlobSim.init_config_inv_thp">GlobSim.init_config_inv_thp</a></span>;<span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">exists</span> <span class="id">l</span> <span class="id">fp</span> <span class="id">o</span> <span class="id">pc1</span> <span class="id">pc2</span>,<span class="id"><a href="ETrace.html#star">star</a></span> <span class="id"><a href="NPSemantics.html#np_step">np_step</a></span> <span class="id">pc</span> <span class="id"><a href="USimDRF.html#l">l</a></span> <span class="id"><a href="USimDRF.html#fp">fp</a></span> <span class="id"><a href="USimDRF.html#pc1">pc1</a></span> /\ <span class="id"><a href="USimDRF.html#np_race_config_1">np_race_config_1</a></span> <span class="id"><a href="USimDRF.html#o">o</a></span> <span class="id"><a href="USimDRF.html#pc1">pc1</a></span> <span class="id"><a href="USimDRF.html#pc2">pc2</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">l</span>,<span class="id">fp</span>,<span class="id">o</span>,<span class="id">pc</span>',<span class="id">pce</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="USimDRF.html#np_star_race_config_np_race_config_1_equiv">np_star_race_config_np_race_config_1_equiv</a></span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 2;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">init</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H3</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="GlobSim.html#GlobSim.init_config_inv_thp">GlobSim.init_config_inv_thp</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="GUSim_nprace_prog_preservation">GUSim_nprace_prog_preservation</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">NL</span> <span class="id">L</span> <span class="id">sp</span> <span class="id">tp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="GlobUSim.html#GlobUSim">GlobUSim</a></span> <span class="id"><a href="USimDRF.html#NL">NL</a></span> <span class="id"><a href="USimDRF.html#L">L</a></span> <span class="id"><a href="USimDRF.html#sp">sp</a></span> <span class="id"><a href="USimDRF.html#tp">tp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="USimDRF.html#init_rel">init_rel</a></span> <span class="id"><a href="USimDRF.html#sp">sp</a></span> <span class="id"><a href="USimDRF.html#tp">tp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="USimDRF.html#nprace_prog">nprace_prog</a></span> <span class="id"><a href="USimDRF.html#tp">tp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="USimDRF.html#nprace_prog">nprace_prog</a></span> <span class="id"><a href="USimDRF.html#sp">sp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8294')">Proof.</div>
<div class="proofscript" id="proof8294">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="USimDRF.html#nprace_prog">nprace_prog</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H1</span> <span class="kwd">as</span> [<span class="id">tgm</span>[<span class="id">tge</span>[<span class="id">tpc</span>[<span class="id">init_tpc</span> <span class="id">race_tpc</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">race_tpc</span> <span class="kwd">as</span> [<span class="id">race_tpc</span>| [<span class="id">l</span>[<span class="id">fpT1</span>[<span class="id">tpc1</span>[<span class="id">o</span>[<span class="id">tpc2</span>[<span class="id">star1</span> <span class="id">race_tpc2</span>]]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="USimDRF.html#GUSim_nprace_preservation_2">GUSim_nprace_preservation_2</a></span> <span class="kwd">in</span> <span class="id">race_tpc</span> <span class="kwd">as</span>[<span class="id">sgm</span>[<span class="id">sge</span>[<span class="id">spc</span>]]];<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">sgm</span>,<span class="id">sge</span>,<span class="id">spc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H1</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">init_tpc</span> <span class="kwd">as</span> <span class="id">Tmp</span>;<span class="tactic">eapply</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">Tmp</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Tmp</span> <span class="kwd">as</span> [<span class="id">mu</span>[<span class="id">sgm</span>[<span class="id">sge</span>[<span class="id">spc</span>[]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">sgm</span>,<span class="id">sge</span>,<span class="id">spc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span> <span class="id">spc</span> = <span class="id"><a href="GlobDefs.html#cur_tid">cur_tid</a></span> <span class="id">tpc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H2</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H3</span>;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">init_tpc</span> <span class="kwd">as</span> <span class="id">Tmp</span>;<span class="tactic">eapply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">Tmp</span> <span class="kwd">as</span> [<span class="id">I</span>[<span class="id">ord</span>[<span class="id">match_state</span>[<span class="id">i</span>[]]]]];<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="USimDRF.html#GUSim_star_nprace_preservation_1">GUSim_star_nprace_preservation_1</a></span> <span class="kwd">in</span> <span class="id">race_tpc2</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">race_tpc2</span> <span class="kwd">as</span> [<span class="id">l2</span>[<span class="id">fpS2</span>[<span class="id">spc1</span>[<span class="id">spc2</span>[]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">l2</span>,<span class="id">fpS2</span>,<span class="id">spc1</span>,<span class="id">o</span>,<span class="id">spc2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">init_tpc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H6</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="GUSim_DRF_preservation">GUSim_DRF_preservation</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">NL</span> <span class="id">L</span> <span class="id">sp</span> <span class="id">tp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="GlobUSim.html#GlobUSim">GlobUSim</a></span> <span class="id"><a href="USimDRF.html#NL">NL</a></span> <span class="id"><a href="USimDRF.html#L">L</a></span> <span class="id"><a href="USimDRF.html#sp">sp</a></span> <span class="id"><a href="USimDRF.html#tp">tp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="USimDRF.html#init_rel">init_rel</a></span> <span class="id"><a href="USimDRF.html#sp">sp</a></span> <span class="id"><a href="USimDRF.html#tp">tp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="NPDRF.html#npdrf">npdrf</a></span> <span class="id"><a href="USimDRF.html#sp">sp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="NPDRF.html#npdrf">npdrf</a></span> <span class="id"><a href="USimDRF.html#tp">tp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8295')">Proof.</div>
<div class="proofscript" id="proof8295">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="NPDRF.html#npdrf">npdrf</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="USimDRF.html#np_race_prog_nprace_prog_equiv">np_race_prog_nprace_prog_equiv</a></span> <span class="kwd">in</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="USimDRF.html#GUSim_nprace_prog_preservation">GUSim_nprace_prog_preservation</a></span> <span class="kwd">in</span> <span class="id">H2</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="USimDRF.html#np_race_prog_nprace_prog_equiv">np_race_prog_nprace_prog_equiv</a></span> <span class="kwd">in</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;</div>
<div class="footer"><hr/>Generated by coq2html</div>
</body>
</html>
