<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module Cop_fp</title>
<meta name="description" content="Documentation of Coq module Cop_fp" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module Cop_fp</h1>
<div class="coq">
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Coqlib.html">Coqlib</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="AST.html">AST</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Integers.html">Integers</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Floats.html">Floats</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Values.html">Values</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Ctypes.html">Ctypes</a></span>.<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Cop.html">Cop</a></span>.<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Footprint.html">Footprint</a></span> <span class="id"><a href="FMemory.html">FMemory</a></span> <span class="id"><a href="FMemOpFP.html">FMemOpFP</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="FCop.html">FCop</a></span>.<br/>
<br/>
<div class="doc">why make them local ... 
 move to Footprint.v ?</div>
<span class="kwd">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="locset">locset</a></span> := <span class="id"><a href="Footprint.html#Locs.t">Locs.t</a></span>.<br/>
<span class="kwd">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="empls">empls</a></span> := <span class="id"><a href="Footprint.html#Locs.emp">Locs.emp</a></span>.<br/>
<span class="kwd">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="footprint">footprint</a></span> := <span class="id"><a href="Footprint.html#FP.t">FP.t</a></span>.<br/>
<span class="kwd">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="empfp">empfp</a></span> := <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>.<br/>
<span class="kwd">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="FP">FP</a></span> := <span class="id"><a href="Footprint.html#FP.Build_t">FP.Build_t</a></span>.<br/>
<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="of_optfp">of_optfp</a></span> (<span class="id">ofp</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Cop_fp.html#footprint">footprint</a></span>) : <span class="id"><a href="Cop_fp.html#footprint">footprint</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#ofp">ofp</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">fp</span> =&gt; <span class="id">fp</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<div class="doc">Instrument C operations with footprints </div>
<h1> Semantic with memory read/writes </h1>
<br/>
<div class="doc">Footprint of cast: 
    when v is a pointer value under architecture, and casting to a bool value,
    we need to check the validity of the pointer, thus has weak_valid_pointer fp
    
    Note: for operation that would not return a value (i.e. return None),
    the footprint calculation returns None, instead of Some empfp.
 </div>
<span class="kwd">Definition</span> <span class="id"><a name="sem_cast_fp">sem_cast_fp</a></span> (<span class="id">v</span>:<span class="id"><a href="Values.html#val">val</a></span>) (<span class="id">t1</span> <span class="id">t2</span>: <span class="id"><a href="Ctypes.html#type">type</a></span>) (<span class="id">m</span>: <span class="id"><a href="FMemory.html#mem">mem</a></span>): <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Cop_fp.html#footprint">footprint</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop.html#classify_cast">classify_cast</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#cast_case_pointer">cast_case_pointer</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">_</span> =&gt; <span class="kwd">if</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">_</span> =&gt; <span class="kwd">if</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#cast_case_i2i">cast_case_i2i</a></span> <span class="id">_</span> <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#cast_case_f2f">cast_case_f2f</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vfloat">Vfloat</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#cast_case_s2s">cast_case_s2s</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vsingle">Vsingle</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#cast_case_f2s">cast_case_f2s</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vfloat">Vfloat</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#cast_case_s2f">cast_case_s2f</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vsingle">Vsingle</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#cast_case_i2f">cast_case_i2f</a></span> <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#cast_case_i2s">cast_case_i2s</a></span> <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#cast_case_f2i">cast_case_f2i</a></span> <span class="id">sz2</span> <span class="id">si2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vfloat">Vfloat</a></span> <span class="id">f</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop.html#cast_float_int">cast_float_int</a></span> <span class="id">si2</span> <span class="id">f</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#cast_case_s2i">cast_case_s2i</a></span> <span class="id">sz2</span> <span class="id">si2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vsingle">Vsingle</a></span> <span class="id">f</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop.html#cast_single_int">cast_single_int</a></span> <span class="id">si2</span> <span class="id">f</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#cast_case_l2l">cast_case_l2l</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#cast_case_i2l">cast_case_i2l</a></span> <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#cast_case_l2i">cast_case_l2i</a></span> <span class="id">_</span> <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#cast_case_l2f">cast_case_l2f</a></span> <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#cast_case_l2s">cast_case_l2s</a></span> <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#cast_case_f2l">cast_case_f2l</a></span> <span class="id">si2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vfloat">Vfloat</a></span> <span class="id">f</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop.html#cast_float_long">cast_float_long</a></span> <span class="id">si2</span> <span class="id">f</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#cast_case_s2l">cast_case_s2l</a></span> <span class="id">si2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vsingle">Vsingle</a></span> <span class="id">f</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop.html#cast_single_long">cast_single_long</a></span> <span class="id">si2</span> <span class="id">f</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">i</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#cast_case_i2bool">cast_case_i2bool</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b</span> <span class="id">ofs</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="FMemOpFP.html#weak_valid_pointer_fp">weak_valid_pointer_fp</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id">b</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#cast_case_l2bool">cast_case_l2bool</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b</span> <span class="id">ofs</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="FMemOpFP.html#weak_valid_pointer_fp">weak_valid_pointer_fp</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id">b</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#cast_case_f2bool">cast_case_f2bool</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vfloat">Vfloat</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#cast_case_s2bool">cast_case_s2bool</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vsingle">Vsingle</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#cast_case_struct">cast_case_struct</a></span> <span class="id">id1</span> <span class="id">id2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="kwd">if</span> <span class="id"><a href="AST.html#ident_eq">ident_eq</a></span> <span class="id">id1</span> <span class="id">id2</span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#cast_case_union">cast_case_union</a></span> <span class="id">id1</span> <span class="id">id2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="kwd">if</span> <span class="id"><a href="AST.html#ident_eq">ident_eq</a></span> <span class="id">id1</span> <span class="id">id2</span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#cast_case_void">cast_case_void</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id">case_case_default</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sem_cast_sem_cast_fp">sem_cast_sem_cast_fp</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">v1</span> <span class="id">ty1</span> <span class="id">ty2</span> <span class="id">m</span> <span class="id">v2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FCop.html#sem_cast">sem_cast</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#ty1">ty1</a></span> <span class="id"><a href="Cop_fp.html#ty2">ty2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">fp</span>, <span class="id"><a href="Cop_fp.html#sem_cast_fp">sem_cast_fp</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#ty1">ty1</a></span> <span class="id"><a href="Cop_fp.html#ty2">ty2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6478')">Proof.</div>
<div class="proofscript" id="proof6478">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FCop.html#sem_cast">sem_cast</a></span>, <span class="id"><a href="Cop_fp.html#sem_cast_fp">sem_cast_fp</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Cop.html#classify_cast">classify_cast</a></span> <span class="id">ty1</span> <span class="id">ty2</span>) <span class="id">eqn</span>:? ; <span class="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v1</span> <span class="id">eqn</span>:? ; <span class="tactic">try</span> <span class="tactic">congruence</span>; <span class="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id">context</span>[<span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id">_</span> =&gt; <span class="id">_</span> <span class="kwd">end</span>] =&gt; <span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>; <span class="tactic">eauto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sem_cast_fp_sem_cast">sem_cast_fp_sem_cast</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">v1</span> <span class="id">ty1</span> <span class="id">ty2</span> <span class="id">m</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop_fp.html#sem_cast_fp">sem_cast_fp</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#ty1">ty1</a></span> <span class="id"><a href="Cop_fp.html#ty2">ty2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">exists</span> <span class="id">v2</span>, <span class="id"><a href="FCop.html#sem_cast">sem_cast</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#ty1">ty1</a></span> <span class="id"><a href="Cop_fp.html#ty2">ty2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;\/ (<span class="id">exists</span> <span class="id">b</span> <span class="id">ofs</span>, <span class="id"><a href="Cop_fp.html#v1">v1</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="Cop_fp.html#b">b</a></span> <span class="id"><a href="Cop_fp.html#ofs">ofs</a></span> /\ <span class="id"><a href="FMemory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id"><a href="Cop_fp.html#b">b</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="Cop_fp.html#ofs">ofs</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6479')">Proof.</div>
<div class="proofscript" id="proof6479">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Cop_fp.html#sem_cast_fp">sem_cast_fp</a></span>, <span class="id"><a href="FCop.html#sem_cast">sem_cast</a></span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Cop.html#classify_cast">classify_cast</a></span> <span class="id">ty1</span> <span class="id">ty2</span>) <span class="id">eqn</span>:? ; <span class="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v1</span> <span class="id">eqn</span>:? ; <span class="tactic">try</span> <span class="tactic">congruence</span>; <span class="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id">context</span>[<span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id">_</span> =&gt; <span class="id">_</span> <span class="kwd">end</span>] =&gt; <span class="tactic">destruct</span> <span class="id">x</span> <span class="id">eqn</span>:? ; <span class="tactic">try</span> <span class="tactic">congruence</span>; <span class="tactic">eauto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id">context</span>[<span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id">_</span> =&gt; <span class="id">_</span> <span class="kwd">end</span>] =&gt; <span class="tactic">destruct</span> <span class="id">x</span> <span class="id">eqn</span>:? ; <span class="tactic">eauto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sem_cast_casted_fp">sem_cast_casted_fp</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">v</span> <span class="id">ty</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop.html#val_casted">val_casted</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="id"><a href="Cop_fp.html#ty">ty</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FCop.html#sem_cast">sem_cast</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="id"><a href="Cop_fp.html#ty">ty</a></span> <span class="id"><a href="Cop_fp.html#ty">ty</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop_fp.html#sem_cast_fp">sem_cast_fp</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="id"><a href="Cop_fp.html#ty">ty</a></span> <span class="id"><a href="Cop_fp.html#ty">ty</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6480')">Proof.</div>
<div class="proofscript" id="proof6480">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">v</span> <span class="id">ty</span> <span class="id">m</span> <span class="id">CASTED</span> <span class="id">CAST</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v</span>; <span class="tactic">inversion</span> <span class="id">CASTED</span>; <span class="tactic">subst</span>; <span class="tactic">try</span> (<span class="id">cbv</span>; <span class="tactic">auto</span>; <span class="tactic">fail</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Cop_fp.html#sem_cast_fp">sem_cast_fp</a></span>, <span class="id"><a href="FCop.html#sem_cast">sem_cast</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Cop.html#classify_cast">classify_cast</a></span>; <span class="tactic">eauto</span>; <span class="id">inv</span> <span class="id">CAST</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id">H0</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id">H2</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">destruct</span> <span class="id"><a href="AST.html#ident_eq">ident_eq</a></span>; <span class="tactic">auto</span>; <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">destruct</span> <span class="id"><a href="AST.html#ident_eq">ident_eq</a></span>; <span class="tactic">auto</span>; <span class="tactic">discriminate</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sem_cast_fp_mapped">sem_cast_fp_mapped</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">m</span> <span class="id">tm</span> <span class="id">v</span> <span class="id">tv</span> <span class="id">ty</span> <span class="id">ty</span>' <span class="id">v</span>' <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="Cop_fp.html#f">f</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id"><a href="Cop_fp.html#tm">tm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="Cop_fp.html#f">f</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="id"><a href="Cop_fp.html#tv">tv</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FCop.html#sem_cast">sem_cast</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="id"><a href="Cop_fp.html#ty">ty</a></span> <span class="id">ty</span>' <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v</span>' -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop_fp.html#sem_cast_fp">sem_cast_fp</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="id"><a href="Cop_fp.html#ty">ty</a></span> <span class="id">ty</span>' <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">tfp</span>, <span class="id"><a href="Cop_fp.html#sem_cast_fp">sem_cast_fp</a></span> <span class="id"><a href="Cop_fp.html#tv">tv</a></span> <span class="id"><a href="Cop_fp.html#ty">ty</a></span> <span class="id">ty</span>' <span class="id"><a href="Cop_fp.html#tm">tm</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#tfp">tfp</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemOpFP.html#fp_mapped">fp_mapped</a></span> <span class="id"><a href="Cop_fp.html#f">f</a></span> <span class="id"><a href="Cop_fp.html#fp">fp</a></span> <span class="id"><a href="Cop_fp.html#tfp">tfp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6481')">Proof.</div>
<div class="proofscript" id="proof6481">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">intros</span> <span class="id">until</span> <span class="id">fp</span>. <span class="tactic">intros</span> <span class="id">MEMINJ</span> <span class="id">VALINJ</span> <span class="id">CAST</span> <span class="id">CAST_FP</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v</span>; <span class="id">inv</span> <span class="id">VALINJ</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FCop.html#sem_cast">sem_cast</a></span>, <span class="id"><a href="Cop_fp.html#sem_cast_fp">sem_cast_fp</a></span> <span class="kwd">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id">_</span> =&gt; <span class="id">_</span> <span class="kwd">end</span> = <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="tactic">destruct</span> <span class="id">x</span> <span class="id">eqn</span>:?<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="kwd">if</span> ?<span class="id">x</span> <span class="kwd">then</span> <span class="id">_</span> <span class="kwd">else</span> <span class="id">_</span> = <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="tactic">destruct</span> <span class="id">x</span> <span class="id">eqn</span>:?<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span> );<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="id">exists</span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span>; <span class="tactic">split</span>; [<span class="tactic">auto</span>|<span class="tactic">apply</span> <span class="id"><a href="FMemOpFP.html#emp_fp_mapped">emp_fp_mapped</a></span>]; <span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;<span class="id">eexists</span>; <span class="tactic">split</span>; [<span class="tactic">eauto</span>|].<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">CAST_FP</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="FMemOpFP.html#weak_valid_inj_fp_mapped">weak_valid_inj_fp_mapped</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Interpretation of values as truth values. </div>
<span class="kwd">Definition</span> <span class="id"><a name="bool_val_fp">bool_val_fp</a></span> (<span class="id">v</span>: <span class="id"><a href="Values.html#val">val</a></span>) (<span class="id">t</span>: <span class="id"><a href="Ctypes.html#type">type</a></span>) (<span class="id">m</span>: <span class="id"><a href="FMemory.html#mem">mem</a></span>): <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Cop_fp.html#footprint">footprint</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop.html#classify_bool">classify_bool</a></span> <span class="id"><a href="Cop_fp.html#t">t</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#bool_case_i">bool_case_i</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b</span> <span class="id">ofs</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="FMemOpFP.html#weak_valid_pointer_fp">weak_valid_pointer_fp</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id">b</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#bool_case_l">bool_case_l</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b</span> <span class="id">ofs</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="FMemOpFP.html#weak_valid_pointer_fp">weak_valid_pointer_fp</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id">b</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#bool_case_f">bool_case_f</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vfloat">Vfloat</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#bool_case_s">bool_case_s</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vsingle">Vsingle</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id">bool_defalt</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="bool_val_bool_val_fp">bool_val_bool_val_fp</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">v</span> <span class="id">t</span> <span class="id">m</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FCop.html#bool_val">bool_val</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="id"><a href="Cop_fp.html#t">t</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">fp</span>, <span class="id"><a href="Cop_fp.html#bool_val_fp">bool_val_fp</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="id"><a href="Cop_fp.html#t">t</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6482')">Proof.</div>
<div class="proofscript" id="proof6482">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FCop.html#bool_val">bool_val</a></span>, <span class="id"><a href="Cop_fp.html#bool_val_fp">bool_val_fp</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:? ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Cop.html#classify_bool">classify_bool</a></span> <span class="id">t</span>); <span class="tactic">destruct</span> <span class="id">v</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">congruence</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="bool_val_fp_bool_val">bool_val_fp_bool_val</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">v</span> <span class="id">t</span> <span class="id">m</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop_fp.html#bool_val_fp">bool_val_fp</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="id"><a href="Cop_fp.html#t">t</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">exists</span> <span class="id">b</span>, <span class="id"><a href="FCop.html#bool_val">bool_val</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="id"><a href="Cop_fp.html#t">t</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#b">b</a></span>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;\/ (<span class="id">exists</span> <span class="id">b</span> <span class="id">ofs</span>, <span class="id"><a href="Cop_fp.html#v">v</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="Cop_fp.html#b">b</a></span> <span class="id"><a href="Cop_fp.html#ofs">ofs</a></span> /\ <span class="id"><a href="FMemory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id"><a href="Cop_fp.html#b">b</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="Cop_fp.html#ofs">ofs</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6483')">Proof.</div>
<div class="proofscript" id="proof6483">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FCop.html#bool_val">bool_val</a></span>, <span class="id"><a href="Cop_fp.html#bool_val_fp">bool_val_fp</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:? ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Cop.html#classify_bool">classify_bool</a></span> <span class="id">t</span>); <span class="tactic">destruct</span> <span class="id">v</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">congruence</span>; <span class="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id">context</span>[<span class="kwd">if</span> ?<span class="id">x</span> <span class="kwd">then</span> <span class="id">_</span> <span class="kwd">else</span> <span class="id">_</span>] =&gt; <span class="tactic">destruct</span> <span class="id">x</span> <span class="id">eqn</span>:? ; <span class="tactic">eauto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="bool_val_fp_mapped">bool_val_fp_mapped</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">m</span> <span class="id">m</span>' <span class="id">v</span> <span class="id">ty</span> <span class="id">b</span> <span class="id">fp</span> <span class="id">tv</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FCop.html#bool_val">bool_val</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="id"><a href="Cop_fp.html#ty">ty</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop_fp.html#bool_val_fp">bool_val_fp</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="id"><a href="Cop_fp.html#ty">ty</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="Cop_fp.html#f">f</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="id"><a href="Cop_fp.html#tv">tv</a></span> -&gt; <span class="id"><a href="FMemory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="Cop_fp.html#f">f</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">tfp</span>, <span class="id"><a href="Cop_fp.html#bool_val_fp">bool_val_fp</a></span> <span class="id"><a href="Cop_fp.html#tv">tv</a></span> <span class="id"><a href="Cop_fp.html#ty">ty</a></span> <span class="id">m</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#tfp">tfp</a></span> /\ <span class="id"><a href="FMemOpFP.html#fp_mapped">fp_mapped</a></span> <span class="id"><a href="Cop_fp.html#f">f</a></span> <span class="id"><a href="Cop_fp.html#fp">fp</a></span> <span class="id"><a href="Cop_fp.html#tfp">tfp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6484')">Proof.</div>
<div class="proofscript" id="proof6484">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Cop_fp.html#bool_val_fp">bool_val_fp</a></span>, <span class="id"><a href="FCop.html#bool_val">bool_val</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Cop.html#classify_bool">classify_bool</a></span>; <span class="id">inv</span> <span class="id">H1</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="id">inv</span> <span class="id">H0</span>; <span class="id">eexists</span>; <span class="tactic">split</span>; [<span class="tactic">eauto</span>|<span class="tactic">apply</span> <span class="id"><a href="FMemOpFP.html#emp_fp_mapped">emp_fp_mapped</a></span>]; <span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span>; <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> <span class="id">H</span>: <span class="id">context</span>[<span class="kwd">if</span> ?<span class="id">x</span> <span class="kwd">then</span> <span class="id">_</span> <span class="kwd">else</span> <span class="id">_</span>] |- <span class="id">_</span> =&gt; <span class="tactic">destruct</span> <span class="id">x</span> <span class="id">eqn</span>:?; <span class="id">inv</span> <span class="id">H</span> <span class="kwd">end</span>.<br/>
&nbsp;&nbsp;<span class="id">eexists</span>; <span class="tactic">split</span>; [<span class="tactic">eauto</span>|].<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="FMemOpFP.html#weak_valid_inj_fp_mapped">weak_valid_inj_fp_mapped</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<h2> Unary operators </h2>
<br/>
<h3> Boolean negation </h3>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="sem_notbool_fp">sem_notbool_fp</a></span> (<span class="id">v</span>: <span class="id"><a href="Values.html#val">val</a></span>) (<span class="id">ty</span>: <span class="id"><a href="Ctypes.html#type">type</a></span>) (<span class="id">m</span>: <span class="id"><a href="FMemory.html#mem">mem</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Cop_fp.html#footprint">footprint</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="Cop_fp.html#bool_val_fp">bool_val_fp</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="id"><a href="Cop_fp.html#ty">ty</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sem_notbool_sem_notbool_fp">sem_notbool_sem_notbool_fp</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">v</span> <span class="id">ty</span> <span class="id">m</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FCop.html#sem_notbool">sem_notbool</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="id"><a href="Cop_fp.html#ty">ty</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">fp</span>, <span class="id"><a href="Cop_fp.html#sem_notbool_fp">sem_notbool_fp</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="id"><a href="Cop_fp.html#ty">ty</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6485')">Proof.</div>
<div class="proofscript" id="proof6485">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FCop.html#sem_notbool">sem_notbool</a></span>, <span class="id"><a href="Cop_fp.html#sem_notbool_fp">sem_notbool_fp</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Coqlib.html#option_map">option_map</a></span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="FCop.html#bool_val">bool_val</a></span>) <span class="id">eqn</span>:?; <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Cop_fp.html#bool_val_bool_val_fp">bool_val_bool_val_fp</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sem_notbool_fp_sem_notbool">sem_notbool_fp_sem_notbool</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">v</span> <span class="id">ty</span> <span class="id">m</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop_fp.html#sem_notbool_fp">sem_notbool_fp</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="id"><a href="Cop_fp.html#ty">ty</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">exists</span> <span class="id">b</span>, <span class="id"><a href="FCop.html#sem_notbool">sem_notbool</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="id"><a href="Cop_fp.html#ty">ty</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#b">b</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;\/ (<span class="id">exists</span> <span class="id">b</span> <span class="id">ofs</span>, <span class="id"><a href="Cop_fp.html#v">v</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="Cop_fp.html#b">b</a></span> <span class="id"><a href="Cop_fp.html#ofs">ofs</a></span> /\ <span class="id"><a href="FMemory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id"><a href="Cop_fp.html#b">b</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="Cop_fp.html#ofs">ofs</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6486')">Proof.</div>
<div class="proofscript" id="proof6486">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FCop.html#sem_notbool">sem_notbool</a></span>, <span class="id"><a href="Cop_fp.html#sem_notbool_fp">sem_notbool_fp</a></span>, <span class="id"><a href="Coqlib.html#option_map">option_map</a></span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Cop_fp.html#bool_val_fp_bool_val">bool_val_fp_bool_val</a></span> <span class="kwd">with</span> <span class="id">v</span> <span class="id">ty</span> <span class="id">m</span> <span class="id">fp</span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span>; <span class="tactic">auto</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id">H0</span>. <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<br/>
<h2> Binary operators </h2>
<span class="kwd">Definition</span> <span class="id"><a name="sem_binarith_fp">sem_binarith_fp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">sem_int</span>: <span class="id"><a href="Ctypes.html#signedness">signedness</a></span> -&gt; <span class="id"><a href="Integers.html#int">int</a></span> -&gt; <span class="id"><a href="Integers.html#int">int</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Values.html#val">val</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">sem_long</span>: <span class="id"><a href="Ctypes.html#signedness">signedness</a></span> -&gt; <span class="id"><a href="Integers.html#int64">int64</a></span> -&gt; <span class="id"><a href="Integers.html#int64">int64</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Values.html#val">val</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">sem_float</span>: <span class="id"><a href="Floats.html#float">float</a></span> -&gt; <span class="id"><a href="Floats.html#float">float</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Values.html#val">val</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">sem_single</span>: <span class="id"><a href="Floats.html#float32">float32</a></span> -&gt; <span class="id"><a href="Floats.html#float32">float32</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Values.html#val">val</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">v1</span>: <span class="id"><a href="Values.html#val">val</a></span>) (<span class="id">t1</span>: <span class="id"><a href="Ctypes.html#type">type</a></span>) (<span class="id">v2</span>: <span class="id"><a href="Values.html#val">val</a></span>) (<span class="id">t2</span>: <span class="id"><a href="Ctypes.html#type">type</a></span>) (<span class="id">m</span>: <span class="id"><a href="FMemory.html#mem">mem</a></span>): <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Cop_fp.html#footprint">footprint</a></span>:=<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">c</span> := <span class="id"><a href="Cop.html#classify_binarith">classify_binarith</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">t</span> := <span class="id"><a href="Cop.html#binarith_type">binarith_type</a></span> <span class="id"><a href="Cop_fp.html#c">c</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="FCop.html#sem_cast">sem_cast</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#t">t</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> , <span class="id"><a href="Cop_fp.html#sem_cast_fp">sem_cast_fp</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#t">t</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v1</span>', <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">fp1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="FCop.html#sem_cast">sem_cast</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="id"><a href="Cop_fp.html#t">t</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> , <span class="id"><a href="Cop_fp.html#sem_cast_fp">sem_cast_fp</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="id"><a href="Cop_fp.html#t">t</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v2</span>', <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">fp2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#c">c</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Cop.html#bin_case_i">bin_case_i</a></span> <span class="id">sg</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">v1</span>', <span class="id">v2</span>' <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n1</span>, <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Cop_fp.html#sem_int">sem_int</a></span> <span class="id">sg</span> <span class="id">n1</span> <span class="id">n2</span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fp1</span> <span class="id">fp2</span>) <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span>,  <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Cop.html#bin_case_f">bin_case_f</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">v1</span>', <span class="id">v2</span>' <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vfloat">Vfloat</a></span> <span class="id">n1</span>, <span class="id"><a href="Values.html#Vfloat">Vfloat</a></span> <span class="id">n2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Cop_fp.html#sem_float">sem_float</a></span> <span class="id">n1</span> <span class="id">n2</span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fp1</span> <span class="id">fp2</span>) <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span>,  <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Cop.html#bin_case_s">bin_case_s</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">v1</span>', <span class="id">v2</span>' <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vsingle">Vsingle</a></span> <span class="id">n1</span>, <span class="id"><a href="Values.html#Vsingle">Vsingle</a></span> <span class="id">n2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Cop_fp.html#sem_single">sem_single</a></span> <span class="id">n1</span> <span class="id">n2</span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fp1</span> <span class="id">fp2</span>) <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span>,  <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Cop.html#bin_case_l">bin_case_l</a></span> <span class="id">sg</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">v1</span>', <span class="id">v2</span>' <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">n1</span>, <span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">n2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Cop_fp.html#sem_long">sem_long</a></span> <span class="id">sg</span> <span class="id">n1</span> <span class="id">n2</span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fp1</span> <span class="id">fp2</span>) <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>            <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span>,  <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Cop.html#bin_default">bin_default</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sem_binarith_sem_binarith_fp">sem_binarith_sem_binarith_fp</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">sem1</span> <span class="id">sem2</span> <span class="id">sem3</span> <span class="id">sem4</span> <span class="id">v1</span> <span class="id">t1</span> <span class="id">v2</span> <span class="id">t2</span> <span class="id">m</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FCop.html#sem_binarith">sem_binarith</a></span> <span class="id"><a href="Cop_fp.html#sem1">sem1</a></span> <span class="id"><a href="Cop_fp.html#sem2">sem2</a></span> <span class="id"><a href="Cop_fp.html#sem3">sem3</a></span> <span class="id"><a href="Cop_fp.html#sem4">sem4</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">fp</span>, <span class="id"><a href="Cop_fp.html#sem_binarith_fp">sem_binarith_fp</a></span> <span class="id"><a href="Cop_fp.html#sem1">sem1</a></span> <span class="id"><a href="Cop_fp.html#sem2">sem2</a></span> <span class="id"><a href="Cop_fp.html#sem3">sem3</a></span> <span class="id"><a href="Cop_fp.html#sem4">sem4</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6487')">Proof.</div>
<div class="proofscript" id="proof6487">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FCop.html#sem_binarith">sem_binarith</a></span>, <span class="id"><a href="Cop_fp.html#sem_binarith_fp">sem_binarith_fp</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">destruct</span> (<span class="id"><a href="FCop.html#sem_cast">sem_cast</a></span> <span class="id">v2</span> <span class="id">t2</span> <span class="id">_</span> <span class="id">m</span>) <span class="id">eqn</span>:?, (<span class="id"><a href="FCop.html#sem_cast">sem_cast</a></span> <span class="id">v1</span> <span class="id">t1</span> <span class="id">_</span> <span class="id">m</span>) <span class="id">eqn</span>:?; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">do</span> 2 <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="FCop.html#sem_cast">sem_cast</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Cop_fp.html#sem_cast_sem_cast_fp">sem_cast_sem_cast_fp</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [? <span class="id">H</span>]; <span class="tactic">rewrite</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Cop.html#classify_binarith">classify_binarith</a></span> <span class="id">t1</span> <span class="id">t2</span>); <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v3</span>, <span class="id">v0</span>; <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">rewrite</span> <span class="id">H1</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>.<br/>
Qed.</div>
&nbsp;&nbsp;<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sem_binarith_fp_sem_binarith">sem_binarith_fp_sem_binarith</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">sem1</span> <span class="id">sem2</span> <span class="id">sem3</span> <span class="id">sem4</span> <span class="id">v1</span> <span class="id">t1</span> <span class="id">v2</span> <span class="id">t2</span> <span class="id">m</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop_fp.html#sem_binarith_fp">sem_binarith_fp</a></span> <span class="id"><a href="Cop_fp.html#sem1">sem1</a></span> <span class="id"><a href="Cop_fp.html#sem2">sem2</a></span> <span class="id"><a href="Cop_fp.html#sem3">sem3</a></span> <span class="id"><a href="Cop_fp.html#sem4">sem4</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">exists</span> <span class="id">v</span>, <span class="id"><a href="FCop.html#sem_binarith">sem_binarith</a></span> <span class="id"><a href="Cop_fp.html#sem1">sem1</a></span> <span class="id"><a href="Cop_fp.html#sem2">sem2</a></span> <span class="id"><a href="Cop_fp.html#sem3">sem3</a></span> <span class="id"><a href="Cop_fp.html#sem4">sem4</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;\/ (<span class="id">exists</span> <span class="id">b</span> <span class="id">ofs</span>, <span class="id"><a href="Cop_fp.html#v1">v1</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="Cop_fp.html#b">b</a></span> <span class="id"><a href="Cop_fp.html#ofs">ofs</a></span> /\ <span class="id"><a href="FMemory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id"><a href="Cop_fp.html#b">b</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="Cop_fp.html#ofs">ofs</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;\/ (<span class="id">exists</span> <span class="id">b</span> <span class="id">ofs</span>, <span class="id"><a href="Cop_fp.html#v2">v2</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="Cop_fp.html#b">b</a></span> <span class="id"><a href="Cop_fp.html#ofs">ofs</a></span> /\ <span class="id"><a href="FMemory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id"><a href="Cop_fp.html#b">b</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="Cop_fp.html#ofs">ofs</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6488')">Proof.</div>
<div class="proofscript" id="proof6488">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Cop_fp.html#sem_binarith_fp">sem_binarith_fp</a></span>, <span class="id"><a href="FCop.html#sem_binarith">sem_binarith</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Cop_fp.html#sem_cast_fp">sem_cast_fp</a></span> <span class="id">v2</span> <span class="id">t2</span>) <span class="id">eqn</span>: <span class="id">Hv2</span>, (<span class="id"><a href="Cop_fp.html#sem_cast_fp">sem_cast_fp</a></span> <span class="id">v1</span> <span class="id">t1</span>) <span class="id">eqn</span>: <span class="id">Hv1</span>; <span class="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">apply</span> <span class="id"><a href="Cop_fp.html#sem_cast_fp_sem_cast">sem_cast_fp_sem_cast</a></span> <span class="kwd">with</span> (<span class="id">m</span>:=<span class="id">m</span>) <span class="kwd">in</span> <span class="id">Hv2</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">destruct</span> <span class="id">Hv2</span> <span class="kwd">as</span> [ [<span class="id">v2</span>' <span class="id">Hv2</span>] | [<span class="id">b</span> [<span class="id">ofs</span> [<span class="id">Hv2</span> <span class="id">INVALID2</span>]]]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="tactic">rewrite</span> <span class="id">Hv2</span> <span class="kwd">in</span> * | ]);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">apply</span> <span class="id"><a href="Cop_fp.html#sem_cast_fp_sem_cast">sem_cast_fp_sem_cast</a></span> <span class="kwd">with</span> (<span class="id">m</span>:=<span class="id">m</span>) <span class="kwd">in</span> <span class="id">Hv1</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">destruct</span> <span class="id">Hv1</span> <span class="kwd">as</span> [ [<span class="id">v1</span>' <span class="id">Hv1</span>] | [<span class="id">b</span> [<span class="id">ofs</span> [<span class="id">Hv1</span> <span class="id">INVALID1</span>]]]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="tactic">rewrite</span> <span class="id">Hv1</span> <span class="kwd">in</span> * | ]);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Cop.html#classify_binarith">classify_binarith</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">destruct</span> <span class="id">v1</span>' <span class="id">eqn</span>:?; <span class="tactic">try</span> <span class="tactic">destruct</span> <span class="id">v2</span>' <span class="id">eqn</span>:?; <span class="tactic">try</span> (<span class="id">inv</span> <span class="id">H</span>; <span class="tactic">fail</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: (<span class="kwd">if</span> ?<span class="id">x</span> <span class="kwd">then</span> <span class="id">_</span> <span class="kwd">else</span> <span class="id">_</span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="tactic">destruct</span> <span class="id">x</span>; <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">eauto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>; <span class="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="id">right</span>; <span class="id">left</span>; <span class="tactic">eauto</span>; <span class="tactic">fail</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="id">right</span>; <span class="id">right</span>; <span class="tactic">eauto</span>; <span class="tactic">fail</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sem_binarith_fp_mapped">sem_binarith_fp_mapped</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">m</span> <span class="id">tm</span> <span class="id">v1</span> <span class="id">tv1</span> <span class="id">v2</span> <span class="id">tv2</span> <span class="id">ty1</span> <span class="id">ty2</span> <span class="id">sem1</span> <span class="id">sem2</span> <span class="id">sem3</span> <span class="id">sem4</span> <span class="id">v</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="Cop_fp.html#f">f</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id"><a href="Cop_fp.html#tm">tm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="Cop_fp.html#f">f</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#tv1">tv1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="Cop_fp.html#f">f</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#tv2">tv2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> (<span class="id">sg</span> : <span class="id"><a href="Ctypes.html#signedness">signedness</a></span>) (<span class="id">n1</span> <span class="id">n2</span> : <span class="id"><a href="Integers.html#int">int</a></span>), <span class="id"><a href="FCop.html#optval_self_injects">optval_self_injects</a></span> (<span class="id"><a href="Cop_fp.html#sem1">sem1</a></span> <span class="id"><a href="Cop_fp.html#sg">sg</a></span> <span class="id"><a href="Cop_fp.html#n1">n1</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> (<span class="id">sg</span> : <span class="id"><a href="Ctypes.html#signedness">signedness</a></span>) (<span class="id">n1</span> <span class="id">n2</span> : <span class="id"><a href="Integers.html#int64">int64</a></span>), <span class="id"><a href="FCop.html#optval_self_injects">optval_self_injects</a></span> (<span class="id"><a href="Cop_fp.html#sem2">sem2</a></span> <span class="id"><a href="Cop_fp.html#sg">sg</a></span> <span class="id"><a href="Cop_fp.html#n1">n1</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">n1</span> <span class="id">n2</span> : <span class="id"><a href="Floats.html#float">float</a></span>, <span class="id"><a href="FCop.html#optval_self_injects">optval_self_injects</a></span> (<span class="id"><a href="Cop_fp.html#sem3">sem3</a></span> <span class="id"><a href="Cop_fp.html#n1">n1</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">n1</span> <span class="id">n2</span> : <span class="id"><a href="Floats.html#float32">float32</a></span>, <span class="id"><a href="FCop.html#optval_self_injects">optval_self_injects</a></span> (<span class="id"><a href="Cop_fp.html#sem4">sem4</a></span> <span class="id"><a href="Cop_fp.html#n1">n1</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FCop.html#sem_binarith">sem_binarith</a></span> <span class="id"><a href="Cop_fp.html#sem1">sem1</a></span> <span class="id"><a href="Cop_fp.html#sem2">sem2</a></span> <span class="id"><a href="Cop_fp.html#sem3">sem3</a></span> <span class="id"><a href="Cop_fp.html#sem4">sem4</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#ty1">ty1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#ty2">ty2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop_fp.html#sem_binarith_fp">sem_binarith_fp</a></span> <span class="id"><a href="Cop_fp.html#sem1">sem1</a></span> <span class="id"><a href="Cop_fp.html#sem2">sem2</a></span> <span class="id"><a href="Cop_fp.html#sem3">sem3</a></span> <span class="id"><a href="Cop_fp.html#sem4">sem4</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#ty1">ty1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#ty2">ty2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">tfp</span>, <span class="id"><a href="Cop_fp.html#sem_binarith_fp">sem_binarith_fp</a></span> <span class="id"><a href="Cop_fp.html#sem1">sem1</a></span> <span class="id"><a href="Cop_fp.html#sem2">sem2</a></span> <span class="id"><a href="Cop_fp.html#sem3">sem3</a></span> <span class="id"><a href="Cop_fp.html#sem4">sem4</a></span> <span class="id"><a href="Cop_fp.html#tv1">tv1</a></span> <span class="id"><a href="Cop_fp.html#ty1">ty1</a></span> <span class="id"><a href="Cop_fp.html#tv2">tv2</a></span> <span class="id"><a href="Cop_fp.html#ty2">ty2</a></span> <span class="id"><a href="Cop_fp.html#tm">tm</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#tfp">tfp</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemOpFP.html#fp_mapped">fp_mapped</a></span> <span class="id"><a href="Cop_fp.html#f">f</a></span> <span class="id"><a href="Cop_fp.html#fp">fp</a></span> <span class="id"><a href="Cop_fp.html#tfp">tfp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6489')">Proof.</div>
<div class="proofscript" id="proof6489">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">fp</span>. <span class="tactic">intros</span> <span class="id">MEMINJ</span> <span class="id">VALINJ1</span> <span class="id">VALINJ2</span> <span class="id">SEM1</span> <span class="id">SEM2</span> <span class="id">SEM3</span> <span class="id">SEM4</span> <span class="id">BINARITH</span> <span class="id">BINARITHFP</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="FCop.html#sem_binarith_inject">sem_binarith_inject</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id">instantiate</span> (1:=<span class="id">tm</span>). <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="FMemory.html#Mem.weak_valid_pointer_inject_no_overflow">Mem.weak_valid_pointer_inject_no_overflow</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Integers.html#Ptrofs.add">Ptrofs.add</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.unsigned_repr">Ptrofs.unsigned_repr</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="FMemory.html#Mem.weak_valid_pointer_inject">Mem.weak_valid_pointer_inject</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.unsigned_repr">Ptrofs.unsigned_repr</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="FMemory.html#Mem.mi_representable">Mem.mi_representable</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="FMemory.html#Mem.weak_valid_pointer_spec">Mem.weak_valid_pointer_spec</a></span>, <span class="id"><a href="FMemory.html#Mem.valid_pointer_nonempty_perm">Mem.valid_pointer_nonempty_perm</a></span>, <span class="id"><a href="FMemory.html#Mem.valid_pointer_nonempty_perm">Mem.valid_pointer_nonempty_perm</a></span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">instantiate</span> (1:=<span class="id">ofs</span>). <span class="tactic">generalize</span> <span class="id">H0</span>; <span class="tactic">clear</span>. <span class="tactic">intro</span> <span class="id">H</span>. <span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [<span class="id">H</span>|<span class="id">H</span>]; <span class="tactic">apply</span> <span class="id"><a href="FMemory.html#Mem.perm_cur_max">Mem.perm_cur_max</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">DELTA</span> <span class="id">OFS</span>]. <span class="tactic">split</span>. <span class="tactic">omega</span>. <span class="tactic">generalize</span> <span class="id">OFS</span>. <span class="tactic">clear</span>. <span class="tactic">destruct</span> <span class="id">ofs</span>. <span class="tactic">intros</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">tv</span> [<span class="id">TBINARITH</span> <span class="id">TVALINJ</span>]].<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FCop.html#sem_binarith">sem_binarith</a></span>, <span class="id"><a href="Cop_fp.html#sem_binarith_fp">sem_binarith_fp</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="FCop.html#sem_cast">sem_cast</a></span> <span class="id">v1</span> <span class="id">ty1</span> <span class="id">_</span> <span class="id">_</span>) <span class="id">eqn</span>:? ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">destruct</span> (<span class="id"><a href="FCop.html#sem_cast">sem_cast</a></span> <span class="id">v2</span> <span class="id">ty2</span> <span class="id">_</span> <span class="id">_</span>) <span class="id">eqn</span>:? ; <span class="tactic">try</span> <span class="tactic">discriminate</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="FCop.html#sem_cast">sem_cast</a></span> <span class="id">tv1</span> <span class="id">ty1</span> <span class="id">_</span> <span class="id">_</span>) <span class="id">eqn</span>:? ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">destruct</span> (<span class="id"><a href="FCop.html#sem_cast">sem_cast</a></span> <span class="id">tv2</span> <span class="id">ty2</span> <span class="id">_</span> <span class="id">_</span>) <span class="id">eqn</span>:? ; <span class="tactic">try</span> <span class="tactic">discriminate</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Cop.html#classify_binarith">classify_binarith</a></span> <span class="id">eqn</span>:? ; <span class="tactic">try</span> <span class="tactic">discriminate</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v0</span>, <span class="id">v3</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v4</span>, <span class="id">v5</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Cop_fp.html#sem_cast_fp">sem_cast_fp</a></span> <span class="id">v1</span> <span class="id">_</span> <span class="id">_</span>) <span class="id">eqn</span>:? ; <span class="tactic">try</span> <span class="tactic">discriminate</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Cop_fp.html#sem_cast_fp">sem_cast_fp</a></span> <span class="id">v2</span> <span class="id">_</span> <span class="id">_</span>) <span class="id">eqn</span>:? ; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Cop_fp.html#sem_cast_fp_mapped">sem_cast_fp_mapped</a></span>. <span class="tactic">exact</span> <span class="id">MEMINJ</span>. <span class="tactic">exact</span> <span class="id">VALINJ1</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">tt</span> [<span class="id">CASTFP1</span> <span class="id">MAPPED1</span>]].<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Cop_fp.html#sem_cast_fp_mapped">sem_cast_fp_mapped</a></span>. <span class="tactic">exact</span> <span class="id">MEMINJ</span>. <span class="tactic">exact</span> <span class="id">VALINJ2</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">tt0</span> [<span class="id">CASTFP2</span> <span class="id">MAPPED2</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">BINARITH</span> <span class="kwd">in</span> <span class="id">BINARITHFP</span>; <span class="id">inv</span> <span class="id">BINARITHFP</span>. <span class="tactic">rewrite</span> <span class="id">CASTFP1</span>, <span class="id">CASTFP2</span>, <span class="id">TBINARITH</span>.<br/>
&nbsp;&nbsp;<span class="id">eexists</span>; <span class="tactic">split</span>; [<span class="tactic">eauto</span>|<span class="tactic">apply</span> <span class="id"><a href="FMemOpFP.html#fp_mapped_union">fp_mapped_union</a></span>; <span class="tactic">auto</span>].<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Cop_fp.html#sem_cast_fp_mapped">sem_cast_fp_mapped</a></span>. <span class="tactic">exact</span> <span class="id">MEMINJ</span>. <span class="tactic">exact</span> <span class="id">VALINJ1</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">tt</span> [<span class="id">CASTFP1</span> <span class="id">MAPPED1</span>]].<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Cop_fp.html#sem_cast_fp_mapped">sem_cast_fp_mapped</a></span>. <span class="tactic">exact</span> <span class="id">MEMINJ</span>. <span class="tactic">exact</span> <span class="id">VALINJ2</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">tt0</span> [<span class="id">CASTFP2</span> <span class="id">MAPPED2</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">BINARITH</span> <span class="kwd">in</span> <span class="id">BINARITHFP</span>; <span class="id">inv</span> <span class="id">BINARITHFP</span>. <span class="tactic">rewrite</span> <span class="id">CASTFP1</span>, <span class="id">CASTFP2</span>, <span class="id">TBINARITH</span>.<br/>
&nbsp;&nbsp;<span class="id">eexists</span>; <span class="tactic">split</span>; [<span class="tactic">eauto</span>|<span class="tactic">apply</span> <span class="id"><a href="FMemOpFP.html#fp_mapped_union">fp_mapped_union</a></span>; <span class="tactic">auto</span>].<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Cop_fp.html#sem_cast_fp_mapped">sem_cast_fp_mapped</a></span>. <span class="tactic">exact</span> <span class="id">MEMINJ</span>. <span class="tactic">exact</span> <span class="id">VALINJ1</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">tt</span> [<span class="id">CASTFP1</span> <span class="id">MAPPED1</span>]].<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Cop_fp.html#sem_cast_fp_mapped">sem_cast_fp_mapped</a></span>. <span class="tactic">exact</span> <span class="id">MEMINJ</span>. <span class="tactic">exact</span> <span class="id">VALINJ2</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">tt0</span> [<span class="id">CASTFP2</span> <span class="id">MAPPED2</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">BINARITH</span> <span class="kwd">in</span> <span class="id">BINARITHFP</span>; <span class="id">inv</span> <span class="id">BINARITHFP</span>. <span class="tactic">rewrite</span> <span class="id">CASTFP1</span>, <span class="id">CASTFP2</span>, <span class="id">TBINARITH</span>.<br/>
&nbsp;&nbsp;<span class="id">eexists</span>; <span class="tactic">split</span>; [<span class="tactic">eauto</span>|<span class="tactic">apply</span> <span class="id"><a href="FMemOpFP.html#fp_mapped_union">fp_mapped_union</a></span>; <span class="tactic">auto</span>].<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Cop_fp.html#sem_cast_fp_mapped">sem_cast_fp_mapped</a></span>. <span class="tactic">exact</span> <span class="id">MEMINJ</span>. <span class="tactic">exact</span> <span class="id">VALINJ1</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">tt</span> [<span class="id">CASTFP1</span> <span class="id">MAPPED1</span>]].<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Cop_fp.html#sem_cast_fp_mapped">sem_cast_fp_mapped</a></span>. <span class="tactic">exact</span> <span class="id">MEMINJ</span>. <span class="tactic">exact</span> <span class="id">VALINJ2</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">tt0</span> [<span class="id">CASTFP2</span> <span class="id">MAPPED2</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">BINARITH</span> <span class="kwd">in</span> <span class="id">BINARITHFP</span>; <span class="id">inv</span> <span class="id">BINARITHFP</span>. <span class="tactic">rewrite</span> <span class="id">CASTFP1</span>, <span class="id">CASTFP2</span>, <span class="id">TBINARITH</span>.<br/>
&nbsp;&nbsp;<span class="id">eexists</span>; <span class="tactic">split</span>; [<span class="tactic">eauto</span>|<span class="tactic">apply</span> <span class="id"><a href="FMemOpFP.html#fp_mapped_union">fp_mapped_union</a></span>; <span class="tactic">auto</span>]. <br/>
Qed.</div>
&nbsp;&nbsp;<br/>
<h3> Addition </h3>
<span class="kwd">Definition</span> <span class="id"><a name="sem_add_fp">sem_add_fp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">cenv</span>: <span class="id"><a href="Ctypes.html#composite_env">composite_env</a></span>) (<span class="id">v1</span>:<span class="id"><a href="Values.html#val">val</a></span>) (<span class="id">t1</span>:<span class="id"><a href="Ctypes.html#type">type</a></span>) (<span class="id">v2</span>: <span class="id"><a href="Values.html#val">val</a></span>) (<span class="id">t2</span>:<span class="id"><a href="Ctypes.html#type">type</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">m</span>: <span class="id"><a href="FMemory.html#mem">mem</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Cop_fp.html#footprint">footprint</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop.html#classify_add">classify_add</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#add_case_pi">add_case_pi</a></span> <span class="id">ty</span> <span class="id">si</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Cop.html#sem_add_ptr_int">sem_add_ptr_int</a></span> <span class="id"><a href="Cop_fp.html#cenv">cenv</a></span> <span class="id">ty</span> <span class="id">si</span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#add_case_pl">add_case_pl</a></span> <span class="id">ty</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Cop.html#sem_add_ptr_long">sem_add_ptr_long</a></span> <span class="id"><a href="Cop_fp.html#cenv">cenv</a></span> <span class="id">ty</span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#add_case_ip">add_case_ip</a></span> <span class="id">si</span> <span class="id">ty</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Cop.html#sem_add_ptr_int">sem_add_ptr_int</a></span> <span class="id"><a href="Cop_fp.html#cenv">cenv</a></span> <span class="id">ty</span> <span class="id">si</span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#add_case_lp">add_case_lp</a></span> <span class="id">ty</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Cop.html#sem_add_ptr_long">sem_add_ptr_long</a></span> <span class="id"><a href="Cop_fp.html#cenv">cenv</a></span> <span class="id">ty</span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#add_default">add_default</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop_fp.html#sem_binarith_fp">sem_binarith_fp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">sg</span> <span class="id">n1</span> <span class="id">n2</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Vint">Vint</a></span>(<span class="id"><a href="Integers.html#Int.add">Int.add</a></span> <span class="id"><a href="Cop_fp.html#n1">n1</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">sg</span> <span class="id">n1</span> <span class="id">n2</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Vlong">Vlong</a></span>(<span class="id"><a href="Integers.html#Int64.add">Int64.add</a></span> <span class="id"><a href="Cop_fp.html#n1">n1</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">n1</span> <span class="id">n2</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Vfloat">Vfloat</a></span>(<span class="id"><a href="Floats.html#Float.add">Float.add</a></span> <span class="id"><a href="Cop_fp.html#n1">n1</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">n1</span> <span class="id">n2</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Vsingle">Vsingle</a></span>(<span class="id"><a href="Floats.html#Float32.add">Float32.add</a></span> <span class="id"><a href="Cop_fp.html#n1">n1</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sem_add_sem_add_fp">sem_add_sem_add_fp</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">cenv</span> <span class="id">v1</span> <span class="id">t1</span> <span class="id">v2</span> <span class="id">t2</span> <span class="id">m</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FCop.html#sem_add">sem_add</a></span> <span class="id"><a href="Cop_fp.html#cenv">cenv</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">fp</span>, <span class="id"><a href="Cop_fp.html#sem_add_fp">sem_add_fp</a></span> <span class="id"><a href="Cop_fp.html#cenv">cenv</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6490')">Proof.</div>
<div class="proofscript" id="proof6490">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FCop.html#sem_add">sem_add</a></span>, <span class="id"><a href="Cop_fp.html#sem_add_fp">sem_add_fp</a></span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Cop.html#classify_add">classify_add</a></span> <span class="id">t1</span> <span class="id">t2</span>); <span class="tactic">try</span> <span class="tactic">rewrite</span> <span class="id">H</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Cop_fp.html#sem_binarith_sem_binarith_fp">sem_binarith_sem_binarith_fp</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sem_add_fp_sem_add">sem_add_fp_sem_add</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">cenv</span> <span class="id">v1</span> <span class="id">t1</span> <span class="id">v2</span> <span class="id">t2</span> <span class="id">m</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop_fp.html#sem_add_fp">sem_add_fp</a></span> <span class="id"><a href="Cop_fp.html#cenv">cenv</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">exists</span> <span class="id">v</span> : <span class="id"><a href="Values.html#val">val</a></span>, <span class="id"><a href="FCop.html#sem_add">sem_add</a></span> <span class="id"><a href="Cop_fp.html#cenv">cenv</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span>) \/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">exists</span> (<span class="id">b</span> : <span class="id"><a href="Values.html#block">block</a></span>) (<span class="id">ofs</span> : <span class="id"><a href="Integers.html#ptrofs">ptrofs</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop_fp.html#v1">v1</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="Cop_fp.html#b">b</a></span> <span class="id"><a href="Cop_fp.html#ofs">ofs</a></span> /\ <span class="id"><a href="FMemory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id"><a href="Cop_fp.html#b">b</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="Cop_fp.html#ofs">ofs</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>) \/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">exists</span> (<span class="id">b</span> : <span class="id"><a href="Values.html#block">block</a></span>) (<span class="id">ofs</span> : <span class="id"><a href="Integers.html#ptrofs">ptrofs</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop_fp.html#v2">v2</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="Cop_fp.html#b">b</a></span> <span class="id"><a href="Cop_fp.html#ofs">ofs</a></span> /\ <span class="id"><a href="FMemory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id"><a href="Cop_fp.html#b">b</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="Cop_fp.html#ofs">ofs</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6491')">Proof.</div>
<div class="proofscript" id="proof6491">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FCop.html#sem_add">sem_add</a></span>, <span class="id"><a href="Cop_fp.html#sem_add_fp">sem_add_fp</a></span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Cop.html#classify_add">classify_add</a></span> <span class="id">t1</span> <span class="id">t2</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span> : (<span class="kwd">if</span> ?<span class="id">x</span> <span class="kwd">then</span> <span class="id">_</span> <span class="kwd">else</span> <span class="id">_</span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="tactic">destruct</span> <span class="id">x</span>; <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">eauto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Cop_fp.html#sem_binarith_fp_sem_binarith">sem_binarith_fp_sem_binarith</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<br/>
<br/>
<h3> Subtraction </h3>
<span class="kwd">Definition</span> <span class="id"><a name="sem_sub_fp">sem_sub_fp</a></span> <span class="id">cenv</span> <span class="id">v1</span> <span class="id">t1</span> <span class="id">v2</span> <span class="id">t2</span> <span class="id">m</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Cop_fp.html#footprint">footprint</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop.html#classify_sub">classify_sub</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#sub_case_pi">sub_case_pi</a></span> <span class="id">ty</span> <span class="id">si</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span>, <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b1</span> <span class="id">ofs1</span>, <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n2</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n1</span>, <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">n1</span>, <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span>,  <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#sub_case_pl">sub_case_pl</a></span> <span class="id">ty</span> =&gt;            <span class="docright">(* pointer minus long  *)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span>, <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b1</span> <span class="id">ofs1</span>, <span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">n2</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n1</span>, <span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">n2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">n1</span>, <span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">n2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span>,  <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#sub_case_pp">sub_case_pp</a></span> <span class="id">ty</span> =&gt;          <span class="docright">(* pointer minus pointer  *)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span>,<span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b1</span> <span class="id">ofs1</span>, <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b2</span> <span class="id">ofs2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Values.html#eq_block">eq_block</a></span> <span class="id">b1</span> <span class="id">b2</span> <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">sz</span> := <span class="id"><a href="Ctypes.html#sizeof">sizeof</a></span> <span class="id"><a href="Cop_fp.html#cenv">cenv</a></span> <span class="id">ty</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Coqlib.html#zlt">zlt</a></span> 0 <span class="id"><a href="Cop_fp.html#sz">sz</a></span> &amp;&amp; <span class="id"><a href="Coqlib.html#zle">zle</a></span> <span class="id"><a href="Cop_fp.html#sz">sz</a></span> <span class="id"><a href="Integers.html#Ptrofs.max_signed">Ptrofs.max_signed</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#sub_default">sub_default</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop_fp.html#sem_binarith_fp">sem_binarith_fp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">sg</span> <span class="id">n1</span> <span class="id">n2</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Vint">Vint</a></span>(<span class="id"><a href="Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="Cop_fp.html#n1">n1</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">sg</span> <span class="id">n1</span> <span class="id">n2</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Vlong">Vlong</a></span>(<span class="id"><a href="Integers.html#Int64.sub">Int64.sub</a></span> <span class="id"><a href="Cop_fp.html#n1">n1</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">n1</span> <span class="id">n2</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Vfloat">Vfloat</a></span>(<span class="id"><a href="Floats.html#Float.sub">Float.sub</a></span> <span class="id"><a href="Cop_fp.html#n1">n1</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">n1</span> <span class="id">n2</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Vsingle">Vsingle</a></span>(<span class="id"><a href="Floats.html#Float32.sub">Float32.sub</a></span> <span class="id"><a href="Cop_fp.html#n1">n1</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sem_sub_sem_sub_fp">sem_sub_sem_sub_fp</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">cenv</span> <span class="id">v1</span> <span class="id">t1</span> <span class="id">v2</span> <span class="id">t2</span> <span class="id">m</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FCop.html#sem_sub">sem_sub</a></span> <span class="id"><a href="Cop_fp.html#cenv">cenv</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">fp</span>, <span class="id"><a href="Cop_fp.html#sem_sub_fp">sem_sub_fp</a></span> <span class="id"><a href="Cop_fp.html#cenv">cenv</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6492')">Proof.</div>
<div class="proofscript" id="proof6492">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FCop.html#sem_sub">sem_sub</a></span>, <span class="id"><a href="Cop_fp.html#sem_sub_fp">sem_sub_fp</a></span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Cop.html#classify_sub">classify_sub</a></span> <span class="id">t1</span> <span class="id">t2</span>), <span class="id">v1</span>, <span class="id">v2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="id">inv</span> <span class="id">H</span>; <span class="tactic">fail</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span>; <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">eauto</span>; <span class="tactic">fail</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">eapply</span> <span class="id"><a href="Cop_fp.html#sem_binarith_sem_binarith_fp">sem_binarith_sem_binarith_fp</a></span>; <span class="tactic">eauto</span>; <span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;<span class="id">unshelve</span> <span class="id">edestruct</span> <span class="id"><a href="Values.html#eq_block">eq_block</a></span>, <span class="id"><a href="Coqlib.html#zlt">zlt</a></span>; <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#proj_sumbool">proj_sumbool</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sem_sub_fp_sem_sub">sem_sub_fp_sem_sub</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">cenv</span> <span class="id">v1</span> <span class="id">t1</span> <span class="id">v2</span> <span class="id">t2</span> <span class="id">m</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop_fp.html#sem_sub_fp">sem_sub_fp</a></span> <span class="id"><a href="Cop_fp.html#cenv">cenv</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">exists</span> <span class="id">v</span> : <span class="id"><a href="Values.html#val">val</a></span>, <span class="id"><a href="FCop.html#sem_sub">sem_sub</a></span> <span class="id"><a href="Cop_fp.html#cenv">cenv</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span>) \/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">exists</span> (<span class="id">b</span> : <span class="id"><a href="Values.html#block">block</a></span>) (<span class="id">ofs</span> : <span class="id"><a href="Integers.html#ptrofs">ptrofs</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop_fp.html#v1">v1</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="Cop_fp.html#b">b</a></span> <span class="id"><a href="Cop_fp.html#ofs">ofs</a></span> /\ <span class="id"><a href="FMemory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id"><a href="Cop_fp.html#b">b</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="Cop_fp.html#ofs">ofs</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>) \/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">exists</span> (<span class="id">b</span> : <span class="id"><a href="Values.html#block">block</a></span>) (<span class="id">ofs</span> : <span class="id"><a href="Integers.html#ptrofs">ptrofs</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop_fp.html#v2">v2</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="Cop_fp.html#b">b</a></span> <span class="id"><a href="Cop_fp.html#ofs">ofs</a></span> /\ <span class="id"><a href="FMemory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id"><a href="Cop_fp.html#b">b</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="Cop_fp.html#ofs">ofs</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6493')">Proof.</div>
<div class="proofscript" id="proof6493">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FCop.html#sem_sub">sem_sub</a></span>, <span class="id"><a href="Cop_fp.html#sem_sub_fp">sem_sub_fp</a></span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Cop.html#classify_sub">classify_sub</a></span> <span class="id">t1</span> <span class="id">t2</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span> : (<span class="kwd">if</span> ?<span class="id">x</span> <span class="kwd">then</span> <span class="id">_</span> <span class="kwd">else</span> <span class="id">_</span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="tactic">destruct</span> <span class="id">x</span> <span class="id">eqn</span>:?<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span> : <span class="id">context</span>[<span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id">_</span> =&gt; <span class="id">_</span> <span class="kwd">end</span>] |- <span class="id">_</span> =&gt; <span class="tactic">destruct</span> <span class="id">x</span> <span class="id">eqn</span>:?<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id">context</span>[<span class="kwd">if</span> ?<span class="id">x</span> <span class="kwd">then</span> <span class="id">_</span> <span class="kwd">else</span> <span class="id">_</span>] =&gt; <span class="tactic">destruct</span> <span class="id">x</span> <span class="id">eqn</span>:?<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">discriminate</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Cop_fp.html#sem_binarith_fp_sem_binarith">sem_binarith_fp_sem_binarith</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<br/>
<h3> Multiplication, division, modulus </h3>
<span class="kwd">Definition</span> <span class="id"><a name="sem_mul_fp">sem_mul_fp</a></span> (<span class="id">v1</span>:<span class="id"><a href="Values.html#val">val</a></span>) (<span class="id">t1</span>:<span class="id"><a href="Ctypes.html#type">type</a></span>) (<span class="id">v2</span>: <span class="id"><a href="Values.html#val">val</a></span>) (<span class="id">t2</span>:<span class="id"><a href="Ctypes.html#type">type</a></span>) (<span class="id">m</span>: <span class="id"><a href="FMemory.html#mem">mem</a></span>): <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Cop_fp.html#footprint">footprint</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="Cop_fp.html#sem_binarith_fp">sem_binarith_fp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">sg</span> <span class="id">n1</span> <span class="id">n2</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Vint">Vint</a></span>(<span class="id"><a href="Integers.html#Int.mul">Int.mul</a></span> <span class="id"><a href="Cop_fp.html#n1">n1</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">sg</span> <span class="id">n1</span> <span class="id">n2</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Vlong">Vlong</a></span>(<span class="id"><a href="Integers.html#Int64.mul">Int64.mul</a></span> <span class="id"><a href="Cop_fp.html#n1">n1</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">n1</span> <span class="id">n2</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Vfloat">Vfloat</a></span>(<span class="id"><a href="Floats.html#Float.mul">Float.mul</a></span> <span class="id"><a href="Cop_fp.html#n1">n1</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">n1</span> <span class="id">n2</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Vsingle">Vsingle</a></span>(<span class="id"><a href="Floats.html#Float32.mul">Float32.mul</a></span> <span class="id"><a href="Cop_fp.html#n1">n1</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="sem_div_fp">sem_div_fp</a></span> (<span class="id">v1</span>:<span class="id"><a href="Values.html#val">val</a></span>) (<span class="id">t1</span>:<span class="id"><a href="Ctypes.html#type">type</a></span>) (<span class="id">v2</span>: <span class="id"><a href="Values.html#val">val</a></span>) (<span class="id">t2</span>:<span class="id"><a href="Ctypes.html#type">type</a></span>) (<span class="id">m</span>: <span class="id"><a href="FMemory.html#mem">mem</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Cop_fp.html#footprint">footprint</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="Cop_fp.html#sem_binarith_fp">sem_binarith_fp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">sg</span> <span class="id">n1</span> <span class="id">n2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#sg">sg</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Ctypes.html#Signed">Signed</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|| <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="Cop_fp.html#n1">n1</a></span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> <span class="id"><a href="Integers.html#Int.min_signed">Int.min_signed</a></span>) &amp;&amp; <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span> <span class="id"><a href="Integers.html#Int.mone">Int.mone</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Vint">Vint</a></span>(<span class="id"><a href="Integers.html#Int.divs">Int.divs</a></span> <span class="id"><a href="Cop_fp.html#n1">n1</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Ctypes.html#Unsigned">Unsigned</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Vint">Vint</a></span>(<span class="id"><a href="Integers.html#Int.divu">Int.divu</a></span> <span class="id"><a href="Cop_fp.html#n1">n1</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">sg</span> <span class="id">n1</span> <span class="id">n2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#sg">sg</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Ctypes.html#Signed">Signed</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span> <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|| <span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id"><a href="Cop_fp.html#n1">n1</a></span> (<span class="id"><a href="Integers.html#Int64.repr">Int64.repr</a></span> <span class="id"><a href="Integers.html#Int64.min_signed">Int64.min_signed</a></span>) &amp;&amp; <span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span> <span class="id"><a href="Integers.html#Int64.mone">Int64.mone</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Vlong">Vlong</a></span>(<span class="id"><a href="Integers.html#Int64.divs">Int64.divs</a></span> <span class="id"><a href="Cop_fp.html#n1">n1</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Ctypes.html#Unsigned">Unsigned</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span> <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Vlong">Vlong</a></span>(<span class="id"><a href="Integers.html#Int64.divu">Int64.divu</a></span> <span class="id"><a href="Cop_fp.html#n1">n1</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">n1</span> <span class="id">n2</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Vfloat">Vfloat</a></span>(<span class="id"><a href="Floats.html#Float.div">Float.div</a></span> <span class="id"><a href="Cop_fp.html#n1">n1</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">n1</span> <span class="id">n2</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Vsingle">Vsingle</a></span>(<span class="id"><a href="Floats.html#Float32.div">Float32.div</a></span> <span class="id"><a href="Cop_fp.html#n1">n1</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="sem_mod_fp">sem_mod_fp</a></span> (<span class="id">v1</span>:<span class="id"><a href="Values.html#val">val</a></span>) (<span class="id">t1</span>:<span class="id"><a href="Ctypes.html#type">type</a></span>) (<span class="id">v2</span>: <span class="id"><a href="Values.html#val">val</a></span>) (<span class="id">t2</span>:<span class="id"><a href="Ctypes.html#type">type</a></span>) (<span class="id">m</span>: <span class="id"><a href="FMemory.html#mem">mem</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Cop_fp.html#footprint">footprint</a></span>:=<br/>
&nbsp;&nbsp;<span class="id"><a href="Cop_fp.html#sem_binarith_fp">sem_binarith_fp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">sg</span> <span class="id">n1</span> <span class="id">n2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#sg">sg</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Ctypes.html#Signed">Signed</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|| <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="Cop_fp.html#n1">n1</a></span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> <span class="id"><a href="Integers.html#Int.min_signed">Int.min_signed</a></span>) &amp;&amp; <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span> <span class="id"><a href="Integers.html#Int.mone">Int.mone</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Vint">Vint</a></span>(<span class="id"><a href="Integers.html#Int.mods">Int.mods</a></span> <span class="id"><a href="Cop_fp.html#n1">n1</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Ctypes.html#Unsigned">Unsigned</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Vint">Vint</a></span>(<span class="id"><a href="Integers.html#Int.modu">Int.modu</a></span> <span class="id"><a href="Cop_fp.html#n1">n1</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">sg</span> <span class="id">n1</span> <span class="id">n2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#sg">sg</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Ctypes.html#Signed">Signed</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span> <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|| <span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id"><a href="Cop_fp.html#n1">n1</a></span> (<span class="id"><a href="Integers.html#Int64.repr">Int64.repr</a></span> <span class="id"><a href="Integers.html#Int64.min_signed">Int64.min_signed</a></span>) &amp;&amp; <span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span> <span class="id"><a href="Integers.html#Int64.mone">Int64.mone</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Vlong">Vlong</a></span>(<span class="id"><a href="Integers.html#Int64.mods">Int64.mods</a></span> <span class="id"><a href="Cop_fp.html#n1">n1</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Ctypes.html#Unsigned">Unsigned</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span> <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Vlong">Vlong</a></span>(<span class="id"><a href="Integers.html#Int64.modu">Int64.modu</a></span> <span class="id"><a href="Cop_fp.html#n1">n1</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">n1</span> <span class="id">n2</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">n1</span> <span class="id">n2</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="sem_and_fp">sem_and_fp</a></span> (<span class="id">v1</span>:<span class="id"><a href="Values.html#val">val</a></span>) (<span class="id">t1</span>:<span class="id"><a href="Ctypes.html#type">type</a></span>) (<span class="id">v2</span>: <span class="id"><a href="Values.html#val">val</a></span>) (<span class="id">t2</span>:<span class="id"><a href="Ctypes.html#type">type</a></span>) (<span class="id">m</span>: <span class="id"><a href="FMemory.html#mem">mem</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Cop_fp.html#footprint">footprint</a></span>:=<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop_fp.html#sem_binarith_fp">sem_binarith_fp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">sg</span> <span class="id">n1</span> <span class="id">n2</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Vint">Vint</a></span>(<span class="id"><a href="Integers.html#Int.and">Int.and</a></span> <span class="id"><a href="Cop_fp.html#n1">n1</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">sg</span> <span class="id">n1</span> <span class="id">n2</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Vlong">Vlong</a></span>(<span class="id"><a href="Integers.html#Int64.and">Int64.and</a></span> <span class="id"><a href="Cop_fp.html#n1">n1</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">n1</span> <span class="id">n2</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">n1</span> <span class="id">n2</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="sem_or_fp">sem_or_fp</a></span> (<span class="id">v1</span>:<span class="id"><a href="Values.html#val">val</a></span>) (<span class="id">t1</span>:<span class="id"><a href="Ctypes.html#type">type</a></span>) (<span class="id">v2</span>: <span class="id"><a href="Values.html#val">val</a></span>) (<span class="id">t2</span>:<span class="id"><a href="Ctypes.html#type">type</a></span>) (<span class="id">m</span>: <span class="id"><a href="FMemory.html#mem">mem</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Cop_fp.html#footprint">footprint</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="Cop_fp.html#sem_binarith_fp">sem_binarith_fp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">sg</span> <span class="id">n1</span> <span class="id">n2</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Vint">Vint</a></span>(<span class="id"><a href="Integers.html#Int.or">Int.or</a></span> <span class="id"><a href="Cop_fp.html#n1">n1</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">sg</span> <span class="id">n1</span> <span class="id">n2</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Vlong">Vlong</a></span>(<span class="id"><a href="Integers.html#Int64.or">Int64.or</a></span> <span class="id"><a href="Cop_fp.html#n1">n1</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">n1</span> <span class="id">n2</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">n1</span> <span class="id">n2</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span>.<br/>
<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="sem_xor_fp">sem_xor_fp</a></span> (<span class="id">v1</span>:<span class="id"><a href="Values.html#val">val</a></span>) (<span class="id">t1</span>:<span class="id"><a href="Ctypes.html#type">type</a></span>) (<span class="id">v2</span>: <span class="id"><a href="Values.html#val">val</a></span>) (<span class="id">t2</span>:<span class="id"><a href="Ctypes.html#type">type</a></span>) (<span class="id">m</span>: <span class="id"><a href="FMemory.html#mem">mem</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Cop_fp.html#footprint">footprint</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="Cop_fp.html#sem_binarith_fp">sem_binarith_fp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">sg</span> <span class="id">n1</span> <span class="id">n2</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Vint">Vint</a></span>(<span class="id"><a href="Integers.html#Int.xor">Int.xor</a></span> <span class="id"><a href="Cop_fp.html#n1">n1</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">sg</span> <span class="id">n1</span> <span class="id">n2</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Vlong">Vlong</a></span>(<span class="id"><a href="Integers.html#Int64.xor">Int64.xor</a></span> <span class="id"><a href="Cop_fp.html#n1">n1</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">n1</span> <span class="id">n2</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">n1</span> <span class="id">n2</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span>.<br/>
<h3> Comparisons </h3>
<div class="doc">TODO: should be moved to another file, eg. Val_fp </div>
<span class="kwd">Definition</span> <span class="id"><a name="cmpu_bool_fp">cmpu_bool_fp</a></span> (<span class="id">m</span>: <span class="id"><a href="FMemory.html#mem">mem</a></span>) (<span class="id">c</span>: <span class="id"><a href="Integers.html#comparison">comparison</a></span>) (<span class="id">v1</span> <span class="id">v2</span>: <span class="id"><a href="Values.html#val">val</a></span>): <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Cop_fp.html#footprint">footprint</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span>, <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">_</span>, <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n1</span>, <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b2</span> <span class="id">ofs2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="kwd">if</span> <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id">n1</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="kwd">if</span> <span class="id"><a href="Values.html#Val.cmp_different_blocks">Val.cmp_different_blocks</a></span> <span class="id"><a href="Cop_fp.html#c">c</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="FMemOpFP.html#weak_valid_pointer_fp">weak_valid_pointer_fp</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id">b2</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b1</span> <span class="id">ofs1</span>, <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b2</span> <span class="id">ofs2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="kwd">if</span> <span class="id"><a href="Values.html#eq_block">eq_block</a></span> <span class="id">b1</span> <span class="id">b2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="FMemOpFP.html#weak_valid_pointer_fp">weak_valid_pointer_fp</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id">b1</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs1</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="FMemOpFP.html#weak_valid_pointer_fp">weak_valid_pointer_fp</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id">b2</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs2</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="kwd">if</span> <span class="id"><a href="Values.html#Val.cmp_different_blocks">Val.cmp_different_blocks</a></span> <span class="id"><a href="Cop_fp.html#c">c</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="FMemOpFP.html#valid_pointer_fp">valid_pointer_fp</a></span> <span class="id">b1</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs1</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="FMemOpFP.html#valid_pointer_fp">valid_pointer_fp</a></span> <span class="id">b2</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs2</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b1</span> <span class="id">ofs1</span>, <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="kwd">if</span> <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id">n2</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="kwd">if</span> <span class="id"><a href="Values.html#Val.cmp_different_blocks">Val.cmp_different_blocks</a></span> <span class="id"><a href="Cop_fp.html#c">c</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="FMemOpFP.html#weak_valid_pointer_fp">weak_valid_pointer_fp</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id">b1</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs1</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="cmpu_bool_fp_total">cmpu_bool_fp_total</a></span> (<span class="id">m</span>: <span class="id"><a href="FMemory.html#mem">mem</a></span>) (<span class="id">c</span>: <span class="id"><a href="Integers.html#comparison">comparison</a></span>) (<span class="id">v1</span> <span class="id">v2</span>: <span class="id"><a href="Values.html#val">val</a></span>) : <span class="id"><a href="Cop_fp.html#footprint">footprint</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span>, <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">_</span>, <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n1</span>, <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b2</span> <span class="id">ofs2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="kwd">if</span> <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id">n1</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="kwd">if</span> <span class="id"><a href="Values.html#Val.cmp_different_blocks">Val.cmp_different_blocks</a></span> <span class="id"><a href="Cop_fp.html#c">c</a></span>                   <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> (<span class="id"><a href="FMemOpFP.html#weak_valid_pointer_fp">weak_valid_pointer_fp</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id">b2</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b1</span> <span class="id">ofs1</span>, <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b2</span> <span class="id">ofs2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="kwd">if</span> <span class="id"><a href="Values.html#eq_block">eq_block</a></span> <span class="id">b1</span> <span class="id">b2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="FMemOpFP.html#weak_valid_pointer_fp">weak_valid_pointer_fp</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id">b1</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs1</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="FMemOpFP.html#weak_valid_pointer_fp">weak_valid_pointer_fp</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id">b2</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs2</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="kwd">if</span> <span class="id"><a href="Values.html#Val.cmp_different_blocks">Val.cmp_different_blocks</a></span> <span class="id"><a href="Cop_fp.html#c">c</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="FMemOpFP.html#valid_pointer_fp">valid_pointer_fp</a></span> <span class="id">b1</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs1</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="FMemOpFP.html#valid_pointer_fp">valid_pointer_fp</a></span> <span class="id">b2</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs2</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b1</span> <span class="id">ofs1</span>, <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="kwd">if</span> <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id">n2</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="kwd">if</span> <span class="id"><a href="Values.html#Val.cmp_different_blocks">Val.cmp_different_blocks</a></span> <span class="id"><a href="Cop_fp.html#c">c</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> (<span class="id"><a href="FMemOpFP.html#weak_valid_pointer_fp">weak_valid_pointer_fp</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id">b1</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs1</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="cmpu_bool_cmpu_bool_fp">cmpu_bool_cmpu_bool_fp</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">c</span> <span class="id">v1</span> <span class="id">v2</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span> (<span class="id"><a href="FMemory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span>) <span class="id"><a href="Cop_fp.html#c">c</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">fp</span>, <span class="id"><a href="Cop_fp.html#cmpu_bool_fp">cmpu_bool_fp</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id"><a href="Cop_fp.html#c">c</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6494')">Proof.</div>
<div class="proofscript" id="proof6494">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span>, <span class="id"><a href="Cop_fp.html#cmpu_bool_fp">cmpu_bool_fp</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v1</span>, <span class="id">v2</span>, <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">destruct</span> <span class="id"><a href="Values.html#eq_block">eq_block</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">destruct</span> <span class="id"><a href="Values.html#Val.cmp_different_blocks">Val.cmp_different_blocks</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id">_</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="id">inv</span> <span class="id">H</span>; <span class="tactic">eauto</span>; <span class="tactic">fail</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> <span class="id">H</span>: <span class="id">context</span>[<span class="kwd">if</span> ?<span class="id">x</span> <span class="kwd">then</span> <span class="id">_</span> <span class="kwd">else</span> <span class="id">_</span>] |- <span class="id">_</span> =&gt; <span class="tactic">destruct</span> <span class="id">x</span>; <span class="id">inv</span> <span class="id">H</span> <span class="kwd">end</span> .<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="cmpu_bool_fp_cmpu_bool">cmpu_bool_fp_cmpu_bool</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">c</span> <span class="id">v1</span> <span class="id">v2</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">valid</span> := <span class="id"><a href="FMemory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">weak_valid</span> := <span class="kwd">fun</span> <span class="id">b</span> <span class="id">ofs</span> =&gt; <span class="id"><a href="Cop_fp.html#valid">valid</a></span> <span class="id"><a href="Cop_fp.html#b">b</a></span> <span class="id"><a href="Cop_fp.html#ofs">ofs</a></span> || <span class="id"><a href="Cop_fp.html#valid">valid</a></span> <span class="id"><a href="Cop_fp.html#b">b</a></span> (<span class="id"><a href="Cop_fp.html#ofs">ofs</a></span> - 1) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop_fp.html#cmpu_bool_fp">cmpu_bool_fp</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id"><a href="Cop_fp.html#c">c</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">exists</span> <span class="id">b</span>, <span class="id"><a href="Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span> <span class="id"><a href="Cop_fp.html#valid">valid</a></span> <span class="id"><a href="Cop_fp.html#c">c</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#b">b</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;\/ (<span class="id">exists</span> <span class="id">b1</span> <span class="id">ofs1</span> <span class="id">b2</span> <span class="id">ofs2</span>, <span class="id"><a href="Cop_fp.html#v1">v1</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="Cop_fp.html#b1">b1</a></span> <span class="id"><a href="Cop_fp.html#ofs1">ofs1</a></span> /\ <span class="id"><a href="Cop_fp.html#v2">v2</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="Cop_fp.html#b2">b2</a></span> <span class="id"><a href="Cop_fp.html#ofs2">ofs2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ ((<span class="id"><a href="Cop_fp.html#b1">b1</a></span> = <span class="id"><a href="Cop_fp.html#b2">b2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (<span class="id"><a href="Cop_fp.html#weak_valid">weak_valid</a></span> <span class="id"><a href="Cop_fp.html#b1">b1</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="Cop_fp.html#ofs1">ofs1</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\/ <span class="id"><a href="Cop_fp.html#weak_valid">weak_valid</a></span> <span class="id"><a href="Cop_fp.html#b2">b2</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="Cop_fp.html#ofs2">ofs2</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\/ (<span class="id"><a href="Cop_fp.html#b1">b1</a></span> &lt;&gt; <span class="id"><a href="Cop_fp.html#b2">b2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (<span class="id"><a href="Cop_fp.html#valid">valid</a></span> <span class="id"><a href="Cop_fp.html#b1">b1</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="Cop_fp.html#ofs1">ofs1</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\/ <span class="id"><a href="Cop_fp.html#valid">valid</a></span> <span class="id"><a href="Cop_fp.html#b2">b2</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="Cop_fp.html#ofs2">ofs2</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;\/ (<span class="id">exists</span> <span class="id">n1</span> <span class="id">b2</span> <span class="id">ofs2</span>, <span class="id"><a href="Cop_fp.html#v1">v1</a></span> = <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="Cop_fp.html#n1">n1</a></span> /\ <span class="id"><a href="Cop_fp.html#v2">v2</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="Cop_fp.html#b2">b2</a></span> <span class="id"><a href="Cop_fp.html#ofs2">ofs2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Cop_fp.html#weak_valid">weak_valid</a></span> <span class="id"><a href="Cop_fp.html#b2">b2</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="Cop_fp.html#ofs2">ofs2</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;\/ (<span class="id">exists</span> <span class="id">b1</span> <span class="id">ofs1</span> <span class="id">n2</span>, <span class="id"><a href="Cop_fp.html#v1">v1</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="Cop_fp.html#b1">b1</a></span> <span class="id"><a href="Cop_fp.html#ofs1">ofs1</a></span> /\ <span class="id"><a href="Cop_fp.html#v2">v2</a></span> = <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Cop_fp.html#weak_valid">weak_valid</a></span> <span class="id"><a href="Cop_fp.html#b1">b1</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="Cop_fp.html#ofs1">ofs1</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6495')">Proof.</div>
<div class="proofscript" id="proof6495">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span>, <span class="id"><a href="Cop_fp.html#cmpu_bool_fp">cmpu_bool_fp</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v1</span>, <span class="id">v2</span>, <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">destruct</span> <span class="id"><a href="Values.html#eq_block">eq_block</a></span>;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">destruct</span> <span class="id"><a href="Values.html#Val.cmp_different_blocks">Val.cmp_different_blocks</a></span> <span class="id">eqn</span>:?; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id">context</span>[<span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> ?<span class="id">x</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>] =&gt; <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id">x</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>) <span class="id">eqn</span>:? <span class="kwd">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="id">inv</span> <span class="id">H</span>; <span class="tactic">fail</span>); <span class="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id">context</span>[<span class="id"><a href="FMemory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id">m</span> ?<span class="id">b</span> ?<span class="id">x</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="FMemory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id">m</span> <span class="id">b</span> <span class="id">x</span>) <span class="id">eqn</span>:?; <span class="tactic">simpl</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>; <span class="tactic">eauto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- (<span class="id">exists</span> <span class="id">b1</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span>) \/ <span class="id">_</span> =&gt; <span class="id">right</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- (<span class="id">exists</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>, <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">_</span> <span class="id">_</span> /\ <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">_</span> <span class="id">_</span> /\ <span class="id">_</span>) \/ <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">left</span>; <span class="tactic">do</span> 4 <span class="id">eexists</span>; <span class="tactic">split</span>; [<span class="tactic">eauto</span>| <span class="tactic">split</span> ; [<span class="tactic">eauto</span> |]]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- (<span class="id">exists</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>, <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">_</span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">_</span> <span class="id">_</span> /\ <span class="id">_</span>) \/ <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>; <span class="id">left</span>; <span class="tactic">do</span> 3 <span class="id">eexists</span>; <span class="tactic">split</span>; [<span class="tactic">eauto</span>| <span class="tactic">split</span>; [<span class="tactic">eauto</span>|]]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- (<span class="id">exists</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>, <span class="id">_</span> /\ <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">_</span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">_</span> <span class="id">_</span> /\ <span class="id">_</span>) \/ <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>; <span class="id">right</span>; <span class="tactic">do</span> 3 <span class="id">eexists</span>; <span class="tactic">split</span>; [<span class="tactic">eauto</span>| <span class="tactic">split</span>; [<span class="tactic">eauto</span>|]]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
Qed.</div>
&nbsp;&nbsp;<br/>
<span class="kwd">Definition</span> <span class="id"><a name="cmplu_bool_fp">cmplu_bool_fp</a></span> (<span class="id">m</span>: <span class="id"><a href="FMemory.html#mem">mem</a></span>) (<span class="id">c</span>: <span class="id"><a href="Integers.html#comparison">comparison</a></span>) (<span class="id">v1</span> <span class="id">v2</span>: <span class="id"><a href="Values.html#val">val</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Cop_fp.html#footprint">footprint</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span>, <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">_</span>, <span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">n1</span>, <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b2</span> <span class="id">ofs2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="kwd">if</span> <span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">n1</span> <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="kwd">if</span> <span class="id"><a href="Values.html#Val.cmp_different_blocks">Val.cmp_different_blocks</a></span> <span class="id"><a href="Cop_fp.html#c">c</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="FMemOpFP.html#weak_valid_pointer_fp">weak_valid_pointer_fp</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id">b2</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b1</span> <span class="id">ofs1</span>, <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b2</span> <span class="id">ofs2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="kwd">if</span> <span class="id"><a href="Values.html#eq_block">eq_block</a></span> <span class="id">b1</span> <span class="id">b2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="FMemOpFP.html#weak_valid_pointer_fp">weak_valid_pointer_fp</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id">b1</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs1</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="FMemOpFP.html#weak_valid_pointer_fp">weak_valid_pointer_fp</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id">b2</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs2</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="kwd">if</span> <span class="id"><a href="Values.html#Val.cmp_different_blocks">Val.cmp_different_blocks</a></span> <span class="id"><a href="Cop_fp.html#c">c</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="FMemOpFP.html#valid_pointer_fp">valid_pointer_fp</a></span> <span class="id">b1</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs1</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="FMemOpFP.html#valid_pointer_fp">valid_pointer_fp</a></span> <span class="id">b2</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs2</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b1</span> <span class="id">ofs1</span>, <span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">n2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="kwd">if</span> <span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">n2</span> <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="kwd">if</span> <span class="id"><a href="Values.html#Val.cmp_different_blocks">Val.cmp_different_blocks</a></span> <span class="id"><a href="Cop_fp.html#c">c</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="FMemOpFP.html#weak_valid_pointer_fp">weak_valid_pointer_fp</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id">b1</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs1</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="cmplu_bool_fp_total">cmplu_bool_fp_total</a></span> (<span class="id">m</span>: <span class="id"><a href="FMemory.html#mem">mem</a></span>) (<span class="id">c</span>: <span class="id"><a href="Integers.html#comparison">comparison</a></span>) (<span class="id">v1</span> <span class="id">v2</span>: <span class="id"><a href="Values.html#val">val</a></span>) : <span class="id"><a href="Cop_fp.html#footprint">footprint</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span>, <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">n1</span>, <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b2</span> <span class="id">ofs2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="kwd">if</span> <span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">n1</span> <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="kwd">if</span> <span class="id"><a href="Values.html#Val.cmp_different_blocks">Val.cmp_different_blocks</a></span> <span class="id"><a href="Cop_fp.html#c">c</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> (<span class="id"><a href="FMemOpFP.html#weak_valid_pointer_fp">weak_valid_pointer_fp</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id">b2</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b1</span> <span class="id">ofs1</span>, <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b2</span> <span class="id">ofs2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="kwd">if</span> <span class="id"><a href="Values.html#eq_block">eq_block</a></span> <span class="id">b1</span> <span class="id">b2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="FMemOpFP.html#weak_valid_pointer_fp">weak_valid_pointer_fp</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id">b1</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs1</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="FMemOpFP.html#weak_valid_pointer_fp">weak_valid_pointer_fp</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id">b2</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs2</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="kwd">if</span> <span class="id"><a href="Values.html#Val.cmp_different_blocks">Val.cmp_different_blocks</a></span> <span class="id"><a href="Cop_fp.html#c">c</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="FMemOpFP.html#valid_pointer_fp">valid_pointer_fp</a></span> <span class="id">b1</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs1</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="FMemOpFP.html#valid_pointer_fp">valid_pointer_fp</a></span> <span class="id">b2</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs2</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b1</span> <span class="id">ofs1</span>, <span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">n2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="kwd">if</span> <span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">n2</span> <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="kwd">if</span> <span class="id"><a href="Values.html#Val.cmp_different_blocks">Val.cmp_different_blocks</a></span> <span class="id"><a href="Cop_fp.html#c">c</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> (<span class="id"><a href="FMemOpFP.html#weak_valid_pointer_fp">weak_valid_pointer_fp</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id">b1</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs1</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="cmplu_bool_cmplu_bool_fp">cmplu_bool_cmplu_bool_fp</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">c</span> <span class="id">v1</span> <span class="id">v2</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.cmplu_bool">Val.cmplu_bool</a></span> (<span class="id"><a href="FMemory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span>) <span class="id"><a href="Cop_fp.html#c">c</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">fp</span>, <span class="id"><a href="Cop_fp.html#cmplu_bool_fp">cmplu_bool_fp</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id"><a href="Cop_fp.html#c">c</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6496')">Proof.</div>
<div class="proofscript" id="proof6496">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.cmplu_bool">Val.cmplu_bool</a></span>, <span class="id"><a href="Cop_fp.html#cmplu_bool_fp">cmplu_bool_fp</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v1</span>, <span class="id">v2</span>, <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">destruct</span> <span class="id"><a href="Values.html#eq_block">eq_block</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">destruct</span> <span class="id"><a href="Values.html#Val.cmp_different_blocks">Val.cmp_different_blocks</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">_</span> <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="id">inv</span> <span class="id">H</span>; <span class="tactic">eauto</span>; <span class="tactic">fail</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> <span class="id">H</span>: <span class="id">context</span>[<span class="kwd">if</span> ?<span class="id">x</span> <span class="kwd">then</span> <span class="id">_</span> <span class="kwd">else</span> <span class="id">_</span>] |- <span class="id">_</span> =&gt; <span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">eauto</span>; <span class="id">inv</span> <span class="id">H</span> <span class="kwd">end</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="cmplu_bool_fp_cmplu_bool">cmplu_bool_fp_cmplu_bool</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">c</span> <span class="id">v1</span> <span class="id">v2</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">valid</span>:= <span class="id"><a href="FMemory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">weak_valid</span> := <span class="kwd">fun</span> <span class="id">b</span> <span class="id">ofs</span> =&gt; <span class="id"><a href="Cop_fp.html#valid">valid</a></span> <span class="id"><a href="Cop_fp.html#b">b</a></span> <span class="id"><a href="Cop_fp.html#ofs">ofs</a></span> || <span class="id"><a href="Cop_fp.html#valid">valid</a></span> <span class="id"><a href="Cop_fp.html#b">b</a></span> (<span class="id"><a href="Cop_fp.html#ofs">ofs</a></span> - 1) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop_fp.html#cmplu_bool_fp">cmplu_bool_fp</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id"><a href="Cop_fp.html#c">c</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">exists</span> <span class="id">b</span>, <span class="id"><a href="Values.html#Val.cmplu_bool">Val.cmplu_bool</a></span> <span class="id"><a href="Cop_fp.html#valid">valid</a></span> <span class="id"><a href="Cop_fp.html#c">c</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#b">b</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;\/ (<span class="id">exists</span> <span class="id">b1</span> <span class="id">ofs1</span> <span class="id">b2</span> <span class="id">ofs2</span>, <span class="id"><a href="Cop_fp.html#v1">v1</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="Cop_fp.html#b1">b1</a></span> <span class="id"><a href="Cop_fp.html#ofs1">ofs1</a></span> /\ <span class="id"><a href="Cop_fp.html#v2">v2</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="Cop_fp.html#b2">b2</a></span> <span class="id"><a href="Cop_fp.html#ofs2">ofs2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ ((<span class="id"><a href="Cop_fp.html#b1">b1</a></span> = <span class="id"><a href="Cop_fp.html#b2">b2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (<span class="id"><a href="Cop_fp.html#weak_valid">weak_valid</a></span> <span class="id"><a href="Cop_fp.html#b1">b1</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="Cop_fp.html#ofs1">ofs1</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\/ <span class="id"><a href="Cop_fp.html#weak_valid">weak_valid</a></span> <span class="id"><a href="Cop_fp.html#b2">b2</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="Cop_fp.html#ofs2">ofs2</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\/ (<span class="id"><a href="Cop_fp.html#b1">b1</a></span> &lt;&gt; <span class="id"><a href="Cop_fp.html#b2">b2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (<span class="id"><a href="Cop_fp.html#valid">valid</a></span> <span class="id"><a href="Cop_fp.html#b1">b1</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="Cop_fp.html#ofs1">ofs1</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\/ <span class="id"><a href="Cop_fp.html#valid">valid</a></span> <span class="id"><a href="Cop_fp.html#b2">b2</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="Cop_fp.html#ofs2">ofs2</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;\/ (<span class="id">exists</span> <span class="id">n1</span> <span class="id">b2</span> <span class="id">ofs2</span>, <span class="id"><a href="Cop_fp.html#v1">v1</a></span> = <span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id"><a href="Cop_fp.html#n1">n1</a></span> /\ <span class="id"><a href="Cop_fp.html#v2">v2</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="Cop_fp.html#b2">b2</a></span> <span class="id"><a href="Cop_fp.html#ofs2">ofs2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Cop_fp.html#weak_valid">weak_valid</a></span> <span class="id"><a href="Cop_fp.html#b2">b2</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="Cop_fp.html#ofs2">ofs2</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;\/ (<span class="id">exists</span> <span class="id">b1</span> <span class="id">ofs1</span> <span class="id">n2</span>, <span class="id"><a href="Cop_fp.html#v1">v1</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="Cop_fp.html#b1">b1</a></span> <span class="id"><a href="Cop_fp.html#ofs1">ofs1</a></span> /\ <span class="id"><a href="Cop_fp.html#v2">v2</a></span> = <span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Cop_fp.html#weak_valid">weak_valid</a></span> <span class="id"><a href="Cop_fp.html#b1">b1</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="Cop_fp.html#ofs1">ofs1</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6497')">Proof.</div>
<div class="proofscript" id="proof6497">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.cmplu_bool">Val.cmplu_bool</a></span>, <span class="id"><a href="Cop_fp.html#cmplu_bool_fp">cmplu_bool_fp</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v1</span>, <span class="id">v2</span>, <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">destruct</span> <span class="id"><a href="Values.html#eq_block">eq_block</a></span>;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">destruct</span> <span class="id"><a href="Values.html#Val.cmp_different_blocks">Val.cmp_different_blocks</a></span> <span class="id">eqn</span>:?; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id">context</span>[<span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> ?<span class="id">x</span> <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span>] =&gt; <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">x</span> <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span>) <span class="id">eqn</span>:? <span class="kwd">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="id">inv</span> <span class="id">H</span>; <span class="tactic">fail</span>); <span class="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id">context</span>[<span class="id"><a href="FMemory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id">m</span> ?<span class="id">b</span> ?<span class="id">x</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="FMemory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id">m</span> <span class="id">b</span> <span class="id">x</span>) <span class="id">eqn</span>:?; <span class="tactic">simpl</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>; <span class="tactic">eauto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- (<span class="id">exists</span> <span class="id">b1</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span>) \/ <span class="id">_</span> =&gt; <span class="id">right</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- (<span class="id">exists</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>, <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">_</span> <span class="id">_</span> /\ <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">_</span> <span class="id">_</span> /\ <span class="id">_</span>) \/ <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">left</span>; <span class="tactic">do</span> 4 <span class="id">eexists</span>; <span class="tactic">split</span>; [<span class="tactic">eauto</span>| <span class="tactic">split</span> ; [<span class="tactic">eauto</span> |]]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- (<span class="id">exists</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>, <span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">_</span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">_</span> <span class="id">_</span> /\ <span class="id">_</span>) \/ <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>; <span class="id">left</span>; <span class="tactic">do</span> 3 <span class="id">eexists</span>; <span class="tactic">split</span>; [<span class="tactic">eauto</span>| <span class="tactic">split</span>; [<span class="tactic">eauto</span>|]]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- (<span class="id">exists</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>, <span class="id">_</span> /\ <span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">_</span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">_</span> <span class="id">_</span> /\ <span class="id">_</span>) \/ <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>; <span class="id">right</span>; <span class="tactic">do</span> 3 <span class="id">eexists</span>; <span class="tactic">split</span>; [<span class="tactic">eauto</span>| <span class="tactic">split</span>; [<span class="tactic">eauto</span>|]]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="compu_bool_fp_inject_mapped">compu_bool_fp_inject_mapped</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">m</span> <span class="id">tm</span> <span class="id">v1</span> <span class="id">tv1</span> <span class="id">v2</span> <span class="id">tv2</span> <span class="id">c</span> <span class="id">v</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="Cop_fp.html#f">f</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id"><a href="Cop_fp.html#tm">tm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="Cop_fp.html#f">f</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#tv1">tv1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="Cop_fp.html#f">f</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#tv2">tv2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span> (<span class="id"><a href="FMemory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span>) <span class="id"><a href="Cop_fp.html#c">c</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop_fp.html#cmpu_bool_fp">cmpu_bool_fp</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id"><a href="Cop_fp.html#c">c</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">tfp</span>, <span class="id"><a href="Cop_fp.html#cmpu_bool_fp">cmpu_bool_fp</a></span> <span class="id"><a href="Cop_fp.html#tm">tm</a></span> <span class="id"><a href="Cop_fp.html#c">c</a></span> <span class="id"><a href="Cop_fp.html#tv1">tv1</a></span> <span class="id"><a href="Cop_fp.html#tv2">tv2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#tfp">tfp</a></span> /\ <span class="id"><a href="FMemOpFP.html#fp_mapped">fp_mapped</a></span> <span class="id"><a href="Cop_fp.html#f">f</a></span> <span class="id"><a href="Cop_fp.html#fp">fp</a></span> <span class="id"><a href="Cop_fp.html#tfp">tfp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6498')">Proof.</div>
<div class="proofscript" id="proof6498">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">fp</span>. <span class="tactic">intros</span> <span class="id">MEMINJ</span> <span class="id">VINJ1</span> <span class="id">VINJ2</span> <span class="id">CMP</span> <span class="id">FP</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span>, <span class="id"><a href="Cop_fp.html#cmpu_bool_fp">cmpu_bool_fp</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v1</span>; <span class="id">inv</span> <span class="id">VINJ1</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v2</span>; <span class="id">inv</span> <span class="id">VINJ2</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="id">eexists</span>; <span class="tactic">split</span>; [<span class="tactic">eauto</span>|<span class="tactic">eapply</span> <span class="id"><a href="FMemOpFP.html#emp_fp_mapped">emp_fp_mapped</a></span>]; <span class="tactic">fail</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">clear</span>; <span class="id">eexists</span>; <span class="tactic">split</span>; [<span class="tactic">eauto</span>|<span class="tactic">eapply</span> <span class="id"><a href="FMemOpFP.html#emp_fp_mapped">emp_fp_mapped</a></span>]; <span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span>, <span class="id"><a href="Values.html#Val.cmp_different_blocks">Val.cmp_different_blocks</a></span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="id">inv</span> <span class="id">FP</span>.<br/>
&nbsp;&nbsp;<span class="id">eexists</span>; <span class="tactic">split</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="FMemOpFP.html#weak_valid_inj_fp_mapped">weak_valid_inj_fp_mapped</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">CMP</span>.<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> |- ?<span class="id">x</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt; <span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span> <span class="kwd">end</span>; <span class="tactic">auto</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span>, <span class="id"><a href="Values.html#Val.cmp_different_blocks">Val.cmp_different_blocks</a></span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="id">inv</span> <span class="id">FP</span>.<br/>
&nbsp;&nbsp;<span class="id">eexists</span>; <span class="tactic">split</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="FMemOpFP.html#weak_valid_inj_fp_mapped">weak_valid_inj_fp_mapped</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">CMP</span>.<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> |- ?<span class="id">x</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt; <span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span> <span class="kwd">end</span>; <span class="tactic">auto</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Values.html#eq_block">eq_block</a></span> <span class="id">b</span> <span class="id">b0</span>); <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;* <span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H2</span>. <span class="id">inv</span> <span class="id">FP</span>. <span class="tactic">destruct</span> <span class="id"><a href="Values.html#eq_block">eq_block</a></span>; [|<span class="tactic">congruence</span>]. <span class="id">eexists</span>; <span class="tactic">split</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="FMemOpFP.html#fp_mapped_union">fp_mapped_union</a></span>; <span class="tactic">eapply</span> <span class="id"><a href="FMemOpFP.html#weak_valid_inj_fp_mapped">weak_valid_inj_fp_mapped</a></span>; <span class="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">CMP</span>; <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> |- ?<span class="id">x</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt; <span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span> <span class="kwd">end</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_false_r">andb_false_r</a></span> <span class="kwd">in</span> <span class="id">CMP</span>. <span class="id">inv</span> <span class="id">CMP</span>.<br/>
&nbsp;&nbsp;* <span class="tactic">destruct</span> (<span class="id"><a href="Values.html#eq_block">eq_block</a></span> <span class="id">b2</span> <span class="id">b3</span>); <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;** <span class="tactic">destruct</span> <span class="id"><a href="Values.html#Val.cmp_different_blocks">Val.cmp_different_blocks</a></span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="id">inv</span> <span class="id">FP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexists</span>. <span class="tactic">split</span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="FMemOpFP.html#weak_valid_pointer_fp">weak_valid_pointer_fp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">H</span>: <span class="id">context</span>[<span class="kwd">if</span> ?<span class="id">x</span> <span class="kwd">then</span> <span class="id">_</span> <span class="kwd">else</span> <span class="id">_</span>] |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span> <span class="id">eqn</span>:<span class="id">VALID</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_iff">andb_true_iff</a></span> <span class="kwd">in</span> <span class="id">VALID</span>. <span class="tactic">destruct</span> <span class="id">VALID</span> <span class="kwd">as</span> [<span class="id">VALID</span> <span class="id">VALID0</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="FMemory.html#Mem.valid_pointer_inject">Mem.valid_pointer_inject</a></span>; <span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id">VALID</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="FMemory.html#Mem.valid_pointer_inject">Mem.valid_pointer_inject</a></span>; <span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id">VALID0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="Integers.html#Ptrofs.add">Ptrofs.add</a></span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.unsigned_repr">Ptrofs.unsigned_repr</a></span>. <span class="tactic">rewrite</span> <span class="id">H</span>, <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="FMemOpFP.html#fp_mapped_union">fp_mapped_union</a></span>; <span class="tactic">unfold</span> <span class="id"><a href="FMemOpFP.html#valid_pointer_fp">valid_pointer_fp</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>; <span class="tactic">simpl</span>; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="FMemOpFP.html#emp_locs_mapped">emp_locs_mapped</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="FMemOpFP.html#range_locset_loc">range_locset_loc</a></span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="id">inv</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="FMemOpFP.html#Loc_Mapped">Loc_Mapped</a></span> <span class="kwd">with</span> <span class="id">b</span> (<span class="id">tofs</span> - <span class="id">delta</span>) <span class="id">delta</span>; [|<span class="tactic">auto</span>|<span class="tactic">omega</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="FMemOpFP.html#range_locset_loc">range_locset_loc</a></span>. <span class="tactic">intuition</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="FMemOpFP.html#range_locset_loc">range_locset_loc</a></span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="id">inv</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="FMemOpFP.html#Loc_Mapped">Loc_Mapped</a></span> <span class="kwd">with</span> <span class="id">b0</span> (<span class="id">tofs</span> - <span class="id">delta0</span>) <span class="id">delta0</span>; [|<span class="tactic">auto</span>|<span class="tactic">omega</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="FMemOpFP.html#range_locset_loc">range_locset_loc</a></span>. <span class="tactic">intuition</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1-3: <span class="tactic">clear</span> <span class="id">VALID</span> <span class="id">H1</span> <span class="id">H0</span> <span class="id">i</span>. 4-6: <span class="tactic">clear</span> <span class="id">VALID0</span> <span class="id">H2</span> <span class="id">H</span> <span class="id">i0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1-6: (<span class="id">exploit</span> <span class="id"><a href="FMemory.html#Mem.valid_pointer_inject_no_overflow">Mem.valid_pointer_inject_no_overflow</a></span>; <span class="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="FMemory.html#Mem.mi_representable">Mem.mi_representable</a></span>; <span class="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">rewrite</span> <span class="id"><a href="FMemory.html#Mem.valid_pointer_nonempty_perm">Mem.valid_pointer_nonempty_perm</a></span> <span class="kwd">in</span> *; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">mem</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">try</span> <span class="tactic">destruct</span> <span class="id">i0</span>; <span class="tactic">try</span> <span class="tactic">destruct</span> <span class="id">i</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">try</span> <span class="tactic">omega</span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;** <span class="tactic">destruct</span> <span class="id"><a href="Values.html#Val.cmp_different_blocks">Val.cmp_different_blocks</a></span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="id">inv</span> <span class="id">FP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexists</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">H</span>: <span class="id">context</span>[<span class="kwd">if</span> ?<span class="id">x</span> <span class="kwd">then</span> <span class="id">_</span> <span class="kwd">else</span> <span class="id">_</span>] |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span> <span class="id">eqn</span>:<span class="id">VALID</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_iff">andb_true_iff</a></span> <span class="kwd">in</span> <span class="id">VALID</span>. <span class="tactic">destruct</span> <span class="id">VALID</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="FMemOpFP.html#fp_mapped_union">fp_mapped_union</a></span>; <span class="tactic">eapply</span> <span class="id"><a href="FMemOpFP.html#valid_pointer_inj_fp_mapped">valid_pointer_inj_fp_mapped</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">This lemma is wierd. Interesting cases are discriminated because Archi.ptr64 = false </div>
<span class="kwd">Lemma</span> <span class="id"><a name="complu_bool_fp_inject_mapped">complu_bool_fp_inject_mapped</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">f</span> : <span class="id"><a href="Values.html#meminj">meminj</a></span>) (<span class="id">m</span> <span class="id">tm</span> : <span class="id"><a href="FMemory.html#mem">mem</a></span>) (<span class="id">v1</span> <span class="id">tv1</span> <span class="id">v2</span> <span class="id">tv2</span> : <span class="id"><a href="Values.html#val">val</a></span>) (<span class="id">c</span> : <span class="id"><a href="Integers.html#comparison">comparison</a></span>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">v</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) (<span class="id">fp</span> : <span class="id"><a href="Cop_fp.html#footprint">footprint</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="Cop_fp.html#f">f</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id"><a href="Cop_fp.html#tm">tm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="Cop_fp.html#f">f</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#tv1">tv1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="Cop_fp.html#f">f</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#tv2">tv2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.cmplu_bool">Val.cmplu_bool</a></span> (<span class="id"><a href="FMemory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span>) <span class="id"><a href="Cop_fp.html#c">c</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop_fp.html#cmplu_bool_fp">cmplu_bool_fp</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id"><a href="Cop_fp.html#c">c</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">tfp</span> : <span class="id"><a href="Cop_fp.html#footprint">footprint</a></span>, <span class="id"><a href="Cop_fp.html#cmplu_bool_fp">cmplu_bool_fp</a></span> <span class="id"><a href="Cop_fp.html#tm">tm</a></span> <span class="id"><a href="Cop_fp.html#c">c</a></span> <span class="id"><a href="Cop_fp.html#tv1">tv1</a></span> <span class="id"><a href="Cop_fp.html#tv2">tv2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#tfp">tfp</a></span> /\ <span class="id"><a href="FMemOpFP.html#fp_mapped">fp_mapped</a></span> <span class="id"><a href="Cop_fp.html#f">f</a></span> <span class="id"><a href="Cop_fp.html#fp">fp</a></span> <span class="id"><a href="Cop_fp.html#tfp">tfp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6499')">Proof.</div>
<div class="proofscript" id="proof6499">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">fp</span>. <span class="tactic">intros</span> <span class="id">MEMINJ</span> <span class="id">VINJ1</span> <span class="id">VINJ2</span> <span class="id">CMP</span> <span class="id">FP</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.cmplu_bool">Val.cmplu_bool</a></span>, <span class="id"><a href="Cop_fp.html#cmplu_bool_fp">cmplu_bool_fp</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v1</span>; <span class="id">inv</span> <span class="id">VINJ1</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v2</span>; <span class="id">inv</span> <span class="id">VINJ2</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="id">eexists</span>; <span class="tactic">split</span>; [<span class="tactic">eauto</span>|<span class="tactic">eapply</span> <span class="id"><a href="FMemOpFP.html#emp_fp_mapped">emp_fp_mapped</a></span>]; <span class="tactic">fail</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">clear</span>; <span class="id">eexists</span>; <span class="tactic">split</span>; [<span class="tactic">eauto</span>|<span class="tactic">eapply</span> <span class="id"><a href="FMemOpFP.html#emp_fp_mapped">emp_fp_mapped</a></span>]; <span class="tactic">fail</span>).<br/>
Qed.</div>
&nbsp;&nbsp;<br/>
<span class="kwd">Definition</span> <span class="id"><a name="cmp_ptr_fp">cmp_ptr_fp</a></span> (<span class="id">m</span>: <span class="id"><a href="FMemory.html#mem">mem</a></span>) (<span class="id">c</span>: <span class="id"><a href="Integers.html#comparison">comparison</a></span>) (<span class="id">v1</span> <span class="id">v2</span>: <span class="id"><a href="Values.html#val">val</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Cop_fp.html#footprint">footprint</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="Cop_fp.html#cmplu_bool_fp">cmplu_bool_fp</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id"><a href="Cop_fp.html#c">c</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span><br/>
&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="Cop_fp.html#cmpu_bool_fp">cmpu_bool_fp</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id"><a href="Cop_fp.html#c">c</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span>.<br/>
<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="sem_cmp_fp">sem_cmp_fp</a></span> (<span class="id">c</span>:<span class="id"><a href="Integers.html#comparison">comparison</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">v1</span>: <span class="id"><a href="Values.html#val">val</a></span>) (<span class="id">t1</span>: <span class="id"><a href="Ctypes.html#type">type</a></span>) (<span class="id">v2</span>: <span class="id"><a href="Values.html#val">val</a></span>) (<span class="id">t2</span>: <span class="id"><a href="Ctypes.html#type">type</a></span>) (<span class="id">m</span>: <span class="id"><a href="FMemory.html#mem">mem</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Cop_fp.html#footprint">footprint</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop.html#classify_cmp">classify_cmp</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#cmp_case_pp">cmp_case_pp</a></span> =&gt; <span class="id"><a href="Cop_fp.html#cmp_ptr_fp">cmp_ptr_fp</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id"><a href="Cop_fp.html#c">c</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#cmp_case_pi">cmp_case_pi</a></span> <span class="id">si</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n2</span> =&gt; <span class="kwd">let</span> <span class="id">v2</span>' := <span class="id"><a href="Values.html#Vptrofs">Vptrofs</a></span> (<span class="id"><a href="Cop.html#ptrofs_of_int">ptrofs_of_int</a></span> <span class="id">si</span> <span class="id">n2</span>) <span class="kwd">in</span> <span class="id"><a href="Cop_fp.html#cmp_ptr_fp">cmp_ptr_fp</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id"><a href="Cop_fp.html#c">c</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id">v2</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="kwd">if</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">else</span> <span class="id"><a href="Cop_fp.html#cmp_ptr_fp">cmp_ptr_fp</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id"><a href="Cop_fp.html#c">c</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#cmp_case_ip">cmp_case_ip</a></span> <span class="id">si</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n1</span> =&gt; <span class="kwd">let</span> <span class="id">v1</span>' := <span class="id"><a href="Values.html#Vptrofs">Vptrofs</a></span> (<span class="id"><a href="Cop.html#ptrofs_of_int">ptrofs_of_int</a></span> <span class="id">si</span> <span class="id">n1</span>) <span class="kwd">in</span> <span class="id"><a href="Cop_fp.html#cmp_ptr_fp">cmp_ptr_fp</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id"><a href="Cop_fp.html#c">c</a></span> <span class="id">v1</span>' <span class="id"><a href="Cop_fp.html#v2">v2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="kwd">if</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> <span class="kwd">else</span> <span class="id"><a href="Cop_fp.html#cmp_ptr_fp">cmp_ptr_fp</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id"><a href="Cop_fp.html#c">c</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#cmp_case_pl">cmp_case_pl</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">n2</span> =&gt; <span class="kwd">let</span> <span class="id">v2</span>' := <span class="id"><a href="Values.html#Vptrofs">Vptrofs</a></span> (<span class="id"><a href="Integers.html#Ptrofs.of_int64">Ptrofs.of_int64</a></span> <span class="id">n2</span>) <span class="kwd">in</span> <span class="id"><a href="Cop_fp.html#cmp_ptr_fp">cmp_ptr_fp</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id"><a href="Cop_fp.html#c">c</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id">v2</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="kwd">if</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="Cop_fp.html#cmp_ptr_fp">cmp_ptr_fp</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id"><a href="Cop_fp.html#c">c</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#cmp_case_lp">cmp_case_lp</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">n1</span> =&gt; <span class="kwd">let</span> <span class="id">v1</span>' := <span class="id"><a href="Values.html#Vptrofs">Vptrofs</a></span> (<span class="id"><a href="Integers.html#Ptrofs.of_int64">Ptrofs.of_int64</a></span> <span class="id">n1</span>) <span class="kwd">in</span> <span class="id"><a href="Cop_fp.html#cmp_ptr_fp">cmp_ptr_fp</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id"><a href="Cop_fp.html#c">c</a></span> <span class="id">v1</span>' <span class="id"><a href="Cop_fp.html#v2">v2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="kwd">if</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="Cop_fp.html#cmp_ptr_fp">cmp_ptr_fp</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id"><a href="Cop_fp.html#c">c</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#cmp_default">cmp_default</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop_fp.html#sem_binarith_fp">sem_binarith_fp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">sg</span> <span class="id">n1</span> <span class="id">n2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Val.of_bool">Val.of_bool</a></span>(<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#sg">sg</a></span> <span class="kwd">with</span> <span class="id"><a href="Ctypes.html#Signed">Signed</a></span> =&gt; <span class="id"><a href="Integers.html#Int.cmp">Int.cmp</a></span> <span class="id"><a href="Cop_fp.html#c">c</a></span> <span class="id"><a href="Cop_fp.html#n1">n1</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span> | <span class="id"><a href="Ctypes.html#Unsigned">Unsigned</a></span> =&gt; <span class="id"><a href="Integers.html#Int.cmpu">Int.cmpu</a></span> <span class="id"><a href="Cop_fp.html#c">c</a></span> <span class="id"><a href="Cop_fp.html#n1">n1</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span> <span class="kwd">end</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">sg</span> <span class="id">n1</span> <span class="id">n2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Val.of_bool">Val.of_bool</a></span>(<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#sg">sg</a></span> <span class="kwd">with</span> <span class="id"><a href="Ctypes.html#Signed">Signed</a></span> =&gt; <span class="id"><a href="Integers.html#Int64.cmp">Int64.cmp</a></span> <span class="id"><a href="Cop_fp.html#c">c</a></span> <span class="id"><a href="Cop_fp.html#n1">n1</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span> | <span class="id"><a href="Ctypes.html#Unsigned">Unsigned</a></span> =&gt; <span class="id"><a href="Integers.html#Int64.cmpu">Int64.cmpu</a></span> <span class="id"><a href="Cop_fp.html#c">c</a></span> <span class="id"><a href="Cop_fp.html#n1">n1</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span> <span class="kwd">end</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">n1</span> <span class="id">n2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Val.of_bool">Val.of_bool</a></span>(<span class="id"><a href="Floats.html#Float.cmp">Float.cmp</a></span> <span class="id"><a href="Cop_fp.html#c">c</a></span> <span class="id"><a href="Cop_fp.html#n1">n1</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">n1</span> <span class="id">n2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="Values.html#Val.of_bool">Val.of_bool</a></span>(<span class="id"><a href="Floats.html#Float32.cmp">Float32.cmp</a></span> <span class="id"><a href="Cop_fp.html#c">c</a></span> <span class="id"><a href="Cop_fp.html#n1">n1</a></span> <span class="id"><a href="Cop_fp.html#n2">n2</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sem_cmp_sem_cmp_fp">sem_cmp_sem_cmp_fp</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c</span> <span class="id">v1</span> <span class="id">t1</span> <span class="id">v2</span> <span class="id">t2</span> <span class="id">m</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FCop.html#sem_cmp">sem_cmp</a></span> <span class="id"><a href="Cop_fp.html#c">c</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">fp</span>, <span class="id"><a href="Cop_fp.html#sem_cmp_fp">sem_cmp_fp</a></span> <span class="id"><a href="Cop_fp.html#c">c</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6500')">Proof.</div>
<div class="proofscript" id="proof6500">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FCop.html#sem_cmp">sem_cmp</a></span>, <span class="id"><a href="Cop_fp.html#sem_cmp_fp">sem_cmp_fp</a></span>, <span class="id"><a href="FCop.html#cmp_ptr">cmp_ptr</a></span>, <span class="id"><a href="Cop_fp.html#cmp_ptr_fp">cmp_ptr_fp</a></span>, <span class="id"><a href="Coqlib.html#option_map">option_map</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Cop.html#classify_cmp">classify_cmp</a></span>;<br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id">context</span>[<span class="kwd">if</span> ?<span class="id">x</span> <span class="kwd">then</span> <span class="id">_</span> <span class="kwd">else</span> <span class="id">_</span>] =&gt; <span class="tactic">destruct</span> <span class="id">x</span> <span class="id">eqn</span>:?<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id">context</span>[<span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id">_</span> =&gt; <span class="id">_</span> <span class="kwd">end</span>] =&gt; <span class="tactic">destruct</span> <span class="id">x</span> <span class="id">eqn</span>:?<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id">_</span> =&gt; <span class="id">_</span> <span class="kwd">end</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="tactic">destruct</span> <span class="id">x</span> <span class="id">eqn</span>:?<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>;<br/>
&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">discriminate</span>;<br/>
&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">eapply</span> <span class="id"><a href="Cop_fp.html#cmpu_bool_cmpu_bool_fp">cmpu_bool_cmpu_bool_fp</a></span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Cop_fp.html#sem_binarith_sem_binarith_fp">sem_binarith_sem_binarith_fp</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Ltac</span> <span class="id">BRANCHES</span> :=<br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id">context</span>[<span class="kwd">if</span> ?<span class="id">x</span> <span class="kwd">then</span> <span class="id">_</span> <span class="kwd">else</span> <span class="id">_</span>] =&gt; <span class="tactic">destruct</span> <span class="id">x</span> <span class="id">eqn</span>:?; <span class="tactic">subst</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">try</span> <span class="tactic">discriminate</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id">context</span>[<span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id">_</span> =&gt; <span class="id">_</span> <span class="kwd">end</span>] =&gt; <span class="tactic">destruct</span> <span class="id">x</span> <span class="id">eqn</span>:?; <span class="tactic">subst</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">try</span> <span class="tactic">discriminate</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id">context</span>[<span class="kwd">if</span> ?<span class="id">x</span> <span class="kwd">then</span> <span class="id">_</span> <span class="kwd">else</span> <span class="id">_</span>] |- <span class="id">_</span> =&gt; <span class="tactic">destruct</span> <span class="id">x</span> <span class="id">eqn</span>:?; <span class="tactic">subst</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">try</span> <span class="tactic">discriminate</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id">_</span> &amp;&amp; <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> |- <span class="id">_</span> =&gt; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_iff">andb_true_iff</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">destruct</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<span class="kwd">Ltac</span> <span class="id">BINARITH</span> :=<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Cop_fp.html#sem_binarith_fp_mapped">sem_binarith_fp_mapped</a></span>; <span class="tactic">eauto</span>; <span class="tactic">clear</span>; <span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id"><a href="FCop.html#optval_self_injects">optval_self_injects</a></span>, <span class="id"><a href="Values.html#Val.of_bool">Val.of_bool</a></span>; <span class="tactic">auto</span>;<br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id">context</span>[<span class="kwd">if</span> ?<span class="id">x</span> <span class="kwd">then</span> <span class="id">_</span> <span class="kwd">else</span> <span class="id">_</span>] =&gt; <span class="tactic">destruct</span> <span class="id">x</span> <span class="id">eqn</span>:?; <span class="tactic">auto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id">context</span>[<span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id">_</span> =&gt; <span class="id">_</span> <span class="kwd">end</span>] =&gt; <span class="tactic">destruct</span> <span class="id">x</span> <span class="id">eqn</span>:?; <span class="tactic">auto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>; <br/>
&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sem_cmp_inj_fp_mapped">sem_cmp_inj_fp_mapped</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">m</span> <span class="id">tm</span> <span class="id">v1</span> <span class="id">tv1</span> <span class="id">v2</span> <span class="id">tv2</span> <span class="id">ty1</span> <span class="id">ty2</span> <span class="id">c</span> <span class="id">v</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="Cop_fp.html#f">f</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id"><a href="Cop_fp.html#tm">tm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="Cop_fp.html#f">f</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#tv1">tv1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="Cop_fp.html#f">f</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#tv2">tv2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FCop.html#sem_cmp">sem_cmp</a></span> <span class="id"><a href="Cop_fp.html#c">c</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#ty1">ty1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#ty2">ty2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop_fp.html#sem_cmp_fp">sem_cmp_fp</a></span> <span class="id"><a href="Cop_fp.html#c">c</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#ty1">ty1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#ty2">ty2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">tfp</span> : <span class="id"><a href="Cop_fp.html#footprint">footprint</a></span>, <span class="id"><a href="Cop_fp.html#sem_cmp_fp">sem_cmp_fp</a></span> <span class="id"><a href="Cop_fp.html#c">c</a></span> <span class="id"><a href="Cop_fp.html#tv1">tv1</a></span> <span class="id"><a href="Cop_fp.html#ty1">ty1</a></span> <span class="id"><a href="Cop_fp.html#tv2">tv2</a></span> <span class="id"><a href="Cop_fp.html#ty2">ty2</a></span> <span class="id"><a href="Cop_fp.html#tm">tm</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#tfp">tfp</a></span> /\ <span class="id"><a href="FMemOpFP.html#fp_mapped">fp_mapped</a></span> <span class="id"><a href="Cop_fp.html#f">f</a></span> <span class="id"><a href="Cop_fp.html#fp">fp</a></span> <span class="id"><a href="Cop_fp.html#tfp">tfp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6501')">Proof.</div>
<div class="proofscript" id="proof6501">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">fp</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">MEMINJ</span> <span class="id">VALINJ1</span> <span class="id">VALINJ2</span> <span class="id">CMP</span> <span class="id">CMPFP</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:<span class="id">PTR64</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FCop.html#sem_cmp">sem_cmp</a></span>, <span class="id"><a href="Cop_fp.html#sem_cmp_fp">sem_cmp_fp</a></span>, <span class="id"><a href="FCop.html#cmp_ptr">cmp_ptr</a></span>, <span class="id"><a href="Cop_fp.html#cmp_ptr_fp">cmp_ptr_fp</a></span>, <span class="id"><a href="Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span>, <span class="id"><a href="Cop_fp.html#cmpu_bool_fp">cmpu_bool_fp</a></span>, <span class="id"><a href="Values.html#Vptrofs">Vptrofs</a></span> <span class="kwd">in</span> *; <span class="tactic">try</span> <span class="tactic">rewrite</span> <span class="id">PTR64</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Cop.html#classify_cmp">classify_cmp</a></span> <span class="id">ty1</span> <span class="id">ty2</span>); <span class="tactic">try</span> <span class="tactic">discriminate</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id">context</span>[<span class="id"><a href="Cop_fp.html#sem_binarith_fp">sem_binarith_fp</a></span>] =&gt; <span class="id">BINARITH</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v1</span>; <span class="id">inv</span> <span class="id">VALINJ1</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v2</span>; <span class="id">inv</span> <span class="id">VALINJ2</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">clear</span>; <span class="id">eexists</span>; <span class="tactic">split</span>; [<span class="tactic">eauto</span>|<span class="tactic">eapply</span> <span class="id"><a href="FMemOpFP.html#emp_fp_mapped">emp_fp_mapped</a></span>]; <span class="tactic">fail</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">BRANCHES</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>; <span class="id">inv</span> <span class="id">CMPFP</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">eexists</span>; <span class="tactic">split</span>; [<span class="tactic">eauto</span>|<span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id"><a href="FMemOpFP.html#emp_fp_mapped">emp_fp_mapped</a></span>]);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id">context</span>[<span class="id"><a href="FMemOpFP.html#fp_mapped">fp_mapped</a></span> <span class="id">_</span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">_</span> <span class="id">_</span>) <span class="id">_</span>] =&gt; <span class="tactic">apply</span> <span class="id"><a href="FMemOpFP.html#fp_mapped_union">fp_mapped_union</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">eapply</span> <span class="id"><a href="FMemOpFP.html#weak_valid_inj_fp_mapped">weak_valid_inj_fp_mapped</a></span>; <span class="tactic">eauto</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">eapply</span> <span class="id"><a href="FMemOpFP.html#weak_valid_inj_valid_fp_mapped">weak_valid_inj_valid_fp_mapped</a></span>; <span class="tactic">eauto</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">eapply</span> <span class="id"><a href="FMemOpFP.html#valid_inj_weak_valid_fp_mapped">valid_inj_weak_valid_fp_mapped</a></span>; <span class="tactic">eauto</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">eapply</span> <span class="id"><a href="FMemOpFP.html#valid_pointer_inj_fp_mapped">valid_pointer_inj_fp_mapped</a></span>; <span class="tactic">eauto</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
Qed.</div>
<br/>
<h1> Combined semantics of unary and binary operators </h1>
<span class="kwd">Definition</span> <span class="id"><a name="sem_unary_operation_fp">sem_unary_operation_fp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">op</span>: <span class="id"><a href="Cop.html#unary_operation">unary_operation</a></span>) (<span class="id">v</span>: <span class="id"><a href="Values.html#val">val</a></span>) (<span class="id">ty</span>: <span class="id"><a href="Ctypes.html#type">type</a></span>) (<span class="id">m</span>: <span class="id"><a href="FMemory.html#mem">mem</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Cop_fp.html#footprint">footprint</a></span>:=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#op">op</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#Onotbool">Onotbool</a></span> =&gt; <span class="id"><a href="Cop_fp.html#sem_notbool_fp">sem_notbool_fp</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="id"><a href="Cop_fp.html#ty">ty</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#Onotint">Onotint</a></span> =&gt; <span class="kwd">if</span> <span class="id"><a href="Cop.html#sem_notint">sem_notint</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="id"><a href="Cop_fp.html#ty">ty</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#Oneg">Oneg</a></span> =&gt; <span class="kwd">if</span> <span class="id"><a href="Cop.html#sem_neg">sem_neg</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="id"><a href="Cop_fp.html#ty">ty</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#Oabsfloat">Oabsfloat</a></span> =&gt; <span class="kwd">if</span> <span class="id"><a href="Cop.html#sem_absfloat">sem_absfloat</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="id"><a href="Cop_fp.html#ty">ty</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sem_unary_operation_sem_unary_operation_fp">sem_unary_operation_sem_unary_operation_fp</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">op</span> <span class="id">v</span> <span class="id">ty</span> <span class="id">m</span> <span class="id">v</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FCop.html#sem_unary_operation">sem_unary_operation</a></span> <span class="id"><a href="Cop_fp.html#op">op</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="id"><a href="Cop_fp.html#ty">ty</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">fp</span>, <span class="id"><a href="Cop_fp.html#sem_unary_operation_fp">sem_unary_operation_fp</a></span> <span class="id"><a href="Cop_fp.html#op">op</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="id"><a href="Cop_fp.html#ty">ty</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6502')">Proof.</div>
<div class="proofscript" id="proof6502">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FCop.html#sem_unary_operation">sem_unary_operation</a></span>, <span class="id"><a href="Cop_fp.html#sem_unary_operation_fp">sem_unary_operation_fp</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">op</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|- <span class="id">context</span>[<span class="kwd">if</span> ?<span class="id">x</span> <span class="kwd">then</span> <span class="id">_</span> <span class="kwd">else</span> <span class="id">_</span>] =&gt; <span class="tactic">destruct</span> <span class="id">x</span>; [<span class="tactic">eauto</span>|<span class="tactic">discriminate</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Cop_fp.html#sem_notbool_sem_notbool_fp">sem_notbool_sem_notbool_fp</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sem_unary_operation_fp_sem_unary_operation">sem_unary_operation_fp_sem_unary_operation</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">op</span> <span class="id">v</span> <span class="id">ty</span> <span class="id">m</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop_fp.html#sem_unary_operation_fp">sem_unary_operation_fp</a></span> <span class="id"><a href="Cop_fp.html#op">op</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="id"><a href="Cop_fp.html#ty">ty</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">exists</span> <span class="id">v</span>', <span class="id"><a href="FCop.html#sem_unary_operation">sem_unary_operation</a></span> <span class="id"><a href="Cop_fp.html#op">op</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="id"><a href="Cop_fp.html#ty">ty</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;\/ (<span class="id"><a href="Cop_fp.html#op">op</a></span> = <span class="id"><a href="Cop.html#Onotbool">Onotbool</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> (<span class="id">b</span> : <span class="id"><a href="Values.html#block">block</a></span>) (<span class="id">ofs</span> : <span class="id"><a href="Integers.html#ptrofs">ptrofs</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop_fp.html#v">v</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="Cop_fp.html#b">b</a></span> <span class="id"><a href="Cop_fp.html#ofs">ofs</a></span> /\ <span class="id"><a href="FMemory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id"><a href="Cop_fp.html#b">b</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="Cop_fp.html#ofs">ofs</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6503')">Proof.</div>
<div class="proofscript" id="proof6503">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FCop.html#sem_unary_operation">sem_unary_operation</a></span>, <span class="id"><a href="Cop_fp.html#sem_unary_operation_fp">sem_unary_operation_fp</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">op</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">H</span> : <span class="id">context</span>[<span class="kwd">if</span> ?<span class="id">x</span> <span class="kwd">then</span> <span class="id">_</span> <span class="kwd">else</span> <span class="id">_</span>] |- <span class="id">_</span> =&gt; <span class="tactic">destruct</span> <span class="id">x</span>; [<span class="tactic">eauto</span>|<span class="tactic">discriminate</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Cop_fp.html#sem_notbool_fp_sem_notbool">sem_notbool_fp_sem_notbool</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">destruct</span> <span class="id">H</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sem_unary_operation_fp_mapped">sem_unary_operation_fp_mapped</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">m</span> <span class="id">tm</span> <span class="id">v</span> <span class="id">tv</span> <span class="id">op</span> <span class="id">ty</span> <span class="id">v</span>' <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="Cop_fp.html#f">f</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id"><a href="Cop_fp.html#tm">tm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="Cop_fp.html#f">f</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="id"><a href="Cop_fp.html#tv">tv</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FCop.html#sem_unary_operation">sem_unary_operation</a></span> <span class="id"><a href="Cop_fp.html#op">op</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="id"><a href="Cop_fp.html#ty">ty</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop_fp.html#sem_unary_operation_fp">sem_unary_operation_fp</a></span> <span class="id"><a href="Cop_fp.html#op">op</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="id"><a href="Cop_fp.html#ty">ty</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">tfp</span>, <span class="id"><a href="Cop_fp.html#sem_unary_operation_fp">sem_unary_operation_fp</a></span> <span class="id"><a href="Cop_fp.html#op">op</a></span> <span class="id"><a href="Cop_fp.html#tv">tv</a></span> <span class="id"><a href="Cop_fp.html#ty">ty</a></span> <span class="id"><a href="Cop_fp.html#tm">tm</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#tfp">tfp</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemOpFP.html#fp_mapped">fp_mapped</a></span> <span class="id"><a href="Cop_fp.html#f">f</a></span> <span class="id"><a href="Cop_fp.html#fp">fp</a></span> <span class="id"><a href="Cop_fp.html#tfp">tfp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6504')">Proof.</div>
<div class="proofscript" id="proof6504">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">intros</span> <span class="id">until</span> <span class="id">fp</span>. <span class="tactic">intros</span> <span class="id">MEMINJ</span> <span class="id">VALINJ</span> <span class="id">COP</span> <span class="id">OPFP</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Cop_fp.html#sem_unary_operation_fp">sem_unary_operation_fp</a></span>, <span class="id"><a href="FCop.html#sem_unary_operation">sem_unary_operation</a></span> <span class="kwd">in</span> *. <br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">op</span>; <span class="tactic">try</span> (<span class="id">exists</span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span>; <span class="tactic">split</span>; [<span class="tactic">auto</span>|<span class="tactic">apply</span> <span class="id"><a href="FMemOpFP.html#emp_fp_mapped">emp_fp_mapped</a></span>]; <span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;* <span class="tactic">unfold</span> <span class="id"><a href="FCop.html#sem_notbool">sem_notbool</a></span>, <span class="id"><a href="FCop.html#bool_val">bool_val</a></span>, <span class="id"><a href="Cop_fp.html#sem_notbool_fp">sem_notbool_fp</a></span>, <span class="id"><a href="Cop_fp.html#bool_val_fp">bool_val_fp</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Cop.html#classify_bool">classify_bool</a></span> <span class="id">ty</span>); <span class="tactic">destruct</span> <span class="id">v</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">try</span> <span class="tactic">congruence</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">VALINJ</span>; <span class="tactic">try</span> (<span class="id">exists</span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span>; <span class="tactic">split</span>; [<span class="tactic">auto</span>|<span class="tactic">apply</span> <span class="id"><a href="FMemOpFP.html#emp_fp_mapped">emp_fp_mapped</a></span>]; <span class="tactic">fail</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">try</span> <span class="tactic">congruence</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexists</span>; (<span class="tactic">split</span>; [<span class="tactic">eauto</span>|]); <span class="tactic">destruct</span> <span class="id"><a href="FMemory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id">eqn</span>:? ;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">COP</span>; <span class="id">inv</span> <span class="id">OPFP</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="FMemOpFP.html#weak_valid_inj_fp_mapped">weak_valid_inj_fp_mapped</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;* <span class="tactic">rewrite</span> <span class="id">COP</span> <span class="kwd">in</span> <span class="id">OPFP</span>. <span class="id">inv</span> <span class="id">OPFP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="Cop.html#sem_notint">sem_notint</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Cop.html#classify_notint">classify_notint</a></span> <span class="id">eqn</span>:?; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">COP</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>; <span class="id">inv</span> <span class="id">VALINJ</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="tactic">split</span>; [<span class="tactic">eauto</span>|<span class="tactic">apply</span> <span class="id"><a href="FMemOpFP.html#emp_fp_mapped">emp_fp_mapped</a></span>]).<br/>
&nbsp;&nbsp;* <span class="tactic">rewrite</span> <span class="id">COP</span> <span class="kwd">in</span> <span class="id">OPFP</span>. <span class="id">inv</span> <span class="id">OPFP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="Cop.html#sem_neg">sem_neg</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Cop.html#classify_neg">classify_neg</a></span> <span class="id">eqn</span>:?; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">COP</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>; <span class="id">inv</span> <span class="id">VALINJ</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="tactic">split</span>; [<span class="tactic">eauto</span>|<span class="tactic">apply</span> <span class="id"><a href="FMemOpFP.html#emp_fp_mapped">emp_fp_mapped</a></span>]).<br/>
&nbsp;&nbsp;* <span class="tactic">rewrite</span> <span class="id">COP</span> <span class="kwd">in</span> <span class="id">OPFP</span>. <span class="id">inv</span> <span class="id">OPFP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="Cop.html#sem_absfloat">sem_absfloat</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Cop.html#classify_neg">classify_neg</a></span> <span class="id">eqn</span>:?; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">COP</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>; <span class="id">inv</span> <span class="id">VALINJ</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="tactic">split</span>; [<span class="tactic">eauto</span>|<span class="tactic">apply</span> <span class="id"><a href="FMemOpFP.html#emp_fp_mapped">emp_fp_mapped</a></span>]).<br/>
Qed.</div>
<br/>
<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="sem_binary_operation_fp">sem_binary_operation_fp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">cenv</span>: <span class="id"><a href="Ctypes.html#composite_env">composite_env</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">op</span>: <span class="id"><a href="Cop.html#binary_operation">binary_operation</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">v1</span>: <span class="id"><a href="Values.html#val">val</a></span>) (<span class="id">t1</span>: <span class="id"><a href="Ctypes.html#type">type</a></span>) (<span class="id">v2</span>: <span class="id"><a href="Values.html#val">val</a></span>) (<span class="id">t2</span>:<span class="id"><a href="Ctypes.html#type">type</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">m</span>: <span class="id"><a href="FMemory.html#mem">mem</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Cop_fp.html#footprint">footprint</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#op">op</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#Oadd">Oadd</a></span> =&gt; <span class="id"><a href="Cop_fp.html#sem_add_fp">sem_add_fp</a></span> <span class="id"><a href="Cop_fp.html#cenv">cenv</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#Osub">Osub</a></span> =&gt; <span class="id"><a href="Cop_fp.html#sem_sub_fp">sem_sub_fp</a></span> <span class="id"><a href="Cop_fp.html#cenv">cenv</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#Omul">Omul</a></span> =&gt; <span class="id"><a href="Cop_fp.html#sem_mul_fp">sem_mul_fp</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#Omod">Omod</a></span> =&gt; <span class="id"><a href="Cop_fp.html#sem_mod_fp">sem_mod_fp</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#Odiv">Odiv</a></span> =&gt; <span class="id"><a href="Cop_fp.html#sem_div_fp">sem_div_fp</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#Oand">Oand</a></span> =&gt; <span class="id"><a href="Cop_fp.html#sem_and_fp">sem_and_fp</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#Oor">Oor</a></span>  =&gt; <span class="id"><a href="Cop_fp.html#sem_or_fp">sem_or_fp</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#Oxor">Oxor</a></span> =&gt; <span class="id"><a href="Cop_fp.html#sem_xor_fp">sem_xor_fp</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#Oshl">Oshl</a></span> =&gt; <span class="kwd">if</span> <span class="id"><a href="Cop.html#sem_shl">sem_shl</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#Oshr">Oshr</a></span> =&gt; <span class="kwd">if</span> <span class="id"><a href="Cop.html#sem_shr">sem_shr</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#Oeq">Oeq</a></span> =&gt; <span class="id"><a href="Cop_fp.html#sem_cmp_fp">sem_cmp_fp</a></span> <span class="id"><a href="Integers.html#Ceq">Ceq</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#One">One</a></span> =&gt; <span class="id"><a href="Cop_fp.html#sem_cmp_fp">sem_cmp_fp</a></span> <span class="id"><a href="Integers.html#Cne">Cne</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#Olt">Olt</a></span> =&gt; <span class="id"><a href="Cop_fp.html#sem_cmp_fp">sem_cmp_fp</a></span> <span class="id"><a href="Integers.html#Clt">Clt</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#Ogt">Ogt</a></span> =&gt; <span class="id"><a href="Cop_fp.html#sem_cmp_fp">sem_cmp_fp</a></span> <span class="id"><a href="Integers.html#Cgt">Cgt</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#Ole">Ole</a></span> =&gt; <span class="id"><a href="Cop_fp.html#sem_cmp_fp">sem_cmp_fp</a></span> <span class="id"><a href="Integers.html#Cle">Cle</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#Oge">Oge</a></span> =&gt; <span class="id"><a href="Cop_fp.html#sem_cmp_fp">sem_cmp_fp</a></span> <span class="id"><a href="Integers.html#Cge">Cge</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sem_binary_operation_sem_binary_operation_fp">sem_binary_operation_sem_binary_operation_fp</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">cenv</span> <span class="id">op</span> <span class="id">v1</span> <span class="id">t1</span> <span class="id">v2</span> <span class="id">t2</span> <span class="id">m</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FCop.html#sem_binary_operation">sem_binary_operation</a></span> <span class="id"><a href="Cop_fp.html#cenv">cenv</a></span> <span class="id"><a href="Cop_fp.html#op">op</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">fp</span>, <span class="id"><a href="Cop_fp.html#sem_binary_operation_fp">sem_binary_operation_fp</a></span> <span class="id"><a href="Cop_fp.html#cenv">cenv</a></span> <span class="id"><a href="Cop_fp.html#op">op</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#t1">t1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#t2">t2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6505')">Proof.</div>
<div class="proofscript" id="proof6505">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FCop.html#sem_binary_operation">sem_binary_operation</a></span>, <span class="id"><a href="Cop_fp.html#sem_binary_operation_fp">sem_binary_operation_fp</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">op</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id"><a href="Cop_fp.html#sem_binarith_sem_binarith_fp">sem_binarith_sem_binarith_fp</a></span>; <span class="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id"><a href="Cop_fp.html#sem_cmp_sem_cmp_fp">sem_cmp_sem_cmp_fp</a></span>; <span class="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id"><a href="Cop_fp.html#sem_add_sem_add_fp">sem_add_sem_add_fp</a></span>; <span class="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id"><a href="Cop_fp.html#sem_sub_sem_sub_fp">sem_sub_sem_sub_fp</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Cop.html#sem_shl">sem_shl</a></span>; [<span class="tactic">eauto</span>|<span class="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Cop.html#sem_shr">sem_shr</a></span>; [<span class="tactic">eauto</span>|<span class="tactic">discriminate</span>].<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sem_binary_operation_fp_mapped">sem_binary_operation_fp_mapped</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">m</span> <span class="id">tm</span> <span class="id">v1</span> <span class="id">tv1</span> <span class="id">v2</span> <span class="id">tv2</span> <span class="id">cenv</span> <span class="id">op</span> <span class="id">ty1</span> <span class="id">ty2</span> <span class="id">v</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemory.html#Mem.inject">Mem.inject</a></span> <span class="id"><a href="Cop_fp.html#f">f</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> <span class="id"><a href="Cop_fp.html#tm">tm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="Cop_fp.html#f">f</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#tv1">tv1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.inject">Val.inject</a></span> <span class="id"><a href="Cop_fp.html#f">f</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#tv2">tv2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FCop.html#sem_binary_operation">sem_binary_operation</a></span> <span class="id"><a href="Cop_fp.html#cenv">cenv</a></span> <span class="id"><a href="Cop_fp.html#op">op</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#ty1">ty1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#ty2">ty2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop_fp.html#sem_binary_operation_fp">sem_binary_operation_fp</a></span> <span class="id"><a href="Cop_fp.html#cenv">cenv</a></span> <span class="id"><a href="Cop_fp.html#op">op</a></span> <span class="id"><a href="Cop_fp.html#v1">v1</a></span> <span class="id"><a href="Cop_fp.html#ty1">ty1</a></span> <span class="id"><a href="Cop_fp.html#v2">v2</a></span> <span class="id"><a href="Cop_fp.html#ty2">ty2</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">tfp</span>, <span class="id"><a href="Cop_fp.html#sem_binary_operation_fp">sem_binary_operation_fp</a></span> <span class="id"><a href="Cop_fp.html#cenv">cenv</a></span> <span class="id"><a href="Cop_fp.html#op">op</a></span> <span class="id"><a href="Cop_fp.html#tv1">tv1</a></span> <span class="id"><a href="Cop_fp.html#ty1">ty1</a></span> <span class="id"><a href="Cop_fp.html#tv2">tv2</a></span> <span class="id"><a href="Cop_fp.html#ty2">ty2</a></span> <span class="id"><a href="Cop_fp.html#tm">tm</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#tfp">tfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="FMemOpFP.html#fp_mapped">fp_mapped</a></span> <span class="id"><a href="Cop_fp.html#f">f</a></span> <span class="id"><a href="Cop_fp.html#fp">fp</a></span> <span class="id"><a href="Cop_fp.html#tfp">tfp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6506')">Proof.</div>
<div class="proofscript" id="proof6506">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">intros</span> <span class="id">until</span> <span class="id">fp</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">MEMINJ</span> <span class="id">VALINJ1</span> <span class="id">VALINJ2</span> <span class="id">BINOP</span> <span class="id">BINOPFP</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:<span class="id">PTR64</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FCop.html#sem_binary_operation">sem_binary_operation</a></span>, <span class="id"><a href="Cop_fp.html#sem_binary_operation_fp">sem_binary_operation_fp</a></span> <span class="kwd">in</span> *; <span class="tactic">destruct</span> <span class="id">op</span>.<br/>
<br/>
&nbsp;&nbsp;1-8: <span class="tactic">unfold</span> <span class="id"><a href="FCop.html#sem_add">sem_add</a></span>, <span class="id"><a href="Cop_fp.html#sem_add_fp">sem_add_fp</a></span>, <span class="id"><a href="FCop.html#sem_sub">sem_sub</a></span>, <span class="id"><a href="Cop_fp.html#sem_sub_fp">sem_sub_fp</a></span>, <span class="id"><a href="FCop.html#sem_mul">sem_mul</a></span>, <span class="id"><a href="Cop_fp.html#sem_mul_fp">sem_mul_fp</a></span>, <span class="id"><a href="FCop.html#sem_div">sem_div</a></span>, <span class="id"><a href="Cop_fp.html#sem_div_fp">sem_div_fp</a></span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FCop.html#sem_mod">sem_mod</a></span>, <span class="id"><a href="Cop_fp.html#sem_mod_fp">sem_mod_fp</a></span>, <span class="id"><a href="FCop.html#sem_and">sem_and</a></span>, <span class="id"><a href="Cop_fp.html#sem_and_fp">sem_and_fp</a></span>, <span class="id"><a href="FCop.html#sem_or">sem_or</a></span>, <span class="id"><a href="Cop_fp.html#sem_or_fp">sem_or_fp</a></span>, <span class="id"><a href="FCop.html#sem_xor">sem_xor</a></span>, <span class="id"><a href="Cop_fp.html#sem_xor_fp">sem_xor_fp</a></span>, <span class="id"><a href="Cop.html#sem_shl">sem_shl</a></span>, <span class="id"><a href="Cop.html#sem_shr">sem_shr</a></span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FCop.html#sem_cmp">sem_cmp</a></span>, <span class="id"><a href="Cop_fp.html#sem_cmp_fp">sem_cmp_fp</a></span>, <span class="id"><a href="FCop.html#cmp_ptr">cmp_ptr</a></span>, <span class="id"><a href="Cop_fp.html#cmp_ptr_fp">cmp_ptr_fp</a></span>, <span class="id"><a href="Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span>, <span class="id"><a href="Cop_fp.html#cmpu_bool_fp">cmpu_bool_fp</a></span>, <span class="id"><a href="Values.html#Vptrofs">Vptrofs</a></span> <span class="kwd">in</span> *.<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Cop.html#classify_add">classify_add</a></span>; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id">context</span>[<span class="id"><a href="Cop_fp.html#sem_binarith_fp">sem_binarith_fp</a></span>] =&gt; <span class="id">BINARITH</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id">BRANCHES</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="id">exists</span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span>; <span class="tactic">split</span>; [<span class="tactic">auto</span>|<span class="tactic">apply</span> <span class="id"><a href="FMemOpFP.html#emp_fp_mapped">emp_fp_mapped</a></span>]);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="id">inv</span> <span class="id">VALINJ1</span>; <span class="id">inv</span> <span class="id">VALINJ2</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">discriminate</span>).<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Cop.html#classify_sub">classify_sub</a></span>; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id">context</span>[<span class="id"><a href="Cop_fp.html#sem_binarith_fp">sem_binarith_fp</a></span>] =&gt; <span class="id">BINARITH</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="tactic">rewrite</span> <span class="id">PTR64</span> <span class="kwd">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">VALINJ1</span>; <span class="id">inv</span> <span class="id">VALINJ2</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">try</span> <span class="tactic">discriminate</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="id">exists</span> <span class="id"><a href="Cop_fp.html#empfp">empfp</a></span>; <span class="tactic">split</span>; [<span class="tactic">auto</span>|<span class="tactic">apply</span> <span class="id"><a href="FMemOpFP.html#emp_fp_mapped">emp_fp_mapped</a></span>]);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">BRANCHES</span>; <span class="tactic">try</span> <span class="tactic">congruence</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
&nbsp;&nbsp;1-6: <span class="id">BINARITH</span>.<br/>
&nbsp;&nbsp;1-2: <span class="tactic">unfold</span> <span class="id"><a href="Cop.html#sem_shl">sem_shl</a></span>, <span class="id"><a href="Cop.html#sem_shr">sem_shr</a></span>, <span class="id"><a href="Cop.html#sem_shift">sem_shift</a></span> <span class="kwd">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Cop.html#classify_shift">classify_shift</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v1</span>, <span class="id">v2</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">VALINJ1</span>; <span class="id">inv</span> <span class="id">VALINJ2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id">context</span>[<span class="kwd">if</span> <span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">_</span> <span class="id">_</span> <span class="kwd">then</span> <span class="id">_</span> <span class="kwd">else</span> <span class="id">_</span>] =&gt; <span class="tactic">destruct</span> <span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span>; <span class="tactic">try</span> <span class="tactic">discriminate</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id">context</span>[<span class="kwd">if</span> <span class="id"><a href="Integers.html#Int64.ltu">Int64.ltu</a></span> <span class="id">_</span> <span class="id">_</span> <span class="kwd">then</span> <span class="id">_</span> <span class="kwd">else</span> <span class="id">_</span>] =&gt; <span class="tactic">destruct</span> <span class="id"><a href="Integers.html#Int64.ltu">Int64.ltu</a></span>; <span class="tactic">try</span> <span class="tactic">discriminate</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="tactic">clear</span>; <span class="id">eexists</span>; <span class="tactic">split</span>; [<span class="tactic">eauto</span>|<span class="tactic">eapply</span> <span class="id"><a href="FMemOpFP.html#emp_fp_mapped">emp_fp_mapped</a></span>]).<br/>
&nbsp;&nbsp;1-6: <span class="tactic">eapply</span> <span class="id"><a href="Cop_fp.html#sem_cmp_inj_fp_mapped">sem_cmp_inj_fp_mapped</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
<span class="kwd">Definition</span> <span class="id"><a name="sem_incrdecr_fp">sem_incrdecr_fp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">cenv</span>: <span class="id"><a href="Ctypes.html#composite_env">composite_env</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">id</span>: <span class="id"><a href="Cop.html#incr_or_decr">incr_or_decr</a></span>) (<span class="id">v</span>: <span class="id"><a href="Values.html#val">val</a></span>) (<span class="id">ty</span>: <span class="id"><a href="Ctypes.html#type">type</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">m</span>: <span class="id"><a href="FMemory.html#mem">mem</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Cop_fp.html#footprint">footprint</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Cop_fp.html#id">id</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#Incr">Incr</a></span> =&gt; <span class="id"><a href="Cop_fp.html#sem_add_fp">sem_add_fp</a></span> <span class="id"><a href="Cop_fp.html#cenv">cenv</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="id"><a href="Cop_fp.html#ty">ty</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="Integers.html#Int.one">Int.one</a></span>) <span class="id"><a href="Ctypes.html#type_int32s">type_int32s</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Cop.html#Decr">Decr</a></span> =&gt; <span class="id"><a href="Cop_fp.html#sem_sub_fp">sem_sub_fp</a></span> <span class="id"><a href="Cop_fp.html#cenv">cenv</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="id"><a href="Cop_fp.html#ty">ty</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="Integers.html#Int.one">Int.one</a></span>) <span class="id"><a href="Ctypes.html#type_int32s">type_int32s</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sem_incrdecr_sem_incrdecr_fp">sem_incrdecr_sem_incrdecr_fp</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">cenv</span> <span class="id">id</span> <span class="id">v</span> <span class="id">ty</span> <span class="id">m</span> <span class="id">v</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FCop.html#sem_incrdecr">sem_incrdecr</a></span> <span class="id"><a href="Cop_fp.html#cenv">cenv</a></span> <span class="id"><a href="Cop_fp.html#id">id</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="id"><a href="Cop_fp.html#ty">ty</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">fp</span>, <span class="id"><a href="Cop_fp.html#sem_incrdecr_fp">sem_incrdecr_fp</a></span> <span class="id"><a href="Cop_fp.html#cenv">cenv</a></span> <span class="id"><a href="Cop_fp.html#id">id</a></span> <span class="id"><a href="Cop_fp.html#v">v</a></span> <span class="id"><a href="Cop_fp.html#ty">ty</a></span> <span class="id"><a href="Cop_fp.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Cop_fp.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6507')">Proof.</div>
<div class="proofscript" id="proof6507">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FCop.html#sem_incrdecr">sem_incrdecr</a></span>, <span class="id"><a href="Cop_fp.html#sem_incrdecr_fp">sem_incrdecr_fp</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">id</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[ <span class="tactic">eapply</span> <span class="id"><a href="Cop_fp.html#sem_add_sem_add_fp">sem_add_sem_add_fp</a></span> | <span class="tactic">eapply</span> <span class="id"><a href="Cop_fp.html#sem_sub_sem_sub_fp">sem_sub_sem_sub_fp</a></span> ]; <span class="tactic">eauto</span>.<br/>
Qed.</div>
</div>
<div class="footer"><hr/>Generated by coq2html</div>
</body>
</html>
