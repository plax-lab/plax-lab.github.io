<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module Footprint</title>
<meta name="description" content="Documentation of Coq module Footprint" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module Footprint</h1>
<div class="coq">
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Coqlib.html">Coqlib</a></span> <span class="id"><a href="Axioms.html">Axioms</a></span> <span class="id"><a href="Maps.html">Maps</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Values.html">Values</a></span> <span class="id"><a href="Blockset.html">Blockset</a></span>.<br/>
<br/>
<h1> Footprint </h1>
<div class="doc">This file defines location set and footprint </div>
<br/>
<h2> Location set </h2>
<span class="kwd">Module</span> <span class="kwd">Type</span> <span class="id"><a name="LocsType">LocsType</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Parameter</span> <span class="id"><a name="LocsType.t">t</a></span> : <span class="kwd">Type</span>.<br/>
&nbsp;&nbsp;<span class="kwd">Parameter</span> <span class="id"><a name="LocsType.belongsto">belongsto</a></span> : <span class="id"><a href="Footprint.html#LocsType.t">t</a></span> -&gt; <span class="id"><a href="Values.html#block">block</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> -&gt; <span class="kwd">Prop</span>.<br/>
&nbsp;&nbsp;<span class="kwd">Parameter</span> <span class="id"><a name="LocsType.eq">eq</a></span> : <span class="id"><a href="Footprint.html#LocsType.t">t</a></span> -&gt; <span class="id"><a href="Footprint.html#LocsType.t">t</a></span> -&gt; <span class="kwd">Prop</span>.<br/>
&nbsp;&nbsp;<span class="kwd">Parameter</span> <span class="id"><a name="LocsType.emp">emp</a></span> : <span class="id"><a href="Footprint.html#LocsType.t">t</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Parameter</span> <span class="id"><a name="LocsType.univ">univ</a></span> : <span class="id"><a href="Footprint.html#LocsType.t">t</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Parameter</span> <span class="id"><a name="LocsType.subset">subset</a></span> : <span class="id"><a href="Footprint.html#LocsType.t">t</a></span> -&gt; <span class="id"><a href="Footprint.html#LocsType.t">t</a></span> -&gt; <span class="kwd">Prop</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Axiom</span> <span class="id"><a name="LocsType.belongsto_eq">belongsto_eq</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#LocsType.eq">eq</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#y">y</a></span> &lt;-&gt; (<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span>, <span class="id"><a href="Footprint.html#LocsType.belongsto">belongsto</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#b">b</a></span> <span class="id"><a href="Footprint.html#ofs">ofs</a></span> &lt;-&gt; <span class="id"><a href="Footprint.html#LocsType.belongsto">belongsto</a></span> <span class="id"><a href="Footprint.html#y">y</a></span> <span class="id"><a href="Footprint.html#b">b</a></span> <span class="id"><a href="Footprint.html#ofs">ofs</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">Axiom</span> <span class="id"><a name="LocsType.belongsto_subset">belongsto_subset</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#LocsType.subset">subset</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#y">y</a></span> &lt;-&gt; (<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span>, <span class="id"><a href="Footprint.html#LocsType.belongsto">belongsto</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#b">b</a></span> <span class="id"><a href="Footprint.html#ofs">ofs</a></span> -&gt; <span class="id"><a href="Footprint.html#LocsType.belongsto">belongsto</a></span> <span class="id"><a href="Footprint.html#y">y</a></span> <span class="id"><a href="Footprint.html#b">b</a></span> <span class="id"><a href="Footprint.html#ofs">ofs</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">Axiom</span> <span class="id"><a name="LocsType.eq_subset">eq_subset</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#LocsType.eq">eq</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#y">y</a></span> &lt;-&gt; (<span class="id"><a href="Footprint.html#LocsType.subset">subset</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#y">y</a></span> /\ <span class="id"><a href="Footprint.html#LocsType.subset">subset</a></span> <span class="id"><a href="Footprint.html#y">y</a></span> <span class="id"><a href="Footprint.html#x">x</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">Parameter</span> <span class="id"><a name="LocsType.union">union</a></span> : <span class="id"><a href="Footprint.html#LocsType.t">t</a></span> -&gt; <span class="id"><a href="Footprint.html#LocsType.t">t</a></span> -&gt; <span class="id"><a href="Footprint.html#LocsType.t">t</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Parameter</span> <span class="id"><a name="LocsType.intersect">intersect</a></span> : <span class="id"><a href="Footprint.html#LocsType.t">t</a></span> -&gt; <span class="id"><a href="Footprint.html#LocsType.t">t</a></span> -&gt; <span class="id"><a href="Footprint.html#LocsType.t">t</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Parameter</span> <span class="id"><a name="LocsType.complement">complement</a></span> : <span class="id"><a href="Footprint.html#LocsType.t">t</a></span> -&gt; <span class="id"><a href="Footprint.html#LocsType.t">t</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Axiom</span> <span class="id"><a name="LocsType.subset_emp">subset_emp</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Footprint.html#LocsType.subset">subset</a></span> <span class="id"><a href="Footprint.html#LocsType.emp">emp</a></span> <span class="id"><a href="Footprint.html#x">x</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Axiom</span> <span class="id"><a name="LocsType.subset_univ">subset_univ</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Footprint.html#LocsType.subset">subset</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#LocsType.univ">univ</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Axiom</span> <span class="id"><a name="LocsType.subset_refl">subset_refl</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Footprint.html#LocsType.subset">subset</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#x">x</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Axiom</span> <span class="id"><a name="LocsType.subset_trans">subset_trans</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="Footprint.html#LocsType.subset">subset</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#y">y</a></span> -&gt; <span class="id"><a href="Footprint.html#LocsType.subset">subset</a></span> <span class="id"><a href="Footprint.html#y">y</a></span> <span class="id"><a href="Footprint.html#z">z</a></span> -&gt; <span class="id"><a href="Footprint.html#LocsType.subset">subset</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#z">z</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Axiom</span> <span class="id"><a name="LocsType.subset_antisym">subset_antisym</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="Footprint.html#LocsType.subset">subset</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#y">y</a></span> -&gt; <span class="id"><a href="Footprint.html#LocsType.subset">subset</a></span> <span class="id"><a href="Footprint.html#y">y</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> -&gt; <span class="id"><a href="Footprint.html#LocsType.eq">eq</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#y">y</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Axiom</span> <span class="id"><a name="LocsType.union_emp">union_emp</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Footprint.html#LocsType.eq">eq</a></span> (<span class="id"><a href="Footprint.html#LocsType.union">union</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#LocsType.emp">emp</a></span>) <span class="id"><a href="Footprint.html#x">x</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Axiom</span> <span class="id"><a name="LocsType.union_univ">union_univ</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Footprint.html#LocsType.eq">eq</a></span> (<span class="id"><a href="Footprint.html#LocsType.union">union</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#LocsType.univ">univ</a></span>) <span class="id"><a href="Footprint.html#LocsType.univ">univ</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Axiom</span> <span class="id"><a name="LocsType.union_sym">union_sym</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="Footprint.html#LocsType.eq">eq</a></span> (<span class="id"><a href="Footprint.html#LocsType.union">union</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#y">y</a></span>) (<span class="id"><a href="Footprint.html#LocsType.union">union</a></span> <span class="id"><a href="Footprint.html#y">y</a></span> <span class="id"><a href="Footprint.html#x">x</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">Axiom</span> <span class="id"><a name="LocsType.union_refl">union_refl</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Footprint.html#LocsType.eq">eq</a></span> (<span class="id"><a href="Footprint.html#LocsType.union">union</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#x">x</a></span>) <span class="id"><a href="Footprint.html#x">x</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Axiom</span> <span class="id"><a name="LocsType.union_assoc">union_assoc</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="Footprint.html#LocsType.eq">eq</a></span> (<span class="id"><a href="Footprint.html#LocsType.union">union</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> (<span class="id"><a href="Footprint.html#LocsType.union">union</a></span> <span class="id"><a href="Footprint.html#y">y</a></span> <span class="id"><a href="Footprint.html#z">z</a></span>)) (<span class="id"><a href="Footprint.html#LocsType.union">union</a></span> (<span class="id"><a href="Footprint.html#LocsType.union">union</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#y">y</a></span>) <span class="id"><a href="Footprint.html#z">z</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">Axiom</span> <span class="id"><a name="LocsType.union_incr">union_incr</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="Footprint.html#LocsType.subset">subset</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> (<span class="id"><a href="Footprint.html#LocsType.union">union</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#y">y</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">Axiom</span> <span class="id"><a name="LocsType.union_decr">union_decr</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="Footprint.html#LocsType.subset">subset</a></span> (<span class="id"><a href="Footprint.html#LocsType.union">union</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#y">y</a></span>) <span class="id"><a href="Footprint.html#z">z</a></span> -&gt; <span class="id"><a href="Footprint.html#LocsType.subset">subset</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#z">z</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Axiom</span> <span class="id"><a name="LocsType.union_subset">union_subset</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="Footprint.html#LocsType.subset">subset</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#z">z</a></span> -&gt; <span class="id"><a href="Footprint.html#LocsType.subset">subset</a></span> <span class="id"><a href="Footprint.html#y">y</a></span> <span class="id"><a href="Footprint.html#z">z</a></span> -&gt; <span class="id"><a href="Footprint.html#LocsType.subset">subset</a></span> (<span class="id"><a href="Footprint.html#LocsType.union">union</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#y">y</a></span>) <span class="id"><a href="Footprint.html#z">z</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Axiom</span> <span class="id"><a name="LocsType.intersect_emp">intersect_emp</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Footprint.html#LocsType.eq">eq</a></span> (<span class="id"><a href="Footprint.html#LocsType.intersect">intersect</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#LocsType.emp">emp</a></span>) <span class="id"><a href="Footprint.html#LocsType.emp">emp</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Axiom</span> <span class="id"><a name="LocsType.intersect_univ">intersect_univ</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Footprint.html#LocsType.eq">eq</a></span> (<span class="id"><a href="Footprint.html#LocsType.intersect">intersect</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#LocsType.univ">univ</a></span>) <span class="id"><a href="Footprint.html#x">x</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Axiom</span> <span class="id"><a name="LocsType.intersect_sym">intersect_sym</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="Footprint.html#LocsType.eq">eq</a></span> (<span class="id"><a href="Footprint.html#LocsType.intersect">intersect</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#y">y</a></span>) (<span class="id"><a href="Footprint.html#LocsType.intersect">intersect</a></span> <span class="id"><a href="Footprint.html#y">y</a></span> <span class="id"><a href="Footprint.html#x">x</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">Axiom</span> <span class="id"><a name="LocsType.intersect_refl">intersect_refl</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Footprint.html#LocsType.eq">eq</a></span> (<span class="id"><a href="Footprint.html#LocsType.intersect">intersect</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#x">x</a></span>) <span class="id"><a href="Footprint.html#x">x</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Axiom</span> <span class="id"><a name="LocsType.intersect_assoc">intersect_assoc</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="Footprint.html#LocsType.eq">eq</a></span> (<span class="id"><a href="Footprint.html#LocsType.intersect">intersect</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> (<span class="id"><a href="Footprint.html#LocsType.intersect">intersect</a></span> <span class="id"><a href="Footprint.html#y">y</a></span> <span class="id"><a href="Footprint.html#z">z</a></span>)) (<span class="id"><a href="Footprint.html#LocsType.intersect">intersect</a></span> (<span class="id"><a href="Footprint.html#LocsType.intersect">intersect</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#y">y</a></span>) <span class="id"><a href="Footprint.html#z">z</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">Axiom</span> <span class="id"><a name="LocsType.intersect_incr">intersect_incr</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="Footprint.html#LocsType.subset">subset</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> (<span class="id"><a href="Footprint.html#LocsType.intersect">intersect</a></span> <span class="id"><a href="Footprint.html#y">y</a></span> <span class="id"><a href="Footprint.html#z">z</a></span>) -&gt; <span class="id"><a href="Footprint.html#LocsType.subset">subset</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#y">y</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Axiom</span> <span class="id"><a name="LocsType.intersect_decr">intersect_decr</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="Footprint.html#LocsType.subset">subset</a></span> (<span class="id"><a href="Footprint.html#LocsType.intersect">intersect</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#y">y</a></span>) <span class="id"><a href="Footprint.html#x">x</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Axiom</span> <span class="id"><a name="LocsType.intersect_subset">intersect_subset</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="Footprint.html#LocsType.subset">subset</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#y">y</a></span> -&gt; <span class="id"><a href="Footprint.html#LocsType.subset">subset</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#z">z</a></span> -&gt; <span class="id"><a href="Footprint.html#LocsType.subset">subset</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> (<span class="id"><a href="Footprint.html#LocsType.intersect">intersect</a></span> <span class="id"><a href="Footprint.html#y">y</a></span> <span class="id"><a href="Footprint.html#z">z</a></span>).<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Axiom</span> <span class="id"><a name="LocsType.union_intersect_distr">union_intersect_distr</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#LocsType.eq">eq</a></span> (<span class="id"><a href="Footprint.html#LocsType.union">union</a></span> (<span class="id"><a href="Footprint.html#LocsType.intersect">intersect</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#z">z</a></span>) (<span class="id"><a href="Footprint.html#LocsType.intersect">intersect</a></span> <span class="id"><a href="Footprint.html#y">y</a></span> <span class="id"><a href="Footprint.html#z">z</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Footprint.html#LocsType.intersect">intersect</a></span> (<span class="id"><a href="Footprint.html#LocsType.union">union</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#y">y</a></span>) <span class="id"><a href="Footprint.html#z">z</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Axiom</span> <span class="id"><a name="LocsType.complement_emp">complement_emp</a></span>: <span class="id"><a href="Footprint.html#LocsType.eq">eq</a></span> (<span class="id"><a href="Footprint.html#LocsType.complement">complement</a></span> <span class="id"><a href="Footprint.html#LocsType.emp">emp</a></span>) <span class="id"><a href="Footprint.html#LocsType.univ">univ</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Axiom</span> <span class="id"><a name="LocsType.complement_univ">complement_univ</a></span>: <span class="id"><a href="Footprint.html#LocsType.eq">eq</a></span> (<span class="id"><a href="Footprint.html#LocsType.complement">complement</a></span> <span class="id"><a href="Footprint.html#LocsType.univ">univ</a></span>) <span class="id"><a href="Footprint.html#LocsType.emp">emp</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Axiom</span> <span class="id"><a name="LocsType.complement_involution">complement_involution</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Footprint.html#LocsType.eq">eq</a></span> (<span class="id"><a href="Footprint.html#LocsType.complement">complement</a></span> (<span class="id"><a href="Footprint.html#LocsType.complement">complement</a></span> <span class="id"><a href="Footprint.html#x">x</a></span>)) <span class="id"><a href="Footprint.html#x">x</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Axiom</span> <span class="id"><a name="LocsType.complement_union">complement_union</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Footprint.html#LocsType.eq">eq</a></span> (<span class="id"><a href="Footprint.html#LocsType.union">union</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> (<span class="id"><a href="Footprint.html#LocsType.complement">complement</a></span> <span class="id"><a href="Footprint.html#x">x</a></span>)) <span class="id"><a href="Footprint.html#LocsType.univ">univ</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Axiom</span> <span class="id"><a name="LocsType.complement_intersect">complement_intersect</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Footprint.html#LocsType.eq">eq</a></span> (<span class="id"><a href="Footprint.html#LocsType.intersect">intersect</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> (<span class="id"><a href="Footprint.html#LocsType.complement">complement</a></span> <span class="id"><a href="Footprint.html#x">x</a></span>)) <span class="id"><a href="Footprint.html#LocsType.emp">emp</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Axiom</span> <span class="id"><a name="LocsType.complement_contrapositive">complement_contrapositive</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="Footprint.html#LocsType.subset">subset</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#y">y</a></span> -&gt; <span class="id"><a href="Footprint.html#LocsType.subset">subset</a></span> (<span class="id"><a href="Footprint.html#LocsType.complement">complement</a></span> <span class="id"><a href="Footprint.html#y">y</a></span>) (<span class="id"><a href="Footprint.html#LocsType.complement">complement</a></span> <span class="id"><a href="Footprint.html#x">x</a></span>).<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Axiom</span> <span class="id"><a name="LocsType.demorgan_union">demorgan_union</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="Footprint.html#LocsType.eq">eq</a></span> (<span class="id"><a href="Footprint.html#LocsType.complement">complement</a></span> (<span class="id"><a href="Footprint.html#LocsType.union">union</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#y">y</a></span>)) (<span class="id"><a href="Footprint.html#LocsType.intersect">intersect</a></span> (<span class="id"><a href="Footprint.html#LocsType.complement">complement</a></span> <span class="id"><a href="Footprint.html#x">x</a></span>) (<span class="id"><a href="Footprint.html#LocsType.complement">complement</a></span> <span class="id"><a href="Footprint.html#y">y</a></span>)).<br/>
&nbsp;&nbsp;<span class="kwd">Axiom</span> <span class="id"><a name="LocsType.demorgan_intersect">demorgan_intersect</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="Footprint.html#LocsType.eq">eq</a></span> (<span class="id"><a href="Footprint.html#LocsType.complement">complement</a></span> (<span class="id"><a href="Footprint.html#LocsType.intersect">intersect</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#y">y</a></span>)) (<span class="id"><a href="Footprint.html#LocsType.union">union</a></span> (<span class="id"><a href="Footprint.html#LocsType.complement">complement</a></span> <span class="id"><a href="Footprint.html#x">x</a></span>) (<span class="id"><a href="Footprint.html#LocsType.complement">complement</a></span> <span class="id"><a href="Footprint.html#y">y</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
<span class="kwd">End</span> <span class="id"><a href="Footprint.html#LocsType">LocsType</a></span>.<br/>
<br/>
<br/>
<br/>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="Locs">Locs</a></span> &lt;: <span class="id"><a href="Footprint.html#LocsType">LocsType</a></span>.<br/>
<br/>
<div class="doc">Location is defined as boolean valued function of block and offset </div>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="Locs.t">t</a></span> : <span class="kwd">Type</span> := <span class="id"><a href="Values.html#block">block</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="Locs.belongsto">belongsto</a></span> (<span class="id">ls</span>:<span class="id"><a href="Footprint.html#Locs.t">t</a></span>) (<span class="id">b</span>:<span class="id"><a href="Values.html#block">block</a></span>) (<span class="id">ofs</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) : <span class="kwd">Prop</span> := <span class="id"><a href="Footprint.html#ls">ls</a></span> <span class="id"><a href="Footprint.html#b">b</a></span> <span class="id"><a href="Footprint.html#ofs">ofs</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="Locs.eq">eq</a></span> (<span class="id">ls1</span> <span class="id">ls2</span>: <span class="id"><a href="Footprint.html#Locs.t">t</a></span>): <span class="kwd">Prop</span> := <span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span>, <span class="id"><a href="Footprint.html#ls1">ls1</a></span> <span class="id"><a href="Footprint.html#b">b</a></span> <span class="id"><a href="Footprint.html#ofs">ofs</a></span> = <span class="id"><a href="Footprint.html#ls2">ls2</a></span> <span class="id"><a href="Footprint.html#b">b</a></span> <span class="id"><a href="Footprint.html#ofs">ofs</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="Locs.locs_eq">locs_eq</a></span>: <span class="kwd">forall</span> <span class="id">ls1</span> <span class="id">ls2</span>,<span class="id"><a href="Footprint.html#Locs.eq">eq</a></span> <span class="id"><a href="Footprint.html#ls1">ls1</a></span> <span class="id"><a href="Footprint.html#ls2">ls2</a></span> -&gt; <span class="id"><a href="Footprint.html#ls1">ls1</a></span>=<span class="id"><a href="Footprint.html#ls2">ls2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5704')">Proof.</div>
<div class="proofscript" id="proof5704">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#Locs.eq">eq</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">assert</span>(<span class="kwd">forall</span> <span class="id">b</span>:<span class="id"><a href="Values.html#block">block</a></span>,<span class="id">ls1</span> <span class="id"><a href="Footprint.html#b">b</a></span>=<span class="id">ls2</span> <span class="id"><a href="Footprint.html#b">b</a></span>). <span class="tactic">intro</span>;<span class="id">specialize</span> (<span class="id">H</span> <span class="id">b</span>); <span class="tactic">apply</span> <span class="id"><a href="Axioms.html#functional_extensionality">functional_extensionality</a></span>;<span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="Axioms.html#functional_extensionality">functional_extensionality</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="Locs.eq_refl">eq_refl</a></span>: <span class="kwd">forall</span> <span class="id">ls</span>, <span class="id"><a href="Footprint.html#Locs.eq">eq</a></span> <span class="id"><a href="Footprint.html#ls">ls</a></span> <span class="id"><a href="Footprint.html#ls">ls</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5705')">Proof.</div>
<div class="proofscript" id="proof5705">
 <span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#Locs.eq">eq</a></span>. <span class="tactic">auto</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="Locs.eq_sym">eq_sym</a></span>: <span class="kwd">forall</span> <span class="id">ls1</span> <span class="id">ls2</span>, <span class="id"><a href="Footprint.html#Locs.eq">eq</a></span> <span class="id"><a href="Footprint.html#ls1">ls1</a></span> <span class="id"><a href="Footprint.html#ls2">ls2</a></span> -&gt; <span class="id"><a href="Footprint.html#Locs.eq">eq</a></span> <span class="id"><a href="Footprint.html#ls2">ls2</a></span> <span class="id"><a href="Footprint.html#ls1">ls1</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5706')">Proof.</div>
<div class="proofscript" id="proof5706">
 <span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#Locs.eq">eq</a></span>. <span class="tactic">auto</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="Locs.eq_trans">eq_trans</a></span>: <span class="kwd">forall</span> <span class="id">ls1</span> <span class="id">ls2</span> <span class="id">ls3</span>, <span class="id"><a href="Footprint.html#Locs.eq">eq</a></span> <span class="id"><a href="Footprint.html#ls1">ls1</a></span> <span class="id"><a href="Footprint.html#ls2">ls2</a></span> -&gt; <span class="id"><a href="Footprint.html#Locs.eq">eq</a></span> <span class="id"><a href="Footprint.html#ls2">ls2</a></span> <span class="id"><a href="Footprint.html#ls3">ls3</a></span> -&gt; <span class="id"><a href="Footprint.html#Locs.eq">eq</a></span> <span class="id"><a href="Footprint.html#ls1">ls1</a></span> <span class="id"><a href="Footprint.html#ls3">ls3</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5707')">Proof.</div>
<div class="proofscript" id="proof5707">
 <span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#Locs.eq">eq</a></span>. <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id">H</span>. <span class="tactic">auto</span>. Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="Locs.emp">emp</a></span> : <span class="id"><a href="Footprint.html#Locs.t">t</a></span> := <span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="Locs.univ">univ</a></span> : <span class="id"><a href="Footprint.html#Locs.t">t</a></span> := <span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="Locs.subset">subset</a></span> (<span class="id">ls1</span> <span class="id">ls2</span>: <span class="id"><a href="Footprint.html#Locs.t">t</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span>, <span class="id"><a href="Footprint.html#Locs.belongsto">belongsto</a></span> <span class="id"><a href="Footprint.html#ls1">ls1</a></span> <span class="id"><a href="Footprint.html#b">b</a></span> <span class="id"><a href="Footprint.html#ofs">ofs</a></span> -&gt; <span class="id"><a href="Footprint.html#Locs.belongsto">belongsto</a></span> <span class="id"><a href="Footprint.html#ls2">ls2</a></span> <span class="id"><a href="Footprint.html#b">b</a></span> <span class="id"><a href="Footprint.html#ofs">ofs</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="Locs.belongsto_emp">belongsto_emp</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span>, <span class="id"><a href="Footprint.html#Locs.belongsto">belongsto</a></span> <span class="id"><a href="Footprint.html#Locs.emp">emp</a></span> <span class="id"><a href="Footprint.html#b">b</a></span> <span class="id"><a href="Footprint.html#ofs">ofs</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5708')">Proof.</div>
<div class="proofscript" id="proof5708">
 <span class="tactic">firstorder</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="Locs.belongsto_univ">belongsto_univ</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span>, <span class="id"><a href="Footprint.html#Locs.belongsto">belongsto</a></span> <span class="id"><a href="Footprint.html#Locs.univ">univ</a></span> <span class="id"><a href="Footprint.html#b">b</a></span> <span class="id"><a href="Footprint.html#ofs">ofs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5709')">Proof.</div>
<div class="proofscript" id="proof5709">
 <span class="tactic">firstorder</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="Locs.belongsto_eq">belongsto_eq</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#Locs.eq">eq</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#y">y</a></span> &lt;-&gt; (<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span>, <span class="id"><a href="Footprint.html#Locs.belongsto">belongsto</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#b">b</a></span> <span class="id"><a href="Footprint.html#ofs">ofs</a></span> &lt;-&gt; <span class="id"><a href="Footprint.html#Locs.belongsto">belongsto</a></span> <span class="id"><a href="Footprint.html#y">y</a></span> <span class="id"><a href="Footprint.html#b">b</a></span> <span class="id"><a href="Footprint.html#ofs">ofs</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5710')">Proof.</div>
<div class="proofscript" id="proof5710">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#Locs.belongsto">belongsto</a></span>, <span class="id"><a href="Footprint.html#Locs.eq">eq</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id">H</span>. <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">H</span> <span class="id">b</span> <span class="id">ofs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">x</span> <span class="id">b</span> <span class="id">ofs</span>), (<span class="id">y</span> <span class="id">b</span> <span class="id">ofs</span>); <span class="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [<span class="id">H1</span> <span class="id">H2</span>]; <span class="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="Locs.belongsto_subset">belongsto_subset</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#Locs.subset">subset</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#y">y</a></span> &lt;-&gt; (<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span>, <span class="id"><a href="Footprint.html#Locs.belongsto">belongsto</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#b">b</a></span> <span class="id"><a href="Footprint.html#ofs">ofs</a></span> -&gt; <span class="id"><a href="Footprint.html#Locs.belongsto">belongsto</a></span> <span class="id"><a href="Footprint.html#y">y</a></span> <span class="id"><a href="Footprint.html#b">b</a></span> <span class="id"><a href="Footprint.html#ofs">ofs</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5711')">Proof.</div>
<div class="proofscript" id="proof5711">
 <span class="tactic">firstorder</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="Locs.eq_subset">eq_subset</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#Locs.eq">eq</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#y">y</a></span> &lt;-&gt; (<span class="id"><a href="Footprint.html#Locs.subset">subset</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#y">y</a></span> /\ <span class="id"><a href="Footprint.html#Locs.subset">subset</a></span> <span class="id"><a href="Footprint.html#y">y</a></span> <span class="id"><a href="Footprint.html#x">x</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5712')">Proof.</div>
<div class="proofscript" id="proof5712">
 <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#Locs.belongsto_eq">belongsto_eq</a></span>. <span class="tactic">firstorder</span>. Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="Locs.belongsto_dec">belongsto_dec</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">b</span> <span class="id">ofs</span>, {<span class="id"><a href="Footprint.html#Locs.belongsto">belongsto</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#b">b</a></span> <span class="id"><a href="Footprint.html#ofs">ofs</a></span>} + {~ <span class="id"><a href="Footprint.html#Locs.belongsto">belongsto</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#b">b</a></span> <span class="id"><a href="Footprint.html#ofs">ofs</a></span>}.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5713')">Proof.</div>
<div class="proofscript" id="proof5713">
 <span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#Locs.belongsto">belongsto</a></span>. <span class="tactic">destruct</span> (<span class="id">x</span> <span class="id">b</span> <span class="id">ofs</span>); <span class="tactic">auto</span>. Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Local</span> <span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">belongsto_eq</span> <span class="id">belongsto_subset</span> <span class="id">eq_subset</span> : <span class="id">locs</span>.<br/>
<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="Locs.union">union</a></span> (<span class="id">ls1</span> <span class="id">ls2</span>: <span class="id"><a href="Footprint.html#Locs.t">t</a></span>) : <span class="id"><a href="Footprint.html#Locs.t">t</a></span> := <span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="kwd">fun</span> <span class="id">ofs</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#orb">orb</a></span> (<span class="id"><a href="Footprint.html#ls1">ls1</a></span> <span class="id"><a href="Footprint.html#b">b</a></span> <span class="id"><a href="Footprint.html#ofs">ofs</a></span>) (<span class="id"><a href="Footprint.html#ls2">ls2</a></span> <span class="id"><a href="Footprint.html#b">b</a></span> <span class="id"><a href="Footprint.html#ofs">ofs</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="Locs.intersect">intersect</a></span> (<span class="id">ls1</span> <span class="id">ls2</span>: <span class="id"><a href="Footprint.html#Locs.t">t</a></span>) : <span class="id"><a href="Footprint.html#Locs.t">t</a></span> := <span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="kwd">fun</span> <span class="id">ofs</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb">andb</a></span> (<span class="id"><a href="Footprint.html#ls1">ls1</a></span> <span class="id"><a href="Footprint.html#b">b</a></span> <span class="id"><a href="Footprint.html#ofs">ofs</a></span>) (<span class="id"><a href="Footprint.html#ls2">ls2</a></span> <span class="id"><a href="Footprint.html#b">b</a></span> <span class="id"><a href="Footprint.html#ofs">ofs</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="Locs.complement">complement</a></span> (<span class="id">ls</span>: <span class="id"><a href="Footprint.html#Locs.t">t</a></span>) : <span class="id"><a href="Footprint.html#Locs.t">t</a></span> := <span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="kwd">fun</span> <span class="id">ofs</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> (<span class="id"><a href="Footprint.html#ls">ls</a></span> <span class="id"><a href="Footprint.html#b">b</a></span> <span class="id"><a href="Footprint.html#ofs">ofs</a></span>).<br/>
<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="Locs.diff">diff</a></span> (<span class="id">ls1</span> <span class="id">ls2</span> : <span class="id"><a href="Footprint.html#Locs.t">t</a></span>) : <span class="id"><a href="Footprint.html#Locs.t">t</a></span> := <span class="id"><a href="Footprint.html#Locs.intersect">intersect</a></span> <span class="id"><a href="Footprint.html#ls1">ls1</a></span> (<span class="id"><a href="Footprint.html#Locs.complement">complement</a></span> <span class="id"><a href="Footprint.html#ls2">ls2</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="Locs.sym_diff">sym_diff</a></span> (<span class="id">ls1</span> <span class="id">ls2</span>: <span class="id"><a href="Footprint.html#Locs.t">t</a></span>) : <span class="id"><a href="Footprint.html#Locs.t">t</a></span> := <span class="id"><a href="Footprint.html#Locs.union">union</a></span> (<span class="id"><a href="Footprint.html#Locs.diff">diff</a></span> <span class="id"><a href="Footprint.html#ls1">ls1</a></span> <span class="id"><a href="Footprint.html#ls2">ls2</a></span>) (<span class="id"><a href="Footprint.html#Locs.diff">diff</a></span> <span class="id"><a href="Footprint.html#ls2">ls2</a></span> <span class="id"><a href="Footprint.html#ls1">ls1</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="Locs.smile">smile</a></span> (<span class="id">ls1</span> <span class="id">ls2</span> : <span class="id"><a href="Footprint.html#Locs.t">t</a></span>) : <span class="kwd">Prop</span> := <span class="id"><a href="Footprint.html#Locs.eq">eq</a></span> (<span class="id"><a href="Footprint.html#Locs.intersect">intersect</a></span> <span class="id"><a href="Footprint.html#ls1">ls1</a></span> <span class="id"><a href="Footprint.html#ls2">ls2</a></span>) <span class="id"><a href="Footprint.html#Locs.emp">emp</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="Locs.nonemp">nonemp</a></span> (<span class="id">ls</span>: <span class="id"><a href="Footprint.html#Locs.t">t</a></span>) : <span class="kwd">Prop</span> :=  <span class="id">exists</span> <span class="id">b</span> <span class="id">ofs</span>, <span class="id"><a href="Footprint.html#Locs.belongsto">belongsto</a></span> <span class="id"><a href="Footprint.html#ls">ls</a></span> <span class="id"><a href="Footprint.html#b">b</a></span> <span class="id"><a href="Footprint.html#ofs">ofs</a></span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="Locs.blocks">blocks</a></span> (<span class="id">ls</span>: <span class="id"><a href="Footprint.html#Locs.t">t</a></span>): <span class="id"><a href="Blockset.html#Bset.t">Bset.t</a></span> := <span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id">exists</span> <span class="id">ofs</span>, <span class="id"><a href="Footprint.html#Locs.belongsto">belongsto</a></span> <span class="id"><a href="Footprint.html#ls">ls</a></span> <span class="id"><a href="Footprint.html#b">b</a></span> <span class="id"><a href="Footprint.html#ofs">ofs</a></span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Ltac</span> <span class="id">unfolds</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#Locs.sym_diff">sym_diff</a></span>, <span class="id"><a href="Footprint.html#Locs.diff">diff</a></span>, <span class="id"><a href="Footprint.html#Locs.smile">smile</a></span>, <span class="id"><a href="Footprint.html#Locs.nonemp">nonemp</a></span>, <span class="id"><a href="Footprint.html#Locs.subset">subset</a></span>, <span class="id"><a href="Footprint.html#Locs.belongsto">belongsto</a></span>, <span class="id"><a href="Footprint.html#Locs.eq">eq</a></span>, <span class="id"><a href="Footprint.html#Locs.emp">emp</a></span>, <span class="id"><a href="Footprint.html#Locs.univ">univ</a></span>, <span class="id"><a href="Footprint.html#Locs.union">union</a></span>, <span class="id"><a href="Footprint.html#Locs.intersect">intersect</a></span>, <span class="id"><a href="Footprint.html#Locs.complement">complement</a></span> <span class="kwd">in</span> *.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="Locs.subset_emp">subset_emp</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Footprint.html#Locs.subset">subset</a></span> <span class="id"><a href="Footprint.html#Locs.emp">emp</a></span> <span class="id"><a href="Footprint.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5714')">Proof.</div>
<div class="proofscript" id="proof5714">
 <span class="tactic">firstorder</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="Locs.subset_univ">subset_univ</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Footprint.html#Locs.subset">subset</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#Locs.univ">univ</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5715')">Proof.</div>
<div class="proofscript" id="proof5715">
 <span class="tactic">firstorder</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="Locs.subset_refl">subset_refl</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Footprint.html#Locs.subset">subset</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5716')">Proof.</div>
<div class="proofscript" id="proof5716">
 <span class="tactic">firstorder</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="Locs.subset_trans">subset_trans</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="Footprint.html#Locs.subset">subset</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#y">y</a></span> -&gt; <span class="id"><a href="Footprint.html#Locs.subset">subset</a></span> <span class="id"><a href="Footprint.html#y">y</a></span> <span class="id"><a href="Footprint.html#z">z</a></span> -&gt; <span class="id"><a href="Footprint.html#Locs.subset">subset</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#z">z</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5717')">Proof.</div>
<div class="proofscript" id="proof5717">
 <span class="tactic">firstorder</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="Locs.subset_antisym">subset_antisym</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="Footprint.html#Locs.subset">subset</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#y">y</a></span> -&gt; <span class="id"><a href="Footprint.html#Locs.subset">subset</a></span> <span class="id"><a href="Footprint.html#y">y</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> -&gt; <span class="id"><a href="Footprint.html#Locs.eq">eq</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5718')">Proof.</div>
<div class="proofscript" id="proof5718">
 <span class="comment">(*&nbsp;firstorder&nbsp;with&nbsp;locs.&nbsp;*)</span> <span class="tactic">intros</span>; <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#Locs.eq_subset">eq_subset</a></span>. <span class="tactic">auto</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Local</span> <span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">subset_emp</span> <span class="id">subset_univ</span> <span class="id">subset_refl</span> <span class="id">subset_trans</span> <span class="id">subset_antisym</span> : <span class="id">locs</span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="Locs.union_emp">union_emp</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Footprint.html#Locs.eq">eq</a></span> (<span class="id"><a href="Footprint.html#Locs.union">union</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#Locs.emp">emp</a></span>) <span class="id"><a href="Footprint.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5719')">Proof.</div>
<div class="proofscript" id="proof5719">
 <span class="id">unfolds</span>. <span class="tactic">firstorder</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="Locs.union_univ">union_univ</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Footprint.html#Locs.eq">eq</a></span> (<span class="id"><a href="Footprint.html#Locs.union">union</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#Locs.univ">univ</a></span>) <span class="id"><a href="Footprint.html#Locs.univ">univ</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5720')">Proof.</div>
<div class="proofscript" id="proof5720">
 <span class="id">unfolds</span>. <span class="tactic">firstorder</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="Locs.union_sym">union_sym</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="Footprint.html#Locs.eq">eq</a></span> (<span class="id"><a href="Footprint.html#Locs.union">union</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#y">y</a></span>) (<span class="id"><a href="Footprint.html#Locs.union">union</a></span> <span class="id"><a href="Footprint.html#y">y</a></span> <span class="id"><a href="Footprint.html#x">x</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5721')">Proof.</div>
<div class="proofscript" id="proof5721">
 <span class="id">unfolds</span>. <span class="tactic">firstorder</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="Locs.union_sym_eq">union_sym_eq</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<span class="id"><a href="Footprint.html#Locs.union">union</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#y">y</a></span> = <span class="id"><a href="Footprint.html#Locs.union">union</a></span> <span class="id"><a href="Footprint.html#y">y</a></span> <span class="id"><a href="Footprint.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5722')">Proof.</div>
<div class="proofscript" id="proof5722">
 <span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.locs_eq">locs_eq</a></span>. <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.union_sym">union_sym</a></span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="Locs.union_refl">union_refl</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Footprint.html#Locs.eq">eq</a></span> (<span class="id"><a href="Footprint.html#Locs.union">union</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#x">x</a></span>) <span class="id"><a href="Footprint.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5723')">Proof.</div>
<div class="proofscript" id="proof5723">
 <span class="id">unfolds</span>. <span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_diag">orb_diag</a></span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="Locs.union_assoc">union_assoc</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="Footprint.html#Locs.eq">eq</a></span> (<span class="id"><a href="Footprint.html#Locs.union">union</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> (<span class="id"><a href="Footprint.html#Locs.union">union</a></span> <span class="id"><a href="Footprint.html#y">y</a></span> <span class="id"><a href="Footprint.html#z">z</a></span>)) (<span class="id"><a href="Footprint.html#Locs.union">union</a></span> (<span class="id"><a href="Footprint.html#Locs.union">union</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#y">y</a></span>) <span class="id"><a href="Footprint.html#z">z</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5724')">Proof.</div>
<div class="proofscript" id="proof5724">
 <span class="id">unfolds</span>. <span class="tactic">firstorder</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="Locs.union_assoc_eq">union_assoc_eq</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>,<span class="id"><a href="Footprint.html#Locs.union">union</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> (<span class="id"><a href="Footprint.html#Locs.union">union</a></span> <span class="id"><a href="Footprint.html#y">y</a></span> <span class="id"><a href="Footprint.html#z">z</a></span>) = (<span class="id"><a href="Footprint.html#Locs.union">union</a></span> (<span class="id"><a href="Footprint.html#Locs.union">union</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#y">y</a></span>) <span class="id"><a href="Footprint.html#z">z</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5725')">Proof.</div>
<div class="proofscript" id="proof5725">
 <span class="tactic">intros</span>;<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.locs_eq">locs_eq</a></span>;<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.union_assoc">union_assoc</a></span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="Locs.union_incr">union_incr</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="Footprint.html#Locs.subset">subset</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> (<span class="id"><a href="Footprint.html#Locs.union">union</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#y">y</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5726')">Proof.</div>
<div class="proofscript" id="proof5726">
 <span class="id">unfolds</span>. <span class="tactic">firstorder</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="Locs.union_decr">union_decr</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="Footprint.html#Locs.subset">subset</a></span> (<span class="id"><a href="Footprint.html#Locs.union">union</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#y">y</a></span>) <span class="id"><a href="Footprint.html#z">z</a></span> -&gt; <span class="id"><a href="Footprint.html#Locs.subset">subset</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#z">z</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5727')">Proof.</div>
<div class="proofscript" id="proof5727">
 <span class="id">unfolds</span>. <span class="tactic">firstorder</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="Locs.union_subset">union_subset</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="Footprint.html#Locs.subset">subset</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#z">z</a></span> -&gt; <span class="id"><a href="Footprint.html#Locs.subset">subset</a></span> <span class="id"><a href="Footprint.html#y">y</a></span> <span class="id"><a href="Footprint.html#z">z</a></span> -&gt; <span class="id"><a href="Footprint.html#Locs.subset">subset</a></span> (<span class="id"><a href="Footprint.html#Locs.union">union</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#y">y</a></span>) <span class="id"><a href="Footprint.html#z">z</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5728')">Proof.</div>
<div class="proofscript" id="proof5728">
 <span class="id">unfolds</span>; <span class="tactic">intros</span>; <span class="id">specialize</span> (<span class="id">H</span> <span class="id">b</span> <span class="id">ofs</span>); <span class="id">specialize</span> (<span class="id">H0</span> <span class="id">b</span> <span class="id">ofs</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">x</span> <span class="id">b</span> <span class="id">ofs</span>), (<span class="id">y</span> <span class="id">b</span> <span class="id">ofs</span>); <span class="tactic">auto</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Local</span> <span class="kwd">Hint</span> <span class="kwd">Resolve</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">union_emp</span> <span class="id">union_univ</span> <span class="id">union_sym</span> <span class="id">union_refl</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">union_assoc</span> <span class="id">union_incr</span> <span class="id">union_decr</span> <span class="id">union_subset</span> : <span class="id">locs</span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="Locs.intersect_emp">intersect_emp</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Footprint.html#Locs.eq">eq</a></span> (<span class="id"><a href="Footprint.html#Locs.intersect">intersect</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#Locs.emp">emp</a></span>) <span class="id"><a href="Footprint.html#Locs.emp">emp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5729')">Proof.</div>
<div class="proofscript" id="proof5729">
 <span class="id">unfolds</span>. <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">bool</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="Locs.intersect_univ">intersect_univ</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Footprint.html#Locs.eq">eq</a></span> (<span class="id"><a href="Footprint.html#Locs.intersect">intersect</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#Locs.univ">univ</a></span>) <span class="id"><a href="Footprint.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5730')">Proof.</div>
<div class="proofscript" id="proof5730">
 <span class="id">unfolds</span>. <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">bool</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="Locs.intersect_sym">intersect_sym</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="Footprint.html#Locs.eq">eq</a></span> (<span class="id"><a href="Footprint.html#Locs.intersect">intersect</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#y">y</a></span>) (<span class="id"><a href="Footprint.html#Locs.intersect">intersect</a></span> <span class="id"><a href="Footprint.html#y">y</a></span> <span class="id"><a href="Footprint.html#x">x</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5731')">Proof.</div>
<div class="proofscript" id="proof5731">
 <span class="id">unfolds</span>. <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">bool</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="Locs.intersect_refl">intersect_refl</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Footprint.html#Locs.eq">eq</a></span> (<span class="id"><a href="Footprint.html#Locs.intersect">intersect</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#x">x</a></span>) <span class="id"><a href="Footprint.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5732')">Proof.</div>
<div class="proofscript" id="proof5732">
 <span class="id">unfolds</span>. <span class="tactic">intros</span>; <span class="tactic">destruct</span> (<span class="id">x</span> <span class="id">b</span> <span class="id">ofs</span>); <span class="tactic">auto</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="Locs.intersect_assoc">intersect_assoc</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="Footprint.html#Locs.eq">eq</a></span> (<span class="id"><a href="Footprint.html#Locs.intersect">intersect</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> (<span class="id"><a href="Footprint.html#Locs.intersect">intersect</a></span> <span class="id"><a href="Footprint.html#y">y</a></span> <span class="id"><a href="Footprint.html#z">z</a></span>)) (<span class="id"><a href="Footprint.html#Locs.intersect">intersect</a></span> (<span class="id"><a href="Footprint.html#Locs.intersect">intersect</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#y">y</a></span>) <span class="id"><a href="Footprint.html#z">z</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5733')">Proof.</div>
<div class="proofscript" id="proof5733">
 <span class="id">unfolds</span>. <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">bool</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="Locs.intersect_incr">intersect_incr</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="Footprint.html#Locs.subset">subset</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> (<span class="id"><a href="Footprint.html#Locs.intersect">intersect</a></span> <span class="id"><a href="Footprint.html#y">y</a></span> <span class="id"><a href="Footprint.html#z">z</a></span>) -&gt; <span class="id"><a href="Footprint.html#Locs.subset">subset</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#y">y</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5734')">Proof.</div>
<div class="proofscript" id="proof5734">
 <span class="id">unfolds</span>. <span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">destruct</span> (<span class="id">y</span> <span class="id">b</span> <span class="id">ofs</span>); <span class="tactic">auto</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="Locs.intersect_decr">intersect_decr</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="Footprint.html#Locs.subset">subset</a></span> (<span class="id"><a href="Footprint.html#Locs.intersect">intersect</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#y">y</a></span>) <span class="id"><a href="Footprint.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5735')">Proof.</div>
<div class="proofscript" id="proof5735">
 <span class="id">unfolds</span>. <span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id">x</span> <span class="id">b</span> <span class="id">ofs</span>); <span class="tactic">auto</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="Locs.intersect_subset">intersect_subset</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>, <span class="id"><a href="Footprint.html#Locs.subset">subset</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#y">y</a></span> -&gt; <span class="id"><a href="Footprint.html#Locs.subset">subset</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#z">z</a></span> -&gt; <span class="id"><a href="Footprint.html#Locs.subset">subset</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> (<span class="id"><a href="Footprint.html#Locs.intersect">intersect</a></span> <span class="id"><a href="Footprint.html#y">y</a></span> <span class="id"><a href="Footprint.html#z">z</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5736')">Proof.</div>
<div class="proofscript" id="proof5736">
 <span class="id">unfolds</span>. <span class="tactic">intros</span>. <span class="id">specialize</span> (<span class="id">H</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H1</span>). <span class="id">specialize</span> (<span class="id">H0</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H1</span>). <span class="tactic">rewrite</span> <span class="id">H</span>, <span class="id">H0</span>. <span class="tactic">auto</span>. Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="Locs.union_intersect_distr">union_intersect_distr</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#Locs.eq">eq</a></span> (<span class="id"><a href="Footprint.html#Locs.union">union</a></span> (<span class="id"><a href="Footprint.html#Locs.intersect">intersect</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#z">z</a></span>) (<span class="id"><a href="Footprint.html#Locs.intersect">intersect</a></span> <span class="id"><a href="Footprint.html#y">y</a></span> <span class="id"><a href="Footprint.html#z">z</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Footprint.html#Locs.intersect">intersect</a></span> (<span class="id"><a href="Footprint.html#Locs.union">union</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#y">y</a></span>) <span class="id"><a href="Footprint.html#z">z</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5737')">Proof.</div>
<div class="proofscript" id="proof5737">
 <span class="id">unfolds</span>. <span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id">x</span> <span class="id">_</span> <span class="id">_</span>), (<span class="id">y</span> <span class="id">_</span> <span class="id">_</span>), (<span class="id">z</span> <span class="id">_</span> <span class="id">_</span>); <span class="tactic">auto</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Local</span> <span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">intersect_emp</span> <span class="id">intersect_univ</span> <span class="id">intersect_sym</span> <span class="id">intersect_refl</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">intersect_assoc</span> <span class="id">intersect_incr</span> <span class="id">intersect_decr</span> <span class="id">intersect_subset</span> <span class="id">union_intersect_distr</span> : <span class="id">locs</span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="Locs.complement_emp">complement_emp</a></span>: <span class="id"><a href="Footprint.html#Locs.eq">eq</a></span> (<span class="id"><a href="Footprint.html#Locs.complement">complement</a></span> <span class="id"><a href="Footprint.html#Locs.emp">emp</a></span>) <span class="id"><a href="Footprint.html#Locs.univ">univ</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5738')">Proof.</div>
<div class="proofscript" id="proof5738">
 <span class="tactic">intuition</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="Locs.complement_univ">complement_univ</a></span>: <span class="id"><a href="Footprint.html#Locs.eq">eq</a></span> (<span class="id"><a href="Footprint.html#Locs.complement">complement</a></span> <span class="id"><a href="Footprint.html#Locs.univ">univ</a></span>) <span class="id"><a href="Footprint.html#Locs.emp">emp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5739')">Proof.</div>
<div class="proofscript" id="proof5739">
 <span class="tactic">intuition</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="Locs.complement_involution">complement_involution</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Footprint.html#Locs.eq">eq</a></span> (<span class="id"><a href="Footprint.html#Locs.complement">complement</a></span> (<span class="id"><a href="Footprint.html#Locs.complement">complement</a></span> <span class="id"><a href="Footprint.html#x">x</a></span>)) <span class="id"><a href="Footprint.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5740')">Proof.</div>
<div class="proofscript" id="proof5740">
 <span class="id">unfolds</span>. <span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id">x</span> <span class="id">_</span> <span class="id">_</span>); <span class="tactic">auto</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="Locs.complement_union">complement_union</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Footprint.html#Locs.eq">eq</a></span> (<span class="id"><a href="Footprint.html#Locs.union">union</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> (<span class="id"><a href="Footprint.html#Locs.complement">complement</a></span> <span class="id"><a href="Footprint.html#x">x</a></span>)) <span class="id"><a href="Footprint.html#Locs.univ">univ</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5741')">Proof.</div>
<div class="proofscript" id="proof5741">
 <span class="id">unfolds</span>. <span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id">x</span> <span class="id">_</span> <span class="id">_</span>); <span class="tactic">auto</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="Locs.complement_intersect">complement_intersect</a></span>: <span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Footprint.html#Locs.eq">eq</a></span> (<span class="id"><a href="Footprint.html#Locs.intersect">intersect</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> (<span class="id"><a href="Footprint.html#Locs.complement">complement</a></span> <span class="id"><a href="Footprint.html#x">x</a></span>)) <span class="id"><a href="Footprint.html#Locs.emp">emp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5742')">Proof.</div>
<div class="proofscript" id="proof5742">
 <span class="id">unfolds</span>. <span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id">x</span> <span class="id">_</span> <span class="id">_</span>); <span class="tactic">auto</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="Locs.complement_contrapositive">complement_contrapositive</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="Footprint.html#Locs.subset">subset</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#y">y</a></span> -&gt; <span class="id"><a href="Footprint.html#Locs.subset">subset</a></span> (<span class="id"><a href="Footprint.html#Locs.complement">complement</a></span> <span class="id"><a href="Footprint.html#y">y</a></span>) (<span class="id"><a href="Footprint.html#Locs.complement">complement</a></span> <span class="id"><a href="Footprint.html#x">x</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5743')">Proof.</div>
<div class="proofscript" id="proof5743">
 <span class="id">unfolds</span>. <span class="tactic">intros</span>. <span class="id">specialize</span> (<span class="id">H</span> <span class="id">b</span> <span class="id">ofs</span>). <span class="tactic">destruct</span> (<span class="id">x</span> <span class="id">_</span> <span class="id">_</span>); <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">auto</span>. Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="Locs.complement_smile">complement_smile</a></span>: <span class="kwd">forall</span> <span class="id">x</span>,<span class="id"><a href="Footprint.html#Locs.smile">smile</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> (<span class="id"><a href="Footprint.html#Locs.complement">complement</a></span> <span class="id"><a href="Footprint.html#x">x</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5744')">Proof.</div>
<div class="proofscript" id="proof5744">
 <span class="id">unfolds</span>;<span class="tactic">intros</span>;<span class="tactic">destruct</span> <span class="id">x</span>;<span class="tactic">auto</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="Locs.smile_complement_subset">smile_complement_subset</a></span>: <span class="kwd">forall</span> <span class="id">l1</span> <span class="id">l2</span>, <span class="id"><a href="Footprint.html#Locs.smile">smile</a></span> <span class="id"><a href="Footprint.html#l1">l1</a></span> <span class="id"><a href="Footprint.html#l2">l2</a></span> -&gt;  <span class="id"><a href="Footprint.html#Locs.subset">subset</a></span> <span class="id"><a href="Footprint.html#l1">l1</a></span> (<span class="id"><a href="Footprint.html#Locs.complement">Locs.complement</a></span> <span class="id"><a href="Footprint.html#l2">l2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5745')">Proof.</div>
<div class="proofscript" id="proof5745">
 <span class="id">Locs.unfolds</span>;<span class="tactic">intros</span>. <span class="id">specialize</span> (<span class="id">H</span> <span class="id">b</span> <span class="id">ofs</span>). <span class="tactic">rewrite</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> <span class="id">l2</span>;<span class="tactic">auto</span>.  Qed.</div>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="Locs.demorgan_union">demorgan_union</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="Footprint.html#Locs.eq">eq</a></span> (<span class="id"><a href="Footprint.html#Locs.complement">complement</a></span> (<span class="id"><a href="Footprint.html#Locs.union">union</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#y">y</a></span>)) (<span class="id"><a href="Footprint.html#Locs.intersect">intersect</a></span> (<span class="id"><a href="Footprint.html#Locs.complement">complement</a></span> <span class="id"><a href="Footprint.html#x">x</a></span>) (<span class="id"><a href="Footprint.html#Locs.complement">complement</a></span> <span class="id"><a href="Footprint.html#y">y</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5746')">Proof.</div>
<div class="proofscript" id="proof5746">
 <span class="id">unfolds</span>. <span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id">x</span> <span class="id">_</span> <span class="id">_</span>), (<span class="id">y</span> <span class="id">_</span> <span class="id">_</span>); <span class="tactic">auto</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="Locs.complement_union_subset">complement_union_subset</a></span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>,<span class="id"><a href="Footprint.html#Locs.subset">subset</a></span> (<span class="id"><a href="Footprint.html#Locs.complement">complement</a></span> (<span class="id"><a href="Footprint.html#Locs.union">union</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#y">y</a></span>))(<span class="id"><a href="Footprint.html#Locs.complement">complement</a></span> <span class="id"><a href="Footprint.html#y">y</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5747')">Proof.</div>
<div class="proofscript" id="proof5747">
 <span class="id">unfolds</span>;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">x</span>,<span class="id">y</span>;<span class="tactic">auto</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="Locs.demorgan_intersect">demorgan_intersect</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, <span class="id"><a href="Footprint.html#Locs.eq">eq</a></span> (<span class="id"><a href="Footprint.html#Locs.complement">complement</a></span> (<span class="id"><a href="Footprint.html#Locs.intersect">intersect</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#y">y</a></span>)) (<span class="id"><a href="Footprint.html#Locs.union">union</a></span> (<span class="id"><a href="Footprint.html#Locs.complement">complement</a></span> <span class="id"><a href="Footprint.html#x">x</a></span>) (<span class="id"><a href="Footprint.html#Locs.complement">complement</a></span> <span class="id"><a href="Footprint.html#y">y</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5748')">Proof.</div>
<div class="proofscript" id="proof5748">
 <span class="id">unfolds</span>. <span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id">x</span> <span class="id">_</span> <span class="id">_</span>), (<span class="id">y</span> <span class="id">_</span> <span class="id">_</span>); <span class="tactic">auto</span>. Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="Locs.locs_intersect_emp">locs_intersect_emp</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> ,<span class="id"><a href="Footprint.html#Locs.intersect">Locs.intersect</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#Locs.emp">Locs.emp</a></span> = <span class="id"><a href="Footprint.html#Locs.emp">Locs.emp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5749')">Proof.</div>
<div class="proofscript" id="proof5749">
 <span class="tactic">intro</span>. <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.locs_eq">Locs.locs_eq</a></span>. <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.intersect_emp">Locs.intersect_emp</a></span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="Locs.locs_intersect_emp_sym">locs_intersect_emp_sym</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Footprint.html#Locs.intersect">Locs.intersect</a></span> <span class="id"><a href="Footprint.html#Locs.emp">Locs.emp</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> =<span class="id"><a href="Footprint.html#Locs.emp">Locs.emp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5750')">Proof.</div>
<div class="proofscript" id="proof5750">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.locs_eq">Locs.locs_eq</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id"><a href="Footprint.html#Locs.intersect_sym">Locs.intersect_sym</a></span> <span class="id"><a href="Footprint.html#Locs.emp">Locs.emp</a></span> <span class="id">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.locs_eq">Locs.locs_eq</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#Locs.locs_intersect_emp">locs_intersect_emp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.eq_refl">Locs.eq_refl</a></span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="Locs.locs_union_emp">locs_union_emp</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>,<span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#Locs.emp">Locs.emp</a></span> = <span class="id"><a href="Footprint.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5751')">Proof.</div>
<div class="proofscript" id="proof5751">
 <span class="tactic">intro</span>. <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.locs_eq">Locs.locs_eq</a></span>. <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.union_emp">Locs.union_emp</a></span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="Locs.emp_union_locs">emp_union_locs</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span>,<span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> <span class="id"><a href="Footprint.html#Locs.emp">Locs.emp</a></span> <span class="id"><a href="Footprint.html#x">x</a></span>=<span class="id"><a href="Footprint.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5752')">Proof.</div>
<div class="proofscript" id="proof5752">
 <span class="tactic">intro</span>. <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.locs_eq">Locs.locs_eq</a></span>. <span class="id">pose</span> <span class="id">proof</span> <span class="id"><a href="Footprint.html#Locs.union_sym">Locs.union_sym</a></span> <span class="id"><a href="Footprint.html#Locs.emp">Locs.emp</a></span> <span class="id">x</span>. <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.locs_eq">Locs.locs_eq</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#Locs.locs_union_emp">locs_union_emp</a></span>. <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.eq_refl">Locs.eq_refl</a></span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="Locs.locs_emp">locs_emp</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;~ <span class="id"><a href="Footprint.html#Locs.nonemp">Locs.nonemp</a></span> <span class="id"><a href="Footprint.html#Locs.emp">Locs.emp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5753')">Proof.</div>
<div class="proofscript" id="proof5753">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#Locs.nonemp">Locs.nonemp</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span>[<span class="id">b</span>[<span class="id">ofs</span> <span class="id">H</span>] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="Locs.smile_sym">smile_sym</a></span>: <span class="kwd">forall</span> <span class="id">l1</span> <span class="id">l2</span>,<span class="id"><a href="Footprint.html#Locs.smile">smile</a></span> <span class="id"><a href="Footprint.html#l1">l1</a></span> <span class="id"><a href="Footprint.html#l2">l2</a></span> -&gt; <span class="id"><a href="Footprint.html#Locs.smile">smile</a></span> <span class="id"><a href="Footprint.html#l2">l2</a></span> <span class="id"><a href="Footprint.html#l1">l1</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5754')">Proof.</div>
<div class="proofscript" id="proof5754">
 <span class="id">unfolds</span>;<span class="tactic">intros</span>. <span class="id">specialize</span> (<span class="id">H</span> <span class="id">b</span> <span class="id">ofs</span>). <span class="tactic">destruct</span> <span class="id">l1</span>,<span class="id">l2</span>;<span class="tactic">auto</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="Locs.smile_union">smile_union</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l1</span> <span class="id">l2</span> <span class="id">l3</span>, <span class="id"><a href="Footprint.html#Locs.smile">smile</a></span> <span class="id"><a href="Footprint.html#l1">l1</a></span> <span class="id"><a href="Footprint.html#l2">l2</a></span>-&gt;<span class="id"><a href="Footprint.html#Locs.smile">smile</a></span> <span class="id"><a href="Footprint.html#l1">l1</a></span> <span class="id"><a href="Footprint.html#l3">l3</a></span>-&gt; <span class="id"><a href="Footprint.html#Locs.smile">smile</a></span> <span class="id"><a href="Footprint.html#l1">l1</a></span> (<span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> <span class="id"><a href="Footprint.html#l2">l2</a></span> <span class="id"><a href="Footprint.html#l3">l3</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5755')">Proof.</div>
<div class="proofscript" id="proof5755">
 <span class="id">unfolds</span>;<span class="tactic">intros</span>; <span class="id">specialize</span> (<span class="id">H</span> <span class="id">b</span> <span class="id">ofs</span>);<span class="id">specialize</span> (<span class="id">H0</span> <span class="id">b</span> <span class="id">ofs</span>);<span class="tactic">destruct</span> <span class="id">l1</span>,<span class="id">l2</span>,<span class="id">l3</span>;<span class="tactic">auto</span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="Locs.smile_subset">smile_subset</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l1</span> <span class="id">l2</span> <span class="id">l3</span>, <span class="id"><a href="Footprint.html#Locs.smile">smile</a></span> <span class="id"><a href="Footprint.html#l1">l1</a></span> <span class="id"><a href="Footprint.html#l2">l2</a></span> -&gt; <span class="id"><a href="Footprint.html#Locs.subset">subset</a></span> <span class="id"><a href="Footprint.html#l3">l3</a></span> <span class="id"><a href="Footprint.html#l2">l2</a></span> -&gt;<span class="id"><a href="Footprint.html#Locs.smile">smile</a></span> <span class="id"><a href="Footprint.html#l1">l1</a></span> <span class="id"><a href="Footprint.html#l3">l3</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5756')">Proof.</div>
<div class="proofscript" id="proof5756">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">unfolds</span>;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">H</span> <span class="id">b</span> <span class="id">ofs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">H0</span> <span class="id">b</span> <span class="id">ofs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">l1</span> <span class="id">eqn</span>:<span class="id">e1</span>,<span class="id">l2</span> <span class="id">eqn</span>:<span class="id">e2</span>;<span class="tactic">auto</span>;<span class="tactic">inversion</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">l3</span> <span class="id">eqn</span>:<span class="id">e3</span>;[<span class="tactic">destruct</span> <span class="id">H0</span>|];<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<span class="kwd">End</span> <span class="id"><a href="Footprint.html#Locs">Locs</a></span>.<br/>
<br/>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Locs.eq_sym</span> <span class="id">Locs.eq_refl</span> <span class="id">Locs.eq_trans</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Locs.belongsto_emp</span> <span class="id">Locs.belongsto_univ</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Locs.belongsto_eq</span> <span class="id">Locs.belongsto_subset</span> <span class="id">Locs.eq_subset</span> <span class="id">Locs.belongsto_dec</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Locs.subset_emp</span> <span class="id">Locs.subset_univ</span> <span class="id">Locs.subset_refl</span> <span class="id">Locs.subset_trans</span> <span class="id">Locs.subset_antisym</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Locs.union_emp</span> <span class="id">Locs.union_univ</span> <span class="id">Locs.union_sym</span> <span class="id">Locs.union_refl</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Locs.union_assoc</span> <span class="id">Locs.union_incr</span> <span class="id">Locs.union_decr</span> <span class="id">Locs.union_subset</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Locs.intersect_emp</span> <span class="id">Locs.intersect_univ</span> <span class="id">Locs.intersect_sym</span> <span class="id">Locs.intersect_refl</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Locs.intersect_assoc</span> <span class="id">Locs.intersect_incr</span> <span class="id">Locs.intersect_decr</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Locs.intersect_subset</span> <span class="id">Locs.union_intersect_distr</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Locs.complement_emp</span> <span class="id">Locs.complement_univ</span> <span class="id">Locs.complement_involution</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Locs.complement_union</span> <span class="id">Locs.complement_intersect</span> <span class="id">Locs.complement_contrapositive</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Locs.demorgan_union</span> <span class="id">Locs.demorgan_intersect</span> : <span class="id">locs</span>.<br/>
<br/>
<span class="kwd">Ltac</span> <span class="id">red_boolean_hypothesis_true</span>' :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: ?<span class="id">x</span> || ?<span class="id">y</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">Hx</span> := <span class="tactic">fresh</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_true_iff">orb_true_iff</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [<span class="id">Hx</span>|<span class="id">Hx</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">rewrite</span> <span class="id">Hx</span>; <span class="tactic">clear</span> <span class="id">Hx</span>)<br/>
&nbsp;&nbsp;| <span class="id">H</span>: ?<span class="id">x</span> &amp;&amp; ?<span class="id">y</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">Hx</span> := <span class="tactic">fresh</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_iff">andb_true_iff</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [<span class="id">H</span> <span class="id">Hx</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">rewrite</span> <span class="id">H</span>; <span class="tactic">clear</span> <span class="id">H</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">rewrite</span> <span class="id">Hx</span>; <span class="tactic">clear</span> <span class="id">Hx</span>)<br/>
&nbsp;&nbsp;| <span class="id">H</span>: ?<span class="id">x</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">rewrite</span> <span class="id">H</span>; <span class="tactic">clear</span> <span class="id">H</span>)<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<span class="kwd">Ltac</span> <span class="id">red_b_hypo_true</span>:= <span class="tactic">repeat</span> <span class="id">red_boolean_hypothesis_true</span>'.<br/>
<br/>
<span class="kwd">Ltac</span> <span class="id">red_boolean_goal_true</span>' :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| |- <span class="id">context</span>[?<span class="id">x</span> || <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_true_r">orb_true_r</a></span><br/>
&nbsp;&nbsp;| |- <span class="id">context</span>[<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> || ?<span class="id">x</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_true_l">orb_true_l</a></span><br/>
&nbsp;&nbsp;| |- <span class="id">context</span>[<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> &amp;&amp; ?<span class="id">x</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_l">andb_true_l</a></span><br/>
&nbsp;&nbsp;| |- <span class="id">context</span>[?<span class="id">x</span> &amp;&amp; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_r">andb_true_r</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<span class="kwd">Ltac</span> <span class="id">red_b_goal_true</span>:= <span class="tactic">repeat</span> <span class="id">red_boolean_goal_true</span>'.<br/>
<br/>
<span class="kwd">Ltac</span> <span class="id">red_boolean_true</span> :=<br/>
&nbsp;&nbsp;<span class="id">red_b_hypo_true</span>; <span class="id">red_b_goal_true</span>; <span class="tactic">auto</span>.<br/>
<br/>
<br/>
<h2> Footprint Definition </h2>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="FP">FP</a></span>.<br/>
<br/>
<div class="doc">Footprint is defined as a record with 4 fields:
      - <span class="bracket"><span class="id">cmps</span></span> : locations corresponding to operations that observe memory permissions, e.g. checking if a pointer is valid
      - <span class="bracket"><span class="id">reads</span></span> : locations corresponding to read operations
      - <span class="bracket"><span class="id">writes</span></span> : locations corresponding to write operations
      - <span class="bracket"><span class="id">frees</span></span> : locations corresponding to operations that modifies memory permissions, e.g. alloc and free
   </div>
<br/>
<div class="doc">By making footprint more precise, we are able to allow more programs to be data-race-free.
      E.g.,
                 array a<span class="bracket">10</span>;
               T1                T2
          x &lt; a + 10;  ||  <span class="bracket"><span class="id">x</span></span> &lt;- 42;
      where T1 checks if x is within bound of the array <span class="bracket"><span class="id">a</span></span>, which in CompCert's semantics would observe memory permission of <span class="bracket"><span class="id">x</span></span>;
      and T2 writes to location x.
      If we simply treat <span class="bracket"><span class="id">cmps</span></span> as normal meomry reads, this program would have data-race. 
   </div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Record</span> <span class="id"><a name="FP.t">t</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id"><a name="FP.cmps">cmps</a></span>: <span class="id"><a href="Footprint.html#Locs.t">Locs.t</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="FP.reads">reads</a></span>: <span class="id"><a href="Footprint.html#Locs.t">Locs.t</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="FP.writes">writes</a></span>: <span class="id"><a href="Footprint.html#Locs.t">Locs.t</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="FP.frees">frees</a></span>: <span class="id"><a href="Footprint.html#Locs.t">Locs.t</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="FP.locs">locs</a></span> (<span class="id">fp</span>: <span class="id"><a href="Footprint.html#FP.t">t</a></span>) : <span class="id"><a href="Footprint.html#Locs.t">Locs.t</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> (<span class="id"><a href="Footprint.html#FP.cmps">cmps</a></span> <span class="id"><a href="Footprint.html#fp">fp</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> (<span class="id"><a href="Footprint.html#FP.reads">reads</a></span> <span class="id"><a href="Footprint.html#fp">fp</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> (<span class="id"><a href="Footprint.html#FP.writes">writes</a></span> <span class="id"><a href="Footprint.html#fp">fp</a></span>) (<span class="id"><a href="Footprint.html#FP.frees">frees</a></span> <span class="id"><a href="Footprint.html#fp">fp</a></span>)))).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="FP.blocks">blocks</a></span> (<span class="id">fp</span>: <span class="id"><a href="Footprint.html#FP.t">t</a></span>) : <span class="id"><a href="Blockset.html#Bset.t">Bset.t</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#Locs.blocks">Locs.blocks</a></span> (<span class="id"><a href="Footprint.html#FP.locs">locs</a></span> <span class="id"><a href="Footprint.html#fp">fp</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="FP.emp">emp</a></span> : <span class="id"><a href="Footprint.html#FP.t">t</a></span> := <span class="id"><a href="Footprint.html#FP.Build_t">Build_t</a></span> <span class="id"><a href="Footprint.html#Locs.emp">Locs.emp</a></span> <span class="id"><a href="Footprint.html#Locs.emp">Locs.emp</a></span> <span class="id"><a href="Footprint.html#Locs.emp">Locs.emp</a></span> <span class="id"><a href="Footprint.html#Locs.emp">Locs.emp</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Record</span> <span class="id"><a name="FP.eq">eq</a></span> (<span class="id">fp1</span> <span class="id">fp2</span>: <span class="id"><a href="Footprint.html#FP.t">t</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id"><a name="FP.eq_cmps">eq_cmps</a></span>: <span class="id"><a href="Footprint.html#Locs.eq">Locs.eq</a></span> (<span class="id"><a href="Footprint.html#fp1">fp1</a></span>.(<span class="id"><a href="Footprint.html#FP.cmps">cmps</a></span>)) (<span class="id"><a href="Footprint.html#fp2">fp2</a></span>.(<span class="id"><a href="Footprint.html#FP.cmps">cmps</a></span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="FP.eq_reads">eq_reads</a></span>: <span class="id"><a href="Footprint.html#Locs.eq">Locs.eq</a></span> (<span class="id"><a href="Footprint.html#fp1">fp1</a></span>.(<span class="id"><a href="Footprint.html#FP.reads">reads</a></span>)) (<span class="id"><a href="Footprint.html#fp2">fp2</a></span>.(<span class="id"><a href="Footprint.html#FP.reads">reads</a></span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="FP.eq_writes">eq_writes</a></span>: <span class="id"><a href="Footprint.html#Locs.eq">Locs.eq</a></span> (<span class="id"><a href="Footprint.html#fp1">fp1</a></span>.(<span class="id"><a href="Footprint.html#FP.writes">writes</a></span>)) (<span class="id"><a href="Footprint.html#fp2">fp2</a></span>.(<span class="id"><a href="Footprint.html#FP.writes">writes</a></span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="FP.eq_frees">eq_frees</a></span>: <span class="id"><a href="Footprint.html#Locs.eq">Locs.eq</a></span> (<span class="id"><a href="Footprint.html#fp1">fp1</a></span>.(<span class="id"><a href="Footprint.html#FP.frees">frees</a></span>)) (<span class="id"><a href="Footprint.html#fp2">fp2</a></span>.(<span class="id"><a href="Footprint.html#FP.frees">frees</a></span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="FP.union">union</a></span> (<span class="id">fp1</span> <span class="id">fp2</span>: <span class="id"><a href="Footprint.html#FP.t">t</a></span>) : <span class="id"><a href="Footprint.html#FP.t">t</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.Build_t">Build_t</a></span> (<span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span>.(<span class="id"><a href="Footprint.html#FP.cmps">cmps</a></span>) <span class="id"><a href="Footprint.html#fp2">fp2</a></span>.(<span class="id"><a href="Footprint.html#FP.cmps">cmps</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span>.(<span class="id"><a href="Footprint.html#FP.reads">reads</a></span>) <span class="id"><a href="Footprint.html#fp2">fp2</a></span>.(<span class="id"><a href="Footprint.html#FP.reads">reads</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span>.(<span class="id"><a href="Footprint.html#FP.writes">writes</a></span>) <span class="id"><a href="Footprint.html#fp2">fp2</a></span>.(<span class="id"><a href="Footprint.html#FP.writes">writes</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span>.(<span class="id"><a href="Footprint.html#FP.frees">frees</a></span>) <span class="id"><a href="Footprint.html#fp2">fp2</a></span>.(<span class="id"><a href="Footprint.html#FP.frees">frees</a></span>)).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="FP.intersect">intersect</a></span> (<span class="id">fp1</span> <span class="id">fp2</span>: <span class="id"><a href="Footprint.html#FP.t">t</a></span>) : <span class="id"><a href="Footprint.html#FP.t">t</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.Build_t">Build_t</a></span> (<span class="id"><a href="Footprint.html#Locs.intersect">Locs.intersect</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span>.(<span class="id"><a href="Footprint.html#FP.cmps">cmps</a></span>) <span class="id"><a href="Footprint.html#fp2">fp2</a></span>.(<span class="id"><a href="Footprint.html#FP.cmps">cmps</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Footprint.html#Locs.intersect">Locs.intersect</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span>.(<span class="id"><a href="Footprint.html#FP.reads">reads</a></span>) <span class="id"><a href="Footprint.html#fp2">fp2</a></span>.(<span class="id"><a href="Footprint.html#FP.reads">reads</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Footprint.html#Locs.intersect">Locs.intersect</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span>.(<span class="id"><a href="Footprint.html#FP.writes">writes</a></span>) <span class="id"><a href="Footprint.html#fp2">fp2</a></span>.(<span class="id"><a href="Footprint.html#FP.writes">writes</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Footprint.html#Locs.intersect">Locs.intersect</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span>.(<span class="id"><a href="Footprint.html#FP.frees">frees</a></span>) <span class="id"><a href="Footprint.html#fp2">fp2</a></span>.(<span class="id"><a href="Footprint.html#FP.frees">frees</a></span>)).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Record</span> <span class="id"><a name="FP.subset">subset</a></span> (<span class="id">fp1</span> <span class="id">fp2</span>: <span class="id"><a href="Footprint.html#FP.t">t</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id"><a name="FP.subset_cmps">subset_cmps</a></span>: <span class="id"><a href="Footprint.html#Locs.subset">Locs.subset</a></span> (<span class="id"><a href="Footprint.html#fp1">fp1</a></span>.(<span class="id"><a href="Footprint.html#FP.cmps">cmps</a></span>)) (<span class="id"><a href="Footprint.html#fp2">fp2</a></span>.(<span class="id"><a href="Footprint.html#FP.cmps">cmps</a></span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="FP.subset_reads">subset_reads</a></span>: <span class="id"><a href="Footprint.html#Locs.subset">Locs.subset</a></span> (<span class="id"><a href="Footprint.html#fp1">fp1</a></span>.(<span class="id"><a href="Footprint.html#FP.reads">reads</a></span>)) (<span class="id"><a href="Footprint.html#fp2">fp2</a></span>.(<span class="id"><a href="Footprint.html#FP.reads">reads</a></span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="FP.subset_writes">subset_writes</a></span>: <span class="id"><a href="Footprint.html#Locs.subset">Locs.subset</a></span> (<span class="id"><a href="Footprint.html#fp1">fp1</a></span>.(<span class="id"><a href="Footprint.html#FP.writes">writes</a></span>)) (<span class="id"><a href="Footprint.html#fp2">fp2</a></span>.(<span class="id"><a href="Footprint.html#FP.writes">writes</a></span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="FP.subset_frees">subset_frees</a></span>: <span class="id"><a href="Footprint.html#Locs.subset">Locs.subset</a></span> (<span class="id"><a href="Footprint.html#fp1">fp1</a></span>.(<span class="id"><a href="Footprint.html#FP.frees">frees</a></span>)) (<span class="id"><a href="Footprint.html#fp2">fp2</a></span>.(<span class="id"><a href="Footprint.html#FP.frees">frees</a></span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="FP.ge_frees">ge_frees</a></span> (<span class="id">fp</span>: <span class="id"><a href="Footprint.html#FP.t">t</a></span>) : <span class="id"><a href="Footprint.html#Locs.t">Locs.t</a></span> := <span class="id"><a href="Footprint.html#FP.frees">frees</a></span> <span class="id"><a href="Footprint.html#fp">fp</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="FP.ge_writes">ge_writes</a></span> (<span class="id">fp</span>: <span class="id"><a href="Footprint.html#FP.t">t</a></span>) : <span class="id"><a href="Footprint.html#Locs.t">Locs.t</a></span> := <span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> (<span class="id"><a href="Footprint.html#FP.writes">writes</a></span> <span class="id"><a href="Footprint.html#fp">fp</a></span>) (<span class="id"><a href="Footprint.html#FP.ge_frees">ge_frees</a></span> <span class="id"><a href="Footprint.html#fp">fp</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="FP.ge_reads">ge_reads</a></span> (<span class="id">fp</span>: <span class="id"><a href="Footprint.html#FP.t">t</a></span>) : <span class="id"><a href="Footprint.html#Locs.t">Locs.t</a></span> := <span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> (<span class="id"><a href="Footprint.html#FP.reads">reads</a></span> <span class="id"><a href="Footprint.html#fp">fp</a></span>) (<span class="id"><a href="Footprint.html#FP.ge_writes">ge_writes</a></span> <span class="id"><a href="Footprint.html#fp">fp</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="FP.ge_cmps">ge_cmps</a></span> (<span class="id">fp</span>: <span class="id"><a href="Footprint.html#FP.t">t</a></span>) : <span class="id"><a href="Footprint.html#Locs.t">Locs.t</a></span> := <span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> (<span class="id"><a href="Footprint.html#FP.cmps">cmps</a></span> <span class="id"><a href="Footprint.html#fp">fp</a></span>) (<span class="id"><a href="Footprint.html#FP.ge_reads">ge_reads</a></span> <span class="id"><a href="Footprint.html#fp">fp</a></span>).<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Ltac</span> <span class="id">unfolds_thrshd</span> := <span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.ge_cmps">ge_cmps</a></span>, <span class="id"><a href="Footprint.html#FP.ge_reads">ge_reads</a></span>, <span class="id"><a href="Footprint.html#FP.ge_writes">ge_writes</a></span>, <span class="id"><a href="Footprint.html#FP.ge_frees">ge_frees</a></span> <span class="kwd">in</span> *.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="FP.eq_fp_eq_ge_cmps">eq_fp_eq_ge_cmps</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp1</span> <span class="id">fp2</span>, <span class="id"><a href="Footprint.html#FP.eq">eq</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span> -&gt; <span class="id"><a href="Footprint.html#Locs.eq">Locs.eq</a></span> (<span class="id"><a href="Footprint.html#FP.ge_cmps">ge_cmps</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span>) (<span class="id"><a href="Footprint.html#FP.ge_cmps">ge_cmps</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5757')">Proof.</div>
<div class="proofscript" id="proof5757">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">inversion</span> <span class="id">H</span>. <span class="id">unfolds_thrshd</span>. <span class="id">Locs.unfolds</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> | <span class="id">H</span>: <span class="kwd">forall</span> <span class="id">_</span> <span class="id">_</span>, <span class="id">_</span> = <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="tactic">rewrite</span> <span class="id">H</span>; <span class="tactic">clear</span> <span class="id">H</span> <span class="kwd">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="FP.eq_fp_eq_ge_reads">eq_fp_eq_ge_reads</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp1</span> <span class="id">fp2</span>, <span class="id"><a href="Footprint.html#FP.eq">eq</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span> -&gt; <span class="id"><a href="Footprint.html#Locs.eq">Locs.eq</a></span> (<span class="id"><a href="Footprint.html#FP.ge_reads">ge_reads</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span>) (<span class="id"><a href="Footprint.html#FP.ge_reads">ge_reads</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5758')">Proof.</div>
<div class="proofscript" id="proof5758">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">inversion</span> <span class="id">H</span>. <span class="id">unfolds_thrshd</span>. <span class="id">Locs.unfolds</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> | <span class="id">H</span>: <span class="kwd">forall</span> <span class="id">_</span> <span class="id">_</span>, <span class="id">_</span> = <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="tactic">rewrite</span> <span class="id">H</span>; <span class="tactic">clear</span> <span class="id">H</span> <span class="kwd">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="FP.eq_fp_eq_ge_writes">eq_fp_eq_ge_writes</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp1</span> <span class="id">fp2</span>, <span class="id"><a href="Footprint.html#FP.eq">eq</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span> -&gt; <span class="id"><a href="Footprint.html#Locs.eq">Locs.eq</a></span> (<span class="id"><a href="Footprint.html#FP.ge_writes">ge_writes</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span>) (<span class="id"><a href="Footprint.html#FP.ge_writes">ge_writes</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5759')">Proof.</div>
<div class="proofscript" id="proof5759">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">inversion</span> <span class="id">H</span>. <span class="id">unfolds_thrshd</span>. <span class="id">Locs.unfolds</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> | <span class="id">H</span>: <span class="kwd">forall</span> <span class="id">_</span> <span class="id">_</span>, <span class="id">_</span> = <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="tactic">rewrite</span> <span class="id">H</span>; <span class="tactic">clear</span> <span class="id">H</span> <span class="kwd">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="FP.eq_fp_eq_ge_frees">eq_fp_eq_ge_frees</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp1</span> <span class="id">fp2</span>, <span class="id"><a href="Footprint.html#FP.eq">eq</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span> -&gt; <span class="id"><a href="Footprint.html#Locs.eq">Locs.eq</a></span> (<span class="id"><a href="Footprint.html#FP.ge_frees">ge_frees</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span>) (<span class="id"><a href="Footprint.html#FP.ge_frees">ge_frees</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5760')">Proof.</div>
<div class="proofscript" id="proof5760">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">inversion</span> <span class="id">H</span>. <span class="id">unfolds_thrshd</span>. <span class="id">Locs.unfolds</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> | <span class="id">H</span>: <span class="kwd">forall</span> <span class="id">_</span> <span class="id">_</span>, <span class="id">_</span> = <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="tactic">rewrite</span> <span class="id">H</span>; <span class="tactic">clear</span> <span class="id">H</span> <span class="kwd">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="FP.union_ge_cmps_comm">union_ge_cmps_comm</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp1</span> <span class="id">fp2</span>, <span class="id"><a href="Footprint.html#FP.ge_cmps">ge_cmps</a></span> (<span class="id"><a href="Footprint.html#FP.union">union</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span>) = <span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> (<span class="id"><a href="Footprint.html#FP.ge_cmps">ge_cmps</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span>) (<span class="id"><a href="Footprint.html#FP.ge_cmps">ge_cmps</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5761')">Proof.</div>
<div class="proofscript" id="proof5761">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">fp1</span>, <span class="id">fp2</span>. <span class="id">unfolds_thrshd</span>. <span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.union">union</a></span>. <span class="tactic">simpl</span>. <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.locs_eq">Locs.locs_eq</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Locs.unfolds</span>. <span class="tactic">intros</span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_assoc">orb_assoc</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id">_</span> || ?<span class="id">x</span> = <span class="id">_</span> || ?<span class="id">x</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; [<span class="tactic">do</span> 2 <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_true_r">orb_true_r</a></span>; <span class="tactic">auto</span>| <span class="tactic">do</span> 2 <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_false_r">orb_false_r</a></span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="tactic">auto</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_comm">orb_comm</a></span>; <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_assoc">orb_assoc</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="FP.union_ge_reads_comm">union_ge_reads_comm</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp1</span> <span class="id">fp2</span>, <span class="id"><a href="Footprint.html#FP.ge_reads">ge_reads</a></span> (<span class="id"><a href="Footprint.html#FP.union">union</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span>) = <span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> (<span class="id"><a href="Footprint.html#FP.ge_reads">ge_reads</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span>) (<span class="id"><a href="Footprint.html#FP.ge_reads">ge_reads</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5762')">Proof.</div>
<div class="proofscript" id="proof5762">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">fp1</span>, <span class="id">fp2</span>. <span class="id">unfolds_thrshd</span>. <span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.union">union</a></span>. <span class="tactic">simpl</span>. <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.locs_eq">Locs.locs_eq</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Locs.unfolds</span>. <span class="tactic">intros</span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_assoc">orb_assoc</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id">_</span> || ?<span class="id">x</span> = <span class="id">_</span> || ?<span class="id">x</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; [<span class="tactic">do</span> 2 <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_true_r">orb_true_r</a></span>; <span class="tactic">auto</span>| <span class="tactic">do</span> 2 <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_false_r">orb_false_r</a></span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="tactic">auto</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_comm">orb_comm</a></span>; <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_assoc">orb_assoc</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="FP.union_ge_writes_comm">union_ge_writes_comm</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp1</span> <span class="id">fp2</span>, <span class="id"><a href="Footprint.html#FP.ge_writes">ge_writes</a></span> (<span class="id"><a href="Footprint.html#FP.union">union</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span>) = <span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> (<span class="id"><a href="Footprint.html#FP.ge_writes">ge_writes</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span>) (<span class="id"><a href="Footprint.html#FP.ge_writes">ge_writes</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5763')">Proof.</div>
<div class="proofscript" id="proof5763">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">fp1</span>, <span class="id">fp2</span>. <span class="id">unfolds_thrshd</span>. <span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.union">union</a></span>. <span class="tactic">simpl</span>. <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.locs_eq">Locs.locs_eq</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Locs.unfolds</span>. <span class="tactic">intros</span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_assoc">orb_assoc</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id">_</span> || ?<span class="id">x</span> = <span class="id">_</span> || ?<span class="id">x</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; [<span class="tactic">do</span> 2 <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_true_r">orb_true_r</a></span>; <span class="tactic">auto</span>| <span class="tactic">do</span> 2 <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_false_r">orb_false_r</a></span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="tactic">auto</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_comm">orb_comm</a></span>; <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_assoc">orb_assoc</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="FP.union_ge_frees_comm">union_ge_frees_comm</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp1</span> <span class="id">fp2</span>, <span class="id"><a href="Footprint.html#FP.ge_frees">ge_frees</a></span> (<span class="id"><a href="Footprint.html#FP.union">union</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span>) = <span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> (<span class="id"><a href="Footprint.html#FP.ge_frees">ge_frees</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span>) (<span class="id"><a href="Footprint.html#FP.ge_frees">ge_frees</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5764')">Proof.</div>
<div class="proofscript" id="proof5764">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">fp1</span>, <span class="id">fp2</span>. <span class="id">unfolds_thrshd</span>. <span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.union">union</a></span>. <span class="tactic">simpl</span>. <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.locs_eq">Locs.locs_eq</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Locs.unfolds</span>. <span class="tactic">intros</span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_assoc">orb_assoc</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id">_</span> || ?<span class="id">x</span> = <span class="id">_</span> || ?<span class="id">x</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>; [<span class="tactic">do</span> 2 <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_true_r">orb_true_r</a></span>; <span class="tactic">auto</span>| <span class="tactic">do</span> 2 <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_false_r">orb_false_r</a></span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="tactic">auto</span>; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_comm">orb_comm</a></span>; <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_assoc">orb_assoc</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="FP.subset_ge_cmps_subset">subset_ge_cmps_subset</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp1</span> <span class="id">fp2</span>, <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span> -&gt; <span class="id"><a href="Footprint.html#Locs.subset">Locs.subset</a></span> (<span class="id"><a href="Footprint.html#FP.ge_cmps">ge_cmps</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span>) (<span class="id"><a href="Footprint.html#FP.ge_cmps">ge_cmps</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5765')">Proof.</div>
<div class="proofscript" id="proof5765">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">fp1</span>, <span class="id">fp2</span>. <span class="tactic">destruct</span> <span class="id">H</span>. <span class="id">unfolds_thrshd</span>. <span class="id">Locs.unfolds</span>. <span class="tactic">intros</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red_b_hypo_true</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="kwd">forall</span> <span class="id">_</span> <span class="id">_</span>, <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">specialize</span> (<span class="id">H</span> <span class="id">b</span> <span class="id">ofs</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: ?<span class="id">x</span> -&gt; <span class="id">_</span>, <span class="id">H</span>': ?<span class="id">x</span> |- <span class="id">_</span> =&gt; <span class="tactic">apply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H</span>'; <span class="tactic">clear</span> <span class="id">H</span>; <span class="tactic">rewrite</span> <span class="id">H</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red_b_goal_true</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="FP.subset_ge_reads_subset">subset_ge_reads_subset</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp1</span> <span class="id">fp2</span>, <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span> -&gt; <span class="id"><a href="Footprint.html#Locs.subset">Locs.subset</a></span> (<span class="id"><a href="Footprint.html#FP.ge_reads">ge_reads</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span>) (<span class="id"><a href="Footprint.html#FP.ge_reads">ge_reads</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5766')">Proof.</div>
<div class="proofscript" id="proof5766">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">fp1</span>, <span class="id">fp2</span>. <span class="tactic">destruct</span> <span class="id">H</span>. <span class="id">unfolds_thrshd</span>. <span class="id">Locs.unfolds</span>. <span class="tactic">intros</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red_b_hypo_true</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="kwd">forall</span> <span class="id">_</span> <span class="id">_</span>, <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">specialize</span> (<span class="id">H</span> <span class="id">b</span> <span class="id">ofs</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: ?<span class="id">x</span> -&gt; <span class="id">_</span>, <span class="id">H</span>': ?<span class="id">x</span> |- <span class="id">_</span> =&gt; <span class="tactic">apply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H</span>'; <span class="tactic">clear</span> <span class="id">H</span>; <span class="tactic">rewrite</span> <span class="id">H</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red_b_goal_true</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="FP.subset_ge_writes_subset">subset_ge_writes_subset</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp1</span> <span class="id">fp2</span>, <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span> -&gt; <span class="id"><a href="Footprint.html#Locs.subset">Locs.subset</a></span> (<span class="id"><a href="Footprint.html#FP.ge_writes">ge_writes</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span>) (<span class="id"><a href="Footprint.html#FP.ge_writes">ge_writes</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5767')">Proof.</div>
<div class="proofscript" id="proof5767">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">fp1</span>, <span class="id">fp2</span>. <span class="tactic">destruct</span> <span class="id">H</span>. <span class="id">unfolds_thrshd</span>. <span class="id">Locs.unfolds</span>. <span class="tactic">intros</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red_b_hypo_true</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="kwd">forall</span> <span class="id">_</span> <span class="id">_</span>, <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">specialize</span> (<span class="id">H</span> <span class="id">b</span> <span class="id">ofs</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: ?<span class="id">x</span> -&gt; <span class="id">_</span>, <span class="id">H</span>': ?<span class="id">x</span> |- <span class="id">_</span> =&gt; <span class="tactic">apply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H</span>'; <span class="tactic">clear</span> <span class="id">H</span>; <span class="tactic">rewrite</span> <span class="id">H</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red_b_goal_true</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="FP.subset_ge_frees_subset">subset_ge_frees_subset</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp1</span> <span class="id">fp2</span>, <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span> -&gt; <span class="id"><a href="Footprint.html#Locs.subset">Locs.subset</a></span> (<span class="id"><a href="Footprint.html#FP.ge_frees">ge_frees</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span>) (<span class="id"><a href="Footprint.html#FP.ge_frees">ge_frees</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5768')">Proof.</div>
<div class="proofscript" id="proof5768">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">fp1</span>, <span class="id">fp2</span>. <span class="tactic">destruct</span> <span class="id">H</span>. <span class="id">unfolds_thrshd</span>. <span class="id">Locs.unfolds</span>. <span class="tactic">intros</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red_b_hypo_true</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="kwd">forall</span> <span class="id">_</span> <span class="id">_</span>, <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">specialize</span> (<span class="id">H</span> <span class="id">b</span> <span class="id">ofs</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: ?<span class="id">x</span> -&gt; <span class="id">_</span>, <span class="id">H</span>': ?<span class="id">x</span> |- <span class="id">_</span> =&gt; <span class="tactic">apply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H</span>'; <span class="tactic">clear</span> <span class="id">H</span>; <span class="tactic">rewrite</span> <span class="id">H</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red_b_goal_true</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="FP.ge_frees_subset_ge_writes">ge_frees_subset_ge_writes</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp</span>, <span class="id"><a href="Footprint.html#Locs.subset">Locs.subset</a></span> (<span class="id"><a href="Footprint.html#FP.ge_frees">ge_frees</a></span> <span class="id"><a href="Footprint.html#fp">fp</a></span>) (<span class="id"><a href="Footprint.html#FP.ge_writes">ge_writes</a></span> <span class="id"><a href="Footprint.html#fp">fp</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5769')">Proof.</div>
<div class="proofscript" id="proof5769">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="tactic">destruct</span> <span class="id">fp</span>. <span class="id">unfolds_thrshd</span>. <span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.locs">locs</a></span>. <span class="id">Locs.unfolds</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">red_boolean_true</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="FP.ge_writes_subset_ge_reads">ge_writes_subset_ge_reads</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp</span>, <span class="id"><a href="Footprint.html#Locs.subset">Locs.subset</a></span> (<span class="id"><a href="Footprint.html#FP.ge_writes">ge_writes</a></span> <span class="id"><a href="Footprint.html#fp">fp</a></span>) (<span class="id"><a href="Footprint.html#FP.ge_reads">ge_reads</a></span> <span class="id"><a href="Footprint.html#fp">fp</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5770')">Proof.</div>
<div class="proofscript" id="proof5770">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="tactic">destruct</span> <span class="id">fp</span>. <span class="id">unfolds_thrshd</span>. <span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.locs">locs</a></span>. <span class="id">Locs.unfolds</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">red_boolean_true</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="FP.ge_reads_subset_ge_cmps">ge_reads_subset_ge_cmps</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp</span>, <span class="id"><a href="Footprint.html#Locs.subset">Locs.subset</a></span> (<span class="id"><a href="Footprint.html#FP.ge_reads">ge_reads</a></span> <span class="id"><a href="Footprint.html#fp">fp</a></span>) (<span class="id"><a href="Footprint.html#FP.ge_cmps">ge_cmps</a></span> <span class="id"><a href="Footprint.html#fp">fp</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5771')">Proof.</div>
<div class="proofscript" id="proof5771">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="tactic">destruct</span> <span class="id">fp</span>. <span class="id">unfolds_thrshd</span>. <span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.locs">locs</a></span>. <span class="id">Locs.unfolds</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">red_boolean_true</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
<br/>
<br/>
<br/>
<br/>
&nbsp;&nbsp;<br/>
<div class="doc">2 footprints conflict if either
      - <span class="bracket"><span class="id">conflict_cf</span></span> : <span class="bracket"><span class="id">cmps</span></span>-<span class="bracket"><span class="id">frees</span></span> conflict
      - <span class="bracket"><span class="id">conflict</span>-<span class="id">rf</span></span> : <span class="bracket"><span class="id">reads</span></span>-<span class="bracket"><span class="id">frees</span></span> conflict
      - <span class="bracket"><span class="id">conflict</span>-<span class="kwd">wf</span></span> : <span class="bracket"><span class="id">writes</span></span>-<span class="bracket"><span class="id">frees</span></span> conflict
      - <span class="bracket"><span class="id">conflict_ff</span></span> : <span class="bracket"><span class="id">frees</span></span>-<span class="bracket"><span class="id">frees</span></span> conflict
      - <span class="bracket"><span class="id">conflict_rw</span></span> : <span class="bracket"><span class="id">reads</span></span>-<span class="bracket"><span class="id">writes</span></span> conflict, conventional read-write conflict
      - <span class="bracket"><span class="id">conflict_ww</span></span> : <span class="bracket"><span class="id">writes</span></span>-<span class="bracket"><span class="id">writes</span></span> conflict, conventional write-write conflict
      The first 4 conflicting cases are required since we extended footprint with <span class="bracket"><span class="id">cmps</span></span> and <span class="bracket"><span class="id">frees</span></span>, and the last 2 conflicting cases are conventional read-write and write-write conflicts. 
   </div>
<br/>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="FP.conflict">conflict</a></span> (<span class="id">fp1</span> <span class="id">fp2</span>: <span class="id"><a href="Footprint.html#FP.t">t</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="FP.conflict_cf">conflict_cf</a></span>: <span class="id"><a href="Footprint.html#Locs.nonemp">Locs.nonemp</a></span> ( <span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> (<span class="id"><a href="Footprint.html#Locs.intersect">Locs.intersect</a></span> <span class="id">fp1</span>.(<span class="id"><a href="Footprint.html#FP.cmps">cmps</a></span>) <span class="id">fp2</span>.(<span class="id"><a href="Footprint.html#FP.frees">frees</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Footprint.html#Locs.intersect">Locs.intersect</a></span> <span class="id">fp2</span>.(<span class="id"><a href="Footprint.html#FP.cmps">cmps</a></span>) <span class="id">fp1</span>.(<span class="id"><a href="Footprint.html#FP.frees">frees</a></span>)) )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id"><a href="Footprint.html#conflict">conflict</a></span> <span class="id">fp1</span> <span class="id">fp2</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="FP.conflict_rf">conflict_rf</a></span>: <span class="id"><a href="Footprint.html#Locs.nonemp">Locs.nonemp</a></span> ( <span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> (<span class="id"><a href="Footprint.html#Locs.intersect">Locs.intersect</a></span> <span class="id">fp1</span>.(<span class="id"><a href="Footprint.html#FP.reads">reads</a></span>) <span class="id">fp2</span>.(<span class="id"><a href="Footprint.html#FP.frees">frees</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Footprint.html#Locs.intersect">Locs.intersect</a></span> <span class="id">fp2</span>.(<span class="id"><a href="Footprint.html#FP.reads">reads</a></span>) <span class="id">fp1</span>.(<span class="id"><a href="Footprint.html#FP.frees">frees</a></span>)) )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id"><a href="Footprint.html#conflict">conflict</a></span> <span class="id">fp1</span> <span class="id">fp2</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="FP.conflict_wf">conflict_wf</a></span>: <span class="id"><a href="Footprint.html#Locs.nonemp">Locs.nonemp</a></span> ( <span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> (<span class="id"><a href="Footprint.html#Locs.intersect">Locs.intersect</a></span> <span class="id">fp1</span>.(<span class="id"><a href="Footprint.html#FP.writes">writes</a></span>) <span class="id">fp2</span>.(<span class="id"><a href="Footprint.html#FP.frees">frees</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Footprint.html#Locs.intersect">Locs.intersect</a></span> <span class="id">fp2</span>.(<span class="id"><a href="Footprint.html#FP.writes">writes</a></span>) <span class="id">fp1</span>.(<span class="id"><a href="Footprint.html#FP.frees">frees</a></span>)) )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id"><a href="Footprint.html#conflict">conflict</a></span> <span class="id">fp1</span> <span class="id">fp2</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="FP.conflict_ff">conflict_ff</a></span>: <span class="id"><a href="Footprint.html#Locs.nonemp">Locs.nonemp</a></span> ( <span class="id"><a href="Footprint.html#Locs.intersect">Locs.intersect</a></span> <span class="id">fp1</span>.(<span class="id"><a href="Footprint.html#FP.frees">frees</a></span>) <span class="id">fp2</span>.(<span class="id"><a href="Footprint.html#FP.frees">frees</a></span>) )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id"><a href="Footprint.html#conflict">conflict</a></span> <span class="id">fp1</span> <span class="id">fp2</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="FP.conflict_rw">conflict_rw</a></span>: <span class="id"><a href="Footprint.html#Locs.nonemp">Locs.nonemp</a></span> ( <span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> (<span class="id"><a href="Footprint.html#Locs.intersect">Locs.intersect</a></span> <span class="id">fp1</span>.(<span class="id"><a href="Footprint.html#FP.reads">reads</a></span>) <span class="id">fp2</span>.(<span class="id"><a href="Footprint.html#FP.writes">writes</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Footprint.html#Locs.intersect">Locs.intersect</a></span> <span class="id">fp2</span>.(<span class="id"><a href="Footprint.html#FP.reads">reads</a></span>) <span class="id">fp1</span>.(<span class="id"><a href="Footprint.html#FP.writes">writes</a></span>)) )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id"><a href="Footprint.html#conflict">conflict</a></span> <span class="id">fp1</span> <span class="id">fp2</span><br/>
&nbsp;&nbsp;| <span class="id"><a name="FP.conflict_ww">conflict_ww</a></span>: <span class="id"><a href="Footprint.html#Locs.nonemp">Locs.nonemp</a></span> ( <span class="id"><a href="Footprint.html#Locs.intersect">Locs.intersect</a></span> <span class="id">fp1</span>.(<span class="id"><a href="Footprint.html#FP.writes">writes</a></span>) <span class="id">fp2</span>.(<span class="id"><a href="Footprint.html#FP.writes">writes</a></span>) )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id"><a href="Footprint.html#conflict">conflict</a></span> <span class="id">fp1</span> <span class="id">fp2</span><br/>
&nbsp;&nbsp;.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id">conflict</span>' (<span class="id">fp1</span> <span class="id">fp2</span>: <span class="id"><a href="Footprint.html#FP.t">t</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id">conflict_cf</span>': <span class="id"><a href="Footprint.html#Locs.nonemp">Locs.nonemp</a></span> (<span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> (<span class="id"><a href="Footprint.html#Locs.intersect">Locs.intersect</a></span> (<span class="id"><a href="Footprint.html#FP.ge_cmps">ge_cmps</a></span> <span class="id">fp1</span>) (<span class="id"><a href="Footprint.html#FP.ge_frees">ge_frees</a></span> <span class="id">fp2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Footprint.html#Locs.intersect">Locs.intersect</a></span> (<span class="id"><a href="Footprint.html#FP.ge_cmps">ge_cmps</a></span> <span class="id">fp2</span>) (<span class="id"><a href="Footprint.html#FP.ge_frees">ge_frees</a></span> <span class="id">fp1</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id">conflict</span>' <span class="id">fp1</span> <span class="id">fp2</span><br/>
&nbsp;&nbsp;| <span class="id">conflict_rw</span>': <span class="id"><a href="Footprint.html#Locs.nonemp">Locs.nonemp</a></span> (<span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> (<span class="id"><a href="Footprint.html#Locs.intersect">Locs.intersect</a></span> (<span class="id"><a href="Footprint.html#FP.ge_reads">ge_reads</a></span> <span class="id">fp1</span>) (<span class="id"><a href="Footprint.html#FP.ge_writes">ge_writes</a></span> <span class="id">fp2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Footprint.html#Locs.intersect">Locs.intersect</a></span> (<span class="id"><a href="Footprint.html#FP.ge_reads">ge_reads</a></span> <span class="id">fp2</span>) (<span class="id"><a href="Footprint.html#FP.ge_writes">ge_writes</a></span> <span class="id">fp1</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id">conflict</span>' <span class="id">fp1</span> <span class="id">fp2</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id">conflict</span>'<span class="id">_conflict_equiv</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp1</span> <span class="id">fp2</span>, <span class="id"><a href="Footprint.html#FP.conflict">conflict</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span> &lt;-&gt; <span class="id">conflict</span>' <span class="id"><a href="Footprint.html#fp1">fp1</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5772')">Proof.</div>
<div class="proofscript" id="proof5772">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">fp1</span>, <span class="id">fp2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">intro</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">destruct</span> <span class="id">H0</span> <span class="kwd">as</span> (<span class="id">b</span>&amp;<span class="id">ofs</span>&amp;<span class="id">H0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1-6: <span class="tactic">try</span> (<span class="id">econstructor</span>; <span class="id">unfolds_thrshd</span>; <span class="id">Locs.unfolds</span>; <span class="id">exists</span> <span class="id">b</span>, <span class="id">ofs</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red_boolean_true</span>; <span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;1-2: <span class="id">unfolds_thrshd</span>; <span class="id">Locs.unfolds</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="id">red_b_hypo_true</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="id">econstructor</span>; <span class="id">Locs.unfolds</span>; <span class="id">exists</span> <span class="id">b</span>, <span class="id">ofs</span>; <span class="tactic">simpl</span>; <span class="id">red_boolean_true</span>; <span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Record</span> <span class="id"><a name="FP.smile">smile</a></span> (<span class="id">fp1</span> <span class="id">fp2</span>: <span class="id"><a href="Footprint.html#FP.t">t</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="FP.smile_cf">smile_cf</a></span>: <span class="id"><a href="Footprint.html#Locs.smile">Locs.smile</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span>.(<span class="id"><a href="Footprint.html#FP.cmps">cmps</a></span>) <span class="id"><a href="Footprint.html#fp2">fp2</a></span>.(<span class="id"><a href="Footprint.html#FP.frees">frees</a></span>) /\ <span class="id"><a href="Footprint.html#Locs.smile">Locs.smile</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span>.(<span class="id"><a href="Footprint.html#FP.cmps">cmps</a></span>) <span class="id"><a href="Footprint.html#fp1">fp1</a></span>.(<span class="id"><a href="Footprint.html#FP.frees">frees</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="FP.smile_rf">smile_rf</a></span>: <span class="id"><a href="Footprint.html#Locs.smile">Locs.smile</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span>.(<span class="id"><a href="Footprint.html#FP.reads">reads</a></span>) <span class="id"><a href="Footprint.html#fp2">fp2</a></span>.(<span class="id"><a href="Footprint.html#FP.frees">frees</a></span>) /\ <span class="id"><a href="Footprint.html#Locs.smile">Locs.smile</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span>.(<span class="id"><a href="Footprint.html#FP.reads">reads</a></span>) <span class="id"><a href="Footprint.html#fp1">fp1</a></span>.(<span class="id"><a href="Footprint.html#FP.frees">frees</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="FP.smile_rw">smile_rw</a></span>: <span class="id"><a href="Footprint.html#Locs.smile">Locs.smile</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span>.(<span class="id"><a href="Footprint.html#FP.reads">reads</a></span>) <span class="id"><a href="Footprint.html#fp2">fp2</a></span>.(<span class="id"><a href="Footprint.html#FP.writes">writes</a></span>) /\ <span class="id"><a href="Footprint.html#Locs.smile">Locs.smile</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span>.(<span class="id"><a href="Footprint.html#FP.reads">reads</a></span>) <span class="id"><a href="Footprint.html#fp1">fp1</a></span>.(<span class="id"><a href="Footprint.html#FP.writes">writes</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="FP.smile_wf">smile_wf</a></span>: <span class="id"><a href="Footprint.html#Locs.smile">Locs.smile</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span>.(<span class="id"><a href="Footprint.html#FP.writes">writes</a></span>) <span class="id"><a href="Footprint.html#fp2">fp2</a></span>.(<span class="id"><a href="Footprint.html#FP.frees">frees</a></span>) /\ <span class="id"><a href="Footprint.html#Locs.smile">Locs.smile</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span>.(<span class="id"><a href="Footprint.html#FP.writes">writes</a></span>) <span class="id"><a href="Footprint.html#fp1">fp1</a></span>.(<span class="id"><a href="Footprint.html#FP.frees">frees</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="FP.smile_ww">smile_ww</a></span>: <span class="id"><a href="Footprint.html#Locs.smile">Locs.smile</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span>.(<span class="id"><a href="Footprint.html#FP.writes">writes</a></span>) <span class="id"><a href="Footprint.html#fp2">fp2</a></span>.(<span class="id"><a href="Footprint.html#FP.writes">writes</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="FP.smile_ff">smile_ff</a></span>: <span class="id"><a href="Footprint.html#Locs.smile">Locs.smile</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span>.(<span class="id"><a href="Footprint.html#FP.frees">frees</a></span>) <span class="id"><a href="Footprint.html#fp2">fp2</a></span>.(<span class="id"><a href="Footprint.html#FP.frees">frees</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Record</span> <span class="id">smile</span>' (<span class="id">fp1</span> <span class="id">fp2</span>: <span class="id"><a href="Footprint.html#FP.t">t</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">smile</span>'<span class="id">_cf</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#Locs.smile">Locs.smile</a></span> (<span class="id"><a href="Footprint.html#FP.ge_cmps">ge_cmps</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span>) (<span class="id"><a href="Footprint.html#FP.ge_frees">ge_frees</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span>) /\ <span class="id"><a href="Footprint.html#Locs.smile">Locs.smile</a></span> (<span class="id"><a href="Footprint.html#FP.ge_cmps">ge_cmps</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span>) (<span class="id"><a href="Footprint.html#FP.ge_frees">ge_frees</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">smile</span>'<span class="id">_rw</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#Locs.smile">Locs.smile</a></span> (<span class="id"><a href="Footprint.html#FP.ge_reads">ge_reads</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span>) (<span class="id"><a href="Footprint.html#FP.ge_writes">ge_writes</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span>) /\ <span class="id"><a href="Footprint.html#Locs.smile">Locs.smile</a></span> (<span class="id"><a href="Footprint.html#FP.ge_reads">ge_reads</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span>) (<span class="id"><a href="Footprint.html#FP.ge_writes">ge_writes</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id">smile</span>'<span class="id">_smile_equiv</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp1</span> <span class="id">fp2</span>, <span class="id"><a href="Footprint.html#FP.smile">smile</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span> &lt;-&gt; <span class="id">smile</span>' <span class="id"><a href="Footprint.html#fp1">fp1</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5773')">Proof.</div>
<div class="proofscript" id="proof5773">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">fp1</span>, <span class="id">fp2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">intro</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>; <span class="id">unfolds_thrshd</span>; <span class="id">Locs.unfolds</span>; <span class="tactic">try</span> <span class="tactic">split</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">intros</span> <span class="id">b</span> <span class="id">ofs</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intuition</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- ?<span class="id">x</span> = ?<span class="id">x</span> =&gt; <span class="tactic">auto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id">_</span> &amp;&amp; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_false_r">andb_false_r</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> &amp;&amp; <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_false_l">andb_false_l</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id">context</span>[<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> || <span class="id">_</span>] =&gt; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_false_l">orb_false_l</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |- <span class="id">context</span>[<span class="id">_</span> || <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>] =&gt; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_false_r">orb_false_r</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="kwd">forall</span> <span class="id">_</span> <span class="id">_</span>, <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">specialize</span> (<span class="id">H</span> <span class="id">b</span> <span class="id">ofs</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> |- <span class="id">_</span> =&gt; <span class="tactic">rewrite</span> <span class="id">H</span>; <span class="tactic">clear</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id">_</span> &amp;&amp; <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> |- <span class="id">_</span> =&gt; <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_false_iff">andb_false_iff</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">destruct</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: ?<span class="id">x</span> || ?<span class="id">y</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> |- <span class="id">_</span> =&gt; <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_false_iff">orb_false_iff</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">destruct</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>).<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="FP.maxsmile">maxsmile</a></span> (<span class="id">fp</span>:<span class="id"><a href="Footprint.html#FP.t">t</a></span>):<span class="id"><a href="Footprint.html#FP.t">t</a></span>:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.Build_t">Build_t</a></span> (<span class="id"><a href="Footprint.html#Locs.complement">Locs.complement</a></span> (<span class="id"><a href="Footprint.html#FP.frees">frees</a></span> <span class="id"><a href="Footprint.html#fp">fp</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Footprint.html#Locs.complement">Locs.complement</a></span> (<span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> (<span class="id"><a href="Footprint.html#FP.writes">writes</a></span> <span class="id"><a href="Footprint.html#fp">fp</a></span>) (<span class="id"><a href="Footprint.html#FP.frees">frees</a></span> <span class="id"><a href="Footprint.html#fp">fp</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Footprint.html#Locs.complement">Locs.complement</a></span> (<span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> (<span class="id"><a href="Footprint.html#FP.reads">reads</a></span> <span class="id"><a href="Footprint.html#fp">fp</a></span>)(<span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> (<span class="id"><a href="Footprint.html#FP.writes">writes</a></span> <span class="id"><a href="Footprint.html#fp">fp</a></span>)(<span class="id"><a href="Footprint.html#FP.frees">frees</a></span> <span class="id"><a href="Footprint.html#fp">fp</a></span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Footprint.html#Locs.complement">Locs.complement</a></span> (<span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> (<span class="id"><a href="Footprint.html#FP.frees">frees</a></span> <span class="id"><a href="Footprint.html#fp">fp</a></span>)(<span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> (<span class="id"><a href="Footprint.html#FP.writes">writes</a></span> <span class="id"><a href="Footprint.html#fp">fp</a></span>)(<span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span>(<span class="id"><a href="Footprint.html#FP.cmps">cmps</a></span> <span class="id"><a href="Footprint.html#fp">fp</a></span>) (<span class="id"><a href="Footprint.html#FP.reads">reads</a></span> <span class="id"><a href="Footprint.html#fp">fp</a></span>))))).<br/>
<br/>
<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="FP.subset_eq">subset_eq</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp1</span> <span class="id">fp2</span>, <span class="id"><a href="Footprint.html#FP.subset">subset</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span> -&gt; <span class="id"><a href="Footprint.html#FP.subset">subset</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span> -&gt; <span class="id"><a href="Footprint.html#FP.eq">eq</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5774')">Proof.</div>
<div class="proofscript" id="proof5774">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">fp1</span> <span class="id">fp2</span> <span class="id">H1</span> <span class="id">H2</span>; <span class="tactic">destruct</span> <span class="id">H1</span>, <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">locs</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="FP.conflict_sym">conflict_sym</a></span> : <span class="kwd">forall</span> <span class="id">fp1</span> <span class="id">fp2</span>, <span class="id"><a href="Footprint.html#FP.conflict">conflict</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span> &lt;-&gt; <span class="id"><a href="Footprint.html#FP.conflict">conflict</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5775')">Proof.</div>
<div class="proofscript" id="proof5775">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="tactic">destruct</span> <span class="id">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.conflict_cf">conflict_cf</a></span> | <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.conflict_rf">conflict_rf</a></span> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.conflict_wf">conflict_wf</a></span> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.conflict_ff">conflict_ff</a></span> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.conflict_rw">conflict_rw</a></span> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.conflict_ww">conflict_ww</a></span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Locs.unfolds</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> (<span class="id">b</span>&amp;<span class="id">ofs</span>&amp;<span class="id">H</span>); <span class="id">exists</span> <span class="id">b</span>, <span class="id">ofs</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">bool</span>).<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Ltac</span> <span class="id">conflict_constructor</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id">H1</span>: <span class="id">_</span> = <span class="id"><a href="Footprint.html#FP.cmps">cmps</a></span> ?<span class="id">x</span> ?<span class="id">b</span> ?<span class="id">ofs</span>, <span class="id">H2</span>: <span class="id">_</span> = <span class="id"><a href="Footprint.html#FP.frees">frees</a></span> ?<span class="id">y</span> ?<span class="id">b</span> ?<span class="id">ofs</span>|- <span class="id"><a href="Footprint.html#FP.conflict">conflict</a></span> ?<span class="id">x</span> ?<span class="id">y</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt; <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.conflict_cf">conflict_cf</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id">H1</span>: <span class="id">_</span> = <span class="id"><a href="Footprint.html#FP.reads">reads</a></span> ?<span class="id">x</span> ?<span class="id">b</span> ?<span class="id">ofs</span>, <span class="id">H2</span>: <span class="id">_</span> = <span class="id"><a href="Footprint.html#FP.frees">frees</a></span> ?<span class="id">y</span> ?<span class="id">b</span> ?<span class="id">ofs</span> |- <span class="id"><a href="Footprint.html#FP.conflict">conflict</a></span> ?<span class="id">x</span> ?<span class="id">y</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt; <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.conflict_rf">conflict_rf</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id">H1</span>: <span class="id">_</span> = <span class="id"><a href="Footprint.html#FP.writes">writes</a></span> ?<span class="id">x</span> ?<span class="id">b</span> ?<span class="id">ofs</span>, <span class="id">H2</span>: <span class="id">_</span> = <span class="id"><a href="Footprint.html#FP.frees">frees</a></span> ?<span class="id">y</span> ?<span class="id">b</span> ?<span class="id">ofs</span> |- <span class="id"><a href="Footprint.html#FP.conflict">conflict</a></span> ?<span class="id">x</span> ?<span class="id">y</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt; <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.conflict_wf">conflict_wf</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id">H1</span>: <span class="id">_</span> = <span class="id"><a href="Footprint.html#FP.frees">frees</a></span> ?<span class="id">x</span> ?<span class="id">b</span> ?<span class="id">ofs</span>, <span class="id">H2</span>: <span class="id">_</span> = <span class="id"><a href="Footprint.html#FP.frees">frees</a></span> ?<span class="id">y</span> ?<span class="id">b</span> ?<span class="id">ofs</span> |- <span class="id"><a href="Footprint.html#FP.conflict">conflict</a></span> ?<span class="id">x</span> ?<span class="id">y</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt; <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.conflict_ff">conflict_ff</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id">H1</span>: <span class="id">_</span> = <span class="id"><a href="Footprint.html#FP.reads">reads</a></span> ?<span class="id">x</span> ?<span class="id">b</span> ?<span class="id">ofs</span>, <span class="id">H2</span>: <span class="id">_</span> = <span class="id"><a href="Footprint.html#FP.writes">writes</a></span> ?<span class="id">y</span> ?<span class="id">b</span> ?<span class="id">ofs</span> |- <span class="id"><a href="Footprint.html#FP.conflict">conflict</a></span> ?<span class="id">x</span> ?<span class="id">y</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt; <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.conflict_rw">conflict_rw</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id">H1</span>: <span class="id">_</span> = <span class="id"><a href="Footprint.html#FP.writes">writes</a></span> ?<span class="id">x</span> ?<span class="id">b</span> ?<span class="id">ofs</span>, <span class="id">H2</span>: <span class="id">_</span> = <span class="id"><a href="Footprint.html#FP.writes">writes</a></span> ?<span class="id">y</span> ?<span class="id">b</span> ?<span class="id">ofs</span> |- <span class="id"><a href="Footprint.html#FP.conflict">conflict</a></span> ?<span class="id">x</span> ?<span class="id">y</span>]<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&gt; <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.conflict_ww">conflict_ww</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="FP.smile_conflict_compat">smile_conflict_compat</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp1</span> <span class="id">fp2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~ <span class="id"><a href="Footprint.html#FP.conflict">conflict</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span> &lt;-&gt; <span class="id"><a href="Footprint.html#FP.smile">smile</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5776')">Proof.</div>
<div class="proofscript" id="proof5776">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>; <span class="id">Locs.unfolds</span>; <span class="tactic">try</span> <span class="tactic">split</span>; <span class="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id">_</span>:<span class="id">_</span> |- ?<span class="id">x</span> &amp;&amp; ?<span class="id">y</span> = <span class="id">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">remember</span> <span class="id">x</span> <span class="kwd">as</span> <span class="id">x</span>'; <span class="id">remember</span> <span class="id">y</span> <span class="kwd">as</span> <span class="id">y</span>';<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">x</span>', <span class="id">y</span>'; <span class="tactic">auto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>; <span class="id">exfalso</span>; <span class="tactic">apply</span> <span class="id">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> (<span class="tactic">try</span> <span class="id">conflict_constructor</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="id">exists</span> <span class="id">b</span>,<span class="id">ofs</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Locs.unfolds</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">bool</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">fail</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.conflict_sym">conflict_sym</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">intros</span> <span class="id">H</span> <span class="id">Contra</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span>, <span class="id">Contra</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Locs.unfolds</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">firstorder</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id">H</span>:<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span>, <span class="id">_</span> |-<span class="id">_</span>] =&gt; <span class="id">specialize</span> (<span class="id">H</span> <span class="id">b</span> <span class="id">ofs</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">bool</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id">smile</span>'<span class="id">_conflict</span>'<span class="id">_compat</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp1</span> <span class="id">fp2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~ <span class="id">conflict</span>' <span class="id"><a href="Footprint.html#fp1">fp1</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span> &lt;-&gt; <span class="id">smile</span>' <span class="id"><a href="Footprint.html#fp1">fp1</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5777')">Proof.</div>
<div class="proofscript" id="proof5777">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">conflict</span>'<span class="id">_conflict_equiv</span>, &lt;- <span class="id">smile</span>'<span class="id">_smile_equiv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.smile_conflict_compat">smile_conflict_compat</a></span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="FP.fp_eq">fp_eq</a></span>:<span class="kwd">forall</span> <span class="id">fp1</span> <span class="id">fp2</span>,<span class="id"><a href="Footprint.html#FP.eq">FP.eq</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span> -&gt; <span class="id"><a href="Footprint.html#fp1">fp1</a></span> = <span class="id"><a href="Footprint.html#fp2">fp2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5778')">Proof.</div>
<div class="proofscript" id="proof5778">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.locs_eq">Locs.locs_eq</a></span> <span class="kwd">in</span> <span class="id">eq_cmps0</span> ;<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.locs_eq">Locs.locs_eq</a></span> <span class="kwd">in</span> <span class="id">eq_frees0</span>; <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.locs_eq">Locs.locs_eq</a></span> <span class="kwd">in</span> <span class="id">eq_writes0</span>; <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.locs_eq">Locs.locs_eq</a></span> <span class="kwd">in</span> <span class="id">eq_reads0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">fp1</span>,<span class="id">fp2</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">eq_cmps0</span>,<span class="id">eq_reads0</span>,<span class="id">eq_writes0</span>,<span class="id">eq_frees0</span>; <span class="tactic">subst</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="FP.eq_sym">eq_sym</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp1</span> <span class="id">fp2</span>, <span class="id"><a href="Footprint.html#FP.eq">eq</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span> -&gt; <span class="id"><a href="Footprint.html#FP.eq">eq</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5779')">Proof.</div>
<div class="proofscript" id="proof5779">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">inversion</span> <span class="id">H</span>; <span class="id">constructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">locs</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id"><a name="FP.union_comm">union_comm</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp1</span> <span class="id">fp2</span>, <span class="id"><a href="Footprint.html#FP.eq">eq</a></span> (<span class="id"><a href="Footprint.html#FP.union">union</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span>) (<span class="id"><a href="Footprint.html#FP.union">union</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5780')">Proof.</div>
<div class="proofscript" id="proof5780">
 <span class="tactic">intros</span>. <span class="id">constructor</span>; <span class="tactic">simpl</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">locs</span>. Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id"><a name="FP.union_comm_eq">union_comm_eq</a></span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp1</span> <span class="id">fp2</span>,<span class="id"><a href="Footprint.html#FP.union">union</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span>=<span class="id"><a href="Footprint.html#FP.union">union</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5781')">Proof.</div>
<div class="proofscript" id="proof5781">
 <span class="tactic">intros</span>;<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.fp_eq">fp_eq</a></span>;<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.union_comm">union_comm</a></span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="FP.union_subset">union_subset</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp1</span> <span class="id">fp2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.subset">subset</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span> (<span class="id"><a href="Footprint.html#FP.union">union</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5782')">Proof.</div>
<div class="proofscript" id="proof5782">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.union">union</a></span>. <span class="id">constructor</span>; <span class="tactic">simpl</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">locs</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="FP.union_emp">union_emp</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp</span>, <span class="id"><a href="Footprint.html#FP.eq">eq</a></span> (<span class="id"><a href="Footprint.html#FP.union">union</a></span> <span class="id"><a href="Footprint.html#fp">fp</a></span> <span class="id"><a href="Footprint.html#FP.emp">emp</a></span>) <span class="id"><a href="Footprint.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5783')">Proof.</div>
<div class="proofscript" id="proof5783">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.union">union</a></span>. <span class="tactic">destruct</span> <span class="id">fp</span>; <span class="id">constructor</span>; <span class="tactic">simpl</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">locs</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id"><a name="FP.fp_union_emp">fp_union_emp</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp</span>,<span class="id"><a href="Footprint.html#FP.union">union</a></span> <span class="id"><a href="Footprint.html#fp">fp</a></span> <span class="id"><a href="Footprint.html#FP.emp">emp</a></span> = <span class="id"><a href="Footprint.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5784')">Proof.</div>
<div class="proofscript" id="proof5784">
 <span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.fp_eq">fp_eq</a></span>. <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.union_emp">union_emp</a></span>. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id"><a name="FP.emp_union_fp">emp_union_fp</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp</span>,<span class="id"><a href="Footprint.html#FP.union">union</a></span> <span class="id"><a href="Footprint.html#FP.emp">emp</a></span> <span class="id"><a href="Footprint.html#fp">fp</a></span> = <span class="id"><a href="Footprint.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5785')">Proof.</div>
<div class="proofscript" id="proof5785">
 <span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.fp_eq">fp_eq</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.union_comm_eq">union_comm_eq</a></span>. <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.union_emp">union_emp</a></span>. Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Theorem</span> <span class="id">fp_union_assoc</span>':<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp1</span> <span class="id">fp2</span> <span class="id">fp3</span>,<span class="id"><a href="Footprint.html#FP.eq">eq</a></span> (<span class="id"><a href="Footprint.html#FP.union">union</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span>(<span class="id"><a href="Footprint.html#FP.union">union</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span> <span class="id"><a href="Footprint.html#fp3">fp3</a></span>))(<span class="id"><a href="Footprint.html#FP.union">union</a></span> (<span class="id"><a href="Footprint.html#FP.union">union</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span>) <span class="id"><a href="Footprint.html#fp3">fp3</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5786')">Proof.</div>
<div class="proofscript" id="proof5786">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.union">union</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">fp1</span>,<span class="id">fp2</span>,<span class="id">fp3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">union_assoc_eq</span>:<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>,<span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> <span class="id"><a href="Footprint.html#x">x</a></span>(<span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> <span class="id"><a href="Footprint.html#y">y</a></span> <span class="id"><a href="Footprint.html#z">z</a></span>) = <span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span>(<span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> <span class="id"><a href="Footprint.html#x">x</a></span> <span class="id"><a href="Footprint.html#y">y</a></span>) <span class="id"><a href="Footprint.html#z">z</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.locs_eq">Locs.locs_eq</a></span>. <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.union_assoc">Locs.union_assoc</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id">union_assoc_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>;<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.eq_refl">Locs.eq_refl</a></span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Corollary</span> <span class="id"><a name="FP.fp_union_assoc">fp_union_assoc</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp1</span> <span class="id">fp2</span> <span class="id">fp3</span>,<span class="id"><a href="Footprint.html#FP.union">union</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span> (<span class="id"><a href="Footprint.html#FP.union">union</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span> <span class="id"><a href="Footprint.html#fp3">fp3</a></span>) = <span class="id"><a href="Footprint.html#FP.union">union</a></span> (<span class="id"><a href="Footprint.html#FP.union">union</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span>) <span class="id"><a href="Footprint.html#fp3">fp3</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5787')">Proof.</div>
<div class="proofscript" id="proof5787">
 <span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.fp_eq">fp_eq</a></span>;<span class="tactic">apply</span> <span class="id">fp_union_assoc</span>'. Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="FP.union2_subset">union2_subset</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp1</span> <span class="id">fp2</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.subset">subset</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.subset">subset</a></span> (<span class="id"><a href="Footprint.html#FP.union">union</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span> <span class="id"><a href="Footprint.html#fp">fp</a></span>) (<span class="id"><a href="Footprint.html#FP.union">union</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span> <span class="id"><a href="Footprint.html#fp">fp</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5788')">Proof.</div>
<div class="proofscript" id="proof5788">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">inversion</span> <span class="id">H</span>. <span class="tactic">clear</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.union">union</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>; <span class="tactic">simpl</span>;<br/>
&nbsp;need&nbsp;similar&nbsp;lemma&nbsp;in&nbsp;Locs&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#Locs.subset">Locs.subset</a></span>, <span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span>, <span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> <span class="kwd">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id">H</span>:<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span>, <span class="id">_</span> |-<span class="id">_</span>] =&gt; <span class="id">specialize</span> (<span class="id">H</span> <span class="id">b</span> <span class="id">ofs</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Footprint.html#FP.cmps">cmps</a></span> <span class="id">fp1</span> <span class="id">_</span> <span class="id">_</span>). <span class="tactic">rewrite</span> <span class="id">subset_cmps0</span>; <span class="tactic">auto</span>. <span class="tactic">inversion</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id">H1</span>. <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">bool</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Footprint.html#FP.reads">reads</a></span> <span class="id">fp1</span> <span class="id">_</span> <span class="id">_</span>). <span class="tactic">rewrite</span> <span class="id">subset_reads0</span>; <span class="tactic">auto</span>. <span class="tactic">inversion</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id">H1</span>. <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">bool</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Footprint.html#FP.writes">writes</a></span> <span class="id">fp1</span> <span class="id">_</span> <span class="id">_</span>). <span class="tactic">rewrite</span> <span class="id">subset_writes0</span>; <span class="tactic">auto</span>. <span class="tactic">inversion</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id">H1</span>. <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">bool</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Footprint.html#FP.frees">frees</a></span> <span class="id">fp1</span> <span class="id">_</span> <span class="id">_</span>). <span class="tactic">rewrite</span> <span class="id">subset_frees0</span>; <span class="tactic">auto</span>. <span class="tactic">inversion</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id">H1</span>. <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">bool</span>.    <br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="FP.subset_union_subset">subset_union_subset</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp1</span> <span class="id">fp2</span> <span class="id">fp</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span> <span class="id">fp</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5789')">Proof.</div>
<div class="proofscript" id="proof5789">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.union">FP.union</a></span>. <span class="tactic">intros</span> [] []; <span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>; <span class="id">constructor</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Locs.unfolds</span>; <span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id">subset_cmps0</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id">H</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Locs.unfolds</span>; <span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id">subset_reads0</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id">H</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Locs.unfolds</span>; <span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id">subset_writes0</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id">H</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Locs.unfolds</span>; <span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id">subset_frees0</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id">H</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="FP.subset_parallel_union">subset_parallel_union</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp1</span> <span class="id">fp1</span>' <span class="id">fp2</span> <span class="id">fp2</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span> <span class="id">fp1</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span> <span class="id">fp2</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span>) (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fp1</span>' <span class="id">fp2</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5790')">Proof.</div>
<div class="proofscript" id="proof5790">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">fp1</span>, <span class="id">fp1</span>', <span class="id">fp2</span>, <span class="id">fp2</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H0</span>; <span class="id">constructor</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> | <span class="id">H</span>: <span class="id">context</span>[<span class="id"><a href="Footprint.html#Locs.subset">Locs.subset</a></span> ?<span class="id">x</span> <span class="id">_</span>] |- <span class="id">context</span>[?<span class="id">x</span>] =&gt; <span class="id">revert</span> <span class="id">H</span> <span class="kwd">end</span>; <span class="tactic">clear</span>; <span class="tactic">intros</span> <span class="id">H1</span> <span class="id">H2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Locs.unfolds</span>; <span class="tactic">intros</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">H</span>; <span class="id">specialize</span> (<span class="id">H1</span> <span class="id">b</span> <span class="id">ofs</span>); <span class="id">specialize</span> (<span class="id">H2</span> <span class="id">b</span> <span class="id">ofs</span>); <span class="id">red_boolean_true</span>; <span class="tactic">intuition</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="FP.subset_refl">subset_refl</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp</span>, <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> <span class="id"><a href="Footprint.html#fp">fp</a></span> <span class="id"><a href="Footprint.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5791')">Proof.</div>
<div class="proofscript" id="proof5791">
 <span class="tactic">clear</span>. <span class="id">constructor</span>; <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.subset_refl">Locs.subset_refl</a></span>. Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="FP.subset_emp">subset_emp</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp</span>, <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> <span class="id"><a href="Footprint.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5792')">Proof.</div>
<div class="proofscript" id="proof5792">
 <span class="tactic">clear</span>. <span class="id">constructor</span>; <span class="tactic">simpl</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">locs</span>. Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="FP.belongsto_subset">belongsto_subset</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp1</span> <span class="id">fp2</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Footprint.html#FP.blocks">blocks</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span>) <span class="id"><a href="Footprint.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Footprint.html#FP.blocks">blocks</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span>) <span class="id"><a href="Footprint.html#b">b</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5793')">Proof.</div>
<div class="proofscript" id="proof5793">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">fp1</span>, <span class="id">fp2</span>. <span class="tactic">destruct</span> <span class="id">H</span>. <span class="id">exists</span> <span class="id">x</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.locs">locs</a></span> <span class="kwd">in</span> *. <span class="id">Locs.unfolds</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red_boolean_true</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id">H</span>:<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span>, <span class="id">_</span> -&gt; <span class="id">_</span> |-<span class="id">_</span>] =&gt; <span class="id">specialize</span> (<span class="id">H</span> <span class="id">b</span> <span class="id">x</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| [<span class="id">H1</span>: ?<span class="id">x</span>, <span class="id">H2</span>: ?<span class="id">x</span> -&gt; <span class="id">_</span> |- <span class="id">_</span>] =&gt; <span class="tactic">apply</span> <span class="id">H2</span> <span class="kwd">in</span> <span class="id">H1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red_boolean_true</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="FP.union_belongsto">union_belongsto</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp1</span> <span class="id">fp2</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Footprint.html#FP.blocks">blocks</a></span> (<span class="id"><a href="Footprint.html#FP.union">union</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span>)) <span class="id"><a href="Footprint.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Footprint.html#FP.blocks">blocks</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span>) <span class="id"><a href="Footprint.html#b">b</a></span> \/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Footprint.html#FP.blocks">blocks</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span>) <span class="id"><a href="Footprint.html#b">b</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5794')">Proof.</div>
<div class="proofscript" id="proof5794">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">fp1</span>, <span class="id">fp2</span>. <span class="tactic">destruct</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span>, <span class="id"><a href="Footprint.html#FP.blocks">blocks</a></span>, <span class="id"><a href="Footprint.html#Locs.blocks">Locs.blocks</a></span>, <span class="id"><a href="Footprint.html#FP.locs">locs</a></span> <span class="kwd">in</span> *; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="id">Locs.unfolds</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">red_boolean_true</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="id">left</span>; <span class="id">exists</span> <span class="id">x</span>; <span class="id">red_boolean_true</span>; <span class="tactic">fail</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="id">right</span>; <span class="id">exists</span> <span class="id">x</span>; <span class="id">red_boolean_true</span>).<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="FP.fp_never_conflict_emp">fp_never_conflict_emp</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp</span>, ~ <span class="id"><a href="Footprint.html#FP.conflict">FP.conflict</a></span> <span class="id"><a href="Footprint.html#fp">fp</a></span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5795')">Proof.</div>
<div class="proofscript" id="proof5795">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H</span>;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#Locs.locs_intersect_emp">Locs.locs_intersect_emp</a></span> <span class="kwd">in</span> <span class="id">H0</span>;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#Locs.locs_intersect_emp_sym">Locs.locs_intersect_emp_sym</a></span> <span class="kwd">in</span> <span class="id">H0</span>;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#Locs.locs_union_emp">Locs.locs_union_emp</a></span> <span class="kwd">in</span> <span class="id">H0</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.locs_emp">Locs.locs_emp</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="FP.emp_never_conflict">emp_never_conflict</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp1</span> <span class="id">fp2</span>, <span class="id"><a href="Footprint.html#FP.conflict">FP.conflict</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span>-&gt; <span class="id"><a href="Footprint.html#fp1">fp1</a></span>&lt;&gt;<span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> /\ <span class="id"><a href="Footprint.html#fp2">fp2</a></span>&lt;&gt; <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5796')">Proof.</div>
<div class="proofscript" id="proof5796">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>; <span class="tactic">subst</span>; <span class="tactic">inversion</span> <span class="id">H</span>;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#Locs.locs_intersect_emp">Locs.locs_intersect_emp</a></span> <span class="kwd">in</span> <span class="id">H0</span>;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#Locs.locs_intersect_emp_sym">Locs.locs_intersect_emp_sym</a></span> <span class="kwd">in</span> <span class="id">H0</span>;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#Locs.locs_union_emp">Locs.locs_union_emp</a></span> <span class="kwd">in</span> <span class="id">H0</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.locs_emp">Locs.locs_emp</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>; <span class="tactic">subst</span>. <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.fp_never_conflict_emp">fp_never_conflict_emp</a></span> <span class="kwd">in</span> <span class="id">H</span>.  <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="FP.maxsmile_smile">maxsmile_smile</a></span>: <span class="kwd">forall</span> <span class="id">fp1</span>,<span class="id"><a href="Footprint.html#FP.smile">smile</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span> (<span class="id"><a href="Footprint.html#FP.maxsmile">maxsmile</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5797')">Proof.</div>
<div class="proofscript" id="proof5797">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>;<span class="tactic">destruct</span> <span class="id">fp1</span>;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.maxsmile">maxsmile</a></span>;<span class="id">constructor</span>;<span class="tactic">simpl</span>;<span class="tactic">try</span> <span class="tactic">split</span>;<span class="id">Locs.unfolds</span>;<span class="tactic">intros</span>;<span class="tactic">destruct</span> (<span class="id">cmps0</span> <span class="id">b</span> <span class="id">ofs</span>) <span class="id">eqn</span>:?,(<span class="id">reads0</span> <span class="id">b</span> <span class="id">ofs</span>)<span class="id">eqn</span>:?,(<span class="id">writes0</span> <span class="id">b</span> <span class="id">ofs</span>) <span class="id">eqn</span>:?,(<span class="id">frees0</span> <span class="id">b</span> <span class="id">ofs</span>) <span class="id">eqn</span>:?;<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">bool</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="FP.maxsmile_smile_subset">maxsmile_smile_subset</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp1</span> <span class="id">fp2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.smile">smile</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.subset">subset</a></span> <span class="id"><a href="Footprint.html#fp1">fp1</a></span> (<span class="id"><a href="Footprint.html#FP.maxsmile">maxsmile</a></span> <span class="id"><a href="Footprint.html#fp2">fp2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof5798')">Proof.</div>
<div class="proofscript" id="proof5798">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">fp1</span> <span class="id">fp2</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.maxsmile">maxsmile</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> <span class="id">H</span>:<span class="id">_</span>/\<span class="id">_</span>|-<span class="id">_</span>=&gt;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>;<span class="tactic">simpl</span>;<span class="tactic">eapply</span> <span class="id"><a href="Footprint.html#Locs.smile_complement_subset">Locs.smile_complement_subset</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.smile_union">Locs.smile_union</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#Locs.union_sym_eq">Locs.union_sym_eq</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.smile_union">Locs.smile_union</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.smile_union">Locs.smile_union</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.smile_sym">Locs.smile_sym</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.smile_union">Locs.smile_union</a></span>;<span class="tactic">auto</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.smile_sym">Locs.smile_sym</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
<span class="kwd">End</span> <span class="id"><a href="Footprint.html#FP">FP</a></span>.<br/>
<br/>
</div>
<div class="footer"><hr/>Generated by coq2html</div>
</body>
</html>
