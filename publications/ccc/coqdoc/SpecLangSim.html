<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module SpecLangSim</title>
<meta name="description" content="Documentation of Coq module SpecLangSim" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module SpecLangSim</h1>
<div class="coq">
<span class="id">From</span> <span class="id">mathcomp.ssreflect</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">fintype</span> <span class="id">ssrnat</span>.  <br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Coqlib.html">Coqlib</a></span> <span class="id"><a href="Maps.html">Maps</a></span> <span class="id"><a href="Axioms.html">Axioms</a></span> <span class="id"><a href="Values.html">Values</a></span> <span class="id"><a href="Integers.html">Integers</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Blockset.html">Blockset</a></span> <span class="id"><a href="CUAST.html">CUAST</a></span> <span class="id"><a href="AST.html">AST</a></span> <span class="id"><a href="Globalenvs.html">Globalenvs</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="LDSim.html">LDSim</a></span> <span class="id"><a href="LDSimDefs.html">LDSimDefs</a></span> <span class="id"><a href="Injections.html">Injections</a></span> <span class="id"><a href="InjRels.html">InjRels</a></span> <span class="id"><a href="ValRels.html">ValRels</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="InteractionSemantics.html">InteractionSemantics</a></span> <span class="id"><a href="SpecLang.html">SpecLang</a></span> <span class="id"><a href="SpecLangWDDET.html">SpecLangWDDET</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="MemClosures.html">MemClosures</a></span> <span class="id"><a href="Memdata.html">Memdata</a></span> <span class="id"><a href="Memperm.html">Memperm</a></span> <span class="id"><a href="MemAux.html">MemAux</a></span> <span class="id"><a href="FMemLemmas.html">FMemLemmas</a></span> <span class="id"><a href="GMemory.html">GMemory</a></span> <span class="id"><a href="FMemory.html">FMemory</a></span> <span class="id"><a href="Footprint.html">Footprint</a></span> <span class="id"><a href="TSOMemLemmas.html">TSOMemLemmas</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LfpG_loadb">LfpG_loadb</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">sge</span> <span class="id">tge</span>:<span class="id"><a href="SpecLang.html#genv">genv</a></span>)<span class="id">mu</span> <span class="id">fl</span> <span class="id">b</span> <span class="id">b</span>' <span class="id">id</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SFIND</span>:<span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="SpecLangSim.html#sge">sge</a></span> <span class="id"><a href="SpecLangSim.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TFIND</span>:<span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="SpecLangSim.html#tge">tge</a></span> <span class="id"><a href="SpecLangSim.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INJB</span>:<span class="id"><a href="Injections.html#inj">inj</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>'),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs.html#ge_init_inj">ge_init_inj</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> <span class="id"><a href="SpecLangSim.html#sge">sge</a></span> <span class="id"><a href="SpecLangSim.html#tge">tge</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemAux.html#no_overlap">no_overlap</a></span> <span class="id"><a href="SpecLangSim.html#fl">fl</a></span> (<span class="id"><a href="Injections.html#SharedTgt">SharedTgt</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">LfpG</span>' <span class="id"><a href="SpecLangSim.html#fl">fl</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> (<span class="id"><a href="SpecLang.html#loadmax_fp">loadmax_fp</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span>)(<span class="id"><a href="SpecLang.html#loadmax_fp">loadmax_fp</a></span> <span class="id">b</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9858')">Proof.</div>
<div class="proofscript" id="proof9858">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="SpecLang.html#loadmax_fp">loadmax_fp</a></span>,<span class="id"><a href="FMemOpFP.html#load_fp">FMemOpFP.load_fp</a></span>,<span class="id"><a href="FMemOpFP.html#range_locset">FMemOpFP.range_locset</a></span>,<span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="tactic">unfold</span> <span class="id"><a href="Globalenvs.html#Senv.find_symbol">Senv.find_symbol</a></span>,<span class="id"><a href="Globalenvs.html#Genv.to_senv">Genv.to_senv</a></span>,<span class="id"><a href="SpecLang.html#F">F</a></span>,<span class="id"><a href="SpecLang.html#V">V</a></span> <span class="kwd">in</span> <span class="id">senv_injected</span>.<br/>
&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">senv_injected</span> <span class="id">id</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">SFIND</span>,<span class="id">TFIND</span> <span class="kwd">in</span> <span class="id">senv_injected</span>. <span class="id">inv</span> <span class="id">senv_injected</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="FMemOpFP.html#emp_loc_match">FMemOpFP.emp_loc_match</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.ge_reads">FP.ge_reads</a></span>;<span class="tactic">simpl</span>;<span class="id">constructor</span>;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span>;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">ex_match</span>. <span class="tactic">subst</span> <span class="id">b0</span>.<br/>
&nbsp;&nbsp;<span class="id">Esimpl</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_true_iff">orb_true_iff</a></span>. <span class="id">left</span>.<br/>
&nbsp;&nbsp;<span class="id">ex_match2</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="id">constructor</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span>,<span class="id"><a href="Footprint.html#FP.blocks">FP.blocks</a></span>,<span class="id"><a href="Footprint.html#FP.locs">FP.locs</a></span>,<span class="id"><a href="Footprint.html#Locs.blocks">Locs.blocks</a></span>,<span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> ! <span class="id"><a href="Footprint.html#Locs.emp_union_locs">Locs.emp_union_locs</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#Locs.locs_union_emp">Locs.locs_union_emp</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;<span class="id">ex_match</span>. <span class="tactic">subst</span> <span class="id">b0</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">mu_inject</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">inj_weak</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">inj_range</span>';<span class="tactic">eauto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="LfpG_storeb">LfpG_storeb</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">sge</span> <span class="id">tge</span>:<span class="id"><a href="SpecLang.html#genv">genv</a></span>) <span class="id">mu</span> <span class="id">fl</span> <span class="id">b</span> <span class="id">b</span>' <span class="id">id</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SFIND</span>:<span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="SpecLangSim.html#sge">sge</a></span> <span class="id"><a href="SpecLangSim.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TFIND</span>:<span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="SpecLangSim.html#tge">tge</a></span> <span class="id"><a href="SpecLangSim.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INJB</span>:<span class="id"><a href="Injections.html#inj">inj</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>'),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs.html#ge_init_inj">ge_init_inj</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> <span class="id"><a href="SpecLangSim.html#sge">sge</a></span> <span class="id"><a href="SpecLangSim.html#tge">tge</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemAux.html#no_overlap">no_overlap</a></span> <span class="id"><a href="SpecLangSim.html#fl">fl</a></span> (<span class="id"><a href="Injections.html#SharedTgt">SharedTgt</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">LfpG</span>' <span class="id"><a href="SpecLangSim.html#fl">fl</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> (<span class="id"><a href="SpecLang.html#storemax_fp">storemax_fp</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span>)(<span class="id"><a href="SpecLang.html#storemax_fp">storemax_fp</a></span> <span class="id">b</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9859')">Proof.</div>
<div class="proofscript" id="proof9859">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="SpecLang.html#storemax_fp">storemax_fp</a></span>,<span class="id"><a href="FMemOpFP.html#store_fp">FMemOpFP.store_fp</a></span>,<span class="id"><a href="FMemOpFP.html#range_locset">FMemOpFP.range_locset</a></span>,<span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="tactic">unfold</span> <span class="id"><a href="Globalenvs.html#Senv.find_symbol">Senv.find_symbol</a></span>,<span class="id"><a href="Globalenvs.html#Genv.to_senv">Genv.to_senv</a></span>,<span class="id"><a href="SpecLang.html#F">F</a></span>,<span class="id"><a href="SpecLang.html#V">V</a></span> <span class="kwd">in</span> <span class="id">senv_injected</span>.<br/>
&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">senv_injected</span> <span class="id">id</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">SFIND</span>,<span class="id">TFIND</span> <span class="kwd">in</span> <span class="id">senv_injected</span>. <span class="id">inv</span> <span class="id">senv_injected</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="FMemOpFP.html#emp_loc_match">FMemOpFP.emp_loc_match</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.ge_writes">FP.ge_writes</a></span>;<span class="tactic">simpl</span>;<span class="id">constructor</span>;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span>;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">ex_match</span>. <span class="tactic">subst</span> <span class="id">b0</span>.<br/>
&nbsp;&nbsp;<span class="id">Esimpl</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#orb_true_iff">orb_true_iff</a></span>. <span class="id">left</span>.<br/>
&nbsp;&nbsp;<span class="id">ex_match2</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="id">constructor</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span>,<span class="id"><a href="Footprint.html#FP.blocks">FP.blocks</a></span>,<span class="id"><a href="Footprint.html#FP.locs">FP.locs</a></span>,<span class="id"><a href="Footprint.html#Locs.blocks">Locs.blocks</a></span>,<span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> ! <span class="id"><a href="Footprint.html#Locs.emp_union_locs">Locs.emp_union_locs</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#Locs.locs_union_emp">Locs.locs_union_emp</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;<span class="id">ex_match</span>. <span class="tactic">subst</span> <span class="id">b0</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">mu_inject</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">inj_weak</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">inj_range</span>';<span class="tactic">eauto</span>.<br/>
Qed.</div>
<span class="kwd">Definition</span> <span class="id"><a name="reachable_closure">reachable_closure</a></span> (<span class="id">m</span>:<span class="id"><a href="GMemory.html#gmem">gmem</a></span>)(<span class="id">B</span>:<span class="id"><a href="Blockset.html#Bset.t">Bset.t</a></span>):=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemClosures.html#reachable">reachable</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span> <span class="id"><a href="SpecLangSim.html#B">B</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> <span class="id"><a href="SpecLangSim.html#B">B</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="rc2">rc2</a></span> (<span class="id">m</span>:<span class="id"><a href="GMemory.html#gmem">gmem</a></span>)(<span class="id">B</span>:<span class="id"><a href="Blockset.html#Bset.t">Bset.t</a></span>):=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> <span class="id"><a href="SpecLangSim.html#B">B</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ofs</span> <span class="id">b</span>' <span class="id">ofs</span>' <span class="id">q</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> <span class="id"><a href="SpecLangSim.html#ofs">ofs</a></span> <span class="id"><a href="Memperm.html#Max">Max</a></span> <span class="id"><a href="Memperm.html#Readable">Readable</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Maps.html#ZMap.get">ZMap.get</a></span> <span class="id"><a href="SpecLangSim.html#ofs">ofs</a></span> (<span class="id"><a href="GMemory.html#GMem.mem_contents">GMem.mem_contents</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span>)!!<span class="id"><a href="SpecLangSim.html#b">b</a></span> = <span class="id"><a href="Memdata.html#Fragment">Fragment</a></span> (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b</span>' <span class="id">ofs</span>') <span class="id"><a href="SpecLangSim.html#q">q</a></span> <span class="id"><a href="SpecLangSim.html#n">n</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> <span class="id"><a href="SpecLangSim.html#B">B</a></span> <span class="id">b</span>'.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="rc_eq">rc_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">B</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#reachable_closure">reachable_closure</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span> <span class="id"><a href="SpecLangSim.html#B">B</a></span> &lt;-&gt; <span class="id"><a href="SpecLangSim.html#rc2">rc2</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span> <span class="id"><a href="SpecLangSim.html#B">B</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9860')">Proof.</div>
<div class="proofscript" id="proof9860">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLangSim.html#reachable_closure">reachable_closure</a></span>,<span class="id"><a href="SpecLangSim.html#rc2">rc2</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 2;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="tactic">dependent</span> <span class="id">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">L</span>;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">IHL</span> <span class="kwd">in</span> <span class="id">H3</span> <span class="kwd">as</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
Qed.</div>
<span class="kwd">Definition</span> <span class="id"><a name="no_undef">no_undef</a></span> (<span class="id">m</span>:<span class="id"><a href="GMemory.html#gmem">gmem</a></span>)(<span class="id">B</span>:<span class="id"><a href="Blockset.html#Bset.t">Bset.t</a></span>):<span class="kwd">Prop</span>:=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#B">B</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> <span class="id"><a href="SpecLangSim.html#ofs">ofs</a></span> <span class="id"><a href="Memperm.html#Max">Max</a></span> <span class="id"><a href="Memperm.html#Readable">Readable</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Maps.html#ZMap.get">ZMap.get</a></span> <span class="id"><a href="SpecLangSim.html#ofs">ofs</a></span> (<span class="id"><a href="GMemory.html#GMem.mem_contents">GMem.mem_contents</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span>)!!<span class="id"><a href="SpecLangSim.html#b">b</a></span> &lt;&gt; <span class="id"><a href="Memdata.html#Undef">Undef</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="no_frag_undef">no_frag_undef</a></span> (<span class="id">m</span>:<span class="id"><a href="GMemory.html#gmem">gmem</a></span>)(<span class="id">B</span>:<span class="id"><a href="Blockset.html#Bset.t">Bset.t</a></span>):<span class="kwd">Prop</span>:=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#B">B</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> <span class="id"><a href="SpecLangSim.html#ofs">ofs</a></span> <span class="id"><a href="Memperm.html#Max">Max</a></span> <span class="id"><a href="Memperm.html#Readable">Readable</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">q</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Maps.html#ZMap.get">ZMap.get</a></span> <span class="id"><a href="SpecLangSim.html#ofs">ofs</a></span> (<span class="id"><a href="GMemory.html#GMem.mem_contents">GMem.mem_contents</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span>)!! <span class="id"><a href="SpecLangSim.html#b">b</a></span> &lt;&gt; <span class="id"><a href="Memdata.html#Fragment">Fragment</a></span> <span class="id"><a href="Values.html#Vundef">Vundef</a></span> <span class="id"><a href="SpecLangSim.html#q">q</a></span> <span class="id"><a href="SpecLangSim.html#n">n</a></span>.<br/>
<br/>
<span class="kwd">Record</span> <span class="id"><a name="nundef">nundef</a></span> (<span class="id">m</span>:<span class="id"><a href="GMemory.html#gmem">gmem</a></span>)(<span class="id">B</span>:<span class="id"><a href="Blockset.html#Bset.t">Bset.t</a></span>):<span class="kwd">Prop</span>:=<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">no_undef</span>': <span class="id"><a href="SpecLangSim.html#no_undef">no_undef</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span> <span class="id"><a href="SpecLangSim.html#B">B</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">no_frag_undef</span>': <span class="id"><a href="SpecLangSim.html#no_frag_undef">no_frag_undef</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span> <span class="id"><a href="SpecLangSim.html#B">B</a></span><br/>
&nbsp;&nbsp;}.<br/>
<br/>
<br/>
<span class="kwd">Local</span> <span class="kwd">Notation</span> "<span class="id">a</span> # <span class="id">b</span>" := (<span class="id"><a href="Maps.html#PMap.get">PMap.get</a></span> <span class="id">b</span> <span class="id">a</span>) (<span class="tactic">at</span> <span class="id">level</span> 1).<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="LfpG_emp">LfpG_emp</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">mu</span> <span class="id">fl</span> <span class="id">fp</span>, <span class="id">LfpG</span>' <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> <span class="id"><a href="SpecLangSim.html#fl">fl</a></span> <span class="id"><a href="SpecLangSim.html#fp">fp</a></span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>;<span class="id">constructor</span>;<span class="tactic">try</span> <span class="id">constructor</span>;<span class="tactic">intros</span>;<span class="tactic">try</span> <span class="id">inv</span> <span class="id">H</span>;<span class="tactic">try</span> <span class="id">inv</span> <span class="id">H0</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="embed_preserve">embed_preserve</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fl</span> <span class="id">m</span> <span class="id">fm</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemory.html#embed">embed</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span> <span class="id"><a href="SpecLangSim.html#fl">fl</a></span> <span class="id"><a href="SpecLangSim.html#fm">fm</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GMemory.html#GMem.forward">GMem.forward</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span> <span class="id">m</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemAux.html#unchg_freelist">unchg_freelist</a></span> <span class="id"><a href="SpecLangSim.html#fl">fl</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span> <span class="id">m</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">fm</span>', <span class="id"><a href="FMemory.html#embed">embed</a></span> <span class="id">m</span>' <span class="id"><a href="SpecLangSim.html#fl">fl</a></span> <span class="id">fm</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9861')">Proof.</div>
<div class="proofscript" id="proof9861">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id"><a href="FMemLemmas.html#gmem_fl_wd_embed">gmem_fl_wd_embed</a></span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id"><a href="FMemLemmas.html#fmem_strip_fl_wd">fmem_strip_fl_wd</a></span> <span class="id">fm</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="FMemLemmas.html#gmem_fl_wd">gmem_fl_wd</a></span> <span class="id">m</span>' (<span class="id"><a href="FMemory.html#Mem.freelist">Mem.freelist</a></span> <span class="id">fm</span>)(<span class="id"><a href="FMemory.html#Mem.nextblockid">Mem.nextblockid</a></span> <span class="id">fm</span>)).<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">valid_wd0</span> <span class="kwd">in</span> <span class="id">H1</span> <span class="kwd">as</span> ?.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="MemAux.html#get_block">get_block</a></span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">unfold</span> <span class="id"><a href="MemAux.html#in_fl">in_fl</a></span> <span class="kwd">in</span> <span class="id">unchanged_on_validity</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">exists</span> <span class="id">n</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html#Str_nth">Streams.Str_nth</a></span> <span class="id"><a href="SpecLangSim.html#n">n</a></span> (<span class="id"><a href="FMemory.html#Mem.freelist">Mem.freelist</a></span> <span class="id">fm</span>) = <span class="id">b</span>).<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">unchanged_on_validity</span> <span class="id">_</span> 0 <span class="id">H3</span>) <span class="kwd">as</span> ?.<br/>
&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">H1</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GMemory.html#GMem.valid_block">GMem.valid_block</a></span> <span class="kwd">in</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">intro</span>;<span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id">H4</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">apply</span> <span class="id">H2</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H2</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">apply</span> <span class="id">H4</span>. <span class="tactic">auto</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="id">eexists</span>. <span class="tactic">eapply</span> <span class="id">H</span> <span class="kwd">with</span>(<span class="id">wd</span>:=<span class="id">H2</span>);<span class="tactic">eauto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="fmem_valid_wd">fmem_valid_wd</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">m</span>:<span class="id"><a href="FMemory.html#mem">mem</a></span>) <span class="id">n</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemAux.html#get_block">get_block</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span>.(<span class="id"><a href="FMemory.html#Mem.freelist">Mem.freelist</a></span>) <span class="id"><a href="SpecLangSim.html#n">n</a></span> = <span class="id"><a href="SpecLangSim.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span>.(<span class="id"><a href="FMemory.html#Mem.validblocks">Mem.validblocks</a></span>) &lt;-&gt; (<span class="id"><a href="SpecLangSim.html#n">n</a></span>&lt;<span class="id"><a href="SpecLangSim.html#m">m</a></span>.(<span class="id"><a href="FMemory.html#Mem.nextblockid">Mem.nextblockid</a></span>))%<span class="id">coq_nat</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9862')">Proof.</div>
<div class="proofscript" id="proof9862">
  <span class="tactic">destruct</span> <span class="id">m</span>;<span class="tactic">simpl</span>;<span class="tactic">intros</span>;<span class="tactic">auto</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="init_embed">init_embed</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">sge</span> <span class="id">tge</span>:<span class="id"><a href="SpecLang.html#genv">genv</a></span>) <span class="id">mu</span> <span class="id">sfl</span> <span class="id">tfl</span> <span class="id">sm</span> <span class="id">tm</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs.html#ge_init_inj">ge_init_inj</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> <span class="id"><a href="SpecLangSim.html#sge">sge</a></span> <span class="id"><a href="SpecLangSim.html#tge">tge</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLang.html#init_gmem">init_gmem</a></span> <span class="id"><a href="SpecLangSim.html#tge">tge</a></span> <span class="id"><a href="SpecLangSim.html#tm">tm</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSim.html#local_init_rel">local_init_rel</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> <span class="id"><a href="SpecLangSim.html#sfl">sfl</a></span> <span class="id"><a href="SpecLangSim.html#sm">sm</a></span> <span class="id"><a href="SpecLangSim.html#tfl">tfl</a></span> <span class="id"><a href="SpecLangSim.html#tm">tm</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">fm</span>, <span class="id"><a href="FMemory.html#embed">embed</a></span> <span class="id"><a href="SpecLangSim.html#tm">tm</a></span> <span class="id"><a href="SpecLangSim.html#tfl">tfl</a></span> <span class="id"><a href="SpecLangSim.html#fm">fm</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9863')">Proof.</div>
<div class="proofscript" id="proof9863">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLang.html#init_gmem">init_gmem</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="kwd">in</span> <span class="id">dom_match_fm</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id"><a href="SpecLangSim.html#fmem_valid_wd">fmem_valid_wd</a></span> <span class="id">x</span> <span class="kwd">as</span> <span class="id">x_valid_wd</span>.<br/>
&nbsp;&nbsp;<span class="id">enough</span>(<span class="id"><a href="FMemLemmas.html#gmem_fl_wd">gmem_fl_wd</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id">x</span>) <span class="id">tfl</span> 0).<br/>
&nbsp;&nbsp;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;<span class="id">eexists</span>; <span class="tactic">eapply</span> <span class="id"><a href="FMemLemmas.html#gmem_fl_wd_embed">gmem_fl_wd_embed</a></span> <span class="kwd">with</span>(<span class="id">wd</span>:=<span class="id">H0</span>) ;<span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="MemAux.html#valid_block_bset">valid_block_bset</a></span>,<span class="id"><a href="GMemory.html#GMem.valid_block">GMem.valid_block</a></span>,<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="kwd">in</span> <span class="id">tfl_free</span>;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">tfl_free</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">tfl_norep</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#strip">strip</a></span>;<span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">tfl_free</span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">intro</span>;<span class="tactic">try</span> <span class="id">contradiction</span>;<span class="tactic">try</span> <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<br/>
<br/>
<span class="kwd">Local</span> <span class="kwd">Ltac</span> <span class="id">solv_eq</span>:=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| [<span class="id">H1</span>: ?<span class="id">P</span> , <span class="id">H2</span> : ?<span class="id">P</span> |- <span class="id">_</span>] =&gt; <span class="tactic">clear</span> <span class="id">H1</span><br/>
&nbsp;&nbsp;| [<span class="id">H1</span>: ?<span class="id">P</span> = <span class="id">_</span>, <span class="id">H2</span>: ?<span class="id">P</span> = <span class="id">_</span> |- <span class="id">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H2</span><br/>
&nbsp;&nbsp;| [<span class="id">H1</span>: ?<span class="id">P</span> = <span class="id">_</span> , <span class="id">H2</span>: <span class="id">_</span> = ?<span class="id">P</span> |- <span class="id">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H2</span><br/>
&nbsp;&nbsp;| [<span class="id">H1</span>: <span class="id">_</span> = ?<span class="id">P</span>, <span class="id">H2</span>: <span class="id">_</span> = ?<span class="id">P</span> |- <span class="id">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H2</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<span class="kwd">Record</span> <span class="id"><a name="ge_lessmatch">ge_lessmatch</a></span> {<span class="id">F1</span> <span class="id">V1</span> : <span class="kwd">Type</span>} (<span class="id">sge</span> : <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="SpecLangSim.html#F1">F1</a></span> <span class="id"><a href="SpecLangSim.html#V1">V1</a></span>) <br/>
(<span class="id">tge</span> : <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="SpecLangSim.html#F1">F1</a></span> <span class="id"><a href="SpecLangSim.html#V1">V1</a></span>) : <span class="kwd">Prop</span> := <span class="id"><a name="Build_ge_match">Build_ge_match</a></span><br/>
&nbsp;&nbsp;{ <span class="id"><a name="genv_public_eq">genv_public_eq</a></span> : <span class="kwd">forall</span> <span class="id">id</span> : <span class="id"><a href="AST.html#ident">ident</a></span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="SpecLangSim.html#id">id</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_public">Genv.genv_public</a></span> <span class="id"><a href="SpecLangSim.html#sge">sge</a></span>) &lt;-&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="SpecLangSim.html#id">id</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_public">Genv.genv_public</a></span> <span class="id"><a href="SpecLangSim.html#tge">tge</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="genv_symb_eq_dom">genv_symb_eq_dom</a></span> : <span class="kwd">forall</span> <span class="id">id</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#positive">positive</a></span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Globalenvs.html#Genv.genv_symb">Genv.genv_symb</a></span> <span class="id"><a href="SpecLangSim.html#sge">sge</a></span>) ! <span class="id"><a href="SpecLangSim.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> &lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Globalenvs.html#Genv.genv_symb">Genv.genv_symb</a></span> <span class="id"><a href="SpecLangSim.html#tge">tge</a></span>) ! <span class="id"><a href="SpecLangSim.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="genv_defs_match">genv_defs_match</a></span> : <span class="kwd">forall</span> (<span class="id">id</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#positive">positive</a></span>) (<span class="id">b</span> <span class="id">b</span>' : <span class="id"><a href="Values.html#block">block</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Globalenvs.html#Genv.genv_symb">Genv.genv_symb</a></span> <span class="id"><a href="SpecLangSim.html#sge">sge</a></span>) ! <span class="id"><a href="SpecLangSim.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Globalenvs.html#Genv.genv_symb">Genv.genv_symb</a></span> <span class="id"><a href="SpecLangSim.html#tge">tge</a></span>) ! <span class="id"><a href="SpecLangSim.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Coqlib.html#option_rel">option_rel</a></span> <span class="id"><a href="LDSimDefs.html#globdef_match">globdef_match</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_defs">Genv.genv_defs</a></span> <span class="id"><a href="SpecLangSim.html#sge">sge</a></span>) ! <span class="id"><a href="SpecLangSim.html#b">b</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Globalenvs.html#Genv.genv_defs">Genv.genv_defs</a></span> <span class="id"><a href="SpecLangSim.html#tge">tge</a></span>) ! <span class="id">b</span>';}.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ge_related_ge_lessmatch">ge_related_ge_lessmatch</a></span>{<span class="id">F</span> <span class="id">V</span>}:<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">ge</span>', @<span class="id"><a href="CUAST.html#ge_related">ge_related</a></span> <span class="id"><a href="SpecLangSim.html#F">F</a></span> <span class="id"><a href="SpecLangSim.html#V">V</a></span> <span class="id"><a href="SpecLangSim.html#ge">ge</a></span> <span class="id">ge</span>'-&gt;@<span class="id"><a href="SpecLangSim.html#ge_lessmatch">ge_lessmatch</a></span> <span class="id"><a href="SpecLangSim.html#F">F</a></span> <span class="id"><a href="SpecLangSim.html#V">V</a></span> <span class="id"><a href="SpecLangSim.html#ge">ge</a></span> <span class="id">ge</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9864')">Proof.</div>
<div class="proofscript" id="proof9864">
&nbsp;&nbsp;<span class="tactic">inversion</span> 1;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>. <span class="tactic">split</span>;<span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intro</span>;<span class="id">specialize</span> (<span class="id">H3</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#id">id</a></span>).<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H3</span>;<span class="tactic">split</span>;<span class="tactic">intro</span>;<span class="tactic">try</span> <span class="tactic">congruence</span>;<span class="tactic">unfold</span> <span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="kwd">in</span> *;<span class="tactic">try</span> <span class="id">solv_eq</span>;<span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">H3</span> <span class="id">id</span>). <span class="id">inv</span> <span class="id">H3</span>;<span class="tactic">unfold</span> <span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="kwd">in</span> *;<span class="id">solv_eq</span>;<span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">solv_eq</span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id">H6</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Globalenvs.html#Genv.genv_defs">Genv.genv_defs</a></span> <span class="id">ge</span>)!<span class="id">b</span> <span class="id">eqn</span>:?;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">g</span>;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v</span>;<span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ge_lessmatch_comm">ge_lessmatch_comm</a></span>{<span class="id">F</span> <span class="id">V</span>}: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>, @<span class="id"><a href="SpecLangSim.html#ge_lessmatch">ge_lessmatch</a></span> <span class="id"><a href="SpecLangSim.html#F">F</a></span> <span class="id"><a href="SpecLangSim.html#V">V</a></span> <span class="id"><a href="SpecLangSim.html#x">x</a></span> <span class="id"><a href="SpecLangSim.html#y">y</a></span> -&gt; <span class="id"><a href="SpecLangSim.html#ge_lessmatch">ge_lessmatch</a></span> <span class="id"><a href="SpecLangSim.html#y">y</a></span> <span class="id"><a href="SpecLangSim.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9865')">Proof.</div>
<div class="proofscript" id="proof9865">
&nbsp;&nbsp;<span class="tactic">destruct</span> 1;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">intro</span>;<span class="tactic">eapply</span> <span class="id">genv_public_eq0</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">intro</span>;<span class="tactic">eapply</span> <span class="id">genv_symb_eq_dom0</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">exploit</span> <span class="id">genv_defs_match0</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="id">inv</span> <span class="id">H1</span>;<span class="id">constructor</span>. <span class="id">inv</span> <span class="id">H4</span>;<span class="id">constructor</span>. <span class="id">inv</span> <span class="id">H1</span>;<span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ge_lessmatch_trans">ge_lessmatch_trans</a></span>{<span class="id">F</span> <span class="id">V</span>}: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">z</span>,@<span class="id"><a href="SpecLangSim.html#ge_lessmatch">ge_lessmatch</a></span> <span class="id"><a href="SpecLangSim.html#F">F</a></span> <span class="id"><a href="SpecLangSim.html#V">V</a></span> <span class="id"><a href="SpecLangSim.html#x">x</a></span> <span class="id"><a href="SpecLangSim.html#y">y</a></span>-&gt; <span class="id"><a href="SpecLangSim.html#ge_lessmatch">ge_lessmatch</a></span> <span class="id"><a href="SpecLangSim.html#y">y</a></span> <span class="id"><a href="SpecLangSim.html#z">z</a></span>-&gt;<span class="id"><a href="SpecLangSim.html#ge_lessmatch">ge_lessmatch</a></span> <span class="id"><a href="SpecLangSim.html#x">x</a></span> <span class="id"><a href="SpecLangSim.html#z">z</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9866')">Proof.</div>
<div class="proofscript" id="proof9866">
&nbsp;&nbsp;<span class="tactic">destruct</span> 1,1.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">intro</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">genv_public_eq0</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">genv_public_eq1</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">genv_public_eq0</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">intro</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">genv_symb_eq_dom0</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">genv_symb_eq_dom1</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">genv_symb_eq_dom0</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Globalenvs.html#Genv.genv_symb">Genv.genv_symb</a></span> <span class="id">y</span>)!<span class="id">id</span> <span class="id">eqn</span>:?.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">genv_defs_match0</span>;<span class="tactic">eauto</span>;<span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">genv_defs_match1</span>;<span class="tactic">eauto</span>;<span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>;<span class="id">inv</span> <span class="id">H2</span>;<span class="tactic">try</span> <span class="tactic">congruence</span>;<span class="tactic">try</span> <span class="id">constructor</span>;<span class="tactic">try</span> <span class="id">solv_eq</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H7</span>;<span class="id">inv</span> <span class="id">H5</span>;<span class="tactic">try</span> <span class="tactic">congruence</span>;<span class="tactic">try</span> <span class="id">constructor</span>;<span class="tactic">try</span> <span class="id">solv_eq</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>;<span class="id">inv</span> <span class="id">H8</span>;<span class="tactic">try</span> <span class="tactic">congruence</span>;<span class="tactic">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">genv_symb_eq_dom0</span> <span class="kwd">in</span> <span class="id">Heqo</span>;<span class="tactic">eauto</span>. <span class="tactic">congruence</span>.<br/>
Qed.</div>
<span class="kwd">Section</span> <span class="id"><a name="MEMORY">MEMORY</a></span>.<br/>
<span class="kwd">Record</span> <span class="id"><a name="mem_rel">mem_rel</a></span> (<span class="id">j</span>:<span class="id"><a href="Blockset.html#Bset.inj">Bset.inj</a></span>)(<span class="id">m1</span> <span class="id">m2</span>:<span class="id"><a href="GMemory.html#gmem">gmem</a></span>):<span class="kwd">Prop</span>:=<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="injective">injective</a></span>: <span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>' <span class="id">b</span>'', <span class="id"><a href="SpecLangSim.html#j">j</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>'-&gt; <span class="id"><a href="SpecLangSim.html#j">j</a></span> <span class="id">b</span>'' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt; <span class="id"><a href="SpecLangSim.html#b">b</a></span> = <span class="id">b</span>'';<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="valid_block_rel">valid_block_rel</a></span>: <span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>', <span class="id"><a href="SpecLangSim.html#j">j</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt; <span class="id"><a href="GMemory.html#GMem.valid_block">GMem.valid_block</a></span> <span class="id"><a href="SpecLangSim.html#m1">m1</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> /\ <span class="id"><a href="GMemory.html#GMem.valid_block">GMem.valid_block</a></span> <span class="id"><a href="SpecLangSim.html#m2">m2</a></span> <span class="id">b</span>';<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="perm_rel">perm_rel</a></span>: <span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>', <span class="id"><a href="SpecLangSim.html#j">j</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt;<span class="kwd">forall</span> <span class="id">ofs</span> <span class="id">k</span> <span class="id">p</span>,<span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span> <span class="id"><a href="SpecLangSim.html#m1">m1</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> <span class="id"><a href="SpecLangSim.html#ofs">ofs</a></span> <span class="id"><a href="SpecLangSim.html#k">k</a></span> <span class="id"><a href="SpecLangSim.html#p">p</a></span> -&gt; <span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span> <span class="id"><a href="SpecLangSim.html#m2">m2</a></span> <span class="id">b</span>' <span class="id"><a href="SpecLangSim.html#ofs">ofs</a></span> <span class="id"><a href="SpecLangSim.html#k">k</a></span> <span class="id"><a href="SpecLangSim.html#p">p</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="perm_rel2">perm_rel2</a></span>: <span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>', <span class="id"><a href="SpecLangSim.html#j">j</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt;<span class="kwd">forall</span> <span class="id">ofs</span> <span class="id">k</span> <span class="id">p</span>,<span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span> <span class="id"><a href="SpecLangSim.html#m2">m2</a></span> <span class="id">b</span>' <span class="id"><a href="SpecLangSim.html#ofs">ofs</a></span> <span class="id"><a href="SpecLangSim.html#k">k</a></span> <span class="id"><a href="SpecLangSim.html#p">p</a></span> -&gt; <span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span> <span class="id"><a href="SpecLangSim.html#m1">m1</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> <span class="id"><a href="SpecLangSim.html#ofs">ofs</a></span> <span class="id"><a href="SpecLangSim.html#k">k</a></span> <span class="id"><a href="SpecLangSim.html#p">p</a></span> \/ ~ <span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span> <span class="id"><a href="SpecLangSim.html#m1">m1</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> <span class="id"><a href="SpecLangSim.html#ofs">ofs</a></span> <span class="id"><a href="Memperm.html#Max">Max</a></span> <span class="id"><a href="Memperm.html#Nonempty">Nonempty</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="val_rel">val_rel</a></span>: <span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>', <span class="id"><a href="SpecLangSim.html#j">j</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>'-&gt;<span class="kwd">forall</span> <span class="id">ofs</span>,<span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span> <span class="id"><a href="SpecLangSim.html#m1">m1</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> <span class="id"><a href="SpecLangSim.html#ofs">ofs</a></span> <span class="id"><a href="Memperm.html#Max">Max</a></span> <span class="id"><a href="Memperm.html#Readable">Readable</a></span> -&gt; <span class="id"><a href="ValRels.html#memval_related">memval_related</a></span> <span class="id"><a href="SpecLangSim.html#j">j</a></span> (<span class="id"><a href="Maps.html#ZMap.get">ZMap.get</a></span> <span class="id"><a href="SpecLangSim.html#ofs">ofs</a></span> (<span class="id"><a href="GMemory.html#GMem.mem_contents">GMem.mem_contents</a></span> <span class="id"><a href="SpecLangSim.html#m1">m1</a></span>)!!<span class="id"><a href="SpecLangSim.html#b">b</a></span>)(<span class="id"><a href="Maps.html#ZMap.get">ZMap.get</a></span> <span class="id"><a href="SpecLangSim.html#ofs">ofs</a></span> (<span class="id"><a href="GMemory.html#GMem.mem_contents">GMem.mem_contents</a></span> <span class="id"><a href="SpecLangSim.html#m2">m2</a></span>)!!<span class="id">b</span>')<br/>
&nbsp;&nbsp;}.<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mem_rel_range_perm_eq">mem_rel_range_perm_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">m1</span> <span class="id">m2</span> <span class="id">b</span> <span class="id">lo</span> <span class="id">hi</span> <span class="id">k</span> <span class="id">p</span> <span class="id">b</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#mem_rel">mem_rel</a></span> <span class="id"><a href="SpecLangSim.html#j">j</a></span> <span class="id"><a href="SpecLangSim.html#m1">m1</a></span> <span class="id"><a href="SpecLangSim.html#m2">m2</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#j">j</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GMemory.html#GMem.range_perm">GMem.range_perm</a></span> <span class="id"><a href="SpecLangSim.html#m1">m1</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> <span class="id"><a href="SpecLangSim.html#lo">lo</a></span> <span class="id"><a href="SpecLangSim.html#hi">hi</a></span> <span class="id"><a href="SpecLangSim.html#k">k</a></span> <span class="id"><a href="SpecLangSim.html#p">p</a></span>-&gt; <span class="id"><a href="GMemory.html#GMem.range_perm">GMem.range_perm</a></span> <span class="id"><a href="SpecLangSim.html#m2">m2</a></span> <span class="id">b</span>' <span class="id"><a href="SpecLangSim.html#lo">lo</a></span> <span class="id"><a href="SpecLangSim.html#hi">hi</a></span> <span class="id"><a href="SpecLangSim.html#k">k</a></span> <span class="id"><a href="SpecLangSim.html#p">p</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9867')">Proof.</div>
<div class="proofscript" id="proof9867">
 <span class="tactic">unfold</span> <span class="id"><a href="GMemory.html#GMem.range_perm">GMem.range_perm</a></span>;<span class="tactic">intros</span>;  <span class="tactic">eapply</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H2</span>;<span class="tactic">eapply</span> <span class="id">H</span>;<span class="tactic">eauto</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="loadmax_memrel">loadmax_memrel</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">m1</span> <span class="id">m2</span> <span class="id">b1</span> <span class="id">b2</span> <span class="id">v1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#mem_rel">mem_rel</a></span> <span class="id"><a href="SpecLangSim.html#j">j</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="SpecLangSim.html#m1">m1</a></span>) (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="SpecLangSim.html#m2">m2</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLang.html#loadmax">loadmax</a></span> <span class="id"><a href="SpecLangSim.html#m1">m1</a></span> <span class="id"><a href="SpecLangSim.html#b1">b1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SpecLangSim.html#v1">v1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#j">j</a></span> <span class="id"><a href="SpecLangSim.html#b1">b1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SpecLangSim.html#b2">b2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v2</span>, <span class="id"><a href="SpecLang.html#loadmax">loadmax</a></span> <span class="id"><a href="SpecLangSim.html#m2">m2</a></span> <span class="id"><a href="SpecLangSim.html#b2">b2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SpecLangSim.html#v2">v2</a></span> /\ <span class="id"><a href="ValRels.html#val_related">val_related</a></span> <span class="id"><a href="SpecLangSim.html#j">j</a></span> <span class="id"><a href="SpecLangSim.html#v1">v1</a></span> <span class="id"><a href="SpecLangSim.html#v2">v2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9868')">Proof.</div>
<div class="proofscript" id="proof9868">
&nbsp;&nbsp;<span class="tactic">intros</span>. <br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLang.html#loadmax">loadmax</a></span> <span class="kwd">in</span> *. <span class="id">ex_match</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="FMemory.html#Mem.range_perm">Mem.range_perm</a></span> <span class="id">m2</span> <span class="id">b2</span> 0 4 <span class="id"><a href="Memperm.html#Max">Max</a></span> <span class="id"><a href="Memperm.html#Readable">Readable</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SpecLangSim.html#mem_rel_range_perm_eq">mem_rel_range_perm_eq</a></span> <span class="kwd">in</span> <span class="id">H</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id">eexists</span>;<span class="tactic">split</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">ex_match2</span>;<span class="tactic">eauto</span>. <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="ValRels.html#decode_val_related">decode_val_related</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_inject">Bset.inj_inject</a></span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H0</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">H3</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> (<span class="id">econstructor</span>;[<span class="tactic">eapply</span> <span class="id">H</span>;<span class="tactic">eauto</span>;<span class="tactic">eapply</span> <span class="id">r</span>;<span class="tactic">eauto</span>;  <span class="tactic">simpl</span>; <span class="tactic">omega</span>|]).<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="storemax_permeq">storemax_permeq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">b</span> <span class="id">v</span> <span class="id">m</span>' <span class="id">b</span>' <span class="id">z</span> <span class="id">p</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLang.html#storemax">storemax</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> <span class="id"><a href="SpecLangSim.html#v">v</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemory.html#Mem.perm">Mem.perm</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span> <span class="id">b</span>' <span class="id"><a href="SpecLangSim.html#z">z</a></span> <span class="id"><a href="SpecLangSim.html#p">p</a></span> <span class="id"><a href="SpecLangSim.html#k">k</a></span> &lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemory.html#Mem.perm">Mem.perm</a></span> <span class="id">m</span>' <span class="id">b</span>' <span class="id"><a href="SpecLangSim.html#z">z</a></span> <span class="id"><a href="SpecLangSim.html#p">p</a></span> <span class="id"><a href="SpecLangSim.html#k">k</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9869')">Proof.</div>
<div class="proofscript" id="proof9869">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLang.html#storemax">storemax</a></span>;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">ex_match</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#Mem.perm">Mem.perm</a></span>;<span class="tactic">simpl</span>;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="storemax_memrel">storemax_memrel</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">m1</span> <span class="id">m2</span> <span class="id">b1</span> <span class="id">b2</span> <span class="id">v1</span> <span class="id">v2</span> <span class="id">m1</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#mem_rel">mem_rel</a></span> <span class="id"><a href="SpecLangSim.html#j">j</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="SpecLangSim.html#m1">m1</a></span>)(<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="SpecLangSim.html#m2">m2</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLang.html#storemax">storemax</a></span> <span class="id"><a href="SpecLangSim.html#m1">m1</a></span> <span class="id"><a href="SpecLangSim.html#b1">b1</a></span> <span class="id"><a href="SpecLangSim.html#v1">v1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m1</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ValRels.html#val_related">val_related</a></span> <span class="id"><a href="SpecLangSim.html#j">j</a></span> <span class="id"><a href="SpecLangSim.html#v1">v1</a></span> <span class="id"><a href="SpecLangSim.html#v2">v2</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#j">j</a></span> <span class="id"><a href="SpecLangSim.html#b1">b1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SpecLangSim.html#b2">b2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">m2</span>',<span class="id"><a href="SpecLang.html#storemax">storemax</a></span> <span class="id"><a href="SpecLangSim.html#m2">m2</a></span> <span class="id"><a href="SpecLangSim.html#b2">b2</a></span> <span class="id"><a href="SpecLangSim.html#v2">v2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m2</span>' /\ <span class="id"><a href="SpecLangSim.html#mem_rel">mem_rel</a></span> <span class="id"><a href="SpecLangSim.html#j">j</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id">m1</span>')(<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id">m2</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9870')">Proof.</div>
<div class="proofscript" id="proof9870">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLang.html#storemax">storemax</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">ex_match</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="FMemory.html#Mem.range_perm">Mem.range_perm</a></span> <span class="id">m2</span> <span class="id">b2</span> 0 (<span class="id"><a href="Memdata.html#size_chunk">size_chunk</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span>) <span class="id"><a href="Memperm.html#Max">Max</a></span> <span class="id"><a href="Memperm.html#Writable">Writable</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SpecLangSim.html#mem_rel_range_perm_eq">mem_rel_range_perm_eq</a></span> <span class="kwd">in</span> <span class="id">H</span>;<span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="id">eexists</span>. <span class="id">ex_match2</span>. <span class="tactic">split</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#strip">strip</a></span>;<span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id">constructor</span>;<span class="tactic">auto</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span>;<span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SpecLangSim.html#val_rel">val_rel</a></span> <span class="kwd">in</span> <span class="id">H0</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">do</span> 2 <span class="tactic">rewrite</span> <span class="id"><a href="Maps.html#PMap.gsspec">PMap.gsspec</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#peq">peq</a></span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">rewrite</span> <span class="id">H2</span> <span class="kwd">in</span> <span class="id">H0</span>;<span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ex_match2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="ValRels.html#memval_related_memval_inject_strict">memval_related_memval_inject_strict</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="ValRels.html#setN_memval_related">setN_memval_related</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_inject">Bset.inj_inject</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SpecLangSim.html#injective">injective</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="ValRels.html#memval_related_memval_inject_strict">memval_related_memval_inject_strict</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">b</span>' &lt;&gt; <span class="id">b2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="id">contradict</span> <span class="id">n</span>. <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ex_match2</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="alloc_memrel">alloc_memrel</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">m1</span> <span class="id">m2</span> <span class="id">lo</span> <span class="id">hi</span> <span class="id">m1</span>' <span class="id">b1</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#mem_rel">mem_rel</a></span> <span class="id"><a href="SpecLangSim.html#j">j</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="SpecLangSim.html#m1">m1</a></span>)(<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="SpecLangSim.html#m2">m2</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemory.html#Mem.alloc">Mem.alloc</a></span> <span class="id"><a href="SpecLangSim.html#m1">m1</a></span> <span class="id"><a href="SpecLangSim.html#lo">lo</a></span> <span class="id"><a href="SpecLangSim.html#hi">hi</a></span> = (<span class="id">m1</span>',<span class="id"><a href="SpecLangSim.html#b1">b1</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">j</span>' <span class="id">m2</span>' <span class="id">b2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemory.html#Mem.alloc">Mem.alloc</a></span> <span class="id"><a href="SpecLangSim.html#m2">m2</a></span> <span class="id"><a href="SpecLangSim.html#lo">lo</a></span> <span class="id"><a href="SpecLangSim.html#hi">hi</a></span> = (<span class="id">m2</span>',<span class="id"><a href="SpecLangSim.html#b2">b2</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#mem_rel">mem_rel</a></span> <span class="id">j</span>' (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id">m1</span>')(<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id">m2</span>') /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>', <span class="id"><a href="SpecLangSim.html#j">j</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt; <span class="id">j</span>' <span class="id"><a href="SpecLangSim.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>') /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="SpecLangSim.html#b">b</a></span>&lt;&gt; <span class="id"><a href="SpecLangSim.html#b1">b1</a></span> -&gt; <span class="kwd">forall</span> <span class="id">b</span>', <span class="id">j</span>' <span class="id"><a href="SpecLangSim.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>'-&gt;<span class="id"><a href="SpecLangSim.html#j">j</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>') /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">j</span>' <span class="id"><a href="SpecLangSim.html#b1">b1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SpecLangSim.html#b2">b2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9871')">Proof.</div>
<div class="proofscript" id="proof9871">
&nbsp;&nbsp;<span class="id">Transparent</span> <span class="id"><a href="FMemory.html#Mem.alloc">Mem.alloc</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">R0</span>:<span class="kwd">forall</span> <span class="id">m</span>,~<span class="id"><a href="FMemory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span> (<span class="id"><a href="FMemory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span>)).<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> []. <span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#Mem.valid_block">Mem.valid_block</a></span>,<span class="id"><a href="FMemory.html#Mem.nextblock">Mem.nextblock</a></span>;<span class="tactic">simpl</span>;<span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">valid_wd</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="tactic">apply</span> <span class="id">H2</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Arith.PeanoNat.html#Nat.lt_neq">Nat.lt_neq</a></span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">R</span>: <span class="id">j</span> <span class="id">b1</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="FMemory.html#Mem.alloc_result">Mem.alloc_result</a></span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">R0</span> <span class="id">m1</span>). <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">j</span> (<span class="id"><a href="FMemory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">m1</span>)) <span class="id">eqn</span>:?;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">Heqo</span> <span class="kwd">as</span> []. <span class="id">contradict</span> <span class="id">R0</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">R2</span>:<span class="kwd">forall</span> <span class="id">b</span>, <span class="id">j</span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> &lt;&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="FMemory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">m2</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">intro</span>. <span class="tactic">apply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H1</span> <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">R0</span> <span class="id">m2</span>).<br/>
&nbsp;&nbsp;<span class="id">contradict</span> <span class="id">R0</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="kwd">fun</span> <span class="id">b</span> =&gt;<span class="kwd">if</span> <span class="id"><a href="Coqlib.html#peq">peq</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> <span class="id">b1</span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="FMemory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">m2</span>) <span class="kwd">else</span> <span class="id">j</span> <span class="id"><a href="SpecLangSim.html#b">b</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#Mem.alloc">Mem.alloc</a></span> <span class="kwd">in</span> *.  <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#strip">strip</a></span>;<span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>;<span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">ex_match2</span>. <span class="tactic">eapply</span> <span class="id">H</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GMemory.html#GMem.valid_block">GMem.valid_block</a></span>;<span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ex_match2</span>;<span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id">H</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SpecLangSim.html#valid_block_rel">valid_block_rel</a></span> <span class="kwd">in</span> <span class="id">H0</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GMemory.html#GMem.valid_block">GMem.valid_block</a></span>,<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span>;<span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">ex_match2</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">rewrite</span>! <span class="id"><a href="Maps.html#PMap.gss">PMap.gss</a></span> <span class="kwd">in</span> *. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">specialize</span> (<span class="id">R2</span> <span class="id">b</span>). <span class="tactic">rewrite</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">R2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">b</span>' &lt;&gt; <span class="id"><a href="FMemory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">m2</span>). <span class="tactic">intro</span>;<span class="tactic">subst</span>;<span class="id">contradict</span> <span class="id">R2</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> ! <span class="id"><a href="Maps.html#PMap.gso">PMap.gso</a></span> <span class="kwd">in</span> *;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span>;<span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">ex_match2</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">rewrite</span>! <span class="id"><a href="Maps.html#PMap.gss">PMap.gss</a></span> <span class="kwd">in</span> *. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">specialize</span> (<span class="id">R2</span> <span class="id">b</span>). <span class="tactic">rewrite</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">R2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">b</span>' &lt;&gt; <span class="id"><a href="FMemory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">m2</span>). <span class="tactic">intro</span>;<span class="tactic">subst</span>;<span class="id">contradict</span> <span class="id">R2</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> ! <span class="id"><a href="Maps.html#PMap.gso">PMap.gso</a></span> <span class="kwd">in</span> *;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span>;<span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>;<span class="id">ex_match2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> ! <span class="id"><a href="Maps.html#PMap.gss">PMap.gss</a></span>,! <span class="id"><a href="Maps.html#ZMap.gi">ZMap.gi</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">specialize</span> (<span class="id">R2</span> <span class="id">b</span>). <span class="tactic">rewrite</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">R2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">b</span>' &lt;&gt; <span class="id"><a href="FMemory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">m2</span>). <span class="tactic">intro</span>;<span class="tactic">subst</span>;<span class="id">contradict</span> <span class="id">R2</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> ! <span class="id"><a href="Maps.html#PMap.gso">PMap.gso</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> ! <span class="id"><a href="Maps.html#PMap.gso">PMap.gso</a></span> <span class="kwd">in</span> <span class="id">H1</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SpecLangSim.html#val_rel">val_rel</a></span> <span class="kwd">in</span> <span class="id">H</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Maps.html#ZMap.t">ZMap.t</a></span>,<span class="id"><a href="Maps.html#PMap.t">PMap.t</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>;<span class="tactic">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H5</span>;<span class="tactic">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ex_match2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id">all</span>: <span class="tactic">intros</span>;<span class="id">ex_match2</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">Opaque</span> <span class="id"><a href="FMemory.html#Mem.alloc">Mem.alloc</a></span>.<br/>
Qed.</div>
<span class="kwd">End</span> <span class="id"><a href="SpecLangSim.html#MEMORY">MEMORY</a></span>.<br/>
<span class="kwd">Record</span> <span class="id"><a name="unmapped_closed">unmapped_closed</a></span> (<span class="id">mu</span>:<span class="id"><a href="Injections.html#Mu">Mu</a></span>)(<span class="id">m</span> <span class="id">m</span>':<span class="id"><a href="GMemory.html#gmem">gmem</a></span>):<span class="kwd">Prop</span>:=<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="unmapped_closure">unmapped_closure</a></span>: <span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">b</span>' <span class="id">ofs</span>' <span class="id">q</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Injections.html#SharedTgt">SharedTgt</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b0</span>, <span class="id"><a href="Injections.html#inj">inj</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> <span class="id"><a href="SpecLangSim.html#b0">b0</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> -&gt; ~ <span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span> <span class="id"><a href="SpecLangSim.html#b0">b0</a></span> <span class="id"><a href="SpecLangSim.html#ofs">ofs</a></span> <span class="id"><a href="Memperm.html#Max">Max</a></span> <span class="id"><a href="Memperm.html#Readable">Readable</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span> <span class="id">m</span>' <span class="id"><a href="SpecLangSim.html#b">b</a></span> <span class="id"><a href="SpecLangSim.html#ofs">ofs</a></span> <span class="id"><a href="Memperm.html#Max">Max</a></span> <span class="id"><a href="Memperm.html#Readable">Readable</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Maps.html#ZMap.get">ZMap.get</a></span> <span class="id"><a href="SpecLangSim.html#ofs">ofs</a></span> (<span class="id"><a href="GMemory.html#GMem.mem_contents">GMem.mem_contents</a></span> <span class="id">m</span>') # <span class="id"><a href="SpecLangSim.html#b">b</a></span> = <span class="id"><a href="Memdata.html#Fragment">Fragment</a></span> (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b</span>' <span class="id">ofs</span>') <span class="id"><a href="SpecLangSim.html#q">q</a></span> <span class="id"><a href="SpecLangSim.html#n">n</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Injections.html#SharedTgt">SharedTgt</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> <span class="id">b</span>';<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="unmapped_no_undef">unmapped_no_undef</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Injections.html#SharedTgt">SharedTgt</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b0</span>, <span class="id"><a href="Injections.html#inj">inj</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> <span class="id"><a href="SpecLangSim.html#b0">b0</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> -&gt; ~ <span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span> <span class="id"><a href="SpecLangSim.html#b0">b0</a></span> <span class="id"><a href="SpecLangSim.html#ofs">ofs</a></span> <span class="id"><a href="Memperm.html#Max">Max</a></span> <span class="id"><a href="Memperm.html#Readable">Readable</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span> <span class="id">m</span>' <span class="id"><a href="SpecLangSim.html#b">b</a></span> <span class="id"><a href="SpecLangSim.html#ofs">ofs</a></span> <span class="id"><a href="Memperm.html#Max">Max</a></span> <span class="id"><a href="Memperm.html#Readable">Readable</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Maps.html#ZMap.get">ZMap.get</a></span> <span class="id"><a href="SpecLangSim.html#ofs">ofs</a></span> (<span class="id"><a href="GMemory.html#GMem.mem_contents">GMem.mem_contents</a></span> <span class="id">m</span>') # <span class="id"><a href="SpecLangSim.html#b">b</a></span> &lt;&gt; <span class="id"><a href="Memdata.html#Undef">Undef</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="unmapped_no_vundef">unmapped_no_vundef</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Injections.html#SharedTgt">SharedTgt</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b0</span>, <span class="id"><a href="Injections.html#inj">inj</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> <span class="id"><a href="SpecLangSim.html#b0">b0</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> -&gt; ~ <span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span> <span class="id"><a href="SpecLangSim.html#b0">b0</a></span> <span class="id"><a href="SpecLangSim.html#ofs">ofs</a></span> <span class="id"><a href="Memperm.html#Max">Max</a></span> <span class="id"><a href="Memperm.html#Readable">Readable</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span> <span class="id">m</span>' <span class="id"><a href="SpecLangSim.html#b">b</a></span> <span class="id"><a href="SpecLangSim.html#ofs">ofs</a></span> <span class="id"><a href="Memperm.html#Max">Max</a></span> <span class="id"><a href="Memperm.html#Readable">Readable</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">q</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Maps.html#ZMap.get">ZMap.get</a></span> <span class="id"><a href="SpecLangSim.html#ofs">ofs</a></span> (<span class="id"><a href="GMemory.html#GMem.mem_contents">GMem.mem_contents</a></span> <span class="id">m</span>') # <span class="id"><a href="SpecLangSim.html#b">b</a></span> &lt;&gt; <span class="id"><a href="Memdata.html#Fragment">Fragment</a></span> <span class="id"><a href="Values.html#Vundef">Vundef</a></span> <span class="id"><a href="SpecLangSim.html#q">q</a></span> <span class="id"><a href="SpecLangSim.html#n">n</a></span>;<br/>
&nbsp;&nbsp;}.<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="reach_closed_unmapped_closed">reach_closed_unmapped_closed</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">mu</span> <span class="id">m</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemClosures.html#reach_closed">reach_closed</a></span> <span class="id">m</span>' (<span class="id"><a href="Injections.html#SharedTgt">SharedTgt</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span>)-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#unmapped_closed">unmapped_closed</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span> <span class="id">m</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9872')">Proof.</div>
<div class="proofscript" id="proof9872">
&nbsp;&nbsp;<span class="tactic">inversion</span> 1;<span class="tactic">subst</span>. <span class="id">constructor</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="SpecLangSim.html#rc_eq">rc_eq</a></span> <span class="kwd">in</span> <span class="id">reachable_closure0</span>. <span class="tactic">unfold</span> <span class="id"><a href="SpecLangSim.html#rc2">rc2</a></span> <span class="kwd">in</span> <span class="id">reachable_closure0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">reachable_closure0</span>;<span class="tactic">eauto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="mem_rel_unmapped_closed_reach_closed">mem_rel_unmapped_closed_reach_closed</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">mu</span> <span class="id">f</span> <span class="id">m</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.inject">Bset.inject</a></span> (<span class="id"><a href="Injections.html#inj">inj</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span>)(<span class="id"><a href="Injections.html#SharedSrc">SharedSrc</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span>)(<span class="id"><a href="Injections.html#SharedTgt">SharedTgt</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span>)-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#mem_rel">mem_rel</a></span> <span class="id"><a href="SpecLangSim.html#f">f</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span> <span class="id">m</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>', <span class="id"><a href="Injections.html#inj">inj</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt; <span class="id"><a href="SpecLangSim.html#f">f</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#unmapped_closed">unmapped_closed</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span> <span class="id">m</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemClosures.html#reach_closed">reach_closed</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span> (<span class="id"><a href="Injections.html#SharedSrc">SharedSrc</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span>)-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemClosures.html#reach_closed">reach_closed</a></span> <span class="id">m</span>' (<span class="id"><a href="Injections.html#SharedTgt">SharedTgt</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9873')">Proof.</div>
<div class="proofscript" id="proof9873">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>. <span class="id">revert</span> <span class="id">L</span> <span class="id">b</span> <span class="id">H5</span>. <span class="tactic">induction</span> <span class="id">L</span>;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H5</span>;<span class="tactic">auto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H5</span>. <span class="tactic">apply</span> <span class="id">IHL</span> <span class="kwd">in</span> <span class="id">H7</span>. <span class="tactic">clear</span> <span class="id">IHL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Blockset.html#Bset.inj_range">Bset.inj_range</a></span>;<span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">H</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> (<span class="id">b</span>'0 &amp; <span class="id">INJ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="GMemory.html#GMem.perm_dec">GMem.perm_dec</a></span> <span class="id">m</span> <span class="id">b</span>'0 <span class="id">z</span> <span class="id"><a href="Memperm.html#Max">Max</a></span> <span class="id"><a href="Memperm.html#Readable">Readable</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SpecLangSim.html#val_rel">val_rel</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="tactic">rewrite</span> <span class="id">H10</span> <span class="kwd">in</span> <span class="id">H4</span>. <span class="id">inv</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H9</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H3</span>. <span class="tactic">apply</span> <span class="id"><a href="SpecLangSim.html#rc_eq">rc_eq</a></span> <span class="kwd">in</span> <span class="id">reachable_closure0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLangSim.html#rc2">rc2</a></span> <span class="kwd">in</span> <span class="id">reachable_closure0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">INJ</span> <span class="kwd">as</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">reachable_closure0</span> <span class="kwd">in</span> <span class="id">H5</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H5</span>;<span class="tactic">eauto</span>. <span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H4</span> <span class="kwd">as</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H5</span> <span class="kwd">in</span> <span class="id">H11</span>. <span class="id">inv</span> <span class="id">H11</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H</span>;<span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Injections.html#inj">inj</a></span> <span class="id">mu</span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt; ~ <span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span> <span class="id">m</span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> <span class="id">z</span> <span class="id"><a href="Memperm.html#Max">Max</a></span> <span class="id"><a href="Memperm.html#Readable">Readable</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">INJ</span>. <span class="tactic">apply</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">b0</span> = <span class="id">b</span>'0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H0</span>;<span class="tactic">eauto</span>. <span class="tactic">subst</span>;<span class="tactic">auto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H2</span> <span class="kwd">in</span> <span class="id">H4</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">inj_weak</span> <span class="kwd">in</span> <span class="id">H4</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span>(<span class="id"><a href="GMemory.html#GMem.perm_dec">GMem.perm_dec</a></span> <span class="id">m</span> <span class="id">x</span> <span class="id">z</span> <span class="id"><a href="Memperm.html#Max">Max</a></span> <span class="id"><a href="Memperm.html#Readable">Readable</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id"><a href="SpecLangSim.html#val_rel">val_rel</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H0</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H6</span> <span class="id">z</span> <span class="id">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H7</span> <span class="kwd">in</span> <span class="id">H8</span>. <span class="id">inv</span> <span class="id">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H10</span>. <span class="id">contradict</span> <span class="id">H10</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H3</span>;<span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id">inj_weak</span>;<span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H2</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H</span>;<span class="tactic">eapply</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">H</span>;<span class="tactic">eauto</span>. <span class="tactic">subst</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">inj_weak</span> <span class="kwd">in</span> <span class="id">H4</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span>(<span class="id"><a href="GMemory.html#GMem.perm_dec">GMem.perm_dec</a></span> <span class="id">m</span> <span class="id">x</span> <span class="id">z</span> <span class="id"><a href="Memperm.html#Max">Max</a></span> <span class="id"><a href="Memperm.html#Readable">Readable</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id"><a href="SpecLangSim.html#val_rel">val_rel</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H0</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H6</span> <span class="id">z</span> <span class="id">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H7</span> <span class="kwd">in</span> <span class="id">H8</span>. <span class="id">inv</span> <span class="id">H8</span>. <span class="id">inv</span> <span class="id">H11</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H9</span>. <span class="id">contradict</span> <span class="id">H9</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H3</span>;<span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id">inj_weak</span>;<span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H2</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H</span>;<span class="tactic">eapply</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">H</span>;<span class="tactic">eauto</span>. <span class="tactic">subst</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="storemax_contents">storemax_contents</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">b</span> <span class="id">v</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLang.html#storemax">storemax</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> <span class="id"><a href="SpecLangSim.html#v">v</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GMemory.html#GMem.mem_contents">GMem.mem_contents</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id">m</span>') =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Maps.html#PMap.set">PMap.set</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="FMemory.html#Mem.setN">Mem.setN</a></span> (<span class="id"><a href="Memdata.html#encode_val">encode_val</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> <span class="id"><a href="SpecLangSim.html#v">v</a></span>) 0<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="FMemory.html#Mem.mem_contents">Mem.mem_contents</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span>) # <span class="id"><a href="SpecLangSim.html#b">b</a></span>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="FMemory.html#Mem.mem_contents">Mem.mem_contents</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9874')">Proof.</div>
<div class="proofscript" id="proof9874">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLang.html#storemax">storemax</a></span>;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">ex_match</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="storemax_unmapped_closed_preserve">storemax_unmapped_closed_preserve</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">mu</span> <span class="id">f</span> <span class="id">m1</span> <span class="id">b1</span> <span class="id">v1</span> <span class="id">m2</span> <span class="id">b2</span> <span class="id">v2</span> <span class="id">m1</span>' <span class="id">m2</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.inject">Bset.inject</a></span> (<span class="id"><a href="Injections.html#inj">inj</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span>)(<span class="id"><a href="Injections.html#SharedSrc">SharedSrc</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span>)(<span class="id"><a href="Injections.html#SharedTgt">SharedTgt</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#mem_rel">mem_rel</a></span> <span class="id"><a href="SpecLangSim.html#f">f</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="SpecLangSim.html#m1">m1</a></span>)(<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="SpecLangSim.html#m2">m2</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>', <span class="id"><a href="Injections.html#inj">inj</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt; <span class="id"><a href="SpecLangSim.html#f">f</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#unmapped_closed">unmapped_closed</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="SpecLangSim.html#m1">m1</a></span>)(<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="SpecLangSim.html#m2">m2</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLang.html#storemax">storemax</a></span> <span class="id"><a href="SpecLangSim.html#m1">m1</a></span> <span class="id"><a href="SpecLangSim.html#b1">b1</a></span> <span class="id"><a href="SpecLangSim.html#v1">v1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m1</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLang.html#storemax">storemax</a></span> <span class="id"><a href="SpecLangSim.html#m2">m2</a></span> <span class="id"><a href="SpecLangSim.html#b2">b2</a></span> <span class="id"><a href="SpecLangSim.html#v2">v2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m2</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#f">f</a></span> <span class="id"><a href="SpecLangSim.html#b1">b1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SpecLangSim.html#b2">b2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#unmapped_closed">unmapped_closed</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id">m1</span>')(<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id">m2</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9875')">Proof.</div>
<div class="proofscript" id="proof9875">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">erewrite</span> <span class="id"><a href="SpecLangSim.html#storemax_contents">storemax_contents</a></span> <span class="kwd">in</span> <span class="id">H9</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SpecLangSim.html#storemax_permeq">storemax_permeq</a></span> <span class="kwd">in</span> <span class="id">H4</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H10</span> <span class="kwd">in</span> <span class="id">H8</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">H10</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Maps.html#PMap.gsspec">PMap.gsspec</a></span> <span class="kwd">in</span> <span class="id">H9</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#peq">peq</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#zlt">zlt</a></span> <span class="id">ofs</span> 0). <span class="tactic">rewrite</span> <span class="id"><a href="FMemory.html#Mem.setN_outside">Mem.setN_outside</a></span> <span class="kwd">in</span> <span class="id">H9</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SpecLangSim.html#unmapped_closure">unmapped_closure</a></span>;<span class="tactic">eauto</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="tactic">eapply</span> <span class="id">H7</span>;<span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="SpecLangSim.html#storemax_permeq">storemax_permeq</a></span> <span class="kwd">in</span> <span class="id">H3</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H3</span>;<span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#zlt">zlt</a></span> <span class="id">ofs</span> 4).  <span class="id">Focus</span> 2. <span class="tactic">rewrite</span> <span class="id"><a href="FMemory.html#Mem.setN_outside">Mem.setN_outside</a></span> <span class="kwd">in</span> <span class="id">H9</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Focus</span> 2. <span class="tactic">simpl</span>. <span class="id">erewrite</span> <span class="id"><a href="SpecLangWDDET.html#minlength">minlength</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SpecLangSim.html#unmapped_closure">unmapped_closure</a></span>;<span class="tactic">eauto</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="tactic">eapply</span> <span class="id">H7</span>;<span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="SpecLangSim.html#storemax_permeq">storemax_permeq</a></span> <span class="kwd">in</span> <span class="id">H3</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H3</span>;<span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Blockset.html#Bset.inj_range">Bset.inj_range</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>;<span class="tactic">eauto</span>. <span class="tactic">intros</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H10</span> <span class="kwd">as</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">H5</span>;<span class="tactic">eauto</span>. <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H7</span> <span class="kwd">in</span> <span class="id">H10</span>. <span class="id">contradict</span> <span class="id">H10</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H3</span> <span class="kwd">as</span> <span class="id">R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLang.html#storemax">storemax</a></span> <span class="kwd">in</span> <span class="id">R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ex_match</span>. <span class="tactic">clear</span> <span class="id">R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="TSOMemLemmas.html#Mem_writable_imp_readable">Mem_writable_imp_readable</a></span> <span class="kwd">in</span> <span class="id">r</span> <span class="kwd">as</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H5</span>. <span class="tactic">split</span>;<span class="tactic">eauto</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="tactic">eapply</span> <span class="id"><a href="SpecLangSim.html#storemax_permeq">storemax_permeq</a></span> <span class="kwd">in</span> <span class="id">H3</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H3</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H2</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H7</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SpecLangSim.html#storemax_permeq">storemax_permeq</a></span> <span class="kwd">in</span> <span class="id">H3</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H3</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">erewrite</span> <span class="id"><a href="SpecLangSim.html#storemax_contents">storemax_contents</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SpecLangSim.html#storemax_permeq">storemax_permeq</a></span> <span class="kwd">in</span> <span class="id">H4</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H9</span> <span class="kwd">in</span> <span class="id">H8</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">H9</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Maps.html#PMap.gsspec">PMap.gsspec</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#peq">peq</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#zlt">zlt</a></span> <span class="id">ofs</span> 0). <span class="tactic">rewrite</span> <span class="id"><a href="FMemory.html#Mem.setN_outside">Mem.setN_outside</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H2</span>;<span class="tactic">eauto</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="tactic">eapply</span> <span class="id">H7</span>;<span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="SpecLangSim.html#storemax_permeq">storemax_permeq</a></span> <span class="kwd">in</span> <span class="id">H3</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H3</span>;<span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#zlt">zlt</a></span> <span class="id">ofs</span> 4).  <span class="id">Focus</span> 2. <span class="tactic">rewrite</span> <span class="id"><a href="FMemory.html#Mem.setN_outside">Mem.setN_outside</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Focus</span> 2. <span class="tactic">simpl</span>. <span class="id">erewrite</span> <span class="id"><a href="SpecLangWDDET.html#minlength">minlength</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H2</span>;<span class="tactic">auto</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="tactic">eapply</span> <span class="id">H7</span>;<span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="SpecLangSim.html#storemax_permeq">storemax_permeq</a></span> <span class="kwd">in</span> <span class="id">H3</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H3</span>;<span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Blockset.html#Bset.inj_range">Bset.inj_range</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>;<span class="tactic">eauto</span>. <span class="tactic">intros</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H9</span> <span class="kwd">as</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">H5</span>;<span class="tactic">eauto</span>. <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H7</span> <span class="kwd">in</span> <span class="id">H9</span>. <span class="id">contradict</span> <span class="id">H9</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H3</span> <span class="kwd">as</span> <span class="id">R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLang.html#storemax">storemax</a></span> <span class="kwd">in</span> <span class="id">R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ex_match</span>. <span class="tactic">clear</span> <span class="id">R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="TSOMemLemmas.html#Mem_writable_imp_readable">Mem_writable_imp_readable</a></span> <span class="kwd">in</span> <span class="id">r</span> <span class="kwd">as</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H5</span>. <span class="tactic">split</span>;<span class="tactic">eauto</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="tactic">eapply</span> <span class="id"><a href="SpecLangSim.html#storemax_permeq">storemax_permeq</a></span> <span class="kwd">in</span> <span class="id">H3</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H3</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H2</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H7</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SpecLangSim.html#storemax_permeq">storemax_permeq</a></span> <span class="kwd">in</span> <span class="id">H3</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H3</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">erewrite</span> <span class="id"><a href="SpecLangSim.html#storemax_contents">storemax_contents</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SpecLangSim.html#storemax_permeq">storemax_permeq</a></span> <span class="kwd">in</span> <span class="id">H4</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H9</span> <span class="kwd">in</span> <span class="id">H8</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">H9</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Maps.html#PMap.gsspec">PMap.gsspec</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#peq">peq</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#zlt">zlt</a></span> <span class="id">ofs</span> 0). <span class="tactic">rewrite</span> <span class="id"><a href="FMemory.html#Mem.setN_outside">Mem.setN_outside</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H2</span>;<span class="tactic">eauto</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="tactic">eapply</span> <span class="id">H7</span>;<span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="SpecLangSim.html#storemax_permeq">storemax_permeq</a></span> <span class="kwd">in</span> <span class="id">H3</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H3</span>;<span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#zlt">zlt</a></span> <span class="id">ofs</span> 4).  <span class="id">Focus</span> 2. <span class="tactic">rewrite</span> <span class="id"><a href="FMemory.html#Mem.setN_outside">Mem.setN_outside</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Focus</span> 2. <span class="tactic">simpl</span>. <span class="id">erewrite</span> <span class="id"><a href="SpecLangWDDET.html#minlength">minlength</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H2</span>;<span class="tactic">auto</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="tactic">eapply</span> <span class="id">H7</span>;<span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="SpecLangSim.html#storemax_permeq">storemax_permeq</a></span> <span class="kwd">in</span> <span class="id">H3</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H3</span>;<span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Blockset.html#Bset.inj_range">Bset.inj_range</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>;<span class="tactic">eauto</span>. <span class="tactic">intros</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H9</span> <span class="kwd">as</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">H5</span>;<span class="tactic">eauto</span>. <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H7</span> <span class="kwd">in</span> <span class="id">H9</span>. <span class="id">contradict</span> <span class="id">H9</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H3</span> <span class="kwd">as</span> <span class="id">R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLang.html#storemax">storemax</a></span> <span class="kwd">in</span> <span class="id">R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ex_match</span>. <span class="tactic">clear</span> <span class="id">R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="TSOMemLemmas.html#Mem_writable_imp_readable">Mem_writable_imp_readable</a></span> <span class="kwd">in</span> <span class="id">r</span> <span class="kwd">as</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H5</span>. <span class="tactic">split</span>;<span class="tactic">eauto</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="tactic">eapply</span> <span class="id"><a href="SpecLangSim.html#storemax_permeq">storemax_permeq</a></span> <span class="kwd">in</span> <span class="id">H3</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H3</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H2</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H7</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SpecLangSim.html#storemax_permeq">storemax_permeq</a></span> <span class="kwd">in</span> <span class="id">H3</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H3</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="alloc_valid_change_result">alloc_valid_change_result</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">lo</span> <span class="id">hi</span> <span class="id">m</span>' <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemory.html#Mem.alloc">Mem.alloc</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span> <span class="id"><a href="SpecLangSim.html#lo">lo</a></span> <span class="id"><a href="SpecLangSim.html#hi">hi</a></span> = (<span class="id">m</span>',<span class="id"><a href="SpecLangSim.html#b">b</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id">m</span>' <span class="id">b</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~ <span class="id"><a href="FMemory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span> <span class="id">b</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#b">b</a></span> = <span class="id">b</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9876')">Proof.</div>
<div class="proofscript" id="proof9876">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#Mem.valid_block">Mem.valid_block</a></span>;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="FMemory.html#Mem.alloc_validblocks">Mem.alloc_validblocks</a></span> <span class="kwd">in</span> <span class="id">H0</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">destruct</span> <span class="id">H0</span>;<span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="FMemory.html#Mem.alloc_result">Mem.alloc_result</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">congruence</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="alloc_unmapped_closed_preserve">alloc_unmapped_closed_preserve</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">mu</span> <span class="id">f</span> <span class="id">f</span>' <span class="id">m1</span> <span class="id">lo</span> <span class="id">hi</span> <span class="id">m1</span>' <span class="id">b1</span> <span class="id">m2</span> <span class="id">m2</span>' <span class="id">b2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.inject">Bset.inject</a></span> (<span class="id"><a href="Injections.html#inj">inj</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span>)(<span class="id"><a href="Injections.html#SharedSrc">SharedSrc</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span>)(<span class="id"><a href="Injections.html#SharedTgt">SharedTgt</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#mem_rel">mem_rel</a></span> <span class="id"><a href="SpecLangSim.html#f">f</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="SpecLangSim.html#m1">m1</a></span>)(<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="SpecLangSim.html#m2">m2</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>', <span class="id"><a href="Injections.html#inj">inj</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt; <span class="id"><a href="SpecLangSim.html#f">f</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>')-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>', <span class="id"><a href="SpecLangSim.html#f">f</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt; <span class="id">f</span>' <span class="id"><a href="SpecLangSim.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#unmapped_closed">unmapped_closed</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="SpecLangSim.html#m1">m1</a></span>)(<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="SpecLangSim.html#m2">m2</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemory.html#Mem.alloc">Mem.alloc</a></span> <span class="id"><a href="SpecLangSim.html#m1">m1</a></span> <span class="id"><a href="SpecLangSim.html#lo">lo</a></span> <span class="id"><a href="SpecLangSim.html#hi">hi</a></span> = (<span class="id">m1</span>', <span class="id"><a href="SpecLangSim.html#b1">b1</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemory.html#Mem.alloc">Mem.alloc</a></span> <span class="id"><a href="SpecLangSim.html#m2">m2</a></span> <span class="id"><a href="SpecLangSim.html#lo">lo</a></span> <span class="id"><a href="SpecLangSim.html#hi">hi</a></span> = (<span class="id">m2</span>', <span class="id"><a href="SpecLangSim.html#b2">b2</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#mem_rel">mem_rel</a></span> <span class="id">f</span>' (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id">m1</span>')(<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id">m2</span>') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">f</span>' <span class="id"><a href="SpecLangSim.html#b1">b1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SpecLangSim.html#b2">b2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#unmapped_closed">unmapped_closed</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id">m1</span>')(<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id">m2</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9877')">Proof.</div>
<div class="proofscript" id="proof9877">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_dec">in_dec</a></span> <span class="id"><a href="Values.html#eq_block">eq_block</a></span> <span class="id">b</span> (<span class="id"><a href="GMemory.html#GMem.validblocks">GMem.validblocks</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id">m2</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span>&lt;- <span class="id"><a href="TSOMemLemmas.html#GMem_contents_get_block_alloc_eq">GMem_contents_get_block_alloc_eq</a></span> <span class="kwd">with</span>(<span class="id">fsm</span>:=<span class="id">m2</span>) <span class="kwd">in</span> <span class="id">H11</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="FMemory.html#Mem.perm_alloc_4">Mem.perm_alloc_4</a></span> <span class="kwd">in</span> <span class="id">H10</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H3</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id">H9</span> <span class="kwd">in</span> <span class="id">H12</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>;<span class="id">contradict</span> <span class="id">H12</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="FMemory.html#Mem.perm_alloc_1">Mem.perm_alloc_1</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="FMemory.html#Mem.alloc_result">Mem.alloc_result</a></span> <span class="kwd">in</span> <span class="id">H5</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GMemory.html#GMem.validblocks">GMem.validblocks</a></span>,<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="kwd">in</span> <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id"><a href="TSOMemLemmas.html#next_block_not_in_validblock">next_block_not_in_validblock</a></span> <span class="id">m2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#Memperm_validblock">Memperm_validblock</a></span> <span class="kwd">in</span> <span class="id">H10</span> <span class="kwd">as</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SpecLangSim.html#alloc_valid_change_result">alloc_valid_change_result</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H8</span> <span class="kwd">as</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H13</span> <span class="kwd">as</span> ?. <span class="tactic">apply</span> <span class="id">H2</span> <span class="kwd">in</span> <span class="id">H14</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H6</span> <span class="kwd">in</span> <span class="id">H7</span>;<span class="tactic">eauto</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H9</span> <span class="kwd">in</span> <span class="id">H13</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">contradict</span> <span class="id">H13</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="FMemory.html#Mem.perm_alloc_3">Mem.perm_alloc_3</a></span> <span class="kwd">in</span> <span class="id">H10</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="FMemory.html#Mem.perm_alloc_2">Mem.perm_alloc_2</a></span> <span class="kwd">with</span>(<span class="id">k</span>:=<span class="id"><a href="Memperm.html#Max">Max</a></span>) <span class="kwd">in</span> <span class="id">H4</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span>,<span class="id"><a href="FMemory.html#strip">strip</a></span>;<span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#Mem.perm">Mem.perm</a></span> <span class="kwd">in</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">Mem.perm_order</span>' <span class="kwd">in</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="FMemory.html#Mem.mem_access">Mem.mem_access</a></span> <span class="id">m1</span>')#<span class="id">b1</span> <span class="id">ofs</span> <span class="id"><a href="Memperm.html#Max">Max</a></span>) <span class="id">eqn</span>:?;<span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>;<span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_dec">in_dec</a></span> <span class="id"><a href="Values.html#eq_block">eq_block</a></span> <span class="id">b</span> (<span class="id"><a href="GMemory.html#GMem.validblocks">GMem.validblocks</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id">m2</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> &lt;-<span class="id"><a href="TSOMemLemmas.html#GMem_contents_get_block_alloc_eq">GMem_contents_get_block_alloc_eq</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="FMemory.html#Mem.perm_alloc_4">Mem.perm_alloc_4</a></span> <span class="kwd">in</span> <span class="id">H10</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H3</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id">H9</span> <span class="kwd">in</span> <span class="id">H11</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>;<span class="id">contradict</span> <span class="id">H11</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="FMemory.html#Mem.perm_alloc_1">Mem.perm_alloc_1</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>;<span class="tactic">apply</span> <span class="id"><a href="FMemory.html#Mem.alloc_result">Mem.alloc_result</a></span> <span class="kwd">in</span> <span class="id">H5</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GMemory.html#GMem.validblocks">GMem.validblocks</a></span>,<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="kwd">in</span> <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id"><a href="TSOMemLemmas.html#next_block_not_in_validblock">next_block_not_in_validblock</a></span> <span class="id">m2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#Memperm_validblock">Memperm_validblock</a></span> <span class="kwd">in</span> <span class="id">H10</span> <span class="kwd">as</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SpecLangSim.html#alloc_valid_change_result">alloc_valid_change_result</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H8</span> <span class="kwd">as</span> ?. <span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H12</span> <span class="kwd">as</span> ?. <span class="tactic">apply</span> <span class="id">H2</span> <span class="kwd">in</span> <span class="id">H13</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H6</span> <span class="kwd">in</span> <span class="id">H7</span>;<span class="tactic">eauto</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H9</span> <span class="kwd">in</span> <span class="id">H12</span>. <span class="id">contradict</span> <span class="id">H12</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="FMemory.html#Mem.perm_alloc_3">Mem.perm_alloc_3</a></span> <span class="kwd">in</span> <span class="id">H10</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="FMemory.html#Mem.perm_alloc_2">Mem.perm_alloc_2</a></span> <span class="kwd">with</span>(<span class="id">k</span>:=<span class="id"><a href="Memperm.html#Max">Max</a></span>) <span class="kwd">in</span> <span class="id">H4</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span>,<span class="id"><a href="FMemory.html#strip">strip</a></span>,<span class="id"><a href="FMemory.html#Mem.perm">Mem.perm</a></span>,<span class="id">Mem.perm_order</span>' <span class="kwd">in</span> *;<span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="FMemory.html#Mem.mem_access">Mem.mem_access</a></span> <span class="id">m1</span>')#<span class="id">b1</span> <span class="id">ofs</span> <span class="id"><a href="Memperm.html#Max">Max</a></span>) <span class="id">eqn</span>:?;<span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>;<span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_dec">in_dec</a></span> <span class="id"><a href="Values.html#eq_block">eq_block</a></span> <span class="id">b</span> (<span class="id"><a href="GMemory.html#GMem.validblocks">GMem.validblocks</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id">m2</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> &lt;-<span class="id"><a href="TSOMemLemmas.html#GMem_contents_get_block_alloc_eq">GMem_contents_get_block_alloc_eq</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="FMemory.html#Mem.perm_alloc_4">Mem.perm_alloc_4</a></span> <span class="kwd">in</span> <span class="id">H10</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H3</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id">H9</span> <span class="kwd">in</span> <span class="id">H11</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>;<span class="id">contradict</span> <span class="id">H11</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="FMemory.html#Mem.perm_alloc_1">Mem.perm_alloc_1</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>;<span class="tactic">apply</span> <span class="id"><a href="FMemory.html#Mem.alloc_result">Mem.alloc_result</a></span> <span class="kwd">in</span> <span class="id">H5</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GMemory.html#GMem.validblocks">GMem.validblocks</a></span>,<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="kwd">in</span> <span class="id">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id"><a href="TSOMemLemmas.html#next_block_not_in_validblock">next_block_not_in_validblock</a></span> <span class="id">m2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#Memperm_validblock">Memperm_validblock</a></span> <span class="kwd">in</span> <span class="id">H10</span> <span class="kwd">as</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SpecLangSim.html#alloc_valid_change_result">alloc_valid_change_result</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H8</span> <span class="kwd">as</span> ?. <span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H12</span> <span class="kwd">as</span> ?. <span class="tactic">apply</span> <span class="id">H2</span> <span class="kwd">in</span> <span class="id">H13</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H6</span> <span class="kwd">in</span> <span class="id">H7</span>;<span class="tactic">eauto</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H9</span> <span class="kwd">in</span> <span class="id">H12</span>. <span class="id">contradict</span> <span class="id">H12</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="FMemory.html#Mem.perm_alloc_3">Mem.perm_alloc_3</a></span> <span class="kwd">in</span> <span class="id">H10</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="FMemory.html#Mem.perm_alloc_2">Mem.perm_alloc_2</a></span> <span class="kwd">with</span>(<span class="id">k</span>:=<span class="id"><a href="Memperm.html#Max">Max</a></span>) <span class="kwd">in</span> <span class="id">H4</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span>,<span class="id"><a href="FMemory.html#strip">strip</a></span>,<span class="id"><a href="FMemory.html#Mem.perm">Mem.perm</a></span>,<span class="id">Mem.perm_order</span>' <span class="kwd">in</span> *;<span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="FMemory.html#Mem.mem_access">Mem.mem_access</a></span> <span class="id">m1</span>')#<span class="id">b1</span> <span class="id">ofs</span> <span class="id"><a href="Memperm.html#Max">Max</a></span>) <span class="id">eqn</span>:?;<span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>;<span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
Qed.</div>
<span class="kwd">Definition</span> <span class="id"><a name="match_tmp">match_tmp</a></span> (<span class="id">f</span>:<span class="id"><a href="Blockset.html#Bset.inj">Bset.inj</a></span>)(<span class="id">t1</span> <span class="id">t2</span>:<span class="id"><a href="SpecLang.html#tmp">tmp</a></span>):<span class="kwd">Prop</span>:=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">id</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ValRels.html#val_related">val_related</a></span> <span class="id"><a href="SpecLangSim.html#f">f</a></span> (<span class="id"><a href="SpecLangSim.html#t1">t1</a></span> <span class="id"><a href="SpecLangSim.html#id">id</a></span>)(<span class="id"><a href="SpecLangSim.html#t2">t2</a></span> <span class="id"><a href="SpecLangSim.html#id">id</a></span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="setid">setid</a></span> (<span class="id">te</span>:<span class="id"><a href="SpecLang.html#tmp">tmp</a></span>)(<span class="id">va</span>:<span class="id"><a href="AST.html#ident">ident</a></span>)(<span class="id">vb</span>:<span class="id"><a href="Values.html#val">val</a></span>):<span class="id"><a href="SpecLang.html#tmp">tmp</a></span>:=<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="kwd">if</span> <span class="id"><a href="Coqlib.html#peq">peq</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> <span class="id"><a href="SpecLangSim.html#va">va</a></span> <span class="kwd">then</span> <span class="id"><a href="SpecLangSim.html#vb">vb</a></span> <span class="kwd">else</span> <span class="id"><a href="SpecLangSim.html#te">te</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span>.<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="setid_comm">setid_comm</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span> <span class="id">v1</span> <span class="id">v2</span> <span class="id">a1</span> <span class="id">a2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#a1">a1</a></span> &lt;&gt; <span class="id"><a href="SpecLangSim.html#v1">v1</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#setid">setid</a></span> (<span class="id"><a href="SpecLangSim.html#setid">setid</a></span> <span class="id"><a href="SpecLangSim.html#t">t</a></span> <span class="id"><a href="SpecLangSim.html#v1">v1</a></span> <span class="id"><a href="SpecLangSim.html#v2">v2</a></span>) <span class="id"><a href="SpecLangSim.html#a1">a1</a></span> <span class="id"><a href="SpecLangSim.html#a2">a2</a></span> = <span class="id"><a href="SpecLangSim.html#setid">setid</a></span> (<span class="id"><a href="SpecLangSim.html#setid">setid</a></span> <span class="id"><a href="SpecLangSim.html#t">t</a></span> <span class="id"><a href="SpecLangSim.html#a1">a1</a></span> <span class="id"><a href="SpecLangSim.html#a2">a2</a></span>) <span class="id"><a href="SpecLangSim.html#v1">v1</a></span> <span class="id"><a href="SpecLangSim.html#v2">v2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9878')">Proof.</div>
<div class="proofscript" id="proof9878">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLangSim.html#setid">setid</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Axioms.html#functional_extensionality">functional_extensionality</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#peq">peq</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Coqlib.html#peq_false">peq_false</a></span>;<span class="tactic">auto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="setid_set">setid_set</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span> <span class="id">v1</span> <span class="id">v2</span> <span class="id">v3</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#setid">setid</a></span> (<span class="id"><a href="SpecLangSim.html#setid">setid</a></span> <span class="id"><a href="SpecLangSim.html#t">t</a></span> <span class="id"><a href="SpecLangSim.html#v1">v1</a></span> <span class="id"><a href="SpecLangSim.html#v2">v2</a></span>) <span class="id"><a href="SpecLangSim.html#v1">v1</a></span> <span class="id"><a href="SpecLangSim.html#v3">v3</a></span> = <span class="id"><a href="SpecLangSim.html#setid">setid</a></span> <span class="id"><a href="SpecLangSim.html#t">t</a></span> <span class="id"><a href="SpecLangSim.html#v1">v1</a></span> <span class="id"><a href="SpecLangSim.html#v3">v3</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9879')">Proof.</div>
<div class="proofscript" id="proof9879">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLangSim.html#setid">setid</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Axioms.html#functional_extensionality">functional_extensionality</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#peq">peq</a></span>;<span class="tactic">auto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="setid_match_tmp">setid_match_tmp</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">t1</span> <span class="id">t2</span> <span class="id">id</span> <span class="id">v1</span> <span class="id">v2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#match_tmp">match_tmp</a></span> <span class="id"><a href="SpecLangSim.html#j">j</a></span> <span class="id"><a href="SpecLangSim.html#t1">t1</a></span> <span class="id"><a href="SpecLangSim.html#t2">t2</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ValRels.html#val_related">val_related</a></span> <span class="id"><a href="SpecLangSim.html#j">j</a></span> <span class="id"><a href="SpecLangSim.html#v1">v1</a></span> <span class="id"><a href="SpecLangSim.html#v2">v2</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#match_tmp">match_tmp</a></span> <span class="id"><a href="SpecLangSim.html#j">j</a></span> (<span class="id"><a href="SpecLangSim.html#setid">setid</a></span> <span class="id"><a href="SpecLangSim.html#t1">t1</a></span> <span class="id"><a href="SpecLangSim.html#id">id</a></span> <span class="id"><a href="SpecLangSim.html#v1">v1</a></span>)(<span class="id"><a href="SpecLangSim.html#setid">setid</a></span> <span class="id"><a href="SpecLangSim.html#t2">t2</a></span> <span class="id"><a href="SpecLangSim.html#id">id</a></span> <span class="id"><a href="SpecLangSim.html#v2">v2</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9880')">Proof.</div>
<div class="proofscript" id="proof9880">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLangSim.html#match_tmp">match_tmp</a></span>,<span class="id"><a href="SpecLangSim.html#setid">setid</a></span>;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#peq">peq</a></span>;<span class="tactic">eauto</span>.<br/>
Qed.</div>
<span class="kwd">Definition</span> <span class="id"><a name="match_stmt">match_stmt</a></span> (<span class="id">f</span>:<span class="id"><a href="Blockset.html#Bset.inj">Bset.inj</a></span>)(<span class="id">s1</span> <span class="id">s2</span>:<span class="id"><a href="SpecLang.html#stmt">stmt</a></span>):<span class="kwd">Prop</span>:= <span class="id"><a href="SpecLangSim.html#s1">s1</a></span> = <span class="id"><a href="SpecLangSim.html#s2">s2</a></span>.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="match_cont">match_cont</a></span>:<span class="id"><a href="Blockset.html#Bset.inj">Bset.inj</a></span>-&gt;<span class="id"><a href="SpecLang.html#cont">cont</a></span>-&gt;<span class="id"><a href="SpecLang.html#cont">cont</a></span>-&gt;<span class="kwd">Prop</span>:=<br/>
| <span class="id"><a name="match_Kstop">match_Kstop</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#match_cont">match_cont</a></span> <span class="id"><a href="SpecLangSim.html#f">f</a></span> <span class="id"><a href="SpecLang.html#Kstop">Kstop</a></span> <span class="id"><a href="SpecLang.html#Kstop">Kstop</a></span><br/>
| <span class="id"><a name="match_Kseq">match_Kseq</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">t1</span> <span class="id">t2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#match_stmt">match_stmt</a></span> <span class="id"><a href="SpecLangSim.html#f">f</a></span> <span class="id"><a href="SpecLangSim.html#s1">s1</a></span> <span class="id"><a href="SpecLangSim.html#s2">s2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#match_cont">match_cont</a></span> <span class="id"><a href="SpecLangSim.html#f">f</a></span> <span class="id"><a href="SpecLangSim.html#t1">t1</a></span> <span class="id"><a href="SpecLangSim.html#t2">t2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#match_cont">match_cont</a></span> <span class="id"><a href="SpecLangSim.html#f">f</a></span> (<span class="id"><a href="SpecLang.html#Kseq">Kseq</a></span> <span class="id"><a href="SpecLangSim.html#s1">s1</a></span> <span class="id"><a href="SpecLangSim.html#t1">t1</a></span>)(<span class="id"><a href="SpecLang.html#Kseq">Kseq</a></span> <span class="id"><a href="SpecLangSim.html#s2">s2</a></span> <span class="id"><a href="SpecLangSim.html#t2">t2</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="match_cont_eq">match_cont_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">t1</span> <span class="id">t2</span>, <span class="id"><a href="SpecLangSim.html#match_cont">match_cont</a></span> <span class="id"><a href="SpecLangSim.html#f">f</a></span> <span class="id"><a href="SpecLangSim.html#t1">t1</a></span> <span class="id"><a href="SpecLangSim.html#t2">t2</a></span> -&gt; <span class="id"><a href="SpecLangSim.html#t1">t1</a></span> = <span class="id"><a href="SpecLangSim.html#t2">t2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9881')">Proof.</div>
<div class="proofscript" id="proof9881">
 <span class="tactic">induction</span> 1;<span class="tactic">congruence</span>. Qed.</div>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="match_core">match_core</a></span> :<span class="id"><a href="Blockset.html#Bset.inj">Bset.inj</a></span>-&gt; <span class="id"><a href="SpecLang.html#core">core</a></span>-&gt;<span class="id"><a href="SpecLang.html#core">core</a></span>-&gt;<span class="kwd">Prop</span>:=<br/>
| <span class="id"><a name="match_call_state">match_call_state</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">s</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#match_core">match_core</a></span> <span class="id"><a href="SpecLangSim.html#f">f</a></span> (<span class="id"><a href="SpecLang.html#CallStateIn">CallStateIn</a></span> <span class="id"><a href="SpecLangSim.html#s">s</a></span>)(<span class="id"><a href="SpecLang.html#CallStateIn">CallStateIn</a></span> <span class="id"><a href="SpecLangSim.html#s">s</a></span>)<br/>
| <span class="id"><a name="match_core_state">match_core_state</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">s</span> <span class="id">k</span> <span class="id">te</span> <span class="id">k</span>' <span class="id">te</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#match_cont">match_cont</a></span> <span class="id"><a href="SpecLangSim.html#f">f</a></span> <span class="id"><a href="SpecLangSim.html#k">k</a></span> <span class="id">k</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#match_tmp">match_tmp</a></span> <span class="id"><a href="SpecLangSim.html#f">f</a></span> <span class="id"><a href="SpecLangSim.html#te">te</a></span> <span class="id">te</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#match_core">match_core</a></span> <span class="id"><a href="SpecLangSim.html#f">f</a></span> (<span class="id"><a href="SpecLang.html#State">State</a></span> <span class="id"><a href="SpecLangSim.html#s">s</a></span> <span class="id"><a href="SpecLangSim.html#k">k</a></span> <span class="id"><a href="SpecLangSim.html#te">te</a></span>)(<span class="id"><a href="SpecLang.html#State">State</a></span> <span class="id"><a href="SpecLangSim.html#s">s</a></span> <span class="id">k</span>' <span class="id">te</span>')<br/>
| <span class="id"><a name="match_entatom_state">match_entatom_state</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">s</span> <span class="id">k</span> <span class="id">te</span> <span class="id">k</span>' <span class="id">te</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#match_cont">match_cont</a></span> <span class="id"><a href="SpecLangSim.html#f">f</a></span> <span class="id"><a href="SpecLangSim.html#k">k</a></span> <span class="id">k</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#match_tmp">match_tmp</a></span> <span class="id"><a href="SpecLangSim.html#f">f</a></span> <span class="id"><a href="SpecLangSim.html#te">te</a></span> <span class="id">te</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#match_core">match_core</a></span> <span class="id"><a href="SpecLangSim.html#f">f</a></span> (<span class="id"><a href="SpecLang.html#EntAtomState">EntAtomState</a></span> <span class="id"><a href="SpecLangSim.html#s">s</a></span> <span class="id"><a href="SpecLangSim.html#k">k</a></span> <span class="id"><a href="SpecLangSim.html#te">te</a></span>)(<span class="id"><a href="SpecLang.html#EntAtomState">EntAtomState</a></span> <span class="id"><a href="SpecLangSim.html#s">s</a></span> <span class="id">k</span>' <span class="id">te</span>')<br/>
| <span class="id"><a name="match_atom_state">match_atom_state</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">s</span> <span class="id">k</span> <span class="id">k0</span> <span class="id">te</span> <span class="id">k</span>' <span class="id">k0</span>' <span class="id">te</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#match_cont">match_cont</a></span> <span class="id"><a href="SpecLangSim.html#f">f</a></span> <span class="id"><a href="SpecLangSim.html#k">k</a></span> <span class="id">k</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#match_cont">match_cont</a></span> <span class="id"><a href="SpecLangSim.html#f">f</a></span> <span class="id"><a href="SpecLangSim.html#k0">k0</a></span> <span class="id">k0</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#match_tmp">match_tmp</a></span> <span class="id"><a href="SpecLangSim.html#f">f</a></span> <span class="id"><a href="SpecLangSim.html#te">te</a></span> <span class="id">te</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#match_core">match_core</a></span> <span class="id"><a href="SpecLangSim.html#f">f</a></span> (<span class="id"><a href="SpecLang.html#AtomState">AtomState</a></span> <span class="id"><a href="SpecLangSim.html#s">s</a></span> <span class="id"><a href="SpecLangSim.html#k">k</a></span> <span class="id"><a href="SpecLangSim.html#k0">k0</a></span> <span class="id"><a href="SpecLangSim.html#te">te</a></span>)(<span class="id"><a href="SpecLang.html#AtomState">AtomState</a></span> <span class="id"><a href="SpecLangSim.html#s">s</a></span> <span class="id">k</span>' <span class="id">k0</span>' <span class="id">te</span>')<br/>
| <span class="id"><a name="match_ext_state">match_ext_state</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">k</span> <span class="id">te</span> <span class="id">k</span>' <span class="id">te</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#match_cont">match_cont</a></span> <span class="id"><a href="SpecLangSim.html#f">f</a></span> <span class="id"><a href="SpecLangSim.html#k">k</a></span> <span class="id">k</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#match_tmp">match_tmp</a></span> <span class="id"><a href="SpecLangSim.html#f">f</a></span> <span class="id"><a href="SpecLangSim.html#te">te</a></span> <span class="id">te</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#match_core">match_core</a></span> <span class="id"><a href="SpecLangSim.html#f">f</a></span> (<span class="id"><a href="SpecLang.html#ExtAtomState">ExtAtomState</a></span> <span class="id"><a href="SpecLangSim.html#k">k</a></span> <span class="id"><a href="SpecLangSim.html#te">te</a></span>)(<span class="id"><a href="SpecLang.html#ExtAtomState">ExtAtomState</a></span> <span class="id">k</span>' <span class="id">te</span>').<br/>
&nbsp;&nbsp;<br/>
<span class="kwd">Definition</span> <span class="id"><a name="mu_inv">mu_inv</a></span> (<span class="id">mu</span>:<span class="id"><a href="Injections.html#Mu">Mu</a></span>)(<span class="id">sfl</span> <span class="id">tfl</span>:<span class="id"><a href="MemAux.html#freelist">freelist</a></span>):<span class="kwd">Prop</span>:=<br/>
&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.inject">Bset.inject</a></span> (<span class="id"><a href="Injections.html#inj">inj</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span>) (<span class="id"><a href="Injections.html#SharedSrc">SharedSrc</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span>) (<span class="id"><a href="Injections.html#SharedTgt">SharedTgt</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span>)/\<br/>
&nbsp;&nbsp;<span class="id"><a href="MemAux.html#norep">norep</a></span> <span class="id"><a href="SpecLangSim.html#sfl">sfl</a></span> /\ <span class="id"><a href="MemAux.html#norep">norep</a></span> <span class="id"><a href="SpecLangSim.html#tfl">tfl</a></span> /\<br/>
&nbsp;&nbsp;<span class="id"><a href="MemAux.html#no_overlap">no_overlap</a></span> <span class="id"><a href="SpecLangSim.html#sfl">sfl</a></span> (<span class="id"><a href="Injections.html#SharedSrc">SharedSrc</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span>) /\<br/>
&nbsp;&nbsp;<span class="id"><a href="MemAux.html#no_overlap">no_overlap</a></span> <span class="id"><a href="SpecLangSim.html#tfl">tfl</a></span> (<span class="id"><a href="Injections.html#SharedTgt">SharedTgt</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="inj_inv">inj_inv</a></span> (<span class="id">j</span>:<span class="id"><a href="Blockset.html#Bset.inj">Bset.inj</a></span>)(<span class="id">mu</span>:<span class="id"><a href="Injections.html#Mu">Mu</a></span>)(<span class="id">sfl</span> <span class="id">tfl</span>:<span class="id"><a href="MemAux.html#freelist">freelist</a></span>):<span class="kwd">Prop</span>:=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#j">j</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;( <span class="id"><a href="MemAux.html#in_fl">in_fl</a></span> <span class="id"><a href="SpecLangSim.html#sfl">sfl</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> /\ <span class="id"><a href="MemAux.html#in_fl">in_fl</a></span> <span class="id"><a href="SpecLangSim.html#tfl">tfl</a></span> <span class="id">b</span>') \/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;( <span class="id"><a href="Injections.html#inj">inj</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>').<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="inj_j">inj_j</a></span> (<span class="id">j</span>:<span class="id"><a href="Blockset.html#Bset.inj">Bset.inj</a></span>):<span class="kwd">Prop</span>:=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>' <span class="id">b</span>'',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#j">j</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#j">j</a></span> <span class="id">b</span>'' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#b">b</a></span> = <span class="id">b</span>''.<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="rc_rc2">rc_rc2</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemClosures.html#reach_closed">reach_closed</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> -&gt; <span class="id"><a href="SpecLangSim.html#rc2">rc2</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9882')">Proof.</div>
<div class="proofscript" id="proof9882">
 <span class="tactic">inversion</span> 1;<span class="tactic">subst</span>;<span class="tactic">apply</span> <span class="id"><a href="SpecLangSim.html#rc_eq">rc_eq</a></span>;<span class="tactic">auto</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="rc_nundef">rc_nundef</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemClosures.html#reach_closed">reach_closed</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span>-&gt; <span class="id"><a href="SpecLangSim.html#nundef">nundef</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9883')">Proof.</div>
<div class="proofscript" id="proof9883">
 <span class="tactic">inversion</span> 1;<span class="tactic">subst</span>. <span class="id">constructor</span>. <span class="tactic">unfold</span> <span class="id"><a href="SpecLangSim.html#no_undef">no_undef</a></span>;<span class="tactic">auto</span>. <span class="tactic">unfold</span> <span class="id"><a href="SpecLangSim.html#no_frag_undef">no_frag_undef</a></span>;<span class="tactic">auto</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="rc2_nundef_rc">rc2_nundef_rc</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#rc2">rc2</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#nundef">nundef</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemClosures.html#reach_closed">reach_closed</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9884')">Proof.</div>
<div class="proofscript" id="proof9884">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="SpecLangSim.html#rc_eq">rc_eq</a></span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">unfold</span> <span class="id"><a href="SpecLangSim.html#no_undef">no_undef</a></span>,<span class="id"><a href="SpecLangSim.html#no_frag_undef">no_frag_undef</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>;<span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="gmeminv">gmeminv</a></span> <span class="id">f</span> <span class="id">mu</span> <span class="id">m1</span> <span class="id">m2</span> <span class="id">sfl</span> <span class="id">tfl</span>:=<br/>
&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#unmapped_closed">unmapped_closed</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> <span class="id"><a href="SpecLangSim.html#m1">m1</a></span> <span class="id"><a href="SpecLangSim.html#m2">m2</a></span>/\<br/>
&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#mem_rel">mem_rel</a></span> <span class="id"><a href="SpecLangSim.html#f">f</a></span> <span class="id"><a href="SpecLangSim.html#m1">m1</a></span> <span class="id"><a href="SpecLangSim.html#m2">m2</a></span> /\<br/>
&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#inj_inv">inj_inv</a></span> <span class="id"><a href="SpecLangSim.html#f">f</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> <span class="id"><a href="SpecLangSim.html#sfl">sfl</a></span> <span class="id"><a href="SpecLangSim.html#tfl">tfl</a></span> /\<br/>
&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#mu_inv">mu_inv</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> <span class="id"><a href="SpecLangSim.html#sfl">sfl</a></span> <span class="id"><a href="SpecLangSim.html#tfl">tfl</a></span> /\<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>', <span class="id"><a href="Injections.html#inj">inj</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt; <span class="id"><a href="SpecLangSim.html#f">f</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>')/\<span class="id"><a href="SpecLangSim.html#inj_j">inj_j</a></span> <span class="id"><a href="SpecLangSim.html#f">f</a></span>.<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="gmeminv_mu_inject">gmeminv_mu_inject</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">mu</span> <span class="id">sfl</span> <span class="id">tfl</span> <span class="id">Hm</span> <span class="id">Lm</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#gmeminv">gmeminv</a></span> <span class="id"><a href="SpecLangSim.html#f">f</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> <span class="id"><a href="SpecLangSim.html#Hm">Hm</a></span> <span class="id"><a href="SpecLangSim.html#Lm">Lm</a></span> <span class="id"><a href="SpecLangSim.html#sfl">sfl</a></span> <span class="id"><a href="SpecLangSim.html#tfl">tfl</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemClosures.html#reach_closed">reach_closed</a></span> <span class="id"><a href="SpecLangSim.html#Hm">Hm</a></span> (<span class="id"><a href="Injections.html#SharedSrc">SharedSrc</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs.html#Inv">Inv</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> <span class="id"><a href="SpecLangSim.html#Hm">Hm</a></span> <span class="id"><a href="SpecLangSim.html#Lm">Lm</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9885')">Proof.</div>
<div class="proofscript" id="proof9885">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLangSim.html#gmeminv">gmeminv</a></span>,<span class="id"><a href="LDSimDefs.html#Inv">Inv</a></span>;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">intros</span>;<span class="id">ex_match</span>;<span class="id">inv</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_0_r">Z.add_0_r</a></span>. <span class="tactic">eapply</span> <span class="id">H1</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.divide_0_r">Z.divide_0_r</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SpecLangSim.html#val_rel">val_rel</a></span> <span class="kwd">in</span> <span class="id">H1</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_0_r">Z.add_0_r</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H9</span>;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">eapply</span> <span class="id"><a href="SpecLangSim.html#rc_eq">rc_eq</a></span> <span class="kwd">in</span> <span class="id">reachable_closure0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLangSim.html#mu_inv">mu_inv</a></span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">i</span> <span class="kwd">in</span> <span class="id">Hx</span> <span class="kwd">as</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">reachable_closure0</span> <span class="kwd">in</span> <span class="id">H7</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H7</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">i</span> <span class="kwd">in</span> <span class="id">H3</span> <span class="kwd">as</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H4</span> <span class="kwd">in</span> <span class="id">H7</span> <span class="kwd">as</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H9</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="id">inv</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> <span class="id">H7</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ex_match2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H4</span> <span class="kwd">in</span> <span class="id">Hx</span> .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">Hx</span> <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">ex_match</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H6</span>. <span class="tactic">apply</span> <span class="id">H4</span> <span class="kwd">in</span> <span class="id">Hx</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">Hx</span> <span class="kwd">as</span> [];<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GMemory.html#GMem.meminj_no_overlap">GMem.meminj_no_overlap</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">ex_match</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">left</span>. <span class="id">inv</span> <span class="id">H7</span>;<span class="id">inv</span> <span class="id">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>;<span class="id">contradict</span> <span class="id">H6</span>. <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H1</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">ex_match</span>. <span class="id">inv</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">auto</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_0_r">Z.add_0_r</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Integers.html#Ptrofs.unsigned_range_2">Ptrofs.unsigned_range_2</a></span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ex_match</span>. <span class="id">inv</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_0_r">Z.add_0_r</a></span> <span class="kwd">in</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H1</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="gmeminv_HLRELY">gmeminv_HLRELY</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">mu</span> <span class="id">sfl</span> <span class="id">tfl</span> <span class="id">Hm</span> <span class="id">Lm</span> <span class="id">Hm</span>' <span class="id">Lm</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#gmeminv">gmeminv</a></span> <span class="id"><a href="SpecLangSim.html#f">f</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> <span class="id"><a href="SpecLangSim.html#Hm">Hm</a></span> <span class="id"><a href="SpecLangSim.html#Lm">Lm</a></span> <span class="id"><a href="SpecLangSim.html#sfl">sfl</a></span> <span class="id"><a href="SpecLangSim.html#tfl">tfl</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs.html#HLRely">HLRely</a></span> <span class="id"><a href="SpecLangSim.html#sfl">sfl</a></span> <span class="id"><a href="SpecLangSim.html#tfl">tfl</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> <span class="id"><a href="SpecLangSim.html#Hm">Hm</a></span> <span class="id">Hm</span>' <span class="id"><a href="SpecLangSim.html#Lm">Lm</a></span> <span class="id">Lm</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#gmeminv">gmeminv</a></span> <span class="id"><a href="SpecLangSim.html#f">f</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> <span class="id">Hm</span>' <span class="id">Lm</span>' <span class="id"><a href="SpecLangSim.html#sfl">sfl</a></span> <span class="id"><a href="SpecLangSim.html#tfl">tfl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9886')">Proof.</div>
<div class="proofscript" id="proof9886">
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span> <span class="kwd">as</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span> <span class="kwd">as</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLangSim.html#gmeminv">gmeminv</a></span>;<span class="tactic">intros</span>;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rename</span> <span class="id">H7</span> <span class="id">into</span> <span class="id">INJ</span>'.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H2</span>. <span class="id">inv</span> <span class="id">H8</span>;<span class="id">inv</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="SpecLangSim.html#rc_nundef">rc_nundef</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SpecLangSim.html#reach_closed_unmapped_closed">reach_closed_unmapped_closed</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="MemAux.html#unchg_freelist">unchg_freelist</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLangSim.html#inj_inv">inj_inv</a></span> <span class="kwd">in</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H3</span> <span class="kwd">in</span> <span class="id">H7</span> <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H2</span> <span class="kwd">in</span> <span class="id">H14</span>. <span class="tactic">apply</span> <span class="id">H8</span> <span class="kwd">in</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id"><a href="SpecLangSim.html#perm_rel">perm_rel</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H3</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H4</span> <span class="kwd">in</span> <span class="id">H7</span> <span class="kwd">as</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H16</span> <span class="kwd">as</span> [[]|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#Memperm_validblock">Memperm_validblock</a></span> <span class="kwd">in</span> <span class="id">H14</span> <span class="kwd">as</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H12</span> <span class="kwd">in</span> <span class="id">H18</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H12</span> <span class="kwd">in</span> <span class="id">H14</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H15</span> <span class="kwd">in</span> <span class="id">H14</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H10</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#Memperm_validblock">Memperm_validblock</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H9</span>. <span class="id">inv</span> <span class="id">mi_inj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">mi_perm</span> <span class="kwd">in</span> <span class="id">H14</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Focus</span> 2. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>. <span class="tactic">rewrite</span> <span class="id">H16</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_0_r">Z.add_0_r</a></span> <span class="kwd">in</span> <span class="id">H14</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id"><a href="SpecLangSim.html#perm_rel2">perm_rel2</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H3</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H4</span> <span class="kwd">in</span> <span class="id">H7</span> <span class="kwd">as</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H16</span> <span class="kwd">as</span> [[]|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#Memperm_validblock">Memperm_validblock</a></span> <span class="kwd">in</span> <span class="id">H14</span> <span class="kwd">as</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H10</span> <span class="kwd">in</span> <span class="id">H18</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H10</span> <span class="kwd">in</span> <span class="id">H14</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H15</span> <span class="kwd">in</span> <span class="id">H14</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H14</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">left</span>;<span class="tactic">eapply</span> <span class="id">H12</span>;<span class="tactic">eauto</span>;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#Memperm_validblock">Memperm_validblock</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>;<span class="tactic">intro</span>;<span class="id">contradict</span> <span class="id">H14</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H3</span> <span class="kwd">in</span> <span class="id">H7</span> <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H8</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H9</span>. <span class="tactic">eapply</span> <span class="id">mi_perm_inv</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>. <span class="tactic">rewrite</span> <span class="id">H16</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_0_r">Z.add_0_r</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H4</span> <span class="kwd">in</span> <span class="id">H7</span> <span class="kwd">as</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H15</span> <span class="kwd">as</span> [[]|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#Memperm_validblock">Memperm_validblock</a></span> <span class="kwd">in</span> <span class="id">H14</span> <span class="kwd">as</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H12</span> <span class="kwd">in</span> <span class="id">H17</span> <span class="kwd">as</span> ?;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H12</span> <span class="kwd">in</span> <span class="id">H14</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="GMemory.html#GMem.unchanged_on_contents">GMem.unchanged_on_contents</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="GMemory.html#GMem.unchanged_on_contents">GMem.unchanged_on_contents</a></span> <span class="kwd">with</span>(<span class="id">m_after</span>:=<span class="id">Lm</span>');<span class="tactic">eauto</span>; <span class="tactic">eapply</span> <span class="id">H3</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="GMemory.html#GMem.mi_inj">GMem.mi_inj</a></span> <span class="kwd">in</span> <span class="id">H9</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="GMemory.html#GMem.mi_memval">GMem.mi_memval</a></span> <span class="kwd">in</span> <span class="id">H9</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Focus</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>;<span class="tactic">rewrite</span> <span class="id">H15</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_0_r">Z.add_0_r</a></span> <span class="kwd">in</span> <span class="id">H9</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H9</span>;<span class="tactic">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H18</span>;<span class="tactic">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="kwd">in</span> <span class="id">H9</span>;<span class="id">ex_match</span>. <span class="id">inv</span> <span class="id">H9</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span>. <span class="id">constructor</span>;<span class="tactic">auto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H16</span>. <span class="id">contradict</span> <span class="id">H16</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H13</span>;<span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">H5</span>. <span class="tactic">eapply</span> <span class="id">H9</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H17</span>;<span class="id">contradict</span> <span class="id">H17</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H13</span>;<span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">H5</span>. <span class="tactic">eapply</span> <span class="id">H9</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
Qed.</div>
<span class="kwd">Inductive</span> <span class="id"><a name="match_state">match_state</a></span>{<span class="id">sge</span> <span class="id">tge</span>:<span class="id"><a href="SpecLang.html#genv">genv</a></span>}:<span class="id"><a href="MemAux.html#freelist">freelist</a></span> -&gt; <span class="id"><a href="MemAux.html#freelist">freelist</a></span> -&gt; <span class="id"><a href="Injections.html#Mu">Mu</a></span> -&gt; <span class="id"><a href="Blockset.html#Bset.inj">Bset.inj</a></span> -&gt; <span class="id"><a href="SpecLang.html#core">core</a></span>*<span class="id"><a href="GMemory.html#gmem">gmem</a></span> -&gt; <span class="id"><a href="SpecLang.html#core">core</a></span>*<span class="id"><a href="GMemory.html#gmem">gmem</a></span> -&gt; <span class="kwd">Prop</span>:=<br/>
| <span class="id"><a name="mk_match_state">mk_match_state</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">sc</span> <span class="id">tc</span> <span class="id">sm</span> <span class="id">tm</span> <span class="id">j</span> <span class="id">sfl</span> <span class="id">tfl</span> <span class="id">mu</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">GEINIT</span>:<span class="id"><a href="LDSimDefs.html#ge_init_inj">ge_init_inj</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> <span class="id">sge</span> <span class="id">tge</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TEMBED</span>: <span class="id">exists</span> <span class="id">tfm</span>, <span class="id"><a href="FMemory.html#embed">embed</a></span> <span class="id"><a href="SpecLangSim.html#tm">tm</a></span> <span class="id"><a href="SpecLangSim.html#tfl">tfl</a></span> <span class="id"><a href="SpecLangSim.html#tfm">tfm</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INVINJ</span>: <span class="id"><a href="SpecLangSim.html#gmeminv">gmeminv</a></span> <span class="id"><a href="SpecLangSim.html#j">j</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> <span class="id"><a href="SpecLangSim.html#sm">sm</a></span> <span class="id"><a href="SpecLangSim.html#tm">tm</a></span> <span class="id"><a href="SpecLangSim.html#sfl">sfl</a></span> <span class="id"><a href="SpecLangSim.html#tfl">tfl</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">COREINJ</span>: <span class="id"><a href="SpecLangSim.html#match_core">match_core</a></span> <span class="id"><a href="SpecLangSim.html#j">j</a></span> <span class="id"><a href="SpecLangSim.html#sc">sc</a></span> <span class="id"><a href="SpecLangSim.html#tc">tc</a></span> )<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">AGMU</span>: <span class="id"><a href="InjRels.html#proper_mu">proper_mu</a></span> <span class="id">sge</span> <span class="id">tge</span> (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id"><a href="SpecLangSim.html#j">j</a></span>) <span class="id"><a href="SpecLangSim.html#mu">mu</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#match_state">match_state</a></span> <span class="id"><a href="SpecLangSim.html#sfl">sfl</a></span> <span class="id"><a href="SpecLangSim.html#tfl">tfl</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> <span class="id"><a href="SpecLangSim.html#j">j</a></span> (<span class="id"><a href="SpecLangSim.html#sc">sc</a></span>,<span class="id"><a href="SpecLangSim.html#sm">sm</a></span>)(<span class="id"><a href="SpecLangSim.html#tc">tc</a></span>,<span class="id"><a href="SpecLangSim.html#tm">tm</a></span>).<br/>
<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="MS">MS</a></span>{<span class="id">sge</span> <span class="id">tge</span>} :<span class="id"><a href="MemAux.html#freelist">freelist</a></span>-&gt;<span class="id"><a href="MemAux.html#freelist">freelist</a></span>-&gt;<span class="id"><a href="Injections.html#Mu">Mu</a></span>-&gt;<span class="id"><a href="Footprint.html#FP.t">FP.t</a></span>-&gt;<span class="id"><a href="Footprint.html#FP.t">FP.t</a></span>-&gt; <span class="id"><a href="SpecLang.html#core">core</a></span>*<span class="id"><a href="GMemory.html#gmem">gmem</a></span>-&gt;<span class="id"><a href="SpecLang.html#core">core</a></span>*<span class="id"><a href="GMemory.html#gmem">gmem</a></span>-&gt;<span class="kwd">Prop</span> :=<br/>
| <span class="id"><a name="mk_MS">mk_MS</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">mu</span> <span class="id">sfl</span> <span class="id">tfl</span> <span class="id">cm</span> <span class="id">cm</span>' <span class="id">fp</span> <span class="id">fp</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MS0</span>:@<span class="id"><a href="SpecLangSim.html#match_state">match_state</a></span> <span class="id">sge</span> <span class="id">tge</span> <span class="id"><a href="SpecLangSim.html#sfl">sfl</a></span> <span class="id"><a href="SpecLangSim.html#tfl">tfl</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> <span class="id"><a href="SpecLangSim.html#j">j</a></span> <span class="id"><a href="SpecLangSim.html#cm">cm</a></span> <span class="id">cm</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">LFPG</span>:<span class="id">LfpG</span>' <span class="id"><a href="SpecLangSim.html#tfl">tfl</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> <span class="id"><a href="SpecLangSim.html#fp">fp</a></span> <span class="id">fp</span>'),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#MS">MS</a></span> <span class="id"><a href="SpecLangSim.html#sfl">sfl</a></span> <span class="id"><a href="SpecLangSim.html#tfl">tfl</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> <span class="id"><a href="SpecLangSim.html#fp">fp</a></span> <span class="id">fp</span>' <span class="id"><a href="SpecLangSim.html#cm">cm</a></span> <span class="id">cm</span>'.<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fstep_fleq">fstep_fleq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">c</span> <span class="id">m</span> <span class="id">fp</span> <span class="id">c</span>' <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLang.html#fstep">fstep</a></span> <span class="id"><a href="SpecLangSim.html#ge">ge</a></span> <span class="id"><a href="SpecLangSim.html#c">c</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span> <span class="id"><a href="SpecLangSim.html#fp">fp</a></span> <span class="id">c</span>' <span class="id">m</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemory.html#Mem.freelist">Mem.freelist</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span> = <span class="id"><a href="FMemory.html#Mem.freelist">Mem.freelist</a></span> <span class="id">m</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9887')">Proof.</div>
<div class="proofscript" id="proof9887">
&nbsp;&nbsp;<span class="tactic">inversion</span> 1;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLang.html#storemax">storemax</a></span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="id">ex_match2</span>. <span class="id">inv</span> <span class="id">H3</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>;<span class="tactic">auto</span>. <span class="id">inv</span> <span class="id">H0</span>;<span class="tactic">auto</span>. <span class="tactic">unfold</span> <span class="id"><a href="SpecLang.html#storemax">storemax</a></span> <span class="kwd">in</span> <span class="id">H3</span>;<span class="id">ex_match2</span>;<span class="id">inv</span> <span class="id">H3</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="FMemLemmas.html#mem_alloc_fleq">mem_alloc_fleq</a></span> <span class="kwd">in</span> <span class="id">H0</span>;<span class="tactic">auto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="storemax_fleq">storemax_fleq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">b</span> <span class="id">v</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLang.html#storemax">storemax</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> <span class="id"><a href="SpecLangSim.html#v">v</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemory.html#Mem.freelist">Mem.freelist</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span> = <span class="id"><a href="FMemory.html#Mem.freelist">Mem.freelist</a></span> <span class="id">m</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9888')">Proof.</div>
<div class="proofscript" id="proof9888">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLang.html#storemax">storemax</a></span>;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">ex_match</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="storemax_perm_eq">storemax_perm_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">b</span> <span class="id">v</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLang.html#storemax">storemax</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> <span class="id"><a href="SpecLangSim.html#v">v</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span>' <span class="id">ofs</span> <span class="id">k</span> <span class="id">p</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemory.html#Mem.perm">Mem.perm</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span> <span class="id">b</span>' <span class="id"><a href="SpecLangSim.html#ofs">ofs</a></span> <span class="id"><a href="SpecLangSim.html#k">k</a></span> <span class="id"><a href="SpecLangSim.html#p">p</a></span> &lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemory.html#Mem.perm">Mem.perm</a></span> <span class="id">m</span>' <span class="id">b</span>' <span class="id"><a href="SpecLangSim.html#ofs">ofs</a></span> <span class="id"><a href="SpecLangSim.html#k">k</a></span> <span class="id"><a href="SpecLangSim.html#p">p</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9889')">Proof.</div>
<div class="proofscript" id="proof9889">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLang.html#storemax">storemax</a></span> ;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">ex_match</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#Mem.perm">Mem.perm</a></span>. <span class="tactic">simpl</span>. <span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="CORRECTNESS">CORRECTNESS</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CORRECTNESS.ge">ge</a></span>:<span class="id"><a href="SpecLang.html#genv">genv</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CORRECTNESS.sge">sge</a></span> <span class="id"><a name="CORRECTNESS.tge">tge</a></span>:<span class="id"><a href="SpecLang.html#genv">genv</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="CORRECTNESS.SGEINIT">SGEINIT</a></span>: <span class="id"><a href="CUAST.html#ge_related">ge_related</a></span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.sge">sge</a></span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.ge">ge</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="CORRECTNESS.TGEINIT">TGEINIT</a></span>: <span class="id"><a href="CUAST.html#ge_related">ge_related</a></span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.tge">tge</a></span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.ge">ge</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="CORRECTNESS.S_EQ">S_EQ</a></span>: <span class="id"><a href="SpecLangSim.html#CORRECTNESS.sge">sge</a></span>.(<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span>) = <span class="id"><a href="SpecLangSim.html#CORRECTNESS.tge">tge</a></span>.(<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span>).<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ge_match">ge_match</a></span>: <span class="id"><a href="LDSimDefs.html#ge_match">ge_match</a></span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.sge">sge</a></span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.tge">tge</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9890')">Proof.</div>
<div class="proofscript" id="proof9890">
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="SpecLangSim.html#ge_related_ge_lessmatch">ge_related_ge_lessmatch</a></span> <span class="kwd">in</span> <span class="id">SGEINIT</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="SpecLangSim.html#ge_related_ge_lessmatch">ge_related_ge_lessmatch</a></span> <span class="kwd">in</span> <span class="id">TGEINIT</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="SpecLangSim.html#ge_lessmatch_comm">ge_lessmatch_comm</a></span> <span class="kwd">in</span> <span class="id">TGEINIT</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SpecLangSim.html#ge_lessmatch_trans">ge_lessmatch_trans</a></span> <span class="kwd">in</span> <span class="id">TGEINIT</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.TGEINIT">TGEINIT</a></span>. <span class="id">constructor</span>;<span class="tactic">auto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="find_symbol_def_preserved">find_symbol_def_preserved</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">id</span> <span class="id">b</span> <span class="id">fd</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.sge">sge</a></span> <span class="id"><a href="SpecLangSim.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.sge">sge</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SpecLangSim.html#fd">fd</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">b</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.tge">tge</a></span> <span class="id"><a href="SpecLangSim.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.tge">tge</a></span> <span class="id">b</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SpecLangSim.html#fd">fd</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9891')">Proof.</div>
<div class="proofscript" id="proof9891">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.SGEINIT">SGEINIT</a></span>.<br/>
&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">H6</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H0</span>) <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">H4</span> <span class="id">id</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H4</span>. <span class="id">inv</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">H2</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H6</span> <span class="id">H12</span>). <span class="tactic">subst</span>. <span class="tactic">clear</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">H7</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H12</span>).<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;<span class="id">revert</span> <span class="id">H9</span> <span class="id">H7</span> <span class="id">TGEINIT</span>;<span class="tactic">clear</span>;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.TGEINIT">TGEINIT</a></span>.<br/>
&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">H2</span> <span class="id">id</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H9</span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="id">inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H5</span> <span class="kwd">in</span> <span class="id">H12</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H7</span> <span class="kwd">in</span> <span class="id">H12</span>.<br/>
&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="CORRECTNESS.NORMALSTEP">NORMALSTEP</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CORRECTNESS.NORMALSTEP.mu">mu</a></span>:<span class="id"><a href="Injections.html#Mu">Mu</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="CORRECTNESS.NORMALSTEP.GEINITINJ">GEINITINJ</a></span>: <span class="id"><a href="LDSimDefs.html#ge_init_inj">ge_init_inj</a></span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.NORMALSTEP.mu">mu</a></span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.sge">sge</a></span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.tge">tge</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CORRECTNESS.NORMALSTEP.f">f</a></span>:<span class="id"><a href="Blockset.html#Bset.inj">Bset.inj</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CORRECTNESS.NORMALSTEP.sm">sm</a></span> <span class="id"><a name="CORRECTNESS.NORMALSTEP.tm">tm</a></span>:<span class="id"><a href="GMemory.html#gmem">gmem</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CORRECTNESS.NORMALSTEP.sfl">sfl</a></span> <span class="id"><a name="CORRECTNESS.NORMALSTEP.tfl">tfl</a></span>:<span class="id"><a href="MemAux.html#freelist">freelist</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CORRECTNESS.NORMALSTEP.Hm">Hm</a></span> <span class="id"><a name="CORRECTNESS.NORMALSTEP.Lm">Lm</a></span>:<span class="id"><a href="FMemory.html#mem">mem</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="CORRECTNESS.NORMALSTEP.SEMBED">SEMBED</a></span>: <span class="id"><a href="FMemory.html#embed">embed</a></span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.NORMALSTEP.sm">sm</a></span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.NORMALSTEP.sfl">sfl</a></span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.NORMALSTEP.Hm">Hm</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="CORRECTNESS.NORMALSTEP.TEMBED">TEMBED</a></span>: <span class="id"><a href="FMemory.html#embed">embed</a></span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.NORMALSTEP.tm">tm</a></span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.NORMALSTEP.tfl">tfl</a></span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.NORMALSTEP.Lm">Lm</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="CORRECTNESS.NORMALSTEP.INV">INV</a></span>: <span class="id"><a href="SpecLangSim.html#gmeminv">gmeminv</a></span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.NORMALSTEP.f">f</a></span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.NORMALSTEP.mu">mu</a></span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.NORMALSTEP.sm">sm</a></span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.NORMALSTEP.tm">tm</a></span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.NORMALSTEP.sfl">sfl</a></span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.NORMALSTEP.tfl">tfl</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="CORRECTNESS.NORMALSTEP.AGMU">AGMU</a></span>: <span class="id"><a href="InjRels.html#proper_mu">proper_mu</a></span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.sge">sge</a></span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.tge">tge</a></span> (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.NORMALSTEP.f">f</a></span>) <span class="id"><a href="SpecLangSim.html#CORRECTNESS.NORMALSTEP.mu">mu</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="find_symbol_inj">find_symbol_inj</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">id</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.sge">sge</a></span> <span class="id"><a href="SpecLangSim.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">b</span>', <span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.tge">tge</a></span> <span class="id"><a href="SpecLangSim.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' /\ <span class="id"><a href="Injections.html#inj">inj</a></span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.NORMALSTEP.mu">mu</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9892')">Proof.</div>
<div class="proofscript" id="proof9892">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.NORMALSTEP.GEINITINJ">GEINITINJ</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">senv_injected</span>.<br/>
&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">senv_injected</span> <span class="id">id</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">senv_injected</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">senv_injected</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="storemax_inv">storemax_inv</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">v</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLang.html#storemax">storemax</a></span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.NORMALSTEP.Hm">Hm</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> <span class="id"><a href="SpecLangSim.html#v">v</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span>' <span class="id">v</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#CORRECTNESS.NORMALSTEP.f">f</a></span> <span class="id"><a href="SpecLangSim.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ValRels.html#val_related">val_related</a></span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.NORMALSTEP.f">f</a></span> <span class="id"><a href="SpecLangSim.html#v">v</a></span> <span class="id">v</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">tm</span>', <span class="id"><a href="SpecLang.html#storemax">storemax</a></span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.NORMALSTEP.Lm">Lm</a></span> <span class="id">b</span>' <span class="id">v</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">tm</span>' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#gmeminv">gmeminv</a></span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.NORMALSTEP.f">f</a></span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.NORMALSTEP.mu">mu</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id">m</span>') (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id">tm</span>') <span class="id"><a href="SpecLangSim.html#CORRECTNESS.NORMALSTEP.sfl">sfl</a></span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.NORMALSTEP.tfl">tfl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9893')">Proof.</div>
<div class="proofscript" id="proof9893">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">pose</span> <span class="id">proof</span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.NORMALSTEP.INV">INV</a></span> <span class="kwd">as</span> <span class="id">R</span>. <span class="tactic">unfold</span> <span class="id"><a href="SpecLangSim.html#gmeminv">gmeminv</a></span> <span class="kwd">in</span> <span class="id">R</span>. <span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.NORMALSTEP.SEMBED">SEMBED</a></span>. <span class="id">inv</span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.NORMALSTEP.TEMBED">TEMBED</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SpecLangSim.html#storemax_memrel">storemax_memrel</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SpecLangSim.html#storemax_unmapped_closed_preserve">storemax_unmapped_closed_preserve</a></span>;<span class="tactic">try</span> <span class="id">eexact</span> <span class="id">H3</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H5</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLangSim.html#gmeminv">gmeminv</a></span>.<br/>
&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="alloc_inv">alloc_inv</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">lo</span> <span class="id">hi</span> <span class="id">m</span>' <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemory.html#Mem.alloc">Mem.alloc</a></span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.NORMALSTEP.Hm">Hm</a></span> <span class="id"><a href="SpecLangSim.html#lo">lo</a></span> <span class="id"><a href="SpecLangSim.html#hi">hi</a></span> = (<span class="id">m</span>',<span class="id"><a href="SpecLangSim.html#b">b</a></span>)-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">f</span>' <span class="id">tm</span>' <span class="id">b</span>', <span class="id"><a href="FMemory.html#Mem.alloc">Mem.alloc</a></span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.NORMALSTEP.Lm">Lm</a></span> <span class="id"><a href="SpecLangSim.html#lo">lo</a></span> <span class="id"><a href="SpecLangSim.html#hi">hi</a></span> = (<span class="id">tm</span>',<span class="id">b</span>') /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLangSim.html#gmeminv">gmeminv</a></span> <span class="id">f</span>' <span class="id"><a href="SpecLangSim.html#CORRECTNESS.NORMALSTEP.mu">mu</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id">m</span>') (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id">tm</span>') <span class="id"><a href="SpecLangSim.html#CORRECTNESS.NORMALSTEP.sfl">sfl</a></span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.NORMALSTEP.tfl">tfl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9894')">Proof.</div>
<div class="proofscript" id="proof9894">
&nbsp;&nbsp;<span class="id">Transparent</span> <span class="id"><a href="FMemory.html#Mem.alloc">Mem.alloc</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.NORMALSTEP.INV">INV</a></span> <span class="kwd">as</span> <span class="id">R</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLangSim.html#gmeminv">gmeminv</a></span> <span class="kwd">in</span> <span class="id">R</span>;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.NORMALSTEP.SEMBED">SEMBED</a></span>. <span class="id">inv</span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.NORMALSTEP.TEMBED">TEMBED</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SpecLangSim.html#alloc_memrel">alloc_memrel</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">instantiate</span>(1:=<span class="id">x</span>).<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLangSim.html#gmeminv">gmeminv</a></span>.<br/>
&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLangSim.html#mu_inv">mu_inv</a></span> <span class="kwd">in</span> <span class="id">H3</span>;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SpecLangSim.html#alloc_unmapped_closed_preserve">alloc_unmapped_closed_preserve</a></span> <span class="kwd">in</span> <span class="id">H6</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">H</span>;<span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLangSim.html#inj_inv">inj_inv</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#peq">peq</a></span> <span class="id">b0</span> <span class="id">b</span>).<br/>
&nbsp;&nbsp;+ <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H10</span> <span class="kwd">in</span> <span class="id">H11</span>;<span class="id">inv</span> <span class="id">H11</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">left</span>. <span class="tactic">apply</span> <span class="id"><a href="FMemory.html#Mem.alloc_result">Mem.alloc_result</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">apply</span> <span class="id"><a href="FMemory.html#Mem.alloc_result">Mem.alloc_result</a></span> <span class="kwd">in</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#Mem.nextblock">Mem.nextblock</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="MemAux.html#in_fl">in_fl</a></span>,<span class="id"><a href="MemAux.html#get_block">get_block</a></span>. <span class="tactic">split</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id">H9</span> <span class="kwd">in</span> <span class="id">H11</span>;<span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLangSim.html#inj_j">inj_j</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H7</span>;<span class="tactic">eauto</span>.<br/>
Qed.</div>
<span class="kwd">End</span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS.NORMALSTEP">NORMALSTEP</a></span>.<br/>
<span class="kwd">End</span> <span class="id"><a href="SpecLangSim.html#CORRECTNESS">CORRECTNESS</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="normalstep_sim">normalstep_sim</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">sge</span> <span class="id">tge</span> <span class="id">mu</span> <span class="id">sfl</span> <span class="id">tfl</span> <span class="id">Hfp</span> <span class="id">Hfp</span>' <span class="id">Lfp</span> <span class="id">s</span> <span class="id">k</span> <span class="id">te</span> <span class="id">sm</span> <span class="id">ts</span> <span class="id">tk</span> <span class="id">tte</span>  <span class="id">tm</span> <span class="id">m</span> <span class="id">s</span>' <span class="id">k</span>' <span class="id">te</span>' <span class="id">m</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">S_EQ</span>: <span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id"><a href="SpecLangSim.html#sge">sge</a></span> = <span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id"><a href="SpecLangSim.html#tge">tge</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="CUAST.html#ge_related">ge_related</a></span> <span class="id"><a href="SpecLangSim.html#sge">sge</a></span> <span class="id"><a href="SpecLangSim.html#ge">ge</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="CUAST.html#ge_related">ge_related</a></span> <span class="id"><a href="SpecLangSim.html#tge">tge</a></span> <span class="id"><a href="SpecLangSim.html#ge">ge</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="SpecLangSim.html#MS">MS</a></span> <span class="id"><a href="SpecLangSim.html#sge">sge</a></span> <span class="id"><a href="SpecLangSim.html#tge">tge</a></span> <span class="id"><a href="SpecLangSim.html#sfl">sfl</a></span> <span class="id"><a href="SpecLangSim.html#tfl">tfl</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> <span class="id"><a href="SpecLangSim.html#Hfp">Hfp</a></span> <span class="id"><a href="SpecLangSim.html#Lfp">Lfp</a></span> (<span class="id"><a href="SpecLang.html#State">State</a></span> <span class="id"><a href="SpecLangSim.html#s">s</a></span> <span class="id"><a href="SpecLangSim.html#k">k</a></span> <span class="id"><a href="SpecLangSim.html#te">te</a></span>,<span class="id"><a href="SpecLangSim.html#sm">sm</a></span>)(<span class="id"><a href="SpecLang.html#State">State</a></span> <span class="id"><a href="SpecLangSim.html#ts">ts</a></span> <span class="id"><a href="SpecLangSim.html#tk">tk</a></span> <span class="id"><a href="SpecLangSim.html#tte">tte</a></span>,<span class="id"><a href="SpecLangSim.html#tm">tm</a></span>)-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs.html#HfpG">HfpG</a></span> <span class="id"><a href="SpecLangSim.html#sfl">sfl</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> <span class="id">Hfp</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemory.html#embed">embed</a></span> <span class="id"><a href="SpecLangSim.html#sm">sm</a></span> <span class="id"><a href="SpecLangSim.html#sfl">sfl</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLang.html#normalstep">normalstep</a></span> <span class="id"><a href="SpecLangSim.html#sge">sge</a></span> <span class="id"><a href="SpecLangSim.html#s">s</a></span> <span class="id"><a href="SpecLangSim.html#k">k</a></span> <span class="id"><a href="SpecLangSim.html#te">te</a></span> <span class="id"><a href="SpecLangSim.html#m">m</a></span> <span class="id">Hfp</span>' <span class="id">s</span>' <span class="id">k</span>' <span class="id">te</span>' <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">Lfp</span>' <span class="id">ts</span>' <span class="id">tk</span>' <span class="id">tte</span>' <span class="id">Lm</span>' <span class="id">Lm</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemory.html#embed">embed</a></span> <span class="id"><a href="SpecLangSim.html#tm">tm</a></span> <span class="id"><a href="SpecLangSim.html#tfl">tfl</a></span> <span class="id"><a href="SpecLangSim.html#Lm">Lm</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLang.html#normalstep">normalstep</a></span> <span class="id"><a href="SpecLangSim.html#tge">tge</a></span> <span class="id"><a href="SpecLangSim.html#ts">ts</a></span> <span class="id"><a href="SpecLangSim.html#tk">tk</a></span> <span class="id"><a href="SpecLangSim.html#tte">tte</a></span> <span class="id"><a href="SpecLangSim.html#Lm">Lm</a></span> <span class="id">Lfp</span>' <span class="id">ts</span>' <span class="id">tk</span>' <span class="id">tte</span>' <span class="id">Lm</span>' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="SpecLangSim.html#MS">MS</a></span> <span class="id"><a href="SpecLangSim.html#sge">sge</a></span> <span class="id"><a href="SpecLangSim.html#tge">tge</a></span> <span class="id"><a href="SpecLangSim.html#sfl">sfl</a></span> <span class="id"><a href="SpecLangSim.html#tfl">tfl</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="SpecLangSim.html#Hfp">Hfp</a></span> <span class="id">Hfp</span>')(<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="SpecLangSim.html#Lfp">Lfp</a></span> <span class="id">Lfp</span>')(<span class="id"><a href="SpecLang.html#State">State</a></span> <span class="id">s</span>' <span class="id">k</span>' <span class="id">te</span>',<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id">m</span>')(<span class="id"><a href="SpecLang.html#State">State</a></span> <span class="id">ts</span>' <span class="id">tk</span>' <span class="id">tte</span>',<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id">Lm</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9895')">Proof.</div>
<div class="proofscript" id="proof9895">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MS0</span>. <span class="tactic">destruct</span> <span class="id">TEMBED</span> <span class="kwd">as</span> [<span class="id">Lm</span> <span class="id">TEMBED</span>].<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">COREINJ</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="SpecLangSim.html#match_cont_eq">match_cont_eq</a></span> <span class="kwd">in</span> <span class="id">H7</span> <span class="kwd">as</span> ?. <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;+ <span class="id">Esimpl</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>. <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">instantiate</span>(1:=<span class="id">j</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">Lm</span>. <span class="id">inv</span> <span class="id">TEMBED</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H3</span>;<span class="id">inv</span> <span class="id">TEMBED</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SpecLangSim.html#setid_match_tmp">setid_match_tmp</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;+ <span class="id">exploit</span> <span class="id"><a href="SpecLangSim.html#find_symbol_inj">find_symbol_inj</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H3</span>;<span class="id">inv</span> <span class="id">TEMBED</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLangSim.html#gmeminv">gmeminv</a></span> <span class="kwd">in</span> <span class="id">INVINJ</span>. <span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SpecLangSim.html#loadmax_memrel">loadmax_memrel</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>. <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexists</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>;<span class="tactic">auto</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="SpecLangSim.html#setid_match_tmp">setid_match_tmp</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">LfpG</span>'<span class="id">_union</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span>  <span class="id"><a href="SpecLangSim.html#LfpG_loadb">LfpG_loadb</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLangSim.html#mu_inv">mu_inv</a></span> <span class="kwd">in</span> <span class="id">H10</span>. <span class="id">Hsimpl</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;+ <span class="id">exploit</span> <span class="id"><a href="SpecLangSim.html#find_symbol_inj">find_symbol_inj</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">INVINJ</span> <span class="kwd">as</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H8</span> <span class="kwd">as</span> [<span class="id">_</span>[<span class="id">_</span>[<span class="id">_</span>[<span class="id">_</span> [? <span class="id">_</span>]]]] ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H8</span> <span class="kwd">in</span> <span class="id">H5</span> <span class="kwd">as</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SpecLangSim.html#storemax_inv">storemax_inv</a></span>;<span class="tactic">try</span> <span class="id">eexact</span> <span class="id">INVINJ</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="SpecLangSim.html#storemax_fleq">storemax_fleq</a></span> <span class="kwd">in</span> <span class="id">H10</span> <span class="kwd">as</span> ?. <span class="id">inv</span> <span class="id">TEMBED</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H13</span>. <span class="id">exists</span> <span class="id">x0</span>;<span class="id">constructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">LfpG</span>'<span class="id">_union</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SpecLangSim.html#LfpG_storeb">LfpG_storeb</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLangSim.html#gmeminv">gmeminv</a></span> <span class="kwd">in</span> <span class="id">INVINJ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLangSim.html#mu_inv">mu_inv</a></span> <span class="kwd">in</span> <span class="id">INVINJ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Hsimpl</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">H12</span> <span class="id">r</span>) <span class="kwd">as</span> <span class="id">R</span>. <span class="tactic">rewrite</span> <span class="id">H4</span> <span class="kwd">in</span> <span class="id">R</span>. <span class="id">inv</span> <span class="id">R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span>! <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">TEMBED</span>. <span class="id">inv</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> (<span class="id">econstructor</span>;<span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;+ <span class="id">Esimpl</span>;<span class="tactic">eauto</span>. <span class="id">econstructor</span> 5;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>. <span class="id">constructor</span>. <span class="tactic">intro</span>;<span class="id">contradict</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">H12</span> <span class="id">r</span>). <span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H12</span>;<span class="id">inv</span> <span class="id">H12</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">TEMBED</span>. <span class="id">inv</span> <span class="id">H3</span>. <span class="tactic">rewrite</span> !<span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> (<span class="id">econstructor</span>;<span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;+ <span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">H12</span> <span class="id">r</span>) <span class="kwd">as</span> <span class="id">R</span>. <span class="tactic">rewrite</span> <span class="id">H4</span> <span class="kwd">in</span> <span class="id">R</span>. <span class="id">inv</span> <span class="id">R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span>! <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">TEMBED</span>. <span class="id">inv</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> (<span class="id">econstructor</span>;<span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;+ <span class="id">Esimpl</span>;<span class="tactic">eauto</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> ! <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">TEMBED</span>;<span class="id">inv</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> (<span class="id">econstructor</span>;<span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;+ <span class="id">Esimpl</span>;<span class="tactic">eauto</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> ! <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">TEMBED</span>;<span class="id">inv</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> (<span class="id">econstructor</span>;<span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H7</span>;<span class="tactic">auto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id">LfpG_LfpG</span>':<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fl</span> <span class="id">mu</span> <span class="id">fp</span> <span class="id">fp</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs.html#LfpG">LfpG</a></span> <span class="id"><a href="SpecLangSim.html#fl">fl</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> <span class="id"><a href="SpecLangSim.html#fp">fp</a></span> <span class="id">fp</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">LfpG</span>' <span class="id"><a href="SpecLangSim.html#fl">fl</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> <span class="id"><a href="SpecLangSim.html#fp">fp</a></span> <span class="id">fp</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9896')">Proof.</div>
<div class="proofscript" id="proof9896">
&nbsp;&nbsp;<span class="tactic">inversion</span> 1;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>; <span class="tactic">apply</span> <span class="id"><a href="Injections.html#locs_match_union_S">locs_match_union_S</a></span>;<span class="tactic">auto</span>.<br/>
Qed.</div>
&nbsp;&nbsp;<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="atomstate_state_ms">atomstate_state_ms</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">s</span> <span class="id">k</span> <span class="id">k0</span> <span class="id">te</span> <span class="id">s</span>' <span class="id">k</span>' <span class="id">k0</span>' <span class="id">te</span>' <span class="id">sge</span> <span class="id">tge</span> <span class="id">sfl</span> <span class="id">tfl</span> <span class="id">mu</span> <span class="id">sfp</span> <span class="id">tfp</span> <span class="id">m</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="SpecLangSim.html#MS">MS</a></span> <span class="id"><a href="SpecLangSim.html#sge">sge</a></span> <span class="id"><a href="SpecLangSim.html#tge">tge</a></span> <span class="id"><a href="SpecLangSim.html#sfl">sfl</a></span> <span class="id"><a href="SpecLangSim.html#tfl">tfl</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> <span class="id"><a href="SpecLangSim.html#sfp">sfp</a></span> <span class="id"><a href="SpecLangSim.html#tfp">tfp</a></span> ((<span class="id"><a href="SpecLang.html#AtomState">AtomState</a></span> <span class="id"><a href="SpecLangSim.html#s">s</a></span> <span class="id"><a href="SpecLangSim.html#k">k</a></span> <span class="id"><a href="SpecLangSim.html#k0">k0</a></span> <span class="id"><a href="SpecLangSim.html#te">te</a></span>),<span class="id"><a href="SpecLangSim.html#m">m</a></span>)((<span class="id"><a href="SpecLang.html#AtomState">AtomState</a></span> <span class="id">s</span>' <span class="id">k</span>' <span class="id">k0</span>' <span class="id">te</span>'),<span class="id">m</span>')-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="SpecLangSim.html#MS">MS</a></span> <span class="id"><a href="SpecLangSim.html#sge">sge</a></span> <span class="id"><a href="SpecLangSim.html#tge">tge</a></span> <span class="id"><a href="SpecLangSim.html#sfl">sfl</a></span> <span class="id"><a href="SpecLangSim.html#tfl">tfl</a></span> <span class="id"><a href="SpecLangSim.html#mu">mu</a></span> <span class="id"><a href="SpecLangSim.html#sfp">sfp</a></span> <span class="id"><a href="SpecLangSim.html#tfp">tfp</a></span> ((<span class="id"><a href="SpecLang.html#State">State</a></span> <span class="id"><a href="SpecLangSim.html#s">s</a></span> <span class="id"><a href="SpecLangSim.html#k">k</a></span> <span class="id"><a href="SpecLangSim.html#te">te</a></span>),<span class="id"><a href="SpecLangSim.html#m">m</a></span>)((<span class="id"><a href="SpecLang.html#State">State</a></span> <span class="id">s</span>' <span class="id">k</span>' <span class="id">te</span>'),<span class="id">m</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9897')">Proof.</div>
<div class="proofscript" id="proof9897">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MS0</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">COREINJ</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
Qed.</div>
<span class="kwd">Theorem</span> <span class="id"><a name="speclangsim">speclangsim</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">cu</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="LDSim.html#ldsim">ldsim</a></span> <span class="id"><a href="SpecLang.html#speclang">speclang</a></span> <span class="id"><a href="SpecLang.html#speclang">speclang</a></span> <span class="id"><a href="SpecLangSim.html#cu">cu</a></span> <span class="id"><a href="SpecLangSim.html#cu">cu</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9898')">Proof.</div>
<div class="proofscript" id="proof9898">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="LDSim.html#ldsim">ldsim</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">ge</span>:=(<span class="id"><a href="Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> (<span class="id"><a href="AST.html#mkprogram">mkprogram</a></span> (<span class="id"><a href="CUAST.html#cu_defs">cu_defs</a></span> <span class="id">cu</span>)(<span class="id"><a href="CUAST.html#cu_public">cu_public</a></span> <span class="id">cu</span>) 1%<span class="id">positive</span>))) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span> , <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Peano.html#lt">lt</a></span>, (<span class="kwd">fun</span> <span class="id">b</span> <span class="id">i</span> =&gt; @<span class="id"><a href="SpecLangSim.html#MS">MS</a></span> <span class="id">sge</span> <span class="id">tge</span> <span class="id">sfl</span> <span class="id">tfl</span>).<br/>
&nbsp;&nbsp;<span class="id">constructor</span>;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;+ <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Arith.Wf_nat.html#lt_wf">lt_wf</a></span>.<br/>
&nbsp;&nbsp;+ <span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">MS0</span>. <span class="id">inv</span> <span class="id">INVINJ</span>. <span class="id">inv</span> <span class="id">AGMU</span>. <span class="id">Hsimpl</span>. <span class="id">inv</span> <span class="id">H5</span>. <span class="id">Hsimpl</span>;<span class="id">Esimpl</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">MS0</span>. <span class="id">inv</span> <span class="id">INVINJ</span>. <span class="id">Hsimpl</span>. <span class="id">inv</span> <span class="id">H5</span>. <span class="id">Hsimpl</span>;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="SpecLangSim.html#ge_match">ge_match</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;+ <span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">MS0</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;+ <span class="comment">(*init*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#init_core">InteractionSemantics.init_core</a></span>,<span class="id"><a href="SpecLang.html#speclang">speclang</a></span>,<span class="id"><a href="SpecLang.html#init_core">init_core</a></span>,<span class="id"><a href="CUAST.html#generic_init_core">generic_init_core</a></span>,<span class="id"><a href="Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span>,<span class="id"><a href="SpecLang.html#fundef_init">fundef_init</a></span> <span class="kwd">in</span> *;<span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ex_match</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hx0</span>. <span class="id">inv</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SpecLangSim.html#find_symbol_def_preserved">find_symbol_def_preserved</a></span> <span class="kwd">in</span> <span class="id">Hx</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H5</span>,<span class="id">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexists</span>;<span class="tactic">split</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">instantiate</span>(1:=<span class="id"><a href="Injections.html#inj">inj</a></span> <span class="id">mu</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">exploit</span> <span class="id"><a href="SpecLangSim.html#init_embed">init_embed</a></span>;<span class="tactic">eauto</span>;<span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H9</span>. <span class="id">inv</span> <span class="id">H12</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SpecLangSim.html#embed_preserve">embed_preserve</a></span> <span class="kwd">in</span> <span class="id">H10</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">eapply</span> <span class="id"><a href="SpecLangSim.html#gmeminv_HLRELY">gmeminv_HLRELY</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLangSim.html#gmeminv">gmeminv</a></span>,<span class="id"><a href="SpecLangSim.html#inj_inv">inj_inv</a></span>,<span class="id"><a href="SpecLangSim.html#mu_inv">mu_inv</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H8</span>. <span class="id">Hsimpl</span>;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="SpecLangSim.html#reach_closed_unmapped_closed">reach_closed_unmapped_closed</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">inv</span> <span class="id">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H8</span> <span class="kwd">in</span> <span class="id">H12</span> <span class="kwd">as</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Bset.inj_range</span>' <span class="kwd">in</span> <span class="id">H12</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">valid_Src</span> <span class="kwd">in</span> <span class="id">H13</span>. <span class="tactic">apply</span> <span class="id">valid_Tgt</span> <span class="kwd">in</span> <span class="id">H14</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">inv</span> <span class="id">Binj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="GMemory.html#GMem.mi_inj">GMem.mi_inj</a></span> <span class="kwd">in</span> <span class="id">bmiw_inject</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="GMemory.html#GMem.mi_perm">GMem.mi_perm</a></span> <span class="kwd">in</span> <span class="id">bmiw_inject</span>;<span class="tactic">eauto</span>;[|<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>;<span class="tactic">rewrite</span> <span class="id">H12</span>;<span class="tactic">eauto</span>]. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_0_r">Z.add_0_r</a></span> <span class="kwd">in</span> <span class="id">bmiw_inject</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Binj</span>. <span class="tactic">eapply</span> <span class="id"><a href="GMemory.html#GMem.mi_perm_inv">GMem.mi_perm_inv</a></span> <span class="kwd">in</span> <span class="id">bmiw_inject</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>;<span class="tactic">rewrite</span> <span class="id">H12</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_0_r">Z.add_0_r</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">inv</span> <span class="id">Binj</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="GMemory.html#GMem.mi_inj">GMem.mi_inj</a></span> <span class="kwd">in</span> <span class="id">bmiw_inject</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="GMemory.html#GMem.mi_memval">GMem.mi_memval</a></span> <span class="kwd">in</span> <span class="id">bmiw_inject</span>;<span class="tactic">eauto</span>;[|<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>;<span class="tactic">rewrite</span> <span class="id">H12</span>;<span class="tactic">eauto</span>]. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_0_r">Z.add_0_r</a></span> <span class="kwd">in</span> <span class="id">bmiw_inject</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">bmiw_inject</span>;<span class="tactic">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H16</span>;<span class="tactic">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="kwd">in</span> <span class="id">H17</span>. <span class="id">ex_match</span>. <span class="id">inv</span> <span class="id">H17</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span>. <span class="id">constructor</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H14</span>;<span class="id">contradict</span> <span class="id">H14</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">rc_shared_Src</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H8</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H15</span>;<span class="id">contradict</span> <span class="id">H15</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">rc_shared_Src</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H8</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">H8</span>. <span class="tactic">unfold</span> <span class="id"><a href="SpecLangSim.html#inj_j">inj_j</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="InjRels.html#sep_inject">sep_inject</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="SpecLangSim.html#LfpG_emp">LfpG_emp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;+ <span class="comment">(*step*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLang.html#speclang">speclang</a></span> <span class="kwd">in</span> *;<span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H</span> <span class="kwd">as</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H6</span>. <span class="id">inv</span> <span class="id">MS0</span>. <span class="id">inv</span> <span class="id">COREINJ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SpecLangSim.html#normalstep_sim">normalstep_sim</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>. <span class="id">constructor</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H8</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">MS0</span>. <span class="id">inv</span> <span class="id">COREINJ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>. <span class="id">econstructor</span> 2;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> !<span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> !<span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">exists</span> <span class="id">x</span>;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H5</span>;<span class="id">inv</span> <span class="id">H</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;ent-atom&nbsp;ext-atom&nbsp;match-cont&nbsp;k0&nbsp;preserve&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H</span> <span class="kwd">as</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H6</span>. <span class="id">inv</span> <span class="id">MS0</span>. <span class="id">inv</span> <span class="id">COREINJ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SpecLangSim.html#normalstep_sim">normalstep_sim</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H8</span>. <span class="id">inv</span> <span class="id">MS0</span>. <span class="id">inv</span> <span class="id">COREINJ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> (<span class="id">econstructor</span>;<span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">H13</span>;<span class="tactic">clear</span>;<span class="tactic">induction</span> 1;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">MS0</span>. <span class="id">inv</span> <span class="id">COREINJ</span>. <span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>. <span class="id">inv</span> <span class="id">H10</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>. <span class="id">constructor</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 4.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> ! <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span>!<span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">exists</span> <span class="id">x</span>;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">H5</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MS0</span>;<span class="id">Hsimpl</span>. <span class="id">inv</span> <span class="id">COREINJ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>;<span class="id">inv</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="SpecLangSim.html#alloc_inv">alloc_inv</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">LfpG</span>' (<span class="id"><a href="FMemory.html#Mem.freelist">Mem.freelist</a></span> <span class="id">x</span>) <span class="id">mu</span> (<span class="id"><a href="FMemOpFP.html#alloc_fp">FMemOpFP.alloc_fp</a></span> <span class="id">m</span> 0 0)(<span class="id"><a href="FMemOpFP.html#alloc_fp">FMemOpFP.alloc_fp</a></span> <span class="id">x</span> 0 0)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">LfpG_LfpG</span>'. <span class="tactic">eapply</span> <span class="id"><a href="FMemOpFP.html#alloc_LfpG">FMemOpFP.alloc_LfpG</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLangSim.html#gmeminv">gmeminv</a></span>,<span class="id"><a href="SpecLangSim.html#mu_inv">mu_inv</a></span> <span class="kwd">in</span> <span class="id">INVINJ</span>;<span class="id">Hsimpl</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>;<span class="tactic">auto</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">LfpG</span>'<span class="id">_union</span>;<span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="FMemLemmas.html#mem_alloc_fleq">mem_alloc_fleq</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id">H</span>. <span class="id">exists</span> <span class="id">x1</span>;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">AGMU</span>;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLangSim.html#gmeminv">gmeminv</a></span> <span class="kwd">in</span> <span class="id">H5</span>;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Values.html#inject_incr">inject_incr</a></span>,<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>;<span class="tactic">intros</span>;<span class="id">ex_match</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H12</span>. <span class="tactic">apply</span> <span class="id">H10</span> <span class="kwd">in</span> <span class="id">Hx</span>.  <span class="tactic">rewrite</span> <span class="id">Hx</span>. <span class="tactic">auto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="InjRels.html#sep_inject">sep_inject</a></span>,<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ex_match</span>. <span class="id">inv</span> <span class="id">H7</span>. <span class="id">inv</span> <span class="id">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLangSim.html#gmeminv">gmeminv</a></span> <span class="kwd">in</span> <span class="id">H5</span>;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H10</span> <span class="kwd">in</span> <span class="id">Hx0</span> <span class="kwd">as</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLangSim.html#inj_j">inj_j</a></span> <span class="kwd">in</span> <span class="id">H11</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">H11</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hx</span> <span class="id">H12</span>). <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Hx0</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">LfpG</span>'<span class="id">_union</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;+ <span class="comment">(*at-ext*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLang.html#speclang">speclang</a></span> <span class="kwd">in</span> *;<span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLang.html#at_external">at_external</a></span> <span class="kwd">in</span> <span class="id">H0</span>|-*.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ex_match</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">MS0</span>. <span class="id">Hsimpl</span>. <span class="id">inv</span> <span class="id">COREINJ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">LFPG</span>. <span class="id">inv</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>;<span class="tactic">auto</span>. <span class="id">constructor</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLangSim.html#gmeminv">gmeminv</a></span> <span class="kwd">in</span> <span class="id">INVINJ</span>;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SpecLangSim.html#mem_rel_unmapped_closed_reach_closed">mem_rel_unmapped_closed_reach_closed</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">GEINIT</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H7</span>. <span class="tactic">eapply</span> <span class="id"><a href="SpecLangSim.html#gmeminv_mu_inject">gmeminv_mu_inject</a></span>;<span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="SpecLangSim.html#LfpG_emp">LfpG_emp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>;<span class="id">inv</span> <span class="id">MS0</span>;<span class="id">Hsimpl</span>;<span class="id">inv</span> <span class="id">COREINJ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">LFPG</span>. <span class="id">inv</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H7</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLangSim.html#gmeminv">gmeminv</a></span> <span class="kwd">in</span> <span class="id">INVINJ</span>;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SpecLangSim.html#mem_rel_unmapped_closed_reach_closed">mem_rel_unmapped_closed_reach_closed</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H13</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SpecLangSim.html#gmeminv_mu_inject">gmeminv_mu_inject</a></span>;<span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">H7</span>;<span class="tactic">auto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="SpecLangSim.html#LfpG_emp">LfpG_emp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;+ <span class="comment">(*aft-ext*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLang.html#speclang">speclang</a></span> <span class="kwd">in</span> *;<span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLang.html#after_external">after_external</a></span> <span class="kwd">in</span> *;<span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ex_match</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">MS0</span>;<span class="id">Hsimpl</span>;<span class="id">inv</span> <span class="id">COREINJ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>. <span class="tactic">unfold</span> <span class="id"><a href="LDSimDefs.html#ores_rel">ores_rel</a></span> <span class="kwd">in</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">oresTgt</span>;<span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>. <span class="id">inv</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SpecLangSim.html#embed_preserve">embed_preserve</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SpecLangSim.html#gmeminv_HLRELY">gmeminv_HLRELY</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">MS0</span>;<span class="id">Hsimpl</span>;<span class="id">inv</span> <span class="id">COREINJ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>. <span class="tactic">unfold</span> <span class="id"><a href="LDSimDefs.html#ores_rel">ores_rel</a></span> <span class="kwd">in</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">oresTgt</span>;<span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>;<span class="id">inv</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SpecLangSim.html#embed_preserve">embed_preserve</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SpecLangSim.html#gmeminv_HLRELY">gmeminv_HLRELY</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;+ <span class="comment">(*halt*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLang.html#speclang">speclang</a></span> <span class="kwd">in</span> *;<span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLang.html#halt">halt</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ex_match</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H</span>;<span class="id">inv</span> <span class="id">MS0</span>;<span class="id">Hsimpl</span>;<span class="id">inv</span> <span class="id">COREINJ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H10</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">LFPG</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>. <span class="id">inv</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SpecLangSim.html#gmeminv">gmeminv</a></span>,<span class="id"><a href="SpecLangSim.html#mu_inv">mu_inv</a></span> <span class="kwd">in</span> <span class="id">INVINJ</span>;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SpecLangSim.html#mem_rel_unmapped_closed_reach_closed">mem_rel_unmapped_closed_reach_closed</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">LFPG</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="SpecLangSim.html#gmeminv_mu_inject">gmeminv_mu_inject</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
Qed.</div>
</div>
<div class="footer"><hr/>Generated by coq2html</div>
</body>
</html>
