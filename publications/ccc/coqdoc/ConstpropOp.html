<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module ConstpropOp</title>
<meta name="description" content="Documentation of Coq module ConstpropOp" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module ConstpropOp</h1>
<div class="coq">
<br/>
<div class="doc">Strength reduction for operators and conditions.
    This is the machine-dependent part of <span class="bracket"><span class="id">Constprop</span></span>. </div>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">Coqlib</span> <span class="id">Compopts</span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">AST</span> <span class="id">Integers</span> <span class="id">Floats</span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">Op</span> <span class="id">Registers</span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">ValueDomain</span>.<br/>
<br/>
<h1> Converting known values to constants </h1>
<br/>
<span class="kwd">Parameter</span> <span class="id">symbol_is_external</span>: <span class="id">ident</span> -&gt; <span class="id">bool</span>.  <span class="docright">(* See <span class="bracket"><span class="id">SelectOp</span></span>  *)</span><br/>
<br/>
<span class="kwd">Definition</span> <span class="id">Olea_ptr</span> (<span class="id">a</span>: <span class="id">addressing</span>) := <span class="kwd">if</span> <span class="id">Archi.ptr64</span> <span class="kwd">then</span> <span class="id">Oleal</span> <span class="id">a</span> <span class="kwd">else</span> <span class="id">Olea</span> <span class="id">a</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">const_for_result</span> (<span class="id">a</span>: <span class="id">aval</span>) : <span class="id">option</span> <span class="id">operation</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">a</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">I</span> <span class="id">n</span> =&gt; <span class="id">Some</span>(<span class="id">Ointconst</span> <span class="id">n</span>)<br/>
&nbsp;&nbsp;| <span class="id">L</span> <span class="id">n</span> =&gt; <span class="kwd">if</span> <span class="id">Archi.ptr64</span> <span class="kwd">then</span> <span class="id">Some</span>(<span class="id">Olongconst</span> <span class="id">n</span>) <span class="kwd">else</span> <span class="id">None</span><br/>
&nbsp;&nbsp;| <span class="id">F</span> <span class="id">n</span> =&gt; <span class="kwd">if</span> <span class="id">Compopts.generate_float_constants</span> <span class="id">tt</span> <span class="kwd">then</span> <span class="id">Some</span>(<span class="id">Ofloatconst</span> <span class="id">n</span>) <span class="kwd">else</span> <span class="id">None</span><br/>
&nbsp;&nbsp;| <span class="id">FS</span> <span class="id">n</span> =&gt; <span class="kwd">if</span> <span class="id">Compopts.generate_float_constants</span> <span class="id">tt</span> <span class="kwd">then</span> <span class="id">Some</span>(<span class="id">Osingleconst</span> <span class="id">n</span>) <span class="kwd">else</span> <span class="id">None</span><br/>
&nbsp;&nbsp;| <span class="id">Ptr</span>(<span class="id">Gl</span> <span class="id">id</span> <span class="id">ofs</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id">symbol_is_external</span> <span class="id">id</span> <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id">Ptrofs.eq</span> <span class="id">ofs</span> <span class="id">Ptrofs.zero</span> <span class="kwd">then</span> <span class="id">Some</span> (<span class="id">Oindirectsymbol</span> <span class="id">id</span>) <span class="kwd">else</span> <span class="id">None</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Some</span> (<span class="id">Olea_ptr</span> (<span class="id">Aglobal</span> <span class="id">id</span> <span class="id">ofs</span>))<br/>
&nbsp;&nbsp;| <span class="id">Ptr</span>(<span class="id">Stk</span> <span class="id">ofs</span>) =&gt; <span class="id">Some</span>(<span class="id">Olea_ptr</span> (<span class="id">Ainstack</span> <span class="id">ofs</span>))<br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id">None</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<h1> Operator strength reduction </h1>
<br/>
<div class="doc">We now define auxiliary functions for strength reduction of
  operators and addressing modes: replacing an operator with a cheaper
  one if some of its arguments are statically known.  These are again
  large pattern-matchings expressed in indirect style. </div>
<br/>
<div class="doc">Original definition:
<pre>
Nondetfunction cond_strength_reduction 
              (cond: condition) (args: list reg) (vl: list aval) :=
  match cond, args, vl with
  | Ccomp c, r1 :: r2 :: nil, I n1 :: v2 :: nil =&gt;
      (Ccompimm (swap_comparison c) n1, r2 :: nil)
  | Ccomp c, r1 :: r2 :: nil, v1 :: I n2 :: nil =&gt;
      (Ccompimm c n2, r1 :: nil)
  | Ccompu c, r1 :: r2 :: nil, I n1 :: v2 :: nil =&gt;
      (Ccompuimm (swap_comparison c) n1, r2 :: nil)
  | Ccompu c, r1 :: r2 :: nil, v1 :: I n2 :: nil =&gt;
      (Ccompuimm c n2, r1 :: nil)
  | Ccompl c, r1 :: r2 :: nil, L n1 :: v2 :: nil =&gt;
      (Ccomplimm (swap_comparison c) n1, r2 :: nil)
  | Ccompl c, r1 :: r2 :: nil, v1 :: L n2 :: nil =&gt;
      (Ccomplimm c n2, r1 :: nil)
  | Ccomplu c, r1 :: r2 :: nil, L n1 :: v2 :: nil =&gt;
      (Ccompluimm (swap_comparison c) n1, r2 :: nil)
  | Ccomplu c, r1 :: r2 :: nil, v1 :: L n2 :: nil =&gt;
      (Ccompluimm c n2, r1 :: nil)
  | _, _, _ =&gt; 
      (cond, args)
  end.</pre>
</div>
<br/>
<span class="kwd">Inductive</span> <span class="id">cond_strength_reduction_cases</span>: <span class="kwd">forall</span> (<span class="id">cond</span>: <span class="id">condition</span>) (<span class="id">args</span>: <span class="id">list</span> <span class="id">reg</span>) (<span class="id">vl</span>: <span class="id">list</span> <span class="id">aval</span>), <span class="kwd">Type</span> :=<br/>
&nbsp;&nbsp;| <span class="id">cond_strength_reduction_case1</span>: <span class="kwd">forall</span> <span class="id">c</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span>, <span class="id">cond_strength_reduction_cases</span> (<span class="id">Ccomp</span> <span class="id">c</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">I</span> <span class="id">n1</span> :: <span class="id">v2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">cond_strength_reduction_case2</span>: <span class="kwd">forall</span> <span class="id">c</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span>, <span class="id">cond_strength_reduction_cases</span> (<span class="id">Ccomp</span> <span class="id">c</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">v1</span> :: <span class="id">I</span> <span class="id">n2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">cond_strength_reduction_case3</span>: <span class="kwd">forall</span> <span class="id">c</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span>, <span class="id">cond_strength_reduction_cases</span> (<span class="id">Ccompu</span> <span class="id">c</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">I</span> <span class="id">n1</span> :: <span class="id">v2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">cond_strength_reduction_case4</span>: <span class="kwd">forall</span> <span class="id">c</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span>, <span class="id">cond_strength_reduction_cases</span> (<span class="id">Ccompu</span> <span class="id">c</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">v1</span> :: <span class="id">I</span> <span class="id">n2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">cond_strength_reduction_case5</span>: <span class="kwd">forall</span> <span class="id">c</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span>, <span class="id">cond_strength_reduction_cases</span> (<span class="id">Ccompl</span> <span class="id">c</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">L</span> <span class="id">n1</span> :: <span class="id">v2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">cond_strength_reduction_case6</span>: <span class="kwd">forall</span> <span class="id">c</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span>, <span class="id">cond_strength_reduction_cases</span> (<span class="id">Ccompl</span> <span class="id">c</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">v1</span> :: <span class="id">L</span> <span class="id">n2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">cond_strength_reduction_case7</span>: <span class="kwd">forall</span> <span class="id">c</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span>, <span class="id">cond_strength_reduction_cases</span> (<span class="id">Ccomplu</span> <span class="id">c</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">L</span> <span class="id">n1</span> :: <span class="id">v2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">cond_strength_reduction_case8</span>: <span class="kwd">forall</span> <span class="id">c</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span>, <span class="id">cond_strength_reduction_cases</span> (<span class="id">Ccomplu</span> <span class="id">c</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">v1</span> :: <span class="id">L</span> <span class="id">n2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">cond_strength_reduction_default</span>: <span class="kwd">forall</span> (<span class="id">cond</span>: <span class="id">condition</span>) (<span class="id">args</span>: <span class="id">list</span> <span class="id">reg</span>) (<span class="id">vl</span>: <span class="id">list</span> <span class="id">aval</span>), <span class="id">cond_strength_reduction_cases</span> <span class="id">cond</span> <span class="id">args</span> <span class="id">vl</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">cond_strength_reduction_match</span> (<span class="id">cond</span>: <span class="id">condition</span>) (<span class="id">args</span>: <span class="id">list</span> <span class="id">reg</span>) (<span class="id">vl</span>: <span class="id">list</span> <span class="id">aval</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">cond</span> <span class="kwd">as</span> <span class="id">zz1</span>, <span class="id">args</span> <span class="kwd">as</span> <span class="id">zz2</span>, <span class="id">vl</span> <span class="kwd">as</span> <span class="id">zz3</span> <span class="kwd">return</span> <span class="id">cond_strength_reduction_cases</span> <span class="id">zz1</span> <span class="id">zz2</span> <span class="id">zz3</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">Ccomp</span> <span class="id">c</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">I</span> <span class="id">n1</span> :: <span class="id">v2</span> :: <span class="id">nil</span> =&gt; <span class="id">cond_strength_reduction_case1</span> <span class="id">c</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span><br/>
&nbsp;&nbsp;| <span class="id">Ccomp</span> <span class="id">c</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">v1</span> :: <span class="id">I</span> <span class="id">n2</span> :: <span class="id">nil</span> =&gt; <span class="id">cond_strength_reduction_case2</span> <span class="id">c</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span><br/>
&nbsp;&nbsp;| <span class="id">Ccompu</span> <span class="id">c</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">I</span> <span class="id">n1</span> :: <span class="id">v2</span> :: <span class="id">nil</span> =&gt; <span class="id">cond_strength_reduction_case3</span> <span class="id">c</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span><br/>
&nbsp;&nbsp;| <span class="id">Ccompu</span> <span class="id">c</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">v1</span> :: <span class="id">I</span> <span class="id">n2</span> :: <span class="id">nil</span> =&gt; <span class="id">cond_strength_reduction_case4</span> <span class="id">c</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span><br/>
&nbsp;&nbsp;| <span class="id">Ccompl</span> <span class="id">c</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">L</span> <span class="id">n1</span> :: <span class="id">v2</span> :: <span class="id">nil</span> =&gt; <span class="id">cond_strength_reduction_case5</span> <span class="id">c</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span><br/>
&nbsp;&nbsp;| <span class="id">Ccompl</span> <span class="id">c</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">v1</span> :: <span class="id">L</span> <span class="id">n2</span> :: <span class="id">nil</span> =&gt; <span class="id">cond_strength_reduction_case6</span> <span class="id">c</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span><br/>
&nbsp;&nbsp;| <span class="id">Ccomplu</span> <span class="id">c</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">L</span> <span class="id">n1</span> :: <span class="id">v2</span> :: <span class="id">nil</span> =&gt; <span class="id">cond_strength_reduction_case7</span> <span class="id">c</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span><br/>
&nbsp;&nbsp;| <span class="id">Ccomplu</span> <span class="id">c</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">v1</span> :: <span class="id">L</span> <span class="id">n2</span> :: <span class="id">nil</span> =&gt; <span class="id">cond_strength_reduction_case8</span> <span class="id">c</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span><br/>
&nbsp;&nbsp;| <span class="id">cond</span>, <span class="id">args</span>, <span class="id">vl</span> =&gt; <span class="id">cond_strength_reduction_default</span> <span class="id">cond</span> <span class="id">args</span> <span class="id">vl</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">cond_strength_reduction</span> (<span class="id">cond</span>: <span class="id">condition</span>) (<span class="id">args</span>: <span class="id">list</span> <span class="id">reg</span>) (<span class="id">vl</span>: <span class="id">list</span> <span class="id">aval</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">cond_strength_reduction_match</span> <span class="id">cond</span> <span class="id">args</span> <span class="id">vl</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">cond_strength_reduction_case1</span> <span class="id">c</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Ccompimm</span> (<span class="id">swap_comparison</span> <span class="id">c</span>) <span class="id">n1</span>, <span class="id">r2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">cond_strength_reduction_case2</span> <span class="id">c</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Ccompimm</span> <span class="id">c</span> <span class="id">n2</span>, <span class="id">r1</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">cond_strength_reduction_case3</span> <span class="id">c</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Ccompuimm</span> (<span class="id">swap_comparison</span> <span class="id">c</span>) <span class="id">n1</span>, <span class="id">r2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">cond_strength_reduction_case4</span> <span class="id">c</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Ccompuimm</span> <span class="id">c</span> <span class="id">n2</span>, <span class="id">r1</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">cond_strength_reduction_case5</span> <span class="id">c</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Ccomplimm</span> (<span class="id">swap_comparison</span> <span class="id">c</span>) <span class="id">n1</span>, <span class="id">r2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">cond_strength_reduction_case6</span> <span class="id">c</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Ccomplimm</span> <span class="id">c</span> <span class="id">n2</span>, <span class="id">r1</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">cond_strength_reduction_case7</span> <span class="id">c</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Ccompluimm</span> (<span class="id">swap_comparison</span> <span class="id">c</span>) <span class="id">n1</span>, <span class="id">r2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">cond_strength_reduction_case8</span> <span class="id">c</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Ccompluimm</span> <span class="id">c</span> <span class="id">n2</span>, <span class="id">r1</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">cond_strength_reduction_default</span> <span class="id">cond</span> <span class="id">args</span> <span class="id">vl</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">cond</span>, <span class="id">args</span>)<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">make_cmp_base</span> (<span class="id">c</span>: <span class="id">condition</span>) (<span class="id">args</span>: <span class="id">list</span> <span class="id">reg</span>) (<span class="id">vl</span>: <span class="id">list</span> <span class="id">aval</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">let</span> (<span class="id">c</span>', <span class="id">args</span>') := <span class="id">cond_strength_reduction</span> <span class="id">c</span> <span class="id">args</span> <span class="id">vl</span> <span class="kwd">in</span> (<span class="id">Ocmp</span> <span class="id">c</span>', <span class="id">args</span>').<br/>
<br/>
<div class="doc">Original definition:
<pre>
Nondetfunction make_cmp (c: condition) (args: list reg) (vl: list aval) :=
  match c, args, vl with
  | Ccompimm Ceq n, r1 :: nil, v1 :: nil =&gt;
      if Int.eq_dec n Int.one &amp;&amp; vincl v1 (Uns Ptop 1) then (Omove, r1 :: nil)
      else if Int.eq_dec n Int.zero &amp;&amp; vincl v1 (Uns Ptop 1) then (Oxorimm Int.one, r1 :: nil)
      else make_cmp_base c args vl
  | Ccompimm Cne n, r1 :: nil, v1 :: nil =&gt;
      if Int.eq_dec n Int.zero &amp;&amp; vincl v1 (Uns Ptop 1) then (Omove, r1 :: nil)
      else if Int.eq_dec n Int.one &amp;&amp; vincl v1 (Uns Ptop 1) then (Oxorimm Int.one, r1 :: nil)
      else make_cmp_base c args vl
  | _, _, _ =&gt;
      make_cmp_base c args vl
  end.</pre>
</div>
<br/>
<span class="kwd">Inductive</span> <span class="id">make_cmp_cases</span>: <span class="kwd">forall</span> (<span class="id">c</span>: <span class="id">condition</span>) (<span class="id">args</span>: <span class="id">list</span> <span class="id">reg</span>) (<span class="id">vl</span>: <span class="id">list</span> <span class="id">aval</span>), <span class="kwd">Type</span> :=<br/>
&nbsp;&nbsp;| <span class="id">make_cmp_case1</span>: <span class="kwd">forall</span> <span class="id">n</span> <span class="id">r1</span> <span class="id">v1</span>, <span class="id">make_cmp_cases</span> (<span class="id">Ccompimm</span> <span class="id">Ceq</span> <span class="id">n</span>) (<span class="id">r1</span> :: <span class="id">nil</span>) (<span class="id">v1</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">make_cmp_case2</span>: <span class="kwd">forall</span> <span class="id">n</span> <span class="id">r1</span> <span class="id">v1</span>, <span class="id">make_cmp_cases</span> (<span class="id">Ccompimm</span> <span class="id">Cne</span> <span class="id">n</span>) (<span class="id">r1</span> :: <span class="id">nil</span>) (<span class="id">v1</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">make_cmp_default</span>: <span class="kwd">forall</span> (<span class="id">c</span>: <span class="id">condition</span>) (<span class="id">args</span>: <span class="id">list</span> <span class="id">reg</span>) (<span class="id">vl</span>: <span class="id">list</span> <span class="id">aval</span>), <span class="id">make_cmp_cases</span> <span class="id">c</span> <span class="id">args</span> <span class="id">vl</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">make_cmp_match</span> (<span class="id">c</span>: <span class="id">condition</span>) (<span class="id">args</span>: <span class="id">list</span> <span class="id">reg</span>) (<span class="id">vl</span>: <span class="id">list</span> <span class="id">aval</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">c</span> <span class="kwd">as</span> <span class="id">zz1</span>, <span class="id">args</span> <span class="kwd">as</span> <span class="id">zz2</span>, <span class="id">vl</span> <span class="kwd">as</span> <span class="id">zz3</span> <span class="kwd">return</span> <span class="id">make_cmp_cases</span> <span class="id">zz1</span> <span class="id">zz2</span> <span class="id">zz3</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">Ccompimm</span> <span class="id">Ceq</span> <span class="id">n</span>, <span class="id">r1</span> :: <span class="id">nil</span>, <span class="id">v1</span> :: <span class="id">nil</span> =&gt; <span class="id">make_cmp_case1</span> <span class="id">n</span> <span class="id">r1</span> <span class="id">v1</span><br/>
&nbsp;&nbsp;| <span class="id">Ccompimm</span> <span class="id">Cne</span> <span class="id">n</span>, <span class="id">r1</span> :: <span class="id">nil</span>, <span class="id">v1</span> :: <span class="id">nil</span> =&gt; <span class="id">make_cmp_case2</span> <span class="id">n</span> <span class="id">r1</span> <span class="id">v1</span><br/>
&nbsp;&nbsp;| <span class="id">c</span>, <span class="id">args</span>, <span class="id">vl</span> =&gt; <span class="id">make_cmp_default</span> <span class="id">c</span> <span class="id">args</span> <span class="id">vl</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">make_cmp</span> (<span class="id">c</span>: <span class="id">condition</span>) (<span class="id">args</span>: <span class="id">list</span> <span class="id">reg</span>) (<span class="id">vl</span>: <span class="id">list</span> <span class="id">aval</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">make_cmp_match</span> <span class="id">c</span> <span class="id">args</span> <span class="id">vl</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">make_cmp_case1</span> <span class="id">n</span> <span class="id">r1</span> <span class="id">v1</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id">Int.eq_dec</span> <span class="id">n</span> <span class="id">Int.one</span> &amp;&amp; <span class="id">vincl</span> <span class="id">v1</span> (<span class="id">Uns</span> <span class="id">Ptop</span> 1) <span class="kwd">then</span> (<span class="id">Omove</span>, <span class="id">r1</span> :: <span class="id">nil</span>) <span class="kwd">else</span> <span class="kwd">if</span> <span class="id">Int.eq_dec</span> <span class="id">n</span> <span class="id">Int.zero</span> &amp;&amp; <span class="id">vincl</span> <span class="id">v1</span> (<span class="id">Uns</span> <span class="id">Ptop</span> 1) <span class="kwd">then</span> (<span class="id">Oxorimm</span> <span class="id">Int.one</span>, <span class="id">r1</span> :: <span class="id">nil</span>) <span class="kwd">else</span> <span class="id">make_cmp_base</span> <span class="id">c</span> <span class="id">args</span> <span class="id">vl</span><br/>
&nbsp;&nbsp;| <span class="id">make_cmp_case2</span> <span class="id">n</span> <span class="id">r1</span> <span class="id">v1</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id">Int.eq_dec</span> <span class="id">n</span> <span class="id">Int.zero</span> &amp;&amp; <span class="id">vincl</span> <span class="id">v1</span> (<span class="id">Uns</span> <span class="id">Ptop</span> 1) <span class="kwd">then</span> (<span class="id">Omove</span>, <span class="id">r1</span> :: <span class="id">nil</span>) <span class="kwd">else</span> <span class="kwd">if</span> <span class="id">Int.eq_dec</span> <span class="id">n</span> <span class="id">Int.one</span> &amp;&amp; <span class="id">vincl</span> <span class="id">v1</span> (<span class="id">Uns</span> <span class="id">Ptop</span> 1) <span class="kwd">then</span> (<span class="id">Oxorimm</span> <span class="id">Int.one</span>, <span class="id">r1</span> :: <span class="id">nil</span>) <span class="kwd">else</span> <span class="id">make_cmp_base</span> <span class="id">c</span> <span class="id">args</span> <span class="id">vl</span><br/>
&nbsp;&nbsp;| <span class="id">make_cmp_default</span> <span class="id">c</span> <span class="id">args</span> <span class="id">vl</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_cmp_base</span> <span class="id">c</span> <span class="id">args</span> <span class="id">vl</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<br/>
<div class="doc">For addressing modes, we need to distinguish
<ul>
<li>
 reductions that produce pointers (i.e. that produce <span class="bracket"><span class="id">Aglobal</span></span>, <span class="bracket"><span class="id">Ainstack</span></span>, <span class="bracket"><span class="id">Abased</span></span> and <span class="bracket"><span class="id">Abasedscaled</span></span> addressing modes), which are valid only if the pointer size is right;
</li>
<li>
 other reductions (producing <span class="bracket"><span class="id">Aindexed</span></span> or <span class="bracket"><span class="id">Aindexed2</span></span> modes), which are valid independently of the pointer size.
</li>
</ul>
</div>
<br/>
<div class="doc">Original definition:
<pre>
Nondetfunction addr_strength_reduction_32_generic
                (addr: addressing) (args: list reg) (vl: list aval) :=
  match addr, args, vl with
  | Aindexed2 ofs, r1 :: r2 :: nil, I n1 :: v2 :: nil =&gt;
      (Aindexed (Int.signed n1 + ofs), r2 :: nil)
  | Aindexed2 ofs, r1 :: r2 :: nil, v1 :: I n2 :: nil =&gt;
      (Aindexed (Int.signed n2 + ofs), r1 :: nil)
  | Aindexed2scaled sc ofs, r1 :: r2 :: nil, v1 :: I n2 :: nil =&gt;
      (Aindexed (Int.signed n2 * sc + ofs), r1 :: nil)
  | Aindexed2scaled sc ofs, r1 :: r2 :: nil, I n1 :: v2 :: nil =&gt;
      (Ascaled sc (Int.signed n1 + ofs), r2 :: nil)
  | _, _ =&gt;
      (addr, args)
  end.</pre>
</div>
<br/>
<span class="kwd">Inductive</span> <span class="id">addr_strength_reduction_32_generic_cases</span>: <span class="kwd">forall</span> (<span class="id">addr</span>: <span class="id">addressing</span>) (<span class="id">args</span>: <span class="id">list</span> <span class="id">reg</span>) (<span class="id">vl</span>: <span class="id">list</span> <span class="id">aval</span>), <span class="kwd">Type</span> :=<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_32_generic_case1</span>: <span class="kwd">forall</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span>, <span class="id">addr_strength_reduction_32_generic_cases</span> (<span class="id">Aindexed2</span> <span class="id">ofs</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">I</span> <span class="id">n1</span> :: <span class="id">v2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_32_generic_case2</span>: <span class="kwd">forall</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span>, <span class="id">addr_strength_reduction_32_generic_cases</span> (<span class="id">Aindexed2</span> <span class="id">ofs</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">v1</span> :: <span class="id">I</span> <span class="id">n2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_32_generic_case3</span>: <span class="kwd">forall</span> <span class="id">sc</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span>, <span class="id">addr_strength_reduction_32_generic_cases</span> (<span class="id">Aindexed2scaled</span> <span class="id">sc</span> <span class="id">ofs</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">v1</span> :: <span class="id">I</span> <span class="id">n2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_32_generic_case4</span>: <span class="kwd">forall</span> <span class="id">sc</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span>, <span class="id">addr_strength_reduction_32_generic_cases</span> (<span class="id">Aindexed2scaled</span> <span class="id">sc</span> <span class="id">ofs</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">I</span> <span class="id">n1</span> :: <span class="id">v2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_32_generic_default</span>: <span class="kwd">forall</span> (<span class="id">addr</span>: <span class="id">addressing</span>) (<span class="id">args</span>: <span class="id">list</span> <span class="id">reg</span>) (<span class="id">vl</span>: <span class="id">list</span> <span class="id">aval</span>), <span class="id">addr_strength_reduction_32_generic_cases</span> <span class="id">addr</span> <span class="id">args</span> <span class="id">vl</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">addr_strength_reduction_32_generic_match</span> (<span class="id">addr</span>: <span class="id">addressing</span>) (<span class="id">args</span>: <span class="id">list</span> <span class="id">reg</span>) (<span class="id">vl</span>: <span class="id">list</span> <span class="id">aval</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">addr</span> <span class="kwd">as</span> <span class="id">zz1</span>, <span class="id">args</span> <span class="kwd">as</span> <span class="id">zz2</span>, <span class="id">vl</span> <span class="kwd">as</span> <span class="id">zz3</span> <span class="kwd">return</span> <span class="id">addr_strength_reduction_32_generic_cases</span> <span class="id">zz1</span> <span class="id">zz2</span> <span class="id">zz3</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">Aindexed2</span> <span class="id">ofs</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">I</span> <span class="id">n1</span> :: <span class="id">v2</span> :: <span class="id">nil</span> =&gt; <span class="id">addr_strength_reduction_32_generic_case1</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span><br/>
&nbsp;&nbsp;| <span class="id">Aindexed2</span> <span class="id">ofs</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">v1</span> :: <span class="id">I</span> <span class="id">n2</span> :: <span class="id">nil</span> =&gt; <span class="id">addr_strength_reduction_32_generic_case2</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span><br/>
&nbsp;&nbsp;| <span class="id">Aindexed2scaled</span> <span class="id">sc</span> <span class="id">ofs</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">v1</span> :: <span class="id">I</span> <span class="id">n2</span> :: <span class="id">nil</span> =&gt; <span class="id">addr_strength_reduction_32_generic_case3</span> <span class="id">sc</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span><br/>
&nbsp;&nbsp;| <span class="id">Aindexed2scaled</span> <span class="id">sc</span> <span class="id">ofs</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">I</span> <span class="id">n1</span> :: <span class="id">v2</span> :: <span class="id">nil</span> =&gt; <span class="id">addr_strength_reduction_32_generic_case4</span> <span class="id">sc</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span><br/>
&nbsp;&nbsp;| <span class="id">addr</span>, <span class="id">args</span>, <span class="id">vl</span> =&gt; <span class="id">addr_strength_reduction_32_generic_default</span> <span class="id">addr</span> <span class="id">args</span> <span class="id">vl</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">addr_strength_reduction_32_generic</span> (<span class="id">addr</span>: <span class="id">addressing</span>) (<span class="id">args</span>: <span class="id">list</span> <span class="id">reg</span>) (<span class="id">vl</span>: <span class="id">list</span> <span class="id">aval</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">addr_strength_reduction_32_generic_match</span> <span class="id">addr</span> <span class="id">args</span> <span class="id">vl</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_32_generic_case1</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Aindexed</span> (<span class="id">Int.signed</span> <span class="id">n1</span> + <span class="id">ofs</span>), <span class="id">r2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_32_generic_case2</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Aindexed</span> (<span class="id">Int.signed</span> <span class="id">n2</span> + <span class="id">ofs</span>), <span class="id">r1</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_32_generic_case3</span> <span class="id">sc</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Aindexed</span> (<span class="id">Int.signed</span> <span class="id">n2</span> * <span class="id">sc</span> + <span class="id">ofs</span>), <span class="id">r1</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_32_generic_case4</span> <span class="id">sc</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Ascaled</span> <span class="id">sc</span> (<span class="id">Int.signed</span> <span class="id">n1</span> + <span class="id">ofs</span>), <span class="id">r2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_32_generic_default</span> <span class="id">addr</span> <span class="id">args</span> <span class="id">vl</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">addr</span>, <span class="id">args</span>)<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<br/>
<div class="doc">Original definition:
<pre>
Nondetfunction addr_strength_reduction_32
                (addr: addressing) (args: list reg) (vl: list aval) :=

  if Archi.ptr64 then addr_strength_reduction_32_generic addr args vl else

  match addr, args, vl with

  | Aindexed ofs, r1 :: nil, Ptr(Gl symb n) :: nil =&gt;
      (Aglobal symb (Ptrofs.add n (Ptrofs.repr ofs)), nil)
  | Aindexed ofs, r1 :: nil, Ptr(Stk n) :: nil =&gt;
      (Ainstack (Ptrofs.add n (Ptrofs.repr ofs)), nil)

  | Aindexed2 ofs, r1 :: r2 :: nil, Ptr(Gl symb n1) :: I n2 :: nil =&gt;
      (Aglobal symb (Ptrofs.add (Ptrofs.add n1 (Ptrofs.of_int n2)) (Ptrofs.repr ofs)), nil)
  | Aindexed2 ofs, r1 :: r2 :: nil, I n1 :: Ptr(Gl symb n2) :: nil =&gt;
      (Aglobal symb (Ptrofs.add (Ptrofs.add n2 (Ptrofs.of_int n1)) (Ptrofs.repr ofs)), nil)
  | Aindexed2 ofs, r1 :: r2 :: nil, Ptr(Stk n1) :: I n2 :: nil =&gt;
      (Ainstack (Ptrofs.add (Ptrofs.add n1 (Ptrofs.of_int n2)) (Ptrofs.repr ofs)), nil)
  | Aindexed2 ofs, r1 :: r2 :: nil, I n1 :: Ptr(Stk n2) :: nil =&gt;
      (Ainstack (Ptrofs.add (Ptrofs.add (Ptrofs.of_int n1) n2) (Ptrofs.repr ofs)), nil)
  | Aindexed2 ofs, r1 :: r2 :: nil, Ptr(Gl symb n1) :: v2 :: nil =&gt;
      (Abased symb (Ptrofs.add n1 (Ptrofs.repr ofs)), r2 :: nil)
  | Aindexed2 ofs, r1 :: r2 :: nil, v1 :: Ptr(Gl symb n2) :: nil =&gt;
      (Abased symb (Ptrofs.add n2 (Ptrofs.repr ofs)), r1 :: nil)

  | Aindexed2scaled sc ofs, r1 :: r2 :: nil, Ptr(Gl symb n1) :: I n2 :: nil =&gt;
      (Aglobal symb (Ptrofs.add (Ptrofs.add n1 (Ptrofs.of_int (Int.mul n2 (Int.repr sc)))) (Ptrofs.repr ofs)), nil)

  | Aindexed2scaled sc ofs, r1 :: r2 :: nil, Ptr(Gl symb n1) :: v2 :: nil =&gt;
      (Abasedscaled sc symb (Ptrofs.add n1 (Ptrofs.repr ofs)), r2 :: nil)

  | Abased id ofs, r1 :: nil, I n1 :: nil =&gt;
      (Aglobal id (Ptrofs.add ofs (Ptrofs.of_int n1)), nil)

  | Abasedscaled sc id ofs, r1 :: nil, I n1 :: nil =&gt;
      (Aglobal id (Ptrofs.add ofs (Ptrofs.of_int (Int.mul n1 (Int.repr sc)))), nil)

  | _, _ =&gt;
      addr_strength_reduction_32_generic addr args vl
  end.</pre>
</div>
<br/>
<span class="kwd">Inductive</span> <span class="id">addr_strength_reduction_32_cases</span>: <span class="kwd">forall</span> (<span class="id">addr</span>: <span class="id">addressing</span>) (<span class="id">args</span>: <span class="id">list</span> <span class="id">reg</span>) (<span class="id">vl</span>: <span class="id">list</span> <span class="id">aval</span>), <span class="kwd">Type</span> :=<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_32_case1</span>: <span class="kwd">forall</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">symb</span> <span class="id">n</span>, <span class="id">addr_strength_reduction_32_cases</span> (<span class="id">Aindexed</span> <span class="id">ofs</span>) (<span class="id">r1</span> :: <span class="id">nil</span>) (<span class="id">Ptr</span>(<span class="id">Gl</span> <span class="id">symb</span> <span class="id">n</span>) :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_32_case2</span>: <span class="kwd">forall</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">n</span>, <span class="id">addr_strength_reduction_32_cases</span> (<span class="id">Aindexed</span> <span class="id">ofs</span>) (<span class="id">r1</span> :: <span class="id">nil</span>) (<span class="id">Ptr</span>(<span class="id">Stk</span> <span class="id">n</span>) :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_32_case3</span>: <span class="kwd">forall</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">symb</span> <span class="id">n1</span> <span class="id">n2</span>, <span class="id">addr_strength_reduction_32_cases</span> (<span class="id">Aindexed2</span> <span class="id">ofs</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">Ptr</span>(<span class="id">Gl</span> <span class="id">symb</span> <span class="id">n1</span>) :: <span class="id">I</span> <span class="id">n2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_32_case4</span>: <span class="kwd">forall</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">symb</span> <span class="id">n2</span>, <span class="id">addr_strength_reduction_32_cases</span> (<span class="id">Aindexed2</span> <span class="id">ofs</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">I</span> <span class="id">n1</span> :: <span class="id">Ptr</span>(<span class="id">Gl</span> <span class="id">symb</span> <span class="id">n2</span>) :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_32_case5</span>: <span class="kwd">forall</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">n2</span>, <span class="id">addr_strength_reduction_32_cases</span> (<span class="id">Aindexed2</span> <span class="id">ofs</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">Ptr</span>(<span class="id">Stk</span> <span class="id">n1</span>) :: <span class="id">I</span> <span class="id">n2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_32_case6</span>: <span class="kwd">forall</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">n2</span>, <span class="id">addr_strength_reduction_32_cases</span> (<span class="id">Aindexed2</span> <span class="id">ofs</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">I</span> <span class="id">n1</span> :: <span class="id">Ptr</span>(<span class="id">Stk</span> <span class="id">n2</span>) :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_32_case7</span>: <span class="kwd">forall</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">symb</span> <span class="id">n1</span> <span class="id">v2</span>, <span class="id">addr_strength_reduction_32_cases</span> (<span class="id">Aindexed2</span> <span class="id">ofs</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">Ptr</span>(<span class="id">Gl</span> <span class="id">symb</span> <span class="id">n1</span>) :: <span class="id">v2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_32_case8</span>: <span class="kwd">forall</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">symb</span> <span class="id">n2</span>, <span class="id">addr_strength_reduction_32_cases</span> (<span class="id">Aindexed2</span> <span class="id">ofs</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">v1</span> :: <span class="id">Ptr</span>(<span class="id">Gl</span> <span class="id">symb</span> <span class="id">n2</span>) :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_32_case9</span>: <span class="kwd">forall</span> <span class="id">sc</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">symb</span> <span class="id">n1</span> <span class="id">n2</span>, <span class="id">addr_strength_reduction_32_cases</span> (<span class="id">Aindexed2scaled</span> <span class="id">sc</span> <span class="id">ofs</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">Ptr</span>(<span class="id">Gl</span> <span class="id">symb</span> <span class="id">n1</span>) :: <span class="id">I</span> <span class="id">n2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_32_case10</span>: <span class="kwd">forall</span> <span class="id">sc</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">symb</span> <span class="id">n1</span> <span class="id">v2</span>, <span class="id">addr_strength_reduction_32_cases</span> (<span class="id">Aindexed2scaled</span> <span class="id">sc</span> <span class="id">ofs</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">Ptr</span>(<span class="id">Gl</span> <span class="id">symb</span> <span class="id">n1</span>) :: <span class="id">v2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_32_case11</span>: <span class="kwd">forall</span> <span class="id">id</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">n1</span>, <span class="id">addr_strength_reduction_32_cases</span> (<span class="id">Abased</span> <span class="id">id</span> <span class="id">ofs</span>) (<span class="id">r1</span> :: <span class="id">nil</span>) (<span class="id">I</span> <span class="id">n1</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_32_case12</span>: <span class="kwd">forall</span> <span class="id">sc</span> <span class="id">id</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">n1</span>, <span class="id">addr_strength_reduction_32_cases</span> (<span class="id">Abasedscaled</span> <span class="id">sc</span> <span class="id">id</span> <span class="id">ofs</span>) (<span class="id">r1</span> :: <span class="id">nil</span>) (<span class="id">I</span> <span class="id">n1</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_32_default</span>: <span class="kwd">forall</span> (<span class="id">addr</span>: <span class="id">addressing</span>) (<span class="id">args</span>: <span class="id">list</span> <span class="id">reg</span>) (<span class="id">vl</span>: <span class="id">list</span> <span class="id">aval</span>), <span class="id">addr_strength_reduction_32_cases</span> <span class="id">addr</span> <span class="id">args</span> <span class="id">vl</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">addr_strength_reduction_32_match</span> (<span class="id">addr</span>: <span class="id">addressing</span>) (<span class="id">args</span>: <span class="id">list</span> <span class="id">reg</span>) (<span class="id">vl</span>: <span class="id">list</span> <span class="id">aval</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">addr</span> <span class="kwd">as</span> <span class="id">zz1</span>, <span class="id">args</span> <span class="kwd">as</span> <span class="id">zz2</span>, <span class="id">vl</span> <span class="kwd">as</span> <span class="id">zz3</span> <span class="kwd">return</span> <span class="id">addr_strength_reduction_32_cases</span> <span class="id">zz1</span> <span class="id">zz2</span> <span class="id">zz3</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">Aindexed</span> <span class="id">ofs</span>, <span class="id">r1</span> :: <span class="id">nil</span>, <span class="id">Ptr</span>(<span class="id">Gl</span> <span class="id">symb</span> <span class="id">n</span>) :: <span class="id">nil</span> =&gt; <span class="id">addr_strength_reduction_32_case1</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">symb</span> <span class="id">n</span><br/>
&nbsp;&nbsp;| <span class="id">Aindexed</span> <span class="id">ofs</span>, <span class="id">r1</span> :: <span class="id">nil</span>, <span class="id">Ptr</span>(<span class="id">Stk</span> <span class="id">n</span>) :: <span class="id">nil</span> =&gt; <span class="id">addr_strength_reduction_32_case2</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">n</span><br/>
&nbsp;&nbsp;| <span class="id">Aindexed2</span> <span class="id">ofs</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">Ptr</span>(<span class="id">Gl</span> <span class="id">symb</span> <span class="id">n1</span>) :: <span class="id">I</span> <span class="id">n2</span> :: <span class="id">nil</span> =&gt; <span class="id">addr_strength_reduction_32_case3</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">symb</span> <span class="id">n1</span> <span class="id">n2</span><br/>
&nbsp;&nbsp;| <span class="id">Aindexed2</span> <span class="id">ofs</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">I</span> <span class="id">n1</span> :: <span class="id">Ptr</span>(<span class="id">Gl</span> <span class="id">symb</span> <span class="id">n2</span>) :: <span class="id">nil</span> =&gt; <span class="id">addr_strength_reduction_32_case4</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">symb</span> <span class="id">n2</span><br/>
&nbsp;&nbsp;| <span class="id">Aindexed2</span> <span class="id">ofs</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">Ptr</span>(<span class="id">Stk</span> <span class="id">n1</span>) :: <span class="id">I</span> <span class="id">n2</span> :: <span class="id">nil</span> =&gt; <span class="id">addr_strength_reduction_32_case5</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">n2</span><br/>
&nbsp;&nbsp;| <span class="id">Aindexed2</span> <span class="id">ofs</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">I</span> <span class="id">n1</span> :: <span class="id">Ptr</span>(<span class="id">Stk</span> <span class="id">n2</span>) :: <span class="id">nil</span> =&gt; <span class="id">addr_strength_reduction_32_case6</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">n2</span><br/>
&nbsp;&nbsp;| <span class="id">Aindexed2</span> <span class="id">ofs</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">Ptr</span>(<span class="id">Gl</span> <span class="id">symb</span> <span class="id">n1</span>) :: <span class="id">v2</span> :: <span class="id">nil</span> =&gt; <span class="id">addr_strength_reduction_32_case7</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">symb</span> <span class="id">n1</span> <span class="id">v2</span><br/>
&nbsp;&nbsp;| <span class="id">Aindexed2</span> <span class="id">ofs</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">v1</span> :: <span class="id">Ptr</span>(<span class="id">Gl</span> <span class="id">symb</span> <span class="id">n2</span>) :: <span class="id">nil</span> =&gt; <span class="id">addr_strength_reduction_32_case8</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">symb</span> <span class="id">n2</span><br/>
&nbsp;&nbsp;| <span class="id">Aindexed2scaled</span> <span class="id">sc</span> <span class="id">ofs</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">Ptr</span>(<span class="id">Gl</span> <span class="id">symb</span> <span class="id">n1</span>) :: <span class="id">I</span> <span class="id">n2</span> :: <span class="id">nil</span> =&gt; <span class="id">addr_strength_reduction_32_case9</span> <span class="id">sc</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">symb</span> <span class="id">n1</span> <span class="id">n2</span><br/>
&nbsp;&nbsp;| <span class="id">Aindexed2scaled</span> <span class="id">sc</span> <span class="id">ofs</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">Ptr</span>(<span class="id">Gl</span> <span class="id">symb</span> <span class="id">n1</span>) :: <span class="id">v2</span> :: <span class="id">nil</span> =&gt; <span class="id">addr_strength_reduction_32_case10</span> <span class="id">sc</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">symb</span> <span class="id">n1</span> <span class="id">v2</span><br/>
&nbsp;&nbsp;| <span class="id">Abased</span> <span class="id">id</span> <span class="id">ofs</span>, <span class="id">r1</span> :: <span class="id">nil</span>, <span class="id">I</span> <span class="id">n1</span> :: <span class="id">nil</span> =&gt; <span class="id">addr_strength_reduction_32_case11</span> <span class="id">id</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">n1</span><br/>
&nbsp;&nbsp;| <span class="id">Abasedscaled</span> <span class="id">sc</span> <span class="id">id</span> <span class="id">ofs</span>, <span class="id">r1</span> :: <span class="id">nil</span>, <span class="id">I</span> <span class="id">n1</span> :: <span class="id">nil</span> =&gt; <span class="id">addr_strength_reduction_32_case12</span> <span class="id">sc</span> <span class="id">id</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">n1</span><br/>
&nbsp;&nbsp;| <span class="id">addr</span>, <span class="id">args</span>, <span class="id">vl</span> =&gt; <span class="id">addr_strength_reduction_32_default</span> <span class="id">addr</span> <span class="id">args</span> <span class="id">vl</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">addr_strength_reduction_32</span> (<span class="id">addr</span>: <span class="id">addressing</span>) (<span class="id">args</span>: <span class="id">list</span> <span class="id">reg</span>) (<span class="id">vl</span>: <span class="id">list</span> <span class="id">aval</span>) :=<br/>
&nbsp;<span class="kwd">if</span> <span class="id">Archi.ptr64</span> <span class="kwd">then</span> <span class="id">addr_strength_reduction_32_generic</span> <span class="id">addr</span> <span class="id">args</span> <span class="id">vl</span> <span class="kwd">else</span> <span class="kwd">match</span> <span class="id">addr_strength_reduction_32_match</span> <span class="id">addr</span> <span class="id">args</span> <span class="id">vl</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_32_case1</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">symb</span> <span class="id">n</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Aglobal</span> <span class="id">symb</span> (<span class="id">Ptrofs.add</span> <span class="id">n</span> (<span class="id">Ptrofs.repr</span> <span class="id">ofs</span>)), <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_32_case2</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">n</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Ainstack</span> (<span class="id">Ptrofs.add</span> <span class="id">n</span> (<span class="id">Ptrofs.repr</span> <span class="id">ofs</span>)), <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_32_case3</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">symb</span> <span class="id">n1</span> <span class="id">n2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Aglobal</span> <span class="id">symb</span> (<span class="id">Ptrofs.add</span> (<span class="id">Ptrofs.add</span> <span class="id">n1</span> (<span class="id">Ptrofs.of_int</span> <span class="id">n2</span>)) (<span class="id">Ptrofs.repr</span> <span class="id">ofs</span>)), <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_32_case4</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">symb</span> <span class="id">n2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Aglobal</span> <span class="id">symb</span> (<span class="id">Ptrofs.add</span> (<span class="id">Ptrofs.add</span> <span class="id">n2</span> (<span class="id">Ptrofs.of_int</span> <span class="id">n1</span>)) (<span class="id">Ptrofs.repr</span> <span class="id">ofs</span>)), <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_32_case5</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">n2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Ainstack</span> (<span class="id">Ptrofs.add</span> (<span class="id">Ptrofs.add</span> <span class="id">n1</span> (<span class="id">Ptrofs.of_int</span> <span class="id">n2</span>)) (<span class="id">Ptrofs.repr</span> <span class="id">ofs</span>)), <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_32_case6</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">n2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Ainstack</span> (<span class="id">Ptrofs.add</span> (<span class="id">Ptrofs.add</span> (<span class="id">Ptrofs.of_int</span> <span class="id">n1</span>) <span class="id">n2</span>) (<span class="id">Ptrofs.repr</span> <span class="id">ofs</span>)), <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_32_case7</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">symb</span> <span class="id">n1</span> <span class="id">v2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Abased</span> <span class="id">symb</span> (<span class="id">Ptrofs.add</span> <span class="id">n1</span> (<span class="id">Ptrofs.repr</span> <span class="id">ofs</span>)), <span class="id">r2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_32_case8</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">symb</span> <span class="id">n2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Abased</span> <span class="id">symb</span> (<span class="id">Ptrofs.add</span> <span class="id">n2</span> (<span class="id">Ptrofs.repr</span> <span class="id">ofs</span>)), <span class="id">r1</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_32_case9</span> <span class="id">sc</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">symb</span> <span class="id">n1</span> <span class="id">n2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Aglobal</span> <span class="id">symb</span> (<span class="id">Ptrofs.add</span> (<span class="id">Ptrofs.add</span> <span class="id">n1</span> (<span class="id">Ptrofs.of_int</span> (<span class="id">Int.mul</span> <span class="id">n2</span> (<span class="id">Int.repr</span> <span class="id">sc</span>)))) (<span class="id">Ptrofs.repr</span> <span class="id">ofs</span>)), <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_32_case10</span> <span class="id">sc</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">symb</span> <span class="id">n1</span> <span class="id">v2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Abasedscaled</span> <span class="id">sc</span> <span class="id">symb</span> (<span class="id">Ptrofs.add</span> <span class="id">n1</span> (<span class="id">Ptrofs.repr</span> <span class="id">ofs</span>)), <span class="id">r2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_32_case11</span> <span class="id">id</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">n1</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Aglobal</span> <span class="id">id</span> (<span class="id">Ptrofs.add</span> <span class="id">ofs</span> (<span class="id">Ptrofs.of_int</span> <span class="id">n1</span>)), <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_32_case12</span> <span class="id">sc</span> <span class="id">id</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">n1</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Aglobal</span> <span class="id">id</span> (<span class="id">Ptrofs.add</span> <span class="id">ofs</span> (<span class="id">Ptrofs.of_int</span> (<span class="id">Int.mul</span> <span class="id">n1</span> (<span class="id">Int.repr</span> <span class="id">sc</span>)))), <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_32_default</span> <span class="id">addr</span> <span class="id">args</span> <span class="id">vl</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">addr_strength_reduction_32_generic</span> <span class="id">addr</span> <span class="id">args</span> <span class="id">vl</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<br/>
<div class="doc">Original definition:
<pre>
Nondetfunction addr_strength_reduction_64_generic
                (addr: addressing) (args: list reg) (vl: list aval) :=
  match addr, args, vl with
  | Aindexed2 ofs, r1 :: r2 :: nil, L n1 :: v2 :: nil =&gt;
      (Aindexed (Int64.signed n1 + ofs), r2 :: nil)
  | Aindexed2 ofs, r1 :: r2 :: nil, v1 :: L n2 :: nil =&gt;
      (Aindexed (Int64.signed n2 + ofs), r1 :: nil)
  | Aindexed2scaled sc ofs, r1 :: r2 :: nil, v1 :: L n2 :: nil =&gt;
      (Aindexed (Int64.signed n2 * sc + ofs), r1 :: nil)
  | Aindexed2scaled sc ofs, r1 :: r2 :: nil, L n1 :: v2 :: nil =&gt;
      (Ascaled sc (Int64.signed n1 + ofs), r2 :: nil)
  | _, _ =&gt;
      (addr, args)
  end.</pre>
</div>
<br/>
<span class="kwd">Inductive</span> <span class="id">addr_strength_reduction_64_generic_cases</span>: <span class="kwd">forall</span> (<span class="id">addr</span>: <span class="id">addressing</span>) (<span class="id">args</span>: <span class="id">list</span> <span class="id">reg</span>) (<span class="id">vl</span>: <span class="id">list</span> <span class="id">aval</span>), <span class="kwd">Type</span> :=<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_64_generic_case1</span>: <span class="kwd">forall</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span>, <span class="id">addr_strength_reduction_64_generic_cases</span> (<span class="id">Aindexed2</span> <span class="id">ofs</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">L</span> <span class="id">n1</span> :: <span class="id">v2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_64_generic_case2</span>: <span class="kwd">forall</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span>, <span class="id">addr_strength_reduction_64_generic_cases</span> (<span class="id">Aindexed2</span> <span class="id">ofs</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">v1</span> :: <span class="id">L</span> <span class="id">n2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_64_generic_case3</span>: <span class="kwd">forall</span> <span class="id">sc</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span>, <span class="id">addr_strength_reduction_64_generic_cases</span> (<span class="id">Aindexed2scaled</span> <span class="id">sc</span> <span class="id">ofs</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">v1</span> :: <span class="id">L</span> <span class="id">n2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_64_generic_case4</span>: <span class="kwd">forall</span> <span class="id">sc</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span>, <span class="id">addr_strength_reduction_64_generic_cases</span> (<span class="id">Aindexed2scaled</span> <span class="id">sc</span> <span class="id">ofs</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">L</span> <span class="id">n1</span> :: <span class="id">v2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_64_generic_default</span>: <span class="kwd">forall</span> (<span class="id">addr</span>: <span class="id">addressing</span>) (<span class="id">args</span>: <span class="id">list</span> <span class="id">reg</span>) (<span class="id">vl</span>: <span class="id">list</span> <span class="id">aval</span>), <span class="id">addr_strength_reduction_64_generic_cases</span> <span class="id">addr</span> <span class="id">args</span> <span class="id">vl</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">addr_strength_reduction_64_generic_match</span> (<span class="id">addr</span>: <span class="id">addressing</span>) (<span class="id">args</span>: <span class="id">list</span> <span class="id">reg</span>) (<span class="id">vl</span>: <span class="id">list</span> <span class="id">aval</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">addr</span> <span class="kwd">as</span> <span class="id">zz1</span>, <span class="id">args</span> <span class="kwd">as</span> <span class="id">zz2</span>, <span class="id">vl</span> <span class="kwd">as</span> <span class="id">zz3</span> <span class="kwd">return</span> <span class="id">addr_strength_reduction_64_generic_cases</span> <span class="id">zz1</span> <span class="id">zz2</span> <span class="id">zz3</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">Aindexed2</span> <span class="id">ofs</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">L</span> <span class="id">n1</span> :: <span class="id">v2</span> :: <span class="id">nil</span> =&gt; <span class="id">addr_strength_reduction_64_generic_case1</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span><br/>
&nbsp;&nbsp;| <span class="id">Aindexed2</span> <span class="id">ofs</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">v1</span> :: <span class="id">L</span> <span class="id">n2</span> :: <span class="id">nil</span> =&gt; <span class="id">addr_strength_reduction_64_generic_case2</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span><br/>
&nbsp;&nbsp;| <span class="id">Aindexed2scaled</span> <span class="id">sc</span> <span class="id">ofs</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">v1</span> :: <span class="id">L</span> <span class="id">n2</span> :: <span class="id">nil</span> =&gt; <span class="id">addr_strength_reduction_64_generic_case3</span> <span class="id">sc</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span><br/>
&nbsp;&nbsp;| <span class="id">Aindexed2scaled</span> <span class="id">sc</span> <span class="id">ofs</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">L</span> <span class="id">n1</span> :: <span class="id">v2</span> :: <span class="id">nil</span> =&gt; <span class="id">addr_strength_reduction_64_generic_case4</span> <span class="id">sc</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span><br/>
&nbsp;&nbsp;| <span class="id">addr</span>, <span class="id">args</span>, <span class="id">vl</span> =&gt; <span class="id">addr_strength_reduction_64_generic_default</span> <span class="id">addr</span> <span class="id">args</span> <span class="id">vl</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">addr_strength_reduction_64_generic</span> (<span class="id">addr</span>: <span class="id">addressing</span>) (<span class="id">args</span>: <span class="id">list</span> <span class="id">reg</span>) (<span class="id">vl</span>: <span class="id">list</span> <span class="id">aval</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">addr_strength_reduction_64_generic_match</span> <span class="id">addr</span> <span class="id">args</span> <span class="id">vl</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_64_generic_case1</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Aindexed</span> (<span class="id">Int64.signed</span> <span class="id">n1</span> + <span class="id">ofs</span>), <span class="id">r2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_64_generic_case2</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Aindexed</span> (<span class="id">Int64.signed</span> <span class="id">n2</span> + <span class="id">ofs</span>), <span class="id">r1</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_64_generic_case3</span> <span class="id">sc</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Aindexed</span> (<span class="id">Int64.signed</span> <span class="id">n2</span> * <span class="id">sc</span> + <span class="id">ofs</span>), <span class="id">r1</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_64_generic_case4</span> <span class="id">sc</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Ascaled</span> <span class="id">sc</span> (<span class="id">Int64.signed</span> <span class="id">n1</span> + <span class="id">ofs</span>), <span class="id">r2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_64_generic_default</span> <span class="id">addr</span> <span class="id">args</span> <span class="id">vl</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">addr</span>, <span class="id">args</span>)<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<br/>
<div class="doc">Original definition:
<pre>
Nondetfunction addr_strength_reduction_64
                (addr: addressing) (args: list reg) (vl: list aval) :=

  if negb Archi.ptr64 then addr_strength_reduction_64_generic addr args vl else

  match addr, args, vl with

  | Aindexed ofs, r1 :: nil, Ptr(Gl symb n) :: nil =&gt;
      (Aglobal symb (Ptrofs.add n (Ptrofs.repr ofs)), nil)
  | Aindexed ofs, r1 :: nil, Ptr(Stk n) :: nil =&gt;
      (Ainstack (Ptrofs.add n (Ptrofs.repr ofs)), nil)

  | Aindexed2 ofs, r1 :: r2 :: nil, Ptr(Gl symb n1) :: L n2 :: nil =&gt;
      (Aglobal symb (Ptrofs.add (Ptrofs.add n1 (Ptrofs.of_int64 n2)) (Ptrofs.repr ofs)), nil)
  | Aindexed2 ofs, r1 :: r2 :: nil, L n1 :: Ptr(Gl symb n2) :: nil =&gt;
      (Aglobal symb (Ptrofs.add (Ptrofs.add n2 (Ptrofs.of_int64 n1)) (Ptrofs.repr ofs)), nil)
  | Aindexed2 ofs, r1 :: r2 :: nil, Ptr(Stk n1) :: L n2 :: nil =&gt;
      (Ainstack (Ptrofs.add (Ptrofs.add n1 (Ptrofs.of_int64 n2)) (Ptrofs.repr ofs)), nil)
  | Aindexed2 ofs, r1 :: r2 :: nil, L n1 :: Ptr(Stk n2) :: nil =&gt;
      (Ainstack (Ptrofs.add (Ptrofs.add (Ptrofs.of_int64 n1) n2) (Ptrofs.repr ofs)), nil)

  | Aindexed2scaled sc ofs, r1 :: r2 :: nil, Ptr(Gl symb n1) :: L n2 :: nil =&gt;
      (Aglobal symb (Ptrofs.add (Ptrofs.add n1 (Ptrofs.of_int64 (Int64.mul n2 (Int64.repr sc)))) (Ptrofs.repr ofs)), nil)

  | _, _ =&gt;
      addr_strength_reduction_64_generic addr args vl
  end.</pre>
</div>
<br/>
<span class="kwd">Inductive</span> <span class="id">addr_strength_reduction_64_cases</span>: <span class="kwd">forall</span> (<span class="id">addr</span>: <span class="id">addressing</span>) (<span class="id">args</span>: <span class="id">list</span> <span class="id">reg</span>) (<span class="id">vl</span>: <span class="id">list</span> <span class="id">aval</span>), <span class="kwd">Type</span> :=<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_64_case1</span>: <span class="kwd">forall</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">symb</span> <span class="id">n</span>, <span class="id">addr_strength_reduction_64_cases</span> (<span class="id">Aindexed</span> <span class="id">ofs</span>) (<span class="id">r1</span> :: <span class="id">nil</span>) (<span class="id">Ptr</span>(<span class="id">Gl</span> <span class="id">symb</span> <span class="id">n</span>) :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_64_case2</span>: <span class="kwd">forall</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">n</span>, <span class="id">addr_strength_reduction_64_cases</span> (<span class="id">Aindexed</span> <span class="id">ofs</span>) (<span class="id">r1</span> :: <span class="id">nil</span>) (<span class="id">Ptr</span>(<span class="id">Stk</span> <span class="id">n</span>) :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_64_case3</span>: <span class="kwd">forall</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">symb</span> <span class="id">n1</span> <span class="id">n2</span>, <span class="id">addr_strength_reduction_64_cases</span> (<span class="id">Aindexed2</span> <span class="id">ofs</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">Ptr</span>(<span class="id">Gl</span> <span class="id">symb</span> <span class="id">n1</span>) :: <span class="id">L</span> <span class="id">n2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_64_case4</span>: <span class="kwd">forall</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">symb</span> <span class="id">n2</span>, <span class="id">addr_strength_reduction_64_cases</span> (<span class="id">Aindexed2</span> <span class="id">ofs</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">L</span> <span class="id">n1</span> :: <span class="id">Ptr</span>(<span class="id">Gl</span> <span class="id">symb</span> <span class="id">n2</span>) :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_64_case5</span>: <span class="kwd">forall</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">n2</span>, <span class="id">addr_strength_reduction_64_cases</span> (<span class="id">Aindexed2</span> <span class="id">ofs</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">Ptr</span>(<span class="id">Stk</span> <span class="id">n1</span>) :: <span class="id">L</span> <span class="id">n2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_64_case6</span>: <span class="kwd">forall</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">n2</span>, <span class="id">addr_strength_reduction_64_cases</span> (<span class="id">Aindexed2</span> <span class="id">ofs</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">L</span> <span class="id">n1</span> :: <span class="id">Ptr</span>(<span class="id">Stk</span> <span class="id">n2</span>) :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_64_case7</span>: <span class="kwd">forall</span> <span class="id">sc</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">symb</span> <span class="id">n1</span> <span class="id">n2</span>, <span class="id">addr_strength_reduction_64_cases</span> (<span class="id">Aindexed2scaled</span> <span class="id">sc</span> <span class="id">ofs</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">Ptr</span>(<span class="id">Gl</span> <span class="id">symb</span> <span class="id">n1</span>) :: <span class="id">L</span> <span class="id">n2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_64_default</span>: <span class="kwd">forall</span> (<span class="id">addr</span>: <span class="id">addressing</span>) (<span class="id">args</span>: <span class="id">list</span> <span class="id">reg</span>) (<span class="id">vl</span>: <span class="id">list</span> <span class="id">aval</span>), <span class="id">addr_strength_reduction_64_cases</span> <span class="id">addr</span> <span class="id">args</span> <span class="id">vl</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">addr_strength_reduction_64_match</span> (<span class="id">addr</span>: <span class="id">addressing</span>) (<span class="id">args</span>: <span class="id">list</span> <span class="id">reg</span>) (<span class="id">vl</span>: <span class="id">list</span> <span class="id">aval</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">addr</span> <span class="kwd">as</span> <span class="id">zz1</span>, <span class="id">args</span> <span class="kwd">as</span> <span class="id">zz2</span>, <span class="id">vl</span> <span class="kwd">as</span> <span class="id">zz3</span> <span class="kwd">return</span> <span class="id">addr_strength_reduction_64_cases</span> <span class="id">zz1</span> <span class="id">zz2</span> <span class="id">zz3</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">Aindexed</span> <span class="id">ofs</span>, <span class="id">r1</span> :: <span class="id">nil</span>, <span class="id">Ptr</span>(<span class="id">Gl</span> <span class="id">symb</span> <span class="id">n</span>) :: <span class="id">nil</span> =&gt; <span class="id">addr_strength_reduction_64_case1</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">symb</span> <span class="id">n</span><br/>
&nbsp;&nbsp;| <span class="id">Aindexed</span> <span class="id">ofs</span>, <span class="id">r1</span> :: <span class="id">nil</span>, <span class="id">Ptr</span>(<span class="id">Stk</span> <span class="id">n</span>) :: <span class="id">nil</span> =&gt; <span class="id">addr_strength_reduction_64_case2</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">n</span><br/>
&nbsp;&nbsp;| <span class="id">Aindexed2</span> <span class="id">ofs</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">Ptr</span>(<span class="id">Gl</span> <span class="id">symb</span> <span class="id">n1</span>) :: <span class="id">L</span> <span class="id">n2</span> :: <span class="id">nil</span> =&gt; <span class="id">addr_strength_reduction_64_case3</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">symb</span> <span class="id">n1</span> <span class="id">n2</span><br/>
&nbsp;&nbsp;| <span class="id">Aindexed2</span> <span class="id">ofs</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">L</span> <span class="id">n1</span> :: <span class="id">Ptr</span>(<span class="id">Gl</span> <span class="id">symb</span> <span class="id">n2</span>) :: <span class="id">nil</span> =&gt; <span class="id">addr_strength_reduction_64_case4</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">symb</span> <span class="id">n2</span><br/>
&nbsp;&nbsp;| <span class="id">Aindexed2</span> <span class="id">ofs</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">Ptr</span>(<span class="id">Stk</span> <span class="id">n1</span>) :: <span class="id">L</span> <span class="id">n2</span> :: <span class="id">nil</span> =&gt; <span class="id">addr_strength_reduction_64_case5</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">n2</span><br/>
&nbsp;&nbsp;| <span class="id">Aindexed2</span> <span class="id">ofs</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">L</span> <span class="id">n1</span> :: <span class="id">Ptr</span>(<span class="id">Stk</span> <span class="id">n2</span>) :: <span class="id">nil</span> =&gt; <span class="id">addr_strength_reduction_64_case6</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">n2</span><br/>
&nbsp;&nbsp;| <span class="id">Aindexed2scaled</span> <span class="id">sc</span> <span class="id">ofs</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">Ptr</span>(<span class="id">Gl</span> <span class="id">symb</span> <span class="id">n1</span>) :: <span class="id">L</span> <span class="id">n2</span> :: <span class="id">nil</span> =&gt; <span class="id">addr_strength_reduction_64_case7</span> <span class="id">sc</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">symb</span> <span class="id">n1</span> <span class="id">n2</span><br/>
&nbsp;&nbsp;| <span class="id">addr</span>, <span class="id">args</span>, <span class="id">vl</span> =&gt; <span class="id">addr_strength_reduction_64_default</span> <span class="id">addr</span> <span class="id">args</span> <span class="id">vl</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">addr_strength_reduction_64</span> (<span class="id">addr</span>: <span class="id">addressing</span>) (<span class="id">args</span>: <span class="id">list</span> <span class="id">reg</span>) (<span class="id">vl</span>: <span class="id">list</span> <span class="id">aval</span>) :=<br/>
&nbsp;<span class="kwd">if</span> <span class="id">negb</span> <span class="id">Archi.ptr64</span> <span class="kwd">then</span> <span class="id">addr_strength_reduction_64_generic</span> <span class="id">addr</span> <span class="id">args</span> <span class="id">vl</span> <span class="kwd">else</span> <span class="kwd">match</span> <span class="id">addr_strength_reduction_64_match</span> <span class="id">addr</span> <span class="id">args</span> <span class="id">vl</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_64_case1</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">symb</span> <span class="id">n</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Aglobal</span> <span class="id">symb</span> (<span class="id">Ptrofs.add</span> <span class="id">n</span> (<span class="id">Ptrofs.repr</span> <span class="id">ofs</span>)), <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_64_case2</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">n</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Ainstack</span> (<span class="id">Ptrofs.add</span> <span class="id">n</span> (<span class="id">Ptrofs.repr</span> <span class="id">ofs</span>)), <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_64_case3</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">symb</span> <span class="id">n1</span> <span class="id">n2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Aglobal</span> <span class="id">symb</span> (<span class="id">Ptrofs.add</span> (<span class="id">Ptrofs.add</span> <span class="id">n1</span> (<span class="id">Ptrofs.of_int64</span> <span class="id">n2</span>)) (<span class="id">Ptrofs.repr</span> <span class="id">ofs</span>)), <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_64_case4</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">symb</span> <span class="id">n2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Aglobal</span> <span class="id">symb</span> (<span class="id">Ptrofs.add</span> (<span class="id">Ptrofs.add</span> <span class="id">n2</span> (<span class="id">Ptrofs.of_int64</span> <span class="id">n1</span>)) (<span class="id">Ptrofs.repr</span> <span class="id">ofs</span>)), <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_64_case5</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">n2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Ainstack</span> (<span class="id">Ptrofs.add</span> (<span class="id">Ptrofs.add</span> <span class="id">n1</span> (<span class="id">Ptrofs.of_int64</span> <span class="id">n2</span>)) (<span class="id">Ptrofs.repr</span> <span class="id">ofs</span>)), <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_64_case6</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">n2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Ainstack</span> (<span class="id">Ptrofs.add</span> (<span class="id">Ptrofs.add</span> (<span class="id">Ptrofs.of_int64</span> <span class="id">n1</span>) <span class="id">n2</span>) (<span class="id">Ptrofs.repr</span> <span class="id">ofs</span>)), <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_64_case7</span> <span class="id">sc</span> <span class="id">ofs</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">symb</span> <span class="id">n1</span> <span class="id">n2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Aglobal</span> <span class="id">symb</span> (<span class="id">Ptrofs.add</span> (<span class="id">Ptrofs.add</span> <span class="id">n1</span> (<span class="id">Ptrofs.of_int64</span> (<span class="id">Int64.mul</span> <span class="id">n2</span> (<span class="id">Int64.repr</span> <span class="id">sc</span>)))) (<span class="id">Ptrofs.repr</span> <span class="id">ofs</span>)), <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">addr_strength_reduction_64_default</span> <span class="id">addr</span> <span class="id">args</span> <span class="id">vl</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">addr_strength_reduction_64_generic</span> <span class="id">addr</span> <span class="id">args</span> <span class="id">vl</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">addr_strength_reduction</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">addr</span>: <span class="id">addressing</span>) (<span class="id">args</span>: <span class="id">list</span> <span class="id">reg</span>) (<span class="id">vl</span>: <span class="id">list</span> <span class="id">aval</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id">Archi.ptr64</span><br/>
&nbsp;&nbsp;<span class="kwd">then</span> <span class="id">addr_strength_reduction_64</span> <span class="id">addr</span> <span class="id">args</span> <span class="id">vl</span><br/>
&nbsp;&nbsp;<span class="kwd">else</span> <span class="id">addr_strength_reduction_32</span> <span class="id">addr</span> <span class="id">args</span> <span class="id">vl</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">make_addimm</span> (<span class="id">n</span>: <span class="id">int</span>) (<span class="id">r</span>: <span class="id">reg</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id">Int.eq</span> <span class="id">n</span> <span class="id">Int.zero</span><br/>
&nbsp;&nbsp;<span class="kwd">then</span> (<span class="id">Omove</span>, <span class="id">r</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;<span class="kwd">else</span> (<span class="id">Olea</span> (<span class="id">Aindexed</span> (<span class="id">Int.signed</span> <span class="id">n</span>)), <span class="id">r</span> :: <span class="id">nil</span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">make_shlimm</span> (<span class="id">n</span>: <span class="id">int</span>) (<span class="id">r1</span> <span class="id">r2</span>: <span class="id">reg</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id">Int.eq</span> <span class="id">n</span> <span class="id">Int.zero</span> <span class="kwd">then</span> (<span class="id">Omove</span>, <span class="id">r1</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;<span class="kwd">else</span> <span class="kwd">if</span> <span class="id">Int.ltu</span> <span class="id">n</span> <span class="id">Int.iwordsize</span> <span class="kwd">then</span> (<span class="id">Oshlimm</span> <span class="id">n</span>, <span class="id">r1</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;<span class="kwd">else</span> (<span class="id">Oshl</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">make_shrimm</span> (<span class="id">n</span>: <span class="id">int</span>) (<span class="id">r1</span> <span class="id">r2</span>: <span class="id">reg</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id">Int.eq</span> <span class="id">n</span> <span class="id">Int.zero</span> <span class="kwd">then</span> (<span class="id">Omove</span>, <span class="id">r1</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;<span class="kwd">else</span> <span class="kwd">if</span> <span class="id">Int.ltu</span> <span class="id">n</span> <span class="id">Int.iwordsize</span> <span class="kwd">then</span> (<span class="id">Oshrimm</span> <span class="id">n</span>, <span class="id">r1</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;<span class="kwd">else</span> (<span class="id">Oshr</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">make_shruimm</span> (<span class="id">n</span>: <span class="id">int</span>) (<span class="id">r1</span> <span class="id">r2</span>: <span class="id">reg</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id">Int.eq</span> <span class="id">n</span> <span class="id">Int.zero</span> <span class="kwd">then</span> (<span class="id">Omove</span>, <span class="id">r1</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;<span class="kwd">else</span> <span class="kwd">if</span> <span class="id">Int.ltu</span> <span class="id">n</span> <span class="id">Int.iwordsize</span> <span class="kwd">then</span> (<span class="id">Oshruimm</span> <span class="id">n</span>, <span class="id">r1</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;<span class="kwd">else</span> (<span class="id">Oshru</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">make_mulimm</span> (<span class="id">n</span>: <span class="id">int</span>) (<span class="id">r</span>: <span class="id">reg</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id">Int.eq</span> <span class="id">n</span> <span class="id">Int.zero</span> <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Ointconst</span> <span class="id">Int.zero</span>, <span class="id">nil</span>)<br/>
&nbsp;&nbsp;<span class="kwd">else</span> <span class="kwd">if</span> <span class="id">Int.eq</span> <span class="id">n</span> <span class="id">Int.one</span> <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Omove</span>, <span class="id">r</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;<span class="kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">Int.is_power2</span> <span class="id">n</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">Some</span> <span class="id">l</span> =&gt; (<span class="id">Oshlimm</span> <span class="id">l</span>, <span class="id">r</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">None</span> =&gt; (<span class="id">Omulimm</span> <span class="id">n</span>, <span class="id">r</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">make_andimm</span> (<span class="id">n</span>: <span class="id">int</span>) (<span class="id">r</span>: <span class="id">reg</span>) (<span class="id">a</span>: <span class="id">aval</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id">Int.eq</span> <span class="id">n</span> <span class="id">Int.zero</span> <span class="kwd">then</span> (<span class="id">Ointconst</span> <span class="id">Int.zero</span>, <span class="id">nil</span>)<br/>
&nbsp;&nbsp;<span class="kwd">else</span> <span class="kwd">if</span> <span class="id">Int.eq</span> <span class="id">n</span> <span class="id">Int.mone</span> <span class="kwd">then</span> (<span class="id">Omove</span>, <span class="id">r</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;<span class="kwd">else</span> <span class="kwd">if</span> <span class="kwd">match</span> <span class="id">a</span> <span class="kwd">with</span> <span class="id">Uns</span> <span class="id">_</span> <span class="id">m</span> =&gt; <span class="id">Int.eq</span> (<span class="id">Int.zero_ext</span> <span class="id">m</span> (<span class="id">Int.not</span> <span class="id">n</span>)) <span class="id">Int.zero</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id">false</span> <span class="kwd">end</span><br/>
&nbsp;&nbsp;<span class="kwd">then</span> (<span class="id">Omove</span>, <span class="id">r</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;<span class="kwd">else</span> (<span class="id">Oandimm</span> <span class="id">n</span>, <span class="id">r</span> :: <span class="id">nil</span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">make_orimm</span> (<span class="id">n</span>: <span class="id">int</span>) (<span class="id">r</span>: <span class="id">reg</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id">Int.eq</span> <span class="id">n</span> <span class="id">Int.zero</span> <span class="kwd">then</span> (<span class="id">Omove</span>, <span class="id">r</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;<span class="kwd">else</span> <span class="kwd">if</span> <span class="id">Int.eq</span> <span class="id">n</span> <span class="id">Int.mone</span> <span class="kwd">then</span> (<span class="id">Ointconst</span> <span class="id">Int.mone</span>, <span class="id">nil</span>)<br/>
&nbsp;&nbsp;<span class="kwd">else</span> (<span class="id">Oorimm</span> <span class="id">n</span>, <span class="id">r</span> :: <span class="id">nil</span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">make_xorimm</span> (<span class="id">n</span>: <span class="id">int</span>) (<span class="id">r</span>: <span class="id">reg</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id">Int.eq</span> <span class="id">n</span> <span class="id">Int.zero</span> <span class="kwd">then</span> (<span class="id">Omove</span>, <span class="id">r</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;<span class="kwd">else</span> <span class="kwd">if</span> <span class="id">Int.eq</span> <span class="id">n</span> <span class="id">Int.mone</span> <span class="kwd">then</span> (<span class="id">Onot</span>, <span class="id">r</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;<span class="kwd">else</span> (<span class="id">Oxorimm</span> <span class="id">n</span>, <span class="id">r</span> :: <span class="id">nil</span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">make_divimm</span> <span class="id">n</span> (<span class="id">r1</span> <span class="id">r2</span>: <span class="id">reg</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">Int.is_power2</span> <span class="id">n</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">Some</span> <span class="id">l</span> =&gt; <span class="kwd">if</span> <span class="id">Int.ltu</span> <span class="id">l</span> (<span class="id">Int.repr</span> 31)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> (<span class="id">Oshrximm</span> <span class="id">l</span>, <span class="id">r1</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> (<span class="id">Odiv</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">None</span>   =&gt; (<span class="id">Odiv</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">make_divuimm</span> <span class="id">n</span> (<span class="id">r1</span> <span class="id">r2</span>: <span class="id">reg</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">Int.is_power2</span> <span class="id">n</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">Some</span> <span class="id">l</span> =&gt; (<span class="id">Oshruimm</span> <span class="id">l</span>, <span class="id">r1</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">None</span>   =&gt; (<span class="id">Odivu</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">make_moduimm</span> <span class="id">n</span> (<span class="id">r1</span> <span class="id">r2</span>: <span class="id">reg</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">Int.is_power2</span> <span class="id">n</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">Some</span> <span class="id">l</span> =&gt; (<span class="id">Oandimm</span> (<span class="id">Int.sub</span> <span class="id">n</span> <span class="id">Int.one</span>), <span class="id">r1</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">None</span>   =&gt; (<span class="id">Omodu</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">make_addlimm</span> (<span class="id">n</span>: <span class="id">int64</span>) (<span class="id">r</span>: <span class="id">reg</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id">Int64.eq</span> <span class="id">n</span> <span class="id">Int64.zero</span><br/>
&nbsp;&nbsp;<span class="kwd">then</span> (<span class="id">Omove</span>, <span class="id">r</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;<span class="kwd">else</span> (<span class="id">Oleal</span> (<span class="id">Aindexed</span> (<span class="id">Int64.signed</span> <span class="id">n</span>)), <span class="id">r</span> :: <span class="id">nil</span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">make_shllimm</span> (<span class="id">n</span>: <span class="id">int</span>) (<span class="id">r1</span> <span class="id">r2</span>: <span class="id">reg</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id">Int.eq</span> <span class="id">n</span> <span class="id">Int.zero</span> <span class="kwd">then</span> (<span class="id">Omove</span>, <span class="id">r1</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;<span class="kwd">else</span> <span class="kwd">if</span> <span class="id">Int.ltu</span> <span class="id">n</span> <span class="id">Int64.iwordsize</span>' <span class="kwd">then</span> (<span class="id">Oshllimm</span> <span class="id">n</span>, <span class="id">r1</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;<span class="kwd">else</span> (<span class="id">Oshll</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">make_shrlimm</span> (<span class="id">n</span>: <span class="id">int</span>) (<span class="id">r1</span> <span class="id">r2</span>: <span class="id">reg</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id">Int.eq</span> <span class="id">n</span> <span class="id">Int.zero</span> <span class="kwd">then</span> (<span class="id">Omove</span>, <span class="id">r1</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;<span class="kwd">else</span> <span class="kwd">if</span> <span class="id">Int.ltu</span> <span class="id">n</span> <span class="id">Int64.iwordsize</span>' <span class="kwd">then</span> (<span class="id">Oshrlimm</span> <span class="id">n</span>, <span class="id">r1</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;<span class="kwd">else</span> (<span class="id">Oshrl</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">make_shrluimm</span> (<span class="id">n</span>: <span class="id">int</span>) (<span class="id">r1</span> <span class="id">r2</span>: <span class="id">reg</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id">Int.eq</span> <span class="id">n</span> <span class="id">Int.zero</span> <span class="kwd">then</span> (<span class="id">Omove</span>, <span class="id">r1</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;<span class="kwd">else</span> <span class="kwd">if</span> <span class="id">Int.ltu</span> <span class="id">n</span> <span class="id">Int64.iwordsize</span>' <span class="kwd">then</span> (<span class="id">Oshrluimm</span> <span class="id">n</span>, <span class="id">r1</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;<span class="kwd">else</span> (<span class="id">Oshrlu</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">make_mullimm</span> (<span class="id">n</span>: <span class="id">int64</span>) (<span class="id">r</span>: <span class="id">reg</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id">Int64.eq</span> <span class="id">n</span> <span class="id">Int64.zero</span> <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Olongconst</span> <span class="id">Int64.zero</span>, <span class="id">nil</span>)<br/>
&nbsp;&nbsp;<span class="kwd">else</span> <span class="kwd">if</span> <span class="id">Int64.eq</span> <span class="id">n</span> <span class="id">Int64.one</span> <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Omove</span>, <span class="id">r</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;<span class="kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">Int64.is_power2</span>' <span class="id">n</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">Some</span> <span class="id">l</span> =&gt; (<span class="id">Oshllimm</span> <span class="id">l</span>, <span class="id">r</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">None</span> =&gt; (<span class="id">Omullimm</span> <span class="id">n</span>, <span class="id">r</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">make_andlimm</span> (<span class="id">n</span>: <span class="id">int64</span>) (<span class="id">r</span>: <span class="id">reg</span>) (<span class="id">a</span>: <span class="id">aval</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id">Int64.eq</span> <span class="id">n</span> <span class="id">Int64.zero</span> <span class="kwd">then</span> (<span class="id">Olongconst</span> <span class="id">Int64.zero</span>, <span class="id">nil</span>)<br/>
&nbsp;&nbsp;<span class="kwd">else</span> <span class="kwd">if</span> <span class="id">Int64.eq</span> <span class="id">n</span> <span class="id">Int64.mone</span> <span class="kwd">then</span> (<span class="id">Omove</span>, <span class="id">r</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;<span class="kwd">else</span> (<span class="id">Oandlimm</span> <span class="id">n</span>, <span class="id">r</span> :: <span class="id">nil</span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">make_orlimm</span> (<span class="id">n</span>: <span class="id">int64</span>) (<span class="id">r</span>: <span class="id">reg</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id">Int64.eq</span> <span class="id">n</span> <span class="id">Int64.zero</span> <span class="kwd">then</span> (<span class="id">Omove</span>, <span class="id">r</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;<span class="kwd">else</span> <span class="kwd">if</span> <span class="id">Int64.eq</span> <span class="id">n</span> <span class="id">Int64.mone</span> <span class="kwd">then</span> (<span class="id">Olongconst</span> <span class="id">Int64.mone</span>, <span class="id">nil</span>)<br/>
&nbsp;&nbsp;<span class="kwd">else</span> (<span class="id">Oorlimm</span> <span class="id">n</span>, <span class="id">r</span> :: <span class="id">nil</span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">make_xorlimm</span> (<span class="id">n</span>: <span class="id">int64</span>) (<span class="id">r</span>: <span class="id">reg</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id">Int64.eq</span> <span class="id">n</span> <span class="id">Int64.zero</span> <span class="kwd">then</span> (<span class="id">Omove</span>, <span class="id">r</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;<span class="kwd">else</span> <span class="kwd">if</span> <span class="id">Int64.eq</span> <span class="id">n</span> <span class="id">Int64.mone</span> <span class="kwd">then</span> (<span class="id">Onotl</span>, <span class="id">r</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;<span class="kwd">else</span> (<span class="id">Oxorlimm</span> <span class="id">n</span>, <span class="id">r</span> :: <span class="id">nil</span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">make_divlimm</span> <span class="id">n</span> (<span class="id">r1</span> <span class="id">r2</span>: <span class="id">reg</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">Int64.is_power2</span>' <span class="id">n</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">Some</span> <span class="id">l</span> =&gt; <span class="kwd">if</span> <span class="id">Int.ltu</span> <span class="id">l</span> (<span class="id">Int.repr</span> 63)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> (<span class="id">Oshrxlimm</span> <span class="id">l</span>, <span class="id">r1</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> (<span class="id">Odivl</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">None</span>   =&gt; (<span class="id">Odivl</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">make_divluimm</span> <span class="id">n</span> (<span class="id">r1</span> <span class="id">r2</span>: <span class="id">reg</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">Int64.is_power2</span>' <span class="id">n</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">Some</span> <span class="id">l</span> =&gt; (<span class="id">Oshrluimm</span> <span class="id">l</span>, <span class="id">r1</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">None</span>   =&gt; (<span class="id">Odivlu</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">make_modluimm</span> <span class="id">n</span> (<span class="id">r1</span> <span class="id">r2</span>: <span class="id">reg</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">Int64.is_power2</span> <span class="id">n</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">Some</span> <span class="id">l</span> =&gt; (<span class="id">Oandlimm</span> (<span class="id">Int64.sub</span> <span class="id">n</span> <span class="id">Int64.one</span>), <span class="id">r1</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">None</span>   =&gt; (<span class="id">Omodlu</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">make_mulfimm</span> (<span class="id">n</span>: <span class="id">float</span>) (<span class="id">r</span> <span class="id">r1</span> <span class="id">r2</span>: <span class="id">reg</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id">Float.eq_dec</span> <span class="id">n</span> (<span class="id">Float.of_int</span> (<span class="id">Int.repr</span> 2))<br/>
&nbsp;&nbsp;<span class="kwd">then</span> (<span class="id">Oaddf</span>, <span class="id">r</span> :: <span class="id">r</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;<span class="kwd">else</span> (<span class="id">Omulf</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">make_mulfsimm</span> (<span class="id">n</span>: <span class="id">float32</span>) (<span class="id">r</span> <span class="id">r1</span> <span class="id">r2</span>: <span class="id">reg</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id">Float32.eq_dec</span> <span class="id">n</span> (<span class="id">Float32.of_int</span> (<span class="id">Int.repr</span> 2))<br/>
&nbsp;&nbsp;<span class="kwd">then</span> (<span class="id">Oaddfs</span>, <span class="id">r</span> :: <span class="id">r</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;<span class="kwd">else</span> (<span class="id">Omulfs</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">make_cast8signed</span> (<span class="id">r</span>: <span class="id">reg</span>) (<span class="id">a</span>: <span class="id">aval</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id">vincl</span> <span class="id">a</span> (<span class="id">Sgn</span> <span class="id">Ptop</span> 8) <span class="kwd">then</span> (<span class="id">Omove</span>, <span class="id">r</span> :: <span class="id">nil</span>) <span class="kwd">else</span> (<span class="id">Ocast8signed</span>, <span class="id">r</span> :: <span class="id">nil</span>).<br/>
<span class="kwd">Definition</span> <span class="id">make_cast8unsigned</span> (<span class="id">r</span>: <span class="id">reg</span>) (<span class="id">a</span>: <span class="id">aval</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id">vincl</span> <span class="id">a</span> (<span class="id">Uns</span> <span class="id">Ptop</span> 8) <span class="kwd">then</span> (<span class="id">Omove</span>, <span class="id">r</span> :: <span class="id">nil</span>) <span class="kwd">else</span> (<span class="id">Ocast8unsigned</span>, <span class="id">r</span> :: <span class="id">nil</span>).<br/>
<span class="kwd">Definition</span> <span class="id">make_cast16signed</span> (<span class="id">r</span>: <span class="id">reg</span>) (<span class="id">a</span>: <span class="id">aval</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id">vincl</span> <span class="id">a</span> (<span class="id">Sgn</span> <span class="id">Ptop</span> 16) <span class="kwd">then</span> (<span class="id">Omove</span>, <span class="id">r</span> :: <span class="id">nil</span>) <span class="kwd">else</span> (<span class="id">Ocast16signed</span>, <span class="id">r</span> :: <span class="id">nil</span>).<br/>
<span class="kwd">Definition</span> <span class="id">make_cast16unsigned</span> (<span class="id">r</span>: <span class="id">reg</span>) (<span class="id">a</span>: <span class="id">aval</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id">vincl</span> <span class="id">a</span> (<span class="id">Uns</span> <span class="id">Ptop</span> 16) <span class="kwd">then</span> (<span class="id">Omove</span>, <span class="id">r</span> :: <span class="id">nil</span>) <span class="kwd">else</span> (<span class="id">Ocast16unsigned</span>, <span class="id">r</span> :: <span class="id">nil</span>).<br/>
<br/>
<div class="doc">Original definition:
<pre>
Nondetfunction op_strength_reduction 
              (op: operation) (args: list reg) (vl: list aval) :=
  match op, args, vl with
  | Ocast8signed, r1 :: nil, v1 :: nil =&gt; make_cast8signed r1 v1
  | Ocast8unsigned, r1 :: nil, v1 :: nil =&gt; make_cast8unsigned r1 v1
  | Ocast16signed, r1 :: nil, v1 :: nil =&gt; make_cast16signed r1 v1
  | Ocast16unsigned, r1 :: nil, v1 :: nil =&gt; make_cast16unsigned r1 v1
  | Osub, r1 :: r2 :: nil, v1 :: I n2 :: nil =&gt; make_addimm (Int.neg n2) r1
  | Omul, r1 :: r2 :: nil, I n1 :: v2 :: nil =&gt; make_mulimm n1 r2
  | Omul, r1 :: r2 :: nil, v1 :: I n2 :: nil =&gt; make_mulimm n2 r1
  | Odiv, r1 :: r2 :: nil, v1 :: I n2 :: nil =&gt; make_divimm n2 r1 r2
  | Odivu, r1 :: r2 :: nil, v1 :: I n2 :: nil =&gt; make_divuimm n2 r1 r2
  | Omodu, r1 :: r2 :: nil, v1 :: I n2 :: nil =&gt; make_moduimm n2 r1 r2
  | Oand, r1 :: r2 :: nil, I n1 :: v2 :: nil =&gt; make_andimm n1 r2 v2
  | Oand, r1 :: r2 :: nil, v1 :: I n2 :: nil =&gt; make_andimm n2 r1 v1
  | Oandimm n, r1 :: nil, v1 :: nil =&gt; make_andimm n r1 v1
  | Oor, r1 :: r2 :: nil, I n1 :: v2 :: nil =&gt; make_orimm n1 r2
  | Oor, r1 :: r2 :: nil, v1 :: I n2 :: nil =&gt; make_orimm n2 r1
  | Oxor, r1 :: r2 :: nil, I n1 :: v2 :: nil =&gt; make_xorimm n1 r2
  | Oxor, r1 :: r2 :: nil, v1 :: I n2 :: nil =&gt; make_xorimm n2 r1
  | Oshl, r1 :: r2 :: nil, v1 :: I n2 :: nil =&gt; make_shlimm n2 r1 r2
  | Oshr, r1 :: r2 :: nil, v1 :: I n2 :: nil =&gt; make_shrimm n2 r1 r2
  | Oshru, r1 :: r2 :: nil, v1 :: I n2 :: nil =&gt; make_shruimm n2 r1 r2
  | Olea addr, args, vl =&gt;
      let (addr', args') := addr_strength_reduction_32 addr args vl in
      (Olea addr', args')
  | Osubl, r1 :: r2 :: nil, v1 :: L n2 :: nil =&gt; make_addlimm (Int64.neg n2) r1
  | Omull, r1 :: r2 :: nil, L n1 :: v2 :: nil =&gt; make_mullimm n1 r2
  | Omull, r1 :: r2 :: nil, v1 :: L n2 :: nil =&gt; make_mullimm n2 r1
  | Odivl, r1 :: r2 :: nil, v1 :: L n2 :: nil =&gt; make_divlimm n2 r1 r2
  | Odivlu, r1 :: r2 :: nil, v1 :: L n2 :: nil =&gt; make_divluimm n2 r1 r2
  | Omodlu, r1 :: r2 :: nil, v1 :: L n2 :: nil =&gt; make_modluimm n2 r1 r2
  | Oandl, r1 :: r2 :: nil, L n1 :: v2 :: nil =&gt; make_andlimm n1 r2 v2
  | Oandl, r1 :: r2 :: nil, v1 :: L n2 :: nil =&gt; make_andlimm n2 r1 v1
  | Oandlimm n, r1 :: nil, v1 :: nil =&gt; make_andlimm n r1 v1
  | Oorl, r1 :: r2 :: nil, L n1 :: v2 :: nil =&gt; make_orlimm n1 r2
  | Oorl, r1 :: r2 :: nil, v1 :: L n2 :: nil =&gt; make_orlimm n2 r1
  | Oxorl, r1 :: r2 :: nil, L n1 :: v2 :: nil =&gt; make_xorlimm n1 r2
  | Oxorl, r1 :: r2 :: nil, v1 :: L n2 :: nil =&gt; make_xorlimm n2 r1
  | Oshll, r1 :: r2 :: nil, v1 :: I n2 :: nil =&gt; make_shllimm n2 r1 r2
  | Oshrl, r1 :: r2 :: nil, v1 :: I n2 :: nil =&gt; make_shrlimm n2 r1 r2
  | Oshrlu, r1 :: r2 :: nil, v1 :: I n2 :: nil =&gt; make_shrluimm n2 r1 r2
  | Oleal addr, args, vl =&gt;
      let (addr', args') := addr_strength_reduction_64 addr args vl in
      (Oleal addr', args')
  | Ocmp c, args, vl =&gt; make_cmp c args vl
  | Omulf, r1 :: r2 :: nil, v1 :: F n2 :: nil =&gt; make_mulfimm n2 r1 r1 r2
  | Omulf, r1 :: r2 :: nil, F n1 :: v2 :: nil =&gt; make_mulfimm n1 r2 r1 r2
  | Omulfs, r1 :: r2 :: nil, v1 :: FS n2 :: nil =&gt; make_mulfsimm n2 r1 r1 r2
  | Omulfs, r1 :: r2 :: nil, FS n1 :: v2 :: nil =&gt; make_mulfsimm n1 r2 r1 r2
  | _, _, _ =&gt; (op, args)
  end.</pre>
</div>
<br/>
<span class="kwd">Inductive</span> <span class="id">op_strength_reduction_cases</span>: <span class="kwd">forall</span> (<span class="id">op</span>: <span class="id">operation</span>) (<span class="id">args</span>: <span class="id">list</span> <span class="id">reg</span>) (<span class="id">vl</span>: <span class="id">list</span> <span class="id">aval</span>), <span class="kwd">Type</span> :=<br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case1</span>: <span class="kwd">forall</span> <span class="id">r1</span> <span class="id">v1</span>, <span class="id">op_strength_reduction_cases</span> (<span class="id">Ocast8signed</span>) (<span class="id">r1</span> :: <span class="id">nil</span>) (<span class="id">v1</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case2</span>: <span class="kwd">forall</span> <span class="id">r1</span> <span class="id">v1</span>, <span class="id">op_strength_reduction_cases</span> (<span class="id">Ocast8unsigned</span>) (<span class="id">r1</span> :: <span class="id">nil</span>) (<span class="id">v1</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case3</span>: <span class="kwd">forall</span> <span class="id">r1</span> <span class="id">v1</span>, <span class="id">op_strength_reduction_cases</span> (<span class="id">Ocast16signed</span>) (<span class="id">r1</span> :: <span class="id">nil</span>) (<span class="id">v1</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case4</span>: <span class="kwd">forall</span> <span class="id">r1</span> <span class="id">v1</span>, <span class="id">op_strength_reduction_cases</span> (<span class="id">Ocast16unsigned</span>) (<span class="id">r1</span> :: <span class="id">nil</span>) (<span class="id">v1</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case5</span>: <span class="kwd">forall</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span>, <span class="id">op_strength_reduction_cases</span> (<span class="id">Osub</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">v1</span> :: <span class="id">I</span> <span class="id">n2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case6</span>: <span class="kwd">forall</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span>, <span class="id">op_strength_reduction_cases</span> (<span class="id">Omul</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">I</span> <span class="id">n1</span> :: <span class="id">v2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case7</span>: <span class="kwd">forall</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span>, <span class="id">op_strength_reduction_cases</span> (<span class="id">Omul</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">v1</span> :: <span class="id">I</span> <span class="id">n2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case8</span>: <span class="kwd">forall</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span>, <span class="id">op_strength_reduction_cases</span> (<span class="id">Odiv</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">v1</span> :: <span class="id">I</span> <span class="id">n2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case9</span>: <span class="kwd">forall</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span>, <span class="id">op_strength_reduction_cases</span> (<span class="id">Odivu</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">v1</span> :: <span class="id">I</span> <span class="id">n2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case10</span>: <span class="kwd">forall</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span>, <span class="id">op_strength_reduction_cases</span> (<span class="id">Omodu</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">v1</span> :: <span class="id">I</span> <span class="id">n2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case11</span>: <span class="kwd">forall</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span>, <span class="id">op_strength_reduction_cases</span> (<span class="id">Oand</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">I</span> <span class="id">n1</span> :: <span class="id">v2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case12</span>: <span class="kwd">forall</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span>, <span class="id">op_strength_reduction_cases</span> (<span class="id">Oand</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">v1</span> :: <span class="id">I</span> <span class="id">n2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case13</span>: <span class="kwd">forall</span> <span class="id">n</span> <span class="id">r1</span> <span class="id">v1</span>, <span class="id">op_strength_reduction_cases</span> (<span class="id">Oandimm</span> <span class="id">n</span>) (<span class="id">r1</span> :: <span class="id">nil</span>) (<span class="id">v1</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case14</span>: <span class="kwd">forall</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span>, <span class="id">op_strength_reduction_cases</span> (<span class="id">Oor</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">I</span> <span class="id">n1</span> :: <span class="id">v2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case15</span>: <span class="kwd">forall</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span>, <span class="id">op_strength_reduction_cases</span> (<span class="id">Oor</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">v1</span> :: <span class="id">I</span> <span class="id">n2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case16</span>: <span class="kwd">forall</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span>, <span class="id">op_strength_reduction_cases</span> (<span class="id">Oxor</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">I</span> <span class="id">n1</span> :: <span class="id">v2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case17</span>: <span class="kwd">forall</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span>, <span class="id">op_strength_reduction_cases</span> (<span class="id">Oxor</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">v1</span> :: <span class="id">I</span> <span class="id">n2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case18</span>: <span class="kwd">forall</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span>, <span class="id">op_strength_reduction_cases</span> (<span class="id">Oshl</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">v1</span> :: <span class="id">I</span> <span class="id">n2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case19</span>: <span class="kwd">forall</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span>, <span class="id">op_strength_reduction_cases</span> (<span class="id">Oshr</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">v1</span> :: <span class="id">I</span> <span class="id">n2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case20</span>: <span class="kwd">forall</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span>, <span class="id">op_strength_reduction_cases</span> (<span class="id">Oshru</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">v1</span> :: <span class="id">I</span> <span class="id">n2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case21</span>: <span class="kwd">forall</span> <span class="id">addr</span> <span class="id">args</span> <span class="id">vl</span>, <span class="id">op_strength_reduction_cases</span> (<span class="id">Olea</span> <span class="id">addr</span>) (<span class="id">args</span>) (<span class="id">vl</span>)<br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case22</span>: <span class="kwd">forall</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span>, <span class="id">op_strength_reduction_cases</span> (<span class="id">Osubl</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">v1</span> :: <span class="id">L</span> <span class="id">n2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case23</span>: <span class="kwd">forall</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span>, <span class="id">op_strength_reduction_cases</span> (<span class="id">Omull</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">L</span> <span class="id">n1</span> :: <span class="id">v2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case24</span>: <span class="kwd">forall</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span>, <span class="id">op_strength_reduction_cases</span> (<span class="id">Omull</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">v1</span> :: <span class="id">L</span> <span class="id">n2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case25</span>: <span class="kwd">forall</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span>, <span class="id">op_strength_reduction_cases</span> (<span class="id">Odivl</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">v1</span> :: <span class="id">L</span> <span class="id">n2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case26</span>: <span class="kwd">forall</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span>, <span class="id">op_strength_reduction_cases</span> (<span class="id">Odivlu</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">v1</span> :: <span class="id">L</span> <span class="id">n2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case27</span>: <span class="kwd">forall</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span>, <span class="id">op_strength_reduction_cases</span> (<span class="id">Omodlu</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">v1</span> :: <span class="id">L</span> <span class="id">n2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case28</span>: <span class="kwd">forall</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span>, <span class="id">op_strength_reduction_cases</span> (<span class="id">Oandl</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">L</span> <span class="id">n1</span> :: <span class="id">v2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case29</span>: <span class="kwd">forall</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span>, <span class="id">op_strength_reduction_cases</span> (<span class="id">Oandl</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">v1</span> :: <span class="id">L</span> <span class="id">n2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case30</span>: <span class="kwd">forall</span> <span class="id">n</span> <span class="id">r1</span> <span class="id">v1</span>, <span class="id">op_strength_reduction_cases</span> (<span class="id">Oandlimm</span> <span class="id">n</span>) (<span class="id">r1</span> :: <span class="id">nil</span>) (<span class="id">v1</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case31</span>: <span class="kwd">forall</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span>, <span class="id">op_strength_reduction_cases</span> (<span class="id">Oorl</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">L</span> <span class="id">n1</span> :: <span class="id">v2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case32</span>: <span class="kwd">forall</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span>, <span class="id">op_strength_reduction_cases</span> (<span class="id">Oorl</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">v1</span> :: <span class="id">L</span> <span class="id">n2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case33</span>: <span class="kwd">forall</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span>, <span class="id">op_strength_reduction_cases</span> (<span class="id">Oxorl</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">L</span> <span class="id">n1</span> :: <span class="id">v2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case34</span>: <span class="kwd">forall</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span>, <span class="id">op_strength_reduction_cases</span> (<span class="id">Oxorl</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">v1</span> :: <span class="id">L</span> <span class="id">n2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case35</span>: <span class="kwd">forall</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span>, <span class="id">op_strength_reduction_cases</span> (<span class="id">Oshll</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">v1</span> :: <span class="id">I</span> <span class="id">n2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case36</span>: <span class="kwd">forall</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span>, <span class="id">op_strength_reduction_cases</span> (<span class="id">Oshrl</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">v1</span> :: <span class="id">I</span> <span class="id">n2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case37</span>: <span class="kwd">forall</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span>, <span class="id">op_strength_reduction_cases</span> (<span class="id">Oshrlu</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">v1</span> :: <span class="id">I</span> <span class="id">n2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case38</span>: <span class="kwd">forall</span> <span class="id">addr</span> <span class="id">args</span> <span class="id">vl</span>, <span class="id">op_strength_reduction_cases</span> (<span class="id">Oleal</span> <span class="id">addr</span>) (<span class="id">args</span>) (<span class="id">vl</span>)<br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case39</span>: <span class="kwd">forall</span> <span class="id">c</span> <span class="id">args</span> <span class="id">vl</span>, <span class="id">op_strength_reduction_cases</span> (<span class="id">Ocmp</span> <span class="id">c</span>) (<span class="id">args</span>) (<span class="id">vl</span>)<br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case40</span>: <span class="kwd">forall</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span>, <span class="id">op_strength_reduction_cases</span> (<span class="id">Omulf</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">v1</span> :: <span class="id">F</span> <span class="id">n2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case41</span>: <span class="kwd">forall</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span>, <span class="id">op_strength_reduction_cases</span> (<span class="id">Omulf</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">F</span> <span class="id">n1</span> :: <span class="id">v2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case42</span>: <span class="kwd">forall</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span>, <span class="id">op_strength_reduction_cases</span> (<span class="id">Omulfs</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">v1</span> :: <span class="id">FS</span> <span class="id">n2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case43</span>: <span class="kwd">forall</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span>, <span class="id">op_strength_reduction_cases</span> (<span class="id">Omulfs</span>) (<span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>) (<span class="id">FS</span> <span class="id">n1</span> :: <span class="id">v2</span> :: <span class="id">nil</span>)<br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_default</span>: <span class="kwd">forall</span> (<span class="id">op</span>: <span class="id">operation</span>) (<span class="id">args</span>: <span class="id">list</span> <span class="id">reg</span>) (<span class="id">vl</span>: <span class="id">list</span> <span class="id">aval</span>), <span class="id">op_strength_reduction_cases</span> <span class="id">op</span> <span class="id">args</span> <span class="id">vl</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">op_strength_reduction_match</span> (<span class="id">op</span>: <span class="id">operation</span>) (<span class="id">args</span>: <span class="id">list</span> <span class="id">reg</span>) (<span class="id">vl</span>: <span class="id">list</span> <span class="id">aval</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">op</span> <span class="kwd">as</span> <span class="id">zz1</span>, <span class="id">args</span> <span class="kwd">as</span> <span class="id">zz2</span>, <span class="id">vl</span> <span class="kwd">as</span> <span class="id">zz3</span> <span class="kwd">return</span> <span class="id">op_strength_reduction_cases</span> <span class="id">zz1</span> <span class="id">zz2</span> <span class="id">zz3</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">Ocast8signed</span>, <span class="id">r1</span> :: <span class="id">nil</span>, <span class="id">v1</span> :: <span class="id">nil</span> =&gt; <span class="id">op_strength_reduction_case1</span> <span class="id">r1</span> <span class="id">v1</span><br/>
&nbsp;&nbsp;| <span class="id">Ocast8unsigned</span>, <span class="id">r1</span> :: <span class="id">nil</span>, <span class="id">v1</span> :: <span class="id">nil</span> =&gt; <span class="id">op_strength_reduction_case2</span> <span class="id">r1</span> <span class="id">v1</span><br/>
&nbsp;&nbsp;| <span class="id">Ocast16signed</span>, <span class="id">r1</span> :: <span class="id">nil</span>, <span class="id">v1</span> :: <span class="id">nil</span> =&gt; <span class="id">op_strength_reduction_case3</span> <span class="id">r1</span> <span class="id">v1</span><br/>
&nbsp;&nbsp;| <span class="id">Ocast16unsigned</span>, <span class="id">r1</span> :: <span class="id">nil</span>, <span class="id">v1</span> :: <span class="id">nil</span> =&gt; <span class="id">op_strength_reduction_case4</span> <span class="id">r1</span> <span class="id">v1</span><br/>
&nbsp;&nbsp;| <span class="id">Osub</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">v1</span> :: <span class="id">I</span> <span class="id">n2</span> :: <span class="id">nil</span> =&gt; <span class="id">op_strength_reduction_case5</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span><br/>
&nbsp;&nbsp;| <span class="id">Omul</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">I</span> <span class="id">n1</span> :: <span class="id">v2</span> :: <span class="id">nil</span> =&gt; <span class="id">op_strength_reduction_case6</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span><br/>
&nbsp;&nbsp;| <span class="id">Omul</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">v1</span> :: <span class="id">I</span> <span class="id">n2</span> :: <span class="id">nil</span> =&gt; <span class="id">op_strength_reduction_case7</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span><br/>
&nbsp;&nbsp;| <span class="id">Odiv</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">v1</span> :: <span class="id">I</span> <span class="id">n2</span> :: <span class="id">nil</span> =&gt; <span class="id">op_strength_reduction_case8</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span><br/>
&nbsp;&nbsp;| <span class="id">Odivu</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">v1</span> :: <span class="id">I</span> <span class="id">n2</span> :: <span class="id">nil</span> =&gt; <span class="id">op_strength_reduction_case9</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span><br/>
&nbsp;&nbsp;| <span class="id">Omodu</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">v1</span> :: <span class="id">I</span> <span class="id">n2</span> :: <span class="id">nil</span> =&gt; <span class="id">op_strength_reduction_case10</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span><br/>
&nbsp;&nbsp;| <span class="id">Oand</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">I</span> <span class="id">n1</span> :: <span class="id">v2</span> :: <span class="id">nil</span> =&gt; <span class="id">op_strength_reduction_case11</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span><br/>
&nbsp;&nbsp;| <span class="id">Oand</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">v1</span> :: <span class="id">I</span> <span class="id">n2</span> :: <span class="id">nil</span> =&gt; <span class="id">op_strength_reduction_case12</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span><br/>
&nbsp;&nbsp;| <span class="id">Oandimm</span> <span class="id">n</span>, <span class="id">r1</span> :: <span class="id">nil</span>, <span class="id">v1</span> :: <span class="id">nil</span> =&gt; <span class="id">op_strength_reduction_case13</span> <span class="id">n</span> <span class="id">r1</span> <span class="id">v1</span><br/>
&nbsp;&nbsp;| <span class="id">Oor</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">I</span> <span class="id">n1</span> :: <span class="id">v2</span> :: <span class="id">nil</span> =&gt; <span class="id">op_strength_reduction_case14</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span><br/>
&nbsp;&nbsp;| <span class="id">Oor</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">v1</span> :: <span class="id">I</span> <span class="id">n2</span> :: <span class="id">nil</span> =&gt; <span class="id">op_strength_reduction_case15</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span><br/>
&nbsp;&nbsp;| <span class="id">Oxor</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">I</span> <span class="id">n1</span> :: <span class="id">v2</span> :: <span class="id">nil</span> =&gt; <span class="id">op_strength_reduction_case16</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span><br/>
&nbsp;&nbsp;| <span class="id">Oxor</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">v1</span> :: <span class="id">I</span> <span class="id">n2</span> :: <span class="id">nil</span> =&gt; <span class="id">op_strength_reduction_case17</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span><br/>
&nbsp;&nbsp;| <span class="id">Oshl</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">v1</span> :: <span class="id">I</span> <span class="id">n2</span> :: <span class="id">nil</span> =&gt; <span class="id">op_strength_reduction_case18</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span><br/>
&nbsp;&nbsp;| <span class="id">Oshr</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">v1</span> :: <span class="id">I</span> <span class="id">n2</span> :: <span class="id">nil</span> =&gt; <span class="id">op_strength_reduction_case19</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span><br/>
&nbsp;&nbsp;| <span class="id">Oshru</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">v1</span> :: <span class="id">I</span> <span class="id">n2</span> :: <span class="id">nil</span> =&gt; <span class="id">op_strength_reduction_case20</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span><br/>
&nbsp;&nbsp;| <span class="id">Olea</span> <span class="id">addr</span>, <span class="id">args</span>, <span class="id">vl</span> =&gt; <span class="id">op_strength_reduction_case21</span> <span class="id">addr</span> <span class="id">args</span> <span class="id">vl</span><br/>
&nbsp;&nbsp;| <span class="id">Osubl</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">v1</span> :: <span class="id">L</span> <span class="id">n2</span> :: <span class="id">nil</span> =&gt; <span class="id">op_strength_reduction_case22</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span><br/>
&nbsp;&nbsp;| <span class="id">Omull</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">L</span> <span class="id">n1</span> :: <span class="id">v2</span> :: <span class="id">nil</span> =&gt; <span class="id">op_strength_reduction_case23</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span><br/>
&nbsp;&nbsp;| <span class="id">Omull</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">v1</span> :: <span class="id">L</span> <span class="id">n2</span> :: <span class="id">nil</span> =&gt; <span class="id">op_strength_reduction_case24</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span><br/>
&nbsp;&nbsp;| <span class="id">Odivl</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">v1</span> :: <span class="id">L</span> <span class="id">n2</span> :: <span class="id">nil</span> =&gt; <span class="id">op_strength_reduction_case25</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span><br/>
&nbsp;&nbsp;| <span class="id">Odivlu</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">v1</span> :: <span class="id">L</span> <span class="id">n2</span> :: <span class="id">nil</span> =&gt; <span class="id">op_strength_reduction_case26</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span><br/>
&nbsp;&nbsp;| <span class="id">Omodlu</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">v1</span> :: <span class="id">L</span> <span class="id">n2</span> :: <span class="id">nil</span> =&gt; <span class="id">op_strength_reduction_case27</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span><br/>
&nbsp;&nbsp;| <span class="id">Oandl</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">L</span> <span class="id">n1</span> :: <span class="id">v2</span> :: <span class="id">nil</span> =&gt; <span class="id">op_strength_reduction_case28</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span><br/>
&nbsp;&nbsp;| <span class="id">Oandl</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">v1</span> :: <span class="id">L</span> <span class="id">n2</span> :: <span class="id">nil</span> =&gt; <span class="id">op_strength_reduction_case29</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span><br/>
&nbsp;&nbsp;| <span class="id">Oandlimm</span> <span class="id">n</span>, <span class="id">r1</span> :: <span class="id">nil</span>, <span class="id">v1</span> :: <span class="id">nil</span> =&gt; <span class="id">op_strength_reduction_case30</span> <span class="id">n</span> <span class="id">r1</span> <span class="id">v1</span><br/>
&nbsp;&nbsp;| <span class="id">Oorl</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">L</span> <span class="id">n1</span> :: <span class="id">v2</span> :: <span class="id">nil</span> =&gt; <span class="id">op_strength_reduction_case31</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span><br/>
&nbsp;&nbsp;| <span class="id">Oorl</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">v1</span> :: <span class="id">L</span> <span class="id">n2</span> :: <span class="id">nil</span> =&gt; <span class="id">op_strength_reduction_case32</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span><br/>
&nbsp;&nbsp;| <span class="id">Oxorl</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">L</span> <span class="id">n1</span> :: <span class="id">v2</span> :: <span class="id">nil</span> =&gt; <span class="id">op_strength_reduction_case33</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span><br/>
&nbsp;&nbsp;| <span class="id">Oxorl</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">v1</span> :: <span class="id">L</span> <span class="id">n2</span> :: <span class="id">nil</span> =&gt; <span class="id">op_strength_reduction_case34</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span><br/>
&nbsp;&nbsp;| <span class="id">Oshll</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">v1</span> :: <span class="id">I</span> <span class="id">n2</span> :: <span class="id">nil</span> =&gt; <span class="id">op_strength_reduction_case35</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span><br/>
&nbsp;&nbsp;| <span class="id">Oshrl</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">v1</span> :: <span class="id">I</span> <span class="id">n2</span> :: <span class="id">nil</span> =&gt; <span class="id">op_strength_reduction_case36</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span><br/>
&nbsp;&nbsp;| <span class="id">Oshrlu</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">v1</span> :: <span class="id">I</span> <span class="id">n2</span> :: <span class="id">nil</span> =&gt; <span class="id">op_strength_reduction_case37</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span><br/>
&nbsp;&nbsp;| <span class="id">Oleal</span> <span class="id">addr</span>, <span class="id">args</span>, <span class="id">vl</span> =&gt; <span class="id">op_strength_reduction_case38</span> <span class="id">addr</span> <span class="id">args</span> <span class="id">vl</span><br/>
&nbsp;&nbsp;| <span class="id">Ocmp</span> <span class="id">c</span>, <span class="id">args</span>, <span class="id">vl</span> =&gt; <span class="id">op_strength_reduction_case39</span> <span class="id">c</span> <span class="id">args</span> <span class="id">vl</span><br/>
&nbsp;&nbsp;| <span class="id">Omulf</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">v1</span> :: <span class="id">F</span> <span class="id">n2</span> :: <span class="id">nil</span> =&gt; <span class="id">op_strength_reduction_case40</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span><br/>
&nbsp;&nbsp;| <span class="id">Omulf</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">F</span> <span class="id">n1</span> :: <span class="id">v2</span> :: <span class="id">nil</span> =&gt; <span class="id">op_strength_reduction_case41</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span><br/>
&nbsp;&nbsp;| <span class="id">Omulfs</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">v1</span> :: <span class="id">FS</span> <span class="id">n2</span> :: <span class="id">nil</span> =&gt; <span class="id">op_strength_reduction_case42</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span><br/>
&nbsp;&nbsp;| <span class="id">Omulfs</span>, <span class="id">r1</span> :: <span class="id">r2</span> :: <span class="id">nil</span>, <span class="id">FS</span> <span class="id">n1</span> :: <span class="id">v2</span> :: <span class="id">nil</span> =&gt; <span class="id">op_strength_reduction_case43</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span><br/>
&nbsp;&nbsp;| <span class="id">op</span>, <span class="id">args</span>, <span class="id">vl</span> =&gt; <span class="id">op_strength_reduction_default</span> <span class="id">op</span> <span class="id">args</span> <span class="id">vl</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id">op_strength_reduction</span> (<span class="id">op</span>: <span class="id">operation</span>) (<span class="id">args</span>: <span class="id">list</span> <span class="id">reg</span>) (<span class="id">vl</span>: <span class="id">list</span> <span class="id">aval</span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">op_strength_reduction_match</span> <span class="id">op</span> <span class="id">args</span> <span class="id">vl</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case1</span> <span class="id">r1</span> <span class="id">v1</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_cast8signed</span> <span class="id">r1</span> <span class="id">v1</span><br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case2</span> <span class="id">r1</span> <span class="id">v1</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_cast8unsigned</span> <span class="id">r1</span> <span class="id">v1</span><br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case3</span> <span class="id">r1</span> <span class="id">v1</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_cast16signed</span> <span class="id">r1</span> <span class="id">v1</span><br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case4</span> <span class="id">r1</span> <span class="id">v1</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_cast16unsigned</span> <span class="id">r1</span> <span class="id">v1</span><br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case5</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_addimm</span> (<span class="id">Int.neg</span> <span class="id">n2</span>) <span class="id">r1</span><br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case6</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_mulimm</span> <span class="id">n1</span> <span class="id">r2</span><br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case7</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_mulimm</span> <span class="id">n2</span> <span class="id">r1</span><br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case8</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_divimm</span> <span class="id">n2</span> <span class="id">r1</span> <span class="id">r2</span><br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case9</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_divuimm</span> <span class="id">n2</span> <span class="id">r1</span> <span class="id">r2</span><br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case10</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_moduimm</span> <span class="id">n2</span> <span class="id">r1</span> <span class="id">r2</span><br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case11</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_andimm</span> <span class="id">n1</span> <span class="id">r2</span> <span class="id">v2</span><br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case12</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_andimm</span> <span class="id">n2</span> <span class="id">r1</span> <span class="id">v1</span><br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case13</span> <span class="id">n</span> <span class="id">r1</span> <span class="id">v1</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_andimm</span> <span class="id">n</span> <span class="id">r1</span> <span class="id">v1</span><br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case14</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_orimm</span> <span class="id">n1</span> <span class="id">r2</span><br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case15</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_orimm</span> <span class="id">n2</span> <span class="id">r1</span><br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case16</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_xorimm</span> <span class="id">n1</span> <span class="id">r2</span><br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case17</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_xorimm</span> <span class="id">n2</span> <span class="id">r1</span><br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case18</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_shlimm</span> <span class="id">n2</span> <span class="id">r1</span> <span class="id">r2</span><br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case19</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_shrimm</span> <span class="id">n2</span> <span class="id">r1</span> <span class="id">r2</span><br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case20</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_shruimm</span> <span class="id">n2</span> <span class="id">r1</span> <span class="id">r2</span><br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case21</span> <span class="id">addr</span> <span class="id">args</span> <span class="id">vl</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> (<span class="id">addr</span>', <span class="id">args</span>') := <span class="id">addr_strength_reduction_32</span> <span class="id">addr</span> <span class="id">args</span> <span class="id">vl</span> <span class="kwd">in</span> (<span class="id">Olea</span> <span class="id">addr</span>', <span class="id">args</span>')<br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case22</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_addlimm</span> (<span class="id">Int64.neg</span> <span class="id">n2</span>) <span class="id">r1</span><br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case23</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_mullimm</span> <span class="id">n1</span> <span class="id">r2</span><br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case24</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_mullimm</span> <span class="id">n2</span> <span class="id">r1</span><br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case25</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_divlimm</span> <span class="id">n2</span> <span class="id">r1</span> <span class="id">r2</span><br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case26</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_divluimm</span> <span class="id">n2</span> <span class="id">r1</span> <span class="id">r2</span><br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case27</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_modluimm</span> <span class="id">n2</span> <span class="id">r1</span> <span class="id">r2</span><br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case28</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_andlimm</span> <span class="id">n1</span> <span class="id">r2</span> <span class="id">v2</span><br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case29</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_andlimm</span> <span class="id">n2</span> <span class="id">r1</span> <span class="id">v1</span><br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case30</span> <span class="id">n</span> <span class="id">r1</span> <span class="id">v1</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_andlimm</span> <span class="id">n</span> <span class="id">r1</span> <span class="id">v1</span><br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case31</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_orlimm</span> <span class="id">n1</span> <span class="id">r2</span><br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case32</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_orlimm</span> <span class="id">n2</span> <span class="id">r1</span><br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case33</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_xorlimm</span> <span class="id">n1</span> <span class="id">r2</span><br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case34</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_xorlimm</span> <span class="id">n2</span> <span class="id">r1</span><br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case35</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_shllimm</span> <span class="id">n2</span> <span class="id">r1</span> <span class="id">r2</span><br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case36</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_shrlimm</span> <span class="id">n2</span> <span class="id">r1</span> <span class="id">r2</span><br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case37</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_shrluimm</span> <span class="id">n2</span> <span class="id">r1</span> <span class="id">r2</span><br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case38</span> <span class="id">addr</span> <span class="id">args</span> <span class="id">vl</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> (<span class="id">addr</span>', <span class="id">args</span>') := <span class="id">addr_strength_reduction_64</span> <span class="id">addr</span> <span class="id">args</span> <span class="id">vl</span> <span class="kwd">in</span> (<span class="id">Oleal</span> <span class="id">addr</span>', <span class="id">args</span>')<br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case39</span> <span class="id">c</span> <span class="id">args</span> <span class="id">vl</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_cmp</span> <span class="id">c</span> <span class="id">args</span> <span class="id">vl</span><br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case40</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_mulfimm</span> <span class="id">n2</span> <span class="id">r1</span> <span class="id">r1</span> <span class="id">r2</span><br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case41</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_mulfimm</span> <span class="id">n1</span> <span class="id">r2</span> <span class="id">r1</span> <span class="id">r2</span><br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case42</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">v1</span> <span class="id">n2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_mulfsimm</span> <span class="id">n2</span> <span class="id">r1</span> <span class="id">r1</span> <span class="id">r2</span><br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_case43</span> <span class="id">r1</span> <span class="id">r2</span> <span class="id">n1</span> <span class="id">v2</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_mulfsimm</span> <span class="id">n1</span> <span class="id">r2</span> <span class="id">r1</span> <span class="id">r2</span><br/>
&nbsp;&nbsp;| <span class="id">op_strength_reduction_default</span> <span class="id">op</span> <span class="id">args</span> <span class="id">vl</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">op</span>, <span class="id">args</span>)<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
</div>
<div class="footer"><hr/>Generated by coq2html</div>
</body>
</html>
