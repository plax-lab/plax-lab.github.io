<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module AsmTSO</title>
<meta name="description" content="Documentation of Coq module AsmTSO" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module AsmTSO</h1>
<div class="coq">
<br/>
<br/>
<div class="doc">This file gives the syntax and semantics of x86TSO language </div>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Coqlib.html">Coqlib</a></span> <span class="id"><a href="Maps.html">Maps</a></span>.  <br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Locations.html">Locations</a></span> <span class="id"><a href="AST.html">AST</a></span> <span class="id"><a href="Integers.html">Integers</a></span> <span class="id"><a href="Floats.html">Floats</a></span> <span class="id"><a href="Values.html">Values</a></span> <span class="id"><a href="Events.html">Events</a></span> <span class="id"><a href="Globalenvs.html">Globalenvs</a></span> <span class="id"><a href="Smallstep.html">Smallstep</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Stacklayout.html">Stacklayout</a></span> <span class="id"><a href="Conventions.html">Conventions</a></span>.<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Asm.html">Asm</a></span>.<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="CUAST.html">CUAST</a></span> <span class="id"><a href="FMemOpFP.html">FMemOpFP</a></span> <span class="id"><a href="ValFP.html">ValFP</a></span> <span class="id"><a href="Op_fp.html">Op_fp</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html">String</a></span> <span class="id"><a href="val_casted.html">val_casted</a></span> <span class="id"><a href="helpers.html">helpers</a></span>.<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Footprint.html">Footprint</a></span> <span class="id"><a href="GMemory.html">GMemory</a></span> <span class="id"><a href="FMemory.html">FMemory</a></span> <span class="id"><a href="TSOMem.html">TSOMem</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="loadframe.html">loadframe</a></span>.<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="ASM_local.html">ASM_local</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="AsmLang.html">AsmLang</a></span>.<br/>
<br/>
<span class="kwd">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="footprint">footprint</a></span> := <span class="id"><a href="Footprint.html#FP.t">FP.t</a></span>.<br/>
<span class="kwd">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="empfp">empfp</a></span> := <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>.<br/>
<br/>
<div class="doc">counter part of interaction semantics </div>
<span class="kwd">Definition</span> <span class="id"><a name="F">F</a></span> : <span class="kwd">Type</span> := <span class="id"><a href="ASM_local.html#fundef">fundef</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="V">V</a></span> : <span class="kwd">Type</span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#unit">unit</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="comp_unit">comp_unit</a></span> : <span class="kwd">Type</span> := <span class="id"><a href="ASM_local.html#Asm_comp_unit">Asm_comp_unit</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="core">core</a></span> : <span class="kwd">Type</span> := <span class="id"><a href="ASM_local.html#core">core</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="internal_fn">internal_fn</a></span> : <span class="id"><a href="AsmTSO.html#comp_unit">comp_unit</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="AST.html#ident">ident</a></span> := <span class="id"><a href="CUAST.html#internal_fn">CUAST.internal_fn</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="init_genv">init_genv</a></span> (<span class="id">cu</span>: <span class="id"><a href="ASM_local.html#Asm_comp_unit">Asm_comp_unit</a></span>) (<span class="id">ge</span>: <span class="id"><a href="ASM_local.html#genv">genv</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="CUAST.html#ge_related">ge_related</a></span> <span class="id"><a href="AsmTSO.html#ge">ge</a></span> (<span class="id"><a href="Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> (<span class="id"><a href="AST.html#mkprogram">mkprogram</a></span> (<span class="id"><a href="CUAST.html#cu_defs">cu_defs</a></span> <span class="id"><a href="AsmTSO.html#cu">cu</a></span>) (<span class="id"><a href="CUAST.html#cu_public">cu_public</a></span> <span class="id"><a href="AsmTSO.html#cu">cu</a></span>) 1%<span class="id">positive</span>)).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="init_core">init_core</a></span> := <span class="id"><a href="ASM_local.html#init_core">init_core</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="halt">halt</a></span> := <span class="id"><a href="ASM_local.html#halted">halted</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="at_external">at_external</a></span> := <span class="id"><a href="ASM_local.html#at_external">at_external</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="after_external">after_external</a></span> := <span class="id"><a href="ASM_local.html#after_external">after_external</a></span>.<br/>
<br/>
<div class="doc">TSO related definitions </div>
<span class="kwd">Definition</span> <span class="id"><a name="init_gmem">init_gmem</a></span> := <span class="id"><a href="AsmLang.html#init_mem">init_mem</a></span>.<br/>
<div class="doc">TSO memory initialization </div>
<span class="kwd">Definition</span> <span class="id"><a name="init_tsomem">init_tsomem</a></span> <span class="id">ge</span> <span class="id">gm</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#init_gmem">init_gmem</a></span> <span class="id"><a href="AsmTSO.html#ge">ge</a></span> (<span class="id"><a href="TSOMem.html#memory">memory</a></span> <span class="id"><a href="AsmTSO.html#gm">gm</a></span>) /\ (<span class="id"><a href="TSOMem.html#tso_buffers">tso_buffers</a></span> <span class="id"><a href="AsmTSO.html#gm">gm</a></span> = <span class="kwd">fun</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>).<br/>
<br/>
<h2> builtin args </h2>
<span class="kwd">Section</span> <span class="id"><a name="EVAL_BUILTIN_ARG">EVAL_BUILTIN_ARG</a></span>.<br/>
<br/>
<span class="kwd">Context</span> {<span class="id">A</span>: <span class="kwd">Type</span>}.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="EVAL_BUILTIN_ARG.ge">ge</a></span>: <span class="id"><a href="Globalenvs.html#Senv.t">Senv.t</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="EVAL_BUILTIN_ARG.e">e</a></span>: <span class="id"><a href="AsmTSO.html#EVAL_BUILTIN_ARG.A">A</a></span> -&gt; <span class="id"><a href="Values.html#val">val</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="EVAL_BUILTIN_ARG.sp">sp</a></span>: <span class="id"><a href="Values.html#val">val</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="EVAL_BUILTIN_ARG.m">m</a></span>: <span class="id"><a href="TSOMem.html#tsofmem">tsofmem</a></span>.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="eval_builtin_arg">eval_builtin_arg</a></span>: <span class="id"><a href="AST.html#builtin_arg">builtin_arg</a></span> <span class="id"><a href="AsmTSO.html#EVAL_BUILTIN_ARG.A">A</a></span> -&gt; <span class="id"><a href="Values.html#val">val</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="eval_BA">eval_BA</a></span>: <span class="kwd">forall</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#eval_builtin_arg">eval_builtin_arg</a></span> (<span class="id"><a href="AST.html#BA">BA</a></span> <span class="id"><a href="AsmTSO.html#x">x</a></span>) (<span class="id"><a href="AsmTSO.html#EVAL_BUILTIN_ARG.e">e</a></span> <span class="id"><a href="AsmTSO.html#x">x</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a name="eval_BA_int">eval_BA_int</a></span>: <span class="kwd">forall</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#eval_builtin_arg">eval_builtin_arg</a></span> (<span class="id"><a href="AST.html#BA_int">BA_int</a></span> <span class="id"><a href="AsmTSO.html#n">n</a></span>) (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="AsmTSO.html#n">n</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a name="eval_BA_long">eval_BA_long</a></span>: <span class="kwd">forall</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#eval_builtin_arg">eval_builtin_arg</a></span> (<span class="id"><a href="AST.html#BA_long">BA_long</a></span> <span class="id"><a href="AsmTSO.html#n">n</a></span>) (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id"><a href="AsmTSO.html#n">n</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a name="eval_BA_float">eval_BA_float</a></span>: <span class="kwd">forall</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#eval_builtin_arg">eval_builtin_arg</a></span> (<span class="id"><a href="AST.html#BA_float">BA_float</a></span> <span class="id"><a href="AsmTSO.html#n">n</a></span>) (<span class="id"><a href="Values.html#Vfloat">Vfloat</a></span> <span class="id"><a href="AsmTSO.html#n">n</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a name="eval_BA_single">eval_BA_single</a></span>: <span class="kwd">forall</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#eval_builtin_arg">eval_builtin_arg</a></span> (<span class="id"><a href="AST.html#BA_single">BA_single</a></span> <span class="id"><a href="AsmTSO.html#n">n</a></span>) (<span class="id"><a href="Values.html#Vsingle">Vsingle</a></span> <span class="id"><a href="AsmTSO.html#n">n</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a name="eval_BA_loadstack">eval_BA_loadstack</a></span>: <span class="kwd">forall</span> <span class="id">chunk</span> <span class="id">ofs</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="TSOMem.html#tsoloadv">tsoloadv</a></span> <span class="id"><a href="AsmTSO.html#chunk">chunk</a></span> <span class="id"><a href="AsmTSO.html#EVAL_BUILTIN_ARG.m">m</a></span> (<span class="id"><a href="Values.html#Val.offset_ptr">Val.offset_ptr</a></span> <span class="id"><a href="AsmTSO.html#EVAL_BUILTIN_ARG.sp">sp</a></span> <span class="id"><a href="AsmTSO.html#ofs">ofs</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="AsmTSO.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#eval_builtin_arg">eval_builtin_arg</a></span> (<span class="id"><a href="AST.html#BA_loadstack">BA_loadstack</a></span> <span class="id"><a href="AsmTSO.html#chunk">chunk</a></span> <span class="id"><a href="AsmTSO.html#ofs">ofs</a></span>) <span class="id"><a href="AsmTSO.html#v">v</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="eval_BA_addrstack">eval_BA_addrstack</a></span>: <span class="kwd">forall</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#eval_builtin_arg">eval_builtin_arg</a></span> (<span class="id"><a href="AST.html#BA_addrstack">BA_addrstack</a></span> <span class="id"><a href="AsmTSO.html#ofs">ofs</a></span>) (<span class="id"><a href="Values.html#Val.offset_ptr">Val.offset_ptr</a></span> <span class="id"><a href="AsmTSO.html#EVAL_BUILTIN_ARG.sp">sp</a></span> <span class="id"><a href="AsmTSO.html#ofs">ofs</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a name="eval_BA_loadglobal">eval_BA_loadglobal</a></span>: <span class="kwd">forall</span> <span class="id">chunk</span> <span class="id">id</span> <span class="id">ofs</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="TSOMem.html#tsoloadv">tsoloadv</a></span> <span class="id"><a href="AsmTSO.html#chunk">chunk</a></span> <span class="id"><a href="AsmTSO.html#EVAL_BUILTIN_ARG.m">m</a></span> (<span class="id"><a href="Globalenvs.html#Senv.symbol_address">Senv.symbol_address</a></span> <span class="id"><a href="AsmTSO.html#EVAL_BUILTIN_ARG.ge">ge</a></span> <span class="id"><a href="AsmTSO.html#id">id</a></span> <span class="id"><a href="AsmTSO.html#ofs">ofs</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="AsmTSO.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#eval_builtin_arg">eval_builtin_arg</a></span> (<span class="id"><a href="AST.html#BA_loadglobal">BA_loadglobal</a></span> <span class="id"><a href="AsmTSO.html#chunk">chunk</a></span> <span class="id"><a href="AsmTSO.html#id">id</a></span> <span class="id"><a href="AsmTSO.html#ofs">ofs</a></span>) <span class="id"><a href="AsmTSO.html#v">v</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="eval_BA_addrglobal">eval_BA_addrglobal</a></span>: <span class="kwd">forall</span> <span class="id">id</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#eval_builtin_arg">eval_builtin_arg</a></span> (<span class="id"><a href="AST.html#BA_addrglobal">BA_addrglobal</a></span> <span class="id"><a href="AsmTSO.html#id">id</a></span> <span class="id"><a href="AsmTSO.html#ofs">ofs</a></span>) (<span class="id"><a href="Globalenvs.html#Senv.symbol_address">Senv.symbol_address</a></span> <span class="id"><a href="AsmTSO.html#EVAL_BUILTIN_ARG.ge">ge</a></span> <span class="id"><a href="AsmTSO.html#id">id</a></span> <span class="id"><a href="AsmTSO.html#ofs">ofs</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a name="eval_BA_splitlong">eval_BA_splitlong</a></span>: <span class="kwd">forall</span> <span class="id">hi</span> <span class="id">lo</span> <span class="id">vhi</span> <span class="id">vlo</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#eval_builtin_arg">eval_builtin_arg</a></span> <span class="id"><a href="AsmTSO.html#hi">hi</a></span> <span class="id"><a href="AsmTSO.html#vhi">vhi</a></span> -&gt; <span class="id"><a href="AsmTSO.html#eval_builtin_arg">eval_builtin_arg</a></span> <span class="id"><a href="AsmTSO.html#lo">lo</a></span> <span class="id"><a href="AsmTSO.html#vlo">vlo</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#eval_builtin_arg">eval_builtin_arg</a></span> (<span class="id"><a href="AST.html#BA_splitlong">BA_splitlong</a></span> <span class="id"><a href="AsmTSO.html#hi">hi</a></span> <span class="id"><a href="AsmTSO.html#lo">lo</a></span>) (<span class="id"><a href="Values.html#Val.longofwords">Val.longofwords</a></span> <span class="id"><a href="AsmTSO.html#vhi">vhi</a></span> <span class="id"><a href="AsmTSO.html#vlo">vlo</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="eval_builtin_args">eval_builtin_args</a></span> (<span class="id">al</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="AST.html#builtin_arg">builtin_arg</a></span> <span class="id"><a href="AsmTSO.html#EVAL_BUILTIN_ARG.A">A</a></span>)) (<span class="id">vl</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Values.html#val">val</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="Coqlib.html#list_forall2">list_forall2</a></span> <span class="id"><a href="AsmTSO.html#eval_builtin_arg">eval_builtin_arg</a></span> <span class="id"><a href="AsmTSO.html#al">al</a></span> <span class="id"><a href="AsmTSO.html#vl">vl</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_builtin_arg_determ">eval_builtin_arg_determ</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">v</span>, <span class="id"><a href="AsmTSO.html#eval_builtin_arg">eval_builtin_arg</a></span> <span class="id"><a href="AsmTSO.html#a">a</a></span> <span class="id"><a href="AsmTSO.html#v">v</a></span> -&gt; <span class="kwd">forall</span> <span class="id">v</span>', <span class="id"><a href="AsmTSO.html#eval_builtin_arg">eval_builtin_arg</a></span> <span class="id"><a href="AsmTSO.html#a">a</a></span> <span class="id">v</span>' -&gt; <span class="id">v</span>' = <span class="id"><a href="AsmTSO.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9215')">Proof.</div>
<div class="proofscript" id="proof9215">
&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="tactic">intros</span> <span class="id">v</span>' <span class="id">EV</span>; <span class="id">inv</span> <span class="id">EV</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">f_equal</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_builtin_args_determ">eval_builtin_args_determ</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">al</span> <span class="id">vl</span>, <span class="id"><a href="AsmTSO.html#eval_builtin_args">eval_builtin_args</a></span> <span class="id"><a href="AsmTSO.html#al">al</a></span> <span class="id"><a href="AsmTSO.html#vl">vl</a></span> -&gt; <span class="kwd">forall</span> <span class="id">vl</span>', <span class="id"><a href="AsmTSO.html#eval_builtin_args">eval_builtin_args</a></span> <span class="id"><a href="AsmTSO.html#al">al</a></span> <span class="id">vl</span>' -&gt; <span class="id">vl</span>' = <span class="id"><a href="AsmTSO.html#vl">vl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9216')">Proof.</div>
<div class="proofscript" id="proof9216">
&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="tactic">intros</span> <span class="id">v</span>' <span class="id">EV</span>; <span class="id">inv</span> <span class="id">EV</span>; <span class="tactic">f_equal</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="AsmTSO.html#eval_builtin_arg_determ">eval_builtin_arg_determ</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="AsmTSO.html#EVAL_BUILTIN_ARG">EVAL_BUILTIN_ARG</a></span>.<br/>
<br/>
<h2> x86TSO Semantics  </h2>
<span class="kwd">Section</span> <span class="id"><a name="x86TSO_Semantics">x86TSO_Semantics</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="x86TSO_Semantics.ge">ge</a></span> : <span class="id"><a href="ASM_local.html#genv">genv</a></span>.<br/>
&nbsp;&nbsp;<br/>
<div class="doc">The outcome of x86_TSO execution </div>
<span class="kwd">Inductive</span> <span class="id"><a name="outcome_TSO">outcome_TSO</a></span> : <span class="kwd">Type</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">Next</span> : <span class="id"><a href="Asm.html#regset">regset</a></span> -&gt; <span class="id"><a href="TSOMem.html#tsofmem">tsofmem</a></span> -&gt; <span class="id"><a href="AsmTSO.html#outcome_TSO">outcome_TSO</a></span> | <span class="id"><a name="Stuck">Stuck</a></span> : <span class="id"><a href="AsmTSO.html#outcome_TSO">outcome_TSO</a></span>.<br/>
<br/>
<div class="doc">exec_load from TSO memory model </div>
<span class="kwd">Definition</span> <span class="id"><a name="exec_load_TSO">exec_load_TSO</a></span> (<span class="id">chunk</span>: <span class="id"><a href="AST.html#memory_chunk">memory_chunk</a></span>) (<span class="id">bm</span> : <span class="id"><a href="TSOMem.html#tsofmem">tsofmem</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">a</span> : <span class="id"><a href="Asm.html#addrmode">addrmode</a></span>) (<span class="id">rs</span> : <span class="id"><a href="Asm.html#regset">regset</a></span>) (<span class="id">rd</span>: <span class="id"><a href="Asm.html#preg">preg</a></span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="TSOMem.html#tsoloadv">tsoloadv</a></span> <span class="id"><a href="AsmTSO.html#chunk">chunk</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> (<span class="id"><a href="ASM_local.html#eval_addrmode">eval_addrmode</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id"><a href="AsmTSO.html#a">a</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>) <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v</span> =&gt; <span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="AsmTSO.html#rd">rd</a></span> &lt;- <span class="id">v</span>)) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<div class="doc">exec_store from TSO memory model </div>
<span class="kwd">Definition</span> <span class="id"><a name="exec_store_TSO">exec_store_TSO</a></span> (<span class="id">chunk</span>: <span class="id"><a href="AST.html#memory_chunk">memory_chunk</a></span>) (<span class="id">bm</span> : <span class="id"><a href="TSOMem.html#tsofmem">tsofmem</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">a</span> : <span class="id"><a href="Asm.html#addrmode">addrmode</a></span>) (<span class="id">rs</span> : <span class="id"><a href="Asm.html#regset">regset</a></span>) (<span class="id">r1</span> : <span class="id"><a href="Asm.html#preg">preg</a></span>) (<span class="id">destroyed</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Asm.html#preg">preg</a></span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="TSOMem.html#tsostorev">tsostorev</a></span> <span class="id"><a href="AsmTSO.html#chunk">chunk</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> (<span class="id"><a href="ASM_local.html#eval_addrmode">eval_addrmode</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id"><a href="AsmTSO.html#a">a</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>) (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id"><a href="AsmTSO.html#r1">r1</a></span>) <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">bm</span>' =&gt; <span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="Asm.html#undef_regs">undef_regs</a></span> <span class="id"><a href="AsmTSO.html#destroyed">destroyed</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>)) <span class="id">bm</span>'<br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<div class="doc">compare_ints_TSO </div>
<span class="kwd">Definition</span> <span class="id"><a name="check_compare_ints_TSO">check_compare_ints_TSO</a></span> (<span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="Values.html#val">val</a></span>) (<span class="id">bm</span>: <span class="id"><a href="TSOMem.html#tsofmem">tsofmem</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span> (<span class="id"><a href="TSOMem.html#tso_valid_pointer">tso_valid_pointer</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span>) <span class="id"><a href="Integers.html#Ceq">Ceq</a></span> <span class="id"><a href="AsmTSO.html#x">x</a></span> <span class="id"><a href="AsmTSO.html#y">y</a></span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="compare_ints_TSO">compare_ints_TSO</a></span> (<span class="id">x</span> <span class="id">y</span> : <span class="id"><a href="Values.html#val">val</a></span>) (<span class="id">rs</span> : <span class="id"><a href="Asm.html#regset">regset</a></span>) (<span class="id">bm</span> : <span class="id"><a href="TSOMem.html#tsofmem">tsofmem</a></span>) :=<br/>
&nbsp;&nbsp;((((<span class="id"><a href="AsmTSO.html#rs">rs</a></span> # <span class="id"><a href="Asm.html#ZF">ZF</a></span> &lt;- (<span class="id"><a href="Values.html#Val.cmpu">Val.cmpu</a></span> (<span class="id"><a href="TSOMem.html#tso_valid_pointer">tso_valid_pointer</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span>) <span class="id"><a href="Integers.html#Ceq">Ceq</a></span> <span class="id"><a href="AsmTSO.html#x">x</a></span> <span class="id"><a href="AsmTSO.html#y">y</a></span>)) # <span class="id"><a href="Asm.html#CF">CF</a></span> &lt;-<br/>
&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Values.html#Val.cmpu">Val.cmpu</a></span> (<span class="id"><a href="TSOMem.html#tso_valid_pointer">tso_valid_pointer</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span>) <span class="id"><a href="Integers.html#Clt">Clt</a></span> <span class="id"><a href="AsmTSO.html#x">x</a></span> <span class="id"><a href="AsmTSO.html#y">y</a></span>)) # <span class="id"><a href="Asm.html#SF">SF</a></span> &lt;-<br/>
&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Values.html#Val.negative">Val.negative</a></span> (<span class="id"><a href="Values.html#Val.sub">Val.sub</a></span> <span class="id"><a href="AsmTSO.html#x">x</a></span> <span class="id"><a href="AsmTSO.html#y">y</a></span>))) # <span class="id"><a href="Asm.html#OF">OF</a></span> &lt;- (<span class="id"><a href="Values.html#Val.sub_overflow">Val.sub_overflow</a></span> <span class="id"><a href="AsmTSO.html#x">x</a></span> <span class="id"><a href="AsmTSO.html#y">y</a></span>)) # <span class="id"><a href="Asm.html#PF">PF</a></span> &lt;- <span class="id"><a href="Values.html#Vundef">Vundef</a></span>.<br/>
<br/>
<div class="doc">compare_longs_TSO </div>
<span class="kwd">Definition</span> <span class="id"><a name="compare_longs_TSO">compare_longs_TSO</a></span> (<span class="id">x</span> <span class="id">y</span> : <span class="id"><a href="Values.html#val">val</a></span>) (<span class="id">rs</span> : <span class="id"><a href="Asm.html#regset">regset</a></span>) (<span class="id">bm</span> : <span class="id"><a href="TSOMem.html#tsofmem">tsofmem</a></span>) :=<br/>
&nbsp;&nbsp;((((<span class="id"><a href="AsmTSO.html#rs">rs</a></span> # <span class="id"><a href="Asm.html#ZF">ZF</a></span> &lt;- (<span class="id"><a href="Values.html#Val.maketotal">Val.maketotal</a></span> (<span class="id"><a href="Values.html#Val.cmplu">Val.cmplu</a></span> (<span class="id"><a href="TSOMem.html#tso_valid_pointer">tso_valid_pointer</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span>) <span class="id"><a href="Integers.html#Ceq">Ceq</a></span> <span class="id"><a href="AsmTSO.html#x">x</a></span> <span class="id"><a href="AsmTSO.html#y">y</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;# <span class="id"><a href="Asm.html#CF">CF</a></span> &lt;- (<span class="id"><a href="Values.html#Val.maketotal">Val.maketotal</a></span> (<span class="id"><a href="Values.html#Val.cmplu">Val.cmplu</a></span> (<span class="id"><a href="TSOMem.html#tso_valid_pointer">tso_valid_pointer</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span>) <span class="id"><a href="Integers.html#Clt">Clt</a></span> <span class="id"><a href="AsmTSO.html#x">x</a></span> <span class="id"><a href="AsmTSO.html#y">y</a></span>))) # <span class="id"><a href="Asm.html#SF">SF</a></span> &lt;-<br/>
&nbsp;&nbsp;(<span class="id"><a href="Values.html#Val.negativel">Val.negativel</a></span> (<span class="id"><a href="Values.html#Val.subl">Val.subl</a></span> <span class="id"><a href="AsmTSO.html#x">x</a></span> <span class="id"><a href="AsmTSO.html#y">y</a></span>))) # <span class="id"><a href="Asm.html#OF">OF</a></span> &lt;- (<span class="id"><a href="Values.html#Val.subl_overflow">Val.subl_overflow</a></span> <span class="id"><a href="AsmTSO.html#x">x</a></span> <span class="id"><a href="AsmTSO.html#y">y</a></span>)) # <span class="id"><a href="Asm.html#PF">PF</a></span> &lt;- <span class="id"><a href="Values.html#Vundef">Vundef</a></span>.<br/>
<br/>
<div class="doc">tso_goto_label </div>
<span class="kwd">Definition</span> <span class="id"><a name="tso_goto_label">tso_goto_label</a></span> (<span class="id">f</span> : <span class="id"><a href="ASM_local.html#function">function</a></span>) (<span class="id">lbl</span> : <span class="id"><a href="Asm.html#label">label</a></span>) (<span class="id">rs</span> : <span class="id"><a href="Asm.html#regset">regset</a></span>) (<span class="id">bm</span> : <span class="id"><a href="TSOMem.html#tsofmem">tsofmem</a></span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="ASM_local.html#label_pos">label_pos</a></span> <span class="id"><a href="AsmTSO.html#lbl">lbl</a></span> 0 (<span class="id"><a href="ASM_local.html#fn_code">fn_code</a></span> <span class="id"><a href="AsmTSO.html#f">f</a></span>) <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">pos</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id"><a href="Asm.html#PC">PC</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vundef">Vundef</a></span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vfloat">Vfloat</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vsingle">Vsingle</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b</span> <span class="id">_</span> =&gt; <span class="kwd">Next</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> # <span class="id"><a href="Asm.html#PC">PC</a></span> &lt;- (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b</span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id">pos</span>)) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<div class="doc">The result of dec will update the value of flag </div>
<span class="kwd">Definition</span> <span class="id"><a name="dec_upd_flag">dec_upd_flag</a></span> (<span class="id">n</span> : <span class="id"><a href="Integers.html#int">int</a></span>) (<span class="id">rs</span> : <span class="id"><a href="Asm.html#regset">regset</a></span>) :=<br/>
&nbsp;&nbsp;((<span class="id"><a href="AsmTSO.html#rs">rs</a></span> # <span class="id"><a href="Asm.html#ZF">ZF</a></span> &lt;- (<span class="id"><a href="Values.html#Val.of_optbool">Val.of_optbool</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Integers.html#Int.cmpu">Int.cmpu</a></span> <span class="id"><a href="Integers.html#Ceq">Ceq</a></span> <span class="id"><a href="AsmTSO.html#n">n</a></span> <span class="id"><a href="Integers.html#Int.one">Int.one</a></span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# <span class="id"><a href="Asm.html#SF">SF</a></span> &lt;- (<span class="id"><a href="Values.html#Val.negative">Val.negative</a></span> (<span class="id"><a href="Values.html#Val.sub">Val.sub</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="AsmTSO.html#n">n</a></span>) (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="Integers.html#Int.one">Int.one</a></span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;# <span class="id"><a href="Asm.html#OF">OF</a></span> &lt;- (<span class="id"><a href="Values.html#Val.sub_overflow">Val.sub_overflow</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="AsmTSO.html#n">n</a></span>) (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="Integers.html#Int.one">Int.one</a></span>)) # <span class="id"><a href="Asm.html#PF">PF</a></span> &lt;- <span class="id"><a href="Values.html#Vundef">Vundef</a></span>.<br/>
<br/>
<div class="doc">The execution of x86_TSO instructions </div>
<span class="kwd">Definition</span> <span class="id"><a name="exec_instr_TSO">exec_instr_TSO</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">f</span>: <span class="id"><a href="ASM_local.html#function">function</a></span>) (<span class="id">i</span>: <span class="id"><a href="ASM_local.html#instruction">instruction</a></span>) (<span class="id">rs</span>: <span class="id"><a href="Asm.html#regset">regset</a></span>) (<span class="id">bm</span>: <span class="id"><a href="TSOMem.html#tsofmem">tsofmem</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#outcome_TSO">outcome_TSO</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="AsmTSO.html#i">i</a></span> <span class="kwd">with</span><br/>
<div class="doc">Moves </div>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmov_rr">Pmov_rr</a></span> <span class="id">rd</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r1</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovl_ri">Pmovl_ri</a></span> <span class="id">rd</span> <span class="id">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovq_ri">Pmovq_ri</a></span> <span class="id">rd</span> <span class="id">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">n</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmov_rs">Pmov_rs</a></span> <span class="id">rd</span> <span class="id">id</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id">id</span> <span class="id"><a href="Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovl_rm">Pmovl_rm</a></span> <span class="id">rd</span> <span class="id">a</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#exec_load_TSO">exec_load_TSO</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">rd</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovq_rm">Pmovq_rm</a></span> <span class="id">rd</span> <span class="id">a</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#exec_load_TSO">exec_load_TSO</a></span> <span class="id"><a href="AST.html#Mint64">Mint64</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">rd</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovl_mr">Pmovl_mr</a></span> <span class="id">a</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#exec_store_TSO">exec_store_TSO</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r1</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovq_mr">Pmovq_mr</a></span> <span class="id">a</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#exec_store_TSO">exec_store_TSO</a></span> <span class="id"><a href="AST.html#Mint64">Mint64</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r1</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovsd_ff">Pmovsd_ff</a></span> <span class="id">rd</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r1</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovsd_fi">Pmovsd_fi</a></span> <span class="id">rd</span> <span class="id">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Vfloat">Vfloat</a></span> <span class="id">n</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovsd_fm">Pmovsd_fm</a></span> <span class="id">rd</span> <span class="id">a</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#exec_load_TSO">exec_load_TSO</a></span> <span class="id"><a href="AST.html#Mfloat64">Mfloat64</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">rd</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovsd_mf">Pmovsd_mf</a></span> <span class="id">a</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#exec_store_TSO">exec_store_TSO</a></span> <span class="id"><a href="AST.html#Mfloat64">Mfloat64</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r1</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovss_fi">Pmovss_fi</a></span> <span class="id">rd</span> <span class="id">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Vsingle">Vsingle</a></span> <span class="id">n</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovss_fm">Pmovss_fm</a></span> <span class="id">rd</span> <span class="id">a</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#exec_load_TSO">exec_load_TSO</a></span> <span class="id"><a href="AST.html#Mfloat32">Mfloat32</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">rd</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovss_mf">Pmovss_mf</a></span> <span class="id">a</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#exec_store_TSO">exec_store_TSO</a></span> <span class="id"><a href="AST.html#Mfloat32">Mfloat32</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r1</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pfldl_m">Pfldl_m</a></span> <span class="id">a</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#exec_load_TSO">exec_load_TSO</a></span> <span class="id"><a href="AST.html#Mfloat64">Mfloat64</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id"><a href="Asm.html#ST0">ST0</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pfstpl_m">Pfstpl_m</a></span> <span class="id">a</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#exec_store_TSO">exec_store_TSO</a></span> <span class="id"><a href="AST.html#Mfloat64">Mfloat64</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id"><a href="Asm.html#ST0">ST0</a></span> (<span class="id"><a href="Asm.html#ST0">ST0</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pflds_m">Pflds_m</a></span> <span class="id">a</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#exec_load_TSO">exec_load_TSO</a></span> <span class="id"><a href="AST.html#Mfloat32">Mfloat32</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id"><a href="Asm.html#ST0">ST0</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pfstps_m">Pfstps_m</a></span> <span class="id">a</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#exec_store_TSO">exec_store_TSO</a></span> <span class="id"><a href="AST.html#Mfloat32">Mfloat32</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id"><a href="Asm.html#ST0">ST0</a></span> (<span class="id"><a href="Asm.html#ST0">ST0</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>)<br/>
<div class="doc">Moves with conversion </div>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovb_mr">Pmovb_mr</a></span> <span class="id">a</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#exec_store_TSO">exec_store_TSO</a></span> <span class="id"><a href="AST.html#Mint8unsigned">Mint8unsigned</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r1</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovw_mr">Pmovw_mr</a></span> <span class="id">a</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#exec_store_TSO">exec_store_TSO</a></span> <span class="id"><a href="AST.html#Mint16unsigned">Mint16unsigned</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r1</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovzb_rr">Pmovzb_rr</a></span> <span class="id">rd</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.zero_ext">Val.zero_ext</a></span> 8 <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovzb_rm">Pmovzb_rm</a></span> <span class="id">rd</span> <span class="id">a</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#exec_load_TSO">exec_load_TSO</a></span> <span class="id"><a href="AST.html#Mint8unsigned">Mint8unsigned</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">rd</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovsb_rr">Pmovsb_rr</a></span> <span class="id">rd</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.sign_ext">Val.sign_ext</a></span> 8 <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovsb_rm">Pmovsb_rm</a></span> <span class="id">rd</span> <span class="id">a</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#exec_load_TSO">exec_load_TSO</a></span> <span class="id"><a href="AST.html#Mint8signed">Mint8signed</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">rd</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovzw_rr">Pmovzw_rr</a></span> <span class="id">rd</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.zero_ext">Val.zero_ext</a></span> 16 <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovzw_rm">Pmovzw_rm</a></span> <span class="id">rd</span> <span class="id">a</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#exec_load_TSO">exec_load_TSO</a></span> <span class="id"><a href="AST.html#Mint16unsigned">Mint16unsigned</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">rd</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovsw_rr">Pmovsw_rr</a></span> <span class="id">rd</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.sign_ext">Val.sign_ext</a></span> 16 <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovsw_rm">Pmovsw_rm</a></span> <span class="id">rd</span> <span class="id">a</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#exec_load_TSO">exec_load_TSO</a></span> <span class="id"><a href="AST.html#Mint16signed">Mint16signed</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">rd</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovzl_rr">Pmovzl_rr</a></span> <span class="id">rd</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.longofintu">Val.longofintu</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovsl_rr">Pmovsl_rr</a></span> <span class="id">rd</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.longofint">Val.longofint</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovls_rr">Pmovls_rr</a></span> <span class="id">rd</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.loword">Val.loword</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pcvtsd2ss_ff">Pcvtsd2ss_ff</a></span> <span class="id">rd</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.singleoffloat">Val.singleoffloat</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pcvtss2sd_ff">Pcvtss2sd_ff</a></span> <span class="id">rd</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.floatofsingle">Val.floatofsingle</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pcvttsd2si_rf">Pcvttsd2si_rf</a></span> <span class="id">rd</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.maketotal">Val.maketotal</a></span> (<span class="id"><a href="Values.html#Val.intoffloat">Val.intoffloat</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span>)))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pcvtsi2sd_fr">Pcvtsi2sd_fr</a></span> <span class="id">rd</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.maketotal">Val.maketotal</a></span> (<span class="id"><a href="Values.html#Val.floatofint">Val.floatofint</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span>)))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pcvttss2si_rf">Pcvttss2si_rf</a></span> <span class="id">rd</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.maketotal">Val.maketotal</a></span> (<span class="id"><a href="Values.html#Val.intofsingle">Val.intofsingle</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span>)))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pcvtsi2ss_fr">Pcvtsi2ss_fr</a></span> <span class="id">rd</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.maketotal">Val.maketotal</a></span> (<span class="id"><a href="Values.html#Val.singleofint">Val.singleofint</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span>)))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pcvttsd2sl_rf">Pcvttsd2sl_rf</a></span> <span class="id">rd</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.maketotal">Val.maketotal</a></span> (<span class="id"><a href="Values.html#Val.longoffloat">Val.longoffloat</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span>)))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pcvtsl2sd_fr">Pcvtsl2sd_fr</a></span> <span class="id">rd</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.maketotal">Val.maketotal</a></span> (<span class="id"><a href="Values.html#Val.floatoflong">Val.floatoflong</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span>)))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pcvttss2sl_rf">Pcvttss2sl_rf</a></span> <span class="id">rd</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.maketotal">Val.maketotal</a></span> (<span class="id"><a href="Values.html#Val.longofsingle">Val.longofsingle</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span>)))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pcvtsl2ss_fr">Pcvtsl2ss_fr</a></span> <span class="id">rd</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.maketotal">Val.maketotal</a></span> (<span class="id"><a href="Values.html#Val.singleoflong">Val.singleoflong</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span>)))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
<div class="doc">Integer arithmetic </div>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pleal">Pleal</a></span> <span class="id">rd</span> <span class="id">a</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="ASM_local.html#eval_addrmode32">eval_addrmode32</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pleaq">Pleaq</a></span> <span class="id">rd</span> <span class="id">a</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="ASM_local.html#eval_addrmode64">eval_addrmode64</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pnegl">Pnegl</a></span> <span class="id">rd</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.neg">Val.neg</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pnegq">Pnegq</a></span> <span class="id">rd</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.negl">Val.negl</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Paddl_ri">Paddl_ri</a></span> <span class="id">rd</span> <span class="id">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.add">Val.add</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>)))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Paddq_ri">Paddq_ri</a></span> <span class="id">rd</span> <span class="id">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.addl">Val.addl</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">n</span>)))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Psubl_rr">Psubl_rr</a></span> <span class="id">rd</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.sub">Val.sub</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Psubq_rr">Psubq_rr</a></span> <span class="id">rd</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.subl">Val.subl</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pimull_rr">Pimull_rr</a></span> <span class="id">rd</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.mul">Val.mul</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pimulq_rr">Pimulq_rr</a></span> <span class="id">rd</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.mull">Val.mull</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pimull_ri">Pimull_ri</a></span> <span class="id">rd</span> <span class="id">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.mul">Val.mul</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>)))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pimulq_ri">Pimulq_ri</a></span> <span class="id">rd</span> <span class="id">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.mull">Val.mull</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">n</span>)))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pimull_r">Pimull_r</a></span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RAX">RAX</a></span> &lt;- (<span class="id"><a href="Values.html#Val.mul">Val.mul</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RAX">RAX</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#<span class="id"><a href="Asm.html#RDX">RDX</a></span> &lt;- (<span class="id"><a href="Values.html#Val.mulhs">Val.mulhs</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RAX">RAX</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pimulq_r">Pimulq_r</a></span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RAX">RAX</a></span> &lt;- (<span class="id"><a href="Values.html#Val.mull">Val.mull</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RAX">RAX</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#<span class="id"><a href="Asm.html#RDX">RDX</a></span> &lt;- (<span class="id"><a href="Values.html#Val.mullhs">Val.mullhs</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RAX">RAX</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmull_r">Pmull_r</a></span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RAX">RAX</a></span> &lt;- (<span class="id"><a href="Values.html#Val.mul">Val.mul</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RAX">RAX</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#<span class="id"><a href="Asm.html#RDX">RDX</a></span> &lt;- (<span class="id"><a href="Values.html#Val.mulhu">Val.mulhu</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RAX">RAX</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmulq_r">Pmulq_r</a></span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RAX">RAX</a></span> &lt;- (<span class="id"><a href="Values.html#Val.mull">Val.mull</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RAX">RAX</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#<span class="id"><a href="Asm.html#RDX">RDX</a></span> &lt;- (<span class="id"><a href="Values.html#Val.mullhu">Val.mullhu</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RAX">RAX</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pcltd">Pcltd</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RDX">RDX</a></span> &lt;- (<span class="id"><a href="Values.html#Val.shr">Val.shr</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RAX">RAX</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> 31))))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pcqto">Pcqto</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RDX">RDX</a></span> &lt;- (<span class="id"><a href="Values.html#Val.shrl">Val.shrl</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RAX">RAX</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> 63))))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pdivl">Pdivl</a></span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RDX">RDX</a></span>, <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RAX">RAX</a></span>, <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">nh</span>, <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">nl</span>, <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">d</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Integers.html#Int.divmodu2">Int.divmodu2</a></span> <span class="id">nh</span> <span class="id">nl</span> <span class="id">d</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">q</span>, <span class="id">r</span>) =&gt; <span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RAX">RAX</a></span> &lt;- (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">q</span>) #<span class="id"><a href="Asm.html#RDX">RDX</a></span> &lt;- (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">r</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pdivq">Pdivq</a></span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RDX">RDX</a></span>, <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RAX">RAX</a></span>, <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">nh</span>, <span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">nl</span>, <span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">d</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Integers.html#Int64.divmodu2">Int64.divmodu2</a></span> <span class="id">nh</span> <span class="id">nl</span> <span class="id">d</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">q</span>, <span class="id">r</span>) =&gt; <span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RAX">RAX</a></span> &lt;- (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">q</span>) #<span class="id"><a href="Asm.html#RDX">RDX</a></span> &lt;- (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">r</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pidivl">Pidivl</a></span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RDX">RDX</a></span>, <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RAX">RAX</a></span>, <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">nh</span>, <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">nl</span>, <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">d</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Integers.html#Int.divmods2">Int.divmods2</a></span> <span class="id">nh</span> <span class="id">nl</span> <span class="id">d</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">q</span>, <span class="id">r</span>) =&gt; <span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RAX">RAX</a></span> &lt;- (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">q</span>) #<span class="id"><a href="Asm.html#RDX">RDX</a></span> &lt;- (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">r</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pidivq">Pidivq</a></span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RDX">RDX</a></span>, <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RAX">RAX</a></span>, <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">nh</span>, <span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">nl</span>, <span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">d</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Integers.html#Int64.divmods2">Int64.divmods2</a></span> <span class="id">nh</span> <span class="id">nl</span> <span class="id">d</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id">q</span>, <span class="id">r</span>) =&gt; <span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RAX">RAX</a></span> &lt;- (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">q</span>) #<span class="id"><a href="Asm.html#RDX">RDX</a></span> &lt;- (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">r</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pandl_rr">Pandl_rr</a></span> <span class="id">rd</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.and">Val.and</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pandq_rr">Pandq_rr</a></span> <span class="id">rd</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.andl">Val.andl</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pandl_ri">Pandl_ri</a></span> <span class="id">rd</span> <span class="id">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.and">Val.and</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>)))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pandq_ri">Pandq_ri</a></span> <span class="id">rd</span> <span class="id">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.andl">Val.andl</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">n</span>)))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Porl_rr">Porl_rr</a></span> <span class="id">rd</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.or">Val.or</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Porq_rr">Porq_rr</a></span> <span class="id">rd</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.orl">Val.orl</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Porl_ri">Porl_ri</a></span> <span class="id">rd</span> <span class="id">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.or">Val.or</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>)))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Porq_ri">Porq_ri</a></span> <span class="id">rd</span> <span class="id">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.orl">Val.orl</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">n</span>)))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pxorl_r">Pxorl_r</a></span> <span class="id">rd</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- <span class="id"><a href="Values.html#Vzero">Vzero</a></span>)) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pxorq_r">Pxorq_r</a></span> <span class="id">rd</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pxorl_rr">Pxorl_rr</a></span> <span class="id">rd</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.xor">Val.xor</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pxorq_rr">Pxorq_rr</a></span> <span class="id">rd</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.xorl">Val.xorl</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pxorl_ri">Pxorl_ri</a></span> <span class="id">rd</span> <span class="id">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.xor">Val.xor</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>)))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pxorq_ri">Pxorq_ri</a></span> <span class="id">rd</span> <span class="id">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.xorl">Val.xorl</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">n</span>)))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pnotl">Pnotl</a></span> <span class="id">rd</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.notint">Val.notint</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pnotq">Pnotq</a></span> <span class="id">rd</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.notl">Val.notl</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Psall_rcl">Psall_rcl</a></span> <span class="id">rd</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.shl">Val.shl</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RCX">RCX</a></span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Psalq_rcl">Psalq_rcl</a></span> <span class="id">rd</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.shll">Val.shll</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RCX">RCX</a></span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Psall_ri">Psall_ri</a></span> <span class="id">rd</span> <span class="id">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.shl">Val.shl</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>)))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Psalq_ri">Psalq_ri</a></span> <span class="id">rd</span> <span class="id">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.shll">Val.shll</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>)))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pshrl_rcl">Pshrl_rcl</a></span> <span class="id">rd</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.shru">Val.shru</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RCX">RCX</a></span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pshrq_rcl">Pshrq_rcl</a></span> <span class="id">rd</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.shrlu">Val.shrlu</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RCX">RCX</a></span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pshrl_ri">Pshrl_ri</a></span> <span class="id">rd</span> <span class="id">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.shru">Val.shru</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>)))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pshrq_ri">Pshrq_ri</a></span> <span class="id">rd</span> <span class="id">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.shrlu">Val.shrlu</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>)))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Psarl_rcl">Psarl_rcl</a></span> <span class="id">rd</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.shr">Val.shr</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RCX">RCX</a></span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Psarq_rcl">Psarq_rcl</a></span> <span class="id">rd</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.shrl">Val.shrl</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RCX">RCX</a></span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Psarl_ri">Psarl_ri</a></span> <span class="id">rd</span> <span class="id">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.shr">Val.shr</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>)))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Psarq_ri">Psarq_ri</a></span> <span class="id">rd</span> <span class="id">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.shrl">Val.shrl</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>)))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pshld_ri">Pshld_ri</a></span> <span class="id">rd</span> <span class="id">r1</span> <span class="id">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.or">Val.or</a></span> (<span class="id"><a href="Values.html#Val.shl">Val.shl</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Values.html#Val.shru">Val.shru</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> (<span class="id"><a href="Integers.html#Int.sub">Int.sub</a></span> <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span> <span class="id">n</span>)))))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Prorl_ri">Prorl_ri</a></span> <span class="id">rd</span> <span class="id">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.ror">Val.ror</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>)))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Prorq_ri">Prorq_ri</a></span> <span class="id">rd</span> <span class="id">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.rorl">Val.rorl</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>)))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pcmpl_rr">Pcmpl_rr</a></span> <span class="id">r1</span> <span class="id">r2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="ASM_local.html#check_vundef">check_vundef</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r1</span>)(<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r2</span>) <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="AsmTSO.html#check_compare_ints_TSO">check_compare_ints_TSO</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r1</span>) (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r2</span>) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#compare_ints_TSO">compare_ints_TSO</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r1</span>) (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r2</span>) <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span>)) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>      <br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pcmpq_rr">Pcmpq_rr</a></span> <span class="id">r1</span> <span class="id">r2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="ASM_local.html#check_vundef">check_vundef</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r1</span>)(<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r2</span>) <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt;  <span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#compare_longs_TSO">compare_longs_TSO</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r1</span>) (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r2</span>) <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span>)) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pcmpl_ri">Pcmpl_ri</a></span> <span class="id">r1</span> <span class="id">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="ASM_local.html#check_vundef">check_vundef</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r1</span>)(<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>) <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="AsmTSO.html#check_compare_ints_TSO">check_compare_ints_TSO</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r1</span>) (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#compare_ints_TSO">compare_ints_TSO</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r1</span>) (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>) <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span>)) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pcmpq_ri">Pcmpq_ri</a></span> <span class="id">r1</span> <span class="id">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="ASM_local.html#check_vundef">check_vundef</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r1</span>)(<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">n</span>) <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt; <span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#compare_longs_TSO">compare_longs_TSO</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r1</span>) (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">n</span>) <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span>)) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Ptestl_rr">Ptestl_rr</a></span> <span class="id">r1</span> <span class="id">r2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="ASM_local.html#check_vundef">check_vundef</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r1</span>)(<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r2</span>) <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#compare_ints_TSO">compare_ints_TSO</a></span> (<span class="id"><a href="Values.html#Val.and">Val.and</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r1</span>) (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r2</span>)) <span class="id"><a href="Values.html#Vzero">Vzero</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span>)) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>      <br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Ptestq_rr">Ptestq_rr</a></span> <span class="id">r1</span> <span class="id">r2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="ASM_local.html#check_vundef">check_vundef</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r1</span>)(<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r2</span>) <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt; <span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#compare_longs_TSO">compare_longs_TSO</a></span> (<span class="id"><a href="Values.html#Val.andl">Val.andl</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r1</span>) (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r2</span>)) (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span>) <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span>)) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Ptestl_ri">Ptestl_ri</a></span> <span class="id">r1</span> <span class="id">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="ASM_local.html#check_vundef">check_vundef</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r1</span>)(<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>) <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#compare_ints_TSO">compare_ints_TSO</a></span> (<span class="id"><a href="Values.html#Val.and">Val.and</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r1</span>) (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>)) <span class="id"><a href="Values.html#Vzero">Vzero</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span>)) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Ptestq_ri">Ptestq_ri</a></span> <span class="id">r1</span> <span class="id">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="ASM_local.html#check_vundef">check_vundef</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r1</span>)(<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">n</span>) <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt; <span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#compare_longs_TSO">compare_longs_TSO</a></span> (<span class="id"><a href="Values.html#Val.andl">Val.andl</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r1</span>) (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">n</span>)) (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span>) <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span>)) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pcmov">Pcmov</a></span> <span class="id">c</span> <span class="id">rd</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Asm.html#eval_testcond">eval_testcond</a></span> <span class="id">c</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt; <span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt; <span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- <span class="id"><a href="Values.html#Vundef">Vundef</a></span>)) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Psetcc">Psetcc</a></span> <span class="id">c</span> <span class="id">rd</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.of_optbool">Val.of_optbool</a></span> (<span class="id"><a href="Asm.html#eval_testcond">eval_testcond</a></span> <span class="id">c</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>)))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
<div class="doc">Arithmetic operations over double-precision floats </div>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Paddd_ff">Paddd_ff</a></span> <span class="id">rd</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.addf">Val.addf</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Psubd_ff">Psubd_ff</a></span> <span class="id">rd</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.subf">Val.subf</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmuld_ff">Pmuld_ff</a></span> <span class="id">rd</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.mulf">Val.mulf</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pdivd_ff">Pdivd_ff</a></span> <span class="id">rd</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.divf">Val.divf</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pnegd">Pnegd</a></span> <span class="id">rd</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.negf">Val.negf</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pabsd">Pabsd</a></span> <span class="id">rd</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.absf">Val.absf</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pcomisd_ff">Pcomisd_ff</a></span> <span class="id">r1</span> <span class="id">r2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmLang.html#compare_floats">compare_floats</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r1</span>) (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r2</span>) <span class="id"><a href="AsmTSO.html#rs">rs</a></span>)) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pxorpd_f">Pxorpd_f</a></span> <span class="id">rd</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Vfloat">Vfloat</a></span> <span class="id"><a href="Floats.html#Float.zero">Float.zero</a></span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
<div class="doc">Arithmetic operations over single-precision floats </div>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Padds_ff">Padds_ff</a></span> <span class="id">rd</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.addfs">Val.addfs</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Psubs_ff">Psubs_ff</a></span> <span class="id">rd</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.subfs">Val.subfs</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmuls_ff">Pmuls_ff</a></span> <span class="id">rd</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.mulfs">Val.mulfs</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pdivs_ff">Pdivs_ff</a></span> <span class="id">rd</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.divfs">Val.divfs</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r1</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pnegs">Pnegs</a></span> <span class="id">rd</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.negfs">Val.negfs</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pabss">Pabss</a></span> <span class="id">rd</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Val.absfs">Val.absfs</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pcomiss_ff">Pcomiss_ff</a></span> <span class="id">r1</span> <span class="id">r2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmLang.html#compare_floats32">compare_floats32</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r1</span>) (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r2</span>) <span class="id"><a href="AsmTSO.html#rs">rs</a></span>)) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pxorps_f">Pxorps_f</a></span> <span class="id">rd</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- (<span class="id"><a href="Values.html#Vsingle">Vsingle</a></span> <span class="id"><a href="Floats.html#Float32.zero">Float32.zero</a></span>))) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
<div class="doc">Branches and calls </div>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pjmp_l">Pjmp_l</a></span> <span class="id">lbl</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#tso_goto_label">tso_goto_label</a></span> <span class="id"><a href="AsmTSO.html#f">f</a></span> <span class="id">lbl</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pjmp_s">Pjmp_s</a></span> <span class="id">id</span> <span class="id">sg</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#PC">PC</a></span> &lt;- (<span class="id"><a href="Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id">id</span> <span class="id"><a href="Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>)) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pjmp_r">Pjmp_r</a></span> <span class="id">r</span> <span class="id">sg</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#PC">PC</a></span> &lt;- (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r</span>)) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pjcc">Pjcc</a></span> <span class="id">cond</span> <span class="id">lbl</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Asm.html#eval_testcond">eval_testcond</a></span> <span class="id">cond</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt; <span class="id"><a href="AsmTSO.html#tso_goto_label">tso_goto_label</a></span> <span class="id"><a href="AsmTSO.html#f">f</a></span> <span class="id">lbl</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt; <span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>        <br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pjcc2">Pjcc2</a></span> <span class="id">cond1</span> <span class="id">cond2</span> <span class="id">lbl</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Asm.html#eval_testcond">eval_testcond</a></span> <span class="id">cond1</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>, <span class="id"><a href="Asm.html#eval_testcond">eval_testcond</a></span> <span class="id">cond2</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt; <span class="id"><a href="AsmTSO.html#tso_goto_label">tso_goto_label</a></span> <span class="id"><a href="AsmTSO.html#f">f</a></span> <span class="id">lbl</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> =&gt; <span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pjmptbl">Pjmptbl</a></span> <span class="id">r</span> <span class="id">tbl</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">r</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Coqlib.html#list_nth_z">list_nth_z</a></span> <span class="id">tbl</span> (<span class="id"><a href="Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">n</span>) <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">lbl</span> =&gt; <span class="id"><a href="AsmTSO.html#tso_goto_label">tso_goto_label</a></span> <span class="id"><a href="AsmTSO.html#f">f</a></span> <span class="id">lbl</span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> #<span class="id"><a href="Asm.html#RAX">RAX</a></span> &lt;- <span class="id"><a href="Values.html#Vundef">Vundef</a></span> #<span class="id"><a href="Asm.html#RDX">RDX</a></span> &lt;- <span class="id"><a href="Values.html#Vundef">Vundef</a></span>) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pcall_s">Pcall_s</a></span> <span class="id">id</span> <span class="id">sg</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RA">RA</a></span> &lt;- (<span class="id"><a href="Values.html#Val.offset_ptr">Val.offset_ptr</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#PC">PC</a></span> <span class="id"><a href="Integers.html#Ptrofs.one">Ptrofs.one</a></span>) #<span class="id"><a href="Asm.html#PC">PC</a></span> &lt;- (<span class="id"><a href="Globalenvs.html#Genv.symbol_address">Genv.symbol_address</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id">id</span> <span class="id"><a href="Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>)) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pcall_r">Pcall_r</a></span> <span class="id">r</span> <span class="id">sg</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RA">RA</a></span> &lt;- (<span class="id"><a href="Values.html#Val.offset_ptr">Val.offset_ptr</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#PC">PC</a></span> <span class="id"><a href="Integers.html#Ptrofs.one">Ptrofs.one</a></span>) #<span class="id"><a href="Asm.html#PC">PC</a></span> &lt;- (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r</span>)) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pret">Pret</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#PC">PC</a></span> &lt;- (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RA">RA</a></span>)) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
<div class="doc">Saving and restoring registers </div>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmov_rm_a">Pmov_rm_a</a></span> <span class="id">rd</span> <span class="id">a</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#exec_load_TSO">exec_load_TSO</a></span> (<span class="kwd">if</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="AST.html#Many64">Many64</a></span> <span class="kwd">else</span> <span class="id"><a href="AST.html#Many32">Many32</a></span>) <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">rd</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmov_mr_a">Pmov_mr_a</a></span> <span class="id">a</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#exec_store_TSO">exec_store_TSO</a></span> (<span class="kwd">if</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="AST.html#Many64">Many64</a></span> <span class="kwd">else</span> <span class="id"><a href="AST.html#Many32">Many32</a></span>) <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r1</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovsd_fm_a">Pmovsd_fm_a</a></span> <span class="id">rd</span> <span class="id">a</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#exec_load_TSO">exec_load_TSO</a></span> <span class="id"><a href="AST.html#Many64">Many64</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">rd</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovsd_mf_a">Pmovsd_mf_a</a></span> <span class="id">a</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#exec_store_TSO">exec_store_TSO</a></span> <span class="id"><a href="AST.html#Many64">Many64</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r1</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span><br/>
<div class="doc">Pseudo-instructions </div>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Plabel">Plabel</a></span> <span class="id">lbl</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pallocframe">Pallocframe</a></span> <span class="id">sz</span> <span class="id">ofs_rs</span> <span class="id">ofs_link</span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pfreeframe">Pfreeframe</a></span> <span class="id">sz</span> <span class="id">ofs_ra</span> <span class="id">ofs_link</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="TSOMem.html#tsoloadv">tsoloadv</a></span> <span class="id"><a href="AST.html#Mptr">Mptr</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> (<span class="id"><a href="Values.html#Val.offset_ptr">Val.offset_ptr</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RSP">RSP</a></span> <span class="id">ofs_ra</span>) <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">ra</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="TSOMem.html#tsoloadv">tsoloadv</a></span> <span class="id"><a href="AST.html#Mptr">Mptr</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> (<span class="id"><a href="Values.html#Val.offset_ptr">Val.offset_ptr</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RSP">RSP</a></span> <span class="id">ofs_link</span>) <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">sp</span> =&gt;  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RSP">RSP</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">stk</span> <span class="id">ofs</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="TSOMem.html#tsofree">tsofree</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="id">stk</span> 0 <span class="id">sz</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">bm</span>' =&gt; <span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RSP">RSP</a></span> &lt;- <span class="id">sp</span> #<span class="id"><a href="Asm.html#RA">RA</a></span> &lt;- <span class="id">ra</span>)) <span class="id">bm</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pbuiltin">Pbuiltin</a></span> <span class="id">ef</span> <span class="id">args</span> <span class="id">res</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span>                             <span class="docright">(* treated specially below  *)</span><br/>
<div class="doc">The following instructions and directives are not generated
      directly by <span class="bracket"><span class="id">Asmgen</span></span>, so we do not model them. </div>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Padcl_ri">Padcl_ri</a></span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Padcl_rr">Padcl_rr</a></span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Paddl_mi">Paddl_mi</a></span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Paddl_rr">Paddl_rr</a></span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pbsfl">Pbsfl</a></span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pbsfq">Pbsfq</a></span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pbsrl">Pbsrl</a></span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pbsrq">Pbsrq</a></span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pbswap64">Pbswap64</a></span> <span class="id">_</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pbswap32">Pbswap32</a></span> <span class="id">_</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pbswap16">Pbswap16</a></span> <span class="id">_</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pcfi_adjust">Pcfi_adjust</a></span> <span class="id">_</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pfmadd132">Pfmadd132</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pfmadd213">Pfmadd213</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pfmadd231">Pfmadd231</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pfmsub132">Pfmsub132</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pfmsub213">Pfmsub213</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pfmsub231">Pfmsub231</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pfnmadd132">Pfnmadd132</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pfnmadd213">Pfnmadd213</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pfnmadd231">Pfnmadd231</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pfnmsub132">Pfnmsub132</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pfnmsub213">Pfnmsub213</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pfnmsub231">Pfnmsub231</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmaxsd">Pmaxsd</a></span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pminsd">Pminsd</a></span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovb_rm">Pmovb_rm</a></span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovsq_rm">Pmovsq_rm</a></span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovsq_mr">Pmovsq_mr</a></span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovsb">Pmovsb</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovsw">Pmovsw</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovw_rm">Pmovw_rm</a></span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Prep_movsl">Prep_movsl</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Psbbl_rr">Psbbl_rr</a></span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Psqrtsd">Psqrtsd</a></span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Psubl_ri">Psubl_ri</a></span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Psubq_ri">Psubq_ri</a></span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Plock_movl_rm">Plock_movl_rm</a></span> <span class="id">rd</span> <span class="id">r2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="TSOMem.html#mktsofmem">mktsofmem</a></span> <span class="id">bf</span> <span class="id">m</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">bf</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#exec_load_TSO">exec_load_TSO</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="id">r2</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">rd</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Plock_xchg">Plock_xchg</a></span> <span class="id">a</span> <span class="id">rd</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="TSOMem.html#mktsofmem">mktsofmem</a></span> <span class="id">bf</span> <span class="id">m</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">bf</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="FMemory.html#Mem.loadv">Mem.loadv</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> <span class="id">m</span> (<span class="id"><a href="ASM_local.html#eval_addrmode">eval_addrmode</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>) <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="FMemory.html#Mem.storev">Mem.storev</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> <span class="id">m</span> (<span class="id"><a href="ASM_local.html#eval_addrmode">eval_addrmode</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>) (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">rd</span>) <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m</span>' =&gt; <span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id">rd</span> &lt;- <span class="id">v</span>)) (<span class="id"><a href="TSOMem.html#mktsofmem">mktsofmem</a></span> <span class="id">bf</span> <span class="id">m</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>  <br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Plock_cmpxchg">Plock_cmpxchg</a></span> <span class="id">a</span> <span class="id">rd</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="TSOMem.html#mktsofmem">mktsofmem</a></span> <span class="id">bf</span> <span class="id">m</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">bf</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="FMemory.html#Mem.loadv">Mem.loadv</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> <span class="id">m</span> (<span class="id"><a href="ASM_local.html#eval_addrmode">eval_addrmode</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>) <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span> (<span class="id"><a href="FMemory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id">m</span>) <span class="id"><a href="Integers.html#Ceq">Ceq</a></span> <span class="id">v</span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RAX">RAX</a></span>) <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="FMemory.html#Mem.storev">Mem.storev</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> <span class="id">m</span> (<span class="id"><a href="ASM_local.html#eval_addrmode">eval_addrmode</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>) (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">rd</span>) <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m</span>' =&gt;<br/>
<div class="doc">TODO: Should this instruction invalidate some registers? </div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> ((<span class="id"><a href="AsmTSO.html#rs">rs</a></span># (<span class="id"><a href="Asm.html#CR">CR</a></span> <span class="id"><a href="Asm.html#ZF">ZF</a></span>) &lt;- <span class="id"><a href="Values.html#Vtrue">Vtrue</a></span>))) (<span class="id"><a href="TSOMem.html#mktsofmem">mktsofmem</a></span> <span class="id">bf</span> <span class="id">m</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> ((<span class="id"><a href="AsmTSO.html#rs">rs</a></span> # (<span class="id"><a href="Asm.html#CR">CR</a></span> <span class="id"><a href="Asm.html#ZF">ZF</a></span>) &lt;- <span class="id"><a href="Values.html#Vfalse">Vfalse</a></span>) # <span class="id"><a href="Asm.html#RAX">RAX</a></span> &lt;- <span class="id">v</span>)) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span>  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Plock_dec">Plock_dec</a></span> <span class="id">a</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="TSOMem.html#mktsofmem">mktsofmem</a></span> <span class="id">bf</span> <span class="id">m</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">bf</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="FMemory.html#Mem.loadv">Mem.loadv</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> <span class="id">m</span> (<span class="id"><a href="ASM_local.html#eval_addrmode">eval_addrmode</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>) <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">v</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">v</span>' := <span class="id"><a href="Values.html#Val.sub">Val.sub</a></span> <span class="id">v</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="Integers.html#Int.one">Int.one</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="FMemory.html#Mem.storev">Mem.storev</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> <span class="id">m</span> (<span class="id"><a href="ASM_local.html#eval_addrmode">eval_addrmode</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>) <span class="id">v</span>' <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m</span>' =&gt; <span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#dec_upd_flag">dec_upd_flag</a></span> <span class="id">n</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>)) (<span class="id"><a href="TSOMem.html#mktsofmem">mktsofmem</a></span> <span class="id">bf</span> <span class="id">m</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pjns">Pjns</a></span> <span class="id">lbl</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id"><a href="Asm.html#SF">SF</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vundef">Vundef</a></span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id">n</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span> <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#tso_goto_label">tso_goto_label</a></span> <span class="id"><a href="AsmTSO.html#f">f</a></span> <span class="id">lbl</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Next</span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vfloat">Vfloat</a></span> <span class="id">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vsingle">Vsingle</a></span> <span class="id">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="AsmTSO.html#Stuck">Stuck</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<div class="doc">x86-TSO alloc footprint </div>
<span class="kwd">Definition</span> <span class="id"><a name="tsoalloc_fp">tsoalloc_fp</a></span> (<span class="id">stk</span> : <span class="id"><a href="Values.html#block">block</a></span>) (<span class="id">lo</span> <span class="id">hi</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="FMemOpFP.html#uncheck_alloc_fp">uncheck_alloc_fp</a></span> <span class="id"><a href="AsmTSO.html#stk">stk</a></span> <span class="id"><a href="AsmTSO.html#lo">lo</a></span> <span class="id"><a href="AsmTSO.html#hi">hi</a></span>.<br/>
<br/>
<div class="doc">compare footprint </div>
<span class="kwd">Definition</span> <span class="id"><a name="tso_weak_valid_pointer_fp">tso_weak_valid_pointer_fp</a></span> := <br/>
&nbsp;&nbsp;<span class="kwd">fun</span> (<span class="id">bm</span> : <span class="id"><a href="TSOMem.html#tsofmem">tsofmem</a></span>) (<span class="id">b</span> : <span class="id"><a href="Values.html#block">block</a></span>) (<span class="id">ofs</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="TSOMem.html#tso_valid_pointer">tso_valid_pointer</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="id"><a href="AsmTSO.html#b">b</a></span> <span class="id"><a href="AsmTSO.html#ofs">ofs</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="FMemOpFP.html#valid_pointer_fp">valid_pointer_fp</a></span> <span class="id"><a href="AsmTSO.html#b">b</a></span> <span class="id"><a href="AsmTSO.html#ofs">ofs</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.Build_t">FP.cmps</a></span> := <span class="id"><a href="FMemOpFP.html#range_locset">range_locset</a></span> <span class="id"><a href="AsmTSO.html#b">b</a></span> (<span class="id"><a href="AsmTSO.html#ofs">ofs</a></span> - 1) 2;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">FP.reads</span> := <span class="id"><a href="Footprint.html#Locs.emp">Locs.emp</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">FP.writes</span> := <span class="id"><a href="Footprint.html#Locs.emp">Locs.emp</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">FP.frees</span> := <span class="id"><a href="Footprint.html#Locs.emp">Locs.emp</a></span> |}.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="tso_cmpu_bool_fp_total">tso_cmpu_bool_fp_total</a></span> (<span class="id">bm</span>: <span class="id"><a href="TSOMem.html#tsofmem">tsofmem</a></span>) (<span class="id">c</span>: <span class="id"><a href="Integers.html#comparison">comparison</a></span>) (<span class="id">v1</span> <span class="id">v2</span>: <span class="id"><a href="Values.html#val">val</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#footprint">footprint</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="AsmTSO.html#v1">v1</a></span>, <span class="id"><a href="AsmTSO.html#v2">v2</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">_</span>, <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">_</span> =&gt; <span class="id"><a href="AsmTSO.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n1</span>, <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b2</span> <span class="id">ofs2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="AsmTSO.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="kwd">if</span> <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id">n1</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="kwd">if</span> <span class="id"><a href="Values.html#Val.cmp_different_blocks">Val.cmp_different_blocks</a></span> <span class="id"><a href="AsmTSO.html#c">c</a></span>                   <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> (<span class="id"><a href="AsmTSO.html#tso_weak_valid_pointer_fp">tso_weak_valid_pointer_fp</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="id">b2</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="AsmTSO.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="AsmTSO.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b1</span> <span class="id">ofs1</span>, <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b2</span> <span class="id">ofs2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="AsmTSO.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="kwd">if</span> <span class="id"><a href="Values.html#eq_block">eq_block</a></span> <span class="id">b1</span> <span class="id">b2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="AsmTSO.html#tso_weak_valid_pointer_fp">tso_weak_valid_pointer_fp</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="id">b1</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs1</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="AsmTSO.html#tso_weak_valid_pointer_fp">tso_weak_valid_pointer_fp</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="id">b2</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs2</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="kwd">if</span> <span class="id"><a href="Values.html#Val.cmp_different_blocks">Val.cmp_different_blocks</a></span> <span class="id"><a href="AsmTSO.html#c">c</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="FMemOpFP.html#valid_pointer_fp">valid_pointer_fp</a></span> <span class="id">b1</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs1</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="FMemOpFP.html#valid_pointer_fp">valid_pointer_fp</a></span> <span class="id">b2</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs2</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="AsmTSO.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b1</span> <span class="id">ofs1</span>, <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="AsmTSO.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="kwd">if</span> <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id">n2</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="kwd">if</span> <span class="id"><a href="Values.html#Val.cmp_different_blocks">Val.cmp_different_blocks</a></span> <span class="id"><a href="AsmTSO.html#c">c</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> (<span class="id"><a href="AsmTSO.html#tso_weak_valid_pointer_fp">tso_weak_valid_pointer_fp</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="id">b1</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs1</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="AsmTSO.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="AsmTSO.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="AsmTSO.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="tso_cmplu_bool_fp_total">tso_cmplu_bool_fp_total</a></span> (<span class="id">bm</span>: <span class="id"><a href="TSOMem.html#tsofmem">tsofmem</a></span>) (<span class="id">c</span>: <span class="id"><a href="Integers.html#comparison">comparison</a></span>) (<span class="id">v1</span> <span class="id">v2</span>: <span class="id"><a href="Values.html#val">val</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#footprint">footprint</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="AsmTSO.html#v1">v1</a></span>, <span class="id"><a href="AsmTSO.html#v2">v2</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">n1</span>, <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b2</span> <span class="id">ofs2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="AsmTSO.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="kwd">if</span> <span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">n1</span> <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="kwd">if</span> <span class="id"><a href="Values.html#Val.cmp_different_blocks">Val.cmp_different_blocks</a></span> <span class="id"><a href="AsmTSO.html#c">c</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> (<span class="id"><a href="AsmTSO.html#tso_weak_valid_pointer_fp">tso_weak_valid_pointer_fp</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="id">b2</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs2</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="AsmTSO.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="AsmTSO.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b1</span> <span class="id">ofs1</span>, <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b2</span> <span class="id">ofs2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="AsmTSO.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="kwd">if</span> <span class="id"><a href="Values.html#eq_block">eq_block</a></span> <span class="id">b1</span> <span class="id">b2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="AsmTSO.html#tso_weak_valid_pointer_fp">tso_weak_valid_pointer_fp</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="id">b1</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs1</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="AsmTSO.html#tso_weak_valid_pointer_fp">tso_weak_valid_pointer_fp</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="id">b2</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs2</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="kwd">if</span> <span class="id"><a href="Values.html#Val.cmp_different_blocks">Val.cmp_different_blocks</a></span> <span class="id"><a href="AsmTSO.html#c">c</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="FMemOpFP.html#valid_pointer_fp">valid_pointer_fp</a></span> <span class="id">b1</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs1</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="FMemOpFP.html#valid_pointer_fp">valid_pointer_fp</a></span> <span class="id">b2</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs2</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="AsmTSO.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b1</span> <span class="id">ofs1</span>, <span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">n2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#negb">negb</a></span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="AsmTSO.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="kwd">if</span> <span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">n2</span> <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="kwd">if</span> <span class="id"><a href="Values.html#Val.cmp_different_blocks">Val.cmp_different_blocks</a></span> <span class="id"><a href="AsmTSO.html#c">c</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> (<span class="id"><a href="AsmTSO.html#tso_weak_valid_pointer_fp">tso_weak_valid_pointer_fp</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="id">b1</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">ofs1</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="AsmTSO.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="AsmTSO.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="AsmTSO.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="compare_ints_TSO_fp">compare_ints_TSO_fp</a></span> (<span class="id">x</span> <span class="id">y</span> : <span class="id"><a href="Values.html#val">val</a></span>) (<span class="id">bm</span> : <span class="id"><a href="TSOMem.html#tsofmem">tsofmem</a></span>) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="AsmTSO.html#tso_cmpu_bool_fp_total">tso_cmpu_bool_fp_total</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="id"><a href="Integers.html#Ceq">Ceq</a></span> <span class="id"><a href="AsmTSO.html#x">x</a></span> <span class="id"><a href="AsmTSO.html#y">y</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="AsmTSO.html#tso_cmpu_bool_fp_total">tso_cmpu_bool_fp_total</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="id"><a href="Integers.html#Clt">Clt</a></span> <span class="id"><a href="AsmTSO.html#x">x</a></span> <span class="id"><a href="AsmTSO.html#y">y</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="compare_longs_TSO_fp">compare_longs_TSO_fp</a></span> (<span class="id">x</span> <span class="id">y</span> : <span class="id"><a href="Values.html#val">val</a></span>) (<span class="id">bm</span> : <span class="id"><a href="TSOMem.html#tsofmem">tsofmem</a></span>) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="AsmTSO.html#tso_cmplu_bool_fp_total">tso_cmplu_bool_fp_total</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="id"><a href="Integers.html#Ceq">Ceq</a></span> <span class="id"><a href="AsmTSO.html#x">x</a></span> <span class="id"><a href="AsmTSO.html#y">y</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="AsmTSO.html#tso_cmplu_bool_fp_total">tso_cmplu_bool_fp_total</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="id"><a href="Integers.html#Clt">Clt</a></span> <span class="id"><a href="AsmTSO.html#x">x</a></span> <span class="id"><a href="AsmTSO.html#y">y</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
<div class="doc">footprint of <span class="bracket"><span class="id">exec_inst_TSO</span></span> </div>
<span class="kwd">Definition</span> <span class="id"><a name="exec_instr_TSO_fp">exec_instr_TSO_fp</a></span> (<span class="id">f</span> : <span class="id"><a href="ASM_local.html#function">function</a></span>) (<span class="id">i</span> : <span class="id"><a href="ASM_local.html#instruction">instruction</a></span>) (<span class="id">rs</span> : <span class="id"><a href="Asm.html#regset">regset</a></span>) (<span class="id">bm</span> : <span class="id"><a href="TSOMem.html#tsofmem">tsofmem</a></span>) : <span class="id"><a href="AsmTSO.html#footprint">footprint</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="AsmTSO.html#i">i</a></span> <span class="kwd">with</span><br/>
<div class="doc">Moves </div>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovl_rm">Pmovl_rm</a></span> <span class="id">rd</span> <span class="id">a</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmLang.html#exec_load_fp">exec_load_fp</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovq_rm">Pmovq_rm</a></span> <span class="id">rd</span> <span class="id">a</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmLang.html#exec_load_fp">exec_load_fp</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id"><a href="AST.html#Mint64">Mint64</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovl_mr">Pmovl_mr</a></span> <span class="id">a</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmLang.html#exec_store_fp">exec_store_fp</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovq_mr">Pmovq_mr</a></span> <span class="id">a</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmLang.html#exec_store_fp">exec_store_fp</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id"><a href="AST.html#Mint64">Mint64</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovsd_fm">Pmovsd_fm</a></span> <span class="id">rd</span> <span class="id">a</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmLang.html#exec_load_fp">exec_load_fp</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id"><a href="AST.html#Mfloat64">Mfloat64</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovsd_mf">Pmovsd_mf</a></span> <span class="id">a</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmLang.html#exec_store_fp">exec_store_fp</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id"><a href="AST.html#Mfloat64">Mfloat64</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovss_fm">Pmovss_fm</a></span> <span class="id">rd</span> <span class="id">a</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmLang.html#exec_load_fp">exec_load_fp</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id"><a href="AST.html#Mfloat32">Mfloat32</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovss_mf">Pmovss_mf</a></span> <span class="id">a</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmLang.html#exec_store_fp">exec_store_fp</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id"><a href="AST.html#Mfloat32">Mfloat32</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pfldl_m">Pfldl_m</a></span> <span class="id">a</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmLang.html#exec_load_fp">exec_load_fp</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id"><a href="AST.html#Mfloat64">Mfloat64</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pfstpl_m">Pfstpl_m</a></span> <span class="id">a</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmLang.html#exec_store_fp">exec_store_fp</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id"><a href="AST.html#Mfloat64">Mfloat64</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pflds_m">Pflds_m</a></span> <span class="id">a</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmLang.html#exec_load_fp">exec_load_fp</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id"><a href="AST.html#Mfloat32">Mfloat32</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pfstps_m">Pfstps_m</a></span> <span class="id">a</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmLang.html#exec_store_fp">exec_store_fp</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id"><a href="AST.html#Mfloat32">Mfloat32</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span><br/>
<div class="doc">Moves with conversion </div>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovb_mr">Pmovb_mr</a></span> <span class="id">a</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmLang.html#exec_store_fp">exec_store_fp</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id"><a href="AST.html#Mint8unsigned">Mint8unsigned</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovw_mr">Pmovw_mr</a></span> <span class="id">a</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmLang.html#exec_store_fp">exec_store_fp</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id"><a href="AST.html#Mint16unsigned">Mint16unsigned</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovzb_rm">Pmovzb_rm</a></span> <span class="id">rd</span> <span class="id">a</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmLang.html#exec_load_fp">exec_load_fp</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id"><a href="AST.html#Mint8unsigned">Mint8unsigned</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovsb_rm">Pmovsb_rm</a></span> <span class="id">rd</span> <span class="id">a</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmLang.html#exec_load_fp">exec_load_fp</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id"><a href="AST.html#Mint8signed">Mint8signed</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovzw_rm">Pmovzw_rm</a></span> <span class="id">rd</span> <span class="id">a</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmLang.html#exec_load_fp">exec_load_fp</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id"><a href="AST.html#Mint16unsigned">Mint16unsigned</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovsw_rm">Pmovsw_rm</a></span> <span class="id">rd</span> <span class="id">a</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmLang.html#exec_load_fp">exec_load_fp</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id"><a href="AST.html#Mint16signed">Mint16signed</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span><br/>
<div class="doc">Integer arithmetic </div>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pcmpl_rr">Pcmpl_rr</a></span> <span class="id">r1</span> <span class="id">r2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#compare_ints_TSO_fp">compare_ints_TSO_fp</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r1</span>) (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r2</span>) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pcmpq_rr">Pcmpq_rr</a></span> <span class="id">r1</span> <span class="id">r2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#compare_longs_TSO_fp">compare_longs_TSO_fp</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r1</span>) (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r2</span>) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pcmpl_ri">Pcmpl_ri</a></span> <span class="id">r1</span> <span class="id">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#compare_ints_TSO_fp">compare_ints_TSO_fp</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r1</span>) (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pcmpq_ri">Pcmpq_ri</a></span> <span class="id">r1</span> <span class="id">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#compare_longs_TSO_fp">compare_longs_TSO_fp</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r1</span>) (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">n</span>) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Ptestl_rr">Ptestl_rr</a></span> <span class="id">r1</span> <span class="id">r2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#compare_ints_TSO_fp">compare_ints_TSO_fp</a></span> (<span class="id"><a href="Values.html#Val.and">Val.and</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r1</span>) (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r2</span>)) <span class="id"><a href="Values.html#Vzero">Vzero</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Ptestq_rr">Ptestq_rr</a></span> <span class="id">r1</span> <span class="id">r2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#compare_longs_TSO_fp">compare_longs_TSO_fp</a></span> (<span class="id"><a href="Values.html#Val.andl">Val.andl</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r1</span>) (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r2</span>)) (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span>) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Ptestl_ri">Ptestl_ri</a></span> <span class="id">r1</span> <span class="id">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#compare_ints_TSO_fp">compare_ints_TSO_fp</a></span> (<span class="id"><a href="Values.html#Val.and">Val.and</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r1</span>) (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>)) <span class="id"><a href="Values.html#Vzero">Vzero</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Ptestq_ri">Ptestq_ri</a></span> <span class="id">r1</span> <span class="id">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#compare_longs_TSO_fp">compare_longs_TSO_fp</a></span> (<span class="id"><a href="Values.html#Val.andl">Val.andl</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id">r1</span>) (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">n</span>)) (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span>) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
<div class="doc">Saving and restoring registers </div>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmov_rm_a">Pmov_rm_a</a></span> <span class="id">rd</span> <span class="id">a</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmLang.html#exec_load_fp">exec_load_fp</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> (<span class="kwd">if</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="AST.html#Many64">Many64</a></span> <span class="kwd">else</span> <span class="id"><a href="AST.html#Many32">Many32</a></span>) <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmov_mr_a">Pmov_mr_a</a></span> <span class="id">a</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmLang.html#exec_store_fp">exec_store_fp</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> (<span class="kwd">if</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="AST.html#Many64">Many64</a></span> <span class="kwd">else</span> <span class="id"><a href="AST.html#Many32">Many32</a></span>) <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovsd_fm_a">Pmovsd_fm_a</a></span> <span class="id">rd</span> <span class="id">a</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmLang.html#exec_load_fp">exec_load_fp</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id"><a href="AST.html#Many64">Many64</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pmovsd_mf_a">Pmovsd_mf_a</a></span> <span class="id">a</span> <span class="id">r1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmLang.html#exec_store_fp">exec_store_fp</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id"><a href="AST.html#Many64">Many64</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <br/>
<div class="doc">Pseudo-instructions </div>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pallocframe">Pallocframe</a></span> <span class="id">sz</span> <span class="id">ofs_ra</span> <span class="id">ofs_link</span> =&gt; <span class="id"><a href="AsmTSO.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pfreeframe">Pfreeframe</a></span> <span class="id">sz</span> <span class="id">ofs_ra</span> <span class="id">ofs_link</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RSP">RSP</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">stk</span> <span class="id">ofs</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="FMemOpFP.html#loadv_fp">loadv_fp</a></span> <span class="id"><a href="AST.html#Mptr">Mptr</a></span> (<span class="id"><a href="Values.html#Val.offset_ptr">Val.offset_ptr</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RSP">RSP</a></span> <span class="id">ofs_ra</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="FMemOpFP.html#loadv_fp">loadv_fp</a></span> <span class="id"><a href="AST.html#Mptr">Mptr</a></span> (<span class="id"><a href="Values.html#Val.offset_ptr">Val.offset_ptr</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RSP">RSP</a></span> <span class="id">ofs_link</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="FMemOpFP.html#free_fp">free_fp</a></span> <span class="id">stk</span> 0 <span class="id">sz</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="AsmTSO.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
<br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Plock_movl_rm">Plock_movl_rm</a></span> <span class="id">rd</span> <span class="id">r2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmLang.html#exec_load_fp">exec_load_fp</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> <span class="id">r2</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span><br/>
<div class="doc">exchange contents of a and rd </div>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Plock_xchg">Plock_xchg</a></span> <span class="id">a</span> <span class="id">rd</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="FMemOpFP.html#loadv_fp">loadv_fp</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> (<span class="id"><a href="ASM_local.html#eval_addrmode">eval_addrmode</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="FMemOpFP.html#storev_fp">storev_fp</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> (<span class="id"><a href="ASM_local.html#eval_addrmode">eval_addrmode</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>))<br/>
<div class="doc">CAS </div>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Plock_cmpxchg">Plock_cmpxchg</a></span> <span class="id">a</span> <span class="id">rd</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="TSOMem.html#mktsofmem">mktsofmem</a></span> <span class="id">bf</span> <span class="id">m</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">bf</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="FMemory.html#Mem.loadv">Mem.loadv</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> <span class="id">m</span> (<span class="id"><a href="ASM_local.html#eval_addrmode">eval_addrmode</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>) <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span> (<span class="id"><a href="FMemory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id">m</span>) <span class="id"><a href="Integers.html#Ceq">Ceq</a></span> <span class="id">v</span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RAX">RAX</a></span>) <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="FMemOpFP.html#loadv_fp">loadv_fp</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> (<span class="id"><a href="ASM_local.html#eval_addrmode">eval_addrmode</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="ASM_local.html#of_optfp">of_optfp</a></span>(<span class="id"><a href="Cop_fp.html#cmpu_bool_fp">Cop_fp.cmpu_bool_fp</a></span> <span class="id">m</span> <span class="id"><a href="Integers.html#Ceq">Ceq</a></span> <span class="id">v</span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RAX">RAX</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="FMemOpFP.html#storev_fp">storev_fp</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> (<span class="id"><a href="ASM_local.html#eval_addrmode">eval_addrmode</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="FMemOpFP.html#loadv_fp">loadv_fp</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> (<span class="id"><a href="ASM_local.html#eval_addrmode">eval_addrmode</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>))(<span class="id"><a href="ASM_local.html#of_optfp">of_optfp</a></span> (<span class="id"><a href="Cop_fp.html#cmpu_bool_fp">Cop_fp.cmpu_bool_fp</a></span> <span class="id">m</span> <span class="id"><a href="Integers.html#Ceq">Ceq</a></span> <span class="id">v</span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RAX">RAX</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="FMemOpFP.html#loadv_fp">loadv_fp</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> (<span class="id"><a href="ASM_local.html#eval_addrmode">eval_addrmode</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="AsmTSO.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
<br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Plock_dec">Plock_dec</a></span> <span class="id">a</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="TSOMem.html#mktsofmem">mktsofmem</a></span> <span class="id">bf</span> <span class="id">m</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">bf</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="FMemOpFP.html#loadv_fp">loadv_fp</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> (<span class="id"><a href="ASM_local.html#eval_addrmode">eval_addrmode</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="FMemOpFP.html#storev_fp">storev_fp</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> (<span class="id"><a href="ASM_local.html#eval_addrmode">eval_addrmode</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id">a</span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="AsmTSO.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="AsmTSO.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<div class="doc">x86-TSO extcall args </div>
<span class="kwd">Inductive</span> <span class="id"><a name="extcall_arg">extcall_arg</a></span> (<span class="id">rs</span>: <span class="id"><a href="Asm.html#regset">regset</a></span>) (<span class="id">m</span>: <span class="id"><a href="TSOMem.html#tsofmem">tsofmem</a></span>): <span class="id"><a href="Locations.html#loc">loc</a></span> -&gt; <span class="id"><a href="Values.html#val">val</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="extcall_arg_reg">extcall_arg_reg</a></span>: <span class="kwd">forall</span> <span class="id">r</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#extcall_arg">extcall_arg</a></span> <span class="id">rs</span> <span class="id">m</span> (<span class="id"><a href="Locations.html#R">R</a></span> <span class="id"><a href="AsmTSO.html#r">r</a></span>) (<span class="id">rs</span> (<span class="id"><a href="Asm.html#preg_of">preg_of</a></span> <span class="id"><a href="AsmTSO.html#r">r</a></span>))<br/>
&nbsp;&nbsp;| <span class="id"><a name="extcall_arg_stack">extcall_arg_stack</a></span>: <span class="kwd">forall</span> <span class="id">ofs</span> <span class="id">ty</span> <span class="id">bofs</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#bofs">bofs</a></span> = <span class="id"><a href="Stacklayout.html#fe_ofs_arg">Stacklayout.fe_ofs_arg</a></span> + 4 * <span class="id"><a href="AsmTSO.html#ofs">ofs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="TSOMem.html#tsoloadv">tsoloadv</a></span> (<span class="id"><a href="AST.html#chunk_of_type">chunk_of_type</a></span> <span class="id"><a href="AsmTSO.html#ty">ty</a></span>) <span class="id">m</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Values.html#Val.offset_ptr">Val.offset_ptr</a></span> (<span class="id">rs</span> (<span class="id"><a href="Asm.html#IR">IR</a></span> <span class="id"><a href="Asm.html#RSP">RSP</a></span>)) (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id"><a href="AsmTSO.html#bofs">bofs</a></span>)) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="AsmTSO.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#extcall_arg">extcall_arg</a></span> <span class="id">rs</span> <span class="id">m</span> (<span class="id"><a href="Locations.html#S">S</a></span> <span class="id"><a href="Locations.html#Outgoing">Outgoing</a></span> <span class="id"><a href="AsmTSO.html#ofs">ofs</a></span> <span class="id"><a href="AsmTSO.html#ty">ty</a></span>) <span class="id"><a href="AsmTSO.html#v">v</a></span>.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="extcall_arg_pair">extcall_arg_pair</a></span> (<span class="id">rs</span>: <span class="id"><a href="Asm.html#regset">regset</a></span>) (<span class="id">m</span>: <span class="id"><a href="TSOMem.html#tsofmem">tsofmem</a></span>): <span class="id"><a href="AST.html#rpair">rpair</a></span> <span class="id"><a href="Locations.html#loc">loc</a></span> -&gt; <span class="id"><a href="Values.html#val">val</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="extcall_arg_one">extcall_arg_one</a></span>: <span class="kwd">forall</span> <span class="id">l</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#extcall_arg">extcall_arg</a></span> <span class="id">rs</span> <span class="id">m</span> <span class="id"><a href="AsmTSO.html#l">l</a></span> <span class="id"><a href="AsmTSO.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#extcall_arg_pair">extcall_arg_pair</a></span> <span class="id">rs</span> <span class="id">m</span> (<span class="id"><a href="AST.html#One">One</a></span> <span class="id"><a href="AsmTSO.html#l">l</a></span>) <span class="id"><a href="AsmTSO.html#v">v</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="extcall_arg_twolong">extcall_arg_twolong</a></span>: <span class="kwd">forall</span> <span class="id">hi</span> <span class="id">lo</span> <span class="id">vhi</span> <span class="id">vlo</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#extcall_arg">extcall_arg</a></span> <span class="id">rs</span> <span class="id">m</span> <span class="id"><a href="AsmTSO.html#hi">hi</a></span> <span class="id"><a href="AsmTSO.html#vhi">vhi</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#extcall_arg">extcall_arg</a></span> <span class="id">rs</span> <span class="id">m</span> <span class="id"><a href="AsmTSO.html#lo">lo</a></span> <span class="id"><a href="AsmTSO.html#vlo">vlo</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#extcall_arg_pair">extcall_arg_pair</a></span> <span class="id">rs</span> <span class="id">m</span> (<span class="id"><a href="AST.html#Twolong">Twolong</a></span> <span class="id"><a href="AsmTSO.html#hi">hi</a></span> <span class="id"><a href="AsmTSO.html#lo">lo</a></span>) (<span class="id"><a href="Values.html#Val.longofwords">Val.longofwords</a></span> <span class="id"><a href="AsmTSO.html#vhi">vhi</a></span> <span class="id"><a href="AsmTSO.html#vlo">vlo</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="extcall_arguments">extcall_arguments</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">rs</span>: <span class="id"><a href="Asm.html#regset">regset</a></span>) (<span class="id">m</span>: <span class="id"><a href="TSOMem.html#tsofmem">tsofmem</a></span>) (<span class="id">sg</span>: <span class="id"><a href="AST.html#signature">signature</a></span>) (<span class="id">args</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Values.html#val">val</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="Coqlib.html#list_forall2">list_forall2</a></span> (<span class="id"><a href="AsmTSO.html#extcall_arg_pair">extcall_arg_pair</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id"><a href="AsmTSO.html#m">m</a></span>) (<span class="id"><a href="Conventions1.html#loc_arguments">loc_arguments</a></span> <span class="id"><a href="AsmTSO.html#sg">sg</a></span>) <span class="id"><a href="AsmTSO.html#args">args</a></span>.<br/>
<br/>
<div class="doc">TSOMem version of store_args </div>
<span class="kwd">Definition</span> <span class="id"><a name="store_stack_fmem">store_stack_fmem</a></span> (<span class="id">m</span>: <span class="id"><a href="TSOMem.html#tsofmem">tsofmem</a></span>) (<span class="id">sp</span>: <span class="id"><a href="Values.html#val">val</a></span>) (<span class="id">ty</span>: <span class="id"><a href="AST.html#typ">typ</a></span>) (<span class="id">ofs</span>: <span class="id"><a href="Integers.html#ptrofs">ptrofs</a></span>) (<span class="id">v</span>: <span class="id"><a href="Values.html#val">val</a></span>)<br/>
&nbsp;&nbsp;: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="TSOMem.html#tsofmem">tsofmem</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="TSOMem.html#tsostorev">tsostorev</a></span> (<span class="id"><a href="AST.html#chunk_of_type">chunk_of_type</a></span> <span class="id"><a href="AsmTSO.html#ty">ty</a></span>) <span class="id"><a href="AsmTSO.html#m">m</a></span> (<span class="id"><a href="Values.html#Val.offset_ptr">Val.offset_ptr</a></span> <span class="id"><a href="AsmTSO.html#sp">sp</a></span> <span class="id"><a href="AsmTSO.html#ofs">ofs</a></span>) <span class="id"><a href="AsmTSO.html#v">v</a></span>.<br/>
<br/>
<span class="kwd">Fixpoint</span> <span class="id"><a name="store_args_rec_fmem">store_args_rec_fmem</a></span> (<span class="id">m</span>: <span class="id"><a href="TSOMem.html#tsofmem">tsofmem</a></span>) (<span class="id">sp</span>: <span class="id"><a href="Values.html#val">val</a></span>) (<span class="id">ofs</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">args</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Values.html#val">val</a></span>) (<span class="id">tys</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="AST.html#typ">typ</a></span>) <br/>
&nbsp;&nbsp;: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="TSOMem.html#tsofmem">tsofmem</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="AsmTSO.html#args">args</a></span>,<span class="id"><a href="AsmTSO.html#tys">tys</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="AsmTSO.html#m">m</a></span><br/>
&nbsp;&nbsp;| <span class="id">a</span>::<span class="id">args</span>',<span class="id">ty</span>::<span class="id">tys</span>' =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">ty</span>, <span class="id">a</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="AST.html#Tlong">Tlong</a></span>, <span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">n</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="AsmTSO.html#store_stack_fmem">store_stack_fmem</a></span> <span class="id"><a href="AsmTSO.html#m">m</a></span> <span class="id"><a href="AsmTSO.html#sp">sp</a></span> <span class="id"><a href="AST.html#Tint">Tint</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> (<span class="id"><a href="Stacklayout.html#fe_ofs_arg">Stacklayout.fe_ofs_arg</a></span> + <span class="id"><a href="AsmTSO.html#ofs">ofs</a></span> + 4)) (<span class="id"><a href="Values.html#Vint">Vint</a></span> (<span class="id"><a href="Integers.html#Int64.hiword">Int64.hiword</a></span> <span class="id">n</span>)) <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m</span>' =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="AsmTSO.html#store_stack_fmem">store_stack_fmem</a></span> <span class="id">m</span>' <span class="id"><a href="AsmTSO.html#sp">sp</a></span> <span class="id"><a href="AST.html#Tint">Tint</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> (<span class="id"><a href="Stacklayout.html#fe_ofs_arg">Stacklayout.fe_ofs_arg</a></span> + <span class="id"><a href="AsmTSO.html#ofs">ofs</a></span>)) (<span class="id"><a href="Values.html#Vint">Vint</a></span> (<span class="id"><a href="Integers.html#Int64.loword">Int64.loword</a></span> <span class="id">n</span>)) <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m</span>'' =&gt; <span class="id"><a href="AsmTSO.html#store_args_rec_fmem">store_args_rec_fmem</a></span> <span class="id">m</span>'' <span class="id"><a href="AsmTSO.html#sp">sp</a></span> (<span class="id"><a href="AsmTSO.html#ofs">ofs</a></span> + <span class="id"><a href="AST.html#typesize">typesize</a></span> <span class="id">ty</span>) <span class="id">args</span>' <span class="id">tys</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">Non</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="AST.html#Tlong">Tlong</a></span>, <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="AsmTSO.html#store_stack_fmem">store_stack_fmem</a></span> <span class="id"><a href="AsmTSO.html#m">m</a></span> <span class="id"><a href="AsmTSO.html#sp">sp</a></span> <span class="id">ty</span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> (<span class="id"><a href="Stacklayout.html#fe_ofs_arg">Stacklayout.fe_ofs_arg</a></span> + <span class="id"><a href="AsmTSO.html#ofs">ofs</a></span>)) <span class="id">a</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m</span>' =&gt; <span class="id"><a href="AsmTSO.html#store_args_rec_fmem">store_args_rec_fmem</a></span> <span class="id">m</span>' <span class="id"><a href="AsmTSO.html#sp">sp</a></span> (<span class="id"><a href="AsmTSO.html#ofs">ofs</a></span> + <span class="id"><a href="AST.html#typesize">typesize</a></span> <span class="id">ty</span>) <span class="id">args</span>' <span class="id">tys</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;| <span class="id">_</span>,<span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="store_args_fmem">store_args_fmem</a></span> (<span class="id">m</span>: <span class="id"><a href="TSOMem.html#tsofmem">tsofmem</a></span>) (<span class="id">sp</span>: <span class="id"><a href="Values.html#block">block</a></span>) (<span class="id">args</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Values.html#val">val</a></span>) (<span class="id">tys</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="AST.html#typ">typ</a></span>)<br/>
&nbsp;&nbsp;: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="TSOMem.html#tsofmem">tsofmem</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#store_args_rec_fmem">store_args_rec_fmem</a></span> <span class="id"><a href="AsmTSO.html#m">m</a></span> (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="AsmTSO.html#sp">sp</a></span> <span class="id"><a href="Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>) 0 <span class="id"><a href="AsmTSO.html#args">args</a></span> <span class="id"><a href="AsmTSO.html#tys">tys</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="not_alloc_instr">not_alloc_instr</a></span> (<span class="id">i</span> : <span class="id"><a href="ASM_local.html#instruction">instruction</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="AsmTSO.html#i">i</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="ASM_local.html#Pallocframe">Pallocframe</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<div class="doc">local step of the x86-TSO module. 
    
    Figure 19 in supplemental text presents some of them, and here is the 
    full definition of the x86TSO thread local semantics.
 </div>
<span class="kwd">Inductive</span> <span class="id"><a name="tsofstep">tsofstep</a></span> :<br/>
&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#core">core</a></span> -&gt; <span class="id"><a href="TSOMem.html#tsofmem">tsofmem</a></span> -&gt; <span class="id"><a href="AsmTSO.html#footprint">footprint</a></span> -&gt; <span class="id"><a href="AsmTSO.html#core">core</a></span> -&gt; <span class="id"><a href="TSOMem.html#tsofmem">tsofmem</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
| <span class="id"><a name="tso_exec_step_internal">tso_exec_step_internal</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span> (<span class="id">f</span>: <span class="id"><a href="ASM_local.html#function">function</a></span>) <span class="id">i</span> <span class="id">rs</span> <span class="id">bm</span> <span class="id">rs</span>' <span class="id">bm</span>' <span class="id">lf</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id"><a href="Asm.html#PC">PC</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="AsmTSO.html#b">b</a></span> <span class="id"><a href="AsmTSO.html#ofs">ofs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id"><a href="AsmTSO.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="AST.html#Internal">Internal</a></span> <span class="id"><a href="AsmTSO.html#f">f</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#find_instr">find_instr</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="AsmTSO.html#ofs">ofs</a></span>) <span class="id"><a href="AsmTSO.html#f">f</a></span>.(<span class="id"><a href="ASM_local.html#fn_code">fn_code</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="AsmTSO.html#i">i</a></span> -&gt; <span class="id"><a href="AsmTSO.html#not_alloc_instr">not_alloc_instr</a></span> <span class="id"><a href="AsmTSO.html#i">i</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#exec_instr_TSO">exec_instr_TSO</a></span> <span class="id"><a href="AsmTSO.html#f">f</a></span> <span class="id"><a href="AsmTSO.html#i">i</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> = <span class="kwd">Next</span> <span class="id">rs</span>' <span class="id">bm</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#exec_instr_TSO_fp">exec_instr_TSO_fp</a></span> <span class="id"><a href="AsmTSO.html#f">f</a></span> <span class="id"><a href="AsmTSO.html#i">i</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> = <span class="id"><a href="AsmTSO.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#tsofstep">tsofstep</a></span> (<span class="id"><a href="ASM_local.html#Core_State">Core_State</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id"><a href="AsmTSO.html#lf">lf</a></span>) <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="id"><a href="AsmTSO.html#fp">fp</a></span> (<span class="id"><a href="ASM_local.html#Core_State">Core_State</a></span> <span class="id">rs</span>' <span class="id"><a href="AsmTSO.html#lf">lf</a></span>) <span class="id">bm</span>'<br/>
<br/>
| <span class="id"><a name="tso_exec_step_internal_allocframe">tso_exec_step_internal_allocframe</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span> (<span class="id">f</span> : <span class="id"><a href="ASM_local.html#function">function</a></span>) (<span class="id">rs</span>: <span class="id"><a href="Asm.html#regset">regset</a></span>) <span class="id">bm</span> <span class="id">rs</span>' <span class="id">bm</span>' <span class="id">bm2</span> <span class="id">bm3</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">stk</span> <span class="id">lf</span> <span class="id">fp</span> <span class="id">sz</span> <span class="id">ofs_ra</span> <span class="id">ofs_link</span> <span class="id">sp</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Hrs</span>': <span class="id">rs</span>' = <span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> #<span class="id"><a href="Asm.html#RAX">RAX</a></span> &lt;- (<span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RSP">RSP</a></span>) #<span class="id"><a href="Asm.html#RSP">RSP</a></span> &lt;- <span class="id"><a href="AsmTSO.html#sp">sp</a></span>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id"><a href="Asm.html#PC">PC</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="AsmTSO.html#b">b</a></span> <span class="id"><a href="AsmTSO.html#ofs">ofs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id"><a href="AsmTSO.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="AST.html#Internal">Internal</a></span> <span class="id"><a href="AsmTSO.html#f">f</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#find_instr">find_instr</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="AsmTSO.html#ofs">ofs</a></span>) <span class="id"><a href="AsmTSO.html#f">f</a></span>.(<span class="id"><a href="ASM_local.html#fn_code">fn_code</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="ASM_local.html#Pallocframe">Pallocframe</a></span> <span class="id"><a href="AsmTSO.html#sz">sz</a></span> <span class="id"><a href="AsmTSO.html#ofs_ra">ofs_ra</a></span> <span class="id"><a href="AsmTSO.html#ofs_link">ofs_link</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="TSOMem.html#tsoalloc">tsoalloc</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> 0 <span class="id"><a href="AsmTSO.html#sz">sz</a></span> (<span class="id">bm</span>', <span class="id"><a href="AsmTSO.html#stk">stk</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#sp">sp</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="AsmTSO.html#stk">stk</a></span> <span class="id"><a href="Integers.html#Ptrofs.zero">Ptrofs.zero</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="TSOMem.html#tsostorev">tsostorev</a></span> <span class="id"><a href="AST.html#Mptr">Mptr</a></span> <span class="id">bm</span>' (<span class="id"><a href="Values.html#Val.offset_ptr">Val.offset_ptr</a></span> <span class="id"><a href="AsmTSO.html#sp">sp</a></span> <span class="id"><a href="AsmTSO.html#ofs_link">ofs_link</a></span>) <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RSP">RSP</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="AsmTSO.html#bm2">bm2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="TSOMem.html#tsostorev">tsostorev</a></span> <span class="id"><a href="AST.html#Mptr">Mptr</a></span> <span class="id"><a href="AsmTSO.html#bm2">bm2</a></span> (<span class="id"><a href="Values.html#Val.offset_ptr">Val.offset_ptr</a></span> <span class="id"><a href="AsmTSO.html#sp">sp</a></span> <span class="id"><a href="AsmTSO.html#ofs_ra">ofs_ra</a></span>) <span class="id"><a href="AsmTSO.html#rs">rs</a></span>#<span class="id"><a href="Asm.html#RA">RA</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="AsmTSO.html#bm3">bm3</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#fp">fp</a></span> = <span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="AsmTSO.html#tsoalloc_fp">tsoalloc_fp</a></span> <span class="id"><a href="AsmTSO.html#stk">stk</a></span> 0 <span class="id"><a href="AsmTSO.html#sz">sz</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="FMemOpFP.html#storev_fp">storev_fp</a></span> <span class="id"><a href="AST.html#Mptr">Mptr</a></span> (<span class="id"><a href="Values.html#Val.offset_ptr">Val.offset_ptr</a></span> <span class="id"><a href="AsmTSO.html#sp">sp</a></span> <span class="id"><a href="AsmTSO.html#ofs_link">ofs_link</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="FMemOpFP.html#storev_fp">storev_fp</a></span> <span class="id"><a href="AST.html#Mptr">Mptr</a></span> (<span class="id"><a href="Values.html#Val.offset_ptr">Val.offset_ptr</a></span> <span class="id"><a href="AsmTSO.html#sp">sp</a></span> <span class="id"><a href="AsmTSO.html#ofs_ra">ofs_ra</a></span>))) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#tsofstep">tsofstep</a></span> (<span class="id"><a href="ASM_local.html#Core_State">Core_State</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id"><a href="AsmTSO.html#lf">lf</a></span>) <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="id"><a href="AsmTSO.html#fp">fp</a></span> (<span class="id"><a href="ASM_local.html#Core_State">Core_State</a></span> <span class="id">rs</span>' <span class="id"><a href="AsmTSO.html#lf">lf</a></span>) <span class="id"><a href="AsmTSO.html#bm3">bm3</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
| <span class="id"><a name="tso_exec_step_builtin">tso_exec_step_builtin</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">f</span> <span class="id">ef</span> <span class="id">args</span> <span class="id">fp</span> <span class="id">res</span> <span class="id">rs</span> <span class="id">bm</span> <span class="id">vargs</span> <span class="id">vres</span> <span class="id">rs</span>' <span class="id">lf</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id"><a href="Asm.html#PC">PC</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="AsmTSO.html#b">b</a></span> <span class="id"><a href="AsmTSO.html#ofs">ofs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id"><a href="AsmTSO.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="AST.html#Internal">Internal</a></span> <span class="id"><a href="AsmTSO.html#f">f</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#find_instr">find_instr</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="AsmTSO.html#ofs">ofs</a></span>) <span class="id"><a href="AsmTSO.html#f">f</a></span>.(<span class="id"><a href="ASM_local.html#fn_code">fn_code</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="ASM_local.html#Pbuiltin">Pbuiltin</a></span> <span class="id"><a href="AsmTSO.html#ef">ef</a></span> <span class="id"><a href="AsmTSO.html#args">args</a></span> <span class="id"><a href="AsmTSO.html#res">res</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RSP">RSP</a></span> &lt;&gt; <span class="id"><a href="Values.html#Vundef">Vundef</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#eval_builtin_args">eval_builtin_args</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RSP">RSP</a></span>) <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="id"><a href="AsmTSO.html#args">args</a></span> <span class="id"><a href="AsmTSO.html#vargs">vargs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemOpFP.html#eval_builtin_args_fp">MemOpFP.eval_builtin_args_fp</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RSP">RSP</a></span>) <span class="id"><a href="AsmTSO.html#args">args</a></span> <span class="id"><a href="AsmTSO.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="helpers.html#i64ext_sem">i64ext_sem</a></span> <span class="id"><a href="AsmTSO.html#ef">ef</a></span> <span class="id"><a href="AsmTSO.html#vargs">vargs</a></span> <span class="id"><a href="AsmTSO.html#vres">vres</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rs</span>' = <span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Asm.html#set_res">set_res</a></span> <span class="id"><a href="AsmTSO.html#res">res</a></span> <span class="id"><a href="AsmTSO.html#vres">vres</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Asm.html#undef_regs">undef_regs</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Asm.html#preg_of">preg_of</a></span> (<span class="id"><a href="Machregs.html#destroyed_by_builtin">destroyed_by_builtin</a></span> <span class="id"><a href="AsmTSO.html#ef">ef</a></span>)) <span class="id"><a href="AsmTSO.html#rs">rs</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#tsofstep">tsofstep</a></span> (<span class="id"><a href="ASM_local.html#Core_State">Core_State</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id"><a href="AsmTSO.html#lf">lf</a></span>) <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="id"><a href="AsmTSO.html#fp">fp</a></span> (<span class="id"><a href="ASM_local.html#Core_State">Core_State</a></span> <span class="id">rs</span>' <span class="id"><a href="AsmTSO.html#lf">lf</a></span>) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
| <span class="id"><a name="tso_exec_step_to_external">tso_exec_step_to_external</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ef</span> <span class="id">args</span> <span class="id">rs</span> <span class="id">bm</span> <span class="id">lf</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id"><a href="Asm.html#PC">PC</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="AsmTSO.html#b">b</a></span> <span class="id"><a href="Integers.html#Ptrofs.zero">Ptrofs.zero</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id"><a href="AsmTSO.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="AST.html#External">External</a></span> <span class="id"><a href="AsmTSO.html#ef">ef</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#extcall_arguments">extcall_arguments</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> (<span class="id"><a href="AST.html#ef_sig">ef_sig</a></span> <span class="id"><a href="AsmTSO.html#ef">ef</a></span>) <span class="id"><a href="AsmTSO.html#args">args</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#extcall_arguments_fp">extcall_arguments_fp</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> (<span class="id"><a href="AST.html#ef_sig">ef_sig</a></span> <span class="id"><a href="AsmTSO.html#ef">ef</a></span>) <span class="id"><a href="AsmTSO.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#tsofstep">tsofstep</a></span> (<span class="id"><a href="ASM_local.html#Core_State">Core_State</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id"><a href="AsmTSO.html#lf">lf</a></span>) <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="id"><a href="AsmTSO.html#fp">fp</a></span> (<span class="id"><a href="ASM_local.html#Core_CallstateOut">Core_CallstateOut</a></span> <span class="id"><a href="AsmTSO.html#ef">ef</a></span> <span class="id"><a href="AsmTSO.html#args">args</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id"><a href="AsmTSO.html#lf">lf</a></span>) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
<br/>
| <span class="id"><a name="tso_exec_step_i64ext">tso_exec_step_i64ext</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ef</span> <span class="id">args</span> <span class="id">res</span> <span class="id">rs</span> <span class="id">bm</span> <span class="id">rs</span>' <span class="id">lf</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id"><a href="Asm.html#PC">PC</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="AsmTSO.html#b">b</a></span> <span class="id"><a href="Integers.html#Ptrofs.zero">Ptrofs.zero</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics.ge">ge</a></span> <span class="id"><a href="AsmTSO.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="AST.html#External">External</a></span> <span class="id"><a href="AsmTSO.html#ef">ef</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="helpers.html#i64ext_sem">i64ext_sem</a></span> <span class="id"><a href="AsmTSO.html#ef">ef</a></span> <span class="id"><a href="AsmTSO.html#args">args</a></span> <span class="id"><a href="AsmTSO.html#res">res</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rs</span>' = (<span class="id"><a href="Asm.html#set_pair">set_pair</a></span> (<span class="id"><a href="Asm.html#loc_external_result">loc_external_result</a></span> (<span class="id"><a href="AST.html#ef_sig">ef_sig</a></span> <span class="id"><a href="AsmTSO.html#ef">ef</a></span>)) <span class="id"><a href="AsmTSO.html#res">res</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span>) #<span class="id"><a href="Asm.html#PC">PC</a></span> &lt;- (<span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RA">RA</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#tsofstep">tsofstep</a></span> (<span class="id"><a href="ASM_local.html#Core_CallstateOut">Core_CallstateOut</a></span> <span class="id"><a href="AsmTSO.html#ef">ef</a></span> <span class="id"><a href="AsmTSO.html#args">args</a></span> <span class="id"><a href="AsmTSO.html#rs">rs</a></span> <span class="id"><a href="AsmTSO.html#lf">lf</a></span>) <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <span class="id"><a href="AsmTSO.html#empfp">empfp</a></span> (<span class="id"><a href="ASM_local.html#Core_State">Core_State</a></span> <span class="id">rs</span>' <span class="id"><a href="AsmTSO.html#lf">lf</a></span>) <span class="id"><a href="AsmTSO.html#bm">bm</a></span><br/>
<br/>
| <span class="id"><a name="exec_initialize_call">exec_initialize_call</a></span>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">bm</span> <span class="id">args</span> <span class="id">tys</span> <span class="id">retty</span> <span class="id">bm1</span> <span class="id">stk</span> <span class="id">bm2</span> <span class="id">fb</span> <span class="id">z</span> <span class="id">fp1</span> <span class="id">fp2</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="loadframe.html#args_len_rec">args_len_rec</a></span> <span class="id"><a href="AsmTSO.html#args">args</a></span> <span class="id"><a href="AsmTSO.html#tys">tys</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="AsmTSO.html#z">z</a></span> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="TSOMem.html#tsoalloc">tsoalloc</a></span> <span class="id"><a href="AsmTSO.html#bm">bm</a></span> 0 (4*<span class="id"><a href="AsmTSO.html#z">z</a></span>) (<span class="id"><a href="AsmTSO.html#bm1">bm1</a></span>, <span class="id"><a href="AsmTSO.html#stk">stk</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#tsoalloc_fp">tsoalloc_fp</a></span> <span class="id"><a href="AsmTSO.html#stk">stk</a></span> 0 (4*<span class="id"><a href="AsmTSO.html#z">z</a></span>) = <span class="id"><a href="AsmTSO.html#fp1">fp1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#store_args_fmem">store_args_fmem</a></span> <span class="id"><a href="AsmTSO.html#bm1">bm1</a></span> <span class="id"><a href="AsmTSO.html#stk">stk</a></span> <span class="id"><a href="AsmTSO.html#args">args</a></span> <span class="id"><a href="AsmTSO.html#tys">tys</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="AsmTSO.html#bm2">bm2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="loadframe.html#store_args_fp">store_args_fp</a></span> <span class="id"><a href="AsmTSO.html#stk">stk</a></span> <span class="id"><a href="AsmTSO.html#tys">tys</a></span> = <span class="id"><a href="AsmTSO.html#fp2">fp2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="AsmTSO.html#fp1">fp1</a></span> <span class="id"><a href="AsmTSO.html#fp2">fp2</a></span> = <span class="id"><a href="AsmTSO.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">rs0</span> := (<span class="id"><a href="Asm.html#Pregmap.init">Pregmap.init</a></span> <span class="id"><a href="Values.html#Vundef">Vundef</a></span>) <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#<span class="id"><a href="Asm.html#PC">PC</a></span> &lt;- (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="AsmTSO.html#fb">fb</a></span> <span class="id"><a href="Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#<span class="id"><a href="Asm.html#RA">RA</a></span> &lt;- <span class="id"><a href="Values.html#Vzero">Vzero</a></span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#<span class="id"><a href="Asm.html#RSP">RSP</a></span> &lt;- (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="AsmTSO.html#stk">stk</a></span> <span class="id"><a href="Integers.html#Ptrofs.zero">Ptrofs.zero</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#tsofstep">tsofstep</a></span> (<span class="id"><a href="ASM_local.html#Core_CallstateIn">Core_CallstateIn</a></span> <span class="id"><a href="AsmTSO.html#fb">fb</a></span> <span class="id"><a href="AsmTSO.html#args">args</a></span> <span class="id"><a href="AsmTSO.html#tys">tys</a></span> <span class="id"><a href="AsmTSO.html#retty">retty</a></span>) <span class="id"><a href="AsmTSO.html#bm">bm</a></span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#fp">fp</a></span> (<span class="id"><a href="ASM_local.html#Core_State">Core_State</a></span> <span class="id"><a href="AsmTSO.html#rs0">rs0</a></span> (<span class="id"><a href="ASM_local.html#mk_load_frame">mk_load_frame</a></span> <span class="id"><a href="AsmTSO.html#stk">stk</a></span> <span class="id"><a href="AsmTSO.html#retty">retty</a></span>)) <span class="id"><a href="AsmTSO.html#bm2">bm2</a></span><br/>
. <br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="AsmTSO.html#x86TSO_Semantics">x86TSO_Semantics</a></span>.<br/>
<br/>
<div class="doc"><span class="bracket"><span class="id">tsostep</span></span> is applied by x86TSO global semantics </div>
<span class="kwd">Inductive</span> <span class="id"><a name="tsostep">tsostep</a></span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">ge</span>: <span class="id"><a href="ASM_local.html#genv">genv</a></span>) (<span class="id">fl</span>: <span class="id"><a href="MemAux.html#freelist">MemAux.freelist</a></span>) :<br/>
&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#core">core</a></span> -&gt; <span class="id"><a href="TSOMem.html#buffer">buffer</a></span> * <span class="id"><a href="GMemory.html#gmem">gmem</a></span> -&gt; <span class="id"><a href="AsmTSO.html#footprint">footprint</a></span> -&gt; <span class="id"><a href="AsmTSO.html#core">core</a></span> -&gt; <span class="id"><a href="TSOMem.html#buffer">buffer</a></span> * <span class="id"><a href="GMemory.html#gmem">gmem</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
| <span class="id"><a name="TSOstep">TSOstep</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c</span> <span class="id">b</span> <span class="id">gm</span> <span class="id">fm</span> <span class="id">fp</span> <span class="id">c</span>' <span class="id">tsofm</span>' <span class="id">b</span>' <span class="id">gm</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemory.html#embed">embed</a></span> <span class="id"><a href="AsmTSO.html#gm">gm</a></span> <span class="id">fl</span> <span class="id"><a href="AsmTSO.html#fm">fm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#tsofstep">tsofstep</a></span> <span class="id">ge</span> <span class="id"><a href="AsmTSO.html#c">c</a></span> (<span class="id"><a href="TSOMem.html#mktsofmem">mktsofmem</a></span> <span class="id"><a href="AsmTSO.html#b">b</a></span> <span class="id"><a href="AsmTSO.html#fm">fm</a></span>) <span class="id"><a href="AsmTSO.html#fp">fp</a></span> <span class="id">c</span>' <span class="id">tsofm</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">gm</span>' = <span class="id"><a href="FMemory.html#strip">strip</a></span> (<span class="id"><a href="TSOMem.html#fmemory">fmemory</a></span> <span class="id">tsofm</span>') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">b</span>' = <span class="id"><a href="TSOMem.html#tbuffer">tbuffer</a></span> <span class="id">tsofm</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#tsostep">tsostep</a></span> <span class="id">ge</span> <span class="id">fl</span> <span class="id"><a href="AsmTSO.html#c">c</a></span> (<span class="id"><a href="AsmTSO.html#b">b</a></span>, <span class="id"><a href="AsmTSO.html#gm">gm</a></span>) <span class="id"><a href="AsmTSO.html#fp">fp</a></span> <span class="id">c</span>' (<span class="id">b</span>', <span class="id">gm</span>').<br/>
<br/>
<br/>
<div class="doc">tso step properties... </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="tsostep_not_halted">tsostep_not_halted</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">fl</span> <span class="id">tc</span> <span class="id">x</span> <span class="id">fp</span> <span class="id">tc</span>' <span class="id">x</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#tsostep">tsostep</a></span> <span class="id"><a href="AsmTSO.html#ge">ge</a></span> <span class="id"><a href="AsmTSO.html#fl">fl</a></span> <span class="id"><a href="AsmTSO.html#tc">tc</a></span> <span class="id"><a href="AsmTSO.html#x">x</a></span> <span class="id"><a href="AsmTSO.html#fp">fp</a></span> <span class="id">tc</span>' <span class="id">x</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#halt">halt</a></span> <span class="id"><a href="AsmTSO.html#tc">tc</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9217')">Proof.</div>
<div class="proofscript" id="proof9217">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H1</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">all</span>: <span class="tactic">destruct</span> <span class="id">lf</span>; <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id">H</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="tsostep_not_atext">tsostep_not_atext</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">fl</span> <span class="id">tc</span> <span class="id">x</span> <span class="id">fp</span> <span class="id">tc</span>' <span class="id">x</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#tsostep">tsostep</a></span> <span class="id"><a href="AsmTSO.html#ge">ge</a></span> <span class="id"><a href="AsmTSO.html#fl">fl</a></span> <span class="id"><a href="AsmTSO.html#tc">tc</a></span> <span class="id"><a href="AsmTSO.html#x">x</a></span> <span class="id"><a href="AsmTSO.html#fp">fp</a></span> <span class="id">tc</span>' <span class="id">x</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmTSO.html#at_external">at_external</a></span> <span class="id"><a href="AsmTSO.html#ge">ge</a></span> <span class="id"><a href="AsmTSO.html#tc">tc</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9218')">Proof.</div>
<div class="proofscript" id="proof9218">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">H1</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="helpers.html#i64ext_extcall">helpers.i64ext_extcall</a></span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="id">inv</span> <span class="id">H3</span>. <span class="id">inv</span> <span class="id">H1</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
</div>
<div class="footer"><hr/>Generated by coq2html</div>
</body>
</html>
