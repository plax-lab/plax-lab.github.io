<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module RGRels</title>
<meta name="description" content="Documentation of Coq module RGRels" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module RGRels</h1>
<div class="coq">
<div class="doc">This file defines the type of <span class="bracket"><span class="id">I</span></span>, <span class="bracket"><span class="id">R</span></span>, <span class="bracket"><span class="id">G</span></span>, and some properties of them </div>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Coqlib.html">Coqlib</a></span> <span class="id"><a href="Maps.html">Maps</a></span> <span class="id"><a href="Values.html">Values</a></span> <span class="id"><a href="GlobDefs.html">GlobDefs</a></span> <span class="id"><a href="GMemory.html">GMemory</a></span> <span class="id"><a href="TSOMem.html">TSOMem</a></span> <span class="id"><a href="Footprint.html">Footprint</a></span> <span class="id"><a href="FPLemmas.html">FPLemmas</a></span> <span class="id"><a href="MemAux.html">MemAux</a></span>.<br/>
<br/>
<div class="doc">The type of <span class="bracket"><span class="id">I</span></span> </div>
<span class="kwd">Definition</span> <span class="id"><a name="stInv">stInv</a></span> : <span class="kwd">Type</span> := <span class="id"><a href="GMemory.html#gmem">gmem</a></span> -&gt; <span class="id"><a href="TSOMem.html#tsomem">tsomem</a></span> -&gt; <span class="kwd">Prop</span>.<br/>
<div class="doc">The type of <span class="bracket"><span class="id">R</span></span>, <span class="bracket"><span class="id">G</span></span> </div>
<span class="kwd">Definition</span> <span class="id"><a name="stRel">stRel</a></span> : <span class="kwd">Type</span> := <span class="id"><a href="GMemory.html#gmem">gmem</a></span> -&gt; <span class="id"><a href="TSOMem.html#tsomem">tsomem</a></span> -&gt; <span class="id"><a href="GMemory.html#gmem">gmem</a></span> -&gt; <span class="id"><a href="TSOMem.html#tsomem">tsomem</a></span> -&gt; <span class="kwd">Prop</span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Sta">Sta</a></span> (<span class="id">I</span>: <span class="id"><a href="RGRels.html#stInv">stInv</a></span>) (<span class="id">R</span>: <span class="id"><a href="RGRels.html#stRel">stRel</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">gm</span> <span class="id">tm</span> <span class="id">gm</span>' <span class="id">tm</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#I">I</a></span> <span class="id"><a href="RGRels.html#gm">gm</a></span> <span class="id"><a href="RGRels.html#tm">tm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#R">R</a></span> <span class="id"><a href="RGRels.html#gm">gm</a></span> <span class="id"><a href="RGRels.html#tm">tm</a></span> <span class="id">gm</span>' <span class="id">tm</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#I">I</a></span> <span class="id">gm</span>' <span class="id">tm</span>'.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="Implies">Implies</a></span> (<span class="id">G</span>: <span class="id"><a href="RGRels.html#stRel">stRel</a></span>) (<span class="id">R</span>: <span class="id"><a href="RGRels.html#stRel">stRel</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">gm</span> <span class="id">tm</span> <span class="id">gm</span>' <span class="id">tm</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#G">G</a></span> <span class="id"><a href="RGRels.html#gm">gm</a></span> <span class="id"><a href="RGRels.html#tm">tm</a></span> <span class="id">gm</span>' <span class="id">tm</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#R">R</a></span> <span class="id"><a href="RGRels.html#gm">gm</a></span> <span class="id"><a href="RGRels.html#tm">tm</a></span> <span class="id">gm</span>' <span class="id">tm</span>'.<br/>
<span class="kwd">Definition</span> <span class="id">Implies</span>' (<span class="id">I</span> : <span class="id"><a href="RGRels.html#stInv">stInv</a></span>) (<span class="id">G</span>: <span class="id"><a href="RGRels.html#stRel">stRel</a></span>) (<span class="id">R</span>: <span class="id"><a href="RGRels.html#stRel">stRel</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">gm</span> <span class="id">tm</span> <span class="id">gm</span>' <span class="id">tm</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#I">I</a></span> <span class="id"><a href="RGRels.html#gm">gm</a></span> <span class="id"><a href="RGRels.html#tm">tm</a></span> -&gt; <span class="id"><a href="RGRels.html#G">G</a></span> <span class="id"><a href="RGRels.html#gm">gm</a></span> <span class="id"><a href="RGRels.html#tm">tm</a></span> <span class="id">gm</span>' <span class="id">tm</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#R">R</a></span> <span class="id"><a href="RGRels.html#gm">gm</a></span> <span class="id"><a href="RGRels.html#tm">tm</a></span> <span class="id">gm</span>' <span class="id">tm</span>'.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="G_ub">G_ub</a></span> : <span class="id"><a href="RGRels.html#stRel">stRel</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> <span class="id">gm</span> <span class="id">tm</span> <span class="id">gm</span>' <span class="id">tm</span>' =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#gm">gm</a></span> = <span class="id">gm</span>' /\ (<span class="id">exists</span> <span class="id">t</span>, <span class="id"><a href="TSOMem.html#unbuffer">unbuffer</a></span> <span class="id"><a href="RGRels.html#tm">tm</a></span> <span class="id"><a href="RGRels.html#t">t</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">tm</span>').<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="unbuffer_G_ub">unbuffer_G_ub</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">gm</span> <span class="id">tm</span> <span class="id">t</span> <span class="id">tm</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="TSOMem.html#unbuffer">unbuffer</a></span> <span class="id"><a href="RGRels.html#tm">tm</a></span> <span class="id"><a href="RGRels.html#t">t</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">tm</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#G_ub">G_ub</a></span> <span class="id"><a href="RGRels.html#gm">gm</a></span> <span class="id"><a href="RGRels.html#tm">tm</a></span> <span class="id"><a href="RGRels.html#gm">gm</a></span> <span class="id">tm</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9356')">Proof.</div>
<div class="proofscript" id="proof9356">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="RGRels.html#G_ub">G_ub</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="UBSta">UBSta</a></span> (<span class="id">I</span>: <span class="id"><a href="RGRels.html#stInv">stInv</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">gm</span> <span class="id">tm</span> <span class="id">gm</span>' <span class="id">tm</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#I">I</a></span> <span class="id"><a href="RGRels.html#gm">gm</a></span> <span class="id"><a href="RGRels.html#tm">tm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#G_ub">G_ub</a></span> <span class="id"><a href="RGRels.html#gm">gm</a></span> <span class="id"><a href="RGRels.html#tm">tm</a></span> <span class="id">gm</span>' <span class="id">tm</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#I">I</a></span> <span class="id"><a href="RGRels.html#gm">gm</a></span> <span class="id">tm</span>'.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="UBImplies">UBImplies</a></span> (<span class="id">I</span>: <span class="id"><a href="RGRels.html#stInv">stInv</a></span>) (<span class="id">R</span>: <span class="id"><a href="RGRels.html#stRel">stRel</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">gm</span> <span class="id">tm</span> <span class="id">gm</span>' <span class="id">tm</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#I">I</a></span> <span class="id"><a href="RGRels.html#gm">gm</a></span> <span class="id"><a href="RGRels.html#tm">tm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#G_ub">G_ub</a></span> <span class="id"><a href="RGRels.html#gm">gm</a></span> <span class="id"><a href="RGRels.html#tm">tm</a></span> <span class="id">gm</span>' <span class="id">tm</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#R">R</a></span> <span class="id"><a href="RGRels.html#gm">gm</a></span> <span class="id"><a href="RGRels.html#tm">tm</a></span> <span class="id">gm</span>' <span class="id">tm</span>'.<br/>
<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="rel_tm_gm_vb">rel_tm_gm_vb</a></span> (<span class="id">M</span> : <span class="id"><a href="GMemory.html#gmem">gmem</a></span>) (<span class="id">tm</span> : <span class="id"><a href="TSOMem.html#tsomem">tsomem</a></span>) (<span class="id">fl</span> : <span class="id"><a href="MemAux.html#freelist">freelist</a></span>) (<span class="id">t</span> : <span class="id"><a href="GlobDefs.html#tid">tid</a></span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">b</span> <span class="id">gm</span>, <span class="id"><a href="MemAux.html#get_block">get_block</a></span> <span class="id"><a href="RGRels.html#fl">fl</a></span> <span class="id"><a href="RGRels.html#n">n</a></span> = <span class="id"><a href="RGRels.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="TSOMem.html#apply_buffer">apply_buffer</a></span> (<span class="id"><a href="TSOMem.html#tso_buffers">tso_buffers</a></span> <span class="id"><a href="RGRels.html#tm">tm</a></span> <span class="id"><a href="RGRels.html#t">t</a></span>) (<span class="id"><a href="TSOMem.html#memory">memory</a></span> <span class="id"><a href="RGRels.html#tm">tm</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="RGRels.html#gm">gm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="RGRels.html#b">b</a></span> (<span class="id"><a href="GMemory.html#GMem.validblocks">GMem.validblocks</a></span> <span class="id"><a href="RGRels.html#gm">gm</a></span>) &lt;-&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="RGRels.html#b">b</a></span> (<span class="id"><a href="GMemory.html#GMem.validblocks">GMem.validblocks</a></span> <span class="id"><a href="RGRels.html#M">M</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="tm_alloc_not_fl">tm_alloc_not_fl</a></span> (<span class="id">tm</span> : <span class="id"><a href="TSOMem.html#tsomem">tsomem</a></span>) (<span class="id">fl</span> : <span class="id"><a href="MemAux.html#freelist">freelist</a></span>) (<span class="id">t</span> : <span class="id"><a href="GlobDefs.html#tid">tid</a></span>) :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span>' <span class="id">blk</span> <span class="id">n</span> <span class="id">lo</span> <span class="id">hi</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">t</span>' &lt;&gt; <span class="id"><a href="RGRels.html#t">t</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="TSOMem.html#BufferedAlloc">BufferedAlloc</a></span> <span class="id"><a href="RGRels.html#blk">blk</a></span> <span class="id"><a href="RGRels.html#lo">lo</a></span> <span class="id"><a href="RGRels.html#hi">hi</a></span>) (<span class="id"><a href="TSOMem.html#tso_buffers">tso_buffers</a></span> <span class="id"><a href="RGRels.html#tm">tm</a></span> <span class="id">t</span>') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#blk">blk</a></span> &lt;&gt; <span class="id"><a href="MemAux.html#get_block">get_block</a></span> <span class="id"><a href="RGRels.html#fl">fl</a></span> <span class="id"><a href="RGRels.html#n">n</a></span>.<br/>
<br/>
<div class="doc"><span class="bracket"><span class="id">obj_mem</span></span> is a proposition to judge whether an location belongs to 
object memory. Location in object memory only has max permission. This definition 
corresponds to <span class="bracket"><span class="id">objM</span></span> defined in Figure 20 on page 20 
in submission #115 supplement text </div>
<span class="kwd">Definition</span> <span class="id"><a name="obj_mem">obj_mem</a></span> (<span class="id">m</span>: <span class="id"><a href="GMemory.html#gmem">gmem</a></span>) (<span class="id">b</span>: <span class="id"><a href="Values.html#block">block</a></span>) (<span class="id">ofs</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;(<span class="id"><a href="Maps.html#PMap.get">PMap.get</a></span> <span class="id"><a href="RGRels.html#b">b</a></span> (<span class="id"><a href="GMemory.html#GMem.mem_access">GMem.mem_access</a></span> <span class="id"><a href="RGRels.html#m">m</a></span>)) <span class="id"><a href="RGRels.html#ofs">ofs</a></span> <span class="id"><a href="Memperm.html#Max">Memperm.Max</a></span> &lt;&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> /\<br/>
&nbsp;&nbsp;(<span class="id"><a href="Maps.html#PMap.get">PMap.get</a></span> <span class="id"><a href="RGRels.html#b">b</a></span> (<span class="id"><a href="GMemory.html#GMem.mem_access">GMem.mem_access</a></span> <span class="id"><a href="RGRels.html#m">m</a></span>)) <span class="id"><a href="RGRels.html#ofs">ofs</a></span> <span class="id"><a href="Memperm.html#Cur">Memperm.Cur</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>.<br/>
<br/>
<div class="doc"><span class="bracket"><span class="id">client_mem</span></span> is a proposition to judge whether an location belongs to 
client memory. </div>
<span class="kwd">Definition</span> <span class="id"><a name="client_mem">client_mem</a></span> (<span class="id">m</span>: <span class="id"><a href="GMemory.html#gmem">gmem</a></span>) (<span class="id">b</span>: <span class="id"><a href="Values.html#block">block</a></span>) (<span class="id">ofs</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;(<span class="id"><a href="GMemory.html#GMem.mem_access">GMem.mem_access</a></span> <span class="id"><a href="RGRels.html#m">m</a></span>) !! <span class="id"><a href="RGRels.html#b">b</a></span> <span class="id"><a href="RGRels.html#ofs">ofs</a></span> <span class="id"><a href="Memperm.html#Cur">Memperm.Cur</a></span> &lt;&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> /\<br/>
&nbsp;&nbsp;(<span class="id"><a href="GMemory.html#GMem.mem_access">GMem.mem_access</a></span> <span class="id"><a href="RGRels.html#m">m</a></span>) !! <span class="id"><a href="RGRels.html#b">b</a></span> <span class="id"><a href="RGRels.html#ofs">ofs</a></span> <span class="id"><a href="Memperm.html#Max">Memperm.Max</a></span> &lt;&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="unused_mem">unused_mem</a></span> (<span class="id">m</span>: <span class="id"><a href="GMemory.html#gmem">gmem</a></span>) (<span class="id">b</span>: <span class="id"><a href="Values.html#block">block</a></span>) (<span class="id">ofs</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;(<span class="id"><a href="GMemory.html#GMem.mem_access">GMem.mem_access</a></span> <span class="id"><a href="RGRels.html#m">m</a></span>) !! <span class="id"><a href="RGRels.html#b">b</a></span> <span class="id"><a href="RGRels.html#ofs">ofs</a></span> <span class="id"><a href="Memperm.html#Max">Memperm.Max</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>.<br/>
<br/>
<div class="doc">We define <span class="bracket"><span class="id">eq_on_loc</span></span> to describle the memory relation between the location 
in gmem of high-level x86SC program and the same one in gmem of low-level x86TSO 
program after applying thread buffer </div>
<span class="kwd">Record</span> <span class="id"><a name="eq_on_loc">eq_on_loc</a></span> (<span class="id">b</span>: <span class="id"><a href="Values.html#block">block</a></span>) (<span class="id">ofs</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>) (<span class="id">m</span> <span class="id">tm</span>: <span class="id"><a href="GMemory.html#gmem">gmem</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="eq_loc_validity">eq_loc_validity</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GMemory.html#GMem.valid_block">GMem.valid_block</a></span> <span class="id"><a href="RGRels.html#m">m</a></span> <span class="id"><a href="RGRels.html#b">b</a></span> &lt;-&gt; <span class="id"><a href="GMemory.html#GMem.valid_block">GMem.valid_block</a></span> <span class="id"><a href="RGRels.html#tm">tm</a></span> <span class="id"><a href="RGRels.html#b">b</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="eq_loc_perm">eq_loc_perm</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">k</span>, (<span class="id"><a href="GMemory.html#GMem.mem_access">GMem.mem_access</a></span> <span class="id"><a href="RGRels.html#m">m</a></span>) !! <span class="id"><a href="RGRels.html#b">b</a></span> <span class="id"><a href="RGRels.html#ofs">ofs</a></span> <span class="id"><a href="RGRels.html#k">k</a></span> = (<span class="id"><a href="GMemory.html#GMem.mem_access">GMem.mem_access</a></span> <span class="id"><a href="RGRels.html#tm">tm</a></span>) !! <span class="id"><a href="RGRels.html#b">b</a></span> <span class="id"><a href="RGRels.html#ofs">ofs</a></span> <span class="id"><a href="RGRels.html#k">k</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="eq_loc_content">eq_loc_content</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Maps.html#ZMap.get">ZMap.get</a></span> <span class="id"><a href="RGRels.html#ofs">ofs</a></span> ((<span class="id"><a href="GMemory.html#GMem.mem_contents">GMem.mem_contents</a></span> <span class="id"><a href="RGRels.html#m">m</a></span>) !! <span class="id"><a href="RGRels.html#b">b</a></span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Maps.html#ZMap.get">ZMap.get</a></span> <span class="id"><a href="RGRels.html#ofs">ofs</a></span> ((<span class="id"><a href="GMemory.html#GMem.mem_contents">GMem.mem_contents</a></span> <span class="id"><a href="RGRels.html#tm">tm</a></span>) !! <span class="id"><a href="RGRels.html#b">b</a></span>);<br/>
&nbsp;&nbsp;}.<br/>
<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="sep_obj_client_block">sep_obj_client_block</a></span> (<span class="id">sm</span>: <span class="id"><a href="GMemory.html#gmem">gmem</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs1</span> <span class="id">ofs2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#obj_mem">obj_mem</a></span> <span class="id"><a href="RGRels.html#sm">sm</a></span> <span class="id"><a href="RGRels.html#b">b</a></span> <span class="id"><a href="RGRels.html#ofs1">ofs1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#client_mem">client_mem</a></span> <span class="id"><a href="RGRels.html#sm">sm</a></span> <span class="id"><a href="RGRels.html#b">b</a></span> <span class="id"><a href="RGRels.html#ofs2">ofs2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span>.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="obj_fp">obj_fp</a></span> (<span class="id">gm</span> <span class="id">gm</span>': <span class="id"><a href="GMemory.html#gmem">gmem</a></span>) (<span class="id">fp</span>: <span class="id"><a href="Footprint.html#FP.t">FP.t</a></span>) : <span class="kwd">Prop</span> :=<br/>
| <span class="id"><a name="obj_emp_fp">obj_emp_fp</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fp</span> = <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#obj_fp">obj_fp</a></span> <span class="id">gm</span> <span class="id">gm</span>' <span class="id">fp</span><br/>
| <span class="id"><a name="obj_valid_block_fp">obj_valid_block_fp</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">H_object_valid_block_fp</span>: <span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span> (<span class="id"><a href="Footprint.html#FP.locs">FP.locs</a></span> <span class="id">fp</span>) <span class="id"><a href="RGRels.html#b">b</a></span> <span class="id"><a href="RGRels.html#ofs">ofs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#obj_mem">obj_mem</a></span> <span class="id">gm</span> <span class="id"><a href="RGRels.html#b">b</a></span> <span class="id"><a href="RGRels.html#ofs">ofs</a></span> \/ <span class="id">exists</span> <span class="id">ofs</span>', <span class="id"><a href="RGRels.html#obj_mem">obj_mem</a></span> <span class="id">gm</span> <span class="id"><a href="RGRels.html#b">b</a></span> <span class="id">ofs</span>'),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#obj_fp">obj_fp</a></span> <span class="id">gm</span> <span class="id">gm</span>' <span class="id">fp</span><br/>
| <span class="id"><a name="obj_alloc_fp">obj_alloc_fp</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">H_object_alloc_fp</span>: <span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span> (<span class="id"><a href="Footprint.html#FP.locs">FP.locs</a></span> <span class="id">fp</span>) <span class="id"><a href="RGRels.html#b">b</a></span> <span class="id"><a href="RGRels.html#ofs">ofs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~ <span class="id"><a href="GMemory.html#GMem.valid_block">GMem.valid_block</a></span> <span class="id">gm</span> <span class="id"><a href="RGRels.html#b">b</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GMemory.html#GMem.valid_block">GMem.valid_block</a></span> <span class="id">gm</span>' <span class="id"><a href="RGRels.html#b">b</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">ofs</span>', <span class="id"><a href="RGRels.html#obj_mem">obj_mem</a></span> <span class="id">gm</span>' <span class="id"><a href="RGRels.html#b">b</a></span> <span class="id">ofs</span>' \/ <span class="id"><a href="RGRels.html#unused_mem">unused_mem</a></span> <span class="id">gm</span>' <span class="id"><a href="RGRels.html#b">b</a></span> <span class="id">ofs</span>')),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#obj_fp">obj_fp</a></span> <span class="id">gm</span> <span class="id">gm</span>' <span class="id">fp</span>.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="client_fp">client_fp</a></span> (<span class="id">gm</span> <span class="id">gm</span>': <span class="id"><a href="GMemory.html#gmem">gmem</a></span>) (<span class="id">fp</span>: <span class="id"><a href="Footprint.html#FP.t">FP.t</a></span>) : <span class="kwd">Prop</span> :=<br/>
| <span class="id"><a name="client_emp_fp">client_emp_fp</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fp</span> = <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#client_fp">client_fp</a></span> <span class="id">gm</span> <span class="id">gm</span>' <span class="id">fp</span><br/>
| <span class="id"><a name="client_valid_block_fp">client_valid_block_fp</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">H_client_valid_block_fp</span>: <span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span> (<span class="id"><a href="Footprint.html#FP.locs">FP.locs</a></span> <span class="id">fp</span>) <span class="id"><a href="RGRels.html#b">b</a></span> <span class="id"><a href="RGRels.html#ofs">ofs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#client_mem">client_mem</a></span> <span class="id">gm</span> <span class="id"><a href="RGRels.html#b">b</a></span> <span class="id"><a href="RGRels.html#ofs">ofs</a></span> \/ <span class="id">exists</span> <span class="id">ofs</span>', <span class="id"><a href="RGRels.html#client_mem">client_mem</a></span> <span class="id">gm</span> <span class="id"><a href="RGRels.html#b">b</a></span> <span class="id">ofs</span>' ),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#client_fp">client_fp</a></span> <span class="id">gm</span> <span class="id">gm</span>' <span class="id">fp</span><br/>
| <span class="id"><a name="client_alloc_fp">client_alloc_fp</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">H_client_alloc_fp</span>: <span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span> (<span class="id"><a href="Footprint.html#FP.locs">FP.locs</a></span> <span class="id">fp</span>) <span class="id"><a href="RGRels.html#b">b</a></span> <span class="id"><a href="RGRels.html#ofs">ofs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~ <span class="id"><a href="GMemory.html#GMem.valid_block">GMem.valid_block</a></span> <span class="id">gm</span> <span class="id"><a href="RGRels.html#b">b</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GMemory.html#GMem.valid_block">GMem.valid_block</a></span> <span class="id">gm</span>' <span class="id"><a href="RGRels.html#b">b</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">ofs</span>', <span class="id"><a href="RGRels.html#client_mem">client_mem</a></span> <span class="id">gm</span>' <span class="id"><a href="RGRels.html#b">b</a></span> <span class="id">ofs</span>' \/ <span class="id"><a href="RGRels.html#unused_mem">unused_mem</a></span> <span class="id">gm</span>' <span class="id"><a href="RGRels.html#b">b</a></span> <span class="id">ofs</span>')),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#client_fp">client_fp</a></span> <span class="id">gm</span> <span class="id">gm</span>' <span class="id">fp</span>.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id">client_fp</span>' (<span class="id">gm</span>: <span class="id"><a href="GMemory.html#gmem">gmem</a></span>) (<span class="id">fp</span>: <span class="id"><a href="Footprint.html#FP.t">FP.t</a></span>) : <span class="kwd">Prop</span> :=<br/>
| <span class="id">client_emp_fp</span>' : <span class="id">fp</span> = <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> -&gt; <span class="id">client_fp</span>' <span class="id">gm</span> <span class="id">fp</span><br/>
| <span class="id">client_valid_block_fp</span>' :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">H_client_valid_block_fp</span>: <span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span> (<span class="id"><a href="Footprint.html#FP.locs">FP.locs</a></span> <span class="id">fp</span>) <span class="id"><a href="RGRels.html#b">b</a></span> <span class="id"><a href="RGRels.html#ofs">ofs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#client_mem">client_mem</a></span> <span class="id">gm</span> <span class="id"><a href="RGRels.html#b">b</a></span> <span class="id"><a href="RGRels.html#ofs">ofs</a></span> \/ <span class="id">exists</span> <span class="id">ofs</span>', <span class="id"><a href="RGRels.html#client_mem">client_mem</a></span> <span class="id">gm</span> <span class="id"><a href="RGRels.html#b">b</a></span> <span class="id">ofs</span>'),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">client_fp</span>' <span class="id">gm</span> <span class="id">fp</span><br/>
| <span class="id">client_alloc_fp</span>' :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> (<span class="id">b</span> : <span class="id"><a href="Values.html#block">block</a></span>) (<span class="id">ofs</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>), <span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span> (<span class="id"><a href="Footprint.html#FP.locs">FP.locs</a></span> <span class="id">fp</span>) <span class="id"><a href="RGRels.html#b">b</a></span> <span class="id"><a href="RGRels.html#ofs">ofs</a></span> -&gt; ~ <span class="id"><a href="GMemory.html#GMem.valid_block">GMem.valid_block</a></span> <span class="id">gm</span> <span class="id"><a href="RGRels.html#b">b</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">client_fp</span>' <span class="id">gm</span> <span class="id">fp</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id">client_fp_client_fp</span>':<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">gm</span> <span class="id">gm</span>' <span class="id">fp</span>, <span class="id"><a href="RGRels.html#client_fp">client_fp</a></span> <span class="id"><a href="RGRels.html#gm">gm</a></span> <span class="id">gm</span>' <span class="id"><a href="RGRels.html#fp">fp</a></span> -&gt; <span class="id">client_fp</span>' <span class="id"><a href="RGRels.html#gm">gm</a></span> <span class="id"><a href="RGRels.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9357')">Proof.</div>
<div class="proofscript" id="proof9357">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">client_emp_fp</span>'; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">client_valid_block_fp</span>'; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">client_alloc_fp</span>'. <span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id">H_client_alloc_fp</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">intuition</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="obj_mem_valid">obj_mem_valid</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">sm</span> <span class="id">b</span> <span class="id">ofs</span>, <span class="id"><a href="RGRels.html#obj_mem">obj_mem</a></span> <span class="id"><a href="RGRels.html#sm">sm</a></span> <span class="id"><a href="RGRels.html#b">b</a></span> <span class="id"><a href="RGRels.html#ofs">ofs</a></span> -&gt; <span class="id"><a href="GMemory.html#GMem.valid_block">GMem.valid_block</a></span> <span class="id"><a href="RGRels.html#sm">sm</a></span> <span class="id"><a href="RGRels.html#b">b</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9358')">Proof.</div>
<div class="proofscript" id="proof9358">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_dec">in_dec</a></span> <span class="id"><a href="Coqlib.html#peq">peq</a></span> <span class="id">b</span> (<span class="id"><a href="GMemory.html#GMem.validblocks">GMem.validblocks</a></span> <span class="id">sm</span>)); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="GMemory.html#GMem.invalid_noaccess">GMem.invalid_noaccess</a></span> <span class="kwd">in</span> <span class="id">n</span>. <span class="tactic">rewrite</span> <span class="id">n</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">contradiction</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="client_mem_valid">client_mem_valid</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">sm</span> <span class="id">b</span> <span class="id">ofs</span>, <span class="id"><a href="RGRels.html#client_mem">client_mem</a></span> <span class="id"><a href="RGRels.html#sm">sm</a></span> <span class="id"><a href="RGRels.html#b">b</a></span> <span class="id"><a href="RGRels.html#ofs">ofs</a></span> -&gt; <span class="id"><a href="GMemory.html#GMem.valid_block">GMem.valid_block</a></span> <span class="id"><a href="RGRels.html#sm">sm</a></span> <span class="id"><a href="RGRels.html#b">b</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9359')">Proof.</div>
<div class="proofscript" id="proof9359">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="RGRels.html#client_mem">client_mem</a></span>. <span class="tactic">intros</span>. <br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_dec">in_dec</a></span> <span class="id"><a href="Coqlib.html#peq">peq</a></span> <span class="id">b</span> (<span class="id"><a href="GMemory.html#GMem.validblocks">GMem.validblocks</a></span> <span class="id">sm</span>)); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="GMemory.html#GMem.invalid_noaccess">GMem.invalid_noaccess</a></span> <span class="kwd">in</span> <span class="id">n</span>. <span class="tactic">rewrite</span> <span class="id">n</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">intuition</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="unused_mem_client_mem_excluded">unused_mem_client_mem_excluded</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">sm</span> <span class="id">b</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#unused_mem">unused_mem</a></span> <span class="id"><a href="RGRels.html#sm">sm</a></span> <span class="id"><a href="RGRels.html#b">b</a></span> <span class="id"><a href="RGRels.html#ofs">ofs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#client_mem">client_mem</a></span> <span class="id"><a href="RGRels.html#sm">sm</a></span> <span class="id"><a href="RGRels.html#b">b</a></span> <span class="id"><a href="RGRels.html#ofs">ofs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9360')">Proof.</div>
<div class="proofscript" id="proof9360">
 <span class="tactic">unfold</span> <span class="id"><a href="RGRels.html#unused_mem">unused_mem</a></span>, <span class="id"><a href="RGRels.html#client_mem">client_mem</a></span>. <span class="tactic">intros</span>. <span class="tactic">intuition</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="unused_mem_object_mem_excluded">unused_mem_object_mem_excluded</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">sm</span> <span class="id">b</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#unused_mem">unused_mem</a></span> <span class="id"><a href="RGRels.html#sm">sm</a></span> <span class="id"><a href="RGRels.html#b">b</a></span> <span class="id"><a href="RGRels.html#ofs">ofs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#obj_mem">obj_mem</a></span> <span class="id"><a href="RGRels.html#sm">sm</a></span> <span class="id"><a href="RGRels.html#b">b</a></span> <span class="id"><a href="RGRels.html#ofs">ofs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9361')">Proof.</div>
<div class="proofscript" id="proof9361">
 <span class="tactic">unfold</span> <span class="id"><a href="RGRels.html#unused_mem">unused_mem</a></span>, <span class="id"><a href="RGRels.html#obj_mem">obj_mem</a></span>. <span class="tactic">intros</span>. <span class="tactic">intuition</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="valid_unused_mem_forward">valid_unused_mem_forward</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">sm</span> <span class="id">sm</span>' <span class="id">b</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GMemory.html#GMem.valid_block">GMem.valid_block</a></span> <span class="id"><a href="RGRels.html#sm">sm</a></span> <span class="id"><a href="RGRels.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GMemory.html#GMem.forward">GMem.forward</a></span> <span class="id"><a href="RGRels.html#sm">sm</a></span> <span class="id">sm</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#unused_mem">unused_mem</a></span> <span class="id"><a href="RGRels.html#sm">sm</a></span> <span class="id"><a href="RGRels.html#b">b</a></span> <span class="id"><a href="RGRels.html#ofs">ofs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#unused_mem">unused_mem</a></span> <span class="id">sm</span>' <span class="id"><a href="RGRels.html#b">b</a></span> <span class="id"><a href="RGRels.html#ofs">ofs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9362')">Proof.</div>
<div class="proofscript" id="proof9362">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="RGRels.html#unused_mem">unused_mem</a></span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="GMemory.html#GMem.mem_access">GMem.mem_access</a></span> <span class="id">sm</span>') !! <span class="id">b</span> <span class="id">ofs</span> <span class="id"><a href="Memperm.html#Max">Memperm.Max</a></span>) <span class="id">eqn</span>:<span class="id">A</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="GMemory.html#GMem.alloc_forward">GMem.alloc_forward</a></span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">Memperm.perm_order</span>'. <span class="tactic">rewrite</span> <span class="id">A</span>. <span class="tactic">apply</span> <span class="id"><a href="Memperm.html#perm_any_N">Memperm.perm_any_N</a></span>.<br/>
Qed.</div>
&nbsp;&nbsp;<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="obj_mem_client_mem_excluded">obj_mem_client_mem_excluded</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">sm</span> <span class="id">sm</span>' <span class="id">b</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GMemory.html#GMem.forward">GMem.forward</a></span> <span class="id"><a href="RGRels.html#sm">sm</a></span> <span class="id">sm</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#obj_mem">obj_mem</a></span> <span class="id"><a href="RGRels.html#sm">sm</a></span> <span class="id"><a href="RGRels.html#b">b</a></span> <span class="id"><a href="RGRels.html#ofs">ofs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#client_mem">client_mem</a></span> <span class="id">sm</span>' <span class="id"><a href="RGRels.html#b">b</a></span> <span class="id"><a href="RGRels.html#ofs">ofs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9363')">Proof.</div>
<div class="proofscript" id="proof9363">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">intros</span>. <span class="id">exploit</span> <span class="id"><a href="RGRels.html#obj_mem_valid">obj_mem_valid</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span>. <span class="id">inv</span> <span class="id">H0</span>; <span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="GMemory.html#GMem.alloc_forward">GMem.alloc_forward</a></span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">H4</span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">instantiate</span> (1:=<span class="id"><a href="Memperm.html#Nonempty">Memperm.Nonempty</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="GMemory.html#GMem.mem_access">GMem.mem_access</a></span> <span class="id">sm</span>') !! <span class="id">b</span> <span class="id">ofs</span> <span class="id"><a href="Memperm.html#Cur">Memperm.Cur</a></span>); <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Memperm.html#perm_any_N">Memperm.perm_any_N</a></span>.  <br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fp_conflict_locs_conflict">fp_conflict_locs_conflict</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp1</span> <span class="id">fp2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">FP.conflict</span>' <span class="id"><a href="RGRels.html#fp1">fp1</a></span> <span class="id"><a href="RGRels.html#fp2">fp2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">b</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span> (<span class="id"><a href="Footprint.html#FP.locs">FP.locs</a></span> <span class="id"><a href="RGRels.html#fp1">fp1</a></span>) <span class="id"><a href="RGRels.html#b">b</a></span> <span class="id"><a href="RGRels.html#ofs">ofs</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span> (<span class="id"><a href="Footprint.html#FP.locs">FP.locs</a></span> <span class="id"><a href="RGRels.html#fp2">fp2</a></span>) <span class="id"><a href="RGRels.html#b">b</a></span> <span class="id"><a href="RGRels.html#ofs">ofs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9364')">Proof.</div>
<div class="proofscript" id="proof9364">
&nbsp;&nbsp;<span class="tactic">clear</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">fp1</span>, <span class="id">fp2</span>; <span class="tactic">intro</span>; <span class="id">inv</span> <span class="id">H</span>; <span class="id">Locs.unfolds</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.locs">FP.locs</a></span>, <span class="id"><a href="Footprint.html#FP.ge_cmps">FP.ge_cmps</a></span>, <span class="id"><a href="Footprint.html#FP.ge_reads">FP.ge_reads</a></span>, <span class="id"><a href="Footprint.html#FP.ge_writes">FP.ge_writes</a></span> <span class="kwd">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">destruct</span> <span class="id">H0</span> <span class="kwd">as</span> (<span class="id">b</span> &amp; <span class="id">ofs</span> &amp; ?); <span class="id">red_boolean_true</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Locs.unfolds</span>; <span class="id">exists</span> <span class="id">b</span>, <span class="id">ofs</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>; <span class="id">red_boolean_true</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="smile_emp_fp">smile_emp_fp</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp</span>, <span class="id"><a href="Footprint.html#FP.smile">FP.smile</a></span> <span class="id"><a href="RGRels.html#fp">fp</a></span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9365')">Proof.</div>
<div class="proofscript" id="proof9365">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">intro</span>. <br/>
&nbsp;&nbsp;<span class="id">constructor</span>; <span class="tactic">simpl</span>; <span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#Locs.smile">Locs.smile</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#Locs.locs_intersect_emp">Locs.locs_intersect_emp</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#Locs.locs_intersect_emp_sym">Locs.locs_intersect_emp_sym</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span> <span class="kwd">using</span> <span class="id"><a href="Footprint.html#Locs.eq_refl">Locs.eq_refl</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">forward_client_mem</span>':<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">sm1</span> <span class="id">sm2</span> <span class="id">b</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GMemory.html#GMem.forward">GMem.forward</a></span> <span class="id"><a href="RGRels.html#sm1">sm1</a></span> <span class="id"><a href="RGRels.html#sm2">sm2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GMemory.html#GMem.valid_block">GMem.valid_block</a></span> <span class="id"><a href="RGRels.html#sm1">sm1</a></span> <span class="id"><a href="RGRels.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#client_mem">client_mem</a></span> <span class="id"><a href="RGRels.html#sm2">sm2</a></span> <span class="id"><a href="RGRels.html#b">b</a></span> <span class="id"><a href="RGRels.html#ofs">ofs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#client_mem">client_mem</a></span> <span class="id"><a href="RGRels.html#sm1">sm1</a></span> <span class="id"><a href="RGRels.html#b">b</a></span> <span class="id"><a href="RGRels.html#ofs">ofs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9366')">Proof.</div>
<div class="proofscript" id="proof9366">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="RGRels.html#client_mem">client_mem</a></span>. <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">H1</span> <span class="kwd">as</span> [<span class="id">A</span> <span class="id">B</span>].<br/>
&nbsp;&nbsp;<span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="GMemory.html#GMem.mem_access">GMem.mem_access</a></span> <span class="id">sm2</span>) !! <span class="id">b</span> <span class="id">ofs</span> <span class="id"><a href="Memperm.html#Cur">Memperm.Cur</a></span>) <span class="id">eqn</span>:<span class="id">C</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="GMemory.html#GMem.alloc_forward">GMem.alloc_forward</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">C</span>. <span class="tactic">apply</span> <span class="id"><a href="Memperm.html#perm_any_N">Memperm.perm_any_N</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="GMemory.html#GMem.mem_access">GMem.mem_access</a></span> <span class="id">sm1</span>) !! <span class="id">b</span> <span class="id">ofs</span> <span class="id"><a href="Memperm.html#Cur">Memperm.Cur</a></span>) <span class="id">eqn</span>:<span class="id">C</span>'; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">intro</span>; <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="GMemory.html#GMem.mem_access">GMem.mem_access</a></span> <span class="id">sm2</span>) !! <span class="id">b</span> <span class="id">ofs</span> <span class="id"><a href="Memperm.html#Max">Memperm.Max</a></span>) <span class="id">eqn</span>:<span class="id">C</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="GMemory.html#GMem.alloc_forward">GMem.alloc_forward</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">C</span>. <span class="tactic">apply</span> <span class="id"><a href="Memperm.html#perm_any_N">Memperm.perm_any_N</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="GMemory.html#GMem.mem_access">GMem.mem_access</a></span> <span class="id">sm1</span>) !! <span class="id">b</span> <span class="id">ofs</span> <span class="id"><a href="Memperm.html#Max">Memperm.Max</a></span>) <span class="id">eqn</span>:<span class="id">C</span>'; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">intro</span>; <span class="tactic">discriminate</span>.<br/>
Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sep_obj_client_block_excluded">sep_obj_client_block_excluded</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">sm1</span> <span class="id">sm2</span> <span class="id">b</span> <span class="id">ofs1</span> <span class="id">ofs2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#sep_obj_client_block">sep_obj_client_block</a></span> <span class="id"><a href="RGRels.html#sm1">sm1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GMemory.html#GMem.forward">GMem.forward</a></span> <span class="id"><a href="RGRels.html#sm1">sm1</a></span> <span class="id"><a href="RGRels.html#sm2">sm2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#obj_mem">obj_mem</a></span> <span class="id"><a href="RGRels.html#sm1">sm1</a></span> <span class="id"><a href="RGRels.html#b">b</a></span> <span class="id"><a href="RGRels.html#ofs1">ofs1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#client_mem">client_mem</a></span> <span class="id"><a href="RGRels.html#sm2">sm2</a></span> <span class="id"><a href="RGRels.html#b">b</a></span> <span class="id"><a href="RGRels.html#ofs2">ofs2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9367')">Proof.</div>
<div class="proofscript" id="proof9367">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">sm1</span> <span class="id">sm2</span> <span class="id">b</span> <span class="id">ofs1</span> <span class="id">ofs2</span> <span class="id">Hsep</span> <span class="id">Hforward</span> <span class="id">Hobj</span> <span class="id">Hclt</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="RGRels.html#obj_mem_valid">obj_mem_valid</a></span>. <span class="tactic">eauto</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">forward_client_mem</span>'; <span class="tactic">eauto</span>.<br/>
Qed.</div>
&nbsp;&nbsp;<br/>
<span class="kwd">Lemma</span> <span class="id">obj_fp_forward_client_fp</span>'<span class="id">_smile</span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">sm1</span> <span class="id">fp1</span> <span class="id">sm2</span> <span class="id">sm3</span> <span class="id">fp3</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#sep_obj_client_block">sep_obj_client_block</a></span> <span class="id"><a href="RGRels.html#sm1">sm1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#obj_fp">obj_fp</a></span> <span class="id"><a href="RGRels.html#sm1">sm1</a></span> <span class="id"><a href="RGRels.html#sm2">sm2</a></span> <span class="id"><a href="RGRels.html#fp1">fp1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GMemory.html#GMem.forward">GMem.forward</a></span> <span class="id"><a href="RGRels.html#sm1">sm1</a></span> <span class="id"><a href="RGRels.html#sm2">sm2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GMemory.html#GMem.forward">GMem.forward</a></span> <span class="id"><a href="RGRels.html#sm2">sm2</a></span> <span class="id"><a href="RGRels.html#sm3">sm3</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">client_fp</span>' <span class="id"><a href="RGRels.html#sm3">sm3</a></span> <span class="id"><a href="RGRels.html#fp3">fp3</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.smile">FP.smile</a></span> <span class="id"><a href="RGRels.html#fp1">fp1</a></span> <span class="id"><a href="RGRels.html#fp3">fp3</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9368')">Proof.</div>
<div class="proofscript" id="proof9368">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">intros</span> <span class="id">sm1</span> <span class="id">fp1</span> <span class="id">sm2</span> <span class="id">sm3</span> <span class="id">fp3</span> <span class="id">Hsep</span> <span class="id">H</span> <span class="id">H0</span> <span class="id">H1</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">auto</span> <span class="kwd">using</span> <span class="id"><a href="RGRels.html#smile_emp_fp">smile_emp_fp</a></span>, <span class="id"><a href="FPLemmas.html#fpsmile_sym">fpsmile_sym</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.smile_conflict_compat">FP.smile_conflict_compat</a></span>; <span class="tactic">intro</span> <span class="id">C</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">FP.conflict</span>'<span class="id">_conflict_equiv</span>, <span class="id"><a href="RGRels.html#fp_conflict_locs_conflict">fp_conflict_locs_conflict</a></span> <span class="kwd">in</span> <span class="id">C</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">C</span> <span class="kwd">as</span> (<span class="id">b</span> &amp; <span class="id">ofs</span> &amp; <span class="id">C1</span> &amp; <span class="id">C2</span>).<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H_object_valid_block_fp</span> <span class="kwd">in</span> <span class="id">C1</span>; <span class="tactic">destruct</span> <span class="id">C1</span> <span class="kwd">as</span> [<span class="id">C1</span>|[<span class="id">ofs</span>' <span class="id">C1</span>]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H_client_valid_block_fp</span> <span class="kwd">in</span> <span class="id">C2</span>; <span class="tactic">destruct</span> <span class="id">C2</span> <span class="kwd">as</span> [<span class="id">C2</span>|[<span class="id">ofs</span>'' <span class="id">C2</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="RGRels.html#obj_mem_client_mem_excluded">obj_mem_client_mem_excluded</a></span>; [<span class="tactic">eapply</span> <span class="id"><a href="GMemory.html#GMem.forward_trans">GMem.forward_trans</a></span>; [<span class="tactic">exact</span> <span class="id">H0</span>| <span class="tactic">exact</span> <span class="id">H1</span>]| <span class="tactic">eauto</span> | <span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="RGRels.html#sep_obj_client_block_excluded">sep_obj_client_block_excluded</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="GMemory.html#GMem.forward_trans">GMem.forward_trans</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="RGRels.html#sep_obj_client_block_excluded">sep_obj_client_block_excluded</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="GMemory.html#GMem.forward_trans">GMem.forward_trans</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="RGRels.html#sep_obj_client_block_excluded">sep_obj_client_block_excluded</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="GMemory.html#GMem.forward_trans">GMem.forward_trans</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H</span>. <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="GMemory.html#GMem.dom_forward">GMem.dom_forward</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="GMemory.html#GMem.forward_trans">GMem.forward_trans</a></span>. <span class="tactic">exact</span> <span class="id">H0</span>. <span class="tactic">exact</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H_object_valid_block_fp</span> <span class="kwd">in</span> <span class="id">C1</span>. <span class="tactic">destruct</span> <span class="id">C1</span> <span class="kwd">as</span> [<span class="id">C1</span>|[<span class="id">ofs</span>' <span class="id">C1</span>]]; <span class="tactic">eapply</span> <span class="id"><a href="RGRels.html#obj_mem_valid">obj_mem_valid</a></span>; <span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H_client_valid_block_fp</span> <span class="kwd">in</span> <span class="id">C2</span>; <span class="tactic">destruct</span> <span class="id">C2</span> <span class="kwd">as</span> [<span class="id">C2</span>|[<span class="id">ofs</span>'' <span class="id">C2</span>]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H_object_alloc_fp</span> <span class="kwd">in</span> <span class="id">C1</span>; <span class="tactic">destruct</span> <span class="id">C1</span> <span class="kwd">as</span> [<span class="id">Hfresh</span> [<span class="id">Hvalid</span> [<span class="id">C1</span>|<span class="id">C1</span>]]].<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="RGRels.html#obj_mem_client_mem_excluded">obj_mem_client_mem_excluded</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="RGRels.html#unused_mem_client_mem_excluded">unused_mem_client_mem_excluded</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="RGRels.html#valid_unused_mem_forward">valid_unused_mem_forward</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="RGRels.html#obj_mem_client_mem_excluded">obj_mem_client_mem_excluded</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="RGRels.html#unused_mem_client_mem_excluded">unused_mem_client_mem_excluded</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="RGRels.html#valid_unused_mem_forward">valid_unused_mem_forward</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">auto</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H</span>. <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="GMemory.html#GMem.dom_forward">GMem.dom_forward</a></span>. <span class="tactic">exact</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H_object_alloc_fp</span> <span class="kwd">in</span> <span class="id">C1</span>. <span class="tactic">destruct</span> <span class="id">C1</span> <span class="kwd">as</span> (<span class="id">Hfresh</span> &amp; <span class="id">Hvalid</span> &amp; [<span class="id">Hobj</span>|<span class="id">Hunused</span>]); <span class="tactic">auto</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="id">Unshelve</span>. <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="client_mem_obj_mem_excluded">client_mem_obj_mem_excluded</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">sm1</span> <span class="id">sm2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span>, <span class="id"><a href="RGRels.html#obj_mem">obj_mem</a></span> <span class="id"><a href="RGRels.html#sm1">sm1</a></span> <span class="id"><a href="RGRels.html#b">b</a></span> <span class="id"><a href="RGRels.html#ofs">ofs</a></span> &lt;-&gt; <span class="id"><a href="RGRels.html#obj_mem">obj_mem</a></span> <span class="id"><a href="RGRels.html#sm2">sm2</a></span> <span class="id"><a href="RGRels.html#b">b</a></span> <span class="id"><a href="RGRels.html#ofs">ofs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span>, <span class="id"><a href="RGRels.html#client_mem">client_mem</a></span> <span class="id"><a href="RGRels.html#sm1">sm1</a></span> <span class="id"><a href="RGRels.html#b">b</a></span> <span class="id"><a href="RGRels.html#ofs">ofs</a></span> -&gt; <span class="id"><a href="RGRels.html#obj_mem">obj_mem</a></span> <span class="id"><a href="RGRels.html#sm2">sm2</a></span> <span class="id"><a href="RGRels.html#b">b</a></span> <span class="id"><a href="RGRels.html#ofs">ofs</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9369')">Proof.</div>
<div class="proofscript" id="proof9369">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="id">inv</span> <span class="id">H0</span>; <span class="id">inv</span> <span class="id">H1</span>; <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="adjacent_client_fp_obj_fp_smile">adjacent_client_fp_obj_fp_smile</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">sm1</span> <span class="id">fp1</span> <span class="id">sm2</span> <span class="id">fp2</span> <span class="id">sm3</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#sep_obj_client_block">sep_obj_client_block</a></span> <span class="id"><a href="RGRels.html#sm1">sm1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#client_fp">client_fp</a></span> <span class="id"><a href="RGRels.html#sm1">sm1</a></span> <span class="id"><a href="RGRels.html#sm2">sm2</a></span> <span class="id"><a href="RGRels.html#fp1">fp1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GMemory.html#GMem.forward">GMem.forward</a></span> <span class="id"><a href="RGRels.html#sm1">sm1</a></span> <span class="id"><a href="RGRels.html#sm2">sm2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span>, <span class="id"><a href="RGRels.html#obj_mem">obj_mem</a></span> <span class="id"><a href="RGRels.html#sm1">sm1</a></span> <span class="id"><a href="RGRels.html#b">b</a></span> <span class="id"><a href="RGRels.html#ofs">ofs</a></span> &lt;-&gt; <span class="id"><a href="RGRels.html#obj_mem">obj_mem</a></span> <span class="id"><a href="RGRels.html#sm2">sm2</a></span> <span class="id"><a href="RGRels.html#b">b</a></span> <span class="id"><a href="RGRels.html#ofs">ofs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#obj_fp">obj_fp</a></span> <span class="id"><a href="RGRels.html#sm2">sm2</a></span> <span class="id"><a href="RGRels.html#sm3">sm3</a></span> <span class="id"><a href="RGRels.html#fp2">fp2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.smile">FP.smile</a></span> <span class="id"><a href="RGRels.html#fp1">fp1</a></span> <span class="id"><a href="RGRels.html#fp2">fp2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof9370')">Proof.</div>
<div class="proofscript" id="proof9370">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">intros</span> <span class="id">sm1</span> <span class="id">fp1</span> <span class="id">sm2</span> <span class="id">fp2</span> <span class="id">sm3</span> <span class="id">Hsep</span> <span class="id">Hclient</span> <span class="id">Hforward</span> <span class="id">Hobjeq</span> <span class="id">Hobj</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">Hobj</span>; <span class="id">inv</span> <span class="id">Hclient</span>; <span class="tactic">auto</span> <span class="kwd">using</span> <span class="id"><a href="RGRels.html#smile_emp_fp">smile_emp_fp</a></span>, <span class="id"><a href="FPLemmas.html#fpsmile_sym">fpsmile_sym</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.smile_conflict_compat">FP.smile_conflict_compat</a></span>; <span class="tactic">intro</span> <span class="id">C</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">FP.conflict</span>'<span class="id">_conflict_equiv</span>, <span class="id"><a href="RGRels.html#fp_conflict_locs_conflict">fp_conflict_locs_conflict</a></span> <span class="kwd">in</span> <span class="id">C</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">C</span> <span class="kwd">as</span> (<span class="id">b</span> &amp; <span class="id">ofs</span> &amp; <span class="id">C1</span> &amp; <span class="id">C2</span>).<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H_client_valid_block_fp</span> <span class="kwd">in</span> <span class="id">C1</span>; <span class="tactic">destruct</span> <span class="id">C1</span> <span class="kwd">as</span> [<span class="id">C1</span>|[<span class="id">ofs</span>' <span class="id">C1</span>]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H_object_valid_block_fp</span> <span class="kwd">in</span> <span class="id">C2</span>; <span class="tactic">destruct</span> <span class="id">C2</span> <span class="kwd">as</span> [<span class="id">C2</span>|[<span class="id">ofs</span>'' <span class="id">C2</span>]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="RGRels.html#client_mem_obj_mem_excluded">client_mem_obj_mem_excluded</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Hobjeq</span> <span class="kwd">in</span> <span class="id">C2</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Hobjeq</span> <span class="kwd">in</span> <span class="id">C2</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">Hobjeq</span> <span class="kwd">in</span> <span class="id">C2</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H_client_alloc_fp</span> <span class="kwd">in</span> <span class="id">C1</span>; <span class="tactic">apply</span> <span class="id">H_object_valid_block_fp</span> <span class="kwd">in</span> <span class="id">C2</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">C2</span> <span class="kwd">as</span> [<span class="id">C2</span>|[<span class="id">ofs</span>' <span class="id">C2</span>]]; <span class="tactic">destruct</span> <span class="id">C1</span> <span class="kwd">as</span> [<span class="id">Hfresh</span> [<span class="id">Hvalid</span> [<span class="id">Hclient</span>|<span class="id">Hunused</span>]]].<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="RGRels.html#obj_mem_client_mem_excluded">obj_mem_client_mem_excluded</a></span>. <span class="tactic">auto</span> <span class="kwd">using</span> <span class="id"><a href="GMemory.html#GMem.forward_refl">GMem.forward_refl</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="RGRels.html#unused_mem_object_mem_excluded">unused_mem_object_mem_excluded</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="RGRels.html#obj_mem_client_mem_excluded">obj_mem_client_mem_excluded</a></span>. <span class="tactic">auto</span> <span class="kwd">using</span> <span class="id"><a href="GMemory.html#GMem.forward_refl">GMem.forward_refl</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="RGRels.html#unused_mem_object_mem_excluded">unused_mem_object_mem_excluded</a></span>; <span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H_client_valid_block_fp</span> <span class="kwd">in</span> <span class="id">C1</span>; <span class="tactic">apply</span> <span class="id">H_object_alloc_fp</span> <span class="kwd">in</span> <span class="id">C2</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">C1</span> <span class="kwd">as</span> [<span class="id">C1</span>|[<span class="id">ofs</span>' <span class="id">C1</span>]]; <span class="tactic">destruct</span> <span class="id">C2</span> <span class="kwd">as</span> [<span class="id">Hfresh</span> [<span class="id">Hvalid</span> <span class="id">_</span>]].<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="RGRels.html#client_mem_valid">client_mem_valid</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id">Hfresh</span>. <span class="tactic">eapply</span> <span class="id"><a href="GMemory.html#GMem.dom_forward">GMem.dom_forward</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="RGRels.html#client_mem_valid">client_mem_valid</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id">Hfresh</span>. <span class="tactic">eapply</span> <span class="id"><a href="GMemory.html#GMem.dom_forward">GMem.dom_forward</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H_object_alloc_fp</span> <span class="kwd">in</span> <span class="id">C2</span>. <span class="tactic">apply</span> <span class="id">H_client_alloc_fp</span> <span class="kwd">in</span> <span class="id">C1</span>. <span class="tactic">intuition</span>.<br/>
Qed.</div>
</div>
<div class="footer"><hr/>Generated by coq2html</div>
</body>
</html>
