<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module InvRG</title>
<meta name="description" content="Documentation of Coq module InvRG" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module InvRG</h1>
<div class="coq">
<div class="doc">This file defines the instantiation of object <span class="bracket"><span class="id">Ro</span></span>, <span class="bracket"><span class="id">Go</span></span> and <span class="bracket"><span class="id">Io</span></span> for spin-lock, 
which are corresponding to the definitions in Figure 21 in submission #115 
supplemental text.  </div>
<span class="id">From</span> <span class="id">mathcomp.ssreflect</span> <span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">fintype</span> <span class="id">ssrnat</span>.     <br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Coqlib.html">Coqlib</a></span> <span class="id"><a href="Maps.html">Maps</a></span> <span class="id"><a href="Axioms.html">Axioms</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="AST.html">AST</a></span> <span class="id"><a href="Integers.html">Integers</a></span> <span class="id"><a href="Floats.html">Floats</a></span> <span class="id"><a href="Values.html">Values</a></span> <span class="id"><a href="Events.html">Events</a></span> <span class="id"><a href="Globalenvs.html">Globalenvs</a></span> <span class="id"><a href="Smallstep.html">Smallstep</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Locations.html">Locations</a></span> <span class="id"><a href="Stacklayout.html">Stacklayout</a></span> <span class="id"><a href="Conventions.html">Conventions</a></span>.<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Asm.html">Asm</a></span>.<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="CUAST.html">CUAST</a></span> <span class="id"><a href="FMemOpFP.html">FMemOpFP</a></span> <span class="id"><a href="ValFP.html">ValFP</a></span> <span class="id"><a href="Op_fp.html">Op_fp</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Strings.String.html">String</a></span> <span class="id"><a href="val_casted.html">val_casted</a></span> <span class="id"><a href="helpers.html">helpers</a></span>.<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Footprint.html">Footprint</a></span> <span class="id"><a href="GMemory.html">GMemory</a></span> <span class="id"><a href="FMemory.html">FMemory</a></span> <span class="id"><a href="TSOMem.html">TSOMem</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="GAST.html">GAST</a></span> <span class="id"><a href="GlobDefs.html">GlobDefs</a></span> <span class="id"><a href="ETrace.html">ETrace</a></span> <span class="id"><a href="Blockset.html">Blockset</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="loadframe.html">loadframe</a></span>.<br/>
<br/>
<span class="kwd">Require</span> <span class="id"><a href="CminorLang.html">CminorLang</a></span>.<br/>
<span class="kwd">Require</span> <span class="id"><a href="SpecLang.html">SpecLang</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="ASM_local.html">ASM_local</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="AsmLang.html">AsmLang</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="AsmTSO.html">AsmTSO</a></span>. <br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.Streams.html">Coq.Lists.Streams</a></span>.<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="RGRels.html">RGRels</a></span> <span class="id"><a href="ClientSim.html">ClientSim</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="code.html">code</a></span>.<br/>
<br/>
<h1> Object Invirant </h1>
<div class="doc"><span class="bracket"><span class="id">unlock</span> <span class="id">state</span></span> : 
it says that the value of lock L is zero and there exists only one buffer item 
in buffers, which will update the value of lock L to one; or the value of lock L 
is one and there is no buffer item in buffers will change its value. It can be 
viewed as (<span class="bracket"><span class="id">I_buffered</span></span> \/ <span class="bracket"><span class="id">I_available</span></span>) defined in Figure 21 in submission #115 
supplemental text  </div>
<span class="kwd">Definition</span> <span class="id"><a name="unlock_st">unlock_st</a></span> (<span class="id">L</span> : <span class="id"><a href="Values.html#block">block</a></span>) (<span class="id">M</span> : <span class="id"><a href="GMemory.html#gmem">gmem</a></span>) (<span class="id">tm</span> : <span class="id"><a href="TSOMem.html#tsomem">tsomem</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="TSOMem.html#load">load</a></span> (<span class="id"><a href="AST.html#Mint32">Mint32</a></span>) <span class="id"><a href="InvRG.html#M">M</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> 0%<span class="id">Z</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="Integers.html#Int.one">Int.one</a></span>) /\<br/>
&nbsp;&nbsp;(<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">exists</span> <span class="id">t</span> <span class="id">bf1</span> <span class="id">bf2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#tm">tm</a></span>.(<span class="id"><a href="TSOMem.html#tso_buffers">tso_buffers</a></span>) <span class="id"><a href="InvRG.html#t">t</a></span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#bf1">bf1</a></span> ++ (<span class="id"><a href="TSOMem.html#BufferedStore">BufferedStore</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> 0%<span class="id">Z</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="Integers.html#Int.one">Int.one</a></span>)) :: <span class="id"><a href="InvRG.html#bf2">bf2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (<span class="kwd">forall</span> <span class="id">t</span>' <span class="id">ofs</span>, <span class="id"><a href="InvRG.html#t">t</a></span> &lt;&gt; <span class="id">t</span>' -&gt; ~ <span class="id"><a href="TSOMem.html#in_buffer">in_buffer</a></span> (<span class="id"><a href="InvRG.html#tm">tm</a></span>.(<span class="id"><a href="TSOMem.html#tso_buffers">tso_buffers</a></span>) <span class="id">t</span>') <span class="id"><a href="InvRG.html#L">L</a></span> <span class="id"><a href="InvRG.html#ofs">ofs</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (<span class="kwd">forall</span> <span class="id">ofs</span>, ~ <span class="id"><a href="TSOMem.html#in_buffer">in_buffer</a></span> (<span class="id"><a href="InvRG.html#bf1">bf1</a></span> ++ <span class="id"><a href="InvRG.html#bf2">bf2</a></span>) <span class="id"><a href="InvRG.html#L">L</a></span> <span class="id"><a href="InvRG.html#ofs">ofs</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ (<span class="id"><a href="TSOMem.html#load_tsomem">load_tsomem</a></span> (<span class="id"><a href="AST.html#Mint32">Mint32</a></span>) <span class="id"><a href="InvRG.html#tm">tm</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> 0%<span class="id">Z</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;) \/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="TSOMem.html#load_tsomem">load_tsomem</a></span> (<span class="id"><a href="AST.html#Mint32">Mint32</a></span>) <span class="id"><a href="InvRG.html#tm">tm</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> 0 = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="Integers.html#Int.one">Int.one</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">t</span> <span class="id">ofs</span>, ~ <span class="id"><a href="TSOMem.html#in_buffer">in_buffer</a></span> (<span class="id"><a href="TSOMem.html#tso_buffers">tso_buffers</a></span> <span class="id"><a href="InvRG.html#tm">tm</a></span> <span class="id"><a href="InvRG.html#t">t</a></span>) <span class="id"><a href="InvRG.html#L">L</a></span> <span class="id"><a href="InvRG.html#ofs">ofs</a></span>))<br/>
&nbsp;&nbsp;).<br/>
<br/>
<div class="doc"><span class="bracket"><span class="id">lock</span> <span class="id">state</span></span> : 
it says that the value of lock L is zero and there is no buffer item in buffers 
will change its value. It can be viewed as the definition of <span class="bracket"><span class="id">I_unavailable</span></span> in 
Figure 21 in submission #115 supplemental text </div>
<span class="kwd">Definition</span> <span class="id"><a name="lock_st">lock_st</a></span> (<span class="id">L</span> : <span class="id"><a href="Values.html#block">block</a></span>) (<span class="id">M</span> : <span class="id"><a href="GMemory.html#gmem">gmem</a></span>) (<span class="id">tm</span> : <span class="id"><a href="TSOMem.html#tsomem">tsomem</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="TSOMem.html#load">load</a></span> (<span class="id"><a href="AST.html#Mint32">Mint32</a></span>) <span class="id"><a href="InvRG.html#M">M</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> 0%<span class="id">Z</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>) /\<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">t</span>, ~ (<span class="id">exists</span> <span class="id">ofs</span>, <span class="id"><a href="TSOMem.html#in_buffer">in_buffer</a></span> (<span class="id"><a href="TSOMem.html#tso_buffers">tso_buffers</a></span> <span class="id"><a href="InvRG.html#tm">tm</a></span>  <span class="id"><a href="InvRG.html#t">t</a></span>) <span class="id"><a href="InvRG.html#L">L</a></span> <span class="id"><a href="InvRG.html#ofs">ofs</a></span>)) /\<br/>
&nbsp;&nbsp;(<span class="id"><a href="TSOMem.html#load_tsomem">load_tsomem</a></span> (<span class="id"><a href="AST.html#Mint32">Mint32</a></span>) <span class="id"><a href="InvRG.html#tm">tm</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> 0%<span class="id">Z</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>)). <br/>
<br/>
<div class="doc"><span class="bracket"><span class="id">object</span> <span class="id">invariant</span></span> : 
the state of lock variable L is in <span class="bracket"><span class="id">lock</span></span> or <span class="bracket"><span class="id">unlock</span></span> state, and corresponds to `Io` 
in Figure 21 in submission #115 supplemental text. </div>
<span class="kwd">Definition</span> <span class="id"><a name="obj_inv">obj_inv</a></span> (<span class="id">ge</span> : <span class="id"><a href="ASM_local.html#genv">genv</a></span>) : <span class="id"><a href="RGRels.html#stInv">stInv</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> (<span class="id">M</span> : <span class="id"><a href="GMemory.html#gmem">gmem</a></span>) (<span class="id">bm</span> : <span class="id"><a href="TSOMem.html#tsomem">tsomem</a></span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">L</span>, <span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="InvRG.html#ge">ge</a></span> <span class="id"><a href="code.html#lock_L_ident">lock_L_ident</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="InvRG.html#lock_st">lock_st</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> <span class="id"><a href="InvRG.html#M">M</a></span> <span class="id"><a href="InvRG.html#bm">bm</a></span> \/ <span class="id"><a href="InvRG.html#unlock_st">unlock_st</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> <span class="id"><a href="InvRG.html#M">M</a></span> <span class="id"><a href="InvRG.html#bm">bm</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">n</span>, <span class="id">exists</span> <span class="id">M</span>', <span class="id"><a href="TSOMem.html#store">store</a></span> (<span class="id"><a href="AST.html#Mint32">Mint32</a></span>) <span class="id"><a href="InvRG.html#M">M</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> 0%<span class="id">Z</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="InvRG.html#n">n</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">M</span>') /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">n</span>, <span class="id">exists</span> <span class="id">bm</span>', <span class="id"><a href="TSOMem.html#store_tsomem">store_tsomem</a></span> (<span class="id"><a href="AST.html#Mint32">Mint32</a></span>) <span class="id"><a href="InvRG.html#bm">bm</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> 0%<span class="id">Z</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="InvRG.html#n">n</a></span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">bm</span>') /\ <span class="id"><a href="TSOMem.html#unbuffer_safe">unbuffer_safe</a></span> <span class="id"><a href="InvRG.html#bm">bm</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">ofs</span>, 0 &lt;= <span class="id"><a href="InvRG.html#ofs">ofs</a></span> &lt; <span class="id"><a href="Memdata.html#size_chunk">size_chunk</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="RGRels.html#obj_mem">obj_mem</a></span> <span class="id"><a href="InvRG.html#M">M</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> <span class="id"><a href="InvRG.html#ofs">ofs</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">ofs</span>, 0 &lt;= <span class="id"><a href="InvRG.html#ofs">ofs</a></span> &lt; <span class="id"><a href="Memdata.html#size_chunk">size_chunk</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">p</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="GMemory.html#GMem.mem_access">GMem.mem_access</a></span> (<span class="id"><a href="TSOMem.html#get_gm">get_gm</a></span> <span class="id"><a href="InvRG.html#bm">bm</a></span>)) !! <span class="id"><a href="InvRG.html#L">L</a></span> <span class="id"><a href="InvRG.html#ofs">ofs</a></span> <span class="id"><a href="Memperm.html#Cur">Memperm.Cur</a></span> =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="InvRG.html#p">p</a></span> /\ <span class="id"><a href="Memperm.html#perm_order">Memperm.perm_order</a></span> <span class="id"><a href="InvRG.html#p">p</a></span> <span class="id"><a href="Memperm.html#Writable">Memperm.Writable</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">ofs</span> <span class="id">k</span> <span class="id">p</span>, (<span class="id"><a href="InvRG.html#ofs">ofs</a></span> &gt;= <span class="id"><a href="Memdata.html#size_chunk">size_chunk</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> \/ <span class="id"><a href="InvRG.html#ofs">ofs</a></span> &lt; 0) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~ <span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span> <span class="id"><a href="InvRG.html#M">M</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> <span class="id"><a href="InvRG.html#ofs">ofs</a></span> <span class="id"><a href="InvRG.html#k">k</a></span> <span class="id"><a href="InvRG.html#p">p</a></span> /\ ~ <span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span> (<span class="id"><a href="TSOMem.html#memory">memory</a></span> <span class="id"><a href="InvRG.html#bm">bm</a></span>) <span class="id"><a href="InvRG.html#L">L</a></span> <span class="id"><a href="InvRG.html#ofs">ofs</a></span> <span class="id"><a href="InvRG.html#k">k</a></span> <span class="id"><a href="InvRG.html#p">p</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
<br/>
<h1> lock Guarantee </h1>
<div class="doc"><span class="bracket"><span class="id">lock_succ</span></span> : 
it describles the state transition when the thread achieves the lock. It changes 
the value of lock L from 1 to 0 (Corresponding to the definition of G_lock in 
Figure 21 in submission #115 supplemental text).
</div>
<span class="kwd">Definition</span> <span class="id"><a name="lock_succ">lock_succ</a></span> (<span class="id">L</span> : <span class="id"><a href="Values.html#block">block</a></span>) (<span class="id">t</span> : <span class="id"><a href="GlobDefs.html#tid">tid</a></span>) : <span class="id"><a href="RGRels.html#stRel">stRel</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> (<span class="id">M</span> : <span class="id"><a href="GMemory.html#gmem">gmem</a></span>) (<span class="id">bm</span> : <span class="id"><a href="TSOMem.html#tsomem">tsomem</a></span>) (<span class="id">M</span>' : <span class="id"><a href="GMemory.html#gmem">gmem</a></span>) (<span class="id">bm</span>' : <span class="id"><a href="TSOMem.html#tsomem">tsomem</a></span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="TSOMem.html#load">load</a></span> (<span class="id"><a href="AST.html#Mint32">Mint32</a></span>) <span class="id"><a href="InvRG.html#M">M</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> 0%<span class="id">Z</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="Integers.html#Int.one">Int.one</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="TSOMem.html#load_tsomem">load_tsomem</a></span> (<span class="id"><a href="AST.html#Mint32">Mint32</a></span>) <span class="id"><a href="InvRG.html#bm">bm</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> 0 = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="Integers.html#Int.one">Int.one</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">bm</span>' = <span class="id"><a href="TSOMem.html#store_tsomem">store_tsomem</a></span> (<span class="id"><a href="AST.html#Mint32">Mint32</a></span>) <span class="id"><a href="InvRG.html#bm">bm</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> 0 (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="TSOMem.html#store">store</a></span> (<span class="id"><a href="AST.html#Mint32">Mint32</a></span>) <span class="id"><a href="InvRG.html#M">M</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> 0%<span class="id">Z</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">M</span>' <br/>
&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
<br/>
<div class="doc"><span class="bracket"><span class="id">lock_fail</span></span> : 
it describles the state transition when the thread fails to get the lock. 
Because the program state does not change when lock fails. It can be view 
as transition Id defined in Figure 21 in submission #115 supplemental text.
</div>
<span class="kwd">Definition</span> <span class="id"><a name="lock_fail">lock_fail</a></span> (<span class="id">L</span> : <span class="id"><a href="Values.html#block">block</a></span>) (<span class="id">t</span> : <span class="id"><a href="GlobDefs.html#tid">tid</a></span>) : <span class="id"><a href="RGRels.html#stRel">stRel</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> (<span class="id">M</span> : <span class="id"><a href="GMemory.html#gmem">gmem</a></span>) (<span class="id">tm</span> : <span class="id"><a href="TSOMem.html#tsomem">tsomem</a></span>) (<span class="id">M</span>' : <span class="id"><a href="GMemory.html#gmem">gmem</a></span>) (<span class="id">tm</span>' : <span class="id"><a href="TSOMem.html#tsomem">tsomem</a></span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="TSOMem.html#load_tsomem">load_tsomem</a></span> (<span class="id"><a href="AST.html#Mint32">Mint32</a></span>) <span class="id"><a href="InvRG.html#tm">tm</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> 0 = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>) /\ <span class="id"><a href="InvRG.html#M">M</a></span> = <span class="id">M</span>' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">tm</span>' = <span class="id"><a href="TSOMem.html#store_tsomem">store_tsomem</a></span> (<span class="id"><a href="AST.html#Mint32">Mint32</a></span>) <span class="id"><a href="InvRG.html#tm">tm</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> 0 (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>).<br/>
<br/>
<div class="doc"><span class="bracket"><span class="id">Id</span></span> : corresponding to the transition Id defined in Figure 21 in submission 
#115 supplemental text </div>
<span class="kwd">Definition</span> <span class="id"><a name="Id">Id</a></span> (<span class="id">ge</span> : <span class="id"><a href="ASM_local.html#genv">genv</a></span>) (<span class="id">M</span> : <span class="id"><a href="GMemory.html#gmem">gmem</a></span>) (<span class="id">bm</span> : <span class="id"><a href="TSOMem.html#tsomem">tsomem</a></span>) (<span class="id">M</span>' : <span class="id"><a href="GMemory.html#gmem">gmem</a></span>) (<span class="id">bm</span>' : <span class="id"><a href="TSOMem.html#tsomem">tsomem</a></span>) :<br/>
&nbsp;&nbsp;<span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="InvRG.html#M">M</a></span> = <span class="id">M</span>' /\ <span class="id"><a href="InvRG.html#bm">bm</a></span> = <span class="id">bm</span>' /\ <span class="id"><a href="InvRG.html#obj_inv">obj_inv</a></span> <span class="id"><a href="InvRG.html#ge">ge</a></span> <span class="id"><a href="InvRG.html#M">M</a></span> <span class="id"><a href="InvRG.html#bm">bm</a></span>.<br/>
<br/>
<div class="doc"><span class="bracket"><span class="id">G_lock</span></span> : lock_succ \/ lock_fail </div>
<span class="kwd">Definition</span> <span class="id"><a name="G_lock">G_lock</a></span> (<span class="id">ge</span> : <span class="id"><a href="ASM_local.html#genv">genv</a></span>) (<span class="id">t</span> : <span class="id"><a href="GlobDefs.html#tid">tid</a></span>) : <span class="id"><a href="RGRels.html#stRel">stRel</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> (<span class="id">M</span> : <span class="id"><a href="GMemory.html#gmem">gmem</a></span>) (<span class="id">tm</span> : <span class="id"><a href="TSOMem.html#tsomem">tsomem</a></span>) (<span class="id">M</span>' : <span class="id"><a href="GMemory.html#gmem">gmem</a></span>) (<span class="id">tm</span>' : <span class="id"><a href="TSOMem.html#tsomem">tsomem</a></span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">L</span>, <span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="InvRG.html#ge">ge</a></span> <span class="id"><a href="code.html#lock_L_ident">lock_L_ident</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#obj_inv">obj_inv</a></span> <span class="id"><a href="InvRG.html#ge">ge</a></span> <span class="id"><a href="InvRG.html#M">M</a></span> <span class="id"><a href="InvRG.html#tm">tm</a></span> /\ <span class="id"><a href="InvRG.html#obj_inv">obj_inv</a></span> <span class="id"><a href="InvRG.html#ge">ge</a></span> <span class="id">M</span>' <span class="id">tm</span>' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="InvRG.html#lock_succ">lock_succ</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> <span class="id"><a href="InvRG.html#t">t</a></span> <span class="id"><a href="InvRG.html#M">M</a></span> <span class="id"><a href="InvRG.html#tm">tm</a></span> <span class="id">M</span>' <span class="id">tm</span>' \/ <span class="id"><a href="InvRG.html#lock_fail">lock_fail</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> <span class="id"><a href="InvRG.html#t">t</a></span> <span class="id"><a href="InvRG.html#M">M</a></span> <span class="id"><a href="InvRG.html#tm">tm</a></span> <span class="id">M</span>' <span class="id">tm</span>').<br/>
<br/>
<div class="doc"><span class="bracket"><span class="id">G_alloc</span></span> : 
it describles the state transition when executing memory allocation. It requires 
the low-level and high-level program allocate the same block. The memory allocation
isn't shown in paper, but we consider it in Coq proof </div>
<span class="kwd">Definition</span> <span class="id"><a name="G_alloc">G_alloc</a></span> (<span class="id">ge</span> : <span class="id"><a href="ASM_local.html#genv">genv</a></span>) (<span class="id">t</span> : <span class="id"><a href="GlobDefs.html#tid">tid</a></span>) : <span class="id"><a href="RGRels.html#stRel">stRel</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> (<span class="id">M</span> : <span class="id"><a href="GMemory.html#gmem">gmem</a></span>) (<span class="id">tm</span> : <span class="id"><a href="TSOMem.html#tsomem">tsomem</a></span>) (<span class="id">M</span>' : <span class="id"><a href="GMemory.html#gmem">gmem</a></span>) (<span class="id">tm</span>' : <span class="id"><a href="TSOMem.html#tsomem">tsomem</a></span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#obj_inv">obj_inv</a></span> <span class="id"><a href="InvRG.html#ge">ge</a></span> <span class="id"><a href="InvRG.html#M">M</a></span> <span class="id"><a href="InvRG.html#tm">tm</a></span> /\ <span class="id"><a href="InvRG.html#obj_inv">obj_inv</a></span> <span class="id"><a href="InvRG.html#ge">ge</a></span> <span class="id">M</span>' <span class="id">tm</span>' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">M</span>' = <span class="id"><a href="TSOMem.html#alloc">alloc</a></span> <span class="id"><a href="InvRG.html#M">M</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> 0 0 /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="TSOMem.html#append_t_buffer">append_t_buffer</a></span> <span class="id"><a href="InvRG.html#t">t</a></span> <span class="id"><a href="InvRG.html#tm">tm</a></span> (<span class="id"><a href="TSOMem.html#BufferedAlloc">BufferedAlloc</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> 0 0) = <span class="id">tm</span>' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> (<span class="id"><a href="GMemory.html#GMem.validblocks">GMem.validblocks</a></span> <span class="id"><a href="InvRG.html#M">M</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">t</span>', ~ (<span class="id">exists</span> <span class="id">ofs</span>, <span class="id"><a href="TSOMem.html#in_buffer">in_buffer</a></span> (<span class="id"><a href="TSOMem.html#tso_buffers">tso_buffers</a></span> <span class="id"><a href="InvRG.html#tm">tm</a></span> <span class="id">t</span>') <span class="id"><a href="InvRG.html#b">b</a></span> <span class="id"><a href="InvRG.html#ofs">ofs</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ ~ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> (<span class="id"><a href="GMemory.html#GMem.validblocks">GMem.validblocks</a></span> (<span class="id"><a href="TSOMem.html#memory">memory</a></span> <span class="id"><a href="InvRG.html#tm">tm</a></span>)).<br/>
<br/>
<h1> unlock Guarantee </h1>
<span class="kwd">Definition</span> <span class="id"><a name="unlock_succ">unlock_succ</a></span> (<span class="id">L</span> : <span class="id"><a href="Values.html#block">block</a></span>) (<span class="id">t</span> : <span class="id"><a href="GlobDefs.html#tid">tid</a></span>) : <span class="id"><a href="RGRels.html#stRel">stRel</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> (<span class="id">M</span> : <span class="id"><a href="GMemory.html#gmem">gmem</a></span>) (<span class="id">tm</span> : <span class="id"><a href="TSOMem.html#tsomem">tsomem</a></span>) (<span class="id">M</span>' : <span class="id"><a href="GMemory.html#gmem">gmem</a></span>) (<span class="id">tm</span>' : <span class="id"><a href="TSOMem.html#tsomem">tsomem</a></span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="TSOMem.html#load">load</a></span> (<span class="id"><a href="AST.html#Mint32">Mint32</a></span>) <span class="id"><a href="InvRG.html#M">M</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> 0%<span class="id">Z</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="TSOMem.html#load_tsomem">load_tsomem</a></span> (<span class="id"><a href="AST.html#Mint32">Mint32</a></span>) <span class="id"><a href="InvRG.html#tm">tm</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> 0%<span class="id">Z</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>)) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="TSOMem.html#store">store</a></span> (<span class="id"><a href="AST.html#Mint32">Mint32</a></span>) <span class="id"><a href="InvRG.html#M">M</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> 0%<span class="id">Z</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="Integers.html#Int.one">Int.one</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">M</span>' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="TSOMem.html#append_t_buffer">append_t_buffer</a></span> <span class="id"><a href="InvRG.html#t">t</a></span> <span class="id"><a href="InvRG.html#tm">tm</a></span> (<span class="id"><a href="TSOMem.html#BufferedStore">BufferedStore</a></span> <span class="id"><a href="AST.html#Mint32">Mint32</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> 0 (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="Integers.html#Int.one">Int.one</a></span>)) = <span class="id">tm</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
<br/>
<div class="doc"><span class="bracket"><span class="id">G_unlock</span></span> : 
it describles the state transition when the thread releases the lock. It changes 
the value of lock L from 1 to 0. The low-level x86-tso program doesn't modify 
variable L in memory directly, but pushs the write operation to buffer instead. 
It corresponding to the definition of G_unlock in Figure 21 in submission #115 
supplemental text </div>
<span class="kwd">Definition</span> <span class="id"><a name="G_unlock">G_unlock</a></span> (<span class="id">ge</span> : <span class="id"><a href="ASM_local.html#genv">genv</a></span>) (<span class="id">t</span> : <span class="id"><a href="GlobDefs.html#tid">tid</a></span>) : <span class="id"><a href="RGRels.html#stRel">stRel</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> (<span class="id">M</span> : <span class="id"><a href="GMemory.html#gmem">gmem</a></span>) (<span class="id">tm</span> : <span class="id"><a href="TSOMem.html#tsomem">tsomem</a></span>) (<span class="id">M</span>' : <span class="id"><a href="GMemory.html#gmem">gmem</a></span>) (<span class="id">tm</span>' : <span class="id"><a href="TSOMem.html#tsomem">tsomem</a></span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">L</span>, <span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="InvRG.html#ge">ge</a></span> <span class="id"><a href="code.html#lock_L_ident">lock_L_ident</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#obj_inv">obj_inv</a></span> <span class="id"><a href="InvRG.html#ge">ge</a></span> <span class="id"><a href="InvRG.html#M">M</a></span> <span class="id"><a href="InvRG.html#tm">tm</a></span> /\ <span class="id"><a href="InvRG.html#obj_inv">obj_inv</a></span> <span class="id"><a href="InvRG.html#ge">ge</a></span> <span class="id">M</span>' <span class="id">tm</span>' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#unlock_succ">unlock_succ</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> <span class="id"><a href="InvRG.html#t">t</a></span> <span class="id"><a href="InvRG.html#M">M</a></span> <span class="id"><a href="InvRG.html#tm">tm</a></span> <span class="id">M</span>' <span class="id">tm</span>'.<br/>
<br/>
<div class="doc">G client </div>
<span class="kwd">Definition</span> <span class="id"><a name="Gclt">Gclt</a></span> (<span class="id">ge</span> : <span class="id"><a href="ASM_local.html#genv">genv</a></span>) (<span class="id">t</span> : <span class="id"><a href="GlobDefs.html#tid">tid</a></span>) : <span class="id"><a href="RGRels.html#stRel">stRel</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> (<span class="id">M</span> : <span class="id"><a href="GMemory.html#gmem">gmem</a></span>) (<span class="id">tm</span> : <span class="id"><a href="TSOMem.html#tsomem">tsomem</a></span>) (<span class="id">M</span>' : <span class="id"><a href="GMemory.html#gmem">gmem</a></span>) (<span class="id">tm</span>' : <span class="id"><a href="TSOMem.html#tsomem">tsomem</a></span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">L</span>, <span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="InvRG.html#ge">ge</a></span> <span class="id"><a href="code.html#lock_L_ident">lock_L_ident</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, <span class="id"><a href="TSOMem.html#load">load</a></span> (<span class="id"><a href="AST.html#Mint32">Mint32</a></span>) <span class="id"><a href="InvRG.html#M">M</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> 0 = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="InvRG.html#v">v</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="TSOMem.html#load">load</a></span> (<span class="id"><a href="AST.html#Mint32">Mint32</a></span>) <span class="id">M</span>' <span class="id"><a href="InvRG.html#L">L</a></span> 0 = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="InvRG.html#v">v</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#obj_inv">obj_inv</a></span> <span class="id"><a href="InvRG.html#ge">ge</a></span> <span class="id"><a href="InvRG.html#M">M</a></span> <span class="id"><a href="InvRG.html#tm">tm</a></span> /\ <span class="id"><a href="InvRG.html#obj_inv">obj_inv</a></span> <span class="id"><a href="InvRG.html#ge">ge</a></span> <span class="id">M</span>' <span class="id">tm</span>' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">t</span>, ~ (<span class="id">exists</span> <span class="id">ofs</span>, <span class="id"><a href="TSOMem.html#in_buffer">in_buffer</a></span> (<span class="id"><a href="TSOMem.html#tso_buffers">tso_buffers</a></span> <span class="id"><a href="InvRG.html#tm">tm</a></span> <span class="id"><a href="InvRG.html#t">t</a></span>) <span class="id"><a href="InvRG.html#L">L</a></span> <span class="id"><a href="InvRG.html#ofs">ofs</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~ (<span class="id">exists</span> <span class="id">ofs</span>, <span class="id"><a href="TSOMem.html#in_buffer">in_buffer</a></span> (<span class="id"><a href="TSOMem.html#tso_buffers">tso_buffers</a></span> <span class="id">tm</span>' <span class="id"><a href="InvRG.html#t">t</a></span>) <span class="id"><a href="InvRG.html#L">L</a></span> <span class="id"><a href="InvRG.html#ofs">ofs</a></span>)).<br/>
<br/>
<div class="doc">Object G </div>
<span class="kwd">Definition</span> <span class="id"><a name="Gobj">Gobj</a></span> (<span class="id">ge</span> : <span class="id"><a href="ASM_local.html#genv">genv</a></span>) (<span class="id">t</span> : <span class="id"><a href="GlobDefs.html#tid">tid</a></span>) : <span class="id"><a href="RGRels.html#stRel">stRel</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> (<span class="id">M</span> : <span class="id"><a href="GMemory.html#gmem">gmem</a></span>) (<span class="id">tm</span> : <span class="id"><a href="TSOMem.html#tsomem">tsomem</a></span>) (<span class="id">M</span>' : <span class="id"><a href="GMemory.html#gmem">gmem</a></span>) (<span class="id">tm</span>' : <span class="id"><a href="TSOMem.html#tsomem">tsomem</a></span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#G_lock">G_lock</a></span> <span class="id"><a href="InvRG.html#ge">ge</a></span> <span class="id"><a href="InvRG.html#t">t</a></span> <span class="id"><a href="InvRG.html#M">M</a></span> <span class="id"><a href="InvRG.html#tm">tm</a></span> <span class="id">M</span>' <span class="id">tm</span>' \/ <span class="id"><a href="InvRG.html#G_unlock">G_unlock</a></span> <span class="id"><a href="InvRG.html#ge">ge</a></span> <span class="id"><a href="InvRG.html#t">t</a></span> <span class="id"><a href="InvRG.html#M">M</a></span> <span class="id"><a href="InvRG.html#tm">tm</a></span> <span class="id">M</span>' <span class="id">tm</span>' \/ <span class="id"><a href="InvRG.html#Id">Id</a></span> <span class="id"><a href="InvRG.html#ge">ge</a></span> <span class="id"><a href="InvRG.html#M">M</a></span> <span class="id"><a href="InvRG.html#tm">tm</a></span> <span class="id">M</span>' <span class="id">tm</span>' \/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#G_alloc">G_alloc</a></span> <span class="id"><a href="InvRG.html#ge">ge</a></span> <span class="id"><a href="InvRG.html#t">t</a></span> <span class="id"><a href="InvRG.html#M">M</a></span> <span class="id"><a href="InvRG.html#tm">tm</a></span> <span class="id">M</span>' <span class="id">tm</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
<h1> Object Rely </h1>
<div class="doc">Corresponding to the R_buffer defined in Figure 21 in submission #115 
supplemental text </div>
<span class="kwd">Definition</span> <span class="id"><a name="Robj">Robj</a></span> (<span class="id">ge</span> : <span class="id"><a href="ASM_local.html#genv">genv</a></span>) (<span class="id">t</span> : <span class="id"><a href="GlobDefs.html#tid">tid</a></span>) : <span class="id"><a href="RGRels.html#stRel">stRel</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> (<span class="id">M</span> : <span class="id"><a href="GMemory.html#gmem">gmem</a></span>) (<span class="id">tm</span> : <span class="id"><a href="TSOMem.html#tsomem">tsomem</a></span>) (<span class="id">M</span>' : <span class="id"><a href="GMemory.html#gmem">gmem</a></span>) (<span class="id">tm</span>' : <span class="id"><a href="TSOMem.html#tsomem">tsomem</a></span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">t</span>', <span class="id"><a href="InvRG.html#t">t</a></span> &lt;&gt; <span class="id">t</span>' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#Gclt">Gclt</a></span> <span class="id"><a href="InvRG.html#ge">ge</a></span> <span class="id">t</span>' <span class="id"><a href="InvRG.html#M">M</a></span> <span class="id"><a href="InvRG.html#tm">tm</a></span> <span class="id">M</span>' <span class="id">tm</span>' \/ <span class="id"><a href="InvRG.html#Gobj">Gobj</a></span> <span class="id"><a href="InvRG.html#ge">ge</a></span> <span class="id">t</span>' <span class="id"><a href="InvRG.html#M">M</a></span> <span class="id"><a href="InvRG.html#tm">tm</a></span> <span class="id">M</span>' <span class="id">tm</span>').<br/>
<br/>
<h1> Match State </h1>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="MatchState">MatchState</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="MatchState.sge">sge</a></span> : <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="SpecLang.html#F">SpecLang.F</a></span> <span class="id"><a href="SpecLang.html#V">SpecLang.V</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="MatchState.ge">ge</a></span> : <span class="id"><a href="ASM_local.html#genv">genv</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="Sskip">Sskip</a></span> := <span class="id"><a href="SpecLang.html#Sskip">SpecLang.Sskip</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="Sassign">Sassign</a></span> := <span class="id"><a href="SpecLang.html#Sassign">SpecLang.Sassign</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="Sloadv">Sloadv</a></span> := <span class="id"><a href="SpecLang.html#Sloadv">SpecLang.Sloadv</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="Sstorev">Sstorev</a></span> := <span class="id"><a href="SpecLang.html#Sstorev">SpecLang.Sstorev</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="Sseq">Sseq</a></span> := <span class="id"><a href="SpecLang.html#Sseq">SpecLang.Sseq</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="Swhile">Swhile</a></span> := <span class="id"><a href="SpecLang.html#Swhile">SpecLang.Swhile</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="Satom">Satom</a></span> := <span class="id"><a href="SpecLang.html#Satom">SpecLang.Satom</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="Sassert">Sassert</a></span> := <span class="id"><a href="SpecLang.html#Sassert">SpecLang.Sassert</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="lock_spec_fn">lock_spec_fn</a></span> : <span class="id"><a href="SpecLang.html#stmt">SpecLang.stmt</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#Sseq">Sseq</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="InvRG.html#Sseq">Sseq</a></span> (<span class="id"><a href="InvRG.html#Sassign">Sassign</a></span> <span class="id"><a href="code.html#r">r</a></span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="InvRG.html#Sseq">Sseq</a></span> (<span class="id"><a href="InvRG.html#Sassign">Sassign</a></span> <span class="id"><a href="code.html#x">x</a></span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="InvRG.html#Sseq">Sseq</a></span> (<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#Swhile">Swhile</a></span> (<span class="id"><a href="SpecLang.html#BEq">SpecLang.BEq</a></span> <span class="id"><a href="code.html#r">r</a></span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="InvRG.html#Satom">Satom</a></span> (<span class="id"><a href="InvRG.html#Sseq">Sseq</a></span> (<span class="id"><a href="InvRG.html#Sloadv">Sloadv</a></span> <span class="id"><a href="code.html#r">r</a></span> <span class="id"><a href="code.html#lock_L_ident">lock_L_ident</a></span>) (<span class="id"><a href="InvRG.html#Sstorev">Sstorev</a></span> <span class="id"><a href="code.html#x">x</a></span> <span class="id"><a href="code.html#lock_L_ident">lock_L_ident</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) <span class="id"><a href="InvRG.html#Sskip">Sskip</a></span>))) <span class="id"><a href="InvRG.html#Sskip">Sskip</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="lock_spec_while_cont">lock_spec_while_cont</a></span> : <span class="id"><a href="SpecLang.html#cont">SpecLang.cont</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="SpecLang.html#Kseq">SpecLang.Kseq</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="SpecLang.html#Swhile">SpecLang.Swhile</a></span> (<span class="id"><a href="SpecLang.html#BEq">SpecLang.BEq</a></span> <span class="id"><a href="code.html#r">r</a></span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="SpecLang.html#Satom">SpecLang.Satom</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="SpecLang.html#Sseq">SpecLang.Sseq</a></span> (<span class="id"><a href="SpecLang.html#Sloadv">SpecLang.Sloadv</a></span> <span class="id"><a href="code.html#r">r</a></span> <span class="id"><a href="code.html#lock_L_ident">lock_L_ident</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="SpecLang.html#Sstorev">SpecLang.Sstorev</a></span> <span class="id"><a href="code.html#x">x</a></span> <span class="id"><a href="code.html#lock_L_ident">lock_L_ident</a></span>))))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="SpecLang.html#Kseq">SpecLang.Kseq</a></span> <span class="id"><a href="SpecLang.html#Sskip">SpecLang.Sskip</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="SpecLang.html#Kseq">SpecLang.Kseq</a></span> <span class="id"><a href="SpecLang.html#Sskip">SpecLang.Sskip</a></span> <span class="id"><a href="SpecLang.html#Kstop">SpecLang.Kstop</a></span>)).<br/>
<br/>
<h2> Lock Acquire function Match State  </h2>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="lock_match_state">lock_match_state</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#tid">tid</a></span> -&gt; <span class="id"><a href="SpecLang.html#core">SpecLang.core</a></span> * <span class="id"><a href="GMemory.html#gmem">gmem</a></span> -&gt; <span class="id"><a href="AsmTSO.html#core">core</a></span> * <span class="id"><a href="TSOMem.html#tsomem">tsomem</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="lock_init_match">lock_init_match</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span> <span class="id">sc</span> <span class="id">sm</span> <span class="id">tc</span> <span class="id">tm</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="InvRG.html#tc">tc</a></span> = <span class="id"><a href="AsmTSO.html#init_core">init_core</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="code.html#lock_acquire_ident">lock_acquire_ident</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="InvRG.html#sc">sc</a></span> = <span class="id"><a href="SpecLang.html#init_core">SpecLang.init_core</a></span> <span class="id"><a href="InvRG.html#MatchState.sge">sge</a></span> <span class="id"><a href="code.html#lock_acquire_ident">lock_acquire_ident</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#obj_inv">obj_inv</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#sm">sm</a></span> <span class="id"><a href="InvRG.html#tm">tm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#lock_match_state">lock_match_state</a></span> <span class="id"><a href="InvRG.html#t">t</a></span> (<span class="id"><a href="InvRG.html#sc">sc</a></span>, <span class="id"><a href="InvRG.html#sm">sm</a></span>) (<span class="id"><a href="InvRG.html#tc">tc</a></span>, <span class="id"><a href="InvRG.html#tm">tm</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;| <span class="id"><a name="lock_label_match">lock_label_match</a></span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span> <span class="id">rs</span> <span class="id">lf</span> <span class="id">b</span> <span class="id">sc</span> <span class="id">sm</span> <span class="id">tc</span> <span class="id">tm</span> <span class="id">te</span> <span class="id">b</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#tc">tc</a></span> = <span class="id"><a href="ASM_local.html#Core_State">Core_State</a></span> <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="InvRG.html#lf">lf</a></span> -&gt; <span class="id"><a href="InvRG.html#lf">lf</a></span> = <span class="id"><a href="ASM_local.html#mk_load_frame">mk_load_frame</a></span> <span class="id">b</span>' <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#PC">PC</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 0) -&gt; <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RA">RA</a></span> = <span class="id"><a href="Values.html#Vzero">Vzero</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="AST.html#Internal">Internal</a></span> <span class="id"><a href="code.html#lock_acquire_tso_fnbody">lock_acquire_tso_fnbody</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#find_instr">find_instr</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 0))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="code.html#lock_acquire_tso_fnbody">lock_acquire_tso_fnbody</a></span>.(<span class="id"><a href="ASM_local.html#fn_code">fn_code</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="ASM_local.html#Plabel">Plabel</a></span> <span class="id"><a href="code.html#lock_lbl">lock_lbl</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#sc">sc</a></span> = <span class="id"><a href="SpecLang.html#State">SpecLang.State</a></span> <span class="id"><a href="InvRG.html#lock_spec_fn">lock_spec_fn</a></span> <span class="id"><a href="SpecLang.html#Kstop">SpecLang.Kstop</a></span> <span class="id"><a href="InvRG.html#te">te</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#obj_inv">obj_inv</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#sm">sm</a></span> <span class="id"><a href="InvRG.html#tm">tm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#lock_match_state">lock_match_state</a></span> <span class="id"><a href="InvRG.html#t">t</a></span> (<span class="id"><a href="InvRG.html#sc">sc</a></span>, <span class="id"><a href="InvRG.html#sm">sm</a></span>) (<span class="id"><a href="InvRG.html#tc">tc</a></span>, <span class="id"><a href="InvRG.html#tm">tm</a></span>)<br/>
<br/>
&nbsp;&nbsp;| <span class="id"><a name="mov_Laddr_match">mov_Laddr_match</a></span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span> <span class="id">rs</span> <span class="id">lf</span> <span class="id">b</span> <span class="id">sc</span> <span class="id">sm</span> <span class="id">tc</span> <span class="id">tm</span> <span class="id">te</span> <span class="id">b</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#tc">tc</a></span> = <span class="id"><a href="ASM_local.html#Core_State">Core_State</a></span> <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="InvRG.html#lf">lf</a></span> -&gt; <span class="id"><a href="InvRG.html#lf">lf</a></span> = <span class="id"><a href="ASM_local.html#mk_load_frame">mk_load_frame</a></span> <span class="id">b</span>' <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#PC">PC</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 1) -&gt; <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RA">RA</a></span> = <span class="id"><a href="Values.html#Vzero">Vzero</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="AST.html#Internal">Internal</a></span> <span class="id"><a href="code.html#lock_acquire_tso_fnbody">lock_acquire_tso_fnbody</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#find_instr">find_instr</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 1))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="code.html#lock_acquire_tso_fnbody">lock_acquire_tso_fnbody</a></span>.(<span class="id"><a href="ASM_local.html#fn_code">fn_code</a></span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="ASM_local.html#Pmov_rs">Pmov_rs</a></span> <span class="id"><a href="Asm.html#RCX">RCX</a></span> <span class="id"><a href="code.html#lock_L_ident">lock_L_ident</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#sc">sc</a></span> = <span class="id"><a href="SpecLang.html#State">SpecLang.State</a></span> <span class="id"><a href="InvRG.html#lock_spec_fn">lock_spec_fn</a></span> <span class="id"><a href="SpecLang.html#Kstop">SpecLang.Kstop</a></span> <span class="id"><a href="InvRG.html#te">te</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#obj_inv">obj_inv</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#sm">sm</a></span> <span class="id"><a href="InvRG.html#tm">tm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#lock_match_state">lock_match_state</a></span> <span class="id"><a href="InvRG.html#t">t</a></span> (<span class="id"><a href="InvRG.html#sc">sc</a></span>, <span class="id"><a href="InvRG.html#sm">sm</a></span>) (<span class="id"><a href="InvRG.html#tc">tc</a></span>, <span class="id"><a href="InvRG.html#tm">tm</a></span>)<br/>
<br/>
&nbsp;&nbsp;| <span class="id"><a name="set_lock_val">set_lock_val</a></span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span> <span class="id">rs</span> <span class="id">lf</span> <span class="id">b</span> <span class="id">sc</span> <span class="id">sm</span> <span class="id">tc</span> <span class="id">tm</span> <span class="id">te</span> <span class="id">b</span>' <span class="id">L</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#tc">tc</a></span> = <span class="id"><a href="ASM_local.html#Core_State">Core_State</a></span> <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="InvRG.html#lf">lf</a></span> -&gt; <span class="id"><a href="InvRG.html#lf">lf</a></span> = <span class="id"><a href="ASM_local.html#mk_load_frame">mk_load_frame</a></span> <span class="id">b</span>' <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#PC">PC</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 2) -&gt; <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RA">RA</a></span> = <span class="id"><a href="Values.html#Vzero">Vzero</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RCX">RCX</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 0) -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> = <span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="code.html#lock_L_ident">lock_L_ident</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="AST.html#Internal">Internal</a></span> <span class="id"><a href="code.html#lock_acquire_tso_fnbody">lock_acquire_tso_fnbody</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#find_instr">find_instr</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 2))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="code.html#lock_acquire_tso_fnbody">lock_acquire_tso_fnbody</a></span>.(<span class="id"><a href="ASM_local.html#fn_code">fn_code</a></span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="ASM_local.html#Pmovl_ri">Pmovl_ri</a></span> <span class="id"><a href="Asm.html#RDX">RDX</a></span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#sc">sc</a></span> = <span class="id"><a href="SpecLang.html#State">SpecLang.State</a></span> <span class="id"><a href="InvRG.html#lock_spec_fn">lock_spec_fn</a></span> <span class="id"><a href="SpecLang.html#Kstop">SpecLang.Kstop</a></span> <span class="id"><a href="InvRG.html#te">te</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#obj_inv">obj_inv</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#sm">sm</a></span> <span class="id"><a href="InvRG.html#tm">tm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#lock_match_state">lock_match_state</a></span> <span class="id"><a href="InvRG.html#t">t</a></span> (<span class="id"><a href="InvRG.html#sc">sc</a></span>, <span class="id"><a href="InvRG.html#sm">sm</a></span>) (<span class="id"><a href="InvRG.html#tc">tc</a></span>, <span class="id"><a href="InvRG.html#tm">tm</a></span>)<br/>
<br/>
&nbsp;&nbsp;| <span class="id"><a name="lock_acquire_label">lock_acquire_label</a></span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span> <span class="id">rs</span> <span class="id">lf</span> <span class="id">b</span> <span class="id">sc</span> <span class="id">sm</span> <span class="id">tc</span> <span class="id">tm</span> <span class="id">te</span> <span class="id">b</span>' <span class="id">L</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#tc">tc</a></span> = <span class="id"><a href="ASM_local.html#Core_State">Core_State</a></span> <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="InvRG.html#lf">lf</a></span> -&gt; <span class="id"><a href="InvRG.html#lf">lf</a></span> = <span class="id"><a href="ASM_local.html#mk_load_frame">mk_load_frame</a></span> <span class="id">b</span>' <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#PC">PC</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 3) -&gt; <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RA">RA</a></span> = <span class="id"><a href="Values.html#Vzero">Vzero</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RCX">RCX</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 0) -&gt; <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RDX">RDX</a></span> = <span class="id"><a href="Values.html#Vzero">Vzero</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> = <span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="code.html#lock_L_ident">lock_L_ident</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="AST.html#Internal">Internal</a></span> <span class="id"><a href="code.html#lock_acquire_tso_fnbody">lock_acquire_tso_fnbody</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#find_instr">find_instr</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 3))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="code.html#lock_acquire_tso_fnbody">lock_acquire_tso_fnbody</a></span>.(<span class="id"><a href="ASM_local.html#fn_code">fn_code</a></span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="ASM_local.html#Plabel">Plabel</a></span> <span class="id"><a href="code.html#lock_acquire_lbl">lock_acquire_lbl</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#sc">sc</a></span> = <span class="id"><a href="SpecLang.html#State">SpecLang.State</a></span> <span class="id"><a href="InvRG.html#lock_spec_fn">lock_spec_fn</a></span> <span class="id"><a href="SpecLang.html#Kstop">SpecLang.Kstop</a></span> <span class="id"><a href="InvRG.html#te">te</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#obj_inv">obj_inv</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#sm">sm</a></span> <span class="id"><a href="InvRG.html#tm">tm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#lock_match_state">lock_match_state</a></span> <span class="id"><a href="InvRG.html#t">t</a></span> (<span class="id"><a href="InvRG.html#sc">sc</a></span>, <span class="id"><a href="InvRG.html#sm">sm</a></span>) (<span class="id"><a href="InvRG.html#tc">tc</a></span>, <span class="id"><a href="InvRG.html#tm">tm</a></span>)<br/>
<br/>
&nbsp;&nbsp;| <span class="id"><a name="get_cmp_val">get_cmp_val</a></span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span> <span class="id">rs</span> <span class="id">lf</span> <span class="id">b</span> <span class="id">sc</span> <span class="id">sm</span> <span class="id">tc</span> <span class="id">tm</span> <span class="id">te</span> <span class="id">b</span>' <span class="id">L</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#tc">tc</a></span> = <span class="id"><a href="ASM_local.html#Core_State">Core_State</a></span> <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="InvRG.html#lf">lf</a></span> -&gt; <span class="id"><a href="InvRG.html#lf">lf</a></span> = <span class="id"><a href="ASM_local.html#mk_load_frame">mk_load_frame</a></span> <span class="id">b</span>' <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#PC">PC</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 4) -&gt; <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RA">RA</a></span> = <span class="id"><a href="Values.html#Vzero">Vzero</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RCX">RCX</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 0) -&gt; <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RDX">RDX</a></span> = <span class="id"><a href="Values.html#Vzero">Vzero</a></span> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> = <span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="code.html#lock_L_ident">lock_L_ident</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="AST.html#Internal">Internal</a></span> <span class="id"><a href="code.html#lock_acquire_tso_fnbody">lock_acquire_tso_fnbody</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#find_instr">find_instr</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 4))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="code.html#lock_acquire_tso_fnbody">lock_acquire_tso_fnbody</a></span>.(<span class="id"><a href="ASM_local.html#fn_code">fn_code</a></span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="ASM_local.html#Pmovl_ri">Pmovl_ri</a></span> <span class="id"><a href="Asm.html#RAX">RAX</a></span> <span class="id"><a href="Integers.html#Int.one">Int.one</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#sc">sc</a></span> = <span class="id"><a href="SpecLang.html#State">SpecLang.State</a></span> <span class="id"><a href="InvRG.html#lock_spec_fn">lock_spec_fn</a></span> <span class="id"><a href="SpecLang.html#Kstop">SpecLang.Kstop</a></span> <span class="id"><a href="InvRG.html#te">te</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#obj_inv">obj_inv</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#sm">sm</a></span> <span class="id"><a href="InvRG.html#tm">tm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#lock_match_state">lock_match_state</a></span> <span class="id"><a href="InvRG.html#t">t</a></span> (<span class="id"><a href="InvRG.html#sc">sc</a></span>, <span class="id"><a href="InvRG.html#sm">sm</a></span>) (<span class="id"><a href="InvRG.html#tc">tc</a></span>, <span class="id"><a href="InvRG.html#tm">tm</a></span>)<br/>
<br/>
&nbsp;&nbsp;| <span class="id"><a name="lock_cmpxchg_match">lock_cmpxchg_match</a></span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span> <span class="id">rs</span> <span class="id">lf</span> <span class="id">b</span> <span class="id">sc</span> <span class="id">sm</span> <span class="id">tc</span> <span class="id">tm</span> <span class="id">te</span> <span class="id">b</span>' <span class="id">L</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#tc">tc</a></span> = <span class="id"><a href="ASM_local.html#Core_State">Core_State</a></span> <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="InvRG.html#lf">lf</a></span> -&gt; <span class="id"><a href="InvRG.html#lf">lf</a></span> = <span class="id"><a href="ASM_local.html#mk_load_frame">mk_load_frame</a></span> <span class="id">b</span>' <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#PC">PC</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 5) -&gt; <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RA">RA</a></span> = <span class="id"><a href="Values.html#Vzero">Vzero</a></span> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RCX">RCX</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 0) -&gt; <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RAX">RAX</a></span> = <span class="id"><a href="Values.html#Vone">Vone</a></span> -&gt; <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RDX">RDX</a></span> = <span class="id"><a href="Values.html#Vzero">Vzero</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> = <span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="code.html#lock_L_ident">lock_L_ident</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="AST.html#Internal">Internal</a></span> <span class="id"><a href="code.html#lock_acquire_tso_fnbody">lock_acquire_tso_fnbody</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#find_instr">find_instr</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 5))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="code.html#lock_acquire_tso_fnbody">lock_acquire_tso_fnbody</a></span>.(<span class="id"><a href="ASM_local.html#fn_code">fn_code</a></span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="ASM_local.html#Plock_cmpxchg">Plock_cmpxchg</a></span> (<span class="id"><a href="Asm.html#Addrmode">Addrmode</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Asm.html#RCX">RCX</a></span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#inl">inl</a></span> 0%<span class="id">Z</span>)) <span class="id"><a href="Asm.html#RDX">RDX</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#sc">sc</a></span> = <span class="id"><a href="SpecLang.html#State">SpecLang.State</a></span> <span class="id"><a href="InvRG.html#lock_spec_fn">lock_spec_fn</a></span> <span class="id"><a href="SpecLang.html#Kstop">SpecLang.Kstop</a></span> <span class="id"><a href="InvRG.html#te">te</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#obj_inv">obj_inv</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#sm">sm</a></span> <span class="id"><a href="InvRG.html#tm">tm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#lock_match_state">lock_match_state</a></span> <span class="id"><a href="InvRG.html#t">t</a></span> (<span class="id"><a href="InvRG.html#sc">sc</a></span>, <span class="id"><a href="InvRG.html#sm">sm</a></span>) (<span class="id"><a href="InvRG.html#tc">tc</a></span>, <span class="id"><a href="InvRG.html#tm">tm</a></span>)<br/>
<br/>
&nbsp;&nbsp;| <span class="id"><a name="jne_enter_ZF_1_match">jne_enter_ZF_1_match</a></span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span> <span class="id">rs</span> <span class="id">lf</span> <span class="id">b</span> <span class="id">sc</span> <span class="id">sm</span> <span class="id">tc</span> <span class="id">tm</span> <span class="id">te</span> <span class="id">b</span>' <span class="id">L</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#tc">tc</a></span> = <span class="id"><a href="ASM_local.html#Core_State">Core_State</a></span> <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="InvRG.html#lf">lf</a></span> -&gt; <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#ZF">ZF</a></span> = <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="Integers.html#Int.one">Int.one</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#lf">lf</a></span> = <span class="id"><a href="ASM_local.html#mk_load_frame">mk_load_frame</a></span> <span class="id">b</span>' <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#PC">PC</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 6) -&gt; <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RA">RA</a></span> = <span class="id"><a href="Values.html#Vzero">Vzero</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RCX">RCX</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 0) -&gt; <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RDX">RDX</a></span> = <span class="id"><a href="Values.html#Vzero">Vzero</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> = <span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="code.html#lock_L_ident">lock_L_ident</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="AST.html#Internal">Internal</a></span> <span class="id"><a href="code.html#lock_acquire_tso_fnbody">lock_acquire_tso_fnbody</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#find_instr">find_instr</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 6))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="code.html#lock_acquire_tso_fnbody">lock_acquire_tso_fnbody</a></span>.(<span class="id"><a href="ASM_local.html#fn_code">fn_code</a></span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="ASM_local.html#Pjcc">Pjcc</a></span> <span class="id"><a href="Asm.html#Cond_e">Cond_e</a></span> <span class="id"><a href="code.html#enter_lbl">enter_lbl</a></span>) -&gt; <span class="id"><a href="InvRG.html#te">te</a></span> <span class="id"><a href="code.html#r">r</a></span> = <span class="id"><a href="Values.html#Vone">Vone</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#sc">sc</a></span> = <span class="id"><a href="SpecLang.html#State">SpecLang.State</a></span> <span class="id"><a href="SpecLang.html#Sskip">SpecLang.Sskip</a></span> <span class="id"><a href="InvRG.html#lock_spec_while_cont">lock_spec_while_cont</a></span> <span class="id"><a href="InvRG.html#te">te</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#obj_inv">obj_inv</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#sm">sm</a></span> <span class="id"><a href="InvRG.html#tm">tm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#lock_match_state">lock_match_state</a></span> <span class="id"><a href="InvRG.html#t">t</a></span> (<span class="id"><a href="InvRG.html#sc">sc</a></span>, <span class="id"><a href="InvRG.html#sm">sm</a></span>) (<span class="id"><a href="InvRG.html#tc">tc</a></span>, <span class="id"><a href="InvRG.html#tm">tm</a></span>)<br/>
<br/>
&nbsp;&nbsp;| <span class="id"><a name="jne_enter_ZF_0_match">jne_enter_ZF_0_match</a></span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span> <span class="id">rs</span> <span class="id">lf</span> <span class="id">b</span> <span class="id">sc</span> <span class="id">sm</span> <span class="id">tc</span> <span class="id">tm</span> <span class="id">te</span> <span class="id">b</span>' <span class="id">L</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#tc">tc</a></span> = <span class="id"><a href="ASM_local.html#Core_State">Core_State</a></span> <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="InvRG.html#lf">lf</a></span> -&gt; <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#ZF">ZF</a></span> = <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#lf">lf</a></span> = <span class="id"><a href="ASM_local.html#mk_load_frame">mk_load_frame</a></span> <span class="id">b</span>' <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#PC">PC</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 6) -&gt; <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RA">RA</a></span> = <span class="id"><a href="Values.html#Vzero">Vzero</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RCX">RCX</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 0) -&gt; <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RDX">RDX</a></span> = <span class="id"><a href="Values.html#Vzero">Vzero</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> = <span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="code.html#lock_L_ident">lock_L_ident</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="AST.html#Internal">Internal</a></span> <span class="id"><a href="code.html#lock_acquire_tso_fnbody">lock_acquire_tso_fnbody</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#find_instr">find_instr</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 6))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="code.html#lock_acquire_tso_fnbody">lock_acquire_tso_fnbody</a></span>.(<span class="id"><a href="ASM_local.html#fn_code">fn_code</a></span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="ASM_local.html#Pjcc">Pjcc</a></span> <span class="id"><a href="Asm.html#Cond_e">Cond_e</a></span> <span class="id"><a href="code.html#enter_lbl">enter_lbl</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#sc">sc</a></span> = <span class="id"><a href="SpecLang.html#State">SpecLang.State</a></span> <span class="id"><a href="InvRG.html#lock_spec_fn">lock_spec_fn</a></span> <span class="id"><a href="SpecLang.html#Kstop">SpecLang.Kstop</a></span> <span class="id"><a href="InvRG.html#te">te</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#obj_inv">obj_inv</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#sm">sm</a></span> <span class="id"><a href="InvRG.html#tm">tm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#lock_match_state">lock_match_state</a></span> <span class="id"><a href="InvRG.html#t">t</a></span> (<span class="id"><a href="InvRG.html#sc">sc</a></span>, <span class="id"><a href="InvRG.html#sm">sm</a></span>) (<span class="id"><a href="InvRG.html#tc">tc</a></span>, <span class="id"><a href="InvRG.html#tm">tm</a></span>)<br/>
<br/>
&nbsp;&nbsp;| <span class="id"><a name="spin_label_match">spin_label_match</a></span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span> <span class="id">rs</span> <span class="id">lf</span> <span class="id">b</span> <span class="id">sc</span> <span class="id">sm</span> <span class="id">tc</span> <span class="id">tm</span> <span class="id">te</span> <span class="id">b</span>' <span class="id">L</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#tc">tc</a></span> = <span class="id"><a href="ASM_local.html#Core_State">Core_State</a></span> <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="InvRG.html#lf">lf</a></span> -&gt; <span class="id"><a href="InvRG.html#lf">lf</a></span> = <span class="id"><a href="ASM_local.html#mk_load_frame">mk_load_frame</a></span> <span class="id">b</span>' <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#PC">PC</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 7) -&gt; <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RA">RA</a></span> = <span class="id"><a href="Values.html#Vzero">Vzero</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RCX">RCX</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 0) -&gt; <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RDX">RDX</a></span> = <span class="id"><a href="Values.html#Vzero">Vzero</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> = <span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="code.html#lock_L_ident">lock_L_ident</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="AST.html#Internal">Internal</a></span> <span class="id"><a href="code.html#lock_acquire_tso_fnbody">lock_acquire_tso_fnbody</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#find_instr">find_instr</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 7))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="code.html#lock_acquire_tso_fnbody">lock_acquire_tso_fnbody</a></span>.(<span class="id"><a href="ASM_local.html#fn_code">fn_code</a></span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="ASM_local.html#Plabel">Plabel</a></span> <span class="id"><a href="code.html#spin_lbl">spin_lbl</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#sc">sc</a></span> = <span class="id"><a href="SpecLang.html#State">SpecLang.State</a></span> <span class="id"><a href="InvRG.html#lock_spec_fn">lock_spec_fn</a></span> <span class="id"><a href="SpecLang.html#Kstop">SpecLang.Kstop</a></span> <span class="id"><a href="InvRG.html#te">te</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#obj_inv">obj_inv</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#sm">sm</a></span> <span class="id"><a href="InvRG.html#tm">tm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#lock_match_state">lock_match_state</a></span> <span class="id"><a href="InvRG.html#t">t</a></span> (<span class="id"><a href="InvRG.html#sc">sc</a></span>, <span class="id"><a href="InvRG.html#sm">sm</a></span>) (<span class="id"><a href="InvRG.html#tc">tc</a></span>, <span class="id"><a href="InvRG.html#tm">tm</a></span>)<br/>
<br/>
&nbsp;&nbsp;| <span class="id"><a name="get_lock_var">get_lock_var</a></span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span> <span class="id">rs</span> <span class="id">lf</span> <span class="id">b</span> <span class="id">sc</span> <span class="id">sm</span> <span class="id">tc</span> <span class="id">tm</span> <span class="id">te</span> <span class="id">b</span>' <span class="id">L</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#tc">tc</a></span> = <span class="id"><a href="ASM_local.html#Core_State">Core_State</a></span> <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="InvRG.html#lf">lf</a></span> -&gt; <span class="id"><a href="InvRG.html#lf">lf</a></span> = <span class="id"><a href="ASM_local.html#mk_load_frame">mk_load_frame</a></span> <span class="id">b</span>' <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#PC">PC</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 8) -&gt; <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RA">RA</a></span> = <span class="id"><a href="Values.html#Vzero">Vzero</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RCX">RCX</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 0) -&gt; <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RDX">RDX</a></span> = <span class="id"><a href="Values.html#Vzero">Vzero</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> = <span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="code.html#lock_L_ident">lock_L_ident</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="AST.html#Internal">Internal</a></span> <span class="id"><a href="code.html#lock_acquire_tso_fnbody">lock_acquire_tso_fnbody</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#find_instr">find_instr</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 8))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="code.html#lock_acquire_tso_fnbody">lock_acquire_tso_fnbody</a></span>.(<span class="id"><a href="ASM_local.html#fn_code">fn_code</a></span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="ASM_local.html#Pmovl_rm">Pmovl_rm</a></span> <span class="id"><a href="Asm.html#RBX">RBX</a></span> (<span class="id"><a href="Asm.html#Addrmode">Addrmode</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Asm.html#RCX">RCX</a></span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#inl">inl</a></span> 0%<span class="id">Z</span>))) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#sc">sc</a></span> = <span class="id"><a href="SpecLang.html#State">SpecLang.State</a></span> <span class="id"><a href="InvRG.html#lock_spec_fn">lock_spec_fn</a></span> <span class="id"><a href="SpecLang.html#Kstop">SpecLang.Kstop</a></span> <span class="id"><a href="InvRG.html#te">te</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#obj_inv">obj_inv</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#sm">sm</a></span> <span class="id"><a href="InvRG.html#tm">tm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#lock_match_state">lock_match_state</a></span> <span class="id"><a href="InvRG.html#t">t</a></span> (<span class="id"><a href="InvRG.html#sc">sc</a></span>, <span class="id"><a href="InvRG.html#sm">sm</a></span>) (<span class="id"><a href="InvRG.html#tc">tc</a></span>, <span class="id"><a href="InvRG.html#tm">tm</a></span>)<br/>
<br/>
&nbsp;&nbsp;| <span class="id"><a name="cmp_Lvar_match">cmp_Lvar_match</a></span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span> <span class="id">rs</span> <span class="id">lf</span> <span class="id">b</span> <span class="id">sc</span> <span class="id">sm</span> <span class="id">tc</span> <span class="id">tm</span> <span class="id">te</span> <span class="id">b</span>' <span class="id">L</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#tc">tc</a></span> = <span class="id"><a href="ASM_local.html#Core_State">Core_State</a></span> <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="InvRG.html#lf">lf</a></span> -&gt; <span class="id"><a href="InvRG.html#lf">lf</a></span> = <span class="id"><a href="ASM_local.html#mk_load_frame">mk_load_frame</a></span> <span class="id">b</span>' <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#PC">PC</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 9) -&gt; <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RA">RA</a></span> = <span class="id"><a href="Values.html#Vzero">Vzero</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RCX">RCX</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 0) -&gt; <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RDX">RDX</a></span> = <span class="id"><a href="Values.html#Vzero">Vzero</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RBX">RBX</a></span> = <span class="id"><a href="Values.html#Vone">Vone</a></span> \/ <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RBX">RBX</a></span> = <span class="id"><a href="Values.html#Vzero">Vzero</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> = <span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="code.html#lock_L_ident">lock_L_ident</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="AST.html#Internal">Internal</a></span> <span class="id"><a href="code.html#lock_acquire_tso_fnbody">lock_acquire_tso_fnbody</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#find_instr">find_instr</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 9))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="code.html#lock_acquire_tso_fnbody">lock_acquire_tso_fnbody</a></span>.(<span class="id"><a href="ASM_local.html#fn_code">fn_code</a></span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="ASM_local.html#Pcmpl_ri">Pcmpl_ri</a></span> <span class="id"><a href="Asm.html#RBX">RBX</a></span> (<span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#sc">sc</a></span> = <span class="id"><a href="SpecLang.html#State">SpecLang.State</a></span> <span class="id"><a href="InvRG.html#lock_spec_fn">lock_spec_fn</a></span> <span class="id"><a href="SpecLang.html#Kstop">SpecLang.Kstop</a></span> <span class="id"><a href="InvRG.html#te">te</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#obj_inv">obj_inv</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#sm">sm</a></span> <span class="id"><a href="InvRG.html#tm">tm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#lock_match_state">lock_match_state</a></span> <span class="id"><a href="InvRG.html#t">t</a></span> (<span class="id"><a href="InvRG.html#sc">sc</a></span>, <span class="id"><a href="InvRG.html#sm">sm</a></span>) (<span class="id"><a href="InvRG.html#tc">tc</a></span>, <span class="id"><a href="InvRG.html#tm">tm</a></span>)<br/>
<br/>
&nbsp;&nbsp;| <span class="id"><a name="je_spin_match">je_spin_match</a></span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span> <span class="id">rs</span> <span class="id">lf</span> <span class="id">b</span> <span class="id">sc</span> <span class="id">sm</span> <span class="id">tc</span> <span class="id">tm</span> <span class="id">te</span> <span class="id">b</span>' <span class="id">L</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#tc">tc</a></span> = <span class="id"><a href="ASM_local.html#Core_State">Core_State</a></span> <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="InvRG.html#lf">lf</a></span> -&gt; <span class="id"><a href="InvRG.html#lf">lf</a></span> = <span class="id"><a href="ASM_local.html#mk_load_frame">mk_load_frame</a></span> <span class="id">b</span>' <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#PC">PC</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 10) -&gt; <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RA">RA</a></span> = <span class="id"><a href="Values.html#Vzero">Vzero</a></span> -&gt; <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RDX">RDX</a></span> = <span class="id"><a href="Values.html#Vzero">Vzero</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RCX">RCX</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 0) -&gt; (<span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#ZF">ZF</a></span> = <span class="id"><a href="Values.html#Vone">Vone</a></span> \/ <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#ZF">ZF</a></span> = <span class="id"><a href="Values.html#Vzero">Vzero</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> = <span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="code.html#lock_L_ident">lock_L_ident</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="AST.html#Internal">Internal</a></span> <span class="id"><a href="code.html#lock_acquire_tso_fnbody">lock_acquire_tso_fnbody</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#find_instr">find_instr</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 10))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="code.html#lock_acquire_tso_fnbody">lock_acquire_tso_fnbody</a></span>.(<span class="id"><a href="ASM_local.html#fn_code">fn_code</a></span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="ASM_local.html#Pjcc">Pjcc</a></span> <span class="id"><a href="Asm.html#Cond_e">Cond_e</a></span> <span class="id"><a href="code.html#spin_lbl">spin_lbl</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#sc">sc</a></span> = <span class="id"><a href="SpecLang.html#State">SpecLang.State</a></span> <span class="id"><a href="InvRG.html#lock_spec_fn">lock_spec_fn</a></span> <span class="id"><a href="SpecLang.html#Kstop">SpecLang.Kstop</a></span> <span class="id"><a href="InvRG.html#te">te</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#obj_inv">obj_inv</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#sm">sm</a></span> <span class="id"><a href="InvRG.html#tm">tm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#lock_match_state">lock_match_state</a></span> <span class="id"><a href="InvRG.html#t">t</a></span> (<span class="id"><a href="InvRG.html#sc">sc</a></span>, <span class="id"><a href="InvRG.html#sm">sm</a></span>) (<span class="id"><a href="InvRG.html#tc">tc</a></span>, <span class="id"><a href="InvRG.html#tm">tm</a></span>)<br/>
<br/>
&nbsp;&nbsp;| <span class="id"><a name="jmp_lock_match">jmp_lock_match</a></span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span> <span class="id">rs</span> <span class="id">lf</span> <span class="id">b</span> <span class="id">sc</span> <span class="id">sm</span> <span class="id">tc</span> <span class="id">tm</span> <span class="id">te</span> <span class="id">b</span>' <span class="id">L</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#tc">tc</a></span> = <span class="id"><a href="ASM_local.html#Core_State">Core_State</a></span> <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="InvRG.html#lf">lf</a></span> -&gt; <span class="id"><a href="InvRG.html#lf">lf</a></span> = <span class="id"><a href="ASM_local.html#mk_load_frame">mk_load_frame</a></span> <span class="id">b</span>' <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#PC">PC</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 11) -&gt; <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RA">RA</a></span> = <span class="id"><a href="Values.html#Vzero">Vzero</a></span> -&gt; <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RDX">RDX</a></span> = <span class="id"><a href="Values.html#Vzero">Vzero</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RCX">RCX</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 0) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> = <span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="code.html#lock_L_ident">lock_L_ident</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="AST.html#Internal">Internal</a></span> <span class="id"><a href="code.html#lock_acquire_tso_fnbody">lock_acquire_tso_fnbody</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#find_instr">find_instr</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 11))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="code.html#lock_acquire_tso_fnbody">lock_acquire_tso_fnbody</a></span>.(<span class="id"><a href="ASM_local.html#fn_code">fn_code</a></span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="ASM_local.html#Pjmp_l">Pjmp_l</a></span> <span class="id"><a href="code.html#lock_acquire_lbl">lock_acquire_lbl</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#sc">sc</a></span> = <span class="id"><a href="SpecLang.html#State">SpecLang.State</a></span> <span class="id"><a href="InvRG.html#lock_spec_fn">lock_spec_fn</a></span> <span class="id"><a href="SpecLang.html#Kstop">SpecLang.Kstop</a></span> <span class="id"><a href="InvRG.html#te">te</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#obj_inv">obj_inv</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#sm">sm</a></span> <span class="id"><a href="InvRG.html#tm">tm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#lock_match_state">lock_match_state</a></span> <span class="id"><a href="InvRG.html#t">t</a></span> (<span class="id"><a href="InvRG.html#sc">sc</a></span>, <span class="id"><a href="InvRG.html#sm">sm</a></span>) (<span class="id"><a href="InvRG.html#tc">tc</a></span>, <span class="id"><a href="InvRG.html#tm">tm</a></span>)<br/>
<br/>
&nbsp;&nbsp;| <span class="id"><a name="enter_label_match">enter_label_match</a></span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span> <span class="id">rs</span> <span class="id">lf</span> <span class="id">b</span> <span class="id">sc</span> <span class="id">sm</span> <span class="id">tc</span> <span class="id">tm</span> <span class="id">te</span> <span class="id">b</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#tc">tc</a></span> = <span class="id"><a href="ASM_local.html#Core_State">Core_State</a></span> <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="InvRG.html#lf">lf</a></span> -&gt; <span class="id"><a href="InvRG.html#lf">lf</a></span> = <span class="id"><a href="ASM_local.html#mk_load_frame">mk_load_frame</a></span> <span class="id">b</span>' <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#PC">PC</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 12) -&gt; <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RA">RA</a></span> = <span class="id"><a href="Values.html#Vzero">Vzero</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="AST.html#Internal">Internal</a></span> <span class="id"><a href="code.html#lock_acquire_tso_fnbody">lock_acquire_tso_fnbody</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#find_instr">find_instr</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 12))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="code.html#lock_acquire_tso_fnbody">lock_acquire_tso_fnbody</a></span>.(<span class="id"><a href="ASM_local.html#fn_code">fn_code</a></span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="ASM_local.html#Plabel">Plabel</a></span> <span class="id"><a href="code.html#enter_lbl">enter_lbl</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#te">te</a></span> <span class="id"><a href="code.html#r">r</a></span> = <span class="id"><a href="Values.html#Vone">Vone</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#sc">sc</a></span> = <span class="id"><a href="SpecLang.html#State">SpecLang.State</a></span> <span class="id"><a href="SpecLang.html#Sskip">SpecLang.Sskip</a></span> <span class="id"><a href="InvRG.html#lock_spec_while_cont">lock_spec_while_cont</a></span> <span class="id"><a href="InvRG.html#te">te</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#obj_inv">obj_inv</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#sm">sm</a></span> <span class="id"><a href="InvRG.html#tm">tm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#lock_match_state">lock_match_state</a></span> <span class="id"><a href="InvRG.html#t">t</a></span> (<span class="id"><a href="InvRG.html#sc">sc</a></span>, <span class="id"><a href="InvRG.html#sm">sm</a></span>) (<span class="id"><a href="InvRG.html#tc">tc</a></span>, <span class="id"><a href="InvRG.html#tm">tm</a></span>)<br/>
<br/>
&nbsp;&nbsp;| <span class="id"><a name="set_ret_val">set_ret_val</a></span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span> <span class="id">rs</span> <span class="id">lf</span> <span class="id">b</span> <span class="id">sc</span> <span class="id">sm</span> <span class="id">tc</span> <span class="id">tm</span> <span class="id">te</span> <span class="id">b</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#tc">tc</a></span> = <span class="id"><a href="ASM_local.html#Core_State">Core_State</a></span> <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="InvRG.html#lf">lf</a></span> -&gt; <span class="id"><a href="InvRG.html#lf">lf</a></span> = <span class="id"><a href="ASM_local.html#mk_load_frame">mk_load_frame</a></span> <span class="id">b</span>' <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#PC">PC</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 13) -&gt; <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RA">RA</a></span> = <span class="id"><a href="Values.html#Vzero">Vzero</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="AST.html#Internal">Internal</a></span> <span class="id"><a href="code.html#lock_acquire_tso_fnbody">lock_acquire_tso_fnbody</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#find_instr">find_instr</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 13))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="code.html#lock_acquire_tso_fnbody">lock_acquire_tso_fnbody</a></span>.(<span class="id"><a href="ASM_local.html#fn_code">fn_code</a></span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="ASM_local.html#Pmovl_ri">Pmovl_ri</a></span> <span class="id"><a href="Asm.html#RAX">RAX</a></span> (<span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>)) -&gt; <span class="id"><a href="InvRG.html#te">te</a></span> <span class="id"><a href="code.html#r">r</a></span> = <span class="id"><a href="Values.html#Vone">Vone</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#sc">sc</a></span> = <span class="id"><a href="SpecLang.html#State">SpecLang.State</a></span> <span class="id"><a href="SpecLang.html#Sskip">SpecLang.Sskip</a></span> <span class="id"><a href="InvRG.html#lock_spec_while_cont">lock_spec_while_cont</a></span> <span class="id"><a href="InvRG.html#te">te</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#obj_inv">obj_inv</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#sm">sm</a></span> <span class="id"><a href="InvRG.html#tm">tm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#lock_match_state">lock_match_state</a></span> <span class="id"><a href="InvRG.html#t">t</a></span> (<span class="id"><a href="InvRG.html#sc">sc</a></span>, <span class="id"><a href="InvRG.html#sm">sm</a></span>) (<span class="id"><a href="InvRG.html#tc">tc</a></span>, <span class="id"><a href="InvRG.html#tm">tm</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;| <span class="id"><a name="lock_retl_match">lock_retl_match</a></span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span> <span class="id">rs</span> <span class="id">lf</span> <span class="id">b</span> <span class="id">sc</span> <span class="id">sm</span> <span class="id">tc</span> <span class="id">tm</span> <span class="id">te</span> <span class="id">b</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#tc">tc</a></span> = <span class="id"><a href="ASM_local.html#Core_State">Core_State</a></span> <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="InvRG.html#lf">lf</a></span> -&gt; <span class="id"><a href="InvRG.html#lf">lf</a></span> = <span class="id"><a href="ASM_local.html#mk_load_frame">mk_load_frame</a></span> <span class="id">b</span>' <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#PC">PC</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 14) -&gt; <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RAX">RAX</a></span> = <span class="id"><a href="Values.html#Vzero">Vzero</a></span> -&gt; <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RA">RA</a></span> = <span class="id"><a href="Values.html#Vzero">Vzero</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="AST.html#Internal">Internal</a></span> <span class="id"><a href="code.html#lock_acquire_tso_fnbody">lock_acquire_tso_fnbody</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#find_instr">find_instr</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 14))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="code.html#lock_acquire_tso_fnbody">lock_acquire_tso_fnbody</a></span>.(<span class="id"><a href="ASM_local.html#fn_code">fn_code</a></span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="ASM_local.html#Pret">Pret</a></span>) -&gt; <span class="id"><a href="InvRG.html#te">te</a></span> <span class="id"><a href="code.html#r">r</a></span> = <span class="id"><a href="Values.html#Vone">Vone</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#sc">sc</a></span> = <span class="id"><a href="SpecLang.html#State">SpecLang.State</a></span> <span class="id"><a href="SpecLang.html#Sskip">SpecLang.Sskip</a></span> <span class="id"><a href="InvRG.html#lock_spec_while_cont">lock_spec_while_cont</a></span> <span class="id"><a href="InvRG.html#te">te</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#obj_inv">obj_inv</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#sm">sm</a></span> <span class="id"><a href="InvRG.html#tm">tm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#lock_match_state">lock_match_state</a></span> <span class="id"><a href="InvRG.html#t">t</a></span> (<span class="id"><a href="InvRG.html#sc">sc</a></span>, <span class="id"><a href="InvRG.html#sm">sm</a></span>) (<span class="id"><a href="InvRG.html#tc">tc</a></span>, <span class="id"><a href="InvRG.html#tm">tm</a></span>)<br/>
<br/>
&nbsp;&nbsp;| <span class="id"><a name="lock_halt_match">lock_halt_match</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span> <span class="id">rs</span> <span class="id">lf</span> <span class="id">sc</span> <span class="id">sm</span> <span class="id">tc</span> <span class="id">tm</span> <span class="id">te</span> <span class="id">b</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#tc">tc</a></span> = <span class="id"><a href="ASM_local.html#Core_State">Core_State</a></span> <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="InvRG.html#lf">lf</a></span> -&gt; <span class="id"><a href="InvRG.html#lf">lf</a></span> = <span class="id"><a href="ASM_local.html#mk_load_frame">mk_load_frame</a></span> <span class="id">b</span>' <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#PC">PC</a></span> = <span class="id"><a href="Values.html#Vzero">Vzero</a></span> -&gt; <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RAX">RAX</a></span> = <span class="id"><a href="Values.html#Vzero">Vzero</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#sc">sc</a></span> = <span class="id"><a href="SpecLang.html#State">SpecLang.State</a></span> <span class="id"><a href="SpecLang.html#Sskip">SpecLang.Sskip</a></span> <span class="id"><a href="SpecLang.html#Kstop">SpecLang.Kstop</a></span> <span class="id"><a href="InvRG.html#te">te</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#obj_inv">obj_inv</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#sm">sm</a></span> <span class="id"><a href="InvRG.html#tm">tm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#lock_match_state">lock_match_state</a></span> <span class="id"><a href="InvRG.html#t">t</a></span> (<span class="id"><a href="InvRG.html#sc">sc</a></span>, <span class="id"><a href="InvRG.html#sm">sm</a></span>) (<span class="id"><a href="InvRG.html#tc">tc</a></span>, <span class="id"><a href="InvRG.html#tm">tm</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="unlock_spec_fn">unlock_spec_fn</a></span> : <span class="id"><a href="SpecLang.html#stmt">SpecLang.stmt</a></span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#Sseq">Sseq</a></span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="InvRG.html#Satom">Satom</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#Sseq">Sseq</a></span> (<span class="id"><a href="InvRG.html#Sloadv">Sloadv</a></span> <span class="id"><a href="code.html#r">r</a></span> <span class="id"><a href="code.html#lock_L_ident">lock_L_ident</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="InvRG.html#Sseq">Sseq</a></span> (<span class="id"><a href="InvRG.html#Sassign">Sassign</a></span> <span class="id"><a href="code.html#x">x</a></span> (<span class="id"><a href="Integers.html#Int.one">Int.one</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="InvRG.html#Sseq">Sseq</a></span> (<span class="id"><a href="InvRG.html#Sassert">Sassert</a></span> (<span class="id"><a href="SpecLang.html#BEq">SpecLang.BEq</a></span> <span class="id"><a href="code.html#r">r</a></span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>)) (<span class="id"><a href="InvRG.html#Sstorev">Sstorev</a></span> <span class="id"><a href="code.html#x">x</a></span> <span class="id"><a href="code.html#lock_L_ident">lock_L_ident</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)) <span class="id"><a href="InvRG.html#Sskip">Sskip</a></span>.<br/>
&nbsp;&nbsp;<br/>
<h2> Lock Release function Match State  </h2>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="unlock_match_state">unlock_match_state</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#tid">tid</a></span> -&gt; <span class="id"><a href="SpecLang.html#core">SpecLang.core</a></span> * <span class="id"><a href="GMemory.html#gmem">gmem</a></span> -&gt; <span class="id"><a href="AsmTSO.html#core">core</a></span> * <span class="id"><a href="TSOMem.html#tsomem">tsomem</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="unlock_init_match">unlock_init_match</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span> <span class="id">sc</span> <span class="id">sm</span> <span class="id">tc</span> <span class="id">tm</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="InvRG.html#tc">tc</a></span> = <span class="id"><a href="AsmTSO.html#init_core">init_core</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="code.html#lock_release_ident">lock_release_ident</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="InvRG.html#sc">sc</a></span> = <span class="id"><a href="SpecLang.html#init_core">SpecLang.init_core</a></span> <span class="id"><a href="InvRG.html#MatchState.sge">sge</a></span> <span class="id"><a href="code.html#lock_release_ident">lock_release_ident</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#obj_inv">obj_inv</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#sm">sm</a></span> <span class="id"><a href="InvRG.html#tm">tm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#unlock_match_state">unlock_match_state</a></span> <span class="id"><a href="InvRG.html#t">t</a></span> (<span class="id"><a href="InvRG.html#sc">sc</a></span>, <span class="id"><a href="InvRG.html#sm">sm</a></span>) (<span class="id"><a href="InvRG.html#tc">tc</a></span>, <span class="id"><a href="InvRG.html#tm">tm</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a name="unlock_label_match">unlock_label_match</a></span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span> <span class="id">rs</span> <span class="id">lf</span> <span class="id">b</span> <span class="id">sc</span> <span class="id">sm</span> <span class="id">tc</span> <span class="id">tm</span> <span class="id">te</span> <span class="id">b</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#tc">tc</a></span> = <span class="id"><a href="ASM_local.html#Core_State">Core_State</a></span> <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="InvRG.html#lf">lf</a></span> -&gt; <span class="id"><a href="InvRG.html#lf">lf</a></span> = <span class="id"><a href="ASM_local.html#mk_load_frame">mk_load_frame</a></span> <span class="id">b</span>' <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#PC">PC</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 0) -&gt; <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RA">RA</a></span> = <span class="id"><a href="Values.html#Vzero">Vzero</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="AST.html#Internal">Internal</a></span> <span class="id"><a href="code.html#lock_release_tso_fnbody">lock_release_tso_fnbody</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#find_instr">find_instr</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 0))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="code.html#lock_release_tso_fnbody">lock_release_tso_fnbody</a></span>.(<span class="id"><a href="ASM_local.html#fn_code">fn_code</a></span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="ASM_local.html#Plabel">Plabel</a></span> <span class="id"><a href="code.html#unlock_lbl">unlock_lbl</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#sc">sc</a></span> = <span class="id"><a href="SpecLang.html#State">SpecLang.State</a></span> <span class="id"><a href="InvRG.html#unlock_spec_fn">unlock_spec_fn</a></span> <span class="id"><a href="SpecLang.html#Kstop">SpecLang.Kstop</a></span> <span class="id"><a href="InvRG.html#te">te</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#obj_inv">obj_inv</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#sm">sm</a></span> <span class="id"><a href="InvRG.html#tm">tm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#unlock_match_state">unlock_match_state</a></span> <span class="id"><a href="InvRG.html#t">t</a></span> (<span class="id"><a href="InvRG.html#sc">sc</a></span>, <span class="id"><a href="InvRG.html#sm">sm</a></span>) (<span class="id"><a href="InvRG.html#tc">tc</a></span>, <span class="id"><a href="InvRG.html#tm">tm</a></span>)<br/>
<br/>
&nbsp;&nbsp;| <span class="id"><a name="get_lock_addr_match">get_lock_addr_match</a></span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span> <span class="id">rs</span> <span class="id">lf</span> <span class="id">b</span> <span class="id">sc</span> <span class="id">sm</span> <span class="id">tc</span> <span class="id">tm</span> <span class="id">te</span> <span class="id">b</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#tc">tc</a></span> = <span class="id"><a href="ASM_local.html#Core_State">Core_State</a></span> <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="InvRG.html#lf">lf</a></span> -&gt; <span class="id"><a href="InvRG.html#lf">lf</a></span> = <span class="id"><a href="ASM_local.html#mk_load_frame">mk_load_frame</a></span> <span class="id">b</span>' <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#PC">PC</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 1) -&gt; <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RA">RA</a></span> = <span class="id"><a href="Values.html#Vzero">Vzero</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="AST.html#Internal">Internal</a></span> <span class="id"><a href="code.html#lock_release_tso_fnbody">lock_release_tso_fnbody</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#find_instr">find_instr</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 1))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="code.html#lock_release_tso_fnbody">lock_release_tso_fnbody</a></span>.(<span class="id"><a href="ASM_local.html#fn_code">fn_code</a></span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="ASM_local.html#Pmov_rs">Pmov_rs</a></span> <span class="id"><a href="Asm.html#RCX">RCX</a></span> <span class="id"><a href="code.html#lock_L_ident">lock_L_ident</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#sc">sc</a></span> = <span class="id"><a href="SpecLang.html#State">SpecLang.State</a></span> <span class="id"><a href="InvRG.html#unlock_spec_fn">unlock_spec_fn</a></span> <span class="id"><a href="SpecLang.html#Kstop">SpecLang.Kstop</a></span> <span class="id"><a href="InvRG.html#te">te</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#obj_inv">obj_inv</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#sm">sm</a></span> <span class="id"><a href="InvRG.html#tm">tm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#unlock_match_state">unlock_match_state</a></span> <span class="id"><a href="InvRG.html#t">t</a></span> (<span class="id"><a href="InvRG.html#sc">sc</a></span>, <span class="id"><a href="InvRG.html#sm">sm</a></span>) (<span class="id"><a href="InvRG.html#tc">tc</a></span>, <span class="id"><a href="InvRG.html#tm">tm</a></span>)<br/>
<br/>
&nbsp;&nbsp;| <span class="id"><a name="mov_one_match">mov_one_match</a></span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span> <span class="id">rs</span> <span class="id">lf</span> <span class="id">b</span> <span class="id">sc</span> <span class="id">sm</span> <span class="id">tc</span> <span class="id">tm</span> <span class="id">te</span> <span class="id">b</span>' <span class="id">L</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#tc">tc</a></span> = <span class="id"><a href="ASM_local.html#Core_State">Core_State</a></span> <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="InvRG.html#lf">lf</a></span> -&gt; <span class="id"><a href="InvRG.html#lf">lf</a></span> = <span class="id"><a href="ASM_local.html#mk_load_frame">mk_load_frame</a></span> <span class="id">b</span>' <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#PC">PC</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 2) -&gt; <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RA">RA</a></span> = <span class="id"><a href="Values.html#Vzero">Vzero</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RCX">RCX</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 0) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> = <span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="code.html#lock_L_ident">lock_L_ident</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="AST.html#Internal">Internal</a></span> <span class="id"><a href="code.html#lock_release_tso_fnbody">lock_release_tso_fnbody</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#find_instr">find_instr</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 2))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="code.html#lock_release_tso_fnbody">lock_release_tso_fnbody</a></span>.(<span class="id"><a href="ASM_local.html#fn_code">fn_code</a></span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="ASM_local.html#Pmovl_ri">Pmovl_ri</a></span> <span class="id"><a href="Asm.html#RDX">RDX</a></span> (<span class="id"><a href="Integers.html#Int.one">Int.one</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#sc">sc</a></span> = <span class="id"><a href="SpecLang.html#State">SpecLang.State</a></span> <span class="id"><a href="InvRG.html#unlock_spec_fn">unlock_spec_fn</a></span> <span class="id"><a href="SpecLang.html#Kstop">SpecLang.Kstop</a></span> <span class="id"><a href="InvRG.html#te">te</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#obj_inv">obj_inv</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#sm">sm</a></span> <span class="id"><a href="InvRG.html#tm">tm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#unlock_match_state">unlock_match_state</a></span> <span class="id"><a href="InvRG.html#t">t</a></span> (<span class="id"><a href="InvRG.html#sc">sc</a></span>, <span class="id"><a href="InvRG.html#sm">sm</a></span>) (<span class="id"><a href="InvRG.html#tc">tc</a></span>, <span class="id"><a href="InvRG.html#tm">tm</a></span>)<br/>
<br/>
&nbsp;&nbsp;| <span class="id"><a name="unlock_step_match">unlock_step_match</a></span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span> <span class="id">rs</span> <span class="id">lf</span> <span class="id">b</span> <span class="id">sc</span> <span class="id">sm</span> <span class="id">tc</span> <span class="id">tm</span> <span class="id">te</span> <span class="id">b</span>' <span class="id">L</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#tc">tc</a></span> = <span class="id"><a href="ASM_local.html#Core_State">Core_State</a></span> <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="InvRG.html#lf">lf</a></span> -&gt; <span class="id"><a href="InvRG.html#lf">lf</a></span> = <span class="id"><a href="ASM_local.html#mk_load_frame">mk_load_frame</a></span> <span class="id">b</span>' <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#PC">PC</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 3) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RCX">RCX</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 0) -&gt; <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RA">RA</a></span> = <span class="id"><a href="Values.html#Vzero">Vzero</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="InvRG.html#L">L</a></span> = <span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="code.html#lock_L_ident">lock_L_ident</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RDX">RDX</a></span> = <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="Integers.html#Int.one">Int.one</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="AST.html#Internal">Internal</a></span> <span class="id"><a href="code.html#lock_release_tso_fnbody">lock_release_tso_fnbody</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#find_instr">find_instr</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 3))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="code.html#lock_release_tso_fnbody">lock_release_tso_fnbody</a></span>.(<span class="id"><a href="ASM_local.html#fn_code">fn_code</a></span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="ASM_local.html#Pmovl_mr">Pmovl_mr</a></span> (<span class="id"><a href="Asm.html#Addrmode">Addrmode</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Asm.html#RCX">RCX</a></span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#inl">inl</a></span> 0%<span class="id">Z</span>)) <span class="id"><a href="Asm.html#RDX">RDX</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#sc">sc</a></span> = <span class="id"><a href="SpecLang.html#State">SpecLang.State</a></span> <span class="id"><a href="InvRG.html#unlock_spec_fn">unlock_spec_fn</a></span> <span class="id"><a href="SpecLang.html#Kstop">SpecLang.Kstop</a></span> <span class="id"><a href="InvRG.html#te">te</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#obj_inv">obj_inv</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#sm">sm</a></span> <span class="id"><a href="InvRG.html#tm">tm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#unlock_match_state">unlock_match_state</a></span> <span class="id"><a href="InvRG.html#t">t</a></span> (<span class="id"><a href="InvRG.html#sc">sc</a></span>, <span class="id"><a href="InvRG.html#sm">sm</a></span>) (<span class="id"><a href="InvRG.html#tc">tc</a></span>, <span class="id"><a href="InvRG.html#tm">tm</a></span>)<br/>
<br/>
&nbsp;&nbsp;| <span class="id"><a name="unlock_set_ret_val_match">unlock_set_ret_val_match</a></span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span> <span class="id">rs</span> <span class="id">lf</span> <span class="id">b</span> <span class="id">sc</span> <span class="id">sm</span> <span class="id">tc</span> <span class="id">tm</span> <span class="id">te</span> <span class="id">b</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#tc">tc</a></span> = <span class="id"><a href="ASM_local.html#Core_State">Core_State</a></span> <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="InvRG.html#lf">lf</a></span> -&gt; <span class="id"><a href="InvRG.html#lf">lf</a></span> = <span class="id"><a href="ASM_local.html#mk_load_frame">mk_load_frame</a></span> <span class="id">b</span>' <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#PC">PC</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 4) -&gt; <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RA">RA</a></span> = <span class="id"><a href="Values.html#Vzero">Vzero</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="AST.html#Internal">Internal</a></span> <span class="id"><a href="code.html#lock_release_tso_fnbody">lock_release_tso_fnbody</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#find_instr">find_instr</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 4))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="code.html#lock_release_tso_fnbody">lock_release_tso_fnbody</a></span>.(<span class="id"><a href="ASM_local.html#fn_code">fn_code</a></span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="ASM_local.html#Pmovl_ri">Pmovl_ri</a></span> <span class="id"><a href="Asm.html#RAX">RAX</a></span> (<span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#sc">sc</a></span> = <span class="id"><a href="SpecLang.html#State">SpecLang.State</a></span> <span class="id"><a href="SpecLang.html#Sskip">SpecLang.Sskip</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="SpecLang.html#Kseq">SpecLang.Kseq</a></span> <span class="id"><a href="SpecLang.html#Sskip">SpecLang.Sskip</a></span> <span class="id"><a href="SpecLang.html#Kstop">SpecLang.Kstop</a></span>) <span class="id"><a href="InvRG.html#te">te</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#obj_inv">obj_inv</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#sm">sm</a></span> <span class="id"><a href="InvRG.html#tm">tm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#unlock_match_state">unlock_match_state</a></span> <span class="id"><a href="InvRG.html#t">t</a></span> (<span class="id"><a href="InvRG.html#sc">sc</a></span>, <span class="id"><a href="InvRG.html#sm">sm</a></span>) (<span class="id"><a href="InvRG.html#tc">tc</a></span>, <span class="id"><a href="InvRG.html#tm">tm</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;| <span class="id"><a name="unlock_retl_match">unlock_retl_match</a></span> : <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span> <span class="id">rs</span> <span class="id">lf</span> <span class="id">b</span> <span class="id">sc</span> <span class="id">sm</span> <span class="id">tc</span> <span class="id">tm</span> <span class="id">te</span> <span class="id">b</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#tc">tc</a></span> = <span class="id"><a href="ASM_local.html#Core_State">Core_State</a></span> <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="InvRG.html#lf">lf</a></span> -&gt; <span class="id"><a href="InvRG.html#lf">lf</a></span> = <span class="id"><a href="ASM_local.html#mk_load_frame">mk_load_frame</a></span> <span class="id">b</span>' <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#PC">PC</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 5) -&gt; <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RAX">RAX</a></span> = <span class="id"><a href="Values.html#Vzero">Vzero</a></span> -&gt; <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RA">RA</a></span> = <span class="id"><a href="Values.html#Vzero">Vzero</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="AST.html#Internal">Internal</a></span> <span class="id"><a href="code.html#lock_release_tso_fnbody">lock_release_tso_fnbody</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#find_instr">find_instr</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> 5))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="code.html#lock_release_tso_fnbody">lock_release_tso_fnbody</a></span>.(<span class="id"><a href="ASM_local.html#fn_code">fn_code</a></span>) =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="ASM_local.html#Pret">Pret</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#sc">sc</a></span> = <span class="id"><a href="SpecLang.html#State">SpecLang.State</a></span> <span class="id"><a href="SpecLang.html#Sskip">SpecLang.Sskip</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="SpecLang.html#Kseq">SpecLang.Kseq</a></span> <span class="id"><a href="SpecLang.html#Sskip">SpecLang.Sskip</a></span> <span class="id"><a href="SpecLang.html#Kstop">SpecLang.Kstop</a></span>) <span class="id"><a href="InvRG.html#te">te</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#obj_inv">obj_inv</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#sm">sm</a></span> <span class="id"><a href="InvRG.html#tm">tm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#unlock_match_state">unlock_match_state</a></span> <span class="id"><a href="InvRG.html#t">t</a></span> (<span class="id"><a href="InvRG.html#sc">sc</a></span>, <span class="id"><a href="InvRG.html#sm">sm</a></span>) (<span class="id"><a href="InvRG.html#tc">tc</a></span>, <span class="id"><a href="InvRG.html#tm">tm</a></span>)<br/>
<br/>
&nbsp;&nbsp;| <span class="id"><a name="unlock_halt_match">unlock_halt_match</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span> <span class="id">rs</span> <span class="id">lf</span> <span class="id">sc</span> <span class="id">sm</span> <span class="id">tc</span> <span class="id">tm</span> <span class="id">te</span> <span class="id">b</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#tc">tc</a></span> = <span class="id"><a href="ASM_local.html#Core_State">Core_State</a></span> <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="InvRG.html#lf">lf</a></span> -&gt; <span class="id"><a href="InvRG.html#lf">lf</a></span> = <span class="id"><a href="ASM_local.html#mk_load_frame">mk_load_frame</a></span> <span class="id">b</span>' <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#PC">PC</a></span> = <span class="id"><a href="Values.html#Vzero">Vzero</a></span> -&gt; <span class="id"><a href="InvRG.html#rs">rs</a></span> <span class="id"><a href="Asm.html#RAX">RAX</a></span> = <span class="id"><a href="Values.html#Vzero">Vzero</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#sc">sc</a></span> = <span class="id"><a href="SpecLang.html#State">SpecLang.State</a></span> <span class="id"><a href="SpecLang.html#Sskip">SpecLang.Sskip</a></span> <span class="id"><a href="SpecLang.html#Kstop">SpecLang.Kstop</a></span> <span class="id"><a href="InvRG.html#te">te</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#obj_inv">obj_inv</a></span> <span class="id"><a href="InvRG.html#MatchState.ge">ge</a></span> <span class="id"><a href="InvRG.html#sm">sm</a></span> <span class="id"><a href="InvRG.html#tm">tm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#unlock_match_state">unlock_match_state</a></span> <span class="id"><a href="InvRG.html#t">t</a></span> (<span class="id"><a href="InvRG.html#sc">sc</a></span>, <span class="id"><a href="InvRG.html#sm">sm</a></span>) (<span class="id"><a href="InvRG.html#tc">tc</a></span>, <span class="id"><a href="InvRG.html#tm">tm</a></span>).<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="obj_match_state">obj_match_state</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GlobDefs.html#tid">tid</a></span> -&gt; <span class="id"><a href="SpecLang.html#core">SpecLang.core</a></span> * <span class="id"><a href="GMemory.html#gmem">gmem</a></span> -&gt; <span class="id"><a href="AsmTSO.html#core">core</a></span> * <span class="id"><a href="TSOMem.html#tsomem">tsomem</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="obj_lock_match">obj_lock_match</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span> <span class="id">sc</span> <span class="id">sm</span> <span class="id">tc</span> <span class="id">tm</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#lock_match_state">lock_match_state</a></span> <span class="id"><a href="InvRG.html#t">t</a></span> (<span class="id"><a href="InvRG.html#sc">sc</a></span>, <span class="id"><a href="InvRG.html#sm">sm</a></span>) (<span class="id"><a href="InvRG.html#tc">tc</a></span>, <span class="id"><a href="InvRG.html#tm">tm</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#obj_match_state">obj_match_state</a></span> <span class="id"><a href="InvRG.html#t">t</a></span> (<span class="id"><a href="InvRG.html#sc">sc</a></span>, <span class="id"><a href="InvRG.html#sm">sm</a></span>) (<span class="id"><a href="InvRG.html#tc">tc</a></span>, <span class="id"><a href="InvRG.html#tm">tm</a></span>)<br/>
<br/>
&nbsp;&nbsp;| <span class="id"><a name="obj_unlock_match">obj_unlock_match</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">t</span> <span class="id">sc</span> <span class="id">sm</span> <span class="id">tc</span> <span class="id">tm</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#unlock_match_state">unlock_match_state</a></span> <span class="id"><a href="InvRG.html#t">t</a></span> (<span class="id"><a href="InvRG.html#sc">sc</a></span>, <span class="id"><a href="InvRG.html#sm">sm</a></span>) (<span class="id"><a href="InvRG.html#tc">tc</a></span>, <span class="id"><a href="InvRG.html#tm">tm</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InvRG.html#obj_match_state">obj_match_state</a></span> <span class="id"><a href="InvRG.html#t">t</a></span> (<span class="id"><a href="InvRG.html#sc">sc</a></span>, <span class="id"><a href="InvRG.html#sm">sm</a></span>) (<span class="id"><a href="InvRG.html#tc">tc</a></span>, <span class="id"><a href="InvRG.html#tm">tm</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
<span class="kwd">End</span> <span class="id"><a href="InvRG.html#MatchState">MatchState</a></span>. </div>
<div class="footer"><hr/>Generated by coq2html</div>
</body>
</html>
