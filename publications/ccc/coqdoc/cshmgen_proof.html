<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module cshmgen_proof</title>
<meta name="description" content="Documentation of Coq module cshmgen_proof" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module cshmgen_proof</h1>
<div class="coq">
<br/>
<br/>
<h1> Correctness of the translation from Clight to C#minor. </h1>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Coqlib.html">Coqlib</a></span> <span class="id"><a href="Errors.html">Errors</a></span> <span class="id"><a href="Maps.html">Maps</a></span> <span class="id"><a href="Integers.html">Integers</a></span> <span class="id"><a href="Floats.html">Floats</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="AST.html">AST</a></span> <span class="id"><a href="Linking.html">Linking</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Values.html">Values</a></span> <span class="id"><a href="Events.html">Events</a></span> <span class="id"><a href="Memory.html">Memory</a></span> <span class="id"><a href="Globalenvs.html">Globalenvs</a></span> <span class="id"><a href="Smallstep.html">Smallstep</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Ctypes.html">Ctypes</a></span> <span class="id">Cshmgen</span>.<br/>
<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="CUAST.html">CUAST</a></span> <span class="id"><a href="Footprint.html">Footprint</a></span> <span class="id"><a href="Blockset.html">Blockset</a></span> <span class="id"><a href="LDSimDefs_local.html">LDSimDefs_local</a></span> <span class="id"><a href="LDSim_local.html">LDSim_local</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="InteractionSemantics.html">InteractionSemantics</a></span> <span class="id"><a href="IS_local.html">IS_local</a></span> <span class="id"><a href="val_casted.html">val_casted</a></span> <span class="id"><a href="InjRels.html">InjRels</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Op_fp.html">Op_fp</a></span> <span class="id"><a href="ClightLang.html">ClightLang</a></span> <span class="id"><a href="Cminor_op_footprint.html">Cminor_op_footprint</a></span> <span class="id"><a href="cshmgen.html">cshmgen</a></span>.<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span>  <span class="id"><a href="Cop.html">Cop</a></span> <span class="id"><a href="Clight.html">Clight</a></span> <span class="id"><a href="Clight_local.html">Clight_local</a></span> <span class="id"><a href="Cminor.html">Cminor</a></span> <span class="id"><a href="Cminor_local.html">Cminor_local</a></span> <span class="id"><a href="Csharpminor.html">Csharpminor</a></span> <span class="id"><a href="Csharpminor_local.html">Csharpminor_local</a></span> <span class="id"><a href="Cop_fp_local.html">Cop_fp_local</a></span> <span class="id"><a href="selection_proof.html">selection_proof</a></span>.<br/>
<br/>
<span class="kwd">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="empfp">empfp</a></span>:=<span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>.<br/>
<span class="kwd">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="footprint">footprint</a></span>:=<span class="id"><a href="Footprint.html#FP.t">FP.t</a></span>.<br/>
<h1> Relational specification of the transformation </h1>
<span class="kwd">Ltac</span> <span class="id">bexpr</span>:=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>:<span class="id">_</span>|- <span class="id"><a href="Csharpminor.html#eval_constant">eval_constant</a></span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> =&gt; <span class="tactic">simpl</span>;<span class="tactic">eauto</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>:<span class="id">_</span>|- <span class="id"><a href="Csharpminor.html#eval_unop">eval_unop</a></span> <span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> =&gt; <span class="tactic">simpl</span>;<span class="tactic">eauto</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>:<span class="id">_</span>|- <span class="id"><a href="Csharpminor.html#eval_binop">eval_binop</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> =&gt; <span class="tactic">simpl</span>;<span class="tactic">eauto</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>:<span class="id">_</span>|- <span class="id"><a href="Csharpminor_local.html#eval_binop_fp">eval_binop_fp</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> =&gt; <span class="tactic">simpl</span>;<span class="tactic">eauto</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>:<span class="id">_</span>|- <span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id">econstructor</span>;<span class="tactic">eauto</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>:<span class="id">_</span>|- <span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id">econstructor</span>;<span class="tactic">eauto</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<span class="kwd">Ltac</span> <span class="id">empfp</span>:=<br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.emp_union_fp">FP.emp_union_fp</a></span>;<span class="tactic">auto</span>.<br/>
<span class="kwd">Ltac</span> <span class="id">inv_eq</span>:=<br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>:?<span class="id">P</span> , <span class="id">H1</span>: ?<span class="id">P</span> |- <span class="id">_</span> =&gt; <span class="tactic">clear</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id">context</span>[<span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id">_</span> =&gt; <span class="id">_</span> <span class="kwd">end</span>] |- <span class="id">_</span> =&gt; <span class="tactic">destruct</span> <span class="id">x</span> <span class="id">eqn</span>:?; <span class="tactic">inversion</span> <span class="id">H</span> ;<span class="tactic">subst</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>:?<span class="id">P</span> = ?<span class="id">Q</span>, <span class="id">H1</span>:<span class="id">context</span> [ ?<span class="id">P</span> ] |- <span class="id">_</span> =&gt; <span class="tactic">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>:?<span class="id">P</span> = ?<span class="id">Q</span> |- <span class="id">context</span> [ ?<span class="id">P</span> ] =&gt; <span class="tactic">rewrite</span> <span class="id">H</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>;<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *;<span class="tactic">subst</span>;<span class="tactic">try</span> <span class="id">contradiction</span>;<span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
<span class="kwd">Ltac</span> <span class="id">Hsimpl</span>:=<br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H1</span>:?<span class="id">a</span>,<span class="id">H2</span>:?<span class="id">a</span>-&gt;?<span class="id">b</span>|-<span class="id">_</span>=&gt;<span class="id">specialize</span> (<span class="id">H2</span> <span class="id">H1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>:<span class="id">_</span>/\<span class="id">_</span>|-<span class="id">_</span>=&gt; <span class="tactic">destruct</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>:<span class="id">exists</span> <span class="id">_</span>,<span class="id">_</span>|-<span class="id">_</span>=&gt;<span class="tactic">destruct</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<span class="kwd">Ltac</span> <span class="id">Esimpl</span>:=<br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>:<span class="id">_</span>|-<span class="id">_</span>/\<span class="id">_</span>=&gt;<span class="tactic">split</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>:<span class="id">_</span>|-<span class="id">exists</span> <span class="id">_</span>,<span class="id">_</span>=&gt;<span class="id">eexists</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="match_fundef">match_fundef</a></span> (<span class="id">p</span>: <span class="id"><a href="ClightLang.html#clight_comp_unit">clight_comp_unit</a></span>) : <span class="id"><a href="Clight.html#fundef">Clight.fundef</a></span> -&gt; <span class="id"><a href="Csharpminor.html#fundef">Csharpminor.fundef</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="match_fundef_internal">match_fundef_internal</a></span>: <span class="kwd">forall</span> <span class="id">f</span> <span class="id">tf</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">transl_function</span> <span class="id">p</span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>) <span class="id"><a href="cshmgen_proof.html#f">f</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#tf">tf</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#match_fundef">match_fundef</a></span> <span class="id">p</span> (<span class="id"><a href="Ctypes.html#Internal">Ctypes.Internal</a></span> <span class="id"><a href="cshmgen_proof.html#f">f</a></span>) (<span class="id"><a href="AST.html#Internal">AST.Internal</a></span> <span class="id"><a href="cshmgen_proof.html#tf">tf</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a name="match_fundef_external">match_fundef_external</a></span>: <span class="kwd">forall</span> <span class="id">ef</span> <span class="id">args</span> <span class="id">res</span> <span class="id">cc</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AST.html#ef_sig">ef_sig</a></span> <span class="id"><a href="cshmgen_proof.html#ef">ef</a></span> = <span class="id"><a href="Ctypes.html#signature_of_type">signature_of_type</a></span> <span class="id"><a href="cshmgen_proof.html#args">args</a></span> <span class="id"><a href="cshmgen_proof.html#res">res</a></span> <span class="id"><a href="cshmgen_proof.html#cc">cc</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#match_fundef">match_fundef</a></span> <span class="id">p</span> (<span class="id"><a href="Ctypes.html#External">Ctypes.External</a></span> <span class="id"><a href="cshmgen_proof.html#ef">ef</a></span> <span class="id"><a href="cshmgen_proof.html#args">args</a></span> <span class="id"><a href="cshmgen_proof.html#res">res</a></span> <span class="id"><a href="cshmgen_proof.html#cc">cc</a></span>) (<span class="id"><a href="AST.html#External">AST.External</a></span> <span class="id"><a href="cshmgen_proof.html#ef">ef</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="match_varinfo">match_varinfo</a></span> (<span class="id">v</span>: <span class="id"><a href="Ctypes.html#type">type</a></span>) (<span class="id">tv</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#unit">unit</a></span>) := <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="match_cu">match_cu</a></span> (<span class="id">scu</span>: <span class="id"><a href="ClightLang.html#clight_comp_unit">clight_comp_unit</a></span>) (<span class="id">tcu</span>: <span class="id"><a href="Csharpminor_local.html#comp_unit">Csharpminor_local.comp_unit</a></span>) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="CUAST.html#match_comp_unit_gen">match_comp_unit_gen</a></span> (<span class="id"><a href="cshmgen_proof.html#match_fundef">match_fundef</a></span> <span class="id"><a href="cshmgen_proof.html#scu">scu</a></span>) <span class="id"><a href="cshmgen_proof.html#match_varinfo">match_varinfo</a></span> <span class="id"><a href="cshmgen_proof.html#scu">scu</a></span> <span class="id"><a href="cshmgen_proof.html#tcu">tcu</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transl_program_match">transl_program_match</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">scu</span> <span class="id">tcu</span>, <span class="id"><a href="cshmgen.html#transl_program">transl_program</a></span> <span class="id"><a href="cshmgen_proof.html#scu">scu</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#tcu">tcu</a></span> -&gt; <span class="id"><a href="cshmgen_proof.html#match_cu">match_cu</a></span> <span class="id"><a href="cshmgen_proof.html#scu">scu</a></span> <span class="id"><a href="cshmgen_proof.html#tcu">tcu</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7910')">Proof.</div>
<div class="proofscript" id="proof7910">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="cshmgen.html#transl_program">transl_program</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="CUAST.html#match_transform_partial_cunit2">match_transform_partial_cunit2</a></span>.<br/>
&nbsp;&nbsp;<span class="id">eexact</span> <span class="id">H</span>.<br/>
- <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">f</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
+ <span class="id">monadInv</span> <span class="id">H0</span>. <span class="id">constructor</span>; <span class="tactic">auto</span>.<br/>
+ <span class="tactic">destruct</span> (<span class="id"><a href="AST.html#signature_eq">signature_eq</a></span> (<span class="id"><a href="AST.html#ef_sig">ef_sig</a></span> <span class="id">e</span>) (<span class="id"><a href="Ctypes.html#signature_of_type">signature_of_type</a></span> <span class="id">t</span> <span class="id">t0</span> <span class="id">c</span>)); <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">intros</span>; <span class="tactic">red</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<h1> Properties of operations over types </h1>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="transl_params_types">transl_params_types</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">params</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Ctypes.html#typ_of_type">typ_of_type</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="cshmgen_proof.html#params">params</a></span>) = <span class="id"><a href="Ctypes.html#typlist_of_typelist">typlist_of_typelist</a></span> (<span class="id"><a href="Ctypes.html#type_of_params">type_of_params</a></span> <span class="id"><a href="cshmgen_proof.html#params">params</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7911')">Proof.</div>
<div class="proofscript" id="proof7911">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">params</span>; <span class="tactic">simpl</span>. <span class="tactic">auto</span>. <span class="tactic">destruct</span> <span class="id">a</span> <span class="kwd">as</span> [<span class="id">id</span> <span class="id">ty</span>]; <span class="tactic">simpl</span>. <span class="tactic">f_equal</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transl_fundef_sig1">transl_fundef_sig1</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ce</span> <span class="id">f</span> <span class="id">tf</span> <span class="id">args</span> <span class="id">res</span> <span class="id">cc</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#match_fundef">match_fundef</a></span> <span class="id"><a href="cshmgen_proof.html#ce">ce</a></span> <span class="id"><a href="cshmgen_proof.html#f">f</a></span> <span class="id"><a href="cshmgen_proof.html#tf">tf</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Cop.html#classify_fun">classify_fun</a></span> (<span class="id"><a href="Clight.html#type_of_fundef">type_of_fundef</a></span> <span class="id"><a href="cshmgen_proof.html#f">f</a></span>) = <span class="id"><a href="Cop.html#fun_case_f">fun_case_f</a></span> <span class="id"><a href="cshmgen_proof.html#args">args</a></span> <span class="id"><a href="cshmgen_proof.html#res">res</a></span> <span class="id"><a href="cshmgen_proof.html#cc">cc</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#funsig">funsig</a></span> <span class="id"><a href="cshmgen_proof.html#tf">tf</a></span> = <span class="id"><a href="Ctypes.html#signature_of_type">signature_of_type</a></span> <span class="id"><a href="cshmgen_proof.html#args">args</a></span> <span class="id"><a href="cshmgen_proof.html#res">res</a></span> <span class="id"><a href="cshmgen_proof.html#cc">cc</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7912')">Proof.</div>
<div class="proofscript" id="proof7912">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
- <span class="id">monadInv</span> <span class="id">H1</span>. <span class="tactic">simpl</span>. <span class="tactic">inversion</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">signature_of_function</span>, <span class="id"><a href="Ctypes.html#signature_of_type">signature_of_type</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">f_equal</span>. <span class="tactic">apply</span> <span class="id"><a href="cshmgen_proof.html#transl_params_types">transl_params_types</a></span>.<br/>
- <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">unfold</span> <span class="id"><a href="Csharpminor.html#funsig">funsig</a></span>. <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transl_fundef_sig2">transl_fundef_sig2</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ce</span> <span class="id">f</span> <span class="id">tf</span> <span class="id">args</span> <span class="id">res</span> <span class="id">cc</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#match_fundef">match_fundef</a></span> <span class="id"><a href="cshmgen_proof.html#ce">ce</a></span> <span class="id"><a href="cshmgen_proof.html#f">f</a></span> <span class="id"><a href="cshmgen_proof.html#tf">tf</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Clight.html#type_of_fundef">type_of_fundef</a></span> <span class="id"><a href="cshmgen_proof.html#f">f</a></span> = <span class="id"><a href="Ctypes.html#Tfunction">Tfunction</a></span> <span class="id"><a href="cshmgen_proof.html#args">args</a></span> <span class="id"><a href="cshmgen_proof.html#res">res</a></span> <span class="id"><a href="cshmgen_proof.html#cc">cc</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#funsig">funsig</a></span> <span class="id"><a href="cshmgen_proof.html#tf">tf</a></span> = <span class="id"><a href="Ctypes.html#signature_of_type">signature_of_type</a></span> <span class="id"><a href="cshmgen_proof.html#args">args</a></span> <span class="id"><a href="cshmgen_proof.html#res">res</a></span> <span class="id"><a href="cshmgen_proof.html#cc">cc</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7913')">Proof.</div>
<div class="proofscript" id="proof7913">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#transl_fundef_sig1">transl_fundef_sig1</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span>; <span class="tactic">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transl_sizeof">transl_sizeof</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">cunit</span>: <span class="id"><a href="ClightLang.html#clight_comp_unit">clight_comp_unit</a></span>) <span class="id">t</span> <span class="id">sz</span>,<br/>
&nbsp;&nbsp;<span class="id">Cshmgen.sizeof</span> <span class="id"><a href="cshmgen_proof.html#cunit">cunit</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>) <span class="id"><a href="cshmgen_proof.html#t">t</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#sz">sz</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#sz">sz</a></span> = <span class="id"><a href="Ctypes.html#sizeof">Ctypes.sizeof</a></span> <span class="id"><a href="cshmgen_proof.html#cunit">cunit</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>) <span class="id"><a href="cshmgen_proof.html#t">t</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7914')">Proof.</div>
<div class="proofscript" id="proof7914">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id">Cshmgen.sizeof</span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Ctypes.html#complete_type">complete_type</a></span> (<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span> <span class="id">cunit</span>) <span class="id">t</span>) <span class="id">eqn</span>:<span class="id">C</span>; <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">symmetry</span>. <br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Ctypes.html#sizeof_stable">Ctypes.sizeof_stable</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transl_alignof">transl_alignof</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">cunit</span>: <span class="id"><a href="ClightLang.html#clight_comp_unit">clight_comp_unit</a></span>) <span class="id">t</span> <span class="id">al</span>,<br/>
&nbsp;&nbsp;<span class="id">Cshmgen.alignof</span> <span class="id"><a href="cshmgen_proof.html#cunit">cunit</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>) <span class="id"><a href="cshmgen_proof.html#t">t</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#al">al</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#al">al</a></span> = <span class="id"><a href="Ctypes.html#alignof">Ctypes.alignof</a></span> <span class="id"><a href="cshmgen_proof.html#cunit">cunit</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>) <span class="id"><a href="cshmgen_proof.html#t">t</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7915')">Proof.</div>
<div class="proofscript" id="proof7915">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">alignof</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Ctypes.html#complete_type">complete_type</a></span> (<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span> <span class="id">cunit</span>) <span class="id">t</span>) <span class="id">eqn</span>:<span class="id">C</span>; <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">symmetry</span>. <span class="tactic">apply</span> <span class="id"><a href="Ctypes.html#alignof_stable">Ctypes.alignof_stable</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transl_alignof_blockcopy">transl_alignof_blockcopy</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">cunit</span>:<span class="id"><a href="ClightLang.html#clight_comp_unit">clight_comp_unit</a></span>) <span class="id">t</span> <span class="id">sz</span>,<br/>
&nbsp;&nbsp;<span class="id">sizeof</span> <span class="id"><a href="cshmgen_proof.html#cunit">cunit</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>) <span class="id"><a href="cshmgen_proof.html#t">t</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#sz">sz</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#sz">sz</a></span> = <span class="id"><a href="Ctypes.html#sizeof">Ctypes.sizeof</a></span> <span class="id"><a href="cshmgen_proof.html#cunit">cunit</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>) <span class="id"><a href="cshmgen_proof.html#t">t</a></span> /\<br/>
&nbsp;&nbsp;<span class="id"><a href="Ctypes.html#alignof_blockcopy">alignof_blockcopy</a></span> <span class="id"><a href="cshmgen_proof.html#cunit">cunit</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>) <span class="id"><a href="cshmgen_proof.html#t">t</a></span> = <span class="id"><a href="Ctypes.html#alignof_blockcopy">alignof_blockcopy</a></span> <span class="id"><a href="cshmgen_proof.html#cunit">cunit</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>) <span class="id"><a href="cshmgen_proof.html#t">t</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7916')">Proof.</div>
<div class="proofscript" id="proof7916">
&nbsp;&nbsp;<span class="tactic">intros</span>. <br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">sizeof</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Ctypes.html#complete_type">complete_type</a></span> (<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span> <span class="id">cunit</span>) <span class="id">t</span>) <span class="id">eqn</span>:<span class="id">C</span>; <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>.<br/>
- <span class="tactic">symmetry</span>. <span class="tactic">apply</span> <span class="id"><a href="Ctypes.html#sizeof_stable">Ctypes.sizeof_stable</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="id">revert</span> <span class="id">C</span>. <span class="tactic">induction</span> <span class="id">t</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>;<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Ctypes.html#prog_comp_env">prog_comp_env</a></span> <span class="id">cunit</span>)!<span class="id">i</span> <span class="kwd">as</span> [<span class="id">co</span>|] <span class="id">eqn</span>:<span class="id">X</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>; <span class="id">erewrite</span> <span class="id">H0</span> <span class="tactic">by</span> <span class="tactic">eauto</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="field_offset_stable">field_offset_stable</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">cunit</span>:<span class="id"><a href="ClightLang.html#clight_comp_unit">clight_comp_unit</a></span>) <span class="id">id</span> <span class="id">co</span> <span class="id">f</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#cunit">cunit</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>)!<span class="id"><a href="cshmgen_proof.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#co">co</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#cunit">cunit</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>)!<span class="id"><a href="cshmgen_proof.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#co">co</a></span> /\<br/>
&nbsp;&nbsp;<span class="id"><a href="Ctypes.html#field_offset">field_offset</a></span> <span class="id"><a href="cshmgen_proof.html#cunit">cunit</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>) <span class="id"><a href="cshmgen_proof.html#f">f</a></span> (<span class="id"><a href="Ctypes.html#co_members">co_members</a></span> <span class="id"><a href="cshmgen_proof.html#co">co</a></span>) = <span class="id"><a href="Ctypes.html#field_offset">field_offset</a></span> <span class="id"><a href="cshmgen_proof.html#cunit">cunit</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>) <span class="id"><a href="cshmgen_proof.html#f">f</a></span> (<span class="id"><a href="Ctypes.html#co_members">co_members</a></span> <span class="id"><a href="cshmgen_proof.html#co">co</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7917')">Proof.</div>
<div class="proofscript" id="proof7917">
&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<br/>
<h1> Properties of the translation functions </h1>
<br/>
<div class="doc">Transformation of expressions and statements. </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transl_expr_lvalue">transl_expr_lvalue</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">a</span> <span class="id">loc</span> <span class="id">ofs</span> <span class="id">ce</span> <span class="id">ta</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Clight.html#eval_lvalue">Clight.eval_lvalue</a></span> <span class="id"><a href="cshmgen_proof.html#ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#loc">loc</a></span> <span class="id"><a href="cshmgen_proof.html#ofs">ofs</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">transl_expr</span> <span class="id"><a href="cshmgen_proof.html#ce">ce</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#ta">ta</a></span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id">exists</span> <span class="id">tb</span>, <span class="id">transl_lvalue</span> <span class="id"><a href="cshmgen_proof.html#ce">ce</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#tb">tb</a></span> /\ <span class="id">make_load</span> <span class="id"><a href="cshmgen_proof.html#tb">tb</a></span> (<span class="id"><a href="Clight.html#typeof">typeof</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span>) = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#ta">ta</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7918')">Proof.</div>
<div class="proofscript" id="proof7918">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">ta</span>; <span class="tactic">intros</span> <span class="id">EVAL</span> <span class="id">TR</span>. <span class="id">inv</span> <span class="id">EVAL</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">TR</span>.<br/>
&nbsp;var&nbsp;local&nbsp;*)</span>&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="Csharpminor.html#Eaddrof">Eaddrof</a></span> <span class="id">id</span>); <span class="tactic">auto</span>.<br/>
&nbsp;var&nbsp;global&nbsp;*)</span>&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="Csharpminor.html#Eaddrof">Eaddrof</a></span> <span class="id">id</span>); <span class="tactic">auto</span>.<br/>
&nbsp;deref&nbsp;*)</span>&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">exists</span> <span class="id">x</span>; <span class="tactic">auto</span>.<br/>
&nbsp;field&nbsp;struct&nbsp;*)</span>&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">exists</span> <span class="id">x0</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id">EQ</span>; <span class="tactic">auto</span>.<br/>
&nbsp;field&nbsp;union&nbsp;*)</span>&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">exists</span> <span class="id">x0</span>; <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id">EQ</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Properties of labeled statements </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transl_lbl_stmt_1">transl_lbl_stmt_1</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ce</span> <span class="id">tyret</span> <span class="id">nbrk</span> <span class="id">ncnt</span> <span class="id">n</span> <span class="id">sl</span> <span class="id">tsl</span>,<br/>
&nbsp;&nbsp;<span class="id">transl_lbl_stmt</span> <span class="id"><a href="cshmgen_proof.html#ce">ce</a></span> <span class="id"><a href="cshmgen_proof.html#tyret">tyret</a></span> <span class="id"><a href="cshmgen_proof.html#nbrk">nbrk</a></span> <span class="id"><a href="cshmgen_proof.html#ncnt">ncnt</a></span> <span class="id"><a href="cshmgen_proof.html#sl">sl</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#tsl">tsl</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">transl_lbl_stmt</span> <span class="id"><a href="cshmgen_proof.html#ce">ce</a></span> <span class="id"><a href="cshmgen_proof.html#tyret">tyret</a></span> <span class="id"><a href="cshmgen_proof.html#nbrk">nbrk</a></span> <span class="id"><a href="cshmgen_proof.html#ncnt">ncnt</a></span> (<span class="id"><a href="Clight.html#select_switch">Clight.select_switch</a></span> <span class="id"><a href="cshmgen_proof.html#n">n</a></span> <span class="id"><a href="cshmgen_proof.html#sl">sl</a></span>) = <span class="id"><a href="Errors.html#OK">OK</a></span> (<span class="id"><a href="Csharpminor.html#select_switch">select_switch</a></span> <span class="id"><a href="cshmgen_proof.html#n">n</a></span> <span class="id"><a href="cshmgen_proof.html#tsl">tsl</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7919')">Proof.</div>
<div class="proofscript" id="proof7919">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">DFL</span>: <span class="kwd">forall</span> <span class="id">sl</span> <span class="id">tsl</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">transl_lbl_stmt</span> <span class="id">ce</span> <span class="id">tyret</span> <span class="id">nbrk</span> <span class="id">ncnt</span> <span class="id"><a href="cshmgen_proof.html#sl">sl</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#tsl">tsl</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">transl_lbl_stmt</span> <span class="id">ce</span> <span class="id">tyret</span> <span class="id">nbrk</span> <span class="id">ncnt</span> (<span class="id"><a href="Clight.html#select_switch_default">Clight.select_switch_default</a></span> <span class="id"><a href="cshmgen_proof.html#sl">sl</a></span>) = <span class="id"><a href="Errors.html#OK">OK</a></span> (<span class="id"><a href="Csharpminor.html#select_switch_default">select_switch_default</a></span> <span class="id"><a href="cshmgen_proof.html#tsl">tsl</a></span>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">sl</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">H</span>. <span class="tactic">simpl</span>. <span class="tactic">destruct</span> <span class="id">o</span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id">EQ</span>; <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id">EQ1</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">CASE</span>: <span class="kwd">forall</span> <span class="id">sl</span> <span class="id">tsl</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">transl_lbl_stmt</span> <span class="id">ce</span> <span class="id">tyret</span> <span class="id">nbrk</span> <span class="id">ncnt</span> <span class="id"><a href="cshmgen_proof.html#sl">sl</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#tsl">tsl</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Clight.html#select_switch_case">Clight.select_switch_case</a></span> <span class="id">n</span> <span class="id"><a href="cshmgen_proof.html#sl">sl</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#select_switch_case">select_switch_case</a></span> <span class="id">n</span> <span class="id"><a href="cshmgen_proof.html#tsl">tsl</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">sl</span>' =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">tsl</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#select_switch_case">select_switch_case</a></span> <span class="id">n</span> <span class="id"><a href="cshmgen_proof.html#tsl">tsl</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">tsl</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id">transl_lbl_stmt</span> <span class="id">ce</span> <span class="id">tyret</span> <span class="id">nbrk</span> <span class="id">ncnt</span> <span class="id">sl</span>' = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id">tsl</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">sl</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">H</span>; <span class="tactic">simpl</span>. <span class="tactic">destruct</span> <span class="id">o</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#zeq">zeq</a></span> <span class="id">z</span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id">EQ</span>; <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id">EQ1</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">IHsl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">IHsl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">specialize</span> (<span class="id">CASE</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>). <span class="tactic">unfold</span> <span class="id"><a href="Clight.html#select_switch">Clight.select_switch</a></span>, <span class="id"><a href="Csharpminor.html#select_switch">select_switch</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Clight.html#select_switch_case">Clight.select_switch_case</a></span> <span class="id">n</span> <span class="id">sl</span>) <span class="kwd">as</span> [<span class="id">sl</span>'|].<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">CASE</span> <span class="kwd">as</span> [<span class="id">tsl</span>' [<span class="id">P</span> <span class="id">Q</span>]]. <span class="tactic">rewrite</span> <span class="id">P</span>, <span class="id">Q</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">CASE</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transl_lbl_stmt_2">transl_lbl_stmt_2</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ce</span> <span class="id">tyret</span> <span class="id">nbrk</span> <span class="id">ncnt</span> <span class="id">sl</span> <span class="id">tsl</span>,<br/>
&nbsp;&nbsp;<span class="id">transl_lbl_stmt</span> <span class="id"><a href="cshmgen_proof.html#ce">ce</a></span> <span class="id"><a href="cshmgen_proof.html#tyret">tyret</a></span> <span class="id"><a href="cshmgen_proof.html#nbrk">nbrk</a></span> <span class="id"><a href="cshmgen_proof.html#ncnt">ncnt</a></span> <span class="id"><a href="cshmgen_proof.html#sl">sl</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#tsl">tsl</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">transl_statement</span> <span class="id"><a href="cshmgen_proof.html#ce">ce</a></span> <span class="id"><a href="cshmgen_proof.html#tyret">tyret</a></span> <span class="id"><a href="cshmgen_proof.html#nbrk">nbrk</a></span> <span class="id"><a href="cshmgen_proof.html#ncnt">ncnt</a></span> (<span class="id"><a href="Clight.html#seq_of_labeled_statement">seq_of_labeled_statement</a></span> <span class="id"><a href="cshmgen_proof.html#sl">sl</a></span>) = <span class="id"><a href="Errors.html#OK">OK</a></span> (<span class="id"><a href="Csharpminor.html#seq_of_lbl_stmt">seq_of_lbl_stmt</a></span> <span class="id"><a href="cshmgen_proof.html#tsl">tsl</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7920')">Proof.</div>
<div class="proofscript" id="proof7920">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">sl</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">H</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">H</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">EQ</span>; <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> (<span class="id">IHsl</span> <span class="id">_</span> <span class="id">EQ1</span>). <span class="tactic">simpl</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<h1> Correctness of Csharpminor construction functions </h1>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="CONSTRUCTORS">CONSTRUCTORS</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CONSTRUCTORS.cunit">cunit</a></span>: <span class="id"><a href="ClightLang.html#clight_comp_unit">clight_comp_unit</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="CONSTRUCTORS.ge">ge</a></span>: <span class="id"><a href="Csharpminor.html#genv">genv</a></span>.<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_intconst_correct">make_intconst_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> (<span class="id">make_intconst</span> <span class="id"><a href="cshmgen_proof.html#n">n</a></span>) (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="cshmgen_proof.html#n">n</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7921')">Proof.</div>
<div class="proofscript" id="proof7921">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id">make_intconst</span>. <span class="id">econstructor</span>. <span class="tactic">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_intconst_fp_correct">make_intconst_fp_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> (<span class="id">make_intconst</span> <span class="id"><a href="cshmgen_proof.html#n">n</a></span>) <span class="id"><a href="cshmgen_proof.html#empfp">empfp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7922')">Proof.</div>
<div class="proofscript" id="proof7922">
 <span class="id">econstructor</span>;<span class="tactic">simpl</span>;<span class="tactic">eauto</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_floatconst_correct">make_floatconst_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> (<span class="id">make_floatconst</span> <span class="id"><a href="cshmgen_proof.html#n">n</a></span>) (<span class="id"><a href="Values.html#Vfloat">Vfloat</a></span> <span class="id"><a href="cshmgen_proof.html#n">n</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7923')">Proof.</div>
<div class="proofscript" id="proof7923">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id">make_floatconst</span>. <span class="id">econstructor</span>. <span class="tactic">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_floatconst_fp_correct">make_floatconst_fp_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> (<span class="id">make_floatconst</span> <span class="id"><a href="cshmgen_proof.html#n">n</a></span>) <span class="id"><a href="cshmgen_proof.html#empfp">empfp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7924')">Proof.</div>
<div class="proofscript" id="proof7924">
 <span class="id">econstructor</span>;<span class="tactic">simpl</span>;<span class="tactic">eauto</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_singleconst_correct">make_singleconst_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> (<span class="id">make_singleconst</span> <span class="id"><a href="cshmgen_proof.html#n">n</a></span>) (<span class="id"><a href="Values.html#Vsingle">Vsingle</a></span> <span class="id"><a href="cshmgen_proof.html#n">n</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7925')">Proof.</div>
<div class="proofscript" id="proof7925">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id">make_singleconst</span>. <span class="id">econstructor</span>. <span class="tactic">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_singleconst_fp_correct">make_singleconst_fp_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> (<span class="id">make_singleconst</span> <span class="id"><a href="cshmgen_proof.html#n">n</a></span>) <span class="id"><a href="cshmgen_proof.html#empfp">empfp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7926')">Proof.</div>
<div class="proofscript" id="proof7926">
 <span class="id">econstructor</span>;<span class="tactic">simpl</span>;<span class="tactic">eauto</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_longconst_correct">make_longconst_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> (<span class="id">make_longconst</span> <span class="id"><a href="cshmgen_proof.html#n">n</a></span>) (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id"><a href="cshmgen_proof.html#n">n</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7927')">Proof.</div>
<div class="proofscript" id="proof7927">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id">make_floatconst</span>. <span class="id">econstructor</span>. <span class="tactic">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_longconst_fp_correct">make_longconst_fp_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> (<span class="id">make_longconst</span> <span class="id"><a href="cshmgen_proof.html#n">n</a></span>) <span class="id"><a href="cshmgen_proof.html#empfp">empfp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7928')">Proof.</div>
<div class="proofscript" id="proof7928">
 <span class="id">econstructor</span>;<span class="tactic">simpl</span>;<span class="tactic">eauto</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_ptrofsconst_correct">make_ptrofsconst_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> (<span class="id">make_ptrofsconst</span> <span class="id"><a href="cshmgen_proof.html#n">n</a></span>) (<span class="id"><a href="Values.html#Vptrofs">Vptrofs</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id"><a href="cshmgen_proof.html#n">n</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7929')">Proof.</div>
<div class="proofscript" id="proof7929">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="Values.html#Vptrofs">Vptrofs</a></span>, <span class="id">make_ptrofsconst</span>. <span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:<span class="id">SF</span>.<br/>
- <span class="tactic">replace</span> (<span class="id"><a href="Integers.html#Ptrofs.to_int64">Ptrofs.to_int64</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id">n</span>)) <span class="kwd">with</span> (<span class="id"><a href="Integers.html#Int64.repr">Int64.repr</a></span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="cshmgen_proof.html#make_longconst_correct">make_longconst_correct</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">symmetry</span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ptrofs</span>.<br/>
- <span class="tactic">replace</span> (<span class="id"><a href="Integers.html#Ptrofs.to_int">Ptrofs.to_int</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id">n</span>)) <span class="kwd">with</span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> <span class="id">n</span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="cshmgen_proof.html#make_intconst_correct">make_intconst_correct</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">symmetry</span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ptrofs</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_ptrofsconst_fp_correct">make_ptrofsconst_fp_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> (<span class="id">make_ptrofsconst</span> <span class="id"><a href="cshmgen_proof.html#n">n</a></span>) <span class="id"><a href="cshmgen_proof.html#empfp">empfp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7930')">Proof.</div>
<div class="proofscript" id="proof7930">
 <span class="id">econstructor</span>;<span class="tactic">simpl</span>;<span class="tactic">eauto</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_singleoffloat_correct">make_singleoffloat_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">n</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> (<span class="id"><a href="Values.html#Vfloat">Vfloat</a></span> <span class="id"><a href="cshmgen_proof.html#n">n</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> (<span class="id">make_singleoffloat</span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span>) (<span class="id"><a href="Values.html#Vsingle">Vsingle</a></span> (<span class="id"><a href="Floats.html#Float.to_single">Float.to_single</a></span> <span class="id"><a href="cshmgen_proof.html#n">n</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7931')">Proof.</div>
<div class="proofscript" id="proof7931">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">econstructor</span>. <span class="tactic">eauto</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_singleoffloat_fp_correct">make_singleoffloat_fp_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">n</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> (<span class="id"><a href="Values.html#Vfloat">Vfloat</a></span> <span class="id"><a href="cshmgen_proof.html#n">n</a></span>)-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> (<span class="id">make_singleoffloat</span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span>) <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7932')">Proof.</div>
<div class="proofscript" id="proof7932">
 <span class="id">econstructor</span>;<span class="tactic">simpl</span>;<span class="tactic">eauto</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_floatofsingle_correct">make_floatofsingle_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">n</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> (<span class="id"><a href="Values.html#Vsingle">Vsingle</a></span> <span class="id"><a href="cshmgen_proof.html#n">n</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> (<span class="id">make_floatofsingle</span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span>) (<span class="id"><a href="Values.html#Vfloat">Vfloat</a></span> (<span class="id"><a href="Floats.html#Float.of_single">Float.of_single</a></span> <span class="id"><a href="cshmgen_proof.html#n">n</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7933')">Proof.</div>
<div class="proofscript" id="proof7933">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">econstructor</span>. <span class="tactic">eauto</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_floatofsingle_fp_correct">make_floatofsingle_fp_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">n</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> (<span class="id"><a href="Values.html#Vsingle">Vsingle</a></span> <span class="id"><a href="cshmgen_proof.html#n">n</a></span>)-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> (<span class="id">make_floatofsingle</span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span>) <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7934')">Proof.</div>
<div class="proofscript" id="proof7934">
 <span class="id">econstructor</span>;<span class="tactic">simpl</span>;<span class="tactic">eauto</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_floatofint_correct">make_floatofint_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">n</span> <span class="id">sg</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="cshmgen_proof.html#n">n</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> (<span class="id">make_floatofint</span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#sg">sg</a></span>) (<span class="id"><a href="Values.html#Vfloat">Vfloat</a></span>(<span class="id"><a href="Cop.html#cast_int_float">cast_int_float</a></span> <span class="id"><a href="cshmgen_proof.html#sg">sg</a></span> <span class="id"><a href="cshmgen_proof.html#n">n</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7935')">Proof.</div>
<div class="proofscript" id="proof7935">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id">make_floatofint</span>, <span class="id"><a href="Cop.html#cast_int_float">cast_int_float</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">sg</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_floatofint_fp_correct">make_floatofint_fp_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">n</span> <span class="id">sg</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="cshmgen_proof.html#n">n</a></span>)-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> (<span class="id">make_floatofint</span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#sg">sg</a></span>) <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7936')">Proof.</div>
<div class="proofscript" id="proof7936">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">make_floatofint</span>,<span class="id"><a href="Cop.html#cast_int_float">cast_int_float</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">sg</span>;<span class="id">econstructor</span>;<span class="tactic">simpl</span>;<span class="tactic">eauto</span>;<span class="tactic">simpl</span>;<span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_intconst_correct</span> <span class="id">make_floatconst_correct</span> <span class="id">make_longconst_correct</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_singleconst_correct</span> <span class="id">make_singleoffloat_correct</span> <span class="id">make_floatofsingle_correct</span> <span class="id">make_floatofint_correct</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_intconst_fp_correct</span> <span class="id">make_floatconst_fp_correct</span> <span class="id">make_longconst_fp_correct</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_singleconst_fp_correct</span> <span class="id">make_singleoffloat_fp_correct</span> <span class="id">make_floatofsingle_fp_correct</span> <span class="id">make_floatofint_fp_correct</span><br/>
&nbsp;&nbsp;: <span class="id">cshm</span>.<br/>
<span class="kwd">Hint</span> <span class="id">Constructors</span> <span class="id"><a href="cshmgen_proof.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#eval_exprlist">eval_exprlist</a></span>: <span class="id">cshm</span>.<br/>
<span class="kwd">Hint</span> <span class="kwd">Extern</span> 2 (@<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id"><a href="Events.html#trace">trace</a></span> <span class="id">_</span> <span class="id">_</span>) =&gt; <span class="id">traceEq</span>: <span class="id">cshm</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_cmpu_ne_zero_correct">make_cmpu_ne_zero_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">a</span> <span class="id">n</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="cshmgen_proof.html#n">n</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> (<span class="id">make_cmpu_ne_zero</span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span>) (<span class="id"><a href="Values.html#Vint">Vint</a></span> (<span class="kwd">if</span> <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="cshmgen_proof.html#n">n</a></span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span> <span class="kwd">then</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span> <span class="kwd">else</span> <span class="id"><a href="Integers.html#Int.one">Int.one</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7937')">Proof.</div>
<div class="proofscript" id="proof7937">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">DEFAULT</span>: <span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> (<span class="id"><a href="Csharpminor.html#Ebinop">Ebinop</a></span> (<span class="id"><a href="Cminor.html#Ocmpu">Ocmpu</a></span> <span class="id"><a href="Integers.html#Cne">Cne</a></span>) <span class="id">a</span> (<span class="id">make_intconst</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Values.html#Vint">Vint</a></span> (<span class="kwd">if</span> <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id">n</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span> <span class="kwd">then</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span> <span class="kwd">else</span> <span class="id"><a href="Integers.html#Int.one">Int.one</a></span>))).<br/>
&nbsp;&nbsp;{ <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>. <span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.cmpu">Val.cmpu</a></span>, <span class="id"><a href="Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Integers.html#Int.cmpu">Int.cmpu</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id">n</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>); <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">CMP</span>: <span class="kwd">forall</span> <span class="id">ob</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.of_optbool">Val.of_optbool</a></span> <span class="id"><a href="cshmgen_proof.html#ob">ob</a></span> = <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">n</span> = (<span class="kwd">if</span> <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id">n</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span> <span class="kwd">then</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span> <span class="kwd">else</span> <span class="id"><a href="Integers.html#Int.one">Int.one</a></span>)).<br/>
&nbsp;&nbsp;{ <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">ob</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">destruct</span> <span class="id">b</span>; <span class="id">inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.eq_false">Int.eq_false</a></span>. <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="Integers.html#Int.one_not_zero">Int.one_not_zero</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.eq_true">Int.eq_true</a></span>. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> <span class="id">b</span>; <span class="tactic">auto</span>.<br/>
- <span class="id">inv</span> <span class="id">H</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">H6</span>. <span class="id">decEq</span>. <span class="id">decEq</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H6</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Values.html#Val.cmp_bool">Val.cmp_bool</a></span>) <span class="id">eqn</span>:?; <span class="id">inv</span> <span class="id">H6</span>. <span class="tactic">destruct</span> <span class="id">b</span>; <span class="id">inv</span> <span class="id">H0</span>; <span class="tactic">eauto</span>.<br/>
- <span class="id">inv</span> <span class="id">H</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">H6</span>. <span class="id">decEq</span>. <span class="id">decEq</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H6</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span>) <span class="id">eqn</span>:?; <span class="id">inv</span> <span class="id">H6</span>. <span class="tactic">destruct</span> <span class="id">b</span>; <span class="id">inv</span> <span class="id">H0</span>; <span class="tactic">eauto</span>. <br/>
- <span class="id">inv</span> <span class="id">H</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">H6</span>. <span class="id">decEq</span>. <span class="id">decEq</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H6</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Values.html#Val.cmpf_bool">Val.cmpf_bool</a></span>) <span class="id">eqn</span>:?; <span class="id">inv</span> <span class="id">H6</span>. <span class="tactic">destruct</span> <span class="id">b</span>; <span class="id">inv</span> <span class="id">H0</span>; <span class="tactic">eauto</span>. <br/>
- <span class="id">inv</span> <span class="id">H</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">H6</span>. <span class="id">decEq</span>. <span class="id">decEq</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H6</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Values.html#Val.cmpfs_bool">Val.cmpfs_bool</a></span>) <span class="id">eqn</span>:?; <span class="id">inv</span> <span class="id">H6</span>. <span class="tactic">destruct</span> <span class="id">b</span>; <span class="id">inv</span> <span class="id">H0</span>; <span class="tactic">eauto</span>. <br/>
- <span class="id">inv</span> <span class="id">H</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">H6</span>. <span class="id">decEq</span>. <span class="id">decEq</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H6</span>. <span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.cmpl">Val.cmpl</a></span> <span class="kwd">in</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Values.html#Val.cmpl_bool">Val.cmpl_bool</a></span> <span class="id">c</span> <span class="id">v1</span> <span class="id">v2</span>) <span class="kwd">as</span> [[]|]; <span class="id">inv</span> <span class="id">H6</span>; <span class="tactic">reflexivity</span>.<br/>
- <span class="id">inv</span> <span class="id">H</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">H6</span>. <span class="id">decEq</span>. <span class="id">decEq</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H6</span>. <span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.cmplu">Val.cmplu</a></span> <span class="kwd">in</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Values.html#Val.cmplu_bool">Val.cmplu_bool</a></span> (<span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id">m</span>) <span class="id">c</span> <span class="id">v1</span> <span class="id">v2</span>) <span class="kwd">as</span> [[]|]; <span class="id">inv</span> <span class="id">H6</span>; <span class="tactic">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_cmpu_ne_zero_fp_correct">make_cmpu_ne_zero_fp_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">a</span> <span class="id">n</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="cshmgen_proof.html#n">n</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> (<span class="id">make_cmpu_ne_zero</span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span>) <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7938')">Proof.</div>
<div class="proofscript" id="proof7938">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">destruct</span> <span class="id">a</span>;<span class="tactic">simpl</span>;<span class="tactic">auto</span>; <span class="tactic">try</span> <span class="tactic">destruct</span> <span class="id">b</span>;<span class="tactic">simpl</span>;<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">cshm</span>; <span class="id">econstructor</span>;<span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>;<span class="tactic">simpl</span>;<span class="tactic">eauto</span>;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>;<span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_cmpu_ne_zero_correct_ptr">make_cmpu_ne_zero_correct_ptr</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">a</span> <span class="id">b</span> <span class="id">i</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> <span class="id"><a href="cshmgen_proof.html#i">i</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="cshmgen_proof.html#i">i</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> (<span class="id">make_cmpu_ne_zero</span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span>) <span class="id"><a href="Values.html#Vone">Vone</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7939')">Proof.</div>
<div class="proofscript" id="proof7939">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">DEFAULT</span>: <span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> (<span class="id"><a href="Csharpminor.html#Ebinop">Ebinop</a></span> (<span class="id"><a href="Cminor.html#Ocmpu">Ocmpu</a></span> <span class="id"><a href="Integers.html#Cne">Cne</a></span>) <span class="id">a</span> (<span class="id">make_intconst</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>)) <span class="id"><a href="Values.html#Vone">Vone</a></span>).<br/>
&nbsp;&nbsp;{ <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>. <span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.cmpu">Val.cmpu</a></span>, <span class="id"><a href="Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> <span class="id">H0</span>, <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.eq_true">Int.eq_true</a></span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">OF_OPTBOOL</span>: <span class="kwd">forall</span> <span class="id">ob</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Val.of_optbool">Val.of_optbool</a></span> <span class="id"><a href="cshmgen_proof.html#ob">ob</a></span>) &lt;&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b</span> <span class="id">i</span>)).<br/>
&nbsp;&nbsp;{ <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">ob</span> <span class="kwd">as</span> [[]|]; <span class="tactic">discriminate</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">OF_BOOL</span>: <span class="kwd">forall</span> <span class="id">ob</span>, <span class="id"><a href="Coqlib.html#option_map">option_map</a></span> <span class="id"><a href="Values.html#Val.of_bool">Val.of_bool</a></span> <span class="id"><a href="cshmgen_proof.html#ob">ob</a></span> &lt;&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b</span> <span class="id">i</span>)).<br/>
&nbsp;&nbsp;{ <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">ob</span> <span class="kwd">as</span> [[]|]; <span class="tactic">discriminate</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> <span class="id">b0</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="kwd">Ltac</span> <span class="id">OMelim</span>:=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="Coqlib.html#option_map">option_map</a></span> <span class="id">_</span> ?<span class="id">x</span> = <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="tactic">destruct</span> <span class="id">x</span> <span class="id">eqn</span>:?; <span class="id">inv</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
- <span class="id">inv</span> <span class="id">H</span>; <span class="id">eelim</span> <span class="id">OF_OPTBOOL</span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H8</span>. <span class="id">instantiate</span> (1:= <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>). <span class="id">OMelim</span>. <span class="tactic">destruct</span> <span class="id">b0</span>; <span class="id">inv</span> <span class="id">H2</span>.<br/>
- <span class="id">inv</span> <span class="id">H</span>; <span class="id">eelim</span> <span class="id">OF_OPTBOOL</span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H8</span>. <span class="id">instantiate</span> (1:= <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>). <span class="id">OMelim</span>. <span class="tactic">destruct</span> <span class="id">b0</span>; <span class="id">inv</span> <span class="id">H2</span>.<br/>
- <span class="id">inv</span> <span class="id">H</span>; <span class="id">eelim</span> <span class="id">OF_OPTBOOL</span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H8</span>. <span class="id">instantiate</span> (1:= <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>). <span class="id">OMelim</span>. <span class="tactic">destruct</span> <span class="id">b0</span>; <span class="id">inv</span> <span class="id">H2</span>.<br/>
- <span class="id">inv</span> <span class="id">H</span>; <span class="id">eelim</span> <span class="id">OF_OPTBOOL</span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H8</span>. <span class="id">instantiate</span> (1:= <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>). <span class="id">OMelim</span>. <span class="tactic">destruct</span> <span class="id">b0</span>; <span class="id">inv</span> <span class="id">H2</span>.<br/>
- <span class="id">inv</span> <span class="id">H</span>; <span class="id">eelim</span> <span class="id">OF_BOOL</span>; <span class="tactic">eauto</span>.<br/>
- <span class="id">inv</span> <span class="id">H</span>; <span class="id">eelim</span> <span class="id">OF_BOOL</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="make_cmpu_ne_zero_ptr_fp">make_cmpu_ne_zero_ptr_fp</a></span>:=<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> <span class="id">e</span> <span class="id">m</span> <span class="id">b</span> <span class="id">i</span> <span class="id">fp</span> =&gt;<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Csharpminor.html#Ebinop">Ebinop</a></span> (<span class="id"><a href="Cminor.html#Ocmp">Ocmp</a></span> <span class="id">_</span>) <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Csharpminor.html#Ebinop">Ebinop</a></span> (<span class="id"><a href="Cminor.html#Ocmpu">Ocmpu</a></span> <span class="id">_</span>) <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Csharpminor.html#Ebinop">Ebinop</a></span> (<span class="id"><a href="Cminor.html#Ocmpf">Ocmpf</a></span> <span class="id">_</span>) <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Csharpminor.html#Ebinop">Ebinop</a></span> (<span class="id"><a href="Cminor.html#Ocmpfs">Ocmpfs</a></span> <span class="id">_</span>) <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Csharpminor.html#Ebinop">Ebinop</a></span> (<span class="id"><a href="Cminor.html#Ocmpl">Ocmpl</a></span> <span class="id">_</span>) <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Csharpminor.html#Ebinop">Ebinop</a></span> (<span class="id"><a href="Cminor.html#Ocmplu">Ocmplu</a></span> <span class="id">_</span>) <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span> (<span class="id"><a href="MemOpFP.html#weak_valid_pointer_fp">MemOpFP.weak_valid_pointer_fp</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="cshmgen_proof.html#i">i</a></span>))<br/>
<span class="kwd">end</span>.<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_cmpu_ne_zero_ptr_fp_correct">make_cmpu_ne_zero_ptr_fp_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">e</span> <span class="id">le</span> <span class="id">a</span> <span class="id">m</span> <span class="id">b</span> <span class="id">i</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> <span class="id"><a href="cshmgen_proof.html#i">i</a></span>)-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#make_cmpu_ne_zero_ptr_fp">make_cmpu_ne_zero_ptr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> <span class="id"><a href="cshmgen_proof.html#i">i</a></span> <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span> = <span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span> (<span class="id"><a href="MemOpFP.html#weak_valid_pointer_fp">MemOpFP.weak_valid_pointer_fp</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="cshmgen_proof.html#i">i</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7940')">Proof.</div>
<div class="proofscript" id="proof7940">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="cshmgen_proof.html#make_cmpu_ne_zero_ptr_fp">make_cmpu_ne_zero_ptr_fp</a></span>;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span>;<span class="tactic">auto</span>;<span class="tactic">destruct</span> <span class="id">b0</span> ;<span class="tactic">auto</span>; <span class="id">inv</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H6</span>;<span class="tactic">unfold</span> <span class="id"><a href="Coqlib.html#option_map">option_map</a></span>,<span class="id"><a href="Values.html#Val.of_bool">Val.of_bool</a></span> <span class="kwd">in</span> <span class="id">H0</span>;[<span class="tactic">destruct</span> <span class="id"><a href="Values.html#Val.cmp_bool">Val.cmp_bool</a></span>|<span class="tactic">destruct</span> <span class="id"><a href="Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span>|<span class="tactic">destruct</span> <span class="id"><a href="Values.html#Val.cmpf_bool">Val.cmpf_bool</a></span>|<span class="tactic">destruct</span> <span class="id"><a href="Values.html#Val.cmpfs_bool">Val.cmpfs_bool</a></span>| |<span class="tactic">destruct</span> <span class="id"><a href="Values.html#Val.cmplu_bool">Val.cmplu_bool</a></span>];<span class="id">inv</span> <span class="id">H0</span>;<span class="tactic">try</span> <span class="tactic">destruct</span> <span class="id">b0</span>;<span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.cmpl">Val.cmpl</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">unfold</span> <span class="id"><a href="Coqlib.html#option_map">option_map</a></span>,<span class="id"><a href="Values.html#Val.of_bool">Val.of_bool</a></span>,<span class="id"><a href="Values.html#Val.cmpl_bool">Val.cmpl_bool</a></span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v1</span>;<span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">destruct</span> <span class="id">v2</span>;<span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int64.cmp">Int64.cmp</a></span>) ;<span class="id">inv</span> <span class="id">H0</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="make_cmpu_ne_zero_fp_correct_ptr">make_cmpu_ne_zero_fp_correct_ptr</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">a</span> <span class="id">b</span> <span class="id">i</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> <span class="id"><a href="cshmgen_proof.html#i">i</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id"><a href="cshmgen_proof.html#i">i</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> (<span class="id">make_cmpu_ne_zero</span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span>)(<span class="id"><a href="cshmgen_proof.html#make_cmpu_ne_zero_ptr_fp">make_cmpu_ne_zero_ptr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> <span class="id"><a href="cshmgen_proof.html#i">i</a></span> <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7941')">Proof.</div>
<div class="proofscript" id="proof7941">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span>;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>). <span class="tactic">auto</span>. <span class="tactic">assert</span>(<span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>=<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>). <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span>;<span class="tactic">simpl</span>;<span class="tactic">auto</span>;<span class="tactic">try</span> <span class="tactic">destruct</span> <span class="id">b0</span>;<span class="tactic">simpl</span>;<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">cshm</span>;<span class="tactic">try</span>(<span class="id">econstructor</span>;<span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>;<span class="tactic">simpl</span>;<span class="tactic">eauto</span>;<span class="tactic">try</span> <span class="tactic">rewrite</span> <span class="id">H1</span>,<span class="id">H2</span>,<span class="id">H3</span>;<span class="tactic">simpl</span>;<span class="tactic">eauto</span>;<span class="tactic">rewrite</span> <span class="id">H2</span>,<span class="id">H3</span>,<span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>;<span class="tactic">auto</span>;<span class="tactic">fail</span>).<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="make_cast_int_correct">make_cast_int_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">a</span> <span class="id">n</span> <span class="id">sz</span> <span class="id">si</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="cshmgen_proof.html#n">n</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> (<span class="id">make_cast_int</span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#sz">sz</a></span> <span class="id"><a href="cshmgen_proof.html#si">si</a></span>) (<span class="id"><a href="Values.html#Vint">Vint</a></span> (<span class="id"><a href="Cop.html#cast_int_int">cast_int_int</a></span> <span class="id"><a href="cshmgen_proof.html#sz">sz</a></span> <span class="id"><a href="cshmgen_proof.html#si">si</a></span> <span class="id"><a href="cshmgen_proof.html#n">n</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7942')">Proof.</div>
<div class="proofscript" id="proof7942">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id">make_cast_int</span>, <span class="id"><a href="Cop.html#cast_int_int">cast_int_int</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">sz</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">si</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">si</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="cshmgen_proof.html#make_cmpu_ne_zero_correct">make_cmpu_ne_zero_correct</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_cast_int_fp_correct">make_cast_int_fp_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">a</span> <span class="id">n</span> <span class="id">sz</span> <span class="id">si</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="cshmgen_proof.html#n">n</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> (<span class="id">make_cast_int</span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#sz">sz</a></span> <span class="id"><a href="cshmgen_proof.html#si">si</a></span>) <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7943')">Proof.</div>
<div class="proofscript" id="proof7943">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id">make_cast_int</span>,<span class="id"><a href="Cop.html#cast_int_int">cast_int_int</a></span>;  <span class="tactic">destruct</span> <span class="id">sz</span>;<span class="tactic">auto</span>;<span class="tactic">destruct</span> <span class="id">si</span>;<span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>;<span class="tactic">try</span> <span class="id">econstructor</span>;<span class="tactic">simpl</span>;<span class="tactic">eauto</span>;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_cmpu_ne_zero_fp_correct">make_cmpu_ne_zero_fp_correct</a></span>;<span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_longofint_correct">make_longofint_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">a</span> <span class="id">n</span> <span class="id">si</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="cshmgen_proof.html#n">n</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> (<span class="id">make_longofint</span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#si">si</a></span>) (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> (<span class="id"><a href="Cop.html#cast_int_long">cast_int_long</a></span> <span class="id"><a href="cshmgen_proof.html#si">si</a></span> <span class="id"><a href="cshmgen_proof.html#n">n</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7944')">Proof.</div>
<div class="proofscript" id="proof7944">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id">make_longofint</span>, <span class="id"><a href="Cop.html#cast_int_long">cast_int_long</a></span>. <span class="tactic">destruct</span> <span class="id">si</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_longofint_fp_correct">make_longofint_fp_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">a</span> <span class="id">n</span> <span class="id">si</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="cshmgen_proof.html#n">n</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> (<span class="id">make_longofint</span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#si">si</a></span>) <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7945')">Proof.</div>
<div class="proofscript" id="proof7945">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id">make_longofint</span>, <span class="id"><a href="Cop.html#cast_int_long">cast_int_long</a></span>; <span class="tactic">destruct</span> <span class="id">si</span>;<span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>;<span class="id">econstructor</span>;<span class="tactic">eauto</span>;<span class="tactic">simpl</span>;<span class="tactic">eauto</span>.<br/>
Qed.</div>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">make_cast_int_correct</span> <span class="id">make_longofint_correct</span> <span class="id">make_cast_int_fp_correct</span> <span class="id">make_longofint_fp_correct</span>: <span class="id">cshm</span>.<br/>
<br/>
<span class="kwd">Ltac</span> <span class="id">InvEval</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> ] =&gt; <span class="tactic">discriminate</span><br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> ] =&gt; <span class="id">inv</span> <span class="id">H</span>; <span class="id">InvEval</span><br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> =&gt; <span class="id">_</span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id">_</span> <span class="kwd">end</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> ] =&gt; <span class="tactic">destruct</span> <span class="id">x</span> <span class="id">eqn</span>:?; <span class="id">InvEval</span><br/>
&nbsp;&nbsp;| [ <span class="id">H</span>: <span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> =&gt; <span class="id">_</span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> =&gt; <span class="id">_</span> <span class="kwd">end</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> ] =&gt; <span class="tactic">destruct</span> <span class="id">x</span> <span class="id">eqn</span>:?; <span class="id">InvEval</span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id">idtac</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_cast_correct">make_cast_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">a</span> <span class="id">b</span> <span class="id">v</span> <span class="id">ty1</span> <span class="id">ty2</span> <span class="id">v</span>',<br/>
&nbsp;&nbsp;<span class="id">make_cast</span> <span class="id"><a href="cshmgen_proof.html#ty1">ty1</a></span> <span class="id"><a href="cshmgen_proof.html#ty2">ty2</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Cop.html#sem_cast">sem_cast</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> <span class="id"><a href="cshmgen_proof.html#ty1">ty1</a></span> <span class="id"><a href="cshmgen_proof.html#ty2">ty2</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> <span class="id">v</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7946')">Proof.</div>
<div class="proofscript" id="proof7946">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id">make_cast</span>, <span class="id"><a href="Cop.html#sem_cast">sem_cast</a></span> <span class="kwd">in</span> *;<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Cop.html#classify_cast">classify_cast</a></span> <span class="id">ty1</span> <span class="id">ty2</span>); <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">destruct</span> <span class="id">v</span>; <span class="id">InvEval</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
- <span class="comment">(*&nbsp;single&nbsp;-&gt;&nbsp;int&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">make_singleofint</span>, <span class="id"><a href="Cop.html#cast_int_float">cast_int_float</a></span>. <span class="tactic">destruct</span> <span class="id">si1</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
- <span class="comment">(*&nbsp;float&nbsp;-&gt;&nbsp;int&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="cshmgen_proof.html#make_cast_int_correct">make_cast_int_correct</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Cop.html#cast_float_int">cast_float_int</a></span> <span class="kwd">in</span> <span class="id">Heqo</span>. <span class="tactic">unfold</span> <span class="id">make_intoffloat</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">si2</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span>; <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id">Heqo</span>; <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;single&nbsp;-&gt;&nbsp;int&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="cshmgen_proof.html#make_cast_int_correct">make_cast_int_correct</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Cop.html#cast_single_int">cast_single_int</a></span> <span class="kwd">in</span> <span class="id">Heqo</span>. <span class="tactic">unfold</span> <span class="id">make_intofsingle</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">si2</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>; <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id">Heqo</span>; <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;long&nbsp;-&gt;&nbsp;float&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">make_floatoflong</span>, <span class="id"><a href="Cop.html#cast_long_float">cast_long_float</a></span>. <span class="tactic">destruct</span> <span class="id">si1</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
- <span class="comment">(*&nbsp;long&nbsp;-&gt;&nbsp;single&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">make_singleoflong</span>, <span class="id"><a href="Cop.html#cast_long_single">cast_long_single</a></span>. <span class="tactic">destruct</span> <span class="id">si1</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
- <span class="comment">(*&nbsp;float&nbsp;-&gt;&nbsp;long&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Cop.html#cast_float_long">cast_float_long</a></span> <span class="kwd">in</span> <span class="id">Heqo</span>. <span class="tactic">unfold</span> <span class="id">make_longoffloat</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">si2</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span>; <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id">Heqo</span>; <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;single&nbsp;-&gt;&nbsp;long&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Cop.html#cast_single_long">cast_single_long</a></span> <span class="kwd">in</span> <span class="id">Heqo</span>. <span class="tactic">unfold</span> <span class="id">make_longofsingle</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">si2</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>; <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id">Heqo</span>; <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;int&nbsp;-&gt;&nbsp;bool&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="cshmgen_proof.html#make_cmpu_ne_zero_correct">make_cmpu_ne_zero_correct</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;pointer&nbsp;(32&nbsp;bits)&nbsp;-&gt;&nbsp;bool&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_cmpu_ne_zero_correct_ptr">make_cmpu_ne_zero_correct_ptr</a></span>; <span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;long&nbsp;-&gt;&nbsp;bool&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.cmplu">Val.cmplu</a></span>, <span class="id"><a href="Values.html#Val.cmplu_bool">Val.cmplu_bool</a></span>, <span class="id"><a href="Integers.html#Int64.cmpu">Int64.cmpu</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i</span> <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span>); <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;pointer&nbsp;(64&nbsp;bits)&nbsp;-&gt;&nbsp;bool&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.cmplu">Val.cmplu</a></span>, <span class="id"><a href="Values.html#Val.cmplu_bool">Val.cmplu_bool</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="kwd">in</span> <span class="id">Heqb1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heqb0</span>, <span class="id">Heqb1</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.eq_true">Int64.eq_true</a></span>. <span class="tactic">reflexivity</span>.<br/>
- <span class="comment">(*&nbsp;float&nbsp;-&gt;&nbsp;bool&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.cmpf">Val.cmpf</a></span>, <span class="id"><a href="Values.html#Val.cmpf_bool">Val.cmpf_bool</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Floats.html#Float.cmp_ne_eq">Float.cmp_ne_eq</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Floats.html#Float.cmp">Float.cmp</a></span> <span class="id"><a href="Integers.html#Ceq">Ceq</a></span> <span class="id">f</span> <span class="id"><a href="Floats.html#Float.zero">Float.zero</a></span>); <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;single&nbsp;-&gt;&nbsp;bool&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.cmpfs">Val.cmpfs</a></span>, <span class="id"><a href="Values.html#Val.cmpfs_bool">Val.cmpfs_bool</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Floats.html#Float32.cmp_ne_eq">Float32.cmp_ne_eq</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Floats.html#Float32.cmp">Float32.cmp</a></span> <span class="id"><a href="Integers.html#Ceq">Ceq</a></span> <span class="id">f</span> <span class="id"><a href="Floats.html#Float32.zero">Float32.zero</a></span>); <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;struct&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="AST.html#ident_eq">ident_eq</a></span> <span class="id">id1</span> <span class="id">id2</span>); <span class="id">inv</span> <span class="id">H1</span>; <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;union&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="AST.html#ident_eq">ident_eq</a></span> <span class="id">id1</span> <span class="id">id2</span>); <span class="id">inv</span> <span class="id">H1</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_cast_fp_correct">make_cast_fp_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">a</span> <span class="id">b</span> <span class="id">v</span> <span class="id">ty1</span> <span class="id">ty2</span> <span class="id">v</span>' <span class="id">fp</span> <span class="id">fp</span>',<br/>
&nbsp;&nbsp;<span class="id">make_cast</span> <span class="id"><a href="cshmgen_proof.html#ty1">ty1</a></span> <span class="id"><a href="cshmgen_proof.html#ty2">ty2</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Cop.html#sem_cast">sem_cast</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> <span class="id"><a href="cshmgen_proof.html#ty1">ty1</a></span> <span class="id"><a href="cshmgen_proof.html#ty2">ty2</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Cop_fp_local.html#sem_cast_fp">Cop_fp_local.sem_cast_fp</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> <span class="id"><a href="cshmgen_proof.html#ty1">ty1</a></span> <span class="id"><a href="cshmgen_proof.html#ty2">ty2</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">fp</span>'-&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span> <span class="id">fp</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7947')">Proof.</div>
<div class="proofscript" id="proof7947">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Cop_fp_local.html#sem_cast_fp">Cop_fp_local.sem_cast_fp</a></span>,<span class="id">make_cast</span>, <span class="id"><a href="Cop.html#sem_cast">sem_cast</a></span> <span class="kwd">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Cop.html#classify_cast">classify_cast</a></span> <span class="id">ty1</span> <span class="id">ty2</span>) <span class="id">eqn</span>:?; <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">destruct</span> <span class="id">v</span>; <span class="id">InvEval</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>; <span class="tactic">try</span> <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>;<span class="tactic">auto</span>;<span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id">make_singleofint</span>.  <span class="tactic">destruct</span> <span class="id">si1</span>; <span class="id">econstructor</span>;<span class="tactic">eauto</span>; <span class="tactic">simpl</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_cast_int_fp_correct">make_cast_int_fp_correct</a></span>;<span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>;<span class="tactic">destruct</span> <span class="id">si2</span>; <span class="id">inv</span> <span class="id">Heqo</span>;<span class="id">econstructor</span>;<span class="tactic">eauto</span>;<span class="tactic">simpl</span>;<span class="tactic">eauto</span>;<span class="tactic">rewrite</span> <span class="id">H1</span>;<span class="tactic">simpl</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_cast_int_fp_correct">make_cast_int_fp_correct</a></span>;<span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>;<span class="tactic">destruct</span> <span class="id">si2</span>; <span class="id">inv</span> <span class="id">Heqo</span>;<span class="id">econstructor</span>;<span class="tactic">eauto</span>;<span class="tactic">simpl</span>;<span class="tactic">eauto</span>;<span class="tactic">rewrite</span> <span class="id">H1</span>;<span class="tactic">simpl</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_cast_int_fp_correct">make_cast_int_fp_correct</a></span>;<span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>;<span class="id">econstructor</span>;<span class="tactic">eauto</span>;<span class="tactic">simpl</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id">make_floatoflong</span>. <span class="tactic">destruct</span> <span class="id">si1</span>;<span class="id">econstructor</span>;<span class="tactic">eauto</span>;<span class="tactic">simpl</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id">make_singleoflong</span>. <span class="tactic">destruct</span> <span class="id">si1</span>;<span class="id">econstructor</span>;<span class="tactic">eauto</span>;<span class="tactic">simpl</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id">make_longoffloat</span>. <span class="tactic">destruct</span> <span class="id">si2</span>;<span class="id">econstructor</span>;<span class="tactic">eauto</span>;<span class="tactic">simpl</span>;<span class="tactic">eauto</span>; <span class="id">inv</span> <span class="id">Heqo</span>;<span class="tactic">rewrite</span> <span class="id">H1</span>;<span class="tactic">simpl</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">unfold</span> <span class="id">make_longofsingle</span>. <span class="tactic">destruct</span> <span class="id">si2</span>;<span class="id">econstructor</span>;<span class="tactic">eauto</span>;<span class="tactic">simpl</span>;<span class="tactic">eauto</span>;<span class="id">inv</span> <span class="id">Heqo</span>;<span class="tactic">rewrite</span> <span class="id">H1</span>;<span class="tactic">simpl</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_cmpu_ne_zero_fp_correct">make_cmpu_ne_zero_fp_correct</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_cmpu_ne_zero_fp_correct_ptr">make_cmpu_ne_zero_fp_correct_ptr</a></span> <span class="kwd">in</span> <span class="id">Heqb1</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span>&lt;- <span class="id"><a href="cshmgen_proof.html#make_cmpu_ne_zero_ptr_fp_correct">make_cmpu_ne_zero_ptr_fp_correct</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id">econstructor</span>;<span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>;<span class="tactic">simpl</span>;<span class="tactic">eauto</span>;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">assert</span>(<span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>). <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">Heqb0</span>. <span class="id">inv</span> <span class="id">Heqb0</span>.<br/>
&nbsp;&nbsp;- <span class="id">econstructor</span>;<span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>;<span class="tactic">simpl</span>;<span class="tactic">eauto</span>;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id">econstructor</span>;<span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>;<span class="tactic">simpl</span>;<span class="tactic">eauto</span>;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> (<span class="id"><a href="AST.html#ident_eq">ident_eq</a></span> <span class="id">id1</span> <span class="id">id2</span>) <span class="id">eqn</span>:?;<span class="id">inv</span> <span class="id">H1</span>;<span class="id">inv</span> <span class="id">H2</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> (<span class="id"><a href="AST.html#ident_eq">ident_eq</a></span> <span class="id">id1</span> <span class="id">id2</span>) <span class="id">eqn</span>:?;<span class="id">inv</span> <span class="id">H1</span>;<span class="id">inv</span> <span class="id">H2</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>;<span class="tactic">auto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="make_boolean_correct">make_boolean_correct</a></span>:<br/>
&nbsp;<span class="kwd">forall</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">a</span> <span class="id">v</span> <span class="id">ty</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Cop.html#bool_val">bool_val</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> <span class="id"><a href="cshmgen_proof.html#ty">ty</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">vb</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> (<span class="id">make_boolean</span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#ty">ty</a></span>) <span class="id"><a href="cshmgen_proof.html#vb">vb</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Values.html#Val.bool_of_val">Val.bool_of_val</a></span> <span class="id"><a href="cshmgen_proof.html#vb">vb</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7948')">Proof.</div>
<div class="proofscript" id="proof7948">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id">make_boolean</span>. <span class="tactic">unfold</span> <span class="id"><a href="Cop.html#bool_val">bool_val</a></span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Cop.html#classify_bool">classify_bool</a></span> <span class="id">ty</span>); <span class="tactic">destruct</span> <span class="id">v</span>; <span class="id">InvEval</span>.<br/>
- <span class="comment">(*&nbsp;int&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>. <span class="tactic">apply</span> <span class="id"><a href="cshmgen_proof.html#make_cmpu_ne_zero_correct">make_cmpu_ne_zero_correct</a></span> <span class="kwd">with</span> (<span class="id">n</span> := <span class="id">i</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id">i</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>); <span class="tactic">simpl</span>; <span class="id">constructor</span>.<br/>
- <span class="comment">(*&nbsp;ptr&nbsp;32&nbsp;bits&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id"><a href="Values.html#Vone">Vone</a></span>; <span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_cmpu_ne_zero_correct_ptr">make_cmpu_ne_zero_correct_ptr</a></span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>.<br/>
- <span class="comment">(*&nbsp;long&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>. <span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.cmplu">Val.cmplu</a></span>. <span class="tactic">simpl</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i</span> <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span>); <span class="tactic">simpl</span>; <span class="id">constructor</span>.<br/>
- <span class="comment">(*&nbsp;ptr&nbsp;64&nbsp;bits&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id"><a href="Values.html#Vone">Vone</a></span>; <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>. <span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.cmplu">Val.cmplu</a></span>, <span class="id"><a href="Values.html#Val.cmplu_bool">Val.cmplu_bool</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="kwd">in</span> <span class="id">Heqb0</span>. <span class="tactic">rewrite</span> <span class="id">Heqb0</span>, <span class="id">Heqb1</span>, <span class="id"><a href="Integers.html#Int64.eq_true">Int64.eq_true</a></span>. <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
- <span class="comment">(*&nbsp;float&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>. <span class="tactic">simpl</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.cmpf">Val.cmpf</a></span>, <span class="id"><a href="Values.html#Val.cmpf_bool">Val.cmpf_bool</a></span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Floats.html#Float.cmp_ne_eq">Float.cmp_ne_eq</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Floats.html#Float.cmp">Float.cmp</a></span> <span class="id"><a href="Integers.html#Cne">Cne</a></span> <span class="id">f</span> <span class="id"><a href="Floats.html#Float.zero">Float.zero</a></span>); <span class="id">constructor</span>.<br/>
- <span class="comment">(*&nbsp;single&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">split</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>. <span class="tactic">simpl</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.cmpfs">Val.cmpfs</a></span>, <span class="id"><a href="Values.html#Val.cmpfs_bool">Val.cmpfs_bool</a></span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Floats.html#Float32.cmp_ne_eq">Float32.cmp_ne_eq</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Floats.html#Float32.cmp">Float32.cmp</a></span> <span class="id"><a href="Integers.html#Cne">Cne</a></span> <span class="id">f</span> <span class="id"><a href="Floats.html#Float32.zero">Float32.zero</a></span>); <span class="id">constructor</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="make_boolean_fp_correct">make_boolean_fp_correct</a></span>:<br/>
&nbsp;<span class="kwd">forall</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">a</span> <span class="id">v</span> <span class="id">ty</span> <span class="id">b</span> <span class="id">vb</span> <span class="id">fp</span> <span class="id">fp</span>',<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop.html#bool_val">bool_val</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> <span class="id"><a href="cshmgen_proof.html#ty">ty</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop_fp_local.html#bool_val_fp">Cop_fp_local.bool_val_fp</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> <span class="id"><a href="cshmgen_proof.html#ty">ty</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">fp</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.bool_of_val">Val.bool_of_val</a></span> <span class="id"><a href="cshmgen_proof.html#vb">vb</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> (<span class="id">make_boolean</span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#ty">ty</a></span>) (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span> <span class="id">fp</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7949')">Proof.</div>
<div class="proofscript" id="proof7949">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Cop.html#bool_val">bool_val</a></span>,<span class="id">make_boolean</span>,<span class="id"><a href="Cop_fp_local.html#bool_val_fp">Cop_fp_local.bool_val_fp</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Cop.html#classify_bool">classify_bool</a></span> <span class="id">ty</span>) <span class="id">eqn</span>:?;<span class="tactic">destruct</span> <span class="id">v</span>;<span class="id">inv</span> <span class="id">H1</span>;<span class="id">inv</span> <span class="id">H2</span>;<span class="tactic">try</span> <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_cmpu_ne_zero_fp_correct">make_cmpu_ne_zero_fp_correct</a></span>;<span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;{ <span class="tactic">assert</span>(<span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span>). <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span>) <span class="id">eqn</span>:?;<span class="id">inv</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">enough</span>(<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fp</span> (<span class="id"><a href="MemOpFP.html#weak_valid_pointer_fp">MemOpFP.weak_valid_pointer_fp</a></span> <span class="id">m</span> <span class="id">b0</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">i</span>))= <span class="id"><a href="cshmgen_proof.html#make_cmpu_ne_zero_ptr_fp">make_cmpu_ne_zero_ptr_fp</a></span> <span class="id">a</span> <span class="id">m</span> <span class="id">b0</span> <span class="id">i</span> <span class="id">fp</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H2</span>;<span class="tactic">auto</span>. <span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_cmpu_ne_zero_fp_correct_ptr">make_cmpu_ne_zero_fp_correct_ptr</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span>&lt;- <span class="id"><a href="cshmgen_proof.html#make_cmpu_ne_zero_ptr_fp_correct">make_cmpu_ne_zero_ptr_fp_correct</a></span>;<span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="id">all</span>: <span class="id">econstructor</span>;<span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>;<span class="tactic">simpl</span>;<span class="tactic">eauto</span>;<span class="tactic">rewrite</span> ! <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>;<span class="tactic">auto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="make_neg_correct">make_neg_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">tya</span> <span class="id">c</span> <span class="id">va</span> <span class="id">v</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Cop.html#sem_neg">sem_neg</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> <span class="id"><a href="cshmgen_proof.html#tya">tya</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">make_neg</span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#tya">tya</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#c">c</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#c">c</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7950')">Proof.</div>
<div class="proofscript" id="proof7950">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Cop.html#sem_neg">sem_neg</a></span>, <span class="id">make_neg</span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">m</span>; <span class="tactic">intros</span> <span class="id">SEM</span> <span class="id">MAKE</span> <span class="id">EV1</span>;<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Cop.html#classify_neg">classify_neg</a></span> <span class="id">tya</span>); <span class="id">inv</span> <span class="id">MAKE</span>; <span class="tactic">destruct</span> <span class="id">va</span>; <span class="id">inv</span> <span class="id">SEM</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="make_neg_fp_correct">make_neg_fp_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">tya</span> <span class="id">c</span> <span class="id">va</span> <span class="id">v</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Cop.html#sem_neg">sem_neg</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> <span class="id"><a href="cshmgen_proof.html#tya">tya</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">make_neg</span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#tya">tya</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#c">c</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span>-&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#c">c</a></span> <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7951')">Proof.</div>
<div class="proofscript" id="proof7951">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Cop.html#sem_neg">sem_neg</a></span>, <span class="id">make_neg</span>;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">fp</span>;<span class="tactic">intros</span> <span class="id">SEM</span> <span class="id">MAKE</span> <span class="id">EV1</span> <span class="id">FP</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Cop.html#classify_neg">classify_neg</a></span> <span class="id">tya</span>);<span class="id">inv</span> <span class="id">MAKE</span>;<span class="tactic">destruct</span> <span class="id">va</span>;<span class="id">inv</span> <span class="id">SEM</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>;<span class="id">econstructor</span>;<span class="tactic">eauto</span>;<span class="tactic">simpl</span>;<span class="tactic">eauto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="make_absfloat_correct">make_absfloat_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">tya</span> <span class="id">c</span> <span class="id">va</span> <span class="id">v</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Cop.html#sem_absfloat">sem_absfloat</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> <span class="id"><a href="cshmgen_proof.html#tya">tya</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">make_absfloat</span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#tya">tya</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#c">c</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#c">c</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7952')">Proof.</div>
<div class="proofscript" id="proof7952">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Cop.html#sem_absfloat">sem_absfloat</a></span>, <span class="id">make_absfloat</span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">m</span>; <span class="tactic">intros</span> <span class="id">SEM</span> <span class="id">MAKE</span> <span class="id">EV1</span>;<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Cop.html#classify_neg">classify_neg</a></span> <span class="id">tya</span>); <span class="id">inv</span> <span class="id">MAKE</span>; <span class="tactic">destruct</span> <span class="id">va</span>; <span class="id">inv</span> <span class="id">SEM</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">make_floatoflong</span>, <span class="id"><a href="Cop.html#cast_long_float">cast_long_float</a></span>. <span class="tactic">destruct</span> <span class="id">s</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">econstructor</span>; <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">econstructor</span>; <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="make_absfloat_fp_correct">make_absfloat_fp_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">tya</span> <span class="id">c</span> <span class="id">va</span> <span class="id">v</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Cop.html#sem_absfloat">sem_absfloat</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> <span class="id"><a href="cshmgen_proof.html#tya">tya</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">make_absfloat</span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#tya">tya</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#c">c</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span>-&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#c">c</a></span> <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7953')">Proof.</div>
<div class="proofscript" id="proof7953">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Cop.html#sem_absfloat">sem_absfloat</a></span>, <span class="id">make_absfloat</span>;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">fp</span>; <span class="tactic">intros</span> <span class="id">SEM</span> <span class="id">MAKE</span> <span class="id">EV1</span> <span class="id">FP</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Cop.html#classify_neg">classify_neg</a></span> <span class="id">tya</span>); <span class="id">inv</span> <span class="id">MAKE</span>; <span class="tactic">destruct</span> <span class="id">va</span>; <span class="id">inv</span> <span class="id">SEM</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;1-3:  <span class="id">econstructor</span>;<span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>;<span class="tactic">simpl</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">make_floatoflong</span>. <span class="tactic">destruct</span> <span class="id">s</span>;  <span class="id">econstructor</span>;<span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>;<span class="tactic">simpl</span>;<span class="tactic">eauto</span>; <span class="id">econstructor</span>;<span class="tactic">eauto</span>;<span class="tactic">simpl</span>;<span class="tactic">eauto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="make_notbool_correct">make_notbool_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">tya</span> <span class="id">c</span> <span class="id">va</span> <span class="id">v</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Cop.html#sem_notbool">sem_notbool</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> <span class="id"><a href="cshmgen_proof.html#tya">tya</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">make_notbool</span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#tya">tya</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#c">c</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#c">c</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7954')">Proof.</div>
<div class="proofscript" id="proof7954">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Cop.html#sem_notbool">sem_notbool</a></span>, <span class="id"><a href="Cop.html#bool_val">bool_val</a></span>, <span class="id">make_notbool</span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">m</span>; <span class="tactic">intros</span> <span class="id">SEM</span> <span class="id">MAKE</span> <span class="id">EV1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Cop.html#classify_bool">classify_bool</a></span> <span class="id">tya</span>); <span class="id">inv</span> <span class="id">MAKE</span>; <span class="tactic">destruct</span> <span class="id">va</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">SEM</span>; <span class="id">InvEval</span>.<br/>
- <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>. <span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.cmpu">Val.cmpu</a></span>, <span class="id"><a href="Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span>, <span class="id"><a href="Integers.html#Int.cmpu">Int.cmpu</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id">i</span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>); <span class="tactic">auto</span>.<br/>
- <span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:<span class="id">SF</span>; <span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id">m</span> <span class="id">b</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">i</span>)) <span class="id">eqn</span>:<span class="id">V</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>. <span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.cmpu">Val.cmpu</a></span>, <span class="id"><a href="Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="kwd">in</span> <span class="id">V</span>. <span class="tactic">rewrite</span> <span class="id">SF</span>, <span class="id">V</span>, <span class="id"><a href="Integers.html#Int.eq_true">Int.eq_true</a></span>. <span class="tactic">auto</span>.<br/>
- <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>. <span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.cmplu">Val.cmplu</a></span>, <span class="id"><a href="Values.html#Val.cmplu_bool">Val.cmplu_bool</a></span>, <span class="id"><a href="Integers.html#Int64.cmpu">Int64.cmpu</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id">i</span> <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span>); <span class="tactic">auto</span>.<br/>
- <span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:<span class="id">SF</span>; <span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id">m</span> <span class="id">b</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">i</span>)) <span class="id">eqn</span>:<span class="id">V</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>. <span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.cmplu">Val.cmplu</a></span>, <span class="id"><a href="Values.html#Val.cmplu_bool">Val.cmplu_bool</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="kwd">in</span> <span class="id">V</span>. <span class="tactic">rewrite</span> <span class="id">SF</span>, <span class="id">V</span>, <span class="id"><a href="Integers.html#Int64.eq_true">Int64.eq_true</a></span>. <span class="tactic">auto</span>.<br/>
- <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>. <span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.cmpf">Val.cmpf</a></span>, <span class="id"><a href="Values.html#Val.cmpf_bool">Val.cmpf_bool</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Floats.html#Float.cmp">Float.cmp</a></span> <span class="id"><a href="Integers.html#Ceq">Ceq</a></span> <span class="id">f</span> <span class="id"><a href="Floats.html#Float.zero">Float.zero</a></span>); <span class="tactic">auto</span>.<br/>
- <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>. <span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.cmpfs">Val.cmpfs</a></span>, <span class="id"><a href="Values.html#Val.cmpfs_bool">Val.cmpfs_bool</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Floats.html#Float32.cmp">Float32.cmp</a></span> <span class="id"><a href="Integers.html#Ceq">Ceq</a></span> <span class="id">f</span> <span class="id"><a href="Floats.html#Float32.zero">Float32.zero</a></span>); <span class="tactic">auto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="make_notbool_fp_correct">make_notbool_fp_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">tya</span> <span class="id">c</span> <span class="id">va</span> <span class="id">v</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">fp</span> <span class="id">fp</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop.html#sem_notbool">sem_notbool</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> <span class="id"><a href="cshmgen_proof.html#tya">tya</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span>= <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop_fp_local.html#sem_notbool_fp">Cop_fp_local.sem_notbool_fp</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> <span class="id"><a href="cshmgen_proof.html#tya">tya</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">fp</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_notbool</span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#tya">tya</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#c">c</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#c">c</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span> <span class="id">fp</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7955')">Proof.</div>
<div class="proofscript" id="proof7955">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Cop_fp_local.html#sem_notbool_fp">Cop_fp_local.sem_notbool_fp</a></span>, <span class="id"><a href="Cop.html#sem_notbool">sem_notbool</a></span>,<span class="id"><a href="Cop_fp_local.html#bool_val_fp">Cop_fp_local.bool_val_fp</a></span>, <span class="id"><a href="Cop.html#bool_val">bool_val</a></span>, <span class="id">make_notbool</span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">fp</span>'; <span class="tactic">intros</span> <span class="id">SEM</span> <span class="id">SEMFP</span> <span class="id">MAKE</span> <span class="id">EV1</span> <span class="id">FP</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Cop.html#classify_bool">classify_bool</a></span> <span class="id">tya</span>) <span class="id">eqn</span>:?; <span class="id">inv</span> <span class="id">MAKE</span>; <span class="tactic">destruct</span> <span class="id">va</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">SEM</span>,<span class="id">SEMFP</span>; <span class="id">InvEval</span>.<br/>
&nbsp;&nbsp;<span class="id">all</span>: <span class="tactic">try</span>(<span class="id">econstructor</span>;<span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>;<span class="tactic">simpl</span>;<span class="tactic">eauto</span>;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>;<span class="tactic">auto</span>;<span class="tactic">fail</span>);<span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:?;<span class="id">inv</span> <span class="id">SEM</span>;<span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="id">eqn</span>:?;<span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.weak_valid_pointer">Mem.weak_valid_pointer</a></span> <span class="kwd">in</span> <span class="id">Heqb2</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span> <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>). <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>;<span class="tactic">simpl</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heqb1</span>,<span class="id">Heqb2</span>,<span class="id">H</span>;<span class="tactic">eauto</span>. <span class="tactic">simpl</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span>! <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>;<span class="tactic">auto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="make_notint_correct">make_notint_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">tya</span> <span class="id">c</span> <span class="id">va</span> <span class="id">v</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Cop.html#sem_notint">sem_notint</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> <span class="id"><a href="cshmgen_proof.html#tya">tya</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">make_notint</span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#tya">tya</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#c">c</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#c">c</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7956')">Proof.</div>
<div class="proofscript" id="proof7956">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Cop.html#sem_notint">sem_notint</a></span>, <span class="id">make_notint</span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">m</span>; <span class="tactic">intros</span> <span class="id">SEM</span> <span class="id">MAKE</span> <span class="id">EV1</span>;<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Cop.html#classify_notint">classify_notint</a></span> <span class="id">tya</span>); <span class="id">inv</span> <span class="id">MAKE</span>; <span class="tactic">destruct</span> <span class="id">va</span>; <span class="id">inv</span> <span class="id">SEM</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_notint_fp_correct">make_notint_fp_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">tya</span> <span class="id">c</span> <span class="id">va</span>  <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;<span class="id">make_notint</span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#tya">tya</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#c">c</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span>-&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#c">c</a></span> <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7957')">Proof.</div>
<div class="proofscript" id="proof7957">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Cop.html#sem_notint">sem_notint</a></span>, <span class="id">make_notint</span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">fp</span>; <span class="tactic">intros</span>  <span class="id">MAKE</span> <span class="id">EV1</span> <span class="id">FP</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Cop.html#classify_notint">classify_notint</a></span> <span class="id">tya</span>); <span class="id">inv</span> <span class="id">MAKE</span>; <span class="tactic">destruct</span> <span class="id">va</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>;<span class="id">econstructor</span>;<span class="tactic">eauto</span>;<span class="tactic">simpl</span>;<span class="tactic">eauto</span>.<br/>
Qed.</div>
&nbsp;&nbsp;<br/>
<span class="kwd">Definition</span> <span class="id"><a name="binary_constructor_correct">binary_constructor_correct</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">make</span>: <span class="id"><a href="Csharpminor.html#expr">expr</a></span> -&gt; <span class="id"><a href="Ctypes.html#type">type</a></span> -&gt; <span class="id"><a href="Csharpminor.html#expr">expr</a></span> -&gt; <span class="id"><a href="Ctypes.html#type">type</a></span> -&gt; <span class="id"><a href="Errors.html#res">res</a></span> <span class="id"><a href="Csharpminor.html#expr">expr</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">sem</span>: <span class="id"><a href="Values.html#val">val</a></span> -&gt; <span class="id"><a href="Ctypes.html#type">type</a></span> -&gt; <span class="id"><a href="Values.html#val">val</a></span> -&gt; <span class="id"><a href="Ctypes.html#type">type</a></span> -&gt; <span class="id"><a href="Memory.html#mem">mem</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Values.html#val">val</a></span>): <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">tya</span> <span class="id">b</span> <span class="id">tyb</span> <span class="id">c</span> <span class="id">va</span> <span class="id">vb</span> <span class="id">v</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#sem">sem</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> <span class="id"><a href="cshmgen_proof.html#tya">tya</a></span> <span class="id"><a href="cshmgen_proof.html#vb">vb</a></span> <span class="id"><a href="cshmgen_proof.html#tyb">tyb</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#make">make</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#tya">tya</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> <span class="id"><a href="cshmgen_proof.html#tyb">tyb</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#c">c</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> <span class="id"><a href="cshmgen_proof.html#vb">vb</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#c">c</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span>.    <br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="binary_fp_constructor_correct">binary_fp_constructor_correct</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">make</span>: <span class="id"><a href="Csharpminor.html#expr">expr</a></span> -&gt; <span class="id"><a href="Ctypes.html#type">type</a></span> -&gt; <span class="id"><a href="Csharpminor.html#expr">expr</a></span> -&gt; <span class="id"><a href="Ctypes.html#type">type</a></span> -&gt; <span class="id"><a href="Errors.html#res">res</a></span> <span class="id"><a href="Csharpminor.html#expr">expr</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">sem</span>: <span class="id"><a href="Values.html#val">val</a></span> -&gt; <span class="id"><a href="Ctypes.html#type">type</a></span> -&gt; <span class="id"><a href="Values.html#val">val</a></span> -&gt; <span class="id"><a href="Ctypes.html#type">type</a></span> -&gt; <span class="id"><a href="Memory.html#mem">mem</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Values.html#val">val</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">semfp</span>: <span class="id"><a href="Values.html#val">val</a></span> -&gt; <span class="id"><a href="Ctypes.html#type">type</a></span> -&gt; <span class="id"><a href="Values.html#val">val</a></span> -&gt; <span class="id"><a href="Ctypes.html#type">type</a></span> -&gt; <span class="id"><a href="Memory.html#mem">mem</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="cshmgen_proof.html#footprint">footprint</a></span>): <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">tya</span> <span class="id">b</span> <span class="id">tyb</span> <span class="id">c</span> <span class="id">va</span> <span class="id">vb</span> <span class="id">v</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">fpa</span> <span class="id">fpb</span> <span class="id">fpc</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#sem">sem</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> <span class="id"><a href="cshmgen_proof.html#tya">tya</a></span> <span class="id"><a href="cshmgen_proof.html#vb">vb</a></span> <span class="id"><a href="cshmgen_proof.html#tyb">tyb</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span>-&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#semfp">semfp</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> <span class="id"><a href="cshmgen_proof.html#tya">tya</a></span> <span class="id"><a href="cshmgen_proof.html#vb">vb</a></span> <span class="id"><a href="cshmgen_proof.html#tyb">tyb</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#fpc">fpc</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#make">make</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#tya">tya</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> <span class="id"><a href="cshmgen_proof.html#tyb">tyb</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#c">c</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#fpa">fpa</a></span>-&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> <span class="id"><a href="cshmgen_proof.html#vb">vb</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> <span class="id"><a href="cshmgen_proof.html#fpb">fpb</a></span>-&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#c">c</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span>-&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#c">c</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="cshmgen_proof.html#fpa">fpa</a></span> <span class="id"><a href="cshmgen_proof.html#fpb">fpb</a></span>) <span class="id"><a href="cshmgen_proof.html#fpc">fpc</a></span>).<br/>
<span class="kwd">Definition</span> <span class="id"><a name="shift_constructor_correct">shift_constructor_correct</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">make</span>: <span class="id"><a href="Csharpminor.html#expr">expr</a></span> -&gt; <span class="id"><a href="Ctypes.html#type">type</a></span> -&gt; <span class="id"><a href="Csharpminor.html#expr">expr</a></span> -&gt; <span class="id"><a href="Ctypes.html#type">type</a></span> -&gt; <span class="id"><a href="Errors.html#res">res</a></span> <span class="id"><a href="Csharpminor.html#expr">expr</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">sem</span>: <span class="id"><a href="Values.html#val">val</a></span> -&gt; <span class="id"><a href="Ctypes.html#type">type</a></span> -&gt; <span class="id"><a href="Values.html#val">val</a></span> -&gt; <span class="id"><a href="Ctypes.html#type">type</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Values.html#val">val</a></span>): <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">tya</span> <span class="id">b</span> <span class="id">tyb</span> <span class="id">c</span> <span class="id">va</span> <span class="id">vb</span> <span class="id">v</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#sem">sem</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> <span class="id"><a href="cshmgen_proof.html#tya">tya</a></span> <span class="id"><a href="cshmgen_proof.html#vb">vb</a></span> <span class="id"><a href="cshmgen_proof.html#tyb">tyb</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#make">make</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#tya">tya</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> <span class="id"><a href="cshmgen_proof.html#tyb">tyb</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#c">c</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> <span class="id"><a href="cshmgen_proof.html#vb">vb</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#c">c</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="shift_fp_constructor_correct">shift_fp_constructor_correct</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">make</span>: <span class="id"><a href="Csharpminor.html#expr">expr</a></span> -&gt; <span class="id"><a href="Ctypes.html#type">type</a></span> -&gt; <span class="id"><a href="Csharpminor.html#expr">expr</a></span> -&gt; <span class="id"><a href="Ctypes.html#type">type</a></span> -&gt; <span class="id"><a href="Errors.html#res">res</a></span> <span class="id"><a href="Csharpminor.html#expr">expr</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">sem</span>: <span class="id"><a href="Values.html#val">val</a></span> -&gt; <span class="id"><a href="Ctypes.html#type">type</a></span> -&gt; <span class="id"><a href="Values.html#val">val</a></span> -&gt; <span class="id"><a href="Ctypes.html#type">type</a></span>  -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Values.html#val">val</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">semfp</span>: <span class="id"><a href="Values.html#val">val</a></span> -&gt; <span class="id"><a href="Ctypes.html#type">type</a></span> -&gt; <span class="id"><a href="Values.html#val">val</a></span> -&gt; <span class="id"><a href="Ctypes.html#type">type</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="cshmgen_proof.html#footprint">footprint</a></span>): <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">tya</span> <span class="id">b</span> <span class="id">tyb</span> <span class="id">c</span> <span class="id">va</span> <span class="id">vb</span> <span class="id">v</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">fpa</span> <span class="id">fpb</span> <span class="id">fpc</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#sem">sem</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> <span class="id"><a href="cshmgen_proof.html#tya">tya</a></span> <span class="id"><a href="cshmgen_proof.html#vb">vb</a></span> <span class="id"><a href="cshmgen_proof.html#tyb">tyb</a></span>  = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span>-&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#semfp">semfp</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> <span class="id"><a href="cshmgen_proof.html#tya">tya</a></span> <span class="id"><a href="cshmgen_proof.html#vb">vb</a></span> <span class="id"><a href="cshmgen_proof.html#tyb">tyb</a></span>  = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#fpc">fpc</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#make">make</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#tya">tya</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> <span class="id"><a href="cshmgen_proof.html#tyb">tyb</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#c">c</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#fpa">fpa</a></span>-&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> <span class="id"><a href="cshmgen_proof.html#vb">vb</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> <span class="id"><a href="cshmgen_proof.html#fpb">fpb</a></span>-&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#c">c</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span>-&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#c">c</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="cshmgen_proof.html#fpa">fpa</a></span> <span class="id"><a href="cshmgen_proof.html#fpb">fpb</a></span>) <span class="id"><a href="cshmgen_proof.html#fpc">fpc</a></span>).<br/>
<span class="kwd">Section</span> <span class="id"><a name="CONSTRUCTORS.MAKE_BIN">MAKE_BIN</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CONSTRUCTORS.MAKE_BIN.sem_int">sem_int</a></span>: <span class="id"><a href="Ctypes.html#signedness">signedness</a></span> -&gt; <span class="id"><a href="Integers.html#int">int</a></span> -&gt; <span class="id"><a href="Integers.html#int">int</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Values.html#val">val</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CONSTRUCTORS.MAKE_BIN.sem_long">sem_long</a></span>: <span class="id"><a href="Ctypes.html#signedness">signedness</a></span> -&gt; <span class="id"><a href="Integers.html#int64">int64</a></span> -&gt; <span class="id"><a href="Integers.html#int64">int64</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Values.html#val">val</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CONSTRUCTORS.MAKE_BIN.sem_float">sem_float</a></span>: <span class="id"><a href="Floats.html#float">float</a></span> -&gt; <span class="id"><a href="Floats.html#float">float</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Values.html#val">val</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CONSTRUCTORS.MAKE_BIN.sem_single">sem_single</a></span>: <span class="id"><a href="Floats.html#float32">float32</a></span> -&gt; <span class="id"><a href="Floats.html#float32">float32</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Values.html#val">val</a></span>.<br/>
<br/>
<span class="kwd">Variables</span> <span class="id"><a name="CONSTRUCTORS.MAKE_BIN.iop">iop</a></span> <span class="id"><a name="CONSTRUCTORS.MAKE_BIN.iopu">iopu</a></span> <span class="id"><a name="CONSTRUCTORS.MAKE_BIN.fop">fop</a></span> <span class="id"><a name="CONSTRUCTORS.MAKE_BIN.sop">sop</a></span> <span class="id"><a name="CONSTRUCTORS.MAKE_BIN.lop">lop</a></span> <span class="id"><a name="CONSTRUCTORS.MAKE_BIN.lopu">lopu</a></span>: <span class="id"><a href="Csharpminor.html#binary_operation">binary_operation</a></span>.<br/>
<br/>
<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="CONSTRUCTORS.MAKE_BIN.iop_ok">iop_ok</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">m</span>, <span class="id"><a href="Csharpminor.html#eval_binop">eval_binop</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.iop">iop</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="cshmgen_proof.html#x">x</a></span>) (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="cshmgen_proof.html#y">y</a></span>) <span class="id"><a href="cshmgen_proof.html#m">m</a></span> = <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.sem_int">sem_int</a></span> <span class="id"><a href="Ctypes.html#Signed">Signed</a></span> <span class="id"><a href="cshmgen_proof.html#x">x</a></span> <span class="id"><a href="cshmgen_proof.html#y">y</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="CONSTRUCTORS.MAKE_BIN.iopu_ok">iopu_ok</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">m</span>, <span class="id"><a href="Csharpminor.html#eval_binop">eval_binop</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.iopu">iopu</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="cshmgen_proof.html#x">x</a></span>) (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="cshmgen_proof.html#y">y</a></span>) <span class="id"><a href="cshmgen_proof.html#m">m</a></span> = <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.sem_int">sem_int</a></span> <span class="id"><a href="Ctypes.html#Unsigned">Unsigned</a></span> <span class="id"><a href="cshmgen_proof.html#x">x</a></span> <span class="id"><a href="cshmgen_proof.html#y">y</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="CONSTRUCTORS.MAKE_BIN.lop_ok">lop_ok</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">m</span>, <span class="id"><a href="Csharpminor.html#eval_binop">eval_binop</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.lop">lop</a></span> (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id"><a href="cshmgen_proof.html#x">x</a></span>) (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id"><a href="cshmgen_proof.html#y">y</a></span>) <span class="id"><a href="cshmgen_proof.html#m">m</a></span> = <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.sem_long">sem_long</a></span> <span class="id"><a href="Ctypes.html#Signed">Signed</a></span> <span class="id"><a href="cshmgen_proof.html#x">x</a></span> <span class="id"><a href="cshmgen_proof.html#y">y</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="CONSTRUCTORS.MAKE_BIN.lopu_ok">lopu_ok</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">m</span>, <span class="id"><a href="Csharpminor.html#eval_binop">eval_binop</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.lopu">lopu</a></span> (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id"><a href="cshmgen_proof.html#x">x</a></span>) (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id"><a href="cshmgen_proof.html#y">y</a></span>) <span class="id"><a href="cshmgen_proof.html#m">m</a></span> = <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.sem_long">sem_long</a></span> <span class="id"><a href="Ctypes.html#Unsigned">Unsigned</a></span> <span class="id"><a href="cshmgen_proof.html#x">x</a></span> <span class="id"><a href="cshmgen_proof.html#y">y</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="CONSTRUCTORS.MAKE_BIN.fop_ok">fop_ok</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">m</span>, <span class="id"><a href="Csharpminor.html#eval_binop">eval_binop</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.fop">fop</a></span> (<span class="id"><a href="Values.html#Vfloat">Vfloat</a></span> <span class="id"><a href="cshmgen_proof.html#x">x</a></span>) (<span class="id"><a href="Values.html#Vfloat">Vfloat</a></span> <span class="id"><a href="cshmgen_proof.html#y">y</a></span>) <span class="id"><a href="cshmgen_proof.html#m">m</a></span> = <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.sem_float">sem_float</a></span> <span class="id"><a href="cshmgen_proof.html#x">x</a></span> <span class="id"><a href="cshmgen_proof.html#y">y</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="CONSTRUCTORS.MAKE_BIN.sop_ok">sop_ok</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">m</span>, <span class="id"><a href="Csharpminor.html#eval_binop">eval_binop</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.sop">sop</a></span> (<span class="id"><a href="Values.html#Vsingle">Vsingle</a></span> <span class="id"><a href="cshmgen_proof.html#x">x</a></span>) (<span class="id"><a href="Values.html#Vsingle">Vsingle</a></span> <span class="id"><a href="cshmgen_proof.html#y">y</a></span>) <span class="id"><a href="cshmgen_proof.html#m">m</a></span> = <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.sem_single">sem_single</a></span> <span class="id"><a href="cshmgen_proof.html#x">x</a></span> <span class="id"><a href="cshmgen_proof.html#y">y</a></span>.<br/>
<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="CONSTRUCTORS.MAKE_BIN.iopfp_ok">iopfp_ok</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">v</span> <span class="id">m</span>, <span class="id"><a href="Csharpminor.html#eval_binop">eval_binop</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.iop">iop</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="cshmgen_proof.html#x">x</a></span>)(<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="cshmgen_proof.html#y">y</a></span>) <span class="id"><a href="cshmgen_proof.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> -&gt;<span class="id"><a href="Csharpminor_local.html#eval_binop_fp">eval_binop_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.iop">iop</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="cshmgen_proof.html#x">x</a></span>) (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="cshmgen_proof.html#y">y</a></span>) <span class="id"><a href="cshmgen_proof.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#empfp">empfp</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="CONSTRUCTORS.MAKE_BIN.iopufp_ok">iopufp_ok</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">v</span> <span class="id">m</span>, <span class="id"><a href="Csharpminor.html#eval_binop">eval_binop</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.iopu">iopu</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="cshmgen_proof.html#x">x</a></span>)(<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="cshmgen_proof.html#y">y</a></span>) <span class="id"><a href="cshmgen_proof.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> -&gt; <span class="id"><a href="Csharpminor_local.html#eval_binop_fp">eval_binop_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.iopu">iopu</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="cshmgen_proof.html#x">x</a></span>) (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="cshmgen_proof.html#y">y</a></span>) <span class="id"><a href="cshmgen_proof.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#empfp">empfp</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="CONSTRUCTORS.MAKE_BIN.lopfp_ok">lopfp_ok</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">v</span> <span class="id">m</span>, <span class="id"><a href="Csharpminor.html#eval_binop">eval_binop</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.lop">lop</a></span> (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id"><a href="cshmgen_proof.html#x">x</a></span>)(<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id"><a href="cshmgen_proof.html#y">y</a></span>) <span class="id"><a href="cshmgen_proof.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> -&gt;<span class="id"><a href="Csharpminor_local.html#eval_binop_fp">eval_binop_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.lop">lop</a></span> (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id"><a href="cshmgen_proof.html#x">x</a></span>) (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id"><a href="cshmgen_proof.html#y">y</a></span>) <span class="id"><a href="cshmgen_proof.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#empfp">empfp</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="CONSTRUCTORS.MAKE_BIN.lopufp_ok">lopufp_ok</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">v</span> <span class="id">m</span>, <span class="id"><a href="Csharpminor.html#eval_binop">eval_binop</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.lopu">lopu</a></span> (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id"><a href="cshmgen_proof.html#x">x</a></span>)(<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id"><a href="cshmgen_proof.html#y">y</a></span>) <span class="id"><a href="cshmgen_proof.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> -&gt; <span class="id"><a href="Csharpminor_local.html#eval_binop_fp">eval_binop_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.lopu">lopu</a></span> (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id"><a href="cshmgen_proof.html#x">x</a></span>) (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id"><a href="cshmgen_proof.html#y">y</a></span>) <span class="id"><a href="cshmgen_proof.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#empfp">empfp</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="CONSTRUCTORS.MAKE_BIN.fopfp_ok">fopfp_ok</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">v</span> <span class="id">m</span>,<span class="id"><a href="Csharpminor.html#eval_binop">eval_binop</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.fop">fop</a></span> (<span class="id"><a href="Values.html#Vfloat">Vfloat</a></span> <span class="id"><a href="cshmgen_proof.html#x">x</a></span>)(<span class="id"><a href="Values.html#Vfloat">Vfloat</a></span> <span class="id"><a href="cshmgen_proof.html#y">y</a></span>) <span class="id"><a href="cshmgen_proof.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> -&gt; <span class="id"><a href="Csharpminor_local.html#eval_binop_fp">eval_binop_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.fop">fop</a></span> (<span class="id"><a href="Values.html#Vfloat">Vfloat</a></span> <span class="id"><a href="cshmgen_proof.html#x">x</a></span>) (<span class="id"><a href="Values.html#Vfloat">Vfloat</a></span> <span class="id"><a href="cshmgen_proof.html#y">y</a></span>) <span class="id"><a href="cshmgen_proof.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#empfp">empfp</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="CONSTRUCTORS.MAKE_BIN.sopfp_ok">sopfp_ok</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span> <span class="id">v</span> <span class="id">m</span>, <span class="id"><a href="Csharpminor.html#eval_binop">eval_binop</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.sop">sop</a></span> (<span class="id"><a href="Values.html#Vsingle">Vsingle</a></span> <span class="id"><a href="cshmgen_proof.html#x">x</a></span>)(<span class="id"><a href="Values.html#Vsingle">Vsingle</a></span> <span class="id"><a href="cshmgen_proof.html#y">y</a></span>) <span class="id"><a href="cshmgen_proof.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> -&gt;<span class="id"><a href="Csharpminor_local.html#eval_binop_fp">eval_binop_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.sop">sop</a></span> (<span class="id"><a href="Values.html#Vsingle">Vsingle</a></span> <span class="id"><a href="cshmgen_proof.html#x">x</a></span>) (<span class="id"><a href="Values.html#Vsingle">Vsingle</a></span> <span class="id"><a href="cshmgen_proof.html#y">y</a></span>) <span class="id"><a href="cshmgen_proof.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#empfp">empfp</a></span>.<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="fp_parallel_union_comm">fp_parallel_union_comm</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">b</span> <span class="id">c</span> <span class="id">d</span>, <span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span>)(<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="cshmgen_proof.html#c">c</a></span> <span class="id"><a href="cshmgen_proof.html#d">d</a></span>) = <span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#c">c</a></span>)(<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> <span class="id"><a href="cshmgen_proof.html#d">d</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7958')">Proof.</div>
<div class="proofscript" id="proof7958">
&nbsp;&nbsp;<span class="tactic">intros</span>;<span class="tactic">do</span> 2 <span class="tactic">rewrite</span>&lt;- <span class="id"><a href="Footprint.html#FP.fp_union_assoc">FP.fp_union_assoc</a></span>; <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.union_comm_eq">FP.union_comm_eq</a></span>, &lt;- <span class="id"><a href="Footprint.html#FP.fp_union_assoc">FP.fp_union_assoc</a></span>;<span class="tactic">f_equal</span>.   <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.union_comm_eq">FP.union_comm_eq</a></span>;<span class="tactic">auto</span>.<br/>
Qed.</div>
<span class="kwd">Ltac</span> <span class="id">ok</span>:= <span class="tactic">try</span> <span class="tactic">rewrite</span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.iop_ok">iop_ok</a></span>;<span class="tactic">try</span> <span class="tactic">rewrite</span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.iopu_ok">iopu_ok</a></span>;<span class="tactic">try</span> <span class="tactic">rewrite</span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.lop_ok">lop_ok</a></span>;<span class="tactic">try</span> <span class="tactic">rewrite</span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.lopu_ok">lopu_ok</a></span>;<span class="tactic">try</span> <span class="tactic">rewrite</span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.fop_ok">fop_ok</a></span>;<span class="tactic">try</span> <span class="tactic">rewrite</span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.sop_ok">sop_ok</a></span>;<span class="tactic">eauto</span>.<br/>
<span class="kwd">Ltac</span> <span class="id">fpok</span>:= <span class="id">ok</span>;<span class="tactic">try</span> <span class="id">erewrite</span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.iopfp_ok">iopfp_ok</a></span>;<span class="tactic">try</span> <span class="id">erewrite</span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.iopufp_ok">iopufp_ok</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="id">erewrite</span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.lopfp_ok">lopfp_ok</a></span>;<span class="tactic">try</span> <span class="id">erewrite</span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.lopufp_ok">lopufp_ok</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="id">erewrite</span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.fopfp_ok">fopfp_ok</a></span>;<span class="tactic">try</span> <span class="id">erewrite</span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.sopfp_ok">sopfp_ok</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span>;<span class="id">ok</span>.<br/>
<span class="kwd">Ltac</span> <span class="id">fpu</span>:= <span class="tactic">try</span> <span class="tactic">rewrite</span> ! <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>;<span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#fp_parallel_union_comm">fp_parallel_union_comm</a></span>.<br/>
<span class="kwd">Ltac</span> <span class="id">match_sem_cast_fp</span>:=<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">x</span>:=<span class="tactic">fresh</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">y</span>:=<span class="tactic">fresh</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">H</span>: <span class="id">context</span> [ <span class="kwd">match</span> <span class="id"><a href="Cop_fp_local.html#sem_cast_fp">sem_cast_fp</a></span> ?<span class="id">va</span> ?<span class="id">tya</span> ?<span class="id">ty</span> ?<span class="id">m</span> <span class="kwd">with</span> <span class="id">_</span> =&gt; <span class="id">_</span> <span class="kwd">end</span>] |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Cop_fp_local.html#sem_cast_fp">sem_cast_fp</a></span> <span class="id">va</span> <span class="id">tya</span> <span class="id">ty</span> <span class="id">m</span>) <span class="kwd">as</span> [<span class="id">x</span>|] <span class="id">eqn</span>:<span class="id">y</span>;<span class="tactic">try</span> <span class="tactic">discriminate</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_cast_fp_correct">make_cast_fp_correct</a></span> <span class="kwd">in</span> <span class="id">y</span>;<span class="tactic">eauto</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<span class="kwd">Ltac</span> <span class="id">match_sem_cast</span>:=<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">x</span>:=<span class="tactic">fresh</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">y</span>:=<span class="tactic">fresh</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">H</span>: <span class="id">context</span> [ <span class="kwd">match</span> <span class="id"><a href="Cop.html#sem_cast">sem_cast</a></span> ?<span class="id">va</span> ?<span class="id">tya</span> ?<span class="id">ty</span> ?<span class="id">m</span> <span class="kwd">with</span> <span class="id">_</span> =&gt; <span class="id">_</span> <span class="kwd">end</span>] |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Cop.html#sem_cast">sem_cast</a></span> <span class="id">va</span> <span class="id">tya</span> <span class="id">ty</span> <span class="id">m</span>) <span class="kwd">as</span> [<span class="id">x</span>|] <span class="id">eqn</span>:<span class="id">y</span>;<span class="tactic">try</span> <span class="tactic">discriminate</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="id">match_sem_cast_fp</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_cast_correct">make_cast_correct</a></span> <span class="kwd">in</span> <span class="id">y</span>;<span class="tactic">eauto</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<span class="kwd">Ltac</span> <span class="id">solv_sem</span>:= <span class="tactic">do</span> 2 <span class="id">match_sem_cast</span>;<span class="tactic">intros</span>;<span class="id">inv_eq</span>;<span class="id">econstructor</span>;<span class="tactic">eauto</span>;<span class="id">fpok</span>;<span class="id">fpu</span>.<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_binarith_correct">make_binarith_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#binary_constructor_correct">binary_constructor_correct</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">make_binarith</span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.iop">iop</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.iopu">iopu</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.fop">fop</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.sop">sop</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.lop">lop</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.lopu">lopu</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Cop.html#sem_binarith">sem_binarith</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.sem_int">sem_int</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.sem_long">sem_long</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.sem_float">sem_float</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.sem_single">sem_single</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7959')">Proof.</div>
<div class="proofscript" id="proof7959">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">unfold</span> <span class="id">make_binarith</span>, <span class="id"><a href="Cop.html#sem_binarith">sem_binarith</a></span>;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">m</span>; <span class="tactic">intros</span> <span class="id">SEM</span>  <span class="id">MAKE</span> <span class="id">EV1</span> <span class="id">EV2</span>; <span class="id">monadInv</span> <span class="id">MAKE</span>; <span class="id">solv_sem</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_binarith_fp_correct">make_binarith_fp_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#binary_fp_constructor_correct">binary_fp_constructor_correct</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">make_binarith</span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.iop">iop</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.iopu">iopu</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.fop">fop</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.sop">sop</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.lop">lop</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.lopu">lopu</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Cop.html#sem_binarith">sem_binarith</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.sem_int">sem_int</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.sem_long">sem_long</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.sem_float">sem_float</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.sem_single">sem_single</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Cop_fp_local.html#sem_binarith_fp">Cop_fp_local.sem_binarith_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.sem_int">sem_int</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.sem_long">sem_long</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.sem_float">sem_float</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.sem_single">sem_single</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7960')">Proof with</div>
<div class="proofscript" id="proof7960">
 <span class="tactic">apply</span> <span class="id">fp_parallel_union_comm</span>.<br/>
&nbsp;&nbsp;<span class="tactic">red</span>;<span class="tactic">unfold</span> <span class="id">make_binarith</span>, <span class="id"><a href="Cop_fp_local.html#sem_binarith_fp">Cop_fp_local.sem_binarith_fp</a></span>;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">fpc</span>;<span class="tactic">intros</span> <span class="id">SEM</span>' <span class="id">SEM</span>  <span class="id">MAKE</span> <span class="id">EV1</span> <span class="id">FP1</span> <span class="id">EV2</span> <span class="id">FP2</span>;  <span class="id">monadInv</span> <span class="id">MAKE</span>. <span class="id">solv_sem</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="make_binarith_int_correct">make_binarith_int_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#binary_constructor_correct">binary_constructor_correct</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">make_binarith_int</span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.iop">iop</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.iopu">iopu</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.lop">lop</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.lopu">lopu</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Cop.html#sem_binarith">sem_binarith</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.sem_int">sem_int</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.sem_long">sem_long</a></span> (<span class="kwd">fun</span> <span class="id">x</span> <span class="id">y</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>) (<span class="kwd">fun</span> <span class="id">x</span> <span class="id">y</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7961')">Proof.</div>
<div class="proofscript" id="proof7961">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">unfold</span> <span class="id">make_binarith_int</span>, <span class="id"><a href="Cop.html#sem_binarith">sem_binarith</a></span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">m</span>; <span class="tactic">intros</span> <span class="id">SEM</span> <span class="id">MAKE</span> <span class="id">EV1</span> <span class="id">EV2</span>;  <span class="id">monadInv</span> <span class="id">MAKE</span>. <span class="id">solv_sem</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="make_binarith_int_fp_correct">make_binarith_int_fp_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#binary_fp_constructor_correct">binary_fp_constructor_correct</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">make_binarith_int</span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.iop">iop</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.iopu">iopu</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.lop">lop</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.lopu">lopu</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Cop.html#sem_binarith">sem_binarith</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.sem_int">sem_int</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.sem_long">sem_long</a></span> (<span class="kwd">fun</span> <span class="id">x</span> <span class="id">y</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>)(<span class="kwd">fun</span> <span class="id">x</span> <span class="id">y</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Cop_fp_local.html#sem_binarith_fp">Cop_fp_local.sem_binarith_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.sem_int">sem_int</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN.sem_long">sem_long</a></span> (<span class="kwd">fun</span> <span class="id">x</span> <span class="id">y</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>) (<span class="kwd">fun</span> <span class="id">x</span> <span class="id">y</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7962')">Proof.</div>
<div class="proofscript" id="proof7962">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">unfold</span> <span class="id">make_binarith_int</span>, <span class="id"><a href="Cop_fp_local.html#sem_binarith_fp">Cop_fp_local.sem_binarith_fp</a></span>;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">fpc</span>;<span class="tactic">intros</span> <span class="id">SEM</span>' <span class="id">SEM</span> <span class="id">MAKE</span> <span class="id">EV1</span> <span class="id">FP1</span> <span class="id">EV2</span> <span class="id">FP2</span> <span class="id">EV3</span>;  <span class="id">monadInv</span> <span class="id">MAKE</span>. <span class="id">solv_sem</span>.<br/>
Qed.</div>
<span class="kwd">End</span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.MAKE_BIN">MAKE_BIN</a></span>.<br/>
<span class="kwd">Hint</span> <span class="kwd">Extern</span> 2 (@<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Values.html#val">val</a></span>) <span class="id">_</span> <span class="id">_</span>) =&gt; (<span class="tactic">simpl</span>; <span class="tactic">reflexivity</span>) : <span class="id">cshm</span>.<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_add_correct">make_add_correct</a></span>: <span class="id"><a href="cshmgen_proof.html#binary_constructor_correct">binary_constructor_correct</a></span> (<span class="id">make_add</span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.cunit">cunit</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>)) (<span class="id"><a href="Cop.html#sem_add">sem_add</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.cunit">cunit</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7963')">Proof.</div>
<div class="proofscript" id="proof7963">
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">A</span>: <span class="kwd">forall</span> <span class="id">ty</span> <span class="id">si</span> <span class="id">a</span> <span class="id">b</span> <span class="id">c</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">va</span> <span class="id">vb</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_add_ptr_int</span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.cunit">cunit</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>) <span class="id"><a href="cshmgen_proof.html#ty">ty</a></span> <span class="id"><a href="cshmgen_proof.html#si">si</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#c">c</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> -&gt; <span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> <span class="id"><a href="cshmgen_proof.html#vb">vb</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop.html#sem_add_ptr_int">sem_add_ptr_int</a></span> (<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.cunit">cunit</a></span>) <span class="id"><a href="cshmgen_proof.html#ty">ty</a></span> <span class="id"><a href="cshmgen_proof.html#si">si</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> <span class="id"><a href="cshmgen_proof.html#vb">vb</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#c">c</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id">make_add_ptr_int</span>, <span class="id"><a href="Cop.html#sem_add_ptr_int">sem_add_ptr_int</a></span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">v</span>; <span class="tactic">intros</span> <span class="id">MAKE</span> <span class="id">EV1</span> <span class="id">EV2</span> <span class="id">SEM</span>; <span class="id">monadInv</span> <span class="id">MAKE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:<span class="id">SF</span>; <span class="id">inv</span> <span class="id">EQ0</span>; <span class="tactic">rewrite</span> (<span class="id"><a href="cshmgen_proof.html#transl_sizeof">transl_sizeof</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>  <span class="id">EQ</span>).<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">va</span>; <span class="id">InvEval</span>; <span class="tactic">destruct</span> <span class="id">vb</span>; <span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;+ <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;+ <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">SF</span>. <span class="tactic">f_equal</span>. <span class="tactic">f_equal</span>. <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Integers.html#Ptrofs.agree64">Ptrofs.agree64</a></span> (<span class="id"><a href="Cop.html#ptrofs_of_int">ptrofs_of_int</a></span> <span class="id">si</span> <span class="id">i0</span>) (<span class="id"><a href="Cop.html#cast_int_long">cast_int_long</a></span> <span class="id">si</span> <span class="id">i0</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">destruct</span> <span class="id">si</span>; <span class="tactic">simpl</span>; <span class="tactic">apply</span> <span class="id"><a href="Integers.html#Ptrofs.agree64_repr">Ptrofs.agree64_repr</a></span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ptrofs</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">va</span>; <span class="id">InvEval</span>; <span class="tactic">destruct</span> <span class="id">vb</span>; <span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;+ <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;+ <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">SF</span>. <span class="tactic">f_equal</span>. <span class="tactic">f_equal</span>. <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Integers.html#Ptrofs.agree32">Ptrofs.agree32</a></span> (<span class="id"><a href="Cop.html#ptrofs_of_int">ptrofs_of_int</a></span> <span class="id">si</span> <span class="id">i0</span>) <span class="id">i0</span>) <span class="tactic">by</span> (<span class="tactic">destruct</span> <span class="id">si</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ptrofs</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ptrofs</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">B</span>: <span class="kwd">forall</span> <span class="id">ty</span> <span class="id">a</span> <span class="id">b</span> <span class="id">c</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">va</span> <span class="id">vb</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">make_add_ptr_long</span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.cunit">cunit</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>) <span class="id"><a href="cshmgen_proof.html#ty">ty</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#c">c</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> -&gt; <span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> <span class="id"><a href="cshmgen_proof.html#vb">vb</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop.html#sem_add_ptr_long">sem_add_ptr_long</a></span> (<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.cunit">cunit</a></span>) <span class="id"><a href="cshmgen_proof.html#ty">ty</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> <span class="id"><a href="cshmgen_proof.html#vb">vb</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#c">c</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id">make_add_ptr_long</span>, <span class="id"><a href="Cop.html#sem_add_ptr_long">sem_add_ptr_long</a></span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">v</span>; <span class="tactic">intros</span> <span class="id">MAKE</span> <span class="id">EV1</span> <span class="id">EV2</span> <span class="id">SEM</span>; <span class="id">monadInv</span> <span class="id">MAKE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:<span class="id">SF</span>; <span class="id">inv</span> <span class="id">EQ0</span>; <span class="tactic">rewrite</span> (<span class="id"><a href="cshmgen_proof.html#transl_sizeof">transl_sizeof</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">EQ</span>).<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">va</span>; <span class="id">InvEval</span>; <span class="tactic">destruct</span> <span class="id">vb</span>; <span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;+ <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;+ <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">SF</span>. <span class="tactic">f_equal</span>. <span class="tactic">f_equal</span>. <span class="tactic">f_equal</span>. <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ptrofs</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">va</span>; <span class="id">InvEval</span>; <span class="tactic">destruct</span> <span class="id">vb</span>; <span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;+ <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;+ <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">SF</span>. <span class="tactic">f_equal</span>. <span class="tactic">f_equal</span>. <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Integers.html#Ptrofs.agree32">Ptrofs.agree32</a></span> (<span class="id"><a href="Integers.html#Ptrofs.of_int64">Ptrofs.of_int64</a></span> <span class="id">i0</span>) (<span class="id"><a href="Integers.html#Int64.loword">Int64.loword</a></span> <span class="id">i0</span>)) <span class="tactic">by</span> (<span class="tactic">apply</span> <span class="id"><a href="Integers.html#Ptrofs.agree32_repr">Ptrofs.agree32_repr</a></span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ptrofs</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">unfold</span> <span class="id">make_add</span>, <span class="id"><a href="Cop.html#sem_add">sem_add</a></span>;<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">m</span>; <span class="tactic">intros</span> <span class="id">SEM</span> <span class="id">MAKE</span> <span class="id">EV1</span> <span class="id">EV2</span>;<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Cop.html#classify_add">classify_add</a></span> <span class="id">tya</span> <span class="id">tyb</span>); <span class="tactic">eauto</span>.<br/>
- <span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_binarith_correct">make_binarith_correct</a></span>; <span class="tactic">eauto</span>; <span class="tactic">intros</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_add_fp_correct">make_add_fp_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#binary_fp_constructor_correct">binary_fp_constructor_correct</a></span> (<span class="id">make_add</span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.cunit">cunit</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>))(<span class="id"><a href="Cop.html#sem_add">sem_add</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.cunit">cunit</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>))(<span class="id"><a href="Cop_fp_local.html#sem_add_fp">Cop_fp_local.sem_add_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.cunit">cunit</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7964')">Proof.</div>
<div class="proofscript" id="proof7964">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">unfold</span> <span class="id">make_add</span>, <span class="id"><a href="Cop_fp_local.html#sem_add_fp">Cop_fp_local.sem_add_fp</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">fpc</span>;<span class="tactic">intros</span> <span class="id">SEM</span>' <span class="id">SEM</span> <span class="id">MAKE</span> <span class="id">EV1</span> <span class="id">FP1</span> <span class="id">EV2</span> <span class="id">FP2</span> <span class="id">EV3</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Cop.html#classify_add">classify_add</a></span> <span class="id">tya</span> <span class="id">tyb</span>) <span class="id">eqn</span>:?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;1,3: <span class="tactic">destruct</span> <span class="id"><a href="Cop.html#sem_add_ptr_int">sem_add_ptr_int</a></span> <span class="id">eqn</span>:?;<span class="id">inv</span> <span class="id">SEM</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">make_add_ptr_int</span>,<span class="id"><a href="Cop.html#sem_add_ptr_int">sem_add_ptr_int</a></span> <span class="kwd">in</span> *;<span class="id">monadInv</span> <span class="id">MAKE</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:?;<span class="tactic">try</span> <span class="tactic">discriminate</span>;<span class="id">inv</span> <span class="id">EQ0</span>; <span class="tactic">repeat</span> <span class="id">bexpr</span>;<span class="id">empfp</span>;<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.union_comm_eq">FP.union_comm_eq</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;1,2: <span class="tactic">destruct</span> <span class="id"><a href="Cop.html#sem_add_ptr_long">sem_add_ptr_long</a></span> <span class="id">eqn</span>:?;<span class="id">inv</span> <span class="id">SEM</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">make_add_ptr_long</span>,<span class="id"><a href="Cop.html#sem_add_ptr_long">sem_add_ptr_long</a></span> <span class="kwd">in</span> *;<span class="id">monadInv</span> <span class="id">MAKE</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:?;<span class="tactic">try</span> <span class="tactic">discriminate</span>;<span class="id">inv</span> <span class="id">EQ0</span>;<span class="tactic">repeat</span> <span class="id">bexpr</span>;<span class="id">empfp</span>;<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.union_comm_eq">FP.union_comm_eq</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_binarith_fp_correct">make_binarith_fp_correct</a></span>;<span class="tactic">eauto</span>;<span class="tactic">intros</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Cop.html#sem_add">sem_add</a></span> <span class="kwd">in</span> <span class="id">SEM</span>'. <span class="tactic">rewrite</span> <span class="id">Heqc0</span> <span class="kwd">in</span> <span class="id">SEM</span>'; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_sub_correct">make_sub_correct</a></span>: <span class="id"><a href="cshmgen_proof.html#binary_constructor_correct">binary_constructor_correct</a></span> (<span class="id">make_sub</span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.cunit">cunit</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>)) (<span class="id"><a href="Cop.html#sem_sub">sem_sub</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.cunit">cunit</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7965')">Proof.</div>
<div class="proofscript" id="proof7965">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">unfold</span> <span class="id">make_sub</span>, <span class="id"><a href="Cop.html#sem_sub">sem_sub</a></span>;<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">m</span>; <span class="tactic">intros</span> <span class="id">SEM</span> <span class="id">MAKE</span> <span class="id">EV1</span> <span class="id">EV2</span>;<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Cop.html#classify_sub">classify_sub</a></span> <span class="id">tya</span> <span class="id">tyb</span>); <span class="tactic">try</span> (<span class="id">monadInv</span> <span class="id">MAKE</span>).<br/>
- <span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:<span class="id">SF</span>; <span class="id">inv</span> <span class="id">EQ0</span>; <span class="tactic">rewrite</span> (<span class="id"><a href="cshmgen_proof.html#transl_sizeof">transl_sizeof</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>  <span class="id">EQ</span>).<br/>
+ <span class="tactic">destruct</span> <span class="id">va</span>; <span class="id">InvEval</span>; <span class="tactic">destruct</span> <span class="id">vb</span>; <span class="id">inv</span> <span class="id">SEM</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">SF</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Integers.html#Ptrofs.agree64">Ptrofs.agree64</a></span> (<span class="id"><a href="Cop.html#ptrofs_of_int">ptrofs_of_int</a></span> <span class="id">si</span> <span class="id">i0</span>) (<span class="id"><a href="Cop.html#cast_int_long">cast_int_long</a></span> <span class="id">si</span> <span class="id">i0</span>)).<br/>
&nbsp;&nbsp;{ <span class="tactic">destruct</span> <span class="id">si</span>; <span class="tactic">simpl</span>; <span class="tactic">apply</span> <span class="id"><a href="Integers.html#Ptrofs.agree64_repr">Ptrofs.agree64_repr</a></span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ptrofs</span>.<br/>
+ <span class="tactic">destruct</span> <span class="id">va</span>; <span class="id">InvEval</span>; <span class="tactic">destruct</span> <span class="id">vb</span>; <span class="id">inv</span> <span class="id">SEM</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">SF</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Integers.html#Ptrofs.agree32">Ptrofs.agree32</a></span> (<span class="id"><a href="Cop.html#ptrofs_of_int">ptrofs_of_int</a></span> <span class="id">si</span> <span class="id">i0</span>) <span class="id">i0</span>) <span class="tactic">by</span> (<span class="tactic">destruct</span> <span class="id">si</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ptrofs</span>).<br/>
&nbsp;&nbsp;<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ptrofs</span>.<br/>
- <span class="tactic">rewrite</span> (<span class="id"><a href="cshmgen_proof.html#transl_sizeof">transl_sizeof</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>  <span class="id">EQ</span>) <span class="kwd">in</span> <span class="id">EQ0</span>. <span class="tactic">clear</span> <span class="id">EQ</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">sz</span> := <span class="id"><a href="Ctypes.html#sizeof">Ctypes.sizeof</a></span> (<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.cunit">cunit</a></span>) <span class="id">ty</span>) <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">va</span>; <span class="id">InvEval</span>; <span class="tactic">destruct</span> <span class="id">vb</span>; <span class="id">InvEval</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Values.html#eq_block">eq_block</a></span> <span class="id">b0</span> <span class="id">b1</span>); <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#zlt">zlt</a></span> 0 <span class="id">sz</span>); <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#zle">zle</a></span> <span class="id">sz</span> <span class="id"><a href="Integers.html#Ptrofs.max_signed">Ptrofs.max_signed</a></span>); <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">SEM</span>; <span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">E1</span>: <span class="id"><a href="Integers.html#Ptrofs.signed">Ptrofs.signed</a></span> (<span class="id"><a href="Integers.html#Ptrofs.repr">Ptrofs.repr</a></span> <span class="id">sz</span>) = <span class="id">sz</span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="Integers.html#Ptrofs.signed_repr">Ptrofs.signed_repr</a></span>. <span class="tactic">generalize</span> <span class="id"><a href="Integers.html#Ptrofs.min_signed_neg">Ptrofs.min_signed_neg</a></span>; <span class="tactic">omega</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:<span class="id">SF</span>; <span class="tactic">inversion</span> <span class="id">EQ0</span>; <span class="tactic">clear</span> <span class="id">EQ0</span>; <span class="tactic">subst</span> <span class="id">c</span>.<br/>
+ <span class="tactic">assert</span> (<span class="id">E</span>: <span class="id"><a href="Integers.html#Int64.signed">Int64.signed</a></span> (<span class="id"><a href="Integers.html#Int64.repr">Int64.repr</a></span> <span class="id">sz</span>) = <span class="id">sz</span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="Integers.html#Int64.signed_repr">Int64.signed_repr</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">replace</span> <span class="id"><a href="Integers.html#Int64.max_signed">Int64.max_signed</a></span> <span class="kwd">with</span> <span class="id"><a href="Integers.html#Ptrofs.max_signed">Ptrofs.max_signed</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id"><a href="Integers.html#Int64.min_signed_neg">Int64.min_signed_neg</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Integers.html#Ptrofs.max_signed">Ptrofs.max_signed</a></span>, <span class="id"><a href="Integers.html#Ptrofs.half_modulus">Ptrofs.half_modulus</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.modulus_eq64">Ptrofs.modulus_eq64</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">reflexivity</span>. }<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">SF</span>, <span class="id"><a href="Coqlib.html#dec_eq_true">dec_eq_true</a></span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id"><a href="Integers.html#Int64.eq_spec">Int64.eq_spec</a></span> (<span class="id"><a href="Integers.html#Int64.repr">Int64.repr</a></span> <span class="id">sz</span>) <span class="id"><a href="Integers.html#Int64.zero">Int64.zero</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">E</span>; <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.signed_zero">Int64.signed_zero</a></span> <span class="kwd">in</span> <span class="id">E</span>; <span class="id">omegaContradiction</span>.<br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="Integers.html#Int64.eq">Int64.eq</a></span> <span class="id"><a href="Integers.html#Int64.eq_spec">Int64.eq_spec</a></span> (<span class="id"><a href="Integers.html#Int64.repr">Int64.repr</a></span> <span class="id">sz</span>) <span class="id"><a href="Integers.html#Int64.mone">Int64.mone</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">E</span>; <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int64.signed_mone">Int64.signed_mone</a></span> <span class="kwd">in</span> <span class="id">E</span>; <span class="id">omegaContradiction</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_false_r">andb_false_r</a></span>; <span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="Values.html#Vptrofs">Vptrofs</a></span>; <span class="tactic">rewrite</span> <span class="id">SF</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="tactic">f_equal</span>. <span class="tactic">symmetry</span>. <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ptrofs</span>.<br/>
+ <span class="tactic">assert</span> (<span class="id">E</span>: <span class="id"><a href="Integers.html#Int.signed">Int.signed</a></span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> <span class="id">sz</span>) = <span class="id">sz</span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="Integers.html#Int.signed_repr">Int.signed_repr</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">replace</span> <span class="id"><a href="Integers.html#Int.max_signed">Int.max_signed</a></span> <span class="kwd">with</span> <span class="id"><a href="Integers.html#Ptrofs.max_signed">Ptrofs.max_signed</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id"><a href="Integers.html#Int.min_signed_neg">Int.min_signed_neg</a></span>; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Integers.html#Ptrofs.max_signed">Ptrofs.max_signed</a></span>, <span class="id"><a href="Integers.html#Ptrofs.half_modulus">Ptrofs.half_modulus</a></span>, <span class="id"><a href="Integers.html#Ptrofs.modulus">Ptrofs.modulus</a></span>, <span class="id"><a href="Integers.html#Ptrofs.wordsize">Ptrofs.wordsize</a></span>, <span class="id"><a href="Integers.html#Wordsize_Ptrofs.wordsize">Wordsize_Ptrofs.wordsize</a></span>. <span class="tactic">rewrite</span> <span class="id">SF</span>. <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>. <span class="tactic">rewrite</span> <span class="id">SF</span>, <span class="id"><a href="Coqlib.html#dec_eq_true">dec_eq_true</a></span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="Integers.html#Int.eq_spec">Int.eq_spec</a></span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> <span class="id">sz</span>) <span class="id"><a href="Integers.html#Int.zero">Int.zero</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">E</span>; <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.signed_zero">Int.signed_zero</a></span> <span class="kwd">in</span> <span class="id">E</span>; <span class="id">omegaContradiction</span>.<br/>
&nbsp;&nbsp;<span class="id">predSpec</span> <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span> <span class="id"><a href="Integers.html#Int.eq_spec">Int.eq_spec</a></span> (<span class="id"><a href="Integers.html#Int.repr">Int.repr</a></span> <span class="id">sz</span>) <span class="id"><a href="Integers.html#Int.mone">Int.mone</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">E</span>; <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.signed_mone">Int.signed_mone</a></span> <span class="kwd">in</span> <span class="id">E</span>; <span class="id">omegaContradiction</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_false_r">andb_false_r</a></span>; <span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="Values.html#Vptrofs">Vptrofs</a></span>; <span class="tactic">rewrite</span> <span class="id">SF</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="tactic">symmetry</span>. <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ptrofs</span>.<br/>
- <span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:<span class="id">SF</span>; <span class="id">inv</span> <span class="id">EQ0</span>; <span class="tactic">rewrite</span> (<span class="id"><a href="cshmgen_proof.html#transl_sizeof">transl_sizeof</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>  <span class="id">EQ</span>).<br/>
+ <span class="tactic">destruct</span> <span class="id">va</span>; <span class="id">InvEval</span>; <span class="tactic">destruct</span> <span class="id">vb</span>; <span class="id">inv</span> <span class="id">SEM</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">SF</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ptrofs</span>.<br/>
+ <span class="tactic">destruct</span> <span class="id">va</span>; <span class="id">InvEval</span>; <span class="tactic">destruct</span> <span class="id">vb</span>; <span class="id">inv</span> <span class="id">SEM</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">SF</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Integers.html#Ptrofs.agree32">Ptrofs.agree32</a></span> (<span class="id"><a href="Integers.html#Ptrofs.of_int64">Ptrofs.of_int64</a></span> <span class="id">i0</span>) (<span class="id"><a href="Integers.html#Int64.loword">Int64.loword</a></span> <span class="id">i0</span>)) <span class="tactic">by</span> (<span class="tactic">apply</span> <span class="id"><a href="Integers.html#Ptrofs.agree32_repr">Ptrofs.agree32_repr</a></span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ptrofs</span>.<br/>
- <span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_binarith_correct">make_binarith_correct</a></span>; <span class="tactic">eauto</span>; <span class="tactic">intros</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_sub_fp_correct">make_sub_fp_correct</a></span>: <span class="id"><a href="cshmgen_proof.html#binary_fp_constructor_correct">binary_fp_constructor_correct</a></span> (<span class="id">make_sub</span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.cunit">cunit</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>))(<span class="id"><a href="Cop.html#sem_sub">sem_sub</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.cunit">cunit</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>)) (<span class="id"><a href="Cop_fp_local.html#sem_sub_fp">Cop_fp_local.sem_sub_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.cunit">cunit</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7966')">Proof.</div>
<div class="proofscript" id="proof7966">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">unfold</span> <span class="id">make_sub</span>,<span class="id"><a href="Cop.html#sem_sub">sem_sub</a></span>,<span class="id"><a href="Cop_fp_local.html#sem_sub_fp">Cop_fp_local.sem_sub_fp</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">fpc</span>;<span class="tactic">intros</span> <span class="id">SEM</span>' <span class="id">SEM</span> <span class="id">MAKE</span> <span class="id">EV1</span> <span class="id">FP1</span> <span class="id">EV2</span> <span class="id">FP2</span> <span class="id">EV3</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:?;<span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Cop.html#classify_sub">classify_sub</a></span> <span class="id">tya</span> <span class="id">tyb</span>) <span class="id">eqn</span>:?;<span class="tactic">eauto</span>;  <span class="tactic">try</span> <span class="id">monadInv</span> <span class="id">MAKE</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">va</span>;<span class="tactic">inversion</span> <span class="id">SEM</span>;<span class="tactic">destruct</span> <span class="id">vb</span>;<span class="tactic">inversion</span> <span class="id">SEM</span>;<span class="tactic">subst</span>  ;<span class="tactic">repeat</span> <span class="id">bexpr</span>;<span class="id">empfp</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">va</span>;<span class="id">inv</span> <span class="id">SEM</span>. <span class="tactic">destruct</span> <span class="id">vb</span>;<span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Values.html#eq_block">eq_block</a></span>) <span class="id">eqn</span>:?;<span class="id">inv</span> <span class="id">H1</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#zlt">zlt</a></span> 0 (<span class="id"><a href="Ctypes.html#sizeof">Ctypes.sizeof</a></span> (<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.cunit">cunit</a></span>) <span class="id">ty</span>) &amp;&amp; <span class="id"><a href="Coqlib.html#zle">zle</a></span> (<span class="id"><a href="Ctypes.html#sizeof">Ctypes.sizeof</a></span> (<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.cunit">cunit</a></span>) <span class="id">ty</span>) <span class="id"><a href="Integers.html#Ptrofs.max_signed">Ptrofs.max_signed</a></span>) ;<span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span>&lt;- <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span> <span class="kwd">with</span>(<span class="id">fp</span>:=(<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fpa</span> <span class="id">fpb</span>)).<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">EV3</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>;<span class="tactic">simpl</span>;<span class="tactic">eauto</span>;  <span class="id">empfp</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>;<span class="tactic">simpl</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Csharpminor.html#eval_binop">eval_binop</a></span>,<span class="id"><a href="Cminor.html#eval_binop">Cminor.eval_binop</a></span> <span class="kwd">in</span> <span class="id">H5</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">H5</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">va</span>;<span class="id">inv</span> <span class="id">SEM</span>; <span class="tactic">destruct</span> <span class="id">vb</span>;<span class="id">inv</span> <span class="id">H0</span>; <span class="tactic">repeat</span> <span class="id">bexpr</span>;<span class="id">empfp</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_binarith_fp_correct">make_binarith_fp_correct</a></span>;<span class="tactic">eauto</span>;<span class="tactic">intros</span>;<span class="tactic">auto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="make_mul_correct">make_mul_correct</a></span>: <span class="id"><a href="cshmgen_proof.html#binary_constructor_correct">binary_constructor_correct</a></span> <span class="id">make_mul</span> <span class="id"><a href="Cop.html#sem_mul">sem_mul</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7967')">Proof.</div>
<div class="proofscript" id="proof7967">
 <span class="tactic">apply</span> <span class="id"><a href="cshmgen_proof.html#make_binarith_correct">make_binarith_correct</a></span>; <span class="tactic">intros</span>; <span class="tactic">auto</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="make_mul_fp_correct">make_mul_fp_correct</a></span>: <span class="id"><a href="cshmgen_proof.html#binary_fp_constructor_correct">binary_fp_constructor_correct</a></span> <span class="id">make_mul</span> <span class="id"><a href="Cop.html#sem_mul">sem_mul</a></span> <span class="id"><a href="Cop_fp_local.html#sem_mul_fp">Cop_fp_local.sem_mul_fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7968')">Proof.</div>
<div class="proofscript" id="proof7968">
 <span class="tactic">apply</span> <span class="id"><a href="cshmgen_proof.html#make_binarith_fp_correct">make_binarith_fp_correct</a></span>; <span class="tactic">intros</span>; <span class="tactic">auto</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="make_div_correct">make_div_correct</a></span>: <span class="id"><a href="cshmgen_proof.html#binary_constructor_correct">binary_constructor_correct</a></span> <span class="id">make_div</span> <span class="id"><a href="Cop.html#sem_div">sem_div</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7969')">Proof.</div>
<div class="proofscript" id="proof7969">
 <span class="tactic">apply</span> <span class="id"><a href="cshmgen_proof.html#make_binarith_correct">make_binarith_correct</a></span>; <span class="tactic">intros</span>; <span class="tactic">auto</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="make_div_fp_correct">make_div_fp_correct</a></span>: <span class="id"><a href="cshmgen_proof.html#binary_fp_constructor_correct">binary_fp_constructor_correct</a></span> <span class="id">make_div</span> <span class="id"><a href="Cop.html#sem_div">sem_div</a></span> <span class="id"><a href="Cop_fp_local.html#sem_div_fp">Cop_fp_local.sem_div_fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7970')">Proof.</div>
<div class="proofscript" id="proof7970">
 <span class="tactic">apply</span> <span class="id"><a href="cshmgen_proof.html#make_binarith_fp_correct">make_binarith_fp_correct</a></span>; <span class="tactic">intros</span>; <span class="tactic">auto</span>;<span class="tactic">simpl</span> <span class="kwd">in</span> *;<span class="id">inv_eq</span>;<span class="tactic">auto</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="make_mod_correct">make_mod_correct</a></span>: <span class="id"><a href="cshmgen_proof.html#binary_constructor_correct">binary_constructor_correct</a></span> <span class="id">make_mod</span> <span class="id"><a href="Cop.html#sem_mod">sem_mod</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7971')">Proof.</div>
<div class="proofscript" id="proof7971">
  <span class="tactic">apply</span> <span class="id"><a href="cshmgen_proof.html#make_binarith_int_correct">make_binarith_int_correct</a></span>; <span class="tactic">intros</span>; <span class="tactic">auto</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="make_mod_fp_correct">make_mod_fp_correct</a></span>: <span class="id"><a href="cshmgen_proof.html#binary_fp_constructor_correct">binary_fp_constructor_correct</a></span> <span class="id">make_mod</span> <span class="id"><a href="Cop.html#sem_mod">sem_mod</a></span> <span class="id"><a href="Cop_fp_local.html#sem_mod_fp">sem_mod_fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7972')">Proof.</div>
<div class="proofscript" id="proof7972">
 <span class="tactic">apply</span> <span class="id"><a href="cshmgen_proof.html#make_binarith_int_fp_correct">make_binarith_int_fp_correct</a></span>; <span class="tactic">intros</span>; <span class="tactic">auto</span>;<span class="tactic">simpl</span> <span class="kwd">in</span> *;<span class="id">inv_eq</span>;<span class="tactic">auto</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="make_and_correct">make_and_correct</a></span>: <span class="id"><a href="cshmgen_proof.html#binary_constructor_correct">binary_constructor_correct</a></span> <span class="id">make_and</span> <span class="id"><a href="Cop.html#sem_and">sem_and</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7973')">Proof.</div>
<div class="proofscript" id="proof7973">
 <span class="tactic">apply</span> <span class="id"><a href="cshmgen_proof.html#make_binarith_int_correct">make_binarith_int_correct</a></span>; <span class="tactic">intros</span>; <span class="tactic">auto</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="make_and_fp_correct">make_and_fp_correct</a></span>: <span class="id"><a href="cshmgen_proof.html#binary_fp_constructor_correct">binary_fp_constructor_correct</a></span> <span class="id">make_and</span> <span class="id"><a href="Cop.html#sem_and">sem_and</a></span> <span class="id"><a href="Cop_fp_local.html#sem_and_fp">sem_and_fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7974')">Proof.</div>
<div class="proofscript" id="proof7974">
 <span class="tactic">apply</span> <span class="id"><a href="cshmgen_proof.html#make_binarith_int_fp_correct">make_binarith_int_fp_correct</a></span>; <span class="tactic">intros</span>; <span class="tactic">auto</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="make_or_correct">make_or_correct</a></span>: <span class="id"><a href="cshmgen_proof.html#binary_constructor_correct">binary_constructor_correct</a></span> <span class="id">make_or</span> <span class="id"><a href="Cop.html#sem_or">sem_or</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7975')">Proof.</div>
<div class="proofscript" id="proof7975">
 <span class="tactic">apply</span> <span class="id"><a href="cshmgen_proof.html#make_binarith_int_correct">make_binarith_int_correct</a></span>; <span class="tactic">intros</span>; <span class="tactic">auto</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="make_or_fp_correct">make_or_fp_correct</a></span>: <span class="id"><a href="cshmgen_proof.html#binary_fp_constructor_correct">binary_fp_constructor_correct</a></span> <span class="id">make_or</span> <span class="id"><a href="Cop.html#sem_or">sem_or</a></span> <span class="id"><a href="Cop_fp_local.html#sem_or_fp">sem_or_fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7976')">Proof.</div>
<div class="proofscript" id="proof7976">
 <span class="tactic">apply</span> <span class="id"><a href="cshmgen_proof.html#make_binarith_int_fp_correct">make_binarith_int_fp_correct</a></span>; <span class="tactic">intros</span>; <span class="tactic">auto</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="make_xor_correct">make_xor_correct</a></span>: <span class="id"><a href="cshmgen_proof.html#binary_constructor_correct">binary_constructor_correct</a></span> <span class="id">make_xor</span> <span class="id"><a href="Cop.html#sem_xor">sem_xor</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7977')">Proof.</div>
<div class="proofscript" id="proof7977">
 <span class="tactic">apply</span> <span class="id"><a href="cshmgen_proof.html#make_binarith_int_correct">make_binarith_int_correct</a></span>; <span class="tactic">intros</span>; <span class="tactic">auto</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="make_xor_fp_correct">make_xor_fp_correct</a></span>: <span class="id"><a href="cshmgen_proof.html#binary_fp_constructor_correct">binary_fp_constructor_correct</a></span> <span class="id">make_xor</span> <span class="id"><a href="Cop.html#sem_xor">sem_xor</a></span> <span class="id"><a href="Cop_fp_local.html#sem_xor_fp">sem_xor_fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7978')">Proof.</div>
<div class="proofscript" id="proof7978">
 <span class="tactic">apply</span> <span class="id"><a href="cshmgen_proof.html#make_binarith_int_fp_correct">make_binarith_int_fp_correct</a></span>; <span class="tactic">intros</span>; <span class="tactic">auto</span>. Qed.</div>
<span class="kwd">Ltac</span> <span class="id">comput</span> <span class="id">val</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">x</span> := <span class="tactic">fresh</span> <span class="kwd">in</span> <span class="tactic">set</span> <span class="id">val</span> <span class="kwd">as</span> <span class="id">x</span> <span class="kwd">in</span> *; <span class="id">vm_compute</span> <span class="kwd">in</span> <span class="id">x</span>; <span class="tactic">subst</span> <span class="id">x</span>.<br/>
<span class="kwd">Remark</span> <span class="id"><a name="small_shift_amount_1">small_shift_amount_1</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">i</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Integers.html#Int64.ltu">Int64.ltu</a></span> <span class="id"><a href="cshmgen_proof.html#i">i</a></span> <span class="id"><a href="Integers.html#Int64.iwordsize">Int64.iwordsize</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="Integers.html#Int64.loword">Int64.loword</a></span> <span class="id"><a href="cshmgen_proof.html#i">i</a></span>) <span class="id">Int64.iwordsize</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span><br/>
&nbsp;&nbsp;/\ <span class="id"><a href="Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id"><a href="cshmgen_proof.html#i">i</a></span> = <span class="id"><a href="Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="Integers.html#Int64.loword">Int64.loword</a></span> <span class="id"><a href="cshmgen_proof.html#i">i</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7979')">Proof.</div>
<div class="proofscript" id="proof7979">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="Integers.html#Int64.ltu_inv">Int64.ltu_inv</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">comput</span> (<span class="id"><a href="Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id"><a href="Integers.html#Int64.iwordsize">Int64.iwordsize</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id">i</span> = <span class="id"><a href="Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="Integers.html#Int64.loword">Int64.loword</a></span> <span class="id">i</span>)).<br/>
&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="Integers.html#Int64.loword">Int64.loword</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">comput</span> <span class="id"><a href="Integers.html#Int.max_unsigned">Int.max_unsigned</a></span>; <span class="tactic">omega</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">unfold</span> <span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span>. <span class="tactic">apply</span> <span class="id"><a href="Coqlib.html#zlt_true">zlt_true</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H0</span>. <span class="tactic">tauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="small_shift_amount_2">small_shift_amount_2</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">i</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Integers.html#Int64.ltu">Int64.ltu</a></span> <span class="id"><a href="cshmgen_proof.html#i">i</a></span> (<span class="id"><a href="Integers.html#Int64.repr">Int64.repr</a></span> 32) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> (<span class="id"><a href="Integers.html#Int64.loword">Int64.loword</a></span> <span class="id"><a href="cshmgen_proof.html#i">i</a></span>) <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7980')">Proof.</div>
<div class="proofscript" id="proof7980">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="Integers.html#Int64.ltu_inv">Int64.ltu_inv</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">comput</span> (<span class="id"><a href="Integers.html#Int64.unsigned">Int64.unsigned</a></span> (<span class="id"><a href="Integers.html#Int64.repr">Int64.repr</a></span> 32)).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Integers.html#Int64.unsigned">Int64.unsigned</a></span> <span class="id">i</span> = <span class="id"><a href="Integers.html#Int.unsigned">Int.unsigned</a></span> (<span class="id"><a href="Integers.html#Int64.loword">Int64.loword</a></span> <span class="id">i</span>)).<br/>
&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="Integers.html#Int64.loword">Int64.loword</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Int.unsigned_repr">Int.unsigned_repr</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">comput</span> <span class="id"><a href="Integers.html#Int.max_unsigned">Int.max_unsigned</a></span>; <span class="tactic">omega</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span>. <span class="tactic">apply</span> <span class="id"><a href="Coqlib.html#zlt_true">zlt_true</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H0</span>. <span class="tactic">tauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="small_shift_amount_3">small_shift_amount_3</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">i</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id"><a href="cshmgen_proof.html#i">i</a></span> <span class="id">Int64.iwordsize</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Integers.html#Int64.unsigned">Int64.unsigned</a></span> (<span class="id"><a href="Integers.html#Int64.repr">Int64.repr</a></span> (<span class="id"><a href="Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="cshmgen_proof.html#i">i</a></span>)) = <span class="id"><a href="Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="cshmgen_proof.html#i">i</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7981')">Proof.</div>
<div class="proofscript" id="proof7981">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="Integers.html#Int.ltu_inv">Int.ltu_inv</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">comput</span> (<span class="id"><a href="Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">Int64.iwordsize</span>').<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Integers.html#Int64.unsigned_repr">Int64.unsigned_repr</a></span>. <span class="id">comput</span> <span class="id"><a href="Integers.html#Int64.max_unsigned">Int64.max_unsigned</a></span>; <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_shl_correct">make_shl_correct</a></span>: <span class="id"><a href="cshmgen_proof.html#shift_constructor_correct">shift_constructor_correct</a></span> <span class="id">make_shl</span> <span class="id"><a href="Cop.html#sem_shl">sem_shl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7982')">Proof.</div>
<div class="proofscript" id="proof7982">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">unfold</span> <span class="id">make_shl</span>, <span class="id"><a href="Cop.html#sem_shl">sem_shl</a></span>, <span class="id"><a href="Cop.html#sem_shift">sem_shift</a></span>;<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">m</span>; <span class="tactic">intros</span> <span class="id">SEM</span> <span class="id">MAKE</span> <span class="id">EV1</span> <span class="id">EV2</span>;<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Cop.html#classify_shift">classify_shift</a></span> <span class="id">tya</span> <span class="id">tyb</span>); <span class="id">inv</span> <span class="id">MAKE</span>;<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">va</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>; <span class="tactic">destruct</span> <span class="id">vb</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
- <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">i0</span> <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span>) <span class="id">eqn</span>:<span class="id">E</span>; <span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id">E</span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int64.ltu">Int64.ltu</a></span> <span class="id">i0</span> <span class="id"><a href="Integers.html#Int64.iwordsize">Int64.iwordsize</a></span>) <span class="id">eqn</span>:<span class="id">E</span>; <span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="cshmgen_proof.html#small_shift_amount_1">small_shift_amount_1</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">A</span> <span class="id">B</span>].<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="tactic">f_equal</span>; <span class="tactic">f_equal</span>. <span class="tactic">unfold</span> <span class="id">Int64.shl</span>', <span class="id"><a href="Integers.html#Int64.shl">Int64.shl</a></span>. <span class="tactic">rewrite</span> <span class="id">B</span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int64.ltu">Int64.ltu</a></span> <span class="id">i0</span> (<span class="id"><a href="Integers.html#Int64.repr">Int64.repr</a></span> 32)) <span class="id">eqn</span>:<span class="id">E</span>; <span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="cshmgen_proof.html#small_shift_amount_2">small_shift_amount_2</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">i0</span> <span class="id">Int64.iwordsize</span>') <span class="id">eqn</span>:<span class="id">E</span>; <span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">Int64.shl</span>', <span class="id"><a href="Integers.html#Int64.shl">Int64.shl</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="cshmgen_proof.html#small_shift_amount_3">small_shift_amount_3</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_shr_correct">make_shr_correct</a></span>: <span class="id"><a href="cshmgen_proof.html#shift_constructor_correct">shift_constructor_correct</a></span> <span class="id">make_shr</span> <span class="id"><a href="Cop.html#sem_shr">sem_shr</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7983')">Proof.</div>
<div class="proofscript" id="proof7983">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">unfold</span> <span class="id">make_shr</span>, <span class="id"><a href="Cop.html#sem_shr">sem_shr</a></span>, <span class="id"><a href="Cop.html#sem_shift">sem_shift</a></span>;<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">m</span>; <span class="tactic">intros</span> <span class="id">SEM</span> <span class="id">MAKE</span> <span class="id">EV1</span> <span class="id">EV2</span>;<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Cop.html#classify_shift">classify_shift</a></span> <span class="id">tya</span> <span class="id">tyb</span>); <span class="id">inv</span> <span class="id">MAKE</span>;<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">va</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>; <span class="tactic">destruct</span> <span class="id">vb</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
- <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">i0</span> <span class="id"><a href="Integers.html#Int.iwordsize">Int.iwordsize</a></span>) <span class="id">eqn</span>:<span class="id">E</span>; <span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">s</span>; <span class="id">inv</span> <span class="id">H0</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span>; <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id">E</span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int64.ltu">Int64.ltu</a></span> <span class="id">i0</span> <span class="id"><a href="Integers.html#Int64.iwordsize">Int64.iwordsize</a></span>) <span class="id">eqn</span>:<span class="id">E</span>; <span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="cshmgen_proof.html#small_shift_amount_1">small_shift_amount_1</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">A</span> <span class="id">B</span>].<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">s</span>; <span class="id">inv</span> <span class="id">H0</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>; <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id">A</span>;<br/>
&nbsp;&nbsp;<span class="tactic">f_equal</span>; <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">Int64.shr</span>', <span class="id"><a href="Integers.html#Int64.shr">Int64.shr</a></span>; <span class="tactic">rewrite</span> <span class="id">B</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">Int64.shru</span>', <span class="id"><a href="Integers.html#Int64.shru">Int64.shru</a></span>; <span class="tactic">rewrite</span> <span class="id">B</span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int64.ltu">Int64.ltu</a></span> <span class="id">i0</span> (<span class="id"><a href="Integers.html#Int64.repr">Int64.repr</a></span> 32)) <span class="id">eqn</span>:<span class="id">E</span>; <span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">s</span>; <span class="id">inv</span> <span class="id">H0</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>; <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id"><a href="cshmgen_proof.html#small_shift_amount_2">small_shift_amount_2</a></span>; <span class="tactic">auto</span>.<br/>
- <span class="tactic">destruct</span> (<span class="id"><a href="Integers.html#Int.ltu">Int.ltu</a></span> <span class="id">i0</span> <span class="id">Int64.iwordsize</span>') <span class="id">eqn</span>:<span class="id">E</span>; <span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">s</span>; <span class="id">inv</span> <span class="id">H0</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>; <span class="tactic">simpl</span>; <span class="tactic">rewrite</span> <span class="id">E</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">Int64.shr</span>', <span class="id"><a href="Integers.html#Int64.shr">Int64.shr</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="cshmgen_proof.html#small_shift_amount_3">small_shift_amount_3</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">Int64.shru</span>', <span class="id"><a href="Integers.html#Int64.shru">Int64.shru</a></span>; <span class="tactic">rewrite</span> <span class="id"><a href="cshmgen_proof.html#small_shift_amount_3">small_shift_amount_3</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_cmp_ptr_correct">make_cmp_ptr_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">cmp</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">a</span> <span class="id">va</span> <span class="id">b</span> <span class="id">vb</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Cop.html#cmp_ptr">cmp_ptr</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#cmp">cmp</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> <span class="id"><a href="cshmgen_proof.html#vb">vb</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> <span class="id"><a href="cshmgen_proof.html#vb">vb</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> (<span class="id">make_cmp_ptr</span> <span class="id"><a href="cshmgen_proof.html#cmp">cmp</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span>) <span class="id"><a href="cshmgen_proof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7984')">Proof.</div>
<div class="proofscript" id="proof7984">
 <span class="tactic">unfold</span> <span class="id"><a href="Cop.html#cmp_ptr">cmp_ptr</a></span>, <span class="id">make_cmp_ptr</span>; <span class="tactic">intros</span>; <span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:?;<span class="tactic">try</span> <span class="tactic">discriminate</span>;<span class="id">econstructor</span>; <span class="tactic">eauto</span>. Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="cmpu_bool_cmp_ptr_fp_correct">cmpu_bool_cmp_ptr_fp_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">cmp</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">a</span> <span class="id">va</span> <span class="id">b</span> <span class="id">vb</span> <span class="id">v</span> <span class="id">fp</span> <span class="id">fpa</span> <span class="id">fpb</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Coqlib.html#option_map">option_map</a></span> <span class="id"><a href="Values.html#Val.of_bool">Val.of_bool</a></span> (<span class="id"><a href="Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span> (<span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span>) <span class="id"><a href="cshmgen_proof.html#cmp">cmp</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> <span class="id"><a href="cshmgen_proof.html#vb">vb</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ValFP.html#cmpu_bool_fp">ValFP.cmpu_bool_fp</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#cmp">cmp</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> <span class="id"><a href="cshmgen_proof.html#vb">vb</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#fpa">fpa</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> <span class="id"><a href="cshmgen_proof.html#vb">vb</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> <span class="id"><a href="cshmgen_proof.html#fpb">fpb</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> (<span class="id">make_cmp_ptr</span> <span class="id"><a href="cshmgen_proof.html#cmp">cmp</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span>)(<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span>(<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="cshmgen_proof.html#fpa">fpa</a></span> <span class="id"><a href="cshmgen_proof.html#fpb">fpb</a></span>) <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7985')">Proof.</div>
<div class="proofscript" id="proof7985">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Cop.html#cmp_ptr">cmp_ptr</a></span>, <span class="id">make_cmp_ptr</span>,<span class="id"><a href="Cop_fp_local.html#cmp_ptr_fp">cmp_ptr_fp</a></span>;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:?;<span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>. <span class="tactic">simpl</span>. <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Cminor_op_footprint.html#cmpu_fp">cmpu_fp</a></span>,<span class="id"><a href="ValFP.html#cmpu_bool_fp_total">ValFP.cmpu_bool_fp_total</a></span>,<span class="id"><a href="Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span>,<span class="id"><a href="ValFP.html#cmpu_bool_fp">ValFP.cmpu_bool_fp</a></span> <span class="kwd">in</span> *; <span class="id">inv_eq</span>;<span class="tactic">auto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="make_cmp_ptr_fp_correct">make_cmp_ptr_fp_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">cmp</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">a</span> <span class="id">va</span> <span class="id">b</span> <span class="id">vb</span> <span class="id">v</span> <span class="id">fp</span> <span class="id">fpa</span> <span class="id">fpb</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop.html#cmp_ptr">cmp_ptr</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#cmp">cmp</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> <span class="id"><a href="cshmgen_proof.html#vb">vb</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop_fp_local.html#cmp_ptr_fp">cmp_ptr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#cmp">cmp</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> <span class="id"><a href="cshmgen_proof.html#vb">vb</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#fpa">fpa</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> <span class="id"><a href="cshmgen_proof.html#vb">vb</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> <span class="id"><a href="cshmgen_proof.html#fpb">fpb</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> (<span class="id">make_cmp_ptr</span> <span class="id"><a href="cshmgen_proof.html#cmp">cmp</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span>)(<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span>(<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="cshmgen_proof.html#fpa">fpa</a></span> <span class="id"><a href="cshmgen_proof.html#fpb">fpb</a></span>) <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7986')">Proof.</div>
<div class="proofscript" id="proof7986">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Cop.html#cmp_ptr">cmp_ptr</a></span>, <span class="id">make_cmp_ptr</span>,<span class="id"><a href="Cop_fp_local.html#cmp_ptr_fp">cmp_ptr_fp</a></span>;<span class="tactic">intros</span>.  <span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:?;<span class="tactic">try</span> <span class="tactic">discriminate</span>.  <span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#cmpu_bool_cmp_ptr_fp_correct">cmpu_bool_cmp_ptr_fp_correct</a></span>;<span class="tactic">eauto</span>.<br/>
Qed.</div>
<span class="kwd">Remark</span> <span class="id"><a name="make_ptrofs_of_int_correct">make_ptrofs_of_int_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">a</span> <span class="id">i</span> <span class="id">si</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="cshmgen_proof.html#i">i</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> (<span class="kwd">if</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id">make_longofint</span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#si">si</a></span> <span class="kwd">else</span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span>) (<span class="id"><a href="Values.html#Vptrofs">Vptrofs</a></span> (<span class="id"><a href="Cop.html#ptrofs_of_int">ptrofs_of_int</a></span> <span class="id"><a href="cshmgen_proof.html#si">si</a></span> <span class="id"><a href="cshmgen_proof.html#i">i</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7987')">Proof.</div>
<div class="proofscript" id="proof7987">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="Values.html#Vptrofs">Vptrofs</a></span>, <span class="id"><a href="Cop.html#ptrofs_of_int">ptrofs_of_int</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:<span class="id">SF</span>.<br/>
- <span class="tactic">unfold</span> <span class="id">make_longofint</span>. <span class="tactic">destruct</span> <span class="id">si</span>.<br/>
+ <span class="tactic">replace</span> (<span class="id"><a href="Integers.html#Ptrofs.to_int64">Ptrofs.to_int64</a></span> (<span class="id"><a href="Integers.html#Ptrofs.of_ints">Ptrofs.of_ints</a></span> <span class="id">i</span>)) <span class="kwd">with</span> (<span class="id"><a href="Integers.html#Int64.repr">Int64.repr</a></span> (<span class="id"><a href="Integers.html#Int.signed">Int.signed</a></span> <span class="id">i</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Integers.html#Int64.eqm_samerepr">Int64.eqm_samerepr</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.eqm64">Ptrofs.eqm64</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="Integers.html#Ptrofs.eqm_unsigned_repr">Ptrofs.eqm_unsigned_repr</a></span>.<br/>
+ <span class="tactic">replace</span> (<span class="id"><a href="Integers.html#Ptrofs.to_int64">Ptrofs.to_int64</a></span> (<span class="id"><a href="Integers.html#Ptrofs.of_intu">Ptrofs.of_intu</a></span> <span class="id">i</span>)) <span class="kwd">with</span> (<span class="id"><a href="Integers.html#Int64.repr">Int64.repr</a></span> (<span class="id"><a href="Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id">i</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">cshm</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Integers.html#Int64.eqm_samerepr">Int64.eqm_samerepr</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.eqm64">Ptrofs.eqm64</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="Integers.html#Ptrofs.eqm_unsigned_repr">Ptrofs.eqm_unsigned_repr</a></span>.<br/>
- <span class="tactic">destruct</span> <span class="id">si</span>.<br/>
+ <span class="tactic">replace</span> (<span class="id"><a href="Integers.html#Ptrofs.to_int">Ptrofs.to_int</a></span> (<span class="id"><a href="Integers.html#Ptrofs.of_ints">Ptrofs.of_ints</a></span> <span class="id">i</span>)) <span class="kwd">with</span> <span class="id">i</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">symmetry</span>. <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ptrofs</span>.<br/>
+ <span class="tactic">replace</span> (<span class="id"><a href="Integers.html#Ptrofs.to_int">Ptrofs.to_int</a></span> (<span class="id"><a href="Integers.html#Ptrofs.of_intu">Ptrofs.of_intu</a></span> <span class="id">i</span>)) <span class="kwd">with</span> <span class="id">i</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">symmetry</span>. <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ptrofs</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="make_ptrofs_of_int64_correct">make_ptrofs_of_int64_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">a</span> <span class="id">i</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id"><a href="cshmgen_proof.html#i">i</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> (<span class="kwd">if</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="kwd">else</span> <span class="id"><a href="Csharpminor.html#Eunop">Eunop</a></span> <span class="id"><a href="Cminor.html#Ointoflong">Ointoflong</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span>) (<span class="id"><a href="Values.html#Vptrofs">Vptrofs</a></span> (<span class="id"><a href="Integers.html#Ptrofs.of_int64">Ptrofs.of_int64</a></span> <span class="id"><a href="cshmgen_proof.html#i">i</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7988')">Proof.</div>
<div class="proofscript" id="proof7988">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="Values.html#Vptrofs">Vptrofs</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:<span class="id">SF</span>.<br/>
- <span class="tactic">replace</span> (<span class="id"><a href="Integers.html#Ptrofs.to_int64">Ptrofs.to_int64</a></span> (<span class="id"><a href="Integers.html#Ptrofs.of_int64">Ptrofs.of_int64</a></span> <span class="id">i</span>)) <span class="kwd">with</span> <span class="id">i</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">symmetry</span>. <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ptrofs</span>.<br/>
- <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Integers.html#Int.eqm_samerepr">Int.eqm_samerepr</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.eqm32">Ptrofs.eqm32</a></span> <span class="tactic">by</span> <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="Integers.html#Ptrofs.eqm_unsigned_repr">Ptrofs.eqm_unsigned_repr</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_cmp_correct">make_cmp_correct</a></span>: <span class="kwd">forall</span> <span class="id">cmp</span>, <span class="id"><a href="cshmgen_proof.html#binary_constructor_correct">binary_constructor_correct</a></span> (<span class="id">make_cmp</span> <span class="id"><a href="cshmgen_proof.html#cmp">cmp</a></span>) (<span class="id"><a href="Cop.html#sem_cmp">sem_cmp</a></span> <span class="id"><a href="cshmgen_proof.html#cmp">cmp</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7989')">Proof.</div>
<div class="proofscript" id="proof7989">
&nbsp;&nbsp;<span class="tactic">red</span>; <span class="tactic">unfold</span> <span class="id"><a href="Cop.html#sem_cmp">sem_cmp</a></span>, <span class="id">make_cmp</span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">m</span>; <span class="tactic">intros</span> <span class="id">SEM</span> <span class="id">MAKE</span> <span class="id">EV1</span> <span class="id">EV2</span>;<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Cop.html#classify_cmp">classify_cmp</a></span> <span class="id">tya</span> <span class="id">tyb</span>).<br/>
- <span class="id">inv</span> <span class="id">MAKE</span>. <span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_cmp_ptr_correct">make_cmp_ptr_correct</a></span>; <span class="tactic">eauto</span>.<br/>
- <span class="id">inv</span> <span class="id">MAKE</span>. <span class="tactic">destruct</span> <span class="id">vb</span>; <span class="id">InvEval</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="cshmgen_proof.html#make_cmp_ptr_correct">make_cmp_ptr_correct</a></span>, <span class="id"><a href="cshmgen_proof.html#make_ptrofs_of_int_correct">make_ptrofs_of_int_correct</a></span>.<br/>
- <span class="id">inv</span> <span class="id">MAKE</span>. <span class="tactic">destruct</span> <span class="id">va</span>; <span class="id">InvEval</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="cshmgen_proof.html#make_cmp_ptr_correct">make_cmp_ptr_correct</a></span>, <span class="id"><a href="cshmgen_proof.html#make_ptrofs_of_int_correct">make_ptrofs_of_int_correct</a></span>.<br/>
- <span class="id">inv</span> <span class="id">MAKE</span>. <span class="tactic">destruct</span> <span class="id">vb</span>; <span class="id">InvEval</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="cshmgen_proof.html#make_cmp_ptr_correct">make_cmp_ptr_correct</a></span>, <span class="id"><a href="cshmgen_proof.html#make_ptrofs_of_int64_correct">make_ptrofs_of_int64_correct</a></span>.<br/>
- <span class="id">inv</span> <span class="id">MAKE</span>. <span class="tactic">destruct</span> <span class="id">va</span>; <span class="id">InvEval</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="cshmgen_proof.html#make_cmp_ptr_correct">make_cmp_ptr_correct</a></span>, <span class="id"><a href="cshmgen_proof.html#make_ptrofs_of_int64_correct">make_ptrofs_of_int64_correct</a></span>.<br/>
- <span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_binarith_correct">make_binarith_correct</a></span>; <span class="tactic">eauto</span>; <span class="tactic">intros</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="make_cmp_fp_correct">make_cmp_fp_correct</a></span>: <span class="kwd">forall</span> <span class="id">cmp</span>, <span class="id"><a href="cshmgen_proof.html#binary_fp_constructor_correct">binary_fp_constructor_correct</a></span> (<span class="id">make_cmp</span> <span class="id"><a href="cshmgen_proof.html#cmp">cmp</a></span>) (<span class="id"><a href="Cop.html#sem_cmp">sem_cmp</a></span> <span class="id"><a href="cshmgen_proof.html#cmp">cmp</a></span>)(<span class="id"><a href="Cop_fp_local.html#sem_cmp_fp">sem_cmp_fp</a></span> <span class="id"><a href="cshmgen_proof.html#cmp">cmp</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7990')">Proof.</div>
<div class="proofscript" id="proof7990">
&nbsp;&nbsp;<span class="tactic">red</span>. <span class="tactic">unfold</span> <span class="id"><a href="Cop.html#sem_cmp">sem_cmp</a></span>, <span class="id"><a href="Cop_fp_local.html#sem_cmp_fp">sem_cmp_fp</a></span>, <span class="id">make_cmp</span>;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">fpc</span>;<span class="tactic">intros</span> <span class="id">SEM</span> <span class="id">SEMFP</span> <span class="id">MAKE</span> <span class="id">EV1</span> <span class="id">FP1</span> <span class="id">EV2</span> <span class="id">FP2</span> <span class="id">EV3</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Cop.html#classify_cmp">classify_cmp</a></span> <span class="id">tya</span> <span class="id">tyb</span>) <span class="id">eqn</span>:?;<span class="id">inv</span> <span class="id">MAKE</span>.<br/>
&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_cmp_ptr_fp_correct">make_cmp_ptr_fp_correct</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;* <span class="tactic">unfold</span> <span class="id"><a href="Cop.html#cmp_ptr">cmp_ptr</a></span>,<span class="id"><a href="Cop_fp_local.html#cmp_ptr_fp">cmp_ptr_fp</a></span>,<span class="id"><a href="Values.html#Vptrofs">Vptrofs</a></span> <span class="kwd">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">vb</span>;<span class="tactic">try</span> <span class="tactic">discriminate</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:?;<span class="tactic">try</span> <span class="tactic">discriminate</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#cmpu_bool_cmp_ptr_fp_correct">cmpu_bool_cmp_ptr_fp_correct</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_ptrofs_of_int_correct">make_ptrofs_of_int_correct</a></span> <span class="kwd">with</span>(<span class="id">si</span>:=<span class="id">si</span>) <span class="kwd">in</span> <span class="id">EV2</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;* <span class="tactic">unfold</span> <span class="id"><a href="Cop.html#cmp_ptr">cmp_ptr</a></span>, <span class="id"><a href="Cop_fp_local.html#cmp_ptr_fp">cmp_ptr_fp</a></span>, <span class="id"><a href="Values.html#Vptrofs">Vptrofs</a></span> <span class="kwd">in</span> *;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">va</span>;<span class="tactic">try</span> <span class="tactic">discriminate</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:?;<span class="tactic">try</span> <span class="tactic">discriminate</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#cmpu_bool_cmp_ptr_fp_correct">cmpu_bool_cmp_ptr_fp_correct</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_ptrofs_of_int_correct">make_ptrofs_of_int_correct</a></span> <span class="kwd">with</span>(<span class="id">si</span>:=<span class="id">si</span>) <span class="kwd">in</span> <span class="id">EV1</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;* <span class="tactic">destruct</span> <span class="id">vb</span> ;<span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:?;<span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_ptrofs_of_int64_correct">make_ptrofs_of_int64_correct</a></span> <span class="kwd">in</span> <span class="id">EV2</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heqb0</span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">bexpr</span>. <span class="tactic">rewrite</span> <span class="id">Heqb0</span>. <span class="tactic">simpl</span>. <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="ValFP.html#cmpu_bool_fp_cmpu_bool_fp_total">ValFP.cmpu_bool_fp_cmpu_bool_fp_total</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;* <span class="tactic">destruct</span> <span class="id">va</span>;<span class="id">inv</span> <span class="id">SEM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:?;<span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_ptrofs_of_int64_correct">make_ptrofs_of_int64_correct</a></span> <span class="kwd">in</span> <span class="id">EV1</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heqb0</span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">bexpr</span>. <span class="tactic">rewrite</span> <span class="id">Heqb0</span>. <span class="tactic">simpl</span>. <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="ValFP.html#cmpu_bool_fp_cmpu_bool_fp_total">ValFP.cmpu_bool_fp_cmpu_bool_fp_total</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;* <span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_binarith_fp_correct">make_binarith_fp_correct</a></span>;<span class="tactic">eauto</span>;<span class="tactic">intros</span>;<span class="tactic">auto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="transl_unop_correct">transl_unop_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">op</span> <span class="id">a</span> <span class="id">tya</span> <span class="id">c</span> <span class="id">va</span> <span class="id">v</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id">transl_unop</span> <span class="id"><a href="cshmgen_proof.html#op">op</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#tya">tya</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#c">c</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Cop.html#sem_unary_operation">sem_unary_operation</a></span> <span class="id"><a href="cshmgen_proof.html#op">op</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> <span class="id"><a href="cshmgen_proof.html#tya">tya</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#c">c</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7991')">Proof.</div>
<div class="proofscript" id="proof7991">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">op</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_notbool_correct">make_notbool_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_notint_correct">make_notint_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_neg_correct">make_neg_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_absfloat_correct">make_absfloat_correct</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="transl_unop_fp_correct">transl_unop_fp_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">op</span> <span class="id">a</span> <span class="id">tya</span> <span class="id">c</span> <span class="id">va</span> <span class="id">e</span> <span class="id">le</span> <span class="id">v</span> <span class="id">m</span> <span class="id">fp</span> <span class="id">fp</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">transl_unop</span> <span class="id"><a href="cshmgen_proof.html#op">op</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#tya">tya</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#c">c</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop.html#sem_unary_operation">sem_unary_operation</a></span> <span class="id"><a href="cshmgen_proof.html#op">op</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> <span class="id"><a href="cshmgen_proof.html#tya">tya</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Cop_fp_local.html#sem_unary_operation_fp">sem_unary_operation_fp</a></span> <span class="id"><a href="cshmgen_proof.html#op">op</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> <span class="id"><a href="cshmgen_proof.html#tya">tya</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">fp</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#c">c</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span> <span class="id">fp</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7992')">Proof.</div>
<div class="proofscript" id="proof7992">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">op</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; [<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_notbool_fp_correct">make_notbool_fp_correct</a></span>|<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_notint_fp_correct">make_notint_fp_correct</a></span>|<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_neg_fp_correct">make_neg_fp_correct</a></span>|<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_absfloat_fp_correct">make_absfloat_fp_correct</a></span>]; <span class="tactic">eauto</span>;<span class="id">inv_eq</span>;<span class="id">empfp</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="transl_binop_correct">transl_binop_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">op</span> <span class="id">a</span> <span class="id">tya</span> <span class="id">b</span> <span class="id">tyb</span> <span class="id">c</span> <span class="id">va</span> <span class="id">vb</span> <span class="id">v</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id">transl_binop</span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.cunit">cunit</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>) <span class="id"><a href="cshmgen_proof.html#op">op</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#tya">tya</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> <span class="id"><a href="cshmgen_proof.html#tyb">tyb</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#c">c</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Cop.html#sem_binary_operation">sem_binary_operation</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.cunit">cunit</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>) <span class="id"><a href="cshmgen_proof.html#op">op</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> <span class="id"><a href="cshmgen_proof.html#tya">tya</a></span> <span class="id"><a href="cshmgen_proof.html#vb">vb</a></span> <span class="id"><a href="cshmgen_proof.html#tyb">tyb</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> <span class="id"><a href="cshmgen_proof.html#vb">vb</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#c">c</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7993')">Proof.</div>
<div class="proofscript" id="proof7993">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">op</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_add_correct">make_add_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_sub_correct">make_sub_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_mul_correct">make_mul_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_div_correct">make_div_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_mod_correct">make_mod_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_and_correct">make_and_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_or_correct">make_or_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_xor_correct">make_xor_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_shl_correct">make_shl_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_shr_correct">make_shr_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_cmp_correct">make_cmp_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_cmp_correct">make_cmp_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_cmp_correct">make_cmp_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_cmp_correct">make_cmp_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_cmp_correct">make_cmp_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_cmp_correct">make_cmp_correct</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transl_binop_fp_correct">transl_binop_fp_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">op</span> <span class="id">a</span> <span class="id">tya</span> <span class="id">b</span> <span class="id">tyb</span> <span class="id">c</span> <span class="id">va</span> <span class="id">vb</span> <span class="id">v</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">fpa</span> <span class="id">fpb</span> <span class="id">fpc</span>,<br/>
&nbsp;&nbsp;<span class="id">transl_binop</span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.cunit">cunit</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>) <span class="id"><a href="cshmgen_proof.html#op">op</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#tya">tya</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> <span class="id"><a href="cshmgen_proof.html#tyb">tyb</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#c">c</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Cop.html#sem_binary_operation">sem_binary_operation</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.cunit">cunit</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>) <span class="id"><a href="cshmgen_proof.html#op">op</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> <span class="id"><a href="cshmgen_proof.html#tya">tya</a></span> <span class="id"><a href="cshmgen_proof.html#vb">vb</a></span> <span class="id"><a href="cshmgen_proof.html#tyb">tyb</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Cop_fp_local.html#sem_binary_operation_fp">sem_binary_operation_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.cunit">cunit</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>) <span class="id"><a href="cshmgen_proof.html#op">op</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> <span class="id"><a href="cshmgen_proof.html#tya">tya</a></span> <span class="id"><a href="cshmgen_proof.html#vb">vb</a></span> <span class="id"><a href="cshmgen_proof.html#tyb">tyb</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#fpc">fpc</a></span>-&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#va">va</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#fpa">fpa</a></span>-&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> <span class="id"><a href="cshmgen_proof.html#vb">vb</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> <span class="id"><a href="cshmgen_proof.html#fpb">fpb</a></span>-&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#c">c</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span>-&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#c">c</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="cshmgen_proof.html#fpa">fpa</a></span> <span class="id"><a href="cshmgen_proof.html#fpb">fpb</a></span>) <span class="id"><a href="cshmgen_proof.html#fpc">fpc</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7994')">Proof.</div>
<div class="proofscript" id="proof7994">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">op</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *;[<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_add_fp_correct">make_add_fp_correct</a></span>|<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_sub_fp_correct">make_sub_fp_correct</a></span>|<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_mul_fp_correct">make_mul_fp_correct</a></span>|<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_div_fp_correct">make_div_fp_correct</a></span>|<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_mod_fp_correct">make_mod_fp_correct</a></span>|<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_and_fp_correct">make_and_fp_correct</a></span>|<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_or_fp_correct">make_or_fp_correct</a></span>|<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_xor_fp_correct">make_xor_fp_correct</a></span>| | | | | | | |];<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;1,2:<span class="tactic">unfold</span> <span class="id">make_shl</span>,<span class="id">make_shr</span> <span class="kwd">in</span> <span class="id">H</span>;<span class="id">inv_eq</span>;<span class="tactic">repeat</span> <span class="id">bexpr</span>;<span class="id">empfp</span>.<br/>
&nbsp;&nbsp;<span class="id">all</span>: <span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_cmp_fp_correct">make_cmp_fp_correct</a></span>;<span class="tactic">eauto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="make_load_correct">make_load_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">addr</span> <span class="id">ty</span> <span class="id">code</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">v</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id">make_load</span> <span class="id"><a href="cshmgen_proof.html#addr">addr</a></span> <span class="id"><a href="cshmgen_proof.html#ty">ty</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#code">code</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#addr">addr</a></span> (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> <span class="id"><a href="cshmgen_proof.html#ofs">ofs</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Clight.html#deref_loc">deref_loc</a></span> <span class="id"><a href="cshmgen_proof.html#ty">ty</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> <span class="id"><a href="cshmgen_proof.html#ofs">ofs</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#code">code</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7995')">Proof.</div>
<div class="proofscript" id="proof7995">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">make_load</span>; <span class="tactic">intros</span> <span class="id">until</span> <span class="id">m</span>; <span class="tactic">intros</span> <span class="id">MKLOAD</span> <span class="id">EVEXP</span> <span class="id">DEREF</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">DEREF</span>.<br/>
&nbsp;scalar&nbsp;*)</span>&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">MKLOAD</span>. <span class="id">inv</span> <span class="id">MKLOAD</span>.  <span class="tactic">apply</span> <span class="id"><a href="Csharpminor.html#eval_Eload">Csharpminor.eval_Eload</a></span> <span class="kwd">with</span> (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b</span> <span class="id">ofs</span>); <span class="tactic">auto</span>.<br/>
&nbsp;by&nbsp;reference&nbsp;*)</span>&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">MKLOAD</span>. <span class="id">inv</span> <span class="id">MKLOAD</span>. <span class="tactic">auto</span>.<br/>
&nbsp;by&nbsp;copy&nbsp;*)</span>&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">MKLOAD</span>. <span class="id">inv</span> <span class="id">MKLOAD</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_load_fp_correct">make_load_fp_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">addr</span> <span class="id">ty</span> <span class="id">code</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">v</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">fpa</span> <span class="id">fpb</span>,<br/>
&nbsp;&nbsp;<span class="id">make_load</span> <span class="id"><a href="cshmgen_proof.html#addr">addr</a></span> <span class="id"><a href="cshmgen_proof.html#ty">ty</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#code">code</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#addr">addr</a></span> (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> <span class="id"><a href="cshmgen_proof.html#ofs">ofs</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#addr">addr</a></span> <span class="id"><a href="cshmgen_proof.html#fpa">fpa</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Clight.html#deref_loc">deref_loc</a></span> <span class="id"><a href="cshmgen_proof.html#ty">ty</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> <span class="id"><a href="cshmgen_proof.html#ofs">ofs</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Clight_local.html#deref_loc_fp">deref_loc_fp</a></span> <span class="id"><a href="cshmgen_proof.html#ty">ty</a></span>  <span class="id"><a href="cshmgen_proof.html#b">b</a></span> <span class="id"><a href="cshmgen_proof.html#ofs">ofs</a></span> <span class="id"><a href="cshmgen_proof.html#fpb">fpb</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#code">code</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="cshmgen_proof.html#fpa">fpa</a></span> <span class="id"><a href="cshmgen_proof.html#fpb">fpb</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7996')">Proof.</div>
<div class="proofscript" id="proof7996">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">make_load</span>;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">fpb</span>;<span class="tactic">intros</span> <span class="id">MKLOAD</span> <span class="id">EV</span> <span class="id">EVFP</span> <span class="id">DEREF</span> <span class="id">DEREFFP</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">DEREF</span>;<span class="id">inv</span> <span class="id">DEREFFP</span>.<br/>
&nbsp;&nbsp;<span class="id">all</span>: <span class="tactic">try</span> <span class="tactic">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H1</span>;<span class="tactic">try</span> <span class="id">inv</span> <span class="id">H1</span>;<span class="tactic">try</span> <span class="tactic">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H0</span>;<span class="tactic">try</span> <span class="id">inv</span> <span class="id">H0</span>;<span class="tactic">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">MKLOAD</span>;<span class="id">inv</span> <span class="id">MKLOAD</span>;<span class="id">empfp</span>;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="make_store_correct">make_store_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">addr</span> <span class="id">ty</span> <span class="id">rhs</span> <span class="id">code</span> <span class="id">e</span> <span class="id">le</span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">v</span> <span class="id">m</span>' <span class="id">f</span> <span class="id">k</span> <span class="id">fp1</span> <span class="id">fp2</span> <span class="id">fp3</span>,<br/>
&nbsp;&nbsp;<span class="id">make_store</span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.cunit">cunit</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>) <span class="id"><a href="cshmgen_proof.html#addr">addr</a></span> <span class="id"><a href="cshmgen_proof.html#ty">ty</a></span> <span class="id"><a href="cshmgen_proof.html#rhs">rhs</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#code">code</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#addr">addr</a></span> (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> <span class="id"><a href="cshmgen_proof.html#ofs">ofs</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#rhs">rhs</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#addr">addr</a></span> <span class="id"><a href="cshmgen_proof.html#fp1">fp1</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#rhs">rhs</a></span> <span class="id"><a href="cshmgen_proof.html#fp2">fp2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Clight.html#assign_loc">assign_loc</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.cunit">cunit</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>) <span class="id"><a href="cshmgen_proof.html#ty">ty</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> <span class="id"><a href="cshmgen_proof.html#ofs">ofs</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Clight_local.html#assign_loc_fp">assign_loc_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.cunit">cunit</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>) <span class="id"><a href="cshmgen_proof.html#ty">ty</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> <span class="id"><a href="cshmgen_proof.html#ofs">ofs</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> <span class="id"><a href="cshmgen_proof.html#fp3">fp3</a></span>-&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#step">step</a></span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS.ge">ge</a></span> (<span class="id"><a href="Csharpminor_local.html#Core_State">Core_State</a></span> <span class="id"><a href="cshmgen_proof.html#f">f</a></span> <span class="id"><a href="cshmgen_proof.html#code">code</a></span> <span class="id"><a href="cshmgen_proof.html#k">k</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span>) <span class="id"><a href="cshmgen_proof.html#m">m</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="cshmgen_proof.html#fp1">fp1</a></span> <span class="id"><a href="cshmgen_proof.html#fp2">fp2</a></span>) <span class="id"><a href="cshmgen_proof.html#fp3">fp3</a></span>) (<span class="id"><a href="Csharpminor_local.html#Core_State">Core_State</a></span> <span class="id"><a href="cshmgen_proof.html#f">f</a></span> <span class="id"><a href="Csharpminor.html#Sskip">Sskip</a></span> <span class="id"><a href="cshmgen_proof.html#k">k</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> ) <span class="id">m</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7997')">Proof.</div>
<div class="proofscript" id="proof7997">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">make_store</span>. <span class="tactic">intros</span> <span class="id">until</span> <span class="id">fp3</span>; <span class="tactic">intros</span> <span class="id">MKSTORE</span> <span class="id">EV1</span> <span class="id">EV2</span> <span class="id">FP1</span> <span class="id">FP2</span> <span class="id">ASSIGN</span> <span class="id">FP3</span>.<br/>
&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">ASSIGN</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">FP3</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H</span>;<span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;nonvolatile&nbsp;scalar&nbsp;*)</span>&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">MKSTORE</span>; <span class="id">inv</span> <span class="id">MKSTORE</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<span class="kwd">End</span> <span class="id"><a href="cshmgen_proof.html#CONSTRUCTORS">CONSTRUCTORS</a></span>.<br/>
<br/>
<h1> Basic preservation invariants </h1>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="CORRECTNESS">CORRECTNESS</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CORRECTNESS.prog">prog</a></span>: <span class="id"><a href="ClightLang.html#clight_comp_unit">clight_comp_unit</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CORRECTNESS.tprog">tprog</a></span>: <span class="id"><a href="Csharpminor_local.html#comp_unit">Csharpminor_local.comp_unit</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CORRECTNESS.ge">ge</a></span> : <span class="id"><a href="Clight.html#genv">Clight.genv</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CORRECTNESS.tge">tge</a></span> : <span class="id"><a href="Csharpminor.html#genv">Csharpminor.genv</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CORRECTNESS.pge">pge</a></span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="Clight.html#fundef">Clight.fundef</a></span> <span class="id"><a href="Ctypes.html#type">type</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="CORRECTNESS.SGEINIT">SGEINIT</a></span>: <span class="id"><a href="Clight_local.html#init_genv">Clight_local.init_genv</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.prog">prog</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.pge">pge</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.ge">ge</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="CORRECTNESS.TGEINIT">TGEINIT</a></span>: <span class="id"><a href="CUAST.html#globalenv_generic">globalenv_generic</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.tprog">tprog</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.tge">tge</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="CORRECTNESS.TRANSL">TRANSL</a></span>:  <span class="id"><a href="cshmgen_proof.html#match_cu">match_cu</a></span>  <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.prog">prog</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.tprog">tprog</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="CORRECTNESS.S_EQ">S_EQ</a></span>: <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.ge">ge</a></span>.(<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span>) = <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.tge">tge</a></span>.(<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span>).<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ge_match">ge_match</a></span>: <span class="id"><a href="LDSim_local.html#ge_match_strict">ge_match_strict</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.tge">tge</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7998')">Proof.</div>
<div class="proofscript" id="proof7998">
 <span class="tactic">eapply</span> <span class="id"><a href="CUAST.html#match_cu_ge_match_strict">match_cu_ge_match_strict</a></span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.SGEINIT">SGEINIT</a></span>;<span class="tactic">auto</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="genv_match">genv_match</a></span>: <span class="id"><a href="Globalenvs.html#Genv.match_genvs">Genv.match_genvs</a></span> (<span class="id"><a href="CUAST.html#match_globdef">match_globdef</a></span> (<span class="kwd">fun</span> <span class="id">f</span> <span class="id">tf</span> =&gt; <span class="id"><a href="cshmgen_proof.html#match_fundef">match_fundef</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.prog">prog</a></span> <span class="id"><a href="cshmgen_proof.html#f">f</a></span> <span class="id"><a href="cshmgen_proof.html#tf">tf</a></span>) (<span class="kwd">fun</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span>)) <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.tge">tge</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7999')">Proof.</div>
<div class="proofscript" id="proof7999">
 <span class="tactic">eapply</span> <span class="id"><a href="CUAST.html#match_cu_match_genv">match_cu_match_genv</a></span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.SGEINIT">SGEINIT</a></span>;<span class="tactic">auto</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="symbols_preserved">symbols_preserved</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">s</span>: <span class="id"><a href="AST.html#ident">ident</a></span>), <span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.tge">tge</a></span> <span class="id"><a href="cshmgen_proof.html#s">s</a></span> = <span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#s">s</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8000')">Proof.</div>
<div class="proofscript" id="proof8000">
 <span class="tactic">destruct</span> <span class="id"><a href="cshmgen_proof.html#genv_match">genv_match</a></span>. <span class="tactic">auto</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="senv_preserved">senv_preserved</a></span>:<br/>
&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Senv.equiv">Senv.equiv</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.tge">tge</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8001')">Proof.</div>
<div class="proofscript" id="proof8001">
 <span class="tactic">eapply</span> <span class="id"><a href="CUAST.html#match_cu_senv_preserved">match_cu_senv_preserved</a></span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.SGEINIT">SGEINIT</a></span>;<span class="tactic">auto</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="function_ptr_translated">function_ptr_translated</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">b</span>: <span class="id"><a href="Values.html#block">block</a></span>) (<span class="id">f</span>: <span class="id"><a href="Clight.html#fundef">Clight.fundef</a></span>),<br/>
&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#f">f</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">tf</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.tge">tge</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#tf">tf</a></span> /\ <span class="id"><a href="cshmgen_proof.html#match_fundef">match_fundef</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.prog">prog</a></span> <span class="id"><a href="cshmgen_proof.html#f">f</a></span> <span class="id"><a href="cshmgen_proof.html#tf">tf</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8002')">Proof.</div>
<div class="proofscript" id="proof8002">
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="cshmgen_proof.html#genv_match">genv_match</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Clight.html#fundef">Clight.fundef</a></span>, <span class="id"><a href="Csharpminor.html#fundef">fundef</a></span> <span class="kwd">in</span> *. <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span>, <span class="id"><a href="Globalenvs.html#Genv.find_def">Genv.find_def</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">mge_defs</span> <span class="id">b</span>). <span class="id">inv</span> <span class="id">mge_defs</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H0</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> <span class="id">x</span>; <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H2</span>. <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="functions_translated">functions_translated</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">v</span> <span class="id">v</span>' <span class="id">f</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#f">f</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> <span class="id">v</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">tf</span>, <span class="id"><a href="Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.tge">tge</a></span> <span class="id">v</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#tf">tf</a></span> /\ <span class="id"><a href="cshmgen_proof.html#match_fundef">match_fundef</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.prog">prog</a></span> <span class="id"><a href="cshmgen_proof.html#f">f</a></span> <span class="id"><a href="cshmgen_proof.html#tf">tf</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8003')">Proof.</div>
<div class="proofscript" id="proof8003">
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Integers.html#Ptrofs.eq_dec">Ptrofs.eq_dec</a></span>; [|<span class="tactic">discriminate</span>]. <br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="cshmgen_proof.html#function_ptr_translated">function_ptr_translated</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<h1> Matching between environments </h1>
<br/>
<div class="doc">In this section, we define a matching relation between
  a Clight local environment and a Csharpminor local environment. </div>
<br/>
<span class="kwd">Record</span> <span class="id"><a name="match_env">match_env</a></span> (<span class="id">e</span>: <span class="id"><a href="Clight.html#env">Clight.env</a></span>) (<span class="id">te</span>: <span class="id"><a href="Csharpminor.html#env">Csharpminor.env</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a name="mk_match_env">mk_match_env</a></span> {<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="me_local">me_local</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">id</span> <span class="id">b</span> <span class="id">ty</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#e">e</a></span>!<span class="id"><a href="cshmgen_proof.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="cshmgen_proof.html#b">b</a></span>, <span class="id"><a href="cshmgen_proof.html#ty">ty</a></span>) -&gt; <span class="id"><a href="cshmgen_proof.html#te">te</a></span>!<span class="id"><a href="cshmgen_proof.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="cshmgen_proof.html#b">b</a></span>, <span class="id"><a href="Ctypes.html#sizeof">Ctypes.sizeof</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#ty">ty</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="me_local_inv">me_local_inv</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">id</span> <span class="id">b</span> <span class="id">sz</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#te">te</a></span>!<span class="id"><a href="cshmgen_proof.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="cshmgen_proof.html#b">b</a></span>, <span class="id"><a href="cshmgen_proof.html#sz">sz</a></span>) -&gt; <span class="id">exists</span> <span class="id">ty</span>, <span class="id"><a href="cshmgen_proof.html#e">e</a></span>!<span class="id"><a href="cshmgen_proof.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span>(<span class="id"><a href="cshmgen_proof.html#b">b</a></span>, <span class="id"><a href="cshmgen_proof.html#ty">ty</a></span>)<br/>
&nbsp;&nbsp;}.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="match_env_globals">match_env_globals</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">e</span> <span class="id">te</span> <span class="id">id</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#match_env">match_env</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#te">te</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#e">e</a></span>!<span class="id"><a href="cshmgen_proof.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#te">te</a></span>!<span class="id"><a href="cshmgen_proof.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8004')">Proof.</div>
<div class="proofscript" id="proof8004">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id">te</span>!<span class="id">id</span>) <span class="kwd">as</span> [[<span class="id">b</span> <span class="id">sz</span>] | ] <span class="id">eqn</span>:?; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="cshmgen_proof.html#me_local_inv">me_local_inv</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ty</span> <span class="id">EQ</span>]. <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="match_env_same_blocks">match_env_same_blocks</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">e</span> <span class="id">te</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#match_env">match_env</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#te">te</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#blocks_of_env">blocks_of_env</a></span> <span class="id"><a href="cshmgen_proof.html#te">te</a></span> = <span class="id"><a href="Clight.html#blocks_of_env">Clight.blocks_of_env</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8005')">Proof.</div>
<div class="proofscript" id="proof8005">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">R</span> := <span class="kwd">fun</span> (<span class="id">x</span>: (<span class="id"><a href="Values.html#block">block</a></span> * <span class="id"><a href="Ctypes.html#type">type</a></span>)) (<span class="id">y</span>: (<span class="id"><a href="Values.html#block">block</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span>)) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="cshmgen_proof.html#x">x</a></span>, <span class="id"><a href="cshmgen_proof.html#y">y</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| (<span class="id">b1</span>, <span class="id">ty</span>), (<span class="id">b2</span>, <span class="id">sz</span>) =&gt; <span class="id">b2</span> = <span class="id">b1</span> /\ <span class="id">sz</span> = <span class="id"><a href="Ctypes.html#sizeof">Ctypes.sizeof</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.ge">ge</a></span> <span class="id">ty</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Coqlib.html#list_forall2">list_forall2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">i_x</span> <span class="id">i_y</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="cshmgen_proof.html#i_x">i_x</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="cshmgen_proof.html#i_y">i_y</a></span> /\ <span class="id">R</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="cshmgen_proof.html#i_x">i_x</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="cshmgen_proof.html#i_y">i_y</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Maps.html#PTree.elements">PTree.elements</a></span> <span class="id">e</span>) (<span class="id"><a href="Maps.html#PTree.elements">PTree.elements</a></span> <span class="id">te</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Maps.html#PTree.elements_canonical_order">PTree.elements_canonical_order</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">id</span> [<span class="id">b</span> <span class="id">ty</span>] <span class="id">GET</span>. <span class="id">exists</span> (<span class="id">b</span>, <span class="id"><a href="Ctypes.html#sizeof">Ctypes.sizeof</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.ge">ge</a></span> <span class="id">ty</span>); <span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#me_local">me_local</a></span>; <span class="tactic">eauto</span>. <span class="tactic">red</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">id</span> [<span class="id">b</span> <span class="id">sz</span>] <span class="id">GET</span>. <span class="id">exploit</span> <span class="id"><a href="cshmgen_proof.html#me_local_inv">me_local_inv</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">ty</span> <span class="id">EQ</span>].<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="cshmgen_proof.html#me_local">me_local</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">EQ1</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id">b</span>, <span class="id">ty</span>); <span class="tactic">split</span>. <span class="tactic">auto</span>. <span class="tactic">red</span>; <span class="tactic">split</span>; <span class="tactic">congruence</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Csharpminor.html#blocks_of_env">blocks_of_env</a></span>, <span class="id"><a href="Clight.html#blocks_of_env">Clight.blocks_of_env</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id">H0</span>. <span class="tactic">induction</span> 1. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">f_equal</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Csharpminor.html#block_of_binding">block_of_binding</a></span>, <span class="id"><a href="Clight.html#block_of_binding">Clight.block_of_binding</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a1</span> <span class="kwd">as</span> [<span class="id">id1</span> [<span class="id">blk1</span> <span class="id">ty1</span>]]. <span class="tactic">destruct</span> <span class="id">b1</span> <span class="kwd">as</span> [<span class="id">id2</span> [<span class="id">blk2</span> <span class="id">sz2</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">destruct</span> <span class="id">H1</span> <span class="kwd">as</span> [<span class="id">A</span> [<span class="id">B</span> <span class="id">C</span>]]. <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="match_env_free_blocks">match_env_free_blocks</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">e</span> <span class="id">te</span> <span class="id">m</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#match_env">match_env</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#te">te</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.free_list">Mem.free_list</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> (<span class="id"><a href="Clight.html#blocks_of_env">Clight.blocks_of_env</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.free_list">Mem.free_list</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> (<span class="id"><a href="Csharpminor.html#blocks_of_env">blocks_of_env</a></span> <span class="id"><a href="cshmgen_proof.html#te">te</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8006')">Proof.</div>
<div class="proofscript" id="proof8006">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> (<span class="id"><a href="cshmgen_proof.html#match_env_same_blocks">match_env_same_blocks</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>). <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="match_env_empty">match_env_empty</a></span>:<br/>
&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#match_env">match_env</a></span> <span class="id"><a href="Clight.html#empty_env">Clight.empty_env</a></span> <span class="id"><a href="Csharpminor.html#empty_env">Csharpminor.empty_env</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8007')">Proof.</div>
<div class="proofscript" id="proof8007">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Clight.html#empty_env">Clight.empty_env</a></span>, <span class="id"><a href="Csharpminor.html#empty_env">Csharpminor.empty_env</a></span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">ty</span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Maps.html#PTree.gempty">PTree.gempty</a></span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">sz</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Maps.html#PTree.gempty">PTree.gempty</a></span>. <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<div class="doc">The following lemmas establish the <span class="bracket"><span class="id">match_env</span></span> invariant at
  the beginning of a function invocation, after allocation of
  local variables and initialization of the parameters. </div>
<span class="kwd">Lemma</span> <span class="id">transl_sizeof</span>':<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">prog</span>:<span class="id"><a href="ClightLang.html#clight_comp_unit">clight_comp_unit</a></span>) <span class="id">pge</span> (<span class="id">ge</span>:<span class="id"><a href="Clight.html#genv">Clight.genv</a></span>) <span class="id">ty</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Clight_local.html#init_genv">Clight_local.init_genv</a></span> <span class="id"><a href="cshmgen_proof.html#prog">prog</a></span> <span class="id"><a href="cshmgen_proof.html#pge">pge</a></span> <span class="id"><a href="cshmgen_proof.html#ge">ge</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Ctypes.html#sizeof">Ctypes.sizeof</a></span> <span class="id"><a href="cshmgen_proof.html#ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#ty">ty</a></span> = <span class="id"><a href="Ctypes.html#sizeof">Ctypes.sizeof</a></span> (<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span> <span class="id"><a href="cshmgen_proof.html#prog">prog</a></span>) <span class="id"><a href="cshmgen_proof.html#ty">ty</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8008')">Proof.</div>
<div class="proofscript" id="proof8008">
 <span class="tactic">clear</span>;<span class="tactic">inversion</span> 1;<span class="tactic">subst</span>;<span class="tactic">simpl</span>;<span class="tactic">auto</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="match_env_alloc_variables">match_env_alloc_variables</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">e1</span> <span class="id">m1</span> <span class="id">vars</span> <span class="id">e2</span> <span class="id">m2</span>, <span class="id"><a href="Clight.html#alloc_variables">Clight.alloc_variables</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e1">e1</a></span> <span class="id"><a href="cshmgen_proof.html#m1">m1</a></span> <span class="id"><a href="cshmgen_proof.html#vars">vars</a></span> <span class="id"><a href="cshmgen_proof.html#e2">e2</a></span> <span class="id"><a href="cshmgen_proof.html#m2">m2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">tvars</span> <span class="id">te1</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Errors.html#mmap">mmap</a></span> (<span class="id">transl_var</span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.prog">prog</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>)) <span class="id"><a href="cshmgen_proof.html#vars">vars</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#tvars">tvars</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#match_env">match_env</a></span> <span class="id"><a href="cshmgen_proof.html#e1">e1</a></span> <span class="id"><a href="cshmgen_proof.html#te1">te1</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">te2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#alloc_variables">Csharpminor.alloc_variables</a></span> <span class="id"><a href="cshmgen_proof.html#te1">te1</a></span> <span class="id"><a href="cshmgen_proof.html#m1">m1</a></span> <span class="id"><a href="cshmgen_proof.html#tvars">tvars</a></span> <span class="id"><a href="cshmgen_proof.html#te2">te2</a></span> <span class="id"><a href="cshmgen_proof.html#m2">m2</a></span><br/>
&nbsp;&nbsp;/\ <span class="id"><a href="cshmgen_proof.html#match_env">match_env</a></span> <span class="id"><a href="cshmgen_proof.html#e2">e2</a></span> <span class="id"><a href="cshmgen_proof.html#te2">te2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8009')">Proof.</div>
<div class="proofscript" id="proof8009">
&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
- <span class="id">inv</span> <span class="id">H</span>. <span class="id">exists</span> <span class="id">te1</span>; <span class="tactic">split</span>. <span class="id">constructor</span>. <span class="tactic">auto</span>.<br/>
- <span class="id">monadInv</span> <span class="id">H1</span>. <span class="id">monadInv</span> <span class="id">EQ</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="cshmgen_proof.html#transl_sizeof">transl_sizeof</a></span>. <span class="id">eexact</span> <span class="id">EQ0</span>. <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">SZ</span>; <span class="tactic">rewrite</span> <span class="id">SZ</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">IHalloc_variables</span> <span class="id">x0</span> (<span class="id"><a href="Maps.html#PTree.set">PTree.set</a></span> <span class="id">id</span> (<span class="id">b1</span>, <span class="id"><a href="Ctypes.html#sizeof">Ctypes.sizeof</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.ge">ge</a></span> <span class="id">ty</span>) <span class="id">te1</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;me_local&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">ty0</span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Maps.html#PTree.gsspec">PTree.gsspec</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#peq">peq</a></span> <span class="id">id0</span> <span class="id">id</span>); <span class="tactic">intros</span>. <span class="tactic">congruence</span>. <span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#me_local">me_local</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;me_local_inv&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">sz</span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Maps.html#PTree.gsspec">PTree.gsspec</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#peq">peq</a></span> <span class="id">id0</span> <span class="id">id</span>); <span class="tactic">intros</span>. <span class="id">exists</span> <span class="id">ty</span>; <span class="tactic">congruence</span>. <span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#me_local_inv">me_local_inv</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">te2</span> [<span class="id">ALLOC</span> <span class="id">MENV</span>]].<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">te2</span>; <span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id">transl_sizeof</span>' <span class="kwd">in</span> *;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="match_env_alloc_variables_fp">match_env_alloc_variables_fp</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">vars</span> <span class="id">e1</span> <span class="id">m1</span> <span class="id">e2</span> <span class="id">m2</span>, <span class="id"><a href="Clight.html#alloc_variables">Clight.alloc_variables</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#e1">e1</a></span> <span class="id"><a href="cshmgen_proof.html#m1">m1</a></span> <span class="id"><a href="cshmgen_proof.html#vars">vars</a></span> <span class="id"><a href="cshmgen_proof.html#e2">e2</a></span> <span class="id"><a href="cshmgen_proof.html#m2">m2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp</span>,<span class="id"><a href="Clight_local.html#alloc_variables_fp">Clight_local.alloc_variables_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#m1">m1</a></span> <span class="id"><a href="cshmgen_proof.html#vars">vars</a></span> <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span>-&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">tvars</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Errors.html#mmap">mmap</a></span> (<span class="id">transl_var</span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.prog">prog</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>)) <span class="id"><a href="cshmgen_proof.html#vars">vars</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#tvars">tvars</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#alloc_variables_fp">Csharpminor_local.alloc_variables_fp</a></span> <span class="id"><a href="cshmgen_proof.html#m1">m1</a></span> <span class="id"><a href="cshmgen_proof.html#tvars">tvars</a></span> <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8010')">Proof.</div>
<div class="proofscript" id="proof8010">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">vars</span>;<span class="tactic">simpl</span>;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H1</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">EQ</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id">H6</span> <span class="kwd">in</span> <span class="id">H4</span>;<span class="id">inv</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHvars</span> <span class="kwd">in</span> <span class="id">H8</span>;<span class="tactic">eauto</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">EQ1</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.SGEINIT">SGEINIT</a></span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">sizeof</span> <span class="kwd">in</span> <span class="id">EQ0</span>. <span class="tactic">destruct</span> <span class="id"><a href="Ctypes.html#complete_type">complete_type</a></span>;<span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">EQ0</span>;<span class="tactic">clear</span> <span class="id">EQ0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 2;<span class="tactic">eauto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="create_undef_temps_match">create_undef_temps_match</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">temps</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#create_undef_temps">create_undef_temps</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="cshmgen_proof.html#temps">temps</a></span>) = <span class="id"><a href="Clight.html#create_undef_temps">Clight.create_undef_temps</a></span> <span class="id"><a href="cshmgen_proof.html#temps">temps</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8011')">Proof.</div>
<div class="proofscript" id="proof8011">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">temps</span>; <span class="tactic">simpl</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span> <span class="kwd">as</span> [<span class="id">id</span> <span class="id">ty</span>]. <span class="tactic">simpl</span>. <span class="id">decEq</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="bind_parameter_temps_match">bind_parameter_temps_match</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">vars</span> <span class="id">vals</span> <span class="id">le1</span> <span class="id">le2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Clight.html#bind_parameter_temps">Clight.bind_parameter_temps</a></span> <span class="id"><a href="cshmgen_proof.html#vars">vars</a></span> <span class="id"><a href="cshmgen_proof.html#vals">vals</a></span> <span class="id"><a href="cshmgen_proof.html#le1">le1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#le2">le2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#bind_parameters">bind_parameters</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="cshmgen_proof.html#vars">vars</a></span>) <span class="id"><a href="cshmgen_proof.html#vals">vals</a></span> <span class="id"><a href="cshmgen_proof.html#le1">le1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#le2">le2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8012')">Proof.</div>
<div class="proofscript" id="proof8012">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">vars</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">vals</span>; <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span> <span class="kwd">as</span> [<span class="id">id</span> <span class="id">ty</span>]. <span class="tactic">destruct</span> <span class="id">vals</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transl_vars_names">transl_vars_names</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ce</span> <span class="id">vars</span> <span class="id">tvars</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Errors.html#mmap">mmap</a></span> (<span class="id">transl_var</span> <span class="id"><a href="cshmgen_proof.html#ce">ce</a></span>) <span class="id"><a href="cshmgen_proof.html#vars">vars</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#tvars">tvars</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="cshmgen_proof.html#tvars">tvars</a></span> = <span class="id"><a href="Clight.html#var_names">var_names</a></span> <span class="id"><a href="cshmgen_proof.html#vars">vars</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8013')">Proof.</div>
<div class="proofscript" id="proof8013">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">exploit</span> <span class="id"><a href="Errors.html#mmap_inversion">mmap_inversion</a></span>; <span class="tactic">eauto</span>. <span class="tactic">generalize</span> <span class="id">vars</span> <span class="id">tvars</span>. <span class="tactic">induction</span> 1; <span class="tactic">simpl</span>.<br/>
- <span class="tactic">auto</span>.<br/>
- <span class="id">monadInv</span> <span class="id">H0</span>. <span class="tactic">simpl</span>; <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<h1> Proof of semantic preservation </h1>
<br/>
<h2> Semantic preservation for expressions </h2>
<br/>
<div class="doc">The proof of semantic preservation for the translation of expressions
  relies on simulation diagrams of the following form:
<pre>
         e, le, m, a ------------------- te, le, m, ta
            |                                |
            |                                |
            |                                |
            v                                v
         e, le, m, v ------------------- te, le, m, v</pre>
  Left: evaluation of r-value expression <span class="bracket"><span class="id">a</span></span> in Clight.
  Right: evaluation of its translation <span class="bracket"><span class="id">ta</span></span> in Csharpminor.
  Top (precondition): matching between environments <span class="bracket"><span class="id">e</span></span>, <span class="bracket"><span class="id">te</span></span>,
    plus well-typedness of expression <span class="bracket"><span class="id">a</span></span>.
  Bottom (postcondition): the result values <span class="bracket"><span class="id">v</span></span>
    are identical in both evaluations.
  We state these diagrams as the following properties, parameterized
  by the Clight evaluation. </div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="CORRECTNESS.EXPR">EXPR</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CORRECTNESS.EXPR.e">e</a></span>: <span class="id"><a href="Clight.html#env">Clight.env</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CORRECTNESS.EXPR.le">le</a></span>: <span class="id"><a href="Csharpminor.html#temp_env">temp_env</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CORRECTNESS.EXPR.m">m</a></span>: <span class="id"><a href="Memory.html#mem">mem</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CORRECTNESS.EXPR.te">te</a></span>: <span class="id"><a href="Csharpminor.html#env">Csharpminor.env</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="CORRECTNESS.EXPR.MENV">MENV</a></span>: <span class="id"><a href="cshmgen_proof.html#match_env">match_env</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.e">e</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.te">te</a></span>.<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transl_expr_lvalue_correct">transl_expr_lvalue_correct</a></span>:<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">a</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="Clight.html#eval_expr">Clight.eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.e">e</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.le">le</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ta</span> (<span class="id">TR</span>: <span class="id">transl_expr</span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.prog">prog</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>) <span class="id"><a href="cshmgen_proof.html#a">a</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#ta">ta</a></span>) ,<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">Csharpminor.eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.tge">tge</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.te">te</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.le">le</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.m">m</a></span> <span class="id"><a href="cshmgen_proof.html#ta">ta</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span>)<br/>
/\(<span class="kwd">forall</span> <span class="id">a</span> <span class="id">b</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="Clight.html#eval_lvalue">Clight.eval_lvalue</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.e">e</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.le">le</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> <span class="id"><a href="cshmgen_proof.html#ofs">ofs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ta</span> (<span class="id">TR</span>: <span class="id">transl_lvalue</span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.prog">prog</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>) <span class="id"><a href="cshmgen_proof.html#a">a</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#ta">ta</a></span>),<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">Csharpminor.eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.tge">tge</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.te">te</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.le">le</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.m">m</a></span> <span class="id"><a href="cshmgen_proof.html#ta">ta</a></span> (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> <span class="id"><a href="cshmgen_proof.html#ofs">ofs</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8014')">Proof.</div>
<div class="proofscript" id="proof8014">
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Clight.html#eval_expr_lvalue_ind">eval_expr_lvalue_ind</a></span>; <span class="tactic">intros</span>; <span class="tactic">try</span> (<span class="id">monadInv</span> <span class="id">TR</span>).<br/>
- <span class="comment">(*&nbsp;const&nbsp;int&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="cshmgen_proof.html#make_intconst_correct">make_intconst_correct</a></span>.<br/>
- <span class="comment">(*&nbsp;const&nbsp;float&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="cshmgen_proof.html#make_floatconst_correct">make_floatconst_correct</a></span>.<br/>
- <span class="comment">(*&nbsp;const&nbsp;single&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="cshmgen_proof.html#make_singleconst_correct">make_singleconst_correct</a></span>.<br/>
- <span class="comment">(*&nbsp;const&nbsp;long&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="cshmgen_proof.html#make_longconst_correct">make_longconst_correct</a></span>.<br/>
- <span class="comment">(*&nbsp;temp&nbsp;var&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">constructor</span>; <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;addrof&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">TR</span>. <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;unop&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#transl_unop_correct">transl_unop_correct</a></span>; <span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;binop&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#transl_binop_correct">transl_binop_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.SGEINIT">SGEINIT</a></span>;<span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;cast&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_cast_correct">make_cast_correct</a></span>; <span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;sizeof&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="cshmgen_proof.html#transl_sizeof">transl_sizeof</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>  <span class="id">EQ</span>).<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.SGEINIT">SGEINIT</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="cshmgen_proof.html#make_ptrofsconst_correct">make_ptrofsconst_correct</a></span>.<br/>
- <span class="comment">(*&nbsp;alignof&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="cshmgen_proof.html#transl_alignof">transl_alignof</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>  <span class="id">EQ</span>).<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.SGEINIT">SGEINIT</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="cshmgen_proof.html#make_ptrofsconst_correct">make_ptrofsconst_correct</a></span>.<br/>
- <span class="comment">(*&nbsp;rvalue&nbsp;out&nbsp;of&nbsp;lvalue&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="cshmgen_proof.html#transl_expr_lvalue">transl_expr_lvalue</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">tb</span> [<span class="id">TRLVAL</span> <span class="id">MKLOAD</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_load_correct">make_load_correct</a></span>; <span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;var&nbsp;local&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="cshmgen_proof.html#me_local">me_local</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.MENV">MENV</a></span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">EQ</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="tactic">eapply</span> <span class="id"><a href="Csharpminor.html#eval_var_addr_local">eval_var_addr_local</a></span>. <span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;var&nbsp;global&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="tactic">eapply</span> <span class="id"><a href="Csharpminor.html#eval_var_addr_global">eval_var_addr_global</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#match_env_globals">match_env_globals</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="cshmgen_proof.html#symbols_preserved">symbols_preserved</a></span>. <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;deref&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">TR</span>. <span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;field&nbsp;struct&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">make_field_access</span> <span class="kwd">in</span> <span class="id">EQ0</span>. <span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">EQ0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.prog">prog</a></span>)!<span class="id">id</span> <span class="kwd">as</span> [<span class="id">co</span>'|] <span class="id">eqn</span>:<span class="id">CO</span>; <span class="id">monadInv</span> <span class="id">EQ0</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.SGEINIT">SGEINIT</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id">CO</span> <span class="kwd">in</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H2</span>;<span class="tactic">clear</span> <span class="id">H2</span>;<span class="tactic">subst</span> <span class="id">co</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">EQ1</span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="tactic">inversion</span> <span class="id">H3</span>;<span class="tactic">clear</span> <span class="id">H3</span>;<span class="tactic">subst</span> <span class="id">x0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:<span class="id">SF</span>.<br/>
+ <span class="tactic">eapply</span> <span class="id"><a href="Csharpminor.html#eval_Ebinop">Csharpminor.eval_Ebinop</a></span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="cshmgen_proof.html#make_longconst_correct">make_longconst_correct</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">SF</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>. <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ptrofs</span>.<br/>
+ <span class="tactic">eapply</span> <span class="id"><a href="Csharpminor.html#eval_Ebinop">Csharpminor.eval_Ebinop</a></span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="cshmgen_proof.html#make_intconst_correct">make_intconst_correct</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">SF</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>. <span class="tactic">apply</span> <span class="tactic">f_equal</span>. <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">ptrofs</span>.<br/>
- <span class="comment">(*&nbsp;field&nbsp;union&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">make_field_access</span> <span class="kwd">in</span> <span class="id">EQ0</span>; <span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">EQ0</span>; <span class="id">monadInv</span> <span class="id">EQ0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transl_expr_correct">transl_expr_correct</a></span>:<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="Clight.html#eval_expr">Clight.eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.e">e</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.le">le</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ta</span>, <span class="id">transl_expr</span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.prog">prog</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>) <span class="id"><a href="cshmgen_proof.html#a">a</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#ta">ta</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">Csharpminor.eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.tge">tge</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.te">te</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.le">le</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.m">m</a></span> <span class="id"><a href="cshmgen_proof.html#ta">ta</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span>.<br/>
<span class="kwd">Proof</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> <span class="id"><a href="cshmgen_proof.html#transl_expr_lvalue_correct">transl_expr_lvalue_correct</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transl_lvalue_correct">transl_lvalue_correct</a></span>:<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">b</span> <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="Clight.html#eval_lvalue">Clight.eval_lvalue</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.e">e</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.le">le</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> <span class="id"><a href="cshmgen_proof.html#ofs">ofs</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ta</span>, <span class="id">transl_lvalue</span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.prog">prog</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>) <span class="id"><a href="cshmgen_proof.html#a">a</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#ta">ta</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">Csharpminor.eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.tge">tge</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.te">te</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.le">le</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.m">m</a></span> <span class="id"><a href="cshmgen_proof.html#ta">ta</a></span> (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> <span class="id"><a href="cshmgen_proof.html#ofs">ofs</a></span>).<br/>
<span class="kwd">Proof</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj2">proj2</a></span> <span class="id"><a href="cshmgen_proof.html#transl_expr_lvalue_correct">transl_expr_lvalue_correct</a></span>).<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transl_expr_lvalue_fp_correct">transl_expr_lvalue_fp_correct</a></span>:<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">a</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Clight_local.html#eval_expr_fp">Clight_local.eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.e">e</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.le">le</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">v</span> <span class="id">ta</span> (<span class="id">TR</span>: <span class="id">transl_expr</span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.prog">prog</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>) <span class="id"><a href="cshmgen_proof.html#a">a</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#ta">ta</a></span>)(<span class="id">EV</span>:<span class="id"><a href="Clight.html#eval_expr">Clight.eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.e">e</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.le">le</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span>) , <br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">Csharpminor_local.eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.tge">tge</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.te">te</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.le">le</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.m">m</a></span> <span class="id"><a href="cshmgen_proof.html#ta">ta</a></span> <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span>)<br/>
&nbsp;&nbsp;/\(<span class="kwd">forall</span> <span class="id">a</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Clight_local.html#eval_lvalue_fp">Clight_local.eval_lvalue_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.e">e</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.le">le</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">ta</span> (<span class="id">TR</span>: <span class="id">transl_lvalue</span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.prog">prog</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>) <span class="id"><a href="cshmgen_proof.html#a">a</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#ta">ta</a></span>)(<span class="id">EV</span>:<span class="id"><a href="Clight.html#eval_lvalue">Clight.eval_lvalue</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.e">e</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.le">le</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> <span class="id"><a href="cshmgen_proof.html#ofs">ofs</a></span>),<br/>
&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">Csharpminor_local.eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.tge">tge</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.te">te</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.le">le</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.m">m</a></span> <span class="id"><a href="cshmgen_proof.html#ta">ta</a></span> <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8015')">Proof.</div>
<div class="proofscript" id="proof8015">
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Clight_local.html#eval_expr_lvalue_fp_ind">eval_expr_lvalue_fp_ind</a></span>; <span class="tactic">intros</span>; <span class="tactic">try</span> <span class="id">monadInv</span> <span class="id">TR</span>.<br/>
&nbsp;&nbsp;<span class="id">all</span> : <span class="tactic">try</span> (<span class="id">econstructor</span>;<span class="tactic">eauto</span>;<span class="tactic">simpl</span>;<span class="tactic">eauto</span>;<span class="tactic">fail</span>);<span class="tactic">try</span>( <span class="tactic">simpl</span> <span class="kwd">in</span> *;<span class="tactic">eauto</span>;<span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;- <span class="comment">(*addrof*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">TR</span>;<span class="id">inv</span> <span class="id">EV</span>;[<span class="tactic">eapply</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">TR</span>;<span class="tactic">eauto</span>|<span class="id">inv</span> <span class="id">H1</span>].<br/>
&nbsp;&nbsp;- <span class="comment">(*uop*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">EQ</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#transl_expr_correct">transl_expr_correct</a></span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#transl_unop_correct">transl_unop_correct</a></span> <span class="kwd">in</span> <span class="id">EQ0</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#transl_unop_fp_correct">transl_unop_fp_correct</a></span> <span class="kwd">in</span> <span class="id">EQ0</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*bop*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">EQ</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#transl_expr_correct">transl_expr_correct</a></span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#transl_expr_correct">transl_expr_correct</a></span> <span class="kwd">in</span> <span class="id">H2</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H4</span> <span class="kwd">in</span> <span class="id">EQ1</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.SGEINIT">SGEINIT</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#transl_binop_correct">transl_binop_correct</a></span> <span class="kwd">in</span> <span class="id">EQ2</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#transl_binop_fp_correct">transl_binop_fp_correct</a></span> <span class="kwd">in</span> <span class="id">EQ2</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*cast*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H4</span>. <span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_cast_fp_correct">make_cast_fp_correct</a></span>;<span class="tactic">eauto</span>;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#transl_expr_correct">transl_expr_correct</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*deref*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span>;<span class="tactic">try</span>(<span class="id">inv</span> <span class="id">H</span>;<span class="tactic">fail</span>);<span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">unfold</span> <span class="id">make_load</span> <span class="kwd">in</span> <span class="id">TR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">destruct</span> <span class="id"><a href="Ctypes.html#access_mode">access_mode</a></span> <span class="id">eqn</span>:?;<span class="id">inv</span> <span class="id">TR</span>;<span class="id">inv</span> <span class="id">H3</span>;<span class="tactic">rewrite</span> <span class="id">Heqm0</span> <span class="kwd">in</span> <span class="id">H4</span>;<span class="id">inv</span> <span class="id">H4</span>; <span class="id">inv</span> <span class="id">H2</span>;<span class="tactic">rewrite</span> <span class="id">Heqm0</span> <span class="kwd">in</span> <span class="id">H3</span>;<span class="id">inv</span> <span class="id">H3</span>; <span class="tactic">eapply</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>; <span class="id">inv</span> <span class="id">H</span>;<span class="tactic">repeat</span> <span class="id">bexpr</span>;<span class="id">empfp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> ;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#me_local">me_local</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 2. <span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#match_env_globals">match_env_globals</a></span>;<span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="cshmgen_proof.html#symbols_preserved">symbols_preserved</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">monadInv</span> <span class="id">TR</span>; <span class="tactic">destruct</span> <span class="id"><a href="Ctypes.html#access_mode">access_mode</a></span> <span class="id">eqn</span>:?;<span class="id">inv</span> <span class="id">EQ0</span>;<span class="id">inv</span> <span class="id">H3</span>;<span class="tactic">rewrite</span> <span class="id">Heqm0</span> <span class="kwd">in</span> <span class="id">H4</span>;<span class="id">inv</span> <span class="id">H4</span>; <span class="id">inv</span> <span class="id">H2</span>;<span class="tactic">rewrite</span> <span class="id">Heqm0</span> <span class="kwd">in</span> <span class="id">H3</span>;<span class="id">inv</span> <span class="id">H3</span>; <span class="tactic">eapply</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>; <span class="id">inv</span> <span class="id">H</span>;<span class="tactic">repeat</span> <span class="id">bexpr</span>;<span class="id">empfp</span>. <span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#transl_expr_correct">transl_expr_correct</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">monadInv</span> <span class="id">TR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Errors.html#bind">bind</a></span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> <span class="id">EQ</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> <span class="id">EQ1</span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#transl_lvalue_correct">transl_lvalue_correct</a></span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> <span class="id">R0</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Focus</span> 2. <span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="Errors.html#bind">bind</a></span>. <span class="tactic">rewrite</span> <span class="id">EQ</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> <span class="id">R</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Ctypes.html#access_mode">access_mode</a></span> <span class="id">t</span>)<span class="id">eqn</span>:?;<span class="id">inv</span> <span class="id">EQ2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">inv</span> <span class="id">H3</span>;<span class="tactic">rewrite</span> <span class="id">Heqm0</span> <span class="kwd">in</span> <span class="id">H4</span>;<span class="id">inv</span> <span class="id">H4</span>;<span class="id">inv</span> <span class="id">H2</span>;<span class="tactic">rewrite</span> <span class="id">Heqm0</span> <span class="kwd">in</span> <span class="id">H3</span>; <span class="id">inv</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">EQ1</span> <span class="kwd">as</span> <span class="id">R2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">make_field_access</span> <span class="kwd">in</span> <span class="id">EQ1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Clight.html#typeof">typeof</a></span> <span class="id">a</span>) <span class="id">eqn</span>:?;<span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.prog">prog</a></span>)!<span class="id">i0</span> <span class="id">eqn</span>:?;<span class="id">inv</span> <span class="id">EQ1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:?;<span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Csharpminor_local.html#eval_Eload">eval_Eload</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">inv</span> <span class="id">H3</span>;<span class="tactic">rewrite</span> <span class="id">Heqm0</span> <span class="kwd">in</span> <span class="id">H4</span>;<span class="id">inv</span> <span class="id">H4</span>;<span class="id">inv</span> <span class="id">H2</span>;<span class="tactic">rewrite</span> <span class="id">Heqm0</span> <span class="kwd">in</span> <span class="id">H3</span>; <span class="id">inv</span> <span class="id">H3</span>;<span class="id">empfp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;* <span class="id">inv</span> <span class="id">H3</span>;<span class="tactic">rewrite</span> <span class="id">Heqm0</span> <span class="kwd">in</span> <span class="id">H4</span>;<span class="id">inv</span> <span class="id">H4</span>;<span class="id">inv</span> <span class="id">H2</span>;<span class="tactic">rewrite</span> <span class="id">Heqm0</span> <span class="kwd">in</span> <span class="id">H3</span>; <span class="id">inv</span> <span class="id">H3</span>;<span class="id">empfp</span>.<br/>
&nbsp;&nbsp;- <span class="comment">(*addrof*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">EV</span>. <span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#me_local">me_local</a></span> <span class="kwd">in</span> <span class="id">MENV</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#match_env_globals">match_env_globals</a></span> <span class="kwd">in</span> <span class="id">MENV</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span>&lt;- <span class="id"><a href="cshmgen_proof.html#symbols_preserved">symbols_preserved</a></span> <span class="kwd">in</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">econstructor</span> 2;<span class="tactic">eauto</span>. <br/>
&nbsp;&nbsp;- <span class="comment">(*field*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">EQ</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">make_field_access</span> <span class="kwd">in</span> <span class="id">EQ0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Clight.html#typeof">typeof</a></span> <span class="id">a</span>) <span class="id">eqn</span>:?;<span class="id">inv</span> <span class="id">EQ0</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.prog">prog</a></span>) ! <span class="id">i0</span> <span class="id">eqn</span>:?;<span class="id">inv</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">H5</span>. <span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="id">eqn</span>:?;<span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#transl_expr_correct">transl_expr_correct</a></span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">bexpr</span>;<span class="id">empfp</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transl_expr_fp_correct">transl_expr_fp_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Clight_local.html#eval_expr_fp">Clight_local.eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.e">e</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.le">le</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">v</span> <span class="id">ta</span> (<span class="id">TR</span>: <span class="id">transl_expr</span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.prog">prog</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>) <span class="id"><a href="cshmgen_proof.html#a">a</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#ta">ta</a></span>)(<span class="id">EV</span>:<span class="id"><a href="Clight.html#eval_expr">Clight.eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.e">e</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.le">le</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span>) , <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">Csharpminor_local.eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.tge">tge</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.te">te</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.le">le</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.m">m</a></span> <span class="id"><a href="cshmgen_proof.html#ta">ta</a></span> <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8016')">Proof.</div>
<div class="proofscript" id="proof8016">
 <span class="id">pose</span> <span class="id">proof</span>(<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj1">proj1</a></span> <span class="id"><a href="cshmgen_proof.html#transl_expr_lvalue_fp_correct">transl_expr_lvalue_fp_correct</a></span>);<span class="tactic">auto</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="transl_lvalue_fp_correct">transl_lvalue_fp_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Clight_local.html#eval_lvalue_fp">Clight_local.eval_lvalue_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.e">e</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.le">le</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id">ta</span> (<span class="id">TR</span>: <span class="id">transl_lvalue</span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.prog">prog</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>) <span class="id"><a href="cshmgen_proof.html#a">a</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#ta">ta</a></span>)(<span class="id">EV</span>:<span class="id"><a href="Clight.html#eval_lvalue">Clight.eval_lvalue</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.e">e</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.le">le</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> <span class="id"><a href="cshmgen_proof.html#ofs">ofs</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">Csharpminor_local.eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.tge">tge</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.te">te</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.le">le</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.m">m</a></span> <span class="id"><a href="cshmgen_proof.html#ta">ta</a></span> <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8017')">Proof.</div>
<div class="proofscript" id="proof8017">
 <span class="id">pose</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#proj2">proj2</a></span> <span class="id"><a href="cshmgen_proof.html#transl_expr_lvalue_fp_correct">transl_expr_lvalue_fp_correct</a></span>);<span class="tactic">auto</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_expr_det">eval_expr_det</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">p</span> <span class="id">e</span> <span class="id">m</span> <span class="id">a</span> <span class="id">v</span> <span class="id">v</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#p">p</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#p">p</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id">v</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#v">v</a></span> = <span class="id">v</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8018')">Proof.</div>
<div class="proofscript" id="proof8018">
&nbsp;&nbsp;<span class="tactic">clear</span>;<span class="tactic">induction</span> <span class="id">a</span>;<span class="tactic">intros</span>;<span class="tactic">auto</span>;  <span class="id">inv</span> <span class="id">H</span>;<span class="id">inv</span> <span class="id">H0</span>;<span class="id">inv_eq</span>;<span class="tactic">auto</span>;<span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>;<span class="id">inv</span> <span class="id">H2</span>;<span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHa</span> <span class="kwd">in</span> <span class="id">H3</span>;<span class="tactic">eauto</span>;<span class="tactic">congruence</span>. <br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHa1</span> <span class="kwd">in</span> <span class="id">H4</span>;<span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id">IHa2</span> <span class="kwd">in</span> <span class="id">H6</span>;<span class="tactic">eauto</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHa</span> <span class="kwd">in</span> <span class="id">H3</span>;<span class="tactic">eauto</span>. <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transl_exprlist_correct">transl_exprlist_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">al</span> <span class="id">tyl</span> <span class="id">vl</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Clight.html#eval_exprlist">Clight.eval_exprlist</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.e">e</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.le">le</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.m">m</a></span> <span class="id"><a href="cshmgen_proof.html#al">al</a></span> <span class="id"><a href="cshmgen_proof.html#tyl">tyl</a></span> <span class="id"><a href="cshmgen_proof.html#vl">vl</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">bl</span> (<span class="id">TR</span>:<span class="id">transl_arglist</span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.prog">prog</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>) <span class="id"><a href="cshmgen_proof.html#al">al</a></span> <span class="id"><a href="cshmgen_proof.html#tyl">tyl</a></span>= <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#bl">bl</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_exprlist">eval_exprlist</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.tge">tge</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.te">te</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.le">le</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.m">m</a></span> <span class="id"><a href="cshmgen_proof.html#bl">bl</a></span> <span class="id"><a href="cshmgen_proof.html#vl">vl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8019')">Proof.</div>
<div class="proofscript" id="proof8019">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">al</span>;<span class="tactic">intros</span>;<span class="id">inv</span> <span class="id">H</span>;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHal</span> <span class="kwd">in</span> <span class="id">H6</span>;<span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#transl_expr_correct">transl_expr_correct</a></span> <span class="kwd">in</span> <span class="id">H2</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_cast_correct">make_cast_correct</a></span>;<span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transl_exprlist_fp_correct">transl_exprlist_fp_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">al</span> <span class="id">tyl</span> <span class="id">vl</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Clight.html#eval_exprlist">Clight.eval_exprlist</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.e">e</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.le">le</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.m">m</a></span> <span class="id"><a href="cshmgen_proof.html#al">al</a></span> <span class="id"><a href="cshmgen_proof.html#tyl">tyl</a></span> <span class="id"><a href="cshmgen_proof.html#vl">vl</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Clight_local.html#eval_exprlist_fp">Clight_local.eval_exprlist_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.e">e</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.le">le</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.m">m</a></span> <span class="id"><a href="cshmgen_proof.html#al">al</a></span> <span class="id"><a href="cshmgen_proof.html#tyl">tyl</a></span> <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">bl</span> (<span class="id">TR</span>:<span class="id">transl_arglist</span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.prog">prog</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>) <span class="id"><a href="cshmgen_proof.html#al">al</a></span> <span class="id"><a href="cshmgen_proof.html#tyl">tyl</a></span>= <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#bl">bl</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_exprlist_fp">eval_exprlist_fp</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.tge">tge</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.te">te</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.le">le</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR.m">m</a></span> <span class="id"><a href="cshmgen_proof.html#bl">bl</a></span> <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8020')">Proof.</div>
<div class="proofscript" id="proof8020">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">al</span>;<span class="tactic">intros</span>;<span class="id">inv</span> <span class="id">H0</span>; <span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#transl_expr_fp_correct">transl_expr_fp_correct</a></span> <span class="kwd">in</span> <span class="id">EQ</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_cast_fp_correct">make_cast_fp_correct</a></span> <span class="kwd">in</span> <span class="id">EQ1</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">eapply</span> <span class="id">IHal</span>;<span class="tactic">eauto</span>.  <span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#transl_expr_correct">transl_expr_correct</a></span>;<span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.EXPR">EXPR</a></span>.<br/>
<br/>
<h2> Semantic preservation for statements </h2>
<br/>
<div class="doc">The simulation diagram for the translation of statements and functions
  is a "plus" diagram of the form
<pre>
           I
     S1 ------- R1
     |          |
   t |        + | t
     v          v
     S2 ------- R2
           I                         I</pre>
The invariant <span class="bracket"><span class="id">I</span></span> is the <span class="bracket"><span class="id">match_states</span></span> predicate that we now define.
</div>
<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="match_transl">match_transl</a></span>: <span class="id"><a href="Csharpminor.html#stmt">stmt</a></span> -&gt; <span class="id"><a href="Csharpminor.html#cont">cont</a></span> -&gt; <span class="id"><a href="Csharpminor.html#stmt">stmt</a></span> -&gt; <span class="id"><a href="Csharpminor.html#cont">cont</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="match_transl_0">match_transl_0</a></span>: <span class="kwd">forall</span> <span class="id">ts</span> <span class="id">tk</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#match_transl">match_transl</a></span> <span class="id"><a href="cshmgen_proof.html#ts">ts</a></span> <span class="id"><a href="cshmgen_proof.html#tk">tk</a></span> <span class="id"><a href="cshmgen_proof.html#ts">ts</a></span> <span class="id"><a href="cshmgen_proof.html#tk">tk</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="match_transl_1">match_transl_1</a></span>: <span class="kwd">forall</span> <span class="id">ts</span> <span class="id">tk</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#match_transl">match_transl</a></span> (<span class="id"><a href="Csharpminor.html#Sblock">Sblock</a></span> <span class="id"><a href="cshmgen_proof.html#ts">ts</a></span>) <span class="id"><a href="cshmgen_proof.html#tk">tk</a></span> <span class="id"><a href="cshmgen_proof.html#ts">ts</a></span> (<span class="id"><a href="Csharpminor.html#Kblock">Kblock</a></span> <span class="id"><a href="cshmgen_proof.html#tk">tk</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="match_transl_step">match_transl_step</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ts</span> <span class="id">tk</span> <span class="id">ts</span>' <span class="id">tk</span>' <span class="id">f</span> <span class="id">te</span> <span class="id">le</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#match_transl">match_transl</a></span> (<span class="id"><a href="Csharpminor.html#Sblock">Sblock</a></span> <span class="id"><a href="cshmgen_proof.html#ts">ts</a></span>) <span class="id"><a href="cshmgen_proof.html#tk">tk</a></span> <span class="id">ts</span>' <span class="id">tk</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#star">star</a></span> (<span class="id"><a href="Csharpminor_local.html#step">step</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.tge">tge</a></span>) (<span class="id"><a href="Csharpminor_local.html#Core_State">Core_State</a></span> <span class="id"><a href="cshmgen_proof.html#f">f</a></span> <span class="id">ts</span>' <span class="id">tk</span>' <span class="id"><a href="cshmgen_proof.html#te">te</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span>) <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#empfp">empfp</a></span> (<span class="id"><a href="Csharpminor_local.html#Core_State">Core_State</a></span> <span class="id"><a href="cshmgen_proof.html#f">f</a></span> <span class="id"><a href="cshmgen_proof.html#ts">ts</a></span> (<span class="id"><a href="Csharpminor.html#Kblock">Kblock</a></span> <span class="id"><a href="cshmgen_proof.html#tk">tk</a></span>) <span class="id"><a href="cshmgen_proof.html#te">te</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span>) <span class="id"><a href="cshmgen_proof.html#m">m</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8021')">Proof.</div>
<div class="proofscript" id="proof8021">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#star_one">star_one</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#star_refl">star_refl</a></span>.<br/>
Qed.</div>
<span class="kwd">Definition</span> <span class="id"><a name="tenv_lessdef">tenv_lessdef</a></span> (<span class="id">le1</span> <span class="id">le2</span>:<span class="id"><a href="Csharpminor.html#temp_env">temp_env</a></span>):<span class="kwd">Prop</span>:=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">id</span> <span class="id">v</span>, <span class="id"><a href="cshmgen_proof.html#le1">le1</a></span>!<span class="id"><a href="cshmgen_proof.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span>-&gt; <span class="id">exists</span> <span class="id">v</span>', <span class="id"><a href="cshmgen_proof.html#le2">le2</a></span>!<span class="id"><a href="cshmgen_proof.html#id">id</a></span>=<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v</span>' /\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> <span class="id">v</span>'.<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="match_cont">match_cont</a></span>: <span class="id"><a href="Ctypes.html#composite_env">composite_env</a></span> -&gt; <span class="id"><a href="Ctypes.html#type">type</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span> -&gt; <span class="id"><a href="Clight.html#cont">Clight.cont</a></span> -&gt; <span class="id"><a href="Csharpminor.html#cont">Csharpminor.cont</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="match_Kstop">match_Kstop</a></span>: <span class="kwd">forall</span> <span class="id">ce</span> <span class="id">tyret</span> <span class="id">nbrk</span> <span class="id">ncnt</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#match_cont">match_cont</a></span> <span class="id"><a href="cshmgen_proof.html#tyret">tyret</a></span> <span class="id"><a href="cshmgen_proof.html#ce">ce</a></span> <span class="id"><a href="cshmgen_proof.html#nbrk">nbrk</a></span> <span class="id"><a href="cshmgen_proof.html#ncnt">ncnt</a></span> <span class="id"><a href="Clight.html#Kstop">Clight.Kstop</a></span> <span class="id"><a href="Csharpminor.html#Kstop">Kstop</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a name="match_Kseq">match_Kseq</a></span>: <span class="kwd">forall</span> <span class="id">ce</span> <span class="id">tyret</span> <span class="id">nbrk</span> <span class="id">ncnt</span> <span class="id">s</span> <span class="id">k</span> <span class="id">ts</span> <span class="id">tk</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">transl_statement</span> <span class="id"><a href="cshmgen_proof.html#ce">ce</a></span> <span class="id"><a href="cshmgen_proof.html#tyret">tyret</a></span> <span class="id"><a href="cshmgen_proof.html#nbrk">nbrk</a></span> <span class="id"><a href="cshmgen_proof.html#ncnt">ncnt</a></span> <span class="id"><a href="cshmgen_proof.html#s">s</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#ts">ts</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#match_cont">match_cont</a></span> <span class="id"><a href="cshmgen_proof.html#ce">ce</a></span> <span class="id"><a href="cshmgen_proof.html#tyret">tyret</a></span> <span class="id"><a href="cshmgen_proof.html#nbrk">nbrk</a></span> <span class="id"><a href="cshmgen_proof.html#ncnt">ncnt</a></span> <span class="id"><a href="cshmgen_proof.html#k">k</a></span> <span class="id"><a href="cshmgen_proof.html#tk">tk</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#match_cont">match_cont</a></span> <span class="id"><a href="cshmgen_proof.html#ce">ce</a></span> <span class="id"><a href="cshmgen_proof.html#tyret">tyret</a></span> <span class="id"><a href="cshmgen_proof.html#nbrk">nbrk</a></span> <span class="id"><a href="cshmgen_proof.html#ncnt">ncnt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Clight.html#Kseq">Clight.Kseq</a></span> <span class="id"><a href="cshmgen_proof.html#s">s</a></span> <span class="id"><a href="cshmgen_proof.html#k">k</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Csharpminor.html#Kseq">Kseq</a></span> <span class="id"><a href="cshmgen_proof.html#ts">ts</a></span> <span class="id"><a href="cshmgen_proof.html#tk">tk</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a name="match_Kloop1">match_Kloop1</a></span>: <span class="kwd">forall</span> <span class="id">ce</span> <span class="id">tyret</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">k</span> <span class="id">ts1</span> <span class="id">ts2</span> <span class="id">nbrk</span> <span class="id">ncnt</span> <span class="id">tk</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">transl_statement</span> <span class="id"><a href="cshmgen_proof.html#ce">ce</a></span> <span class="id"><a href="cshmgen_proof.html#tyret">tyret</a></span> 1%<span class="id">nat</span> 0%<span class="id">nat</span> <span class="id"><a href="cshmgen_proof.html#s1">s1</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#ts1">ts1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">transl_statement</span> <span class="id"><a href="cshmgen_proof.html#ce">ce</a></span> <span class="id"><a href="cshmgen_proof.html#tyret">tyret</a></span> 0%<span class="id">nat</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id"><a href="cshmgen_proof.html#ncnt">ncnt</a></span>) <span class="id"><a href="cshmgen_proof.html#s2">s2</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#ts2">ts2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#match_cont">match_cont</a></span> <span class="id"><a href="cshmgen_proof.html#ce">ce</a></span> <span class="id"><a href="cshmgen_proof.html#tyret">tyret</a></span> <span class="id"><a href="cshmgen_proof.html#nbrk">nbrk</a></span> <span class="id"><a href="cshmgen_proof.html#ncnt">ncnt</a></span> <span class="id"><a href="cshmgen_proof.html#k">k</a></span> <span class="id"><a href="cshmgen_proof.html#tk">tk</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#match_cont">match_cont</a></span> <span class="id"><a href="cshmgen_proof.html#ce">ce</a></span> <span class="id"><a href="cshmgen_proof.html#tyret">tyret</a></span> 1%<span class="id">nat</span> 0%<span class="id">nat</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Clight.html#Kloop1">Clight.Kloop1</a></span> <span class="id"><a href="cshmgen_proof.html#s1">s1</a></span> <span class="id"><a href="cshmgen_proof.html#s2">s2</a></span> <span class="id"><a href="cshmgen_proof.html#k">k</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Csharpminor.html#Kblock">Kblock</a></span> (<span class="id"><a href="Csharpminor.html#Kseq">Kseq</a></span> <span class="id"><a href="cshmgen_proof.html#ts2">ts2</a></span> (<span class="id"><a href="Csharpminor.html#Kseq">Kseq</a></span> (<span class="id"><a href="Csharpminor.html#Sloop">Sloop</a></span> (<span class="id"><a href="Csharpminor.html#Sseq">Sseq</a></span> (<span class="id"><a href="Csharpminor.html#Sblock">Sblock</a></span> <span class="id"><a href="cshmgen_proof.html#ts1">ts1</a></span>) <span class="id"><a href="cshmgen_proof.html#ts2">ts2</a></span>)) (<span class="id"><a href="Csharpminor.html#Kblock">Kblock</a></span> <span class="id"><a href="cshmgen_proof.html#tk">tk</a></span>))))<br/>
&nbsp;&nbsp;| <span class="id"><a name="match_Kloop2">match_Kloop2</a></span>: <span class="kwd">forall</span> <span class="id">ce</span> <span class="id">tyret</span> <span class="id">s1</span> <span class="id">s2</span> <span class="id">k</span> <span class="id">ts1</span> <span class="id">ts2</span> <span class="id">nbrk</span> <span class="id">ncnt</span> <span class="id">tk</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">transl_statement</span> <span class="id"><a href="cshmgen_proof.html#ce">ce</a></span> <span class="id"><a href="cshmgen_proof.html#tyret">tyret</a></span> 1%<span class="id">nat</span> 0%<span class="id">nat</span> <span class="id"><a href="cshmgen_proof.html#s1">s1</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#ts1">ts1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">transl_statement</span> <span class="id"><a href="cshmgen_proof.html#ce">ce</a></span> <span class="id"><a href="cshmgen_proof.html#tyret">tyret</a></span> 0%<span class="id">nat</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id"><a href="cshmgen_proof.html#ncnt">ncnt</a></span>) <span class="id"><a href="cshmgen_proof.html#s2">s2</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#ts2">ts2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#match_cont">match_cont</a></span> <span class="id"><a href="cshmgen_proof.html#ce">ce</a></span> <span class="id"><a href="cshmgen_proof.html#tyret">tyret</a></span> <span class="id"><a href="cshmgen_proof.html#nbrk">nbrk</a></span> <span class="id"><a href="cshmgen_proof.html#ncnt">ncnt</a></span> <span class="id"><a href="cshmgen_proof.html#k">k</a></span> <span class="id"><a href="cshmgen_proof.html#tk">tk</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#match_cont">match_cont</a></span> <span class="id"><a href="cshmgen_proof.html#ce">ce</a></span> <span class="id"><a href="cshmgen_proof.html#tyret">tyret</a></span> 0%<span class="id">nat</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id"><a href="cshmgen_proof.html#ncnt">ncnt</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Clight.html#Kloop2">Clight.Kloop2</a></span> <span class="id"><a href="cshmgen_proof.html#s1">s1</a></span> <span class="id"><a href="cshmgen_proof.html#s2">s2</a></span> <span class="id"><a href="cshmgen_proof.html#k">k</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Csharpminor.html#Kseq">Kseq</a></span> (<span class="id"><a href="Csharpminor.html#Sloop">Sloop</a></span> (<span class="id"><a href="Csharpminor.html#Sseq">Sseq</a></span> (<span class="id"><a href="Csharpminor.html#Sblock">Sblock</a></span> <span class="id"><a href="cshmgen_proof.html#ts1">ts1</a></span>) <span class="id"><a href="cshmgen_proof.html#ts2">ts2</a></span>)) (<span class="id"><a href="Csharpminor.html#Kblock">Kblock</a></span> <span class="id"><a href="cshmgen_proof.html#tk">tk</a></span>))<br/>
&nbsp;&nbsp;| <span class="id"><a name="match_Kswitch">match_Kswitch</a></span>: <span class="kwd">forall</span> <span class="id">ce</span> <span class="id">tyret</span> <span class="id">nbrk</span> <span class="id">ncnt</span> <span class="id">k</span> <span class="id">tk</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#match_cont">match_cont</a></span> <span class="id"><a href="cshmgen_proof.html#ce">ce</a></span> <span class="id"><a href="cshmgen_proof.html#tyret">tyret</a></span> <span class="id"><a href="cshmgen_proof.html#nbrk">nbrk</a></span> <span class="id"><a href="cshmgen_proof.html#ncnt">ncnt</a></span> <span class="id"><a href="cshmgen_proof.html#k">k</a></span> <span class="id"><a href="cshmgen_proof.html#tk">tk</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#match_cont">match_cont</a></span> <span class="id"><a href="cshmgen_proof.html#ce">ce</a></span> <span class="id"><a href="cshmgen_proof.html#tyret">tyret</a></span> 0%<span class="id">nat</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id"><a href="cshmgen_proof.html#ncnt">ncnt</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Clight.html#Kswitch">Clight.Kswitch</a></span> <span class="id"><a href="cshmgen_proof.html#k">k</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Csharpminor.html#Kblock">Kblock</a></span> <span class="id"><a href="cshmgen_proof.html#tk">tk</a></span>)<br/>
&nbsp;&nbsp;| <span class="id"><a name="match_Kcall">match_Kcall</a></span>: <span class="kwd">forall</span> <span class="id">ce</span> <span class="id">tyret</span> <span class="id">nbrk</span> <span class="id">ncnt</span> <span class="id">nbrk</span>' <span class="id">ncnt</span>' <span class="id">f</span> <span class="id">e</span> <span class="id">k</span> <span class="id">id</span> <span class="id">tf</span> <span class="id">te</span> <span class="id">le</span> <span class="id">le</span>' <span class="id">tk</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">transl_function</span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.prog">prog</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>) <span class="id"><a href="cshmgen_proof.html#f">f</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#tf">tf</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#match_env">match_env</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#te">te</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#match_cont">match_cont</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.prog">prog</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>) (<span class="id"><a href="Clight.html#fn_return">Clight.fn_return</a></span> <span class="id"><a href="cshmgen_proof.html#f">f</a></span>) <span class="id">nbrk</span>' <span class="id">ncnt</span>' <span class="id"><a href="cshmgen_proof.html#k">k</a></span> <span class="id"><a href="cshmgen_proof.html#tk">tk</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#tenv_lessdef">tenv_lessdef</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id">le</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#match_cont">match_cont</a></span> <span class="id"><a href="cshmgen_proof.html#ce">ce</a></span> <span class="id"><a href="cshmgen_proof.html#tyret">tyret</a></span> <span class="id"><a href="cshmgen_proof.html#nbrk">nbrk</a></span> <span class="id"><a href="cshmgen_proof.html#ncnt">ncnt</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Clight.html#Kcall">Clight.Kcall</a></span> <span class="id"><a href="cshmgen_proof.html#id">id</a></span> <span class="id"><a href="cshmgen_proof.html#f">f</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#k">k</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Csharpminor.html#Kcall">Kcall</a></span> <span class="id"><a href="cshmgen_proof.html#id">id</a></span> <span class="id"><a href="cshmgen_proof.html#tf">tf</a></span> <span class="id"><a href="cshmgen_proof.html#te">te</a></span> <span class="id">le</span>' <span class="id"><a href="cshmgen_proof.html#tk">tk</a></span>).<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="match_states">match_states</a></span>: <span class="id"><a href="ClightLang.html#core">ClightLang.core</a></span>*<span class="id"><a href="Memory.html#mem">mem</a></span> -&gt; <span class="id"><a href="Csharpminor_local.html#core">Csharpminor_local.core</a></span>*<span class="id"><a href="Memory.html#mem">mem</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="match_state">match_state</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">nbrk</span> <span class="id">ncnt</span> <span class="id">s</span> <span class="id">k</span> <span class="id">e</span> <span class="id">le</span> <span class="id">le</span>' <span class="id">m</span> <span class="id">m</span>' <span class="id">tf</span> <span class="id">ts</span> <span class="id">tk</span> <span class="id">te</span> <span class="id">ts</span>' <span class="id">tk</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TRF</span>: <span class="id">transl_function</span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.prog">prog</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>) <span class="id"><a href="cshmgen_proof.html#f">f</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#tf">tf</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TR</span>: <span class="id">transl_statement</span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.prog">prog</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>) (<span class="id"><a href="Clight.html#fn_return">Clight.fn_return</a></span> <span class="id"><a href="cshmgen_proof.html#f">f</a></span>) <span class="id"><a href="cshmgen_proof.html#nbrk">nbrk</a></span> <span class="id"><a href="cshmgen_proof.html#ncnt">ncnt</a></span> <span class="id"><a href="cshmgen_proof.html#s">s</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#ts">ts</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MTR</span>: <span class="id"><a href="cshmgen_proof.html#match_transl">match_transl</a></span> <span class="id"><a href="cshmgen_proof.html#ts">ts</a></span> <span class="id"><a href="cshmgen_proof.html#tk">tk</a></span> <span class="id">ts</span>' <span class="id">tk</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MENV</span>: <span class="id"><a href="cshmgen_proof.html#match_env">match_env</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#te">te</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MK</span>: <span class="id"><a href="cshmgen_proof.html#match_cont">match_cont</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.prog">prog</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>) (<span class="id"><a href="Clight.html#fn_return">Clight.fn_return</a></span> <span class="id"><a href="cshmgen_proof.html#f">f</a></span>) <span class="id"><a href="cshmgen_proof.html#nbrk">nbrk</a></span> <span class="id"><a href="cshmgen_proof.html#ncnt">ncnt</a></span> <span class="id"><a href="cshmgen_proof.html#k">k</a></span> <span class="id"><a href="cshmgen_proof.html#tk">tk</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MEXT</span>: <span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id">m</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TENV</span>:<span class="id"><a href="cshmgen_proof.html#tenv_lessdef">tenv_lessdef</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id">le</span>'),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#match_states">match_states</a></span> (<span class="id"><a href="ClightLang.html#Core_State">ClightLang.Core_State</a></span> <span class="id"><a href="cshmgen_proof.html#f">f</a></span> <span class="id"><a href="cshmgen_proof.html#s">s</a></span> <span class="id"><a href="cshmgen_proof.html#k">k</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span>,<span class="id"><a href="cshmgen_proof.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Csharpminor_local.html#Core_State">Csharpminor_local.Core_State</a></span> <span class="id"><a href="cshmgen_proof.html#tf">tf</a></span> <span class="id">ts</span>' <span class="id">tk</span>' <span class="id"><a href="cshmgen_proof.html#te">te</a></span> <span class="id">le</span>',<span class="id">m</span>')<br/>
&nbsp;&nbsp;| <span class="id"><a name="match_callstate">match_callstate</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fd</span> <span class="id">args</span> <span class="id">args</span>' <span class="id">k</span> <span class="id">m</span> <span class="id">m</span>' <span class="id">tfd</span> <span class="id">tk</span> <span class="id">targs</span> <span class="id">tres</span> <span class="id">cconv</span> <span class="id">ce</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TR</span>: <span class="id"><a href="cshmgen_proof.html#match_fundef">match_fundef</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.prog">prog</a></span> <span class="id"><a href="cshmgen_proof.html#fd">fd</a></span> <span class="id"><a href="cshmgen_proof.html#tfd">tfd</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MK</span>: <span class="id"><a href="cshmgen_proof.html#match_cont">match_cont</a></span> <span class="id"><a href="cshmgen_proof.html#ce">ce</a></span> <span class="id"><a href="Ctypes.html#Tvoid">Tvoid</a></span> 0%<span class="id">nat</span> 0%<span class="id">nat</span> <span class="id"><a href="cshmgen_proof.html#k">k</a></span> <span class="id"><a href="cshmgen_proof.html#tk">tk</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">ISCC</span>: <span class="id"><a href="Clight.html#is_call_cont">Clight.is_call_cont</a></span> <span class="id"><a href="cshmgen_proof.html#k">k</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TY</span>: <span class="id"><a href="Clight.html#type_of_fundef">type_of_fundef</a></span> <span class="id"><a href="cshmgen_proof.html#fd">fd</a></span> = <span class="id"><a href="Ctypes.html#Tfunction">Tfunction</a></span> <span class="id"><a href="cshmgen_proof.html#targs">targs</a></span> <span class="id"><a href="cshmgen_proof.html#tres">tres</a></span> <span class="id"><a href="cshmgen_proof.html#cconv">cconv</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MEXT</span>:<span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id">m</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">LD</span>:<span class="id"><a href="Values.html#Val.lessdef_list">Val.lessdef_list</a></span> <span class="id"><a href="cshmgen_proof.html#args">args</a></span> <span class="id">args</span>'),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#match_states">match_states</a></span> (<span class="id"><a href="ClightLang.html#Core_Callstate">ClightLang.Core_Callstate</a></span> <span class="id"><a href="cshmgen_proof.html#fd">fd</a></span> <span class="id"><a href="cshmgen_proof.html#args">args</a></span> <span class="id"><a href="cshmgen_proof.html#k">k</a></span>,<span class="id"><a href="cshmgen_proof.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Csharpminor_local.html#Core_Callstate">Csharpminor_local.Core_Callstate</a></span> <span class="id"><a href="cshmgen_proof.html#tfd">tfd</a></span> <span class="id">args</span>' <span class="id"><a href="cshmgen_proof.html#tk">tk</a></span>,<span class="id">m</span>')<br/>
&nbsp;&nbsp;| <span class="id"><a name="match_returnstate">match_returnstate</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">res</span> <span class="id">k</span> <span class="id">m</span> <span class="id">m</span>' <span class="id">tk</span> <span class="id">ce</span> <span class="id">res</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MK</span>: <span class="id"><a href="cshmgen_proof.html#match_cont">match_cont</a></span> <span class="id"><a href="cshmgen_proof.html#ce">ce</a></span> <span class="id"><a href="Ctypes.html#Tvoid">Tvoid</a></span> 0%<span class="id">nat</span> 0%<span class="id">nat</span> <span class="id"><a href="cshmgen_proof.html#k">k</a></span> <span class="id"><a href="cshmgen_proof.html#tk">tk</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">LD</span>:<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="cshmgen_proof.html#res">res</a></span> <span class="id">res</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MEXT</span>:<span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id">m</span>'),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#match_states">match_states</a></span> (<span class="id"><a href="ClightLang.html#Core_Returnstate">ClightLang.Core_Returnstate</a></span> <span class="id"><a href="cshmgen_proof.html#res">res</a></span> <span class="id"><a href="cshmgen_proof.html#k">k</a></span>,<span class="id"><a href="cshmgen_proof.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Csharpminor_local.html#Core_Returnstate">Csharpminor_local.Core_Returnstate</a></span> <span class="id">res</span>' <span class="id"><a href="cshmgen_proof.html#tk">tk</a></span>,<span class="id">m</span>').<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="tenv_lessdef_refl">tenv_lessdef_refl</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span>, <span class="id"><a href="cshmgen_proof.html#tenv_lessdef">tenv_lessdef</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8022')">Proof.</div>
<div class="proofscript" id="proof8022">
 <span class="tactic">unfold</span> <span class="id"><a href="cshmgen_proof.html#tenv_lessdef">tenv_lessdef</a></span>;<span class="tactic">intros</span>. <span class="id">exists</span> <span class="id">v</span>. <span class="tactic">split</span>;<span class="tactic">auto</span>. Qed.</div>
<span class="kwd">Remark</span> <span class="id"><a name="match_states_skip">match_states_skip</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">e</span> <span class="id">le</span> <span class="id">te</span> <span class="id">nbrk</span> <span class="id">ncnt</span> <span class="id">k</span> <span class="id">tf</span> <span class="id">tk</span> <span class="id">m</span> ,<br/>
&nbsp;&nbsp;<span class="id">transl_function</span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.prog">prog</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>) <span class="id"><a href="cshmgen_proof.html#f">f</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#tf">tf</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#match_env">match_env</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#te">te</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#match_cont">match_cont</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.prog">prog</a></span>.(<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span>) (<span class="id"><a href="Clight.html#fn_return">Clight.fn_return</a></span> <span class="id"><a href="cshmgen_proof.html#f">f</a></span>) <span class="id"><a href="cshmgen_proof.html#nbrk">nbrk</a></span> <span class="id"><a href="cshmgen_proof.html#ncnt">ncnt</a></span> <span class="id"><a href="cshmgen_proof.html#k">k</a></span> <span class="id"><a href="cshmgen_proof.html#tk">tk</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#match_states">match_states</a></span> (<span class="id"><a href="ClightLang.html#Core_State">ClightLang.Core_State</a></span> <span class="id"><a href="cshmgen_proof.html#f">f</a></span> <span class="id"><a href="Clight.html#Sskip">Clight.Sskip</a></span> <span class="id"><a href="cshmgen_proof.html#k">k</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span>,<span class="id"><a href="cshmgen_proof.html#m">m</a></span>) (<span class="id"><a href="Csharpminor_local.html#Core_State">Csharpminor_local.Core_State</a></span> <span class="id"><a href="cshmgen_proof.html#tf">tf</a></span> <span class="id"><a href="Csharpminor.html#Sskip">Sskip</a></span> <span class="id"><a href="cshmgen_proof.html#tk">tk</a></span> <span class="id"><a href="cshmgen_proof.html#te">te</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span>,<span class="id"><a href="cshmgen_proof.html#m">m</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8023')">Proof.</div>
<div class="proofscript" id="proof8023">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>; <span class="tactic">reflexivity</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Memory.html#Mem.extends_refl">Mem.extends_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="cshmgen_proof.html#tenv_lessdef_refl">tenv_lessdef_refl</a></span>.<br/>
Qed.</div>
<br/>
<div class="doc">Commutation between label resolution and compilation </div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="CORRECTNESS.FIND_LABEL">FIND_LABEL</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CORRECTNESS.FIND_LABEL.ce">ce</a></span>: <span class="id"><a href="Ctypes.html#composite_env">composite_env</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CORRECTNESS.FIND_LABEL.lbl">lbl</a></span>: <span class="id"><a href="Csharpminor.html#label">label</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="CORRECTNESS.FIND_LABEL.tyret">tyret</a></span>: <span class="id"><a href="Ctypes.html#type">type</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transl_find_label">transl_find_label</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">s</span> <span class="id">nbrk</span> <span class="id">ncnt</span> <span class="id">k</span> <span class="id">ts</span> <span class="id">tk</span><br/>
&nbsp;&nbsp;(<span class="id">TR</span>: <span class="id">transl_statement</span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.FIND_LABEL.ce">ce</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.FIND_LABEL.tyret">tyret</a></span> <span class="id"><a href="cshmgen_proof.html#nbrk">nbrk</a></span> <span class="id"><a href="cshmgen_proof.html#ncnt">ncnt</a></span> <span class="id"><a href="cshmgen_proof.html#s">s</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#ts">ts</a></span>)<br/>
&nbsp;&nbsp;(<span class="id">MC</span>: <span class="id"><a href="cshmgen_proof.html#match_cont">match_cont</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.FIND_LABEL.ce">ce</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.FIND_LABEL.tyret">tyret</a></span> <span class="id"><a href="cshmgen_proof.html#nbrk">nbrk</a></span> <span class="id"><a href="cshmgen_proof.html#ncnt">ncnt</a></span> <span class="id"><a href="cshmgen_proof.html#k">k</a></span> <span class="id"><a href="cshmgen_proof.html#tk">tk</a></span>),<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Clight.html#find_label">Clight.find_label</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.FIND_LABEL.lbl">lbl</a></span> <span class="id"><a href="cshmgen_proof.html#s">s</a></span> <span class="id"><a href="cshmgen_proof.html#k">k</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="Csharpminor.html#find_label">find_label</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.FIND_LABEL.lbl">lbl</a></span> <span class="id"><a href="cshmgen_proof.html#ts">ts</a></span> <span class="id"><a href="cshmgen_proof.html#tk">tk</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">s</span>', <span class="id">k</span>') =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">ts</span>', <span class="id">exists</span> <span class="id">tk</span>', <span class="id">exists</span> <span class="id">nbrk</span>', <span class="id">exists</span> <span class="id">ncnt</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#find_label">find_label</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.FIND_LABEL.lbl">lbl</a></span> <span class="id"><a href="cshmgen_proof.html#ts">ts</a></span> <span class="id"><a href="cshmgen_proof.html#tk">tk</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">ts</span>', <span class="id">tk</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id">transl_statement</span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.FIND_LABEL.ce">ce</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.FIND_LABEL.tyret">tyret</a></span> <span class="id">nbrk</span>' <span class="id">ncnt</span>' <span class="id">s</span>' = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id">ts</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="cshmgen_proof.html#match_cont">match_cont</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.FIND_LABEL.ce">ce</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.FIND_LABEL.tyret">tyret</a></span> <span class="id">nbrk</span>' <span class="id">ncnt</span>' <span class="id">k</span>' <span class="id">tk</span>'<br/>
&nbsp;&nbsp;<span class="kwd">end</span><br/>
<br/>
<span class="kwd">with</span> <span class="id"><a name="transl_find_label_ls">transl_find_label_ls</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ls</span> <span class="id">nbrk</span> <span class="id">ncnt</span> <span class="id">k</span> <span class="id">tls</span> <span class="id">tk</span><br/>
&nbsp;&nbsp;(<span class="id">TR</span>: <span class="id">transl_lbl_stmt</span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.FIND_LABEL.ce">ce</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.FIND_LABEL.tyret">tyret</a></span> <span class="id"><a href="cshmgen_proof.html#nbrk">nbrk</a></span> <span class="id"><a href="cshmgen_proof.html#ncnt">ncnt</a></span> <span class="id"><a href="cshmgen_proof.html#ls">ls</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#tls">tls</a></span>)<br/>
&nbsp;&nbsp;(<span class="id">MC</span>: <span class="id"><a href="cshmgen_proof.html#match_cont">match_cont</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.FIND_LABEL.ce">ce</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.FIND_LABEL.tyret">tyret</a></span> <span class="id"><a href="cshmgen_proof.html#nbrk">nbrk</a></span> <span class="id"><a href="cshmgen_proof.html#ncnt">ncnt</a></span> <span class="id"><a href="cshmgen_proof.html#k">k</a></span> <span class="id"><a href="cshmgen_proof.html#tk">tk</a></span>),<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Clight.html#find_label_ls">Clight.find_label_ls</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.FIND_LABEL.lbl">lbl</a></span> <span class="id"><a href="cshmgen_proof.html#ls">ls</a></span> <span class="id"><a href="cshmgen_proof.html#k">k</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="Csharpminor.html#find_label_ls">find_label_ls</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.FIND_LABEL.lbl">lbl</a></span> <span class="id"><a href="cshmgen_proof.html#tls">tls</a></span> <span class="id"><a href="cshmgen_proof.html#tk">tk</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">s</span>', <span class="id">k</span>') =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">ts</span>', <span class="id">exists</span> <span class="id">tk</span>', <span class="id">exists</span> <span class="id">nbrk</span>', <span class="id">exists</span> <span class="id">ncnt</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#find_label_ls">find_label_ls</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.FIND_LABEL.lbl">lbl</a></span> <span class="id"><a href="cshmgen_proof.html#tls">tls</a></span> <span class="id"><a href="cshmgen_proof.html#tk">tk</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">ts</span>', <span class="id">tk</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id">transl_statement</span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.FIND_LABEL.ce">ce</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.FIND_LABEL.tyret">tyret</a></span> <span class="id">nbrk</span>' <span class="id">ncnt</span>' <span class="id">s</span>' = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id">ts</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="cshmgen_proof.html#match_cont">match_cont</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.FIND_LABEL.ce">ce</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.FIND_LABEL.tyret">tyret</a></span> <span class="id">nbrk</span>' <span class="id">ncnt</span>' <span class="id">k</span>' <span class="id">tk</span>'<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8024')">Proof.</div>
<div class="proofscript" id="proof8024">
* <span class="tactic">intro</span> <span class="id">s</span>; <span class="tactic">case</span> <span class="id">s</span>; <span class="tactic">intros</span>; <span class="tactic">try</span> (<span class="id">monadInv</span> <span class="id">TR</span>); <span class="tactic">simpl</span>.<br/>
- <span class="comment">(*&nbsp;skip&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;assign&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">make_store</span>, <span class="id">make_memcpy</span> <span class="kwd">in</span> <span class="id">EQ3</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Ctypes.html#access_mode">access_mode</a></span> (<span class="id"><a href="Clight.html#typeof">typeof</a></span> <span class="id">e</span>)); <span class="id">monadInv</span> <span class="id">EQ3</span>; <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;set&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;call&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">TR</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Cop.html#classify_fun">classify_fun</a></span> (<span class="id"><a href="Clight.html#typeof">typeof</a></span> <span class="id">e</span>)); <span class="id">monadInv</span> <span class="id">TR</span>. <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;builtin&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;seq&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">transl_find_label</span> <span class="id">s0</span> <span class="id">nbrk</span> <span class="id">ncnt</span> (<span class="id"><a href="Clight.html#Kseq">Clight.Kseq</a></span> <span class="id">s1</span> <span class="id">k</span>)); <span class="tactic">eauto</span>. <span class="id">constructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Clight.html#find_label">Clight.find_label</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.FIND_LABEL.lbl">lbl</a></span> <span class="id">s0</span> (<span class="id"><a href="Clight.html#Kseq">Clight.Kseq</a></span> <span class="id">s1</span> <span class="id">k</span>)) <span class="kwd">as</span> [[<span class="id">s</span>' <span class="id">k</span>'] | ].<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">ts</span>' [<span class="id">tk</span>' [<span class="id">nbrk</span>' [<span class="id">ncnt</span>' [<span class="id">A</span> [<span class="id">B</span> <span class="id">C</span>]]]]]].<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">A</span>. <span class="id">exists</span> <span class="id">ts</span>'; <span class="id">exists</span> <span class="id">tk</span>'; <span class="id">exists</span> <span class="id">nbrk</span>'; <span class="id">exists</span> <span class="id">ncnt</span>'; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="tactic">rewrite</span> <span class="id">H</span>. <span class="tactic">eapply</span> <span class="id">transl_find_label</span>; <span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;ifthenelse&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">transl_find_label</span> <span class="id">s0</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Clight.html#find_label">Clight.find_label</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.FIND_LABEL.lbl">lbl</a></span> <span class="id">s0</span> <span class="id">k</span>) <span class="kwd">as</span> [[<span class="id">s</span>' <span class="id">k</span>'] | ].<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">ts</span>' [<span class="id">tk</span>' [<span class="id">nbrk</span>' [<span class="id">ncnt</span>' [<span class="id">A</span> [<span class="id">B</span> <span class="id">C</span>]]]]]].<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">A</span>. <span class="id">exists</span> <span class="id">ts</span>'; <span class="id">exists</span> <span class="id">tk</span>'; <span class="id">exists</span> <span class="id">nbrk</span>'; <span class="id">exists</span> <span class="id">ncnt</span>'; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="tactic">rewrite</span> <span class="id">H</span>. <span class="tactic">eapply</span> <span class="id">transl_find_label</span>; <span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;loop&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">transl_find_label</span> <span class="id">s0</span> 1%<span class="id">nat</span> 0%<span class="id">nat</span> (<span class="id"><a href="Clight.html#Kloop1">Kloop1</a></span> <span class="id">s0</span> <span class="id">s1</span> <span class="id">k</span>)); <span class="tactic">eauto</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Clight.html#find_label">Clight.find_label</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.FIND_LABEL.lbl">lbl</a></span> <span class="id">s0</span> (<span class="id"><a href="Clight.html#Kloop1">Kloop1</a></span> <span class="id">s0</span> <span class="id">s1</span> <span class="id">k</span>)) <span class="kwd">as</span> [[<span class="id">s</span>' <span class="id">k</span>'] | ].<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">ts</span>' [<span class="id">tk</span>' [<span class="id">nbrk</span>' [<span class="id">ncnt</span>' [<span class="id">A</span> [<span class="id">B</span> <span class="id">C</span>]]]]]].<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">A</span>. <span class="id">exists</span> <span class="id">ts</span>'; <span class="id">exists</span> <span class="id">tk</span>'; <span class="id">exists</span> <span class="id">nbrk</span>'; <span class="id">exists</span> <span class="id">ncnt</span>'; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="tactic">rewrite</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">transl_find_label</span>; <span class="tactic">eauto</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;break&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;continue&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;return&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">TR</span>. <span class="tactic">destruct</span> <span class="id">o</span>; <span class="id">monadInv</span> <span class="id">TR</span>. <span class="tactic">auto</span>. <span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;switch&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">exists</span> <span class="id">b</span>, <span class="id">ts</span> = <span class="id"><a href="Csharpminor.html#Sblock">Sblock</a></span> (<span class="id"><a href="Csharpminor.html#Sswitch">Sswitch</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> <span class="id">x</span> <span class="id">x0</span>)).<br/>
&nbsp;&nbsp;{ <span class="tactic">destruct</span> (<span class="id"><a href="Cop.html#classify_switch">classify_switch</a></span> (<span class="id"><a href="Clight.html#typeof">typeof</a></span> <span class="id">e</span>)); <span class="id">inv</span> <span class="id">EQ2</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [<span class="id">b</span> <span class="id">EQ3</span>]; <span class="tactic">rewrite</span> <span class="id">EQ3</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">transl_find_label_ls</span> <span class="kwd">with</span> (<span class="id">k</span> := <span class="id"><a href="Clight.html#Kswitch">Clight.Kswitch</a></span> <span class="id">k</span>); <span class="tactic">eauto</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;label&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="AST.html#ident_eq">ident_eq</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.FIND_LABEL.lbl">lbl</a></span> <span class="id">l</span>).<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">x</span>; <span class="id">exists</span> <span class="id">tk</span>; <span class="id">exists</span> <span class="id">nbrk</span>; <span class="id">exists</span> <span class="id">ncnt</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">transl_find_label</span>; <span class="tactic">eauto</span>.<br/>
- <span class="comment">(*&nbsp;goto&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
<br/>
* <span class="tactic">intro</span> <span class="id">ls</span>; <span class="tactic">case</span> <span class="id">ls</span>; <span class="tactic">intros</span>; <span class="id">monadInv</span> <span class="id">TR</span>; <span class="tactic">simpl</span>.<br/>
- <span class="comment">(*&nbsp;nil&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
- <span class="comment">(*&nbsp;cons&nbsp;*)</span><br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">transl_find_label</span> <span class="id">s</span> <span class="id">nbrk</span> <span class="id">ncnt</span> (<span class="id"><a href="Clight.html#Kseq">Clight.Kseq</a></span> (<span class="id"><a href="Clight.html#seq_of_labeled_statement">seq_of_labeled_statement</a></span> <span class="id">l</span>) <span class="id">k</span>)); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="cshmgen_proof.html#transl_lbl_stmt_2">transl_lbl_stmt_2</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Clight.html#find_label">Clight.find_label</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.FIND_LABEL.lbl">lbl</a></span> <span class="id">s</span> (<span class="id"><a href="Clight.html#Kseq">Clight.Kseq</a></span> (<span class="id"><a href="Clight.html#seq_of_labeled_statement">seq_of_labeled_statement</a></span> <span class="id">l</span>) <span class="id">k</span>)) <span class="kwd">as</span> [[<span class="id">s</span>' <span class="id">k</span>'] | ].<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">ts</span>' [<span class="id">tk</span>' [<span class="id">nbrk</span>' [<span class="id">ncnt</span>' [<span class="id">A</span> [<span class="id">B</span> <span class="id">C</span>]]]]]].<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">A</span>. <span class="id">exists</span> <span class="id">ts</span>'; <span class="id">exists</span> <span class="id">tk</span>'; <span class="id">exists</span> <span class="id">nbrk</span>'; <span class="id">exists</span> <span class="id">ncnt</span>'; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="tactic">rewrite</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">transl_find_label_ls</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.FIND_LABEL">FIND_LABEL</a></span>.<br/>
<br/>
<div class="doc">Properties of call continuations </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="match_cont_call_cont">match_cont_call_cont</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ce</span>' <span class="id">tyret</span>' <span class="id">nbrk</span>' <span class="id">ncnt</span>' <span class="id">ce</span> <span class="id">tyret</span> <span class="id">nbrk</span> <span class="id">ncnt</span> <span class="id">k</span> <span class="id">tk</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#match_cont">match_cont</a></span> <span class="id"><a href="cshmgen_proof.html#ce">ce</a></span> <span class="id"><a href="cshmgen_proof.html#tyret">tyret</a></span> <span class="id"><a href="cshmgen_proof.html#nbrk">nbrk</a></span> <span class="id"><a href="cshmgen_proof.html#ncnt">ncnt</a></span> <span class="id"><a href="cshmgen_proof.html#k">k</a></span> <span class="id"><a href="cshmgen_proof.html#tk">tk</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#match_cont">match_cont</a></span> <span class="id">ce</span>' <span class="id">tyret</span>' <span class="id">nbrk</span>' <span class="id">ncnt</span>' (<span class="id"><a href="Clight.html#call_cont">Clight.call_cont</a></span> <span class="id"><a href="cshmgen_proof.html#k">k</a></span>) (<span class="id"><a href="Csharpminor.html#call_cont">call_cont</a></span> <span class="id"><a href="cshmgen_proof.html#tk">tk</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8025')">Proof.</div>
<div class="proofscript" id="proof8025">
 <span class="tactic">induction</span> 1; <span class="tactic">simpl</span>; <span class="tactic">auto</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="match_cont_is_call_cont">match_cont_is_call_cont</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ce</span> <span class="id">tyret</span> <span class="id">nbrk</span> <span class="id">ncnt</span> <span class="id">k</span> <span class="id">tk</span> <span class="id">ce</span>' <span class="id">tyret</span>' <span class="id">nbrk</span>' <span class="id">ncnt</span>',<br/>
&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#match_cont">match_cont</a></span> <span class="id"><a href="cshmgen_proof.html#ce">ce</a></span> <span class="id"><a href="cshmgen_proof.html#tyret">tyret</a></span> <span class="id"><a href="cshmgen_proof.html#nbrk">nbrk</a></span> <span class="id"><a href="cshmgen_proof.html#ncnt">ncnt</a></span> <span class="id"><a href="cshmgen_proof.html#k">k</a></span> <span class="id"><a href="cshmgen_proof.html#tk">tk</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Clight.html#is_call_cont">Clight.is_call_cont</a></span> <span class="id"><a href="cshmgen_proof.html#k">k</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#match_cont">match_cont</a></span> <span class="id">ce</span>' <span class="id">tyret</span>' <span class="id">nbrk</span>' <span class="id">ncnt</span>' <span class="id"><a href="cshmgen_proof.html#k">k</a></span> <span class="id"><a href="cshmgen_proof.html#tk">tk</a></span> /\ <span class="id"><a href="Csharpminor.html#is_call_cont">is_call_cont</a></span> <span class="id"><a href="cshmgen_proof.html#tk">tk</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8026')">Proof.</div>
<div class="proofscript" id="proof8026">
 <span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">try</span> <span class="id">contradiction</span>; <span class="tactic">simpl</span>;  <span class="tactic">split</span>; <span class="tactic">auto</span>; <span class="id">econstructor</span> ;<span class="tactic">eauto</span>. Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="MS">MS</a></span> (<span class="id">b</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>) <span class="id">mu</span> <span class="id">fp</span> <span class="id">fp</span>' <span class="id">cm</span> <span class="id">cm</span>' :<span class="kwd">Prop</span>:=<br/>
&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#match_states">match_states</a></span> <span class="id"><a href="cshmgen_proof.html#cm">cm</a></span> <span class="id">cm</span>' /\<br/>
&nbsp;&nbsp;<span class="id">Injections.FPMatch</span>' <span class="id"><a href="cshmgen_proof.html#mu">mu</a></span> <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span> <span class="id">fp</span>' /\<br/>
&nbsp;&nbsp;<span class="kwd">let</span> (<span class="id">c</span>, <span class="id">m</span>) := <span class="id"><a href="cshmgen_proof.html#cm">cm</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="kwd">let</span> (<span class="id">c</span>', <span class="id">m</span>') := <span class="id">cm</span>' <span class="kwd">in</span><br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedSrc">Injections.SharedSrc</a></span> <span class="id"><a href="cshmgen_proof.html#mu">mu</a></span>) <span class="id"><a href="cshmgen_proof.html#b">b</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span>) /\<br/>
&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedTgt">Injections.SharedTgt</a></span> <span class="id"><a href="cshmgen_proof.html#mu">mu</a></span>) <span class="id"><a href="cshmgen_proof.html#b">b</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id">m</span>' <span class="id"><a href="cshmgen_proof.html#b">b</a></span>) /\<br/>
&nbsp;&nbsp;(<span class="id"><a href="InjRels.html#proper_mu">proper_mu</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.tge">tge</a></span> <span class="id"><a href="Values.html#inject_id">inject_id</a></span> <span class="id"><a href="cshmgen_proof.html#mu">mu</a></span>) /\<br/>
&nbsp;&nbsp;(<span class="id"><a href="MemClosures_local.html#unmapped_closed">MemClosures_local.unmapped_closed</a></span> <span class="id"><a href="cshmgen_proof.html#mu">mu</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id">m</span>').<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="freelist_valid_block">freelist_valid_block</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">m</span> <span class="id">m</span>' <span class="id">l</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.free_list">Mem.free_list</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> <span class="id"><a href="cshmgen_proof.html#l">l</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span>)-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span>,<span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> <span class="id"><a href="cshmgen_proof.html#l">l</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> -&gt;<span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id">m</span>' <span class="id"><a href="cshmgen_proof.html#b">b</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8027')">Proof.</div>
<div class="proofscript" id="proof8027">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">a</span>;<span class="tactic">intros</span>; <span class="id">inv</span> <span class="id">H</span>;<span class="tactic">auto</span>;<span class="id">inv_eq</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHa</span>;<span class="tactic">eauto</span>;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.valid_block_free_1">Mem.valid_block_free_1</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Ltac</span> <span class="id">invMS</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="cshmgen_proof.html#MS">MS</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>  ?<span class="id">cm1</span> ?<span class="id">cm2</span> |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">cm1</span> <span class="kwd">as</span> [<span class="id">sc</span> <span class="id">Hm</span>]; <span class="tactic">destruct</span> <span class="id">cm2</span> <span class="kwd">as</span> [<span class="id">tc</span> <span class="id">Lm</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="cshmgen_proof.html#MS">MS</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [<span class="id">MS</span> [<span class="id">FPMATCH</span> [<span class="id">SVALID</span> [<span class="id">TVALID</span> [<span class="id">AGMU</span> <span class="id">RCPRESV</span>]]]]]<br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="cshmgen_proof.html#MS">MS</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>  ?<span class="id">cm1</span> ?<span class="id">cm2</span> |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="cshmgen_proof.html#MS">MS</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [<span class="id">MS</span> [<span class="id">FPMATCH</span> [<span class="id">SVALID</span> [<span class="id">TVALID</span> [<span class="id">AGMU</span> <span class="id">RCPRESV</span>]]]]]<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Ltac</span> <span class="id">resolvfp</span>:=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| |- <span class="id">context</span>[<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">_</span> <span class="id"><a href="cshmgen_proof.html#empfp">empfp</a></span>] =&gt; <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>; <span class="id">resolvfp</span><br/>
&nbsp;&nbsp;| |- <span class="id">context</span>[<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="cshmgen_proof.html#empfp">empfp</a></span> <span class="id">_</span>] =&gt; <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.emp_union_fp">FP.emp_union_fp</a></span>; <span class="id">resolvfp</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">inv</span> <span class="id">H</span>; <span class="id">resolvfp</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> ?<span class="id">fp1</span>' ?<span class="id">fp1</span> |- <span class="id">Injections.FPMatch</span>' ?<span class="id">mu</span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> ?<span class="id">fp1</span> <span class="id">_</span>) (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> ?<span class="id">fp1</span>' <span class="id">_</span>) =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Injections.fp_match_union</span>'; <span class="id">resolvfp</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id">Injections.FPMatch</span>' <span class="id">_</span> ?<span class="id">fp1</span> ?<span class="id">fp1</span>' |- <span class="id">Injections.FPMatch</span>' ?<span class="id">mu</span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> ?<span class="id">fp1</span> <span class="id">_</span>) (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> ?<span class="id">fp1</span>' <span class="id">_</span>) =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Injections.fp_match_union</span>'; <span class="tactic">auto</span>; <span class="id">resolvfp</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id">Injections.FPMatch</span>' <span class="id">_</span> ?<span class="id">fp1</span> ?<span class="id">fp1</span>' |- <span class="id">Injections.FPMatch</span>' ?<span class="id">mu</span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> ?<span class="id">fp1</span> <span class="id">_</span>) ?<span class="id">fp1</span>' =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Injections.fp_match_union_S</span>'; <span class="tactic">auto</span>; <span class="id">resolvfp</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> ?<span class="id">fp1</span>' ?<span class="id">fp1</span> |- <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> ?<span class="id">fp1</span>' <span class="id">_</span>) (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> ?<span class="id">fp1</span> <span class="id">_</span>) =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Footprint.html#FP.subset_parallel_union">FP.subset_parallel_union</a></span>; <span class="id">resolvfp</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> ?<span class="id">fp1</span>' ?<span class="id">fp1</span> |- <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> ?<span class="id">fp1</span>' <span class="id">_</span>) (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> ?<span class="id">fp1</span> <span class="id">_</span>) <span class="id">_</span>) =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Footprint.html#FP.subset_parallel_union">FP.subset_parallel_union</a></span>; <span class="id">resolvfp</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> ?<span class="id">fp1</span>' ?<span class="id">fp1</span> |- <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> ?<span class="id">fp1</span>' <span class="id">_</span>) <span class="id">_</span>) (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> ?<span class="id">fp1</span> <span class="id">_</span>) <span class="id">_</span>)=&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Footprint.html#FP.subset_parallel_union">FP.subset_parallel_union</a></span>; <span class="id">resolvfp</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> ?<span class="id">fp</span> ?<span class="id">fp</span>' |- <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> ?<span class="id">fp</span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> ?<span class="id">fp1</span> ?<span class="id">fp</span>') =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.union_comm_eq">FP.union_comm_eq</a></span>; <span class="id">resolvfp</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> ?<span class="id">fp</span> ?<span class="id">fp</span>' |- <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> ?<span class="id">fp</span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> ?<span class="id">fp</span>' <span class="id">_</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.subset_union_subset">FP.subset_union_subset</a></span>; <span class="tactic">auto</span><br/>
&nbsp;&nbsp;| |- <span class="id">Injections.FPMatch</span>' <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="cshmgen_proof.html#empfp">empfp</a></span> =&gt; <span class="tactic">apply</span> <span class="id">Injections.fp_match_emp</span>'<br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> ?<span class="id">fp1</span> ?<span class="id">fp2</span> |- <span class="id">Injections.FPMatch</span>' <span class="id">_</span> ?<span class="id">fp2</span> ?<span class="id">fp1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Injections.fp_match_subset_T</span>' <span class="kwd">with</span> <span class="id">fp2</span>; <span class="tactic">try</span> <span class="tactic">exact</span> <span class="id">H</span>; <span class="id">resolvfp</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> ?<span class="id">fp2</span> ?<span class="id">fp1</span> |- <span class="id">Injections.FPMatch</span>' <span class="id">_</span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> ?<span class="id">fp1</span> <span class="id">_</span>) ?<span class="id">fp2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Injections.fp_match_union_S</span>'; <span class="id">resolvfp</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> ?<span class="id">fp2</span> ?<span class="id">fp1</span> |- <span class="id">Injections.FPMatch</span>' <span class="id">_</span> ?<span class="id">fp1</span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> ?<span class="id">fp2</span> <span class="id">_</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Injections.fp_match_union_T</span>'; <span class="id">resolvfp</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> ?<span class="id">fp2</span> ?<span class="id">fp1</span> |- <span class="id">Injections.FPMatch</span>' <span class="id">_</span> ?<span class="id">fp1</span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> ?<span class="id">fp2</span> <span class="id">_</span>) <span class="id">_</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Injections.fp_match_union_T</span>'; <span class="id">resolvfp</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> ?<span class="id">fp2</span> ?<span class="id">fp1</span> |- <span class="id">Injections.FPMatch</span>' <span class="id">_</span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> ?<span class="id">fp1</span> <span class="id">_</span>) (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> ?<span class="id">fp2</span> <span class="id">_</span>) <span class="id">_</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Injections.fp_match_union</span>'; <span class="id">resolvfp</span>                                          <br/>
&nbsp;&nbsp;| <span class="id">H</span>: (<span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Footprint.html#FP.blocks">FP.blocks</a></span> ?<span class="id">fp2</span>) <span class="id">_</span> -&gt; ~ <span class="id"><a href="Injections.html#SharedTgt">Injections.SharedTgt</a></span> ?<span class="id">mu</span> <span class="id">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;|- <span class="id">Injections.FPMatch</span>' <span class="id">_</span> <span class="id">_</span> ?<span class="id">fp2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Injections.html#fp_match_local_block">Injections.fp_match_local_block</a></span>; <span class="tactic">auto</span>                                          <br/>
&nbsp;&nbsp;| |- <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> ?<span class="id">fp</span> ?<span class="id">fp</span> =&gt; <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.subset_refl">FP.subset_refl</a></span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="Op_fp.html#fp_inject">fp_inject</a></span> <span class="id">_</span> ?<span class="id">fp</span> ?<span class="id">fp</span>', <span class="id">H</span>': <span class="id"><a href="InjRels.html#proper_mu">proper_mu</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> |- <span class="id">Injections.FPMatch</span>' <span class="id">_</span> ?<span class="id">fp</span> ?<span class="id">fp</span>' =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Op_fp.html#fp_inject_fp_match">fp_inject_fp_match</a></span>; <span class="id">inv</span> <span class="id">H</span>'; <span class="tactic">eauto</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="Op_fp.html#fp_inject">fp_inject</a></span> <span class="id"><a href="Values.html#inject_id">inject_id</a></span> ?<span class="id">fp</span> ?<span class="id">fp</span>'|- <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> ?<span class="id">fp</span>' ?<span class="id">fp</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Op_fp.html#fp_inject_id_fp_subset">fp_inject_id_fp_subset</a></span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="InjRels.html#proper_mu">proper_mu</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> |- <span class="id">Injections.FPMatch</span>' <span class="id">_</span> ?<span class="id">fp</span> ?<span class="id">fp</span> =&gt; <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">eapply</span> <span class="id"><a href="LDSimDefs_local.html#fp_match_id">fp_match_id</a></span>; <span class="tactic">eauto</span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id">idtac</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Ltac</span> <span class="id">eresolvfp</span>:= <span class="id">resolvfp</span>; <span class="tactic">eauto</span>.<br/>
<br/>
<span class="kwd">Ltac</span> <span class="id">resvalid</span>:=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
<div class="doc">valid blocks </div>
&nbsp;&nbsp;| <span class="id">H</span>: (<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> ?<span class="id">S</span> <span class="id"><a href="cshmgen_proof.html#x">x</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> ?<span class="id">m1</span> <span class="id"><a href="cshmgen_proof.html#x">x</a></span>), <span class="id">H</span>': <span class="id"><a href="Memory.html#Mem.free">Mem.free</a></span> ?<span class="id">m1</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> ?<span class="id">m2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;|- (<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> ?<span class="id">S</span> <span class="id"><a href="cshmgen_proof.html#x">x</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> ?<span class="id">m2</span> <span class="id"><a href="cshmgen_proof.html#x">x</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;=&gt; <span class="kwd">let</span> <span class="id">X</span> := <span class="tactic">fresh</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> ? <span class="id">X</span>; <span class="tactic">apply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">X</span>; <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.valid_block_free_1">Mem.valid_block_free_1</a></span>; <span class="tactic">eauto</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: (<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> ?<span class="id">S</span> <span class="id"><a href="cshmgen_proof.html#x">x</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> ?<span class="id">m1</span> <span class="id"><a href="cshmgen_proof.html#x">x</a></span>), <span class="id">H</span>': <span class="id"><a href="Memory.html#Mem.free_list">Mem.free_list</a></span> ?<span class="id">m1</span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> ?<span class="id">m2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;|- (<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> ?<span class="id">S</span> <span class="id"><a href="cshmgen_proof.html#x">x</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> ?<span class="id">m2</span> <span class="id"><a href="cshmgen_proof.html#x">x</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;=&gt;  <span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#freelist_valid_block">freelist_valid_block</a></span>; <span class="tactic">eauto</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: (<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> ?<span class="id">S</span> <span class="id"><a href="cshmgen_proof.html#x">x</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> ?<span class="id">m1</span> <span class="id"><a href="cshmgen_proof.html#x">x</a></span>), <span class="id">H</span>': <span class="id"><a href="Memory.html#Mem.alloc">Mem.alloc</a></span> ?<span class="id">m1</span> <span class="id">_</span> <span class="id">_</span> = (?<span class="id">m2</span>,<span class="id">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;|- (<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> ?<span class="id">S</span> <span class="id"><a href="cshmgen_proof.html#x">x</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> ?<span class="id">m2</span> <span class="id"><a href="cshmgen_proof.html#x">x</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;=&gt; <span class="kwd">let</span> <span class="id">X</span> := <span class="tactic">fresh</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> ? <span class="id">X</span>; <span class="tactic">apply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">X</span>; <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.valid_block_alloc">Mem.valid_block_alloc</a></span>; <span class="tactic">eauto</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: (<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> ?<span class="id">S</span> <span class="id"><a href="cshmgen_proof.html#x">x</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> ?<span class="id">m1</span> <span class="id"><a href="cshmgen_proof.html#x">x</a></span>), <span class="id">H</span>': <span class="id"><a href="Memory.html#Mem.store">Mem.store</a></span> <span class="id">_</span> ?<span class="id">m1</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> ?<span class="id">m2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;|- (<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> ?<span class="id">S</span> <span class="id"><a href="cshmgen_proof.html#x">x</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> ?<span class="id">m2</span> <span class="id"><a href="cshmgen_proof.html#x">x</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;=&gt; <span class="kwd">let</span> <span class="id">X</span> := <span class="tactic">fresh</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> ? <span class="id">X</span>; <span class="tactic">apply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">X</span>; <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.store_valid_block_1">Mem.store_valid_block_1</a></span>; <span class="tactic">eauto</span><br/>
<div class="doc">Mem inv </div>
&nbsp;&nbsp;| <span class="id">H1</span>: <span class="id"><a href="Memory.html#Mem.store">Mem.store</a></span> <span class="id">_</span> ?<span class="id">m1</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> ?<span class="id">m2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">H2</span>: <span class="id"><a href="Memory.html#Mem.store">Mem.store</a></span> <span class="id">_</span> ?<span class="id">m1</span>' <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> ?<span class="id">m2</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">H3</span>: <span class="id"><a href="InjRels.html#proper_mu">proper_mu</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;|- <span class="id"><a href="MemClosures_local.html#unmapped_closed">MemClosures_local.unmapped_closed</a></span> <span class="id">_</span> ?<span class="id">m2</span> ?<span class="id">m2</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;=&gt; <span class="id">inv</span> <span class="id">H3</span>; <span class="tactic">eapply</span> <span class="id"><a href="MemClosures_local.html#store_val_inject_unmapped_closed_preserved">MemClosures_local.store_val_inject_unmapped_closed_preserved</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_0_r">Z.add_0_r</a></span>);  <span class="tactic">try</span> <span class="id">eassumption</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">compute</span>; <span class="tactic">eauto</span>; <span class="tactic">fail</span>); <span class="tactic">try</span> <span class="tactic">omega</span><br/>
&nbsp;&nbsp;| <span class="id">H1</span>: <span class="id"><a href="Memory.html#Mem.free">Mem.free</a></span> ?<span class="id">m1</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> ?<span class="id">m2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">H2</span>: <span class="id"><a href="Memory.html#Mem.free">Mem.free</a></span> ?<span class="id">m1</span>' <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> ?<span class="id">m2</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">H3</span>: <span class="id"><a href="InjRels.html#proper_mu">proper_mu</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;|- <span class="id"><a href="MemClosures_local.html#unmapped_closed">MemClosures_local.unmapped_closed</a></span> <span class="id">_</span> ?<span class="id">m2</span> ?<span class="id">m2</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;=&gt; <span class="id">inv</span> <span class="id">H3</span>; <span class="tactic">eapply</span> <span class="id"><a href="MemClosures_local.html#free_inject_unmapped_closed_preserved">MemClosures_local.free_inject_unmapped_closed_preserved</a></span>; <span class="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_0_r">Z.add_0_r</a></span>);  <span class="tactic">try</span> <span class="id">eassumption</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">compute</span>; <span class="tactic">eauto</span>; <span class="tactic">fail</span>); <span class="tactic">try</span> <span class="tactic">omega</span><br/>
&nbsp;&nbsp;| <span class="id">H1</span>: <span class="id"><a href="Memory.html#Mem.alloc">Mem.alloc</a></span> ?<span class="id">m1</span> <span class="id">_</span> <span class="id">_</span> = (?<span class="id">m2</span>, <span class="id">_</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">H2</span>: <span class="id"><a href="Memory.html#Mem.alloc">Mem.alloc</a></span> ?<span class="id">m1</span>' <span class="id">_</span> <span class="id">_</span> = (?<span class="id">m2</span>', <span class="id">_</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">H3</span>: <span class="id"><a href="InjRels.html#proper_mu">proper_mu</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;|- <span class="id"><a href="MemClosures_local.html#unmapped_closed">MemClosures_local.unmapped_closed</a></span> <span class="id">_</span> ?<span class="id">m2</span> ?<span class="id">m2</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;=&gt; <span class="id">inv</span> <span class="id">H3</span>; <span class="tactic">eapply</span> <span class="id"><a href="MemClosures_local.html#unchanged_on_unmapped_closed_preserved">MemClosures_local.unchanged_on_unmapped_closed_preserved</a></span>; <span class="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.alloc_unchanged_on">Mem.alloc_unchanged_on</a></span>; <span class="tactic">eauto</span>; <span class="tactic">fail</span>)<br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id">idtac</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="freelist_unmapped_closed">freelist_unmapped_closed</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">mu</span> <span class="id">a</span> <span class="id">m</span> <span class="id">m</span>' <span class="id">Lm</span> <span class="id">x</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.free_list">Mem.free_list</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.free_list">Mem.free_list</a></span> <span class="id"><a href="cshmgen_proof.html#Lm">Lm</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span> : <span class="id"><a href="Values.html#block">block</a></span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedSrc">Injections.SharedSrc</a></span> <span class="id"><a href="cshmgen_proof.html#mu">mu</a></span>) <span class="id"><a href="cshmgen_proof.html#b">b</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span> : <span class="id"><a href="Values.html#block">block</a></span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedTgt">Injections.SharedTgt</a></span> <span class="id"><a href="cshmgen_proof.html#mu">mu</a></span>) <span class="id"><a href="cshmgen_proof.html#b">b</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id"><a href="cshmgen_proof.html#Lm">Lm</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemClosures_local.html#unmapped_closed">MemClosures_local.unmapped_closed</a></span> <span class="id"><a href="cshmgen_proof.html#mu">mu</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#Lm">Lm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#Lm">Lm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id">m</span>' <span class="id"><a href="cshmgen_proof.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InjRels.html#proper_mu">proper_mu</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.tge">tge</a></span> <span class="id"><a href="Values.html#inject_id">inject_id</a></span> <span class="id"><a href="cshmgen_proof.html#mu">mu</a></span> -&gt; <span class="id"><a href="MemClosures_local.html#unmapped_closed">MemClosures_local.unmapped_closed</a></span> <span class="id"><a href="cshmgen_proof.html#mu">mu</a></span> <span class="id">m</span>' <span class="id"><a href="cshmgen_proof.html#x">x</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8028')">Proof.</div>
<div class="proofscript" id="proof8028">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">a</span>;<span class="tactic">intros</span>;<span class="id">inv</span> <span class="id">H</span>;<span class="id">inv</span> <span class="id">H0</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span>,<span class="id">p</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Memory.html#Mem.free">Mem.free</a></span> <span class="id">m</span> <span class="id">b</span> <span class="id">z0</span> <span class="id">z</span>) <span class="id">eqn</span>:?;<span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.free_parallel_extends">Mem.free_parallel_extends</a></span> <span class="kwd">in</span> <span class="id">Heqo</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">Hsimpl</span>. <span class="tactic">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHa</span>;<span class="tactic">eauto</span>;<span class="id">resvalid</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Ltac</span> <span class="id">Right</span> := <span class="tactic">do</span> 4 <span class="id">eexists</span>; [<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#plus_one">plus_one</a></span>|<span class="id">resolvfp</span>].<br/>
<span class="kwd">Ltac</span> <span class="id">FP</span>:= <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> |- ?<span class="id">P</span> /\ <span class="id">_</span> =&gt; <span class="tactic">assert</span> <span class="id">P</span>; [<span class="id">eresolvfp</span>| <span class="tactic">try</span> (<span class="tactic">split</span>;[<span class="tactic">auto</span>; <span class="tactic">fail</span>|])] <span class="kwd">end</span>.<br/>
<span class="kwd">Ltac</span> <span class="id">splitMS</span> :=<br/>
&nbsp;&nbsp;<span class="id">constructor</span>;<br/>
&nbsp;&nbsp;[<span class="id">econstructor</span>; <span class="id">eresolvfp</span> |<br/>
&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; [<span class="id">eresolvfp</span>|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; [<span class="tactic">try</span> <span class="id">resvalid</span>; <span class="tactic">auto</span> |<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; [<span class="tactic">try</span> <span class="id">resvalid</span>; <span class="tactic">auto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="tactic">split</span>; [<span class="tactic">auto</span>|<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="id">resvalid</span>; <span class="tactic">eauto</span>]]]]].<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="args_type_translated">args_type_translated</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">mu</span> <span class="id">args</span> <span class="id">args</span>' <span class="id">f0</span> <span class="id">tf</span> <span class="id">t</span> <span class="id">t0</span> <span class="id">c</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs.html#arg_rel">LDSimDefs.arg_rel</a></span> (<span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id"><a href="cshmgen_proof.html#mu">mu</a></span>) <span class="id"><a href="cshmgen_proof.html#args">args</a></span> <span class="id">args</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">transl_function</span> (<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.prog">prog</a></span>) <span class="id"><a href="cshmgen_proof.html#f0">f0</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#tf">tf</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Clight.html#type_of_function">type_of_function</a></span> <span class="id"><a href="cshmgen_proof.html#f0">f0</a></span> = <span class="id"><a href="Ctypes.html#Tfunction">Tfunction</a></span> <span class="id"><a href="cshmgen_proof.html#t">t</a></span> <span class="id"><a href="cshmgen_proof.html#t0">t0</a></span> <span class="id"><a href="cshmgen_proof.html#c">c</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="val_casted.html#val_casted_list_func">val_casted_list_func</a></span> <span class="id"><a href="cshmgen_proof.html#args">args</a></span> <span class="id"><a href="cshmgen_proof.html#t">t</a></span> =<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="val_casted.html#tys_nonvoid">tys_nonvoid</a></span> <span class="id"><a href="cshmgen_proof.html#t">t</a></span> =<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="val_casted.html#vals_defined">vals_defined</a></span> <span class="id"><a href="cshmgen_proof.html#args">args</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="val_casted.html#val_has_type_list_func">val_has_type_list_func</a></span> <span class="id">args</span>' (<span class="id"><a href="AST.html#sig_args">sig_args</a></span> (<span class="id"><a href="Csharpminor.html#funsig">funsig</a></span> (<span class="id"><a href="AST.html#Internal">AST.Internal</a></span> <span class="id"><a href="cshmgen_proof.html#tf">tf</a></span>))) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> /\ <span class="id"><a href="val_casted.html#vals_defined">vals_defined</a></span> <span class="id">args</span>'=<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8029')">Proof.</div>
<div class="proofscript" id="proof8029">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="cshmgen_proof.html#match_fundef_internal">match_fundef_internal</a></span> <span class="kwd">in</span> <span class="id">H0</span> <span class="kwd">as</span> ?; <span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#transl_fundef_sig2">transl_fundef_sig2</a></span> <span class="kwd">in</span> <span class="id">H5</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">H1</span>;<span class="tactic">rewrite</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">f0</span> <span class="id">tf</span> <span class="id">H0</span> <span class="id">H1</span> <span class="id">H5</span>;<span class="id">revert</span> <span class="id">args</span>' <span class="id">t</span> <span class="id">t0</span> <span class="id">c</span> <span class="id">H</span> <span class="id">H2</span> <span class="id">H3</span> <span class="id">H4</span>;<span class="tactic">induction</span> <span class="id">args</span>;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>;<span class="id">inv</span> <span class="id">H2</span>; <span class="id">inv_eq</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="LDSimDefs.html#arg_rel">LDSimDefs.arg_rel</a></span> <span class="kwd">in</span> *;<span class="id">inv</span> <span class="id">H</span>;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H2</span>,<span class="id">H4</span>.     <br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">t</span> <span class="id">eqn</span>:?;<span class="id">inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_iff">andb_true_iff</a></span> <span class="kwd">in</span> <span class="id">H0</span> <span class="kwd">as</span> [];<span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">t1</span> &lt;&gt; <span class="id"><a href="Ctypes.html#Tvoid">Tvoid</a></span> /\ <span class="id"><a href="val_casted.html#tys_nonvoid">tys_nonvoid</a></span> <span class="id">t2</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">destruct</span> <span class="id">t1</span> <span class="id">eqn</span>:?;<span class="id">inv</span> <span class="id">H3</span>;<span class="tactic">auto</span>;<span class="tactic">try</span> (<span class="tactic">intro</span> <span class="id">R</span>;<span class="id">inv</span> <span class="id">R</span>;<span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">H3</span>;<span class="tactic">destruct</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">a</span>&lt;&gt;<span class="id"><a href="Values.html#Vundef">Vundef</a></span> /\ <span class="id"><a href="val_casted.html#vals_defined">vals_defined</a></span> <span class="id">args</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">destruct</span> <span class="id">a</span> <span class="id">eqn</span>:?;<span class="id">inv</span> <span class="id">H4</span>;<span class="tactic">auto</span>;<span class="tactic">try</span>(<span class="tactic">intro</span> <span class="id">R</span>;<span class="id">inv</span> <span class="id">R</span>;<span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">H4</span>;<span class="tactic">destruct</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">IHargs</span> <span class="id">vl</span>' <span class="id">t2</span> <span class="id">t0</span> <span class="id">c</span> <span class="id">H7</span> <span class="id">H0</span> <span class="id">H2</span> <span class="id">H4</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span>,<span class="id">H0</span>;<span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">IHargs</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H6</span>,<span class="id">H8</span>;<span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_iff">andb_true_iff</a></span>;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H5</span>;<span class="tactic">simpl</span>;<span class="tactic">auto</span>;<span class="tactic">unfold</span> <span class="id"><a href="val_casted.html#val_casted_func">val_casted_func</a></span> <span class="kwd">in</span> <span class="id">H</span>;<span class="id">inv_eq</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H5</span>;<span class="tactic">simpl</span>;<span class="tactic">auto</span>;<span class="tactic">unfold</span> <span class="id"><a href="val_casted.html#val_casted_func">val_casted_func</a></span> <span class="kwd">in</span> <span class="id">H</span>;<span class="id">inv_eq</span>;<span class="tactic">auto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="arg_rel_length_eq">arg_rel_length_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">mu</span> <span class="id">args</span> <span class="id">args</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs.html#arg_rel">LDSimDefs.arg_rel</a></span> (<span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id"><a href="cshmgen_proof.html#mu">mu</a></span>) <span class="id"><a href="cshmgen_proof.html#args">args</a></span> <span class="id">args</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zcomplements.html#Zlength">Zlength</a></span> <span class="id"><a href="cshmgen_proof.html#args">args</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zcomplements.html#Zlength">Zlength</a></span> <span class="id">args</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8030')">Proof.</div>
<div class="proofscript" id="proof8030">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zcomplements.html#Zlength">Zlength</a></span>;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">args</span>. <span class="tactic">generalize</span> 0.<br/>
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">args</span>;<span class="tactic">intros</span>; <span class="id">inv</span> <span class="id">H</span>;<span class="tactic">auto</span>.  <span class="tactic">eapply</span> <span class="id">IHargs</span> <span class="kwd">in</span> <span class="id">H4</span>;<span class="tactic">eauto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_expr_extends">eval_expr_extends</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">ge</span> <span class="id">p</span> <span class="id">e</span> <span class="id">e</span>' <span class="id">m</span> <span class="id">v</span> <span class="id">fp</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#p">p</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#p">p</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id">m</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#tenv_lessdef">tenv_lessdef</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id">e</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span>  <span class="id">v</span>' <span class="id">fp</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#p">p</a></span> <span class="id">e</span>' <span class="id">m</span>' <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id">v</span>' /\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> <span class="id">v</span>' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#p">p</a></span> <span class="id">e</span>' <span class="id">m</span>' <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id">fp</span>' /\ <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> <span class="id">fp</span>' <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8031')">Proof.</div>
<div class="proofscript" id="proof8031">
&nbsp;&nbsp;<span class="tactic">clear</span>;<span class="tactic">induction</span> <span class="id">a</span>;<span class="tactic">intros</span>;<span class="id">inv</span> <span class="id">H0</span>;<span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H2</span> <span class="kwd">in</span> <span class="id">H3</span>;<span class="id">Hsimpl</span>. <span class="id">Esimpl</span>;<span class="tactic">eauto</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.subset_refl">FP.subset_refl</a></span>.<br/>
&nbsp;&nbsp;1-2:<span class="id">Esimpl</span>;<span class="tactic">eauto</span>;<span class="id">econstructor</span>;<span class="tactic">eauto</span>;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.emp">empfp</a></span>;<span class="tactic">simpl</span>;<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.subset_refl">Locs.subset_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#eval_expr_det">eval_expr_det</a></span> <span class="kwd">in</span> <span class="id">H4</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">H5</span>;<span class="tactic">eauto</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">inv_eq</span>. <span class="id">inv</span> <span class="id">H9</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHa</span> <span class="kwd">in</span> <span class="id">H5</span>;<span class="tactic">eauto</span>;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="selection_proof.html#eval_unop_lessdef">eval_unop_lessdef</a></span> <span class="kwd">in</span> <span class="id">H8</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#eval_expr_det">eval_expr_det</a></span> <span class="kwd">in</span> <span class="id">H5</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">H6</span>;<span class="tactic">eauto</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#eval_expr_det">eval_expr_det</a></span> <span class="kwd">in</span> <span class="id">H8</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">H13</span>;<span class="tactic">eauto</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">inv_eq</span>. <span class="id">inv</span> <span class="id">H14</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHa1</span> <span class="kwd">in</span> <span class="id">H6</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHa2</span> <span class="kwd">in</span> <span class="id">H13</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="selection_proof.html#eval_binop_lessdef">eval_binop_lessdef</a></span> <span class="kwd">in</span> <span class="id">H10</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="selection_proof.html#eval_binop_lessdef_fp">eval_binop_lessdef_fp</a></span> <span class="kwd">in</span> <span class="id">H12</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">do</span> 2 <span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id"><a href="Footprint.html#FP.subset_parallel_union">FP.subset_parallel_union</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#eval_expr_det">eval_expr_det</a></span> <span class="kwd">in</span> <span class="id">H5</span>;<span class="tactic">eauto</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">inv_eq</span>. <span class="id">inv</span> <span class="id">H9</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHa</span> <span class="kwd">in</span> <span class="id">H4</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.loadv_extends">Mem.loadv_extends</a></span> <span class="kwd">in</span> <span class="id">H7</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Footprint.html#FP.subset_parallel_union">FP.subset_parallel_union</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemOpFP.html#loadv_fp">FMemOpFP.loadv_fp</a></span>. <span class="id">inv</span> <span class="id">H0</span>;<span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.subset_refl">FP.subset_refl</a></span>. <span class="id">inv</span> <span class="id">H7</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_exprlist_extends">eval_exprlist_extends</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">ge</span> <span class="id">p</span> <span class="id">e</span> <span class="id">e</span>' <span class="id">m</span> <span class="id">v</span> <span class="id">fp</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_exprlist">eval_exprlist</a></span> <span class="id"><a href="cshmgen_proof.html#ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#p">p</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_exprlist_fp">eval_exprlist_fp</a></span> <span class="id"><a href="cshmgen_proof.html#ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#p">p</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id">m</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#tenv_lessdef">tenv_lessdef</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id">e</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span>  <span class="id">v</span>' <span class="id">fp</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_exprlist">eval_exprlist</a></span> <span class="id"><a href="cshmgen_proof.html#ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#p">p</a></span> <span class="id">e</span>' <span class="id">m</span>' <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id">v</span>' /\ <span class="id"><a href="Values.html#Val.lessdef_list">Val.lessdef_list</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> <span class="id">v</span>' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_exprlist_fp">eval_exprlist_fp</a></span> <span class="id"><a href="cshmgen_proof.html#ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#p">p</a></span> <span class="id">e</span>' <span class="id">m</span>' <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id">fp</span>' /\ <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> <span class="id">fp</span>' <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8032')">Proof.</div>
<div class="proofscript" id="proof8032">
&nbsp;&nbsp;<span class="tactic">clear</span>;<span class="tactic">induction</span> <span class="id">a</span>;<span class="tactic">intros</span>;<span class="id">inv</span> <span class="id">H</span>;<span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>;<span class="tactic">try</span> <span class="id">constructor</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.subset_refl">Locs.subset_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#eval_expr_extends">eval_expr_extends</a></span> <span class="kwd">in</span> <span class="id">H5</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHa</span> <span class="kwd">in</span> <span class="id">H7</span>;<span class="tactic">eauto</span>;  <span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Footprint.html#FP.subset_parallel_union">FP.subset_parallel_union</a></span>;<span class="tactic">eauto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id">eval_expr_extends</span>':<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">ge</span> <span class="id">p</span> <span class="id">e</span> <span class="id">m</span> <span class="id">v</span> <span class="id">fp</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#p">p</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#p">p</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id">m</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>' <span class="id">fp</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor.html#eval_expr">eval_expr</a></span> <span class="id"><a href="cshmgen_proof.html#ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#p">p</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id">m</span>' <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id">v</span>' /\ <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> <span class="id">v</span>' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Csharpminor_local.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="cshmgen_proof.html#ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#p">p</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id">m</span>' <span class="id"><a href="cshmgen_proof.html#a">a</a></span> <span class="id">fp</span>' /\ <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> <span class="id">fp</span>' <span class="id"><a href="cshmgen_proof.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8033')">Proof.</div>
<div class="proofscript" id="proof8033">
 <span class="tactic">intros</span>;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#eval_expr_extends">eval_expr_extends</a></span>;<span class="tactic">eauto</span>;<span class="tactic">apply</span> <span class="id"><a href="cshmgen_proof.html#tenv_lessdef_refl">tenv_lessdef_refl</a></span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="tenv_lessdef_set">tenv_lessdef_set</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">le</span> <span class="id">le</span>' <span class="id">v</span> <span class="id">v</span>' <span class="id">id</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#tenv_lessdef">tenv_lessdef</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span> <span class="id">le</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> <span class="id">v</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#tenv_lessdef">tenv_lessdef</a></span> (<span class="id"><a href="Maps.html#PTree.set">PTree.set</a></span> <span class="id"><a href="cshmgen_proof.html#id">id</a></span> <span class="id"><a href="cshmgen_proof.html#v">v</a></span> <span class="id"><a href="cshmgen_proof.html#le">le</a></span>)(<span class="id"><a href="Maps.html#PTree.set">PTree.set</a></span> <span class="id"><a href="cshmgen_proof.html#id">id</a></span> <span class="id">v</span>' <span class="id">le</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8034')">Proof.</div>
<div class="proofscript" id="proof8034">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="cshmgen_proof.html#tenv_lessdef">tenv_lessdef</a></span>;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Maps.html#PTree.gsspec">PTree.gsspec</a></span>;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#peq">peq</a></span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Maps.html#PTree.gss">PTree.gss</a></span> <span class="kwd">in</span> <span class="id">H1</span>;<span class="id">inv</span> <span class="id">H1</span>; <span class="id">Esimpl</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Maps.html#PTree.gso">PTree.gso</a></span> <span class="kwd">in</span> <span class="id">H1</span>;<span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">string_scope</span>.<br/>
<span class="kwd">Local</span> <span class="kwd">Open</span> <span class="kwd">Scope</span> <span class="id">error_monad_scope</span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="transl_fundef">transl_fundef</a></span> (<span class="id">ce</span>: <span class="id"><a href="Ctypes.html#composite_env">composite_env</a></span>) (<span class="id">f</span>: <span class="id"><a href="AST.html#fundef">AST.fundef</a></span> <span class="id"><a href="Clight.html#function">Clight.function</a></span>) : <span class="id"><a href="Errors.html#res">res</a></span> <span class="id"><a href="Csharpminor.html#fundef">fundef</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="cshmgen_proof.html#f">f</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="AST.html#Internal">AST.Internal</a></span> <span class="id">g</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> <span class="id">tg</span> &lt;- <span class="id">transl_function</span> <span class="id"><a href="cshmgen_proof.html#ce">ce</a></span> <span class="id">g</span>; <span class="id"><a href="Errors.html#OK">OK</a></span>(<span class="id"><a href="AST.html#Internal">AST.Internal</a></span> <span class="id">tg</span>)<br/>
&nbsp;&nbsp;| <span class="id"><a href="AST.html#External">AST.External</a></span> <span class="id">ef</span>  =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Errors.html#OK">OK</a></span>(<span class="id"><a href="AST.html#External">AST.External</a></span> <span class="id">ef</span>)<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="genv_match_trans">genv_match_trans</a></span>: <span class="id"><a href="Globalenvs.html#Genv.match_genvs">Genv.match_genvs</a></span> (<span class="id"><a href="CUAST.html#match_globdef">match_globdef</a></span> (<span class="kwd">fun</span> <span class="id">f</span> <span class="id">tf</span> =&gt; <span class="id"><a href="cshmgen_proof.html#transl_fundef">transl_fundef</a></span> (<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.prog">prog</a></span>) <span class="id"><a href="cshmgen_proof.html#f">f</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="cshmgen_proof.html#tf">tf</a></span>) (<span class="kwd">fun</span> <span class="id">_</span> <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span>)) (<span class="id"><a href="Clight_local.html#trans_ge">trans_ge</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.ge">ge</a></span>) <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.tge">tge</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8035')">Proof.</div>
<div class="proofscript" id="proof8035">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Clight_local.html#trans_ge">trans_ge</a></span>;<span class="id">pose</span> <span class="id">proof</span> <span class="id"><a href="cshmgen_proof.html#genv_match">genv_match</a></span> <span class="kwd">as</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>;<span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">mge_defs</span> <span class="id">b</span>).<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Clight_local.html#trans_genv_defs">trans_genv_defs</a></span>,<span class="id"><a href="Coqlib.html#option_map">option_map</a></span>;<span class="tactic">rewrite</span> <span class="id"><a href="Maps.html#PTree.gmap">PTree.gmap</a></span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">mge_defs</span>;<span class="tactic">auto</span>;<span class="id">constructor</span>;  <span class="id">inv</span> <span class="id">H1</span>;<span class="id">constructor</span>;<span class="tactic">auto</span>;  <span class="id">inv</span> <span class="id">H2</span>;<span class="tactic">unfold</span> <span class="id"><a href="cshmgen_proof.html#transl_fundef">transl_fundef</a></span>,<span class="id"><a href="Clight_local.html#trans_c_fundef_ast">trans_c_fundef_ast</a></span>;<span class="tactic">auto</span>;  <span class="tactic">rewrite</span> <span class="id">H1</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="ge_match_invert_symbol_preserved">ge_match_invert_symbol_preserved</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">name</span> <span class="id">f</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Clight_local.html#invert_symbol_from_string">invert_symbol_from_string</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#name">name</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#f">f</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="CUAST.html#invert_symbol_from_string">CUAST.invert_symbol_from_string</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.tge">tge</a></span> <span class="id"><a href="cshmgen_proof.html#name">name</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#f">f</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8036')">Proof.</div>
<div class="proofscript" id="proof8036">
&nbsp;&nbsp;<span class="tactic">intros</span>;<span class="id">erewrite</span> <span class="id"><a href="Clight_local.html#invert_symbol_trans_preserved">invert_symbol_trans_preserved</a></span> <span class="kwd">in</span> <span class="id">H</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="CUAST.html#match_genvs_invert_symbol_from_string_preserved">CUAST.match_genvs_invert_symbol_from_string_preserved</a></span>;<span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="cshmgen_proof.html#genv_match_trans">genv_match_trans</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>;<span class="id">inv</span> <span class="id">H0</span>;<span class="tactic">auto</span>. <span class="tactic">induction</span> <span class="id">f1</span>;<span class="tactic">auto</span>;<span class="id">monadInv</span> <span class="id">H1</span>;<span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="bind_parameter_temps_lessdef">bind_parameter_temps_lessdef</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">al</span> <span class="id">t</span> <span class="id">e</span> <span class="id">t</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Clight.html#bind_parameter_temps">bind_parameter_temps</a></span> <span class="id"><a href="cshmgen_proof.html#f">f</a></span> <span class="id"><a href="cshmgen_proof.html#al">al</a></span> <span class="id"><a href="cshmgen_proof.html#t">t</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="cshmgen_proof.html#tenv_lessdef">tenv_lessdef</a></span> <span class="id"><a href="cshmgen_proof.html#t">t</a></span> <span class="id">t</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">bl</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef_list">Val.lessdef_list</a></span> <span class="id"><a href="cshmgen_proof.html#al">al</a></span> <span class="id"><a href="cshmgen_proof.html#bl">bl</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">e</span>',<span class="id"><a href="Clight.html#bind_parameter_temps">bind_parameter_temps</a></span> <span class="id"><a href="cshmgen_proof.html#f">f</a></span> <span class="id"><a href="cshmgen_proof.html#bl">bl</a></span> <span class="id">t</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">e</span>' /\ <span class="id"><a href="cshmgen_proof.html#tenv_lessdef">tenv_lessdef</a></span> <span class="id"><a href="cshmgen_proof.html#e">e</a></span> <span class="id">e</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8037')">Proof.</div>
<div class="proofscript" id="proof8037">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">f</span>;<span class="tactic">intros</span>;<span class="tactic">simpl</span> <span class="kwd">in</span> *;<span class="id">inv</span> <span class="id">H1</span>;<span class="id">inv</span> <span class="id">H</span>. <span class="id">exists</span> <span class="id">t</span>';<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;1,2:<span class="tactic">destruct</span> <span class="id">a</span>;<span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHf</span> <span class="kwd">in</span> <span class="id">H4</span>;<span class="tactic">eauto</span>.  <span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#tenv_lessdef_set">tenv_lessdef_set</a></span>;<span class="tactic">eauto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="freelist_extends">freelist_extends</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span>  <span class="id">l</span> <span class="id">m</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.free_list">Mem.free_list</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#l">l</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">em</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="cshmgen_proof.html#m">m</a></span> <span class="id"><a href="cshmgen_proof.html#em">em</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">em</span>', <span class="id"><a href="Memory.html#Mem.free_list">Mem.free_list</a></span> <span class="id"><a href="cshmgen_proof.html#em">em</a></span> <span class="id"><a href="cshmgen_proof.html#l">l</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">em</span>' /\ <span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id">m</span>' <span class="id">em</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8038')">Proof.</div>
<div class="proofscript" id="proof8038">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">l</span>;<span class="tactic">intros</span>;<span class="id">inv</span> <span class="id">H</span>. <span class="tactic">simpl</span>. <span class="id">Esimpl</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span>,<span class="id">p</span>,(<span class="id"><a href="Memory.html#Mem.free">Mem.free</a></span>) <span class="id">eqn</span>:?;<span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.free_parallel_extends">Mem.free_parallel_extends</a></span> <span class="kwd">in</span> <span class="id">Heqo</span>;<span class="tactic">eauto</span>;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHl</span> <span class="kwd">in</span> <span class="id">H2</span>;<span class="tactic">eauto</span>;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">H</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<span class="kwd">Ltac</span> <span class="id">triv</span>:= <span class="id">Esimpl</span>; [<span class="id">constructor</span>;<span class="id">econstructor</span>;<span class="tactic">eauto</span>|<span class="id">eresolvfp</span>|<span class="id">splitMS</span>];<span class="tactic">simpl</span>;<span class="tactic">eauto</span>;<span class="tactic">try</span>(<span class="id">econstructor</span>;<span class="tactic">eauto</span>;<span class="tactic">fail</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="TRANSF_local_ldsim">TRANSF_local_ldsim</a></span>:<br/>
&nbsp;&nbsp;@<span class="id"><a href="LDSim_local.html#local_ldsim">local_ldsim</a></span> <span class="id"><a href="Clight_local.html#Clight_IS_2_local">Clight_IS_2_local</a></span> <span class="id"><a href="Csharpminor_local.html#Csharpminor_IS">Csharpminor_IS</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.tge">tge</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.tge">tge</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof8039')">Proof.</div>
<div class="proofscript" id="proof8039">
&nbsp;&nbsp;<span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id">instantiate</span>(1:= <span class="kwd">fun</span> <span class="id">b</span> (<span class="id">i</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>)=&gt;<span class="id"><a href="cshmgen_proof.html#MS">MS</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span>).<br/>
&nbsp;&nbsp;<span class="id">instantiate</span>(1:=<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Peano.html#lt">lt</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">GEMATCH</span>:<span class="id"><a href="LDSim_local.html#ge_match_strict">ge_match_strict</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.ge">ge</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.tge">tge</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="cshmgen_proof.html#ge_match">ge_match</a></span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Arith.Wf_nat.html#lt_wf">lt_wf</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>;<span class="id">invMS</span>;<span class="tactic">eapply</span> <span class="id"><a href="InjRels.html#proper_mu_inject">proper_mu_inject</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>;<span class="id">invMS</span>;<span class="tactic">eapply</span> <span class="id"><a href="InjRels.html#proper_mu_ge_init_inj">proper_mu_ge_init_inj</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;{ <span class="comment">(*init*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">mu</span> <span class="id">fid</span> <span class="id">args</span> <span class="id">args</span>' <span class="id">score</span> <span class="id">GE_INIT_INJ</span> <span class="id">INJID</span> <span class="id">GARG</span> <span class="id">ARGREL</span> <span class="id">INITCORE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="IS_local.html#init_core_local">init_core_local</a></span> <span class="kwd">in</span> *. <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Csharpminor_local.html#init_core">init_core</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Clight_local.html#init_core">Clight_local.init_core</a></span> <span class="kwd">in</span> <span class="id">INITCORE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="CUAST.html#generic_init_core">generic_init_core</a></span> <span class="kwd">in</span> <span class="id">INITCORE</span> |- *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="cshmgen_proof.html#symbols_preserved">symbols_preserved</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id">eqn</span>:?;[|<span class="id">inv</span> <span class="id">INITCORE</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.ge">ge</a></span> <span class="id">b</span>) <span class="id">eqn</span>:?;[|<span class="id">inv</span> <span class="id">INITCORE</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="cshmgen_proof.html#function_ptr_translated">function_ptr_translated</a></span> <span class="kwd">in</span> <span class="id">Heqo0</span> <span class="kwd">as</span> ?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [<span class="id">tf</span>[<span class="id">Heqo</span>' <span class="id">FUNDEFMATCH</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heqo</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">f</span> <span class="id">eqn</span>:?;[|<span class="id">inv</span> <span class="id">INITCORE</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Clight.html#type_of_fundef">type_of_fundef</a></span> <span class="kwd">in</span> <span class="id">INITCORE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Clight.html#type_of_function">type_of_function</a></span> <span class="id">f0</span>) <span class="id">eqn</span>:?;<span class="tactic">try</span> (<span class="id">inv</span> <span class="id">INITCORE</span>;<span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="val_casted.html#val_casted_list_func">val_casted_list_func</a></span> <span class="id">args</span> <span class="id">t</span> &amp;&amp; <span class="id"><a href="val_casted.html#tys_nonvoid">tys_nonvoid</a></span> <span class="id">t</span> &amp;&amp; <span class="id"><a href="val_casted.html#vals_defined">vals_defined</a></span> <span class="id">args</span> &amp;&amp; <span class="id"><a href="Coqlib.html#zlt">zlt</a></span> (4 * (2 * <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Zcomplements.html#Zlength">Zlength</a></span> <span class="id">args</span>)) <span class="id"><a href="Integers.html#Int.max_unsigned">Int.max_unsigned</a></span>) <span class="id">eqn</span>:?;<span class="id">inv</span> <span class="id">INITCORE</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Csharpminor_local.html#fundef_init">fundef_init</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">FUNDEFMATCH</span>. <span class="tactic">rename</span> <span class="id">H0</span> <span class="id">into</span> <span class="id">FUNCTRANS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_iff">andb_true_iff</a></span> <span class="kwd">in</span> <span class="id">Heqb0</span> <span class="kwd">as</span> [<span class="id">Heqb0</span> <span class="id">ZLT</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_iff">andb_true_iff</a></span> <span class="kwd">in</span> <span class="id">Heqb0</span> <span class="kwd">as</span> [<span class="id">Heqb0</span> <span class="id">VALSDEF</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Bool.Bool.html#andb_true_iff">andb_true_iff</a></span> <span class="kwd">in</span> <span class="id">Heqb0</span> <span class="kwd">as</span> [<span class="id">VALCASTED</span> <span class="id">TYSNOVOID</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">edestruct</span> <span class="id"><a href="cshmgen_proof.html#args_type_translated">args_type_translated</a></span> <span class="kwd">as</span>(<span class="id">A1</span>&amp;<span class="id">A2</span>);<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id">A1</span>,<span class="id">A2</span>,&lt;- <span class="id"><a href="cshmgen_proof.html#arg_rel_length_eq">arg_rel_length_eq</a></span> <span class="kwd">with</span>(<span class="id">args</span>':=<span class="id">args</span>'),<span class="id">ZLT</span>;<span class="tactic">eauto</span>;<span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexists</span>;<span class="tactic">split</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">sm0</span> <span class="id">tm0</span> <span class="id">INITSM</span> <span class="id">INITTM</span> <span class="id">MEMINITINJ</span> <span class="id">sm</span> <span class="id">tm</span> [<span class="id">HRELY</span> <span class="id">LRELY</span> <span class="id">MINJ</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">args</span>' = <span class="id">args</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">generalize</span> <span class="id">ARGREL</span> <span class="id">GARG</span> <span class="id">MEMINITINJ</span>; <span class="tactic">clear</span>. <span class="id">revert</span> <span class="id">args</span>'. <span class="tactic">induction</span> <span class="id">args</span>; <span class="tactic">intros</span> <span class="id">args</span>' <span class="id">REL</span> <span class="id">G</span> <span class="id">MEMREL</span>; <span class="id">inv</span> <span class="id">REL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>. <span class="id">inv</span> <span class="id">G</span>. <span class="tactic">f_equal</span>. <span class="id">inv</span> <span class="id">H1</span>; <span class="tactic">auto</span>. <span class="id">inv</span> <span class="id">MEMREL</span>. <span class="tactic">apply</span> <span class="id">inj_inject_id</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">contradiction</span>. <span class="tactic">apply</span> <span class="id">IHargs</span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">splitMS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="cshmgen_proof.html#match_Kstop">match_Kstop</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MEMINITINJ</span>; <span class="id">inv</span> <span class="id">HRELY</span>; <span class="id">inv</span> <span class="id">LRELY</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="LDSimDefs_local.html#inject_implies_extends">inject_implies_extends</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">b0</span> <span class="id">A</span>. <span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="kwd">in</span> <span class="id">A</span>; <span class="tactic">rewrite</span> <span class="id">EQNEXT</span>, &lt;- <span class="id">dom_eq_src</span> <span class="kwd">in</span> <span class="id">A</span>. <span class="tactic">eapply</span> <span class="id"><a href="Blockset.html#Bset.inj_dom">Bset.inj_dom</a></span> <span class="kwd">in</span> <span class="id">A</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">A</span> <span class="kwd">as</span> [<span class="id">b</span>' <span class="id">A</span>]. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>. <span class="tactic">rewrite</span> <span class="id">A</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">GE_INIT_INJ</span>. <span class="tactic">rewrite</span> <span class="id">mu_shared_src</span> <span class="kwd">in</span> <span class="id">dom_eq_src</span>. <span class="tactic">rewrite</span> <span class="id">mu_shared_tgt</span> <span class="kwd">in</span> <span class="id">dom_eq_tgt</span>. <span class="tactic">rewrite</span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.S_EQ">S_EQ</a></span> <span class="kwd">in</span> <span class="id">dom_eq_src</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> (<span class="id"><a href="Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">sm0</span>) &lt;-&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="cshmgen_proof.html#b">b</a></span> (<span class="id"><a href="Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">tm0</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">dom_eq_src</span>, &lt;- <span class="id">dom_eq_tgt</span>. <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">EQNEXT</span>, <span class="id">EQNEXT0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.lt_total">Pos.lt_total</a></span> (<span class="id"><a href="Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">sm0</span>) (<span class="id"><a href="Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">tm0</span>)) <span class="kwd">as</span> [<span class="id">LT</span> | [<span class="id">EQ</span> | <span class="id">LT</span>]]; <span class="tactic">auto</span>; <span class="tactic">generalize</span> <span class="id">H3</span> <span class="id">LT</span>; <span class="tactic">clear</span>; <span class="tactic">intros</span>; <span class="id">exfalso</span>; <span class="tactic">apply</span> <span class="id">H3</span> <span class="kwd">in</span> <span class="id">LT</span>; <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.lt_irrefl">Pos.lt_irrefl</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">clear</span>; <span class="tactic">induction</span> <span class="id">args</span>;<span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MEMINITINJ</span>. <span class="id">inv</span> <span class="id">HRELY</span>. <span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="kwd">in</span> *. <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id">EQNEXT</span>. <span class="tactic">apply</span> <span class="id">dom_eq_src</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MEMINITINJ</span>. <span class="id">inv</span> <span class="id">LRELY</span>. <span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="kwd">in</span> *. <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id">EQNEXT</span>. <span class="tactic">apply</span> <span class="id">dom_eq_tgt</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MEMINITINJ</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> ? ? ? ? ? . <span class="id">exploit</span> <span class="id">inj_inject_id</span>. <span class="tactic">exact</span> <span class="id">H</span>. <span class="tactic">intro</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">A</span>. <span class="id">inv</span> <span class="id">A</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="MemClosures_local.html#reach_closed_unmapped_closed">MemClosures_local.reach_closed_unmapped_closed</a></span>. <span class="id">inv</span> <span class="id">LRELY</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{ <span class="comment">(*tau*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">i</span> <span class="id">mu</span> <span class="id">Hfp</span> <span class="id">Lfp</span> <span class="id">Hcore</span> <span class="id">Hm</span> <span class="id">Lcore</span> <span class="id">Lm</span> <span class="id">Hfp</span>' <span class="id">Hcore</span>' <span class="id">Hm</span>' <span class="id">MS</span> <span class="id">STEP</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">i</span> <span class="id">mu</span> <span class="id">Hfp</span> <span class="id">Lfp</span> <span class="id">Lcore</span> <span class="id">Lm</span> <span class="id">MS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">STEP</span> <span class="kwd">as</span> <span class="id">STEP_bk</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">STEP</span>;<span class="tactic">intros</span>;<span class="id">invMS</span>; <span class="id">inv</span> <span class="id">MS</span>; <span class="id">right</span>;<span class="id">exists</span> 0%<span class="id">nat</span>;<span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="comment">(*assign*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#transl_lvalue_correct">transl_lvalue_correct</a></span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> <span class="id">EV1</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#transl_lvalue_fp_correct">transl_lvalue_fp_correct</a></span> <span class="kwd">in</span> <span class="id">H3</span> <span class="kwd">as</span> <span class="id">FP1</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#transl_expr_correct">transl_expr_correct</a></span> <span class="kwd">in</span> <span class="id">H0</span> <span class="kwd">as</span> <span class="id">EV2</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#transl_expr_fp_correct">transl_expr_fp_correct</a></span> <span class="kwd">in</span> <span class="id">H4</span> <span class="kwd">as</span> <span class="id">FP2</span>;<span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_cast_correct">make_cast_correct</a></span> <span class="kwd">in</span> <span class="id">EV2</span> <span class="kwd">as</span> <span class="id">EV2</span>';<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_cast_fp_correct">make_cast_fp_correct</a></span> <span class="kwd">in</span> <span class="id">FP2</span> <span class="kwd">as</span> <span class="id">FP2</span>';<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#eval_expr_extends">eval_expr_extends</a></span> <span class="kwd">in</span> <span class="id">EV1</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#eval_expr_extends">eval_expr_extends</a></span> <span class="kwd">in</span> <span class="id">EV2</span>' <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H12</span>. <span class="id">inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.storev_extends">Mem.storev_extends</a></span> <span class="kwd">in</span> <span class="id">H15</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>; <span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Clight.html#assign_loc_value">assign_loc_value</a></span> <span class="kwd">in</span> <span class="id">H2</span> ;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">R1</span>:<span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> ( (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">x5</span> <span class="id">x3</span>))( (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fp1</span> <span class="id">fp2</span>) <span class="id">fp3</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Footprint.html#FP.fp_union_assoc">FP.fp_union_assoc</a></span> <span class="kwd">with</span>(<span class="id">fp1</span>:=<span class="id">fp1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Footprint.html#FP.subset_parallel_union">FP.subset_parallel_union</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">R2</span>:<span class="id">Injections.FPMatch</span>' <span class="id">mu</span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">Hfp</span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fp1</span> <span class="id">fp2</span>) <span class="id">fp3</span>)(<span class="id"><a href="FMemOpFP.html#storev_fp">FMemOpFP.storev_fp</a></span> <span class="id">chunk0</span> (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">loc</span> <span class="id">ofs</span>)))) (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">Lfp</span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">x5</span> <span class="id">x3</span>) (<span class="id"><a href="FMemOpFP.html#storev_fp">FMemOpFP.storev_fp</a></span> <span class="id">chunk0</span> (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">loc</span> <span class="id">ofs</span>))))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">resolvfp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">R3</span>:<span class="id">Injections.FPMatch</span>' <span class="id">mu</span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fp1</span> <span class="id">fp2</span>) <span class="id">fp3</span>)(<span class="id"><a href="FMemOpFP.html#storev_fp">FMemOpFP.storev_fp</a></span> <span class="id">chunk0</span> (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">loc</span> <span class="id">ofs</span>))) (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">x5</span> <span class="id">x3</span>) (<span class="id"><a href="FMemOpFP.html#storev_fp">FMemOpFP.storev_fp</a></span> <span class="id">chunk0</span> (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">loc</span> <span class="id">ofs</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">resolvfp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.SGEINIT">SGEINIT</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_store_correct">make_store_correct</a></span> <span class="kwd">with</span>(<span class="id">f</span>:=<span class="id">tf</span>)(<span class="id">k</span>:=<span class="id">tk</span>) <span class="kwd">in</span> <span class="id">EQ3</span> <span class="kwd">as</span> ?;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">H8</span>;<span class="tactic">eauto</span>;[|<span class="id">econstructor</span>;<span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span>   (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">x5</span> <span class="id">x3</span>) (<span class="id"><a href="FMemOpFP.html#storev_fp">FMemOpFP.storev_fp</a></span> <span class="id">chunk0</span> (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">loc</span> <span class="id">ofs</span>))),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Csharpminor_local.html#Core_State">Core_State</a></span> <span class="id">tf</span> <span class="id"><a href="Csharpminor.html#Sskip">Sskip</a></span> <span class="id">tk</span> <span class="id">te</span> <span class="id">le</span>') ,<span class="id">x4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="tactic">inversion</span> <span class="id">MTR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">ts0</span> <span class="id">tk0</span> <span class="id">ts</span>' <span class="id">tk</span>';<span class="id">econstructor</span>;<span class="tactic">eauto</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">tk0</span> <span class="id">ts0</span> <span class="id">ts</span> <span class="id">tk</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H19</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">contradict</span> <span class="id">H32</span>. <span class="tactic">clear</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">tk</span>;<span class="id">inv</span> <span class="id">H</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">splitMS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>;<span class="tactic">eauto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.storev">Mem.storev</a></span> <span class="kwd">in</span> <span class="id">H15</span>;<span class="id">resvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H2</span>;<span class="tactic">subst</span> <span class="id">x2</span> <span class="id">x4</span>;<span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.storev">Mem.storev</a></span> <span class="kwd">in</span> <span class="id">H21</span>; <span class="id">resvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H6</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H2</span>;<span class="tactic">subst</span> <span class="id">x2</span> <span class="id">x4</span>;<span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.storev">Mem.storev</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H17</span> <span class="kwd">in</span> <span class="id">H12</span>;<span class="tactic">inversion</span> <span class="id">H12</span>;<span class="tactic">subst</span> <span class="id">chunk0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H17</span> <span class="kwd">in</span> <span class="id">H20</span>;<span class="tactic">inversion</span> <span class="id">H20</span>;<span class="tactic">subst</span> <span class="id">chunk1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H6</span> <span class="kwd">in</span> *;<span class="id">resvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="comment">(*Sset*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>;<span class="id">inv</span> <span class="id">MTR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#transl_expr_correct">transl_expr_correct</a></span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> <span class="id">EV1</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#transl_expr_fp_correct">transl_expr_fp_correct</a></span> <span class="kwd">in</span> <span class="id">H0</span> <span class="kwd">as</span> <span class="id">FP1</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#eval_expr_extends">eval_expr_extends</a></span> <span class="kwd">in</span> <span class="id">EV1</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Hsimpl</span>. <span class="id">triv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#tenv_lessdef_set">tenv_lessdef_set</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="comment">(*call*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">TR</span>.  <span class="tactic">unfold</span> <span class="id"><a href="Errors.html#bind">bind</a></span> <span class="kwd">in</span> <span class="id">TR</span>. <span class="id">inv_eq</span>. <span class="id">inv</span> <span class="id">H8</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#transl_expr_correct">transl_expr_correct</a></span> <span class="kwd">in</span> <span class="id">H0</span> <span class="kwd">as</span> <span class="id">EV1</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#transl_exprlist_correct">transl_exprlist_correct</a></span> <span class="kwd">in</span> <span class="id">H1</span> <span class="kwd">as</span> <span class="id">EVL1</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#transl_expr_fp_correct">transl_expr_fp_correct</a></span> <span class="kwd">in</span> <span class="id">H4</span> <span class="kwd">as</span> <span class="id">FP1</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#transl_exprlist_fp_correct">transl_exprlist_fp_correct</a></span> <span class="kwd">in</span> <span class="id">H5</span> <span class="kwd">as</span> <span class="id">FPL2</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#eval_expr_extends">eval_expr_extends</a></span> <span class="kwd">in</span> <span class="id">EV1</span> <span class="kwd">as</span> <span class="id">EV1</span>';<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#eval_exprlist_extends">eval_exprlist_extends</a></span> <span class="kwd">in</span> <span class="id">EVL1</span> <span class="kwd">as</span> <span class="id">EVL1</span>';<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Hsimpl</span>;<span class="id">inv</span> <span class="id">MTR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#functions_translated">functions_translated</a></span> <span class="kwd">in</span> <span class="id">H2</span> <span class="kwd">as</span> <span class="id">F1</span>;<span class="tactic">eauto</span>; <span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#transl_fundef_sig2">transl_fundef_sig2</a></span> <span class="kwd">in</span> <span class="id">H3</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">triv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Ctypes.html#signature_of_type">signature_of_type</a></span> <span class="kwd">in</span> <span class="id">H15</span>. <span class="tactic">rewrite</span> <span class="id">H15</span>. <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">H1</span>. <span class="tactic">clear</span>; <span class="id">revert</span> <span class="id">tyargs</span> <span class="id">vargs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">al</span>;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H1</span>;<span class="tactic">simpl</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>.  <span class="tactic">eapply</span> <span class="id">IHal</span> <span class="kwd">in</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">f_equal</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>;<span class="id">inv</span> <span class="id">MTR</span>;<span class="id">triv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>;<span class="id">inv</span> <span class="id">MTR</span>;<span class="id">inv</span> <span class="id">MK</span>;<span class="id">triv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>;<span class="id">inv</span> <span class="id">MTR</span>;<span class="id">inv</span> <span class="id">MK</span>;<span class="id">triv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>;<span class="id">inv</span> <span class="id">MTR</span>;<span class="id">inv</span> <span class="id">MK</span>;<span class="id">triv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="comment">(*ifthenelse*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>;<span class="id">inv</span> <span class="id">MTR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#transl_expr_correct">transl_expr_correct</a></span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> <span class="id">EV1</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#transl_expr_fp_correct">transl_expr_fp_correct</a></span> <span class="kwd">in</span> <span class="id">H1</span> <span class="kwd">as</span> <span class="id">FP1</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_boolean_correct">make_boolean_correct</a></span> <span class="kwd">in</span> <span class="id">H0</span> <span class="kwd">as</span> <span class="id">R</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">R</span> <span class="kwd">as</span> [?[<span class="id">EV2</span> ?]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_boolean_fp_correct">make_boolean_fp_correct</a></span> <span class="kwd">in</span> <span class="id">H2</span> <span class="kwd">as</span> <span class="id">FP2</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#eval_expr_extends">eval_expr_extends</a></span> <span class="kwd">in</span> <span class="id">EV1</span> <span class="kwd">as</span> <span class="id">EV1</span>';<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#eval_expr_extends">eval_expr_extends</a></span> <span class="kwd">in</span> <span class="id">EV2</span> <span class="kwd">as</span> <span class="id">EV2</span>';<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Hsimpl</span>. <span class="tactic">destruct</span> <span class="id">b</span> <span class="id">eqn</span>:?;<span class="id">triv</span>;<span class="tactic">try</span>(<span class="tactic">rewrite</span> <span class="id">Heqb0</span>;<span class="id">constructor</span>;<span class="tactic">fail</span>);<span class="tactic">try</span>(<span class="id">inv</span> <span class="id">H5</span>;<span class="tactic">eauto</span>; <span class="id">inv</span> <span class="id">H3</span>;<span class="id">constructor</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="comment">(*loop*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>;<span class="id">inv</span> <span class="id">MTR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Esimpl</span>. <span class="id">econstructor</span> 2. <span class="id">constructor</span>. <span class="id">econstructor</span> 2. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 2. <span class="id">constructor</span>. <span class="id">constructor</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eresolvfp</span>. <span class="id">splitMS</span>.  <span class="id">econstructor</span>;<span class="tactic">eauto</span>.  <span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>. <span class="id">econstructor</span> 2. <span class="id">constructor</span>. <span class="id">econstructor</span> 2. <span class="id">constructor</span>.  <span class="id">constructor</span>.  <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eresolvfp</span>. <span class="id">splitMS</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="comment">(*loop&nbsp;continue*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span>;<span class="tactic">subst</span>;<span class="id">monadInv</span> <span class="id">TR</span>;<span class="id">inv</span> <span class="id">MTR</span>;<span class="id">inv</span> <span class="id">MK</span>;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 2. <span class="id">econstructor</span>. <span class="id">constructor</span>. <span class="id">econstructor</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eresolvfp</span>. <span class="id">splitMS</span>; <span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 2. <span class="id">constructor</span>. <span class="id">econstructor</span>;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eresolvfp</span>. <span class="id">splitMS</span>; <span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="comment">(*loop&nbsp;break*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>;<span class="id">inv</span> <span class="id">MTR</span>;<span class="id">inv</span> <span class="id">MK</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 2;<span class="tactic">eauto</span>. <span class="id">constructor</span>. <span class="id">econstructor</span> 2. <span class="id">constructor</span>.  <span class="id">econstructor</span> 2. <span class="id">constructor</span>. <span class="id">constructor</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eresolvfp</span>. <span class="id">splitMS</span>;<span class="tactic">simpl</span>;<span class="tactic">eauto</span>. <span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="comment">(*loop&nbsp;skip*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>;<span class="id">inv</span> <span class="id">MTR</span>;<span class="id">inv</span> <span class="id">MK</span>;<span class="id">triv</span>;<span class="tactic">rewrite</span> <span class="id">H6</span>,<span class="id">H8</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="comment">(*loop2&nbsp;break*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>;<span class="id">inv</span> <span class="id">MTR</span>;<span class="id">inv</span> <span class="id">MK</span>;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 2;<span class="id">constructor</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eresolvfp</span>. <span class="id">splitMS</span>. <span class="tactic">simpl</span>. <span class="tactic">eauto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="comment">(*return*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>;<span class="id">inv</span> <span class="id">MTR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H</span> <span class="kwd">as</span> <span class="id">R</span>. <span class="id">erewrite</span> &lt;-<span class="id"><a href="cshmgen_proof.html#match_env_free_blocks">match_env_free_blocks</a></span>,<span class="id">R</span> <span class="kwd">in</span> <span class="id">H</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#freelist_extends">freelist_extends</a></span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">triv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="cshmgen_proof.html#match_env_same_blocks">match_env_same_blocks</a></span>;<span class="tactic">eauto</span>;<span class="id">eresolvfp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#match_cont_call_cont">match_cont_call_cont</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="cshmgen_proof.html#match_env_same_blocks">match_env_same_blocks</a></span>;<span class="tactic">eauto</span>;<span class="id">eresolvfp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#freelist_unmapped_closed">freelist_unmapped_closed</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="comment">(*return*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>. <span class="id">inv</span> <span class="id">MTR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#transl_expr_correct">transl_expr_correct</a></span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> <span class="id">EV1</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#transl_expr_fp_correct">transl_expr_fp_correct</a></span> <span class="kwd">in</span> <span class="id">H2</span> <span class="kwd">as</span> <span class="id">FP1</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_cast_fp_correct">make_cast_fp_correct</a></span> <span class="kwd">in</span> <span class="id">FP1</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#make_cast_correct">make_cast_correct</a></span> <span class="kwd">in</span> <span class="id">EV1</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#eval_expr_extends">eval_expr_extends</a></span> <span class="kwd">in</span> <span class="id">EV1</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#freelist_extends">freelist_extends</a></span> <span class="kwd">in</span> <span class="id">H1</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span>&lt;- <span class="id"><a href="cshmgen_proof.html#match_env_same_blocks">match_env_same_blocks</a></span> <span class="kwd">in</span> *;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">triv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#match_cont_call_cont">match_cont_call_cont</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#freelist_unmapped_closed">freelist_unmapped_closed</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="comment">(*skip&nbsp;return*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>;<span class="id">inv</span> <span class="id">MTR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H0</span> <span class="kwd">as</span> <span class="id">R</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> &lt;-<span class="id"><a href="cshmgen_proof.html#match_env_free_blocks">match_env_free_blocks</a></span> <span class="kwd">in</span> <span class="id">H0</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">R</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#freelist_extends">freelist_extends</a></span> <span class="kwd">in</span> <span class="id">H0</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Hsimpl</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">constructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MK</span>;<span class="tactic">simpl</span> <span class="kwd">in</span> *;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="cshmgen_proof.html#match_env_same_blocks">match_env_same_blocks</a></span>;<span class="tactic">eauto</span>. <span class="id">eresolvfp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="cshmgen_proof.html#match_env_same_blocks">match_env_same_blocks</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">splitMS</span>. <span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#match_cont_is_call_cont">match_cont_is_call_cont</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#freelist_unmapped_closed">freelist_unmapped_closed</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="comment">(*switch*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">TR</span> <span class="kwd">as</span> <span class="id">TR</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#transl_expr_correct">transl_expr_correct</a></span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> <span class="id">EV1</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#transl_expr_fp_correct">transl_expr_fp_correct</a></span> <span class="kwd">in</span> <span class="id">H0</span> <span class="kwd">as</span> <span class="id">FP1</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#eval_expr_extends">eval_expr_extends</a></span> <span class="kwd">in</span> <span class="id">EV1</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Cop.html#sem_switch_arg">sem_switch_arg</a></span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Cop.html#classify_switch">classify_switch</a></span> (<span class="id"><a href="Clight.html#typeof">typeof</a></span> <span class="id">a</span>)) <span class="id">eqn</span>:?;<span class="id">inv</span> <span class="id">EQ2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v</span> <span class="id">eqn</span>:?;<span class="id">inv</span> <span class="id">H1</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H3</span>;<span class="id">inv</span> <span class="id">MTR</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#transl_lbl_stmt_1">transl_lbl_stmt_1</a></span> <span class="kwd">in</span> <span class="id">EQ1</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#transl_lbl_stmt_2">transl_lbl_stmt_2</a></span> <span class="kwd">in</span> <span class="id">H1</span>;<span class="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1,7:  <span class="id">econstructor</span> 2;<span class="id">econstructor</span>; <span class="id">econstructor</span>;<span class="tactic">eauto</span>;<span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3,8: <span class="id">econstructor</span>;<span class="id">econstructor</span>;<span class="tactic">eauto</span>;<span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">all</span>: <span class="tactic">try</span> <span class="id">eresolvfp</span>;<span class="tactic">try</span>  <span class="id">splitMS</span>;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span>;<span class="tactic">subst</span>;<span class="id">monadInv</span> <span class="id">TR</span>;<span class="id">inv</span> <span class="id">MTR</span>;<span class="id">inv</span> <span class="id">MK</span>;<span class="id">triv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>;<span class="id">inv</span> <span class="id">MTR</span>;<span class="id">inv</span> <span class="id">MK</span>;<span class="id">triv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>;<span class="id">inv</span> <span class="id">MTR</span>;<span class="id">triv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="comment">(*goto*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TR</span>;<span class="id">inv</span> <span class="id">MTR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id">TRF</span>. <span class="tactic">unfold</span> <span class="id">transl_function</span>. <span class="tactic">intro</span> <span class="id">TRF</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">TRF</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="cshmgen_proof.html#transl_find_label">transl_find_label</a></span> (<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.prog">prog</a></span>) <span class="id">lbl</span>). <span class="id">eexact</span> <span class="id">EQ</span>. <span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#match_cont_call_cont">match_cont_call_cont</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span>; <span class="tactic">intros</span> [<span class="id">ts</span>' [<span class="id">tk</span>'' [<span class="id">nbrk</span>' [<span class="id">ncnt</span>' [<span class="id">A</span> [<span class="id">B</span> <span class="id">C</span>]]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">triv</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="comment">(*internal*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">TR</span>. <span class="id">monadInv</span> <span class="id">H6</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="cshmgen_proof.html#match_cont_is_call_cont">match_cont_is_call_cont</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">A</span> <span class="id">B</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="cshmgen_proof.html#match_env_alloc_variables">match_env_alloc_variables</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="cshmgen_proof.html#match_env_empty">match_env_empty</a></span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">te1</span> [<span class="id">C</span> <span class="id">D</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#match_env_alloc_variables_fp">match_env_alloc_variables_fp</a></span> <span class="kwd">in</span> <span class="id">H</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Csharpminor_local.html#alloc_variables_extends">alloc_variables_extends</a></span> <span class="kwd">in</span> <span class="id">C</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#bind_parameter_temps_lessdef">bind_parameter_temps_lessdef</a></span> <span class="kwd">in</span> <span class="id">H5</span>;<span class="tactic">eauto</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="cshmgen_proof.html#tenv_lessdef_refl">tenv_lessdef_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">simpl</span>;<span class="tactic">try</span> <span class="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#plus_one">plus_one</a></span>;<span class="tactic">eapply</span> <span class="id"><a href="Csharpminor_local.html#step_internal_function">step_internal_function</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="cshmgen_proof.html#transl_vars_names">transl_vars_names</a></span> <span class="tactic">by</span> <span class="tactic">eauto</span>. <span class="tactic">assumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">all</span>:<span class="tactic">try</span>(<span class="tactic">simpl</span>;<span class="tactic">eauto</span>). <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="cshmgen_proof.html#create_undef_temps_match">create_undef_temps_match</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#bind_parameter_temps_match">bind_parameter_temps_match</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eresolvfp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">splitMS</span>; <span class="tactic">unfold</span> <span class="id">transl_function</span>,<span class="id"><a href="Errors.html#bind">bind</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">EQ</span>,<span class="id">EQ1</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">SVALID</span> <span class="id">H4</span>; <span class="tactic">clear</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> 2;<span class="tactic">auto</span>; <span class="tactic">apply</span> <span class="id">IHalloc_variables</span>; <span class="id">resvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">TVALID</span> <span class="id">H0</span>; <span class="tactic">clear</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> 2;<span class="tactic">auto</span>; <span class="tactic">apply</span> <span class="id">IHalloc_variables</span>; <span class="id">resvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">SVALID</span> <span class="id">TVALID</span> <span class="id">C</span> <span class="id">H0</span> <span class="id">AGMU</span> <span class="id">RCPRESV</span> <span class="id">MEXT</span> <span class="id">H8</span>;<span class="tactic">clear</span>;<span class="id">revert</span> <span class="id">m</span> <span class="id">m1</span> <span class="id">Lm</span> <span class="id">x2</span> <span class="id">te1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id"><a href="Csharpminor.html#empty_env">empty_env</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">x0</span>;<span class="tactic">intros</span>;<span class="id">inv</span> <span class="id">C</span>;<span class="id">inv</span> <span class="id">H0</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.alloc_extends">Mem.alloc_extends</a></span> <span class="kwd">with</span>(<span class="id">lo2</span>:=0)(<span class="id">hi2</span>:=<span class="id">sz</span>) <span class="kwd">in</span> <span class="id">H4</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>;<span class="tactic">try</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Hsimpl</span>. <span class="tactic">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H10</span>;<span class="id">inv</span> <span class="id">H10</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="MemClosures_local.html#unmapped_closed">MemClosures_local.unmapped_closed</a></span> <span class="id">mu</span> <span class="id">m2</span> <span class="id">m3</span>). <span class="id">resvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHx0</span> <span class="kwd">in</span> <span class="id">H1</span>;<span class="tactic">eauto</span>;<span class="id">resvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="comment">(*return*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MK</span>. <span class="id">Esimpl</span>;<span class="tactic">eauto</span>.  <span class="id">constructor</span>. <span class="id">econstructor</span>. <span class="id">eresolvfp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">splitMS</span>. <span class="tactic">simpl</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>; <span class="tactic">unfold</span> <span class="id"><a href="Clight.html#set_opttemp">set_opttemp</a></span>,<span class="id"><a href="Cminor.html#set_optvar">set_optvar</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">optid</span>;<span class="tactic">auto</span>. <span class="tactic">eapply</span> <span class="id"><a href="cshmgen_proof.html#tenv_lessdef_set">tenv_lessdef_set</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{ <span class="comment">(*at_ext*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>; <span class="tactic">intros</span> <span class="id">i</span> <span class="id">mu</span> <span class="id">Hfp</span> <span class="id">Lfp</span> <span class="id">Hcore</span> <span class="id">Hm</span> <span class="id">Lcore</span> <span class="id">Lm</span> <span class="id">f</span> <span class="id">sg</span> <span class="id">argSrc</span> <span class="id">MS</span> <span class="id">ATEXT</span> <span class="id">RC</span> <span class="id">GARG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> 0%<span class="id">nat</span>; <span class="tactic">unfold</span> <span class="id"><a href="Clight_local.html#at_external">Clight_local.at_external</a></span>,<span class="id"><a href="Csharpminor_local.html#at_external">at_external</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hcore</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="tactic">destruct</span> <span class="id">f0</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="tactic">destruct</span> <span class="id">e</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="tactic">destruct</span> <span class="id"><a href="val_casted.html#vals_defined">vals_defined</a></span> <span class="id">eqn</span>:?;<span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Clight_local.html#invert_symbol_from_string">invert_symbol_from_string</a></span>) <span class="id">eqn</span>:<span class="id">SYMBNAME</span>;<span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#peq">peq</a></span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#peq">peq</a></span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="id">inv</span> <span class="id">ATEXT</span>; <span class="id">invMS</span>; <span class="id">inv</span> <span class="id">MS</span>; <span class="id">inv</span> <span class="id">TR</span>; <span class="id">inv</span> <span class="id">TY</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H4</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="cshmgen_proof.html#ge_match_invert_symbol_preserved">ge_match_invert_symbol_preserved</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#peq">peq</a></span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#peq">peq</a></span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">args</span>'; <span class="id">Esimpl</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">unfold</span> <span class="id"><a href="LDSimDefs.html#arg_rel">LDSimDefs.arg_rel</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">args</span>' <span class="id">AGMU</span> <span class="id">GARG</span> <span class="id">LD</span>  ; <span class="tactic">clear</span>.<br/>
<div class="doc">should be extracted as a lemma ... </div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">argSrc</span>; <span class="tactic">intros</span> <span class="id">args</span>' <span class="id">AGMU</span> <span class="id">GARG</span> <span class="id">LD</span>. <span class="tactic">simpl</span>. <span class="id">inv</span> <span class="id">LD</span>. <span class="tactic">auto</span>. <span class="id">inv</span> <span class="id">LD</span>. <span class="id">inv</span> <span class="id">GARG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>; <span class="tactic">auto</span>. <span class="tactic">clear</span> <span class="id">H3</span> <span class="id">H4</span> <span class="id">IHargSrc</span>. <span class="id">inv</span> <span class="id">H1</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> <span class="id">v2</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="tactic">eapply</span> <span class="id"><a href="Blockset.html#Bset.inj_dom">Bset.inj_dom</a></span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H2</span>. <span class="id">exploit</span> <span class="id">proper_mu_inject_incr</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>; <span class="tactic">rewrite</span> <span class="id">H</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">econstructor</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>; <span class="tactic">rewrite</span> <span class="id">H</span>. <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="MemClosures_local.html#unmapped_closed_reach_closed_preserved_by_extends">MemClosures_local.unmapped_closed_reach_closed_preserved_by_extends</a></span>; <span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="LDSimDefs_local.html#extends_reach_closed_implies_inject">extends_reach_closed_implies_inject</a></span>; <span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">splitMS</span>; <span class="id">constructor</span>;<span class="tactic">simpl</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{ <span class="comment">(*aft-ext*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>;<span class="tactic">unfold</span> <span class="id"><a href="IS_local.html#after_external_local">after_external_local</a></span>,<span class="id"><a href="Clight_local.html#Clight_IS_local">Clight_IS_local</a></span>,<span class="id"><a href="Csharpminor_local.html#Csharpminor_IS">Csharpminor_IS</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Clight_local.html#after_external">Clight_local.after_external</a></span>,<span class="id"><a href="Csharpminor_local.html#after_external">after_external</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">i</span> <span class="id">mu</span> <span class="id">Hcore</span> <span class="id">Hm</span> <span class="id">Lcore</span> <span class="id">Lm</span> <span class="id">oresSrc</span> <span class="id">Hcore</span>' <span class="id">oresTgt</span> <span class="id">MS</span> <span class="id">GRES</span> <span class="id">AFTEXT</span> <span class="id">RESREL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hcore</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="tactic">destruct</span> <span class="id">f</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="tactic">destruct</span> <span class="id">e</span>;<span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">invMS</span>. <span class="id">inv</span> <span class="id">MS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">oresSrc</span> = <span class="id">oresTgt</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">destruct</span> <span class="id">oresSrc</span>, <span class="id">oresTgt</span>; <span class="tactic">try</span> <span class="id">contradiction</span>; <span class="tactic">auto</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">RESREL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">RESREL</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">GRES</span>; <span class="tactic">auto</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">AGMU</span>. <span class="tactic">apply</span> <span class="id">proper_mu_inject_incr</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span>. <span class="tactic">auto</span>.  }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Hcore</span>' = <span class="id"><a href="ClightLang.html#Core_Returnstate">ClightLang.Core_Returnstate</a></span> (<span class="kwd">match</span> <span class="id">oresTgt</span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v</span> =&gt; <span class="id">v</span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="Values.html#Vundef">Vundef</a></span> <span class="kwd">end</span>) <span class="id">c</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">destruct</span> <span class="id">oresTgt</span>; <span class="id">inv</span> <span class="id">AFTEXT</span>; <span class="tactic">auto</span>; <span class="id">inv_eq</span>;<span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rename</span> <span class="id">H</span> <span class="id">into</span> <span class="id">AFTEXT</span>'. <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="id">inv</span> <span class="id">TY</span>. <span class="id">inv</span> <span class="id">TR</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="Csharpminor_local.html#Core_Returnstate">Core_Returnstate</a></span> (<span class="kwd">match</span> <span class="id">oresTgt</span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v</span>=&gt; <span class="id">v</span>| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="Values.html#Vundef">Vundef</a></span> <span class="kwd">end</span>)  <span class="id">tk</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">destruct</span> <span class="id">oresTgt</span>;<span class="tactic">auto</span>;<span class="id">inv_eq</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">Hm</span>' <span class="id">Lm</span>' [<span class="id">HRELY</span> <span class="id">LRELY</span> <span class="id">INV</span>]. <span class="tactic">subst</span>. <span class="id">exists</span> 0%<span class="id">nat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">splitMS</span>; <span class="id">inv</span> <span class="id">AGMU</span>;<span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id"><a href="LDSimDefs_local.html#extends_rely_extends">extends_rely_extends</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> ? <span class="id">S</span>. <span class="tactic">apply</span> <span class="id">SVALID</span> <span class="kwd">in</span> <span class="id">S</span>. <span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="kwd">in</span> *. <span class="id">inv</span> <span class="id">HRELY</span>. <span class="tactic">rewrite</span> <span class="id">EQNEXT</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> ? <span class="id">T</span>. <span class="tactic">apply</span> <span class="id">TVALID</span> <span class="kwd">in</span> <span class="id">T</span>. <span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="kwd">in</span> *. <span class="id">inv</span> <span class="id">LRELY</span>. <span class="tactic">rewrite</span> <span class="id">EQNEXT</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">LRELY</span>. <span class="tactic">eapply</span> <span class="id"><a href="MemClosures_local.html#reach_closed_unmapped_closed">MemClosures_local.reach_closed_unmapped_closed</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{ <span class="comment">(*halt*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="Clight_local.html#halted">Clight_local.halted</a></span>,<span class="id"><a href="Csharpminor_local.html#halted">halted</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">i</span> <span class="id">mu</span> <span class="id">Hfp</span> <span class="id">Lfp</span> <span class="id">Hcore</span> <span class="id">Hm</span> <span class="id">Lcore</span> <span class="id">Lm</span> <span class="id">resSrc</span> <span class="id">MS</span> <span class="id">HALT</span> <span class="id">RC</span> <span class="id">GRES</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hcore</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">c</span>;<span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="val_casted.html#vals_defined">vals_defined</a></span>) <span class="id">eqn</span>:?;<span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">HALT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">invMS</span>. <span class="id">inv</span> <span class="id">MS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MK</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Heqb</span>. <span class="tactic">assert</span>(<span class="id">resSrc</span> = <span class="id">res</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">LD</span>;<span class="tactic">auto</span>. <span class="id">inv</span> <span class="id">Heqb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">res</span>'. <span class="tactic">clear</span> <span class="id">Heqb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">resSrc</span>. <span class="id">Esimpl</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">revert</span> <span class="id">LD</span> <span class="id">GRES</span> <span class="id">AGMU</span>. <span class="tactic">clear</span>;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">resSrc</span>; <span class="tactic">try</span> <span class="id">constructor</span>. <span class="id">econstructor</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">GRES</span>. <span class="id">inv</span> <span class="id">AGMU</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Blockset.html#Bset.inj_dom">Bset.inj_dom</a></span> <span class="kwd">in</span> <span class="id">GRES</span>; <span class="tactic">eauto</span>. <span class="tactic">destruct</span> <span class="id">GRES</span> <span class="kwd">as</span> [<span class="id">b</span>' <span class="id">INJ</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">proper_mu_inject_incr</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>; <span class="tactic">rewrite</span> <span class="id">INJ</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">A</span>. <span class="id">inv</span> <span class="id">A</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>; <span class="tactic">rewrite</span> <span class="id">INJ</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eapply</span> <span class="id"><a href="MemClosures_local.html#unmapped_closed_reach_closed_preserved_by_extends">MemClosures_local.unmapped_closed_reach_closed_preserved_by_extends</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eresolvfp</span>. <span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eapply</span> <span class="id"><a href="LDSimDefs_local.html#extends_reach_closed_implies_inject">extends_reach_closed_implies_inject</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id">Unshelve</span>.<br/>
&nbsp;&nbsp;<span class="id">all</span>: <span class="tactic">apply</span> (<span class="id"><a href="ClightLang.html#cu_comp_env">cu_comp_env</a></span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS.prog">prog</a></span>).<br/>
Qed.</div>
<span class="kwd">End</span> <span class="id"><a href="cshmgen_proof.html#CORRECTNESS">CORRECTNESS</a></span>.</div>
<div class="footer"><hr/>Generated by coq2html</div>
</body>
</html>
