<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module AsmIDTransCorrect</title>
<meta name="description" content="Documentation of Coq module AsmIDTransCorrect" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module AsmIDTransCorrect</h1>
<div class="coq">
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Coqlib.html">Coqlib</a></span> <span class="id"><a href="Maps.html">Maps</a></span> <span class="id"><a href="Errors.html">Errors</a></span> <span class="id"><a href="Globalenvs.html">Globalenvs</a></span> <span class="id"><a href="AST.html">AST</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Values.html">Values</a></span> <span class="id"><a href="Memory.html">Memory</a></span> <span class="id"><a href="Globalenvs.html">Globalenvs</a></span> <span class="id"><a href="Events.html">Events</a></span> <span class="id"><a href="Smallstep.html">Smallstep</a></span> <span class="id"><a href="Blockset.html">Blockset</a></span>  <span class="id"><a href="InjRels.html">InjRels</a></span> <span class="id"><a href="Footprint.html">Footprint</a></span>.<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Op.html">Op</a></span> <span class="id"><a href="Registers.html">Registers</a></span> <span class="id"><a href="val_casted.html">val_casted</a></span> <span class="id"><a href="CUAST.html">CUAST</a></span> <span class="id"><a href="GMemory.html">GMemory</a></span> <span class="id"><a href="FMemory.html">FMemory</a></span> <span class="id"><a href="InteractionSemantics.html">InteractionSemantics</a></span> <span class="id"><a href="Blockset.html">Blockset</a></span> <span class="id"><a href="SeqCorrect.html">SeqCorrect</a></span> <span class="id"><a href="IS_local.html">IS_local</a></span> <span class="id"><a href="LDSim_local.html">LDSim_local</a></span> <span class="id"><a href="Localize.html">Localize</a></span> <span class="id"><a href="AsmLang.html">AsmLang</a></span> <span class="id"><a href="ASM_local.html">ASM_local</a></span> <span class="id"><a href="Op_fp.html">Op_fp</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="LDSimDefs_local.html">LDSimDefs_local</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.micromega.Lia.html">Lia</a></span>. <br/>
<br/>
<span class="kwd">Local</span> <span class="kwd">Ltac</span> <span class="id">Hsimpl</span>:=<br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H1</span>:?<span class="id">a</span>,<span class="id">H2</span>:?<span class="id">a</span>-&gt;?<span class="id">b</span>|-<span class="id">_</span>=&gt;<span class="id">specialize</span> (<span class="id">H2</span> <span class="id">H1</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>:<span class="id">_</span>/\<span class="id">_</span>|-<span class="id">_</span>=&gt; <span class="tactic">destruct</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>:<span class="id">exists</span> <span class="id">_</span>,<span class="id">_</span>|-<span class="id">_</span>=&gt;<span class="tactic">destruct</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<span class="kwd">Local</span> <span class="kwd">Ltac</span> <span class="id">Esimpl</span>:=<br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>:<span class="id">_</span>|-<span class="id">_</span>/\<span class="id">_</span>=&gt;<span class="tactic">split</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>:<span class="id">_</span>|-<span class="id">exists</span> <span class="id">_</span>,<span class="id">_</span>=&gt;<span class="id">eexists</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<span class="kwd">Local</span> <span class="kwd">Ltac</span> <span class="id">ex_match</span>:=<br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id">_</span> =&gt; <span class="id">_</span> <span class="kwd">end</span> = <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="tactic">destruct</span> <span class="id">x</span> <span class="id">eqn</span>:?<span class="id">Hx</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>:<span class="id">_</span> |- <span class="id">context</span>[<span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id">_</span> =&gt; <span class="id">_</span> <span class="kwd">end</span>] =&gt; <span class="tactic">destruct</span> <span class="id">x</span> <span class="id">eqn</span>:?<span class="id">Hx</span>;<span class="tactic">try</span> <span class="tactic">discriminate</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>;<span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="id_trans_asm">id_trans_asm</a></span>: @<span class="id"><a href="InteractionSemantics.html#seq_comp">seq_comp</a></span> <span class="id"><a href="AsmLang.html#AsmLang">AsmLang</a></span> <span class="id"><a href="AsmLang.html#AsmLang">AsmLang</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> <span class="id">cu</span> =&gt; <span class="id">assertion</span> (<span class="id"><a href="CUAST.html#nodup_gd_ident">nodup_gd_ident</a></span> (<span class="id"><a href="CUAST.html#cu_defs">cu_defs</a></span> <span class="id"><a href="AsmIDTransCorrect.html#cu">cu</a></span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">assertion</span> (<span class="id"><a href="CUAST.html#nodup_ef">nodup_ef</a></span> (<span class="id"><a href="CUAST.html#cu_defs">cu_defs</a></span> <span class="id"><a href="AsmIDTransCorrect.html#cu">cu</a></span>));<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="AsmIDTransCorrect.html#cu">cu</a></span>.<br/>
<br/>
<span class="kwd">Import</span> <span class="id">Maps</span> <span class="id">Integers</span> <span class="id">Values</span> <span class="id">Asm</span> <span class="id">ASM_local</span> <span class="id">Injections</span> <span class="id">Footprint</span> <span class="id">LDSimDefs</span> <span class="id">LDSimDefs_local</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">AST</span> <span class="id">Memory</span> <span class="id">MemClosures_local</span> <span class="id">InjRels</span> <span class="id">val_casted</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="match_regset">match_regset</a></span> (<span class="id">rs</span> <span class="id">rs</span>': <span class="id"><a href="Asm.html#regset">Asm.regset</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">r</span>, <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> # <span class="id"><a href="AsmIDTransCorrect.html#r">r</a></span>) (<span class="id">rs</span>' # <span class="id"><a href="AsmIDTransCorrect.html#r">r</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="set_match_regset">set_match_regset</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rs</span> <span class="id">rs</span>' <span class="id">r</span> <span class="id">v</span> <span class="id">v</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id">rs</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="AsmIDTransCorrect.html#v">v</a></span> <span class="id">v</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> (<span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> # <span class="id"><a href="AsmIDTransCorrect.html#r">r</a></span> &lt;- <span class="id"><a href="AsmIDTransCorrect.html#v">v</a></span>) (<span class="id">rs</span>' # <span class="id"><a href="AsmIDTransCorrect.html#r">r</a></span> &lt;- <span class="id">v</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6886')">Proof.</div>
<div class="proofscript" id="proof6886">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">intro</span> <span class="id">r</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Asm.html#Pregmap.elt_eq">Pregmap.elt_eq</a></span> <span class="id">r</span> <span class="id">r</span>');<br/>
&nbsp;&nbsp;&nbsp;&nbsp;[<span class="tactic">subst</span>; <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Asm.html#Pregmap.gss">Pregmap.gss</a></span>| <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Asm.html#Pregmap.gso">Pregmap.gso</a></span>]; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="set_res_match_regset">set_res_match_regset</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">br</span> <span class="id">rs</span> <span class="id">rs</span>' <span class="id">v</span> <span class="id">v</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id">rs</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="AsmIDTransCorrect.html#v">v</a></span> <span class="id">v</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> (<span class="id"><a href="Asm.html#set_res">set_res</a></span> <span class="id"><a href="AsmIDTransCorrect.html#br">br</a></span> <span class="id"><a href="AsmIDTransCorrect.html#v">v</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span>) (<span class="id"><a href="Asm.html#set_res">set_res</a></span> <span class="id"><a href="AsmIDTransCorrect.html#br">br</a></span> <span class="id">v</span>' <span class="id">rs</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6887')">Proof.</div>
<div class="proofscript" id="proof6887">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">br</span>; <span class="tactic">intros</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span> <span class="kwd">using</span> <span class="id"><a href="AsmIDTransCorrect.html#set_match_regset">set_match_regset</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">IHbr2</span>. <span class="tactic">apply</span> <span class="id">IHbr1</span>. <span class="tactic">auto</span>. <span class="id">inv</span> <span class="id">H0</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="id">inv</span> <span class="id">H0</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="undef_match_regset">undef_match_regset</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rl</span> <span class="id">rs</span> <span class="id">rs</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id">rs</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> (<span class="id"><a href="Asm.html#undef_regs">undef_regs</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rl">rl</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span>) (<span class="id"><a href="Asm.html#undef_regs">undef_regs</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rl">rl</a></span> <span class="id">rs</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6888')">Proof.</div>
<div class="proofscript" id="proof6888">
 <span class="tactic">induction</span> <span class="id">rl</span>; <span class="tactic">intros</span>; <span class="tactic">auto</span>. <span class="tactic">simpl</span>. <span class="tactic">apply</span> <span class="id">IHrl</span>; <span class="tactic">auto</span> <span class="kwd">using</span> <span class="id"><a href="AsmIDTransCorrect.html#set_match_regset">set_match_regset</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="offset_ptr_lessdef">offset_ptr_lessdef</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">v</span> <span class="id">v</span>' <span class="id">i</span>, <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="AsmIDTransCorrect.html#v">v</a></span> <span class="id">v</span>' -&gt; <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="Values.html#Val.offset_ptr">Val.offset_ptr</a></span> <span class="id"><a href="AsmIDTransCorrect.html#v">v</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span>) (<span class="id"><a href="Values.html#Val.offset_ptr">Val.offset_ptr</a></span> <span class="id">v</span>' <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6889')">Proof.</div>
<div class="proofscript" id="proof6889">
 <span class="tactic">inversion</span> 1; <span class="tactic">auto</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="match_regset_lessdef">match_regset_lessdef</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rs</span> <span class="id">rs</span>' <span class="id">r</span>, <span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id">rs</span>' -&gt; <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> # <span class="id"><a href="AsmIDTransCorrect.html#r">r</a></span>) (<span class="id">rs</span>' # <span class="id"><a href="AsmIDTransCorrect.html#r">r</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6890')">Proof.</div>
<div class="proofscript" id="proof6890">
 <span class="tactic">auto</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_addrmode_lessdef">eval_addrmode_lessdef</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">a</span> <span class="id">rs</span> <span class="id">rs</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id">rs</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="ASM_local.html#eval_addrmode">eval_addrmode</a></span> <span class="id"><a href="AsmIDTransCorrect.html#ge">ge</a></span> <span class="id"><a href="AsmIDTransCorrect.html#a">a</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span>) (<span class="id"><a href="ASM_local.html#eval_addrmode">eval_addrmode</a></span> <span class="id"><a href="AsmIDTransCorrect.html#ge">ge</a></span> <span class="id"><a href="AsmIDTransCorrect.html#a">a</a></span> <span class="id">rs</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6891')">Proof.</div>
<div class="proofscript" id="proof6891">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="ASM_local.html#eval_addrmode">eval_addrmode</a></span>, <span class="id"><a href="ASM_local.html#eval_addrmode64">eval_addrmode64</a></span>, <span class="id"><a href="ASM_local.html#eval_addrmode32">eval_addrmode32</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span>; <span class="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span> <span class="kwd">as</span> [[<span class="id">r1</span>|] [[<span class="id">r2</span> <span class="id">z1</span>]|] [<span class="id">z2</span> | [<span class="id">id</span> <span class="id">ofs</span>]]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.addl_lessdef">Val.addl_lessdef</a></span>; <span class="tactic">repeat</span> <span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.add_lessdef">Val.add_lessdef</a></span>; <span class="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#zeq">zeq</a></span>; <span class="tactic">auto</span>; <span class="tactic">destruct</span> (<span class="id">H</span> <span class="id">r2</span>); <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_addrmode32_lessdef">eval_addrmode32_lessdef</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">a</span> <span class="id">rs</span> <span class="id">rs</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id">rs</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="ASM_local.html#eval_addrmode32">eval_addrmode32</a></span> <span class="id"><a href="AsmIDTransCorrect.html#ge">ge</a></span> <span class="id"><a href="AsmIDTransCorrect.html#a">a</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span>) (<span class="id"><a href="ASM_local.html#eval_addrmode32">eval_addrmode32</a></span> <span class="id"><a href="AsmIDTransCorrect.html#ge">ge</a></span> <span class="id"><a href="AsmIDTransCorrect.html#a">a</a></span> <span class="id">rs</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6892')">Proof.</div>
<div class="proofscript" id="proof6892">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="ASM_local.html#eval_addrmode">eval_addrmode</a></span>, <span class="id"><a href="ASM_local.html#eval_addrmode64">eval_addrmode64</a></span>, <span class="id"><a href="ASM_local.html#eval_addrmode32">eval_addrmode32</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span>; <span class="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span> <span class="kwd">as</span> [[<span class="id">r1</span>|] [[<span class="id">r2</span> <span class="id">z1</span>]|] [<span class="id">z2</span> | [<span class="id">id</span> <span class="id">ofs</span>]]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.addl_lessdef">Val.addl_lessdef</a></span>; <span class="tactic">repeat</span> <span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.add_lessdef">Val.add_lessdef</a></span>; <span class="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#zeq">zeq</a></span>; <span class="tactic">auto</span>; <span class="tactic">destruct</span> (<span class="id">H</span> <span class="id">r2</span>); <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_addrmode64_lessdef">eval_addrmode64_lessdef</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">a</span> <span class="id">rs</span> <span class="id">rs</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id">rs</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="ASM_local.html#eval_addrmode64">eval_addrmode64</a></span> <span class="id"><a href="AsmIDTransCorrect.html#ge">ge</a></span> <span class="id"><a href="AsmIDTransCorrect.html#a">a</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span>) (<span class="id"><a href="ASM_local.html#eval_addrmode64">eval_addrmode64</a></span> <span class="id"><a href="AsmIDTransCorrect.html#ge">ge</a></span> <span class="id"><a href="AsmIDTransCorrect.html#a">a</a></span> <span class="id">rs</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6893')">Proof.</div>
<div class="proofscript" id="proof6893">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="ASM_local.html#eval_addrmode">eval_addrmode</a></span>, <span class="id"><a href="ASM_local.html#eval_addrmode64">eval_addrmode64</a></span>, <span class="id"><a href="ASM_local.html#eval_addrmode32">eval_addrmode32</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span>; <span class="tactic">intros</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span> <span class="kwd">as</span> [[<span class="id">r1</span>|] [[<span class="id">r2</span> <span class="id">z1</span>]|] [<span class="id">z2</span> | [<span class="id">id</span> <span class="id">ofs</span>]]];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.addl_lessdef">Val.addl_lessdef</a></span>; <span class="tactic">repeat</span> <span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.add_lessdef">Val.add_lessdef</a></span>; <span class="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#zeq">zeq</a></span>; <span class="tactic">auto</span>; <span class="tactic">destruct</span> (<span class="id">H</span> <span class="id">r2</span>); <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<span class="kwd">Definition</span> <span class="id"><a name="local_content_eq">local_content_eq</a></span> (<span class="id">ge</span>:<span class="id"><a href="ASM_local.html#genv">genv</a></span>) <span class="id">m</span> <span class="id">m</span>' :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span>, <span class="id"><a href="Coqlib.html#Ple">Ple</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id"><a href="AsmIDTransCorrect.html#ge">ge</a></span>) <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.perm">Mem.perm</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span> <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> <span class="id"><a href="AsmIDTransCorrect.html#ofs">ofs</a></span> <span class="id"><a href="Memtype.html#Cur">Cur</a></span> <span class="id"><a href="Memtype.html#Readable">Readable</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Maps.html#ZMap.get">ZMap.get</a></span> <span class="id"><a href="AsmIDTransCorrect.html#ofs">ofs</a></span> ((<span class="id"><a href="Memory.html#Mem.mem_contents">Mem.mem_contents</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span>) !! <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span>) = <span class="id"><a href="Maps.html#ZMap.get">ZMap.get</a></span> <span class="id"><a href="AsmIDTransCorrect.html#ofs">ofs</a></span> ((<span class="id"><a href="Memory.html#Mem.mem_contents">Mem.mem_contents</a></span> <span class="id">m</span>') !! <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span>).<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="local_perm_eq">local_perm_eq</a></span> (<span class="id">ge</span>:<span class="id"><a href="ASM_local.html#genv">genv</a></span>) <span class="id">m</span> <span class="id">m</span>' :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Coqlib.html#Ple">Ple</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id"><a href="AsmIDTransCorrect.html#ge">ge</a></span>) <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Memory.html#Mem.mem_access">Mem.mem_access</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span>) !! <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> = (<span class="id"><a href="Memory.html#Mem.mem_access">Mem.mem_access</a></span> <span class="id">m</span>') !! <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span>.<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="exec_load_fp_match">exec_load_fp_match</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">chunk</span> <span class="id">a</span> <span class="id">rs</span> <span class="id">rs</span>' <span class="id">m</span> <span class="id">rs2</span> <span class="id">m2</span> <span class="id">rd</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#exec_load">exec_load</a></span> <span class="id"><a href="AsmIDTransCorrect.html#ge">ge</a></span> <span class="id"><a href="AsmIDTransCorrect.html#chunk">chunk</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span> <span class="id"><a href="AsmIDTransCorrect.html#a">a</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rd">rd</a></span> = <span class="kwd">Next</span> <span class="id"><a href="AsmIDTransCorrect.html#rs2">rs2</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m2">m2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id">rs</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> (<span class="id"><a href="ASM_local.html#exec_load_fp">exec_load_fp</a></span> <span class="id"><a href="AsmIDTransCorrect.html#ge">ge</a></span> <span class="id"><a href="AsmIDTransCorrect.html#chunk">chunk</a></span> <span class="id"><a href="AsmIDTransCorrect.html#a">a</a></span> <span class="id">rs</span>')(<span class="id"><a href="ASM_local.html#exec_load_fp">exec_load_fp</a></span> <span class="id"><a href="AsmIDTransCorrect.html#ge">ge</a></span> <span class="id"><a href="AsmIDTransCorrect.html#chunk">chunk</a></span> <span class="id"><a href="AsmIDTransCorrect.html#a">a</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6894')">Proof.</div>
<div class="proofscript" id="proof6894">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="ASM_local.html#exec_load_fp">exec_load_fp</a></span>,<span class="id"><a href="ASM_local.html#exec_load">exec_load</a></span>, <span class="id"><a href="FMemOpFP.html#loadv_fp">FMemOpFP.loadv_fp</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">ex_match</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.subset_emp">FP.subset_emp</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#eval_addrmode_lessdef">eval_addrmode_lessdef</a></span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="id">erewrite</span> <span class="id">H3</span>,<span class="id">Hx0</span> <span class="kwd">in</span> <span class="id">Hx1</span>. <span class="id">inv</span> <span class="id">Hx1</span>. <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.subset_refl">FP.subset_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H2</span> <span class="kwd">in</span> <span class="id">Hx1</span>. <span class="id">inv</span> <span class="id">Hx1</span>.<br/>
Qed.</div>
<br/>
&nbsp;&nbsp;<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="exec_load_match">exec_load_match</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">chunk</span> <span class="id">a</span> <span class="id">rd</span> <span class="id">m1</span> <span class="id">rs1</span> <span class="id">m2</span> <span class="id">rs2</span> <span class="id">m1</span>' <span class="id">rs1</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#exec_load">exec_load</a></span> <span class="id"><a href="AsmIDTransCorrect.html#ge">ge</a></span> <span class="id"><a href="AsmIDTransCorrect.html#chunk">chunk</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m1">m1</a></span> <span class="id"><a href="AsmIDTransCorrect.html#a">a</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs1">rs1</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rd">rd</a></span> = <span class="kwd">Next</span> <span class="id"><a href="AsmIDTransCorrect.html#rs2">rs2</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m2">m2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m1">m1</a></span> <span class="id">m1</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs1">rs1</a></span> <span class="id">rs1</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">rs2</span>' <span class="id">m2</span>', <span class="id"><a href="ASM_local.html#exec_load">exec_load</a></span> <span class="id"><a href="AsmIDTransCorrect.html#ge">ge</a></span> <span class="id"><a href="AsmIDTransCorrect.html#chunk">chunk</a></span> <span class="id">m1</span>' <span class="id"><a href="AsmIDTransCorrect.html#a">a</a></span> <span class="id">rs1</span>' <span class="id"><a href="AsmIDTransCorrect.html#rd">rd</a></span> = <span class="kwd">Next</span> <span class="id">rs2</span>' <span class="id">m2</span>' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m2">m2</a></span> <span class="id">m2</span>' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs2">rs2</a></span> <span class="id">rs2</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6895')">Proof.</div>
<div class="proofscript" id="proof6895">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="ASM_local.html#exec_load">exec_load</a></span>. <span class="tactic">intros</span> <span class="id">until</span> 1.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Memory.html#Mem.loadv">Mem.loadv</a></span> <span class="id">eqn</span>:<span class="id">LOAD</span>; <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="AsmIDTransCorrect.html#eval_addrmode_lessdef">eval_addrmode_lessdef</a></span> <span class="id">ge</span> <span class="id">a</span> <span class="id">rs1</span> <span class="id">rs1</span>'); <span class="tactic">eauto</span>. <br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="ASM_local.html#eval_addrmode">eval_addrmode</a></span> <span class="id">ge</span> <span class="id">a</span> <span class="id">rs1</span>); <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="tactic">intro</span> <span class="id">A</span>. <span class="id">inv</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.loadv_extends">Mem.loadv_extends</a></span> <span class="kwd">in</span> <span class="id">LOAD</span>; <span class="tactic">eauto</span>. <span class="tactic">destruct</span> <span class="id">LOAD</span> <span class="kwd">as</span> [<span class="id">v</span>' [<span class="id">LOAD</span> <span class="id">VALLESSDEF</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">LOAD</span>.<br/>
&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span>, <span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#set_match_regset">set_match_regset</a></span>; <span class="tactic">auto</span> <span class="kwd">using</span> <span class="id"><a href="AsmIDTransCorrect.html#undef_match_regset">undef_match_regset</a></span>, <span class="id"><a href="AsmIDTransCorrect.html#offset_ptr_lessdef">offset_ptr_lessdef</a></span>, <span class="id"><a href="AsmIDTransCorrect.html#set_match_regset">set_match_regset</a></span>, <span class="id"><a href="AsmIDTransCorrect.html#match_regset_lessdef">match_regset_lessdef</a></span>.<br/>
Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
<span class="kwd">Local</span> <span class="kwd">Ltac</span> <span class="id">solv_eq</span>:=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| [<span class="id">H1</span>: ?<span class="id">P</span> , <span class="id">H2</span> : ?<span class="id">P</span> |- <span class="id">_</span>] =&gt; <span class="tactic">clear</span> <span class="id">H1</span><br/>
&nbsp;&nbsp;| [<span class="id">H1</span>: ?<span class="id">P</span> = <span class="id">_</span>, <span class="id">H2</span>: ?<span class="id">P</span> = <span class="id">_</span> |- <span class="id">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H2</span><br/>
&nbsp;&nbsp;| [<span class="id">H1</span>: ?<span class="id">P</span> = <span class="id">_</span> , <span class="id">H2</span>: <span class="id">_</span> = ?<span class="id">P</span> |- <span class="id">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H2</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">_</span> <span class="id">_</span> |- <span class="id">_</span>=&gt; <span class="id">inv</span> <span class="id">H</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">_</span> = <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">_</span>|- <span class="id">_</span> =&gt; <span class="id">inv</span> <span class="id">H</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">_</span> = <span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id">_</span>|- <span class="id">_</span> =&gt; <span class="id">inv</span> <span class="id">H</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="Values.html#Vfloat">Vfloat</a></span> <span class="id">_</span> = <span class="id"><a href="Values.html#Vfloat">Vfloat</a></span> <span class="id">_</span>|- <span class="id">_</span> =&gt; <span class="id">inv</span> <span class="id">H</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="Values.html#Vsingle">Vsingle</a></span> <span class="id">_</span> = <span class="id"><a href="Values.html#Vsingle">Vsingle</a></span> <span class="id">_</span>|- <span class="id">_</span> =&gt; <span class="id">inv</span> <span class="id">H</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="kwd">Next</span> <span class="id">_</span> <span class="id">_</span> = <span class="kwd">Next</span> <span class="id">_</span> <span class="id">_</span>|- <span class="id">_</span>=&gt; <span class="id">inv</span> <span class="id">H</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: ?<span class="id">p</span> = <span class="id">_</span> |- <span class="id">context</span>[<span class="kwd">match</span> ?<span class="id">p</span> <span class="kwd">with</span> <span class="id">_</span> =&gt; <span class="id">_</span> <span class="kwd">end</span>] =&gt; <span class="tactic">rewrite</span> <span class="id">H</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>;<span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="match_regset_rs_val">match_regset_rs_val</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rs</span> <span class="id">rs</span>' <span class="id">r</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id">rs</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rs</span>' <span class="id"><a href="AsmIDTransCorrect.html#r">r</a></span> = <span class="id"><a href="Values.html#Vundef">Vundef</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id"><a href="AsmIDTransCorrect.html#r">r</a></span> = <span class="id"><a href="Values.html#Vundef">Vundef</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6896')">Proof.</div>
<div class="proofscript" id="proof6896">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#match_regset_lessdef">match_regset_lessdef</a></span> <span class="kwd">with</span>(<span class="id">r</span>:=<span class="id">r</span>) <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="tactic">congruence</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="match_regset_rs_val2">match_regset_rs_val2</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rs</span> <span class="id">rs</span>' <span class="id">r</span> <span class="id">i</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id">rs</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id"><a href="AsmIDTransCorrect.html#r">r</a></span> = <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> &lt;&gt; <span class="id"><a href="Values.html#Vundef">Vundef</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rs</span>' <span class="id"><a href="AsmIDTransCorrect.html#r">r</a></span> = <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6897')">Proof.</div>
<div class="proofscript" id="proof6897">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#match_regset_lessdef">match_regset_lessdef</a></span> <span class="kwd">with</span>(<span class="id">r</span>:=<span class="id">r</span>) <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="tactic">congruence</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="weak_valid_pointer_fp_univ_subset">weak_valid_pointer_fp_univ_subset</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">b</span> <span class="id">i</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> (<span class="id"><a href="MemOpFP.html#weak_valid_pointer_fp">MemOpFP.weak_valid_pointer_fp</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span> <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span>) {|<span class="id"><a href="Footprint.html#FP.Build_t">FP.cmps</a></span> := <span class="id"><a href="Footprint.html#Locs.univ">Locs.univ</a></span>;<span class="id">FP.reads</span> := <span class="id"><a href="Footprint.html#Locs.emp">Locs.emp</a></span>;<span class="id">FP.writes</span> := <span class="id"><a href="Footprint.html#Locs.emp">Locs.emp</a></span>;<span class="id">FP.frees</span> := <span class="id"><a href="Footprint.html#Locs.emp">Locs.emp</a></span> |}.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6898')">Proof.</div>
<div class="proofscript" id="proof6898">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="MemOpFP.html#weak_valid_pointer_fp">MemOpFP.weak_valid_pointer_fp</a></span>,<span class="id"><a href="FMemOpFP.html#valid_pointer_fp">FMemOpFP.valid_pointer_fp</a></span>,<span class="id"><a href="FMemOpFP.html#range_locset">FMemOpFP.range_locset</a></span>;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">ex_match</span>;<span class="tactic">simpl</span>;<span class="id">econstructor</span>;<span class="tactic">simpl</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.subset_refl">Locs.subset_refl</a></span>;<span class="id">Locs.unfolds</span>;<span class="tactic">auto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="union_subset_split">union_subset_split</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp1</span> <span class="id">fp2</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> <span class="id"><a href="AsmIDTransCorrect.html#fp1">fp1</a></span> <span class="id"><a href="AsmIDTransCorrect.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> <span class="id"><a href="AsmIDTransCorrect.html#fp2">fp2</a></span> <span class="id"><a href="AsmIDTransCorrect.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="AsmIDTransCorrect.html#fp1">fp1</a></span> <span class="id"><a href="AsmIDTransCorrect.html#fp2">fp2</a></span>) <span class="id"><a href="AsmIDTransCorrect.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6899')">Proof.</div>
<div class="proofscript" id="proof6899">
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">fp1</span>,<span class="id">fp2</span>;<span class="tactic">intros</span>;<span class="id">inv</span> <span class="id">H</span>;<span class="id">inv</span> <span class="id">H0</span>;<span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.union">FP.union</a></span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>;<span class="tactic">simpl</span>;<span class="id">Locs.unfolds</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">cmps</span> <span class="id">eqn</span>:?. <span class="tactic">eapply</span> <span class="id">subset_cmps</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">cmps0</span> <span class="id">eqn</span>:?;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>;<span class="id">inv</span> <span class="id">H</span>. <span class="tactic">eapply</span> <span class="id">subset_cmps0</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">reads</span> <span class="id">eqn</span>:?. <span class="tactic">eapply</span> <span class="id">subset_reads</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">reads0</span> <span class="id">eqn</span>:?;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>;<span class="id">inv</span> <span class="id">H</span>. <span class="tactic">eapply</span> <span class="id">subset_reads0</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">writes</span> <span class="id">eqn</span>:?. <span class="tactic">eapply</span> <span class="id">subset_writes</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">writes0</span> <span class="id">eqn</span>:?;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>;<span class="id">inv</span> <span class="id">H</span>. <span class="tactic">eapply</span> <span class="id">subset_writes0</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">frees</span> <span class="id">eqn</span>:?. <span class="tactic">eapply</span> <span class="id">subset_frees</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">frees0</span> <span class="id">eqn</span>:?;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>;<span class="id">inv</span> <span class="id">H</span>. <span class="tactic">eapply</span> <span class="id">subset_frees0</span>;<span class="tactic">eauto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="valid_pointer_fp_univ_subset">valid_pointer_fp_univ_subset</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">i</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> (<span class="id"><a href="MemOpFP.html#valid_pointer_fp">MemOpFP.valid_pointer_fp</a></span> <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span>) {|<span class="id"><a href="Footprint.html#FP.Build_t">FP.cmps</a></span> := <span class="id"><a href="Footprint.html#Locs.univ">Locs.univ</a></span>;<span class="id">FP.reads</span> := <span class="id"><a href="Footprint.html#Locs.emp">Locs.emp</a></span>;<span class="id">FP.writes</span> := <span class="id"><a href="Footprint.html#Locs.emp">Locs.emp</a></span>;<span class="id">FP.frees</span> := <span class="id"><a href="Footprint.html#Locs.emp">Locs.emp</a></span> |}.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6900')">Proof.</div>
<div class="proofscript" id="proof6900">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemOpFP.html#valid_pointer_fp">FMemOpFP.valid_pointer_fp</a></span>,<span class="id"><a href="FMemOpFP.html#range_locset">FMemOpFP.range_locset</a></span>;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">ex_match</span>;<span class="tactic">simpl</span>;<span class="id">econstructor</span>;<span class="tactic">simpl</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.subset_refl">Locs.subset_refl</a></span>;<span class="id">Locs.unfolds</span>;<span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="exec_store_fp_match">exec_store_fp_match</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">chunk</span> <span class="id">a</span> <span class="id">rs</span> <span class="id">rs</span>' <span class="id">m</span> <span class="id">rs2</span> <span class="id">m2</span> <span class="id">rd</span> <span class="id">dd</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#exec_store">exec_store</a></span> <span class="id"><a href="AsmIDTransCorrect.html#ge">ge</a></span> <span class="id"><a href="AsmIDTransCorrect.html#chunk">chunk</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span> <span class="id"><a href="AsmIDTransCorrect.html#a">a</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rd">rd</a></span>  <span class="id"><a href="AsmIDTransCorrect.html#dd">dd</a></span>= <span class="kwd">Next</span> <span class="id"><a href="AsmIDTransCorrect.html#rs2">rs2</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m2">m2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id">rs</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> (<span class="id"><a href="ASM_local.html#exec_store_fp">exec_store_fp</a></span> <span class="id"><a href="AsmIDTransCorrect.html#ge">ge</a></span> <span class="id"><a href="AsmIDTransCorrect.html#chunk">chunk</a></span> <span class="id"><a href="AsmIDTransCorrect.html#a">a</a></span> <span class="id">rs</span>')(<span class="id"><a href="ASM_local.html#exec_store_fp">exec_store_fp</a></span> <span class="id"><a href="AsmIDTransCorrect.html#ge">ge</a></span> <span class="id"><a href="AsmIDTransCorrect.html#chunk">chunk</a></span> <span class="id"><a href="AsmIDTransCorrect.html#a">a</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6901')">Proof.</div>
<div class="proofscript" id="proof6901">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="ASM_local.html#exec_store_fp">exec_store_fp</a></span>,<span class="id"><a href="ASM_local.html#exec_store">exec_store</a></span>, <span class="id"><a href="FMemOpFP.html#storev_fp">FMemOpFP.storev_fp</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">ex_match</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.subset_emp">FP.subset_emp</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#eval_addrmode_lessdef">eval_addrmode_lessdef</a></span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="id">erewrite</span> <span class="id">H3</span>,<span class="id">Hx0</span> <span class="kwd">in</span> <span class="id">Hx1</span>. <span class="id">inv</span> <span class="id">Hx1</span>. <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.subset_refl">FP.subset_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H2</span> <span class="kwd">in</span> <span class="id">Hx1</span>. <span class="id">inv</span> <span class="id">Hx1</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="exec_store_match">exec_store_match</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">chunk</span> <span class="id">a</span> <span class="id">r1</span> <span class="id">destroyed</span> <span class="id">m1</span> <span class="id">rs1</span> <span class="id">m2</span> <span class="id">rs2</span> <span class="id">m1</span>' <span class="id">rs1</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#exec_store">exec_store</a></span> <span class="id"><a href="AsmIDTransCorrect.html#ge">ge</a></span> <span class="id"><a href="AsmIDTransCorrect.html#chunk">chunk</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m1">m1</a></span> <span class="id"><a href="AsmIDTransCorrect.html#a">a</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs1">rs1</a></span> <span class="id"><a href="AsmIDTransCorrect.html#r1">r1</a></span> <span class="id"><a href="AsmIDTransCorrect.html#destroyed">destroyed</a></span> = <span class="kwd">Next</span> <span class="id"><a href="AsmIDTransCorrect.html#rs2">rs2</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m2">m2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m1">m1</a></span> <span class="id">m1</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs1">rs1</a></span> <span class="id">rs1</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">rs2</span>' <span class="id">m2</span>', <span class="id"><a href="ASM_local.html#exec_store">exec_store</a></span> <span class="id"><a href="AsmIDTransCorrect.html#ge">ge</a></span> <span class="id"><a href="AsmIDTransCorrect.html#chunk">chunk</a></span> <span class="id">m1</span>' <span class="id"><a href="AsmIDTransCorrect.html#a">a</a></span> <span class="id">rs1</span>' <span class="id"><a href="AsmIDTransCorrect.html#r1">r1</a></span> <span class="id"><a href="AsmIDTransCorrect.html#destroyed">destroyed</a></span> = <span class="kwd">Next</span> <span class="id">rs2</span>' <span class="id">m2</span>' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m2">m2</a></span> <span class="id">m2</span>' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs2">rs2</a></span> <span class="id">rs2</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6902')">Proof.</div>
<div class="proofscript" id="proof6902">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="ASM_local.html#exec_store">exec_store</a></span>. <span class="tactic">intros</span> <span class="id">until</span> 1.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Memory.html#Mem.storev">Mem.storev</a></span> <span class="id">eqn</span>:<span class="id">STORE</span>; <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="AsmIDTransCorrect.html#eval_addrmode_lessdef">eval_addrmode_lessdef</a></span> <span class="id">ge</span> <span class="id">a</span> <span class="id">rs1</span> <span class="id">rs1</span>'); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="ASM_local.html#eval_addrmode">eval_addrmode</a></span> <span class="id">ge</span> <span class="id">a</span> <span class="id">rs1</span>); <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="tactic">intro</span> <span class="id">A</span>. <span class="id">inv</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.storev_extends">Mem.storev_extends</a></span> <span class="kwd">in</span> <span class="id">STORE</span>; <span class="tactic">eauto</span>. <span class="tactic">destruct</span> <span class="id">STORE</span> <span class="kwd">as</span> [<span class="id">m2</span>' [<span class="id">STORE</span> <span class="id">EXT</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">STORE</span>. <span class="tactic">do</span> 2 <span class="id">eexists</span>. <span class="tactic">split</span>. <span class="tactic">eauto</span>. <span class="tactic">split</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span>, <span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#set_match_regset">set_match_regset</a></span>; <span class="tactic">auto</span> <span class="kwd">using</span> <span class="id"><a href="AsmIDTransCorrect.html#undef_match_regset">undef_match_regset</a></span>, <span class="id"><a href="AsmIDTransCorrect.html#offset_ptr_lessdef">offset_ptr_lessdef</a></span>, <span class="id"><a href="AsmIDTransCorrect.html#set_match_regset">set_match_regset</a></span>, <span class="id"><a href="AsmIDTransCorrect.html#match_regset_lessdef">match_regset_lessdef</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="cons_lessdef">cons_lessdef</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">v</span> <span class="id">v</span>' <span class="id">f</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#f">f</a></span> <span class="id"><a href="Values.html#Vundef">Vundef</a></span> = <span class="id"><a href="Values.html#Vundef">Vundef</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="AsmIDTransCorrect.html#v">v</a></span> <span class="id">v</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="AsmIDTransCorrect.html#f">f</a></span> <span class="id"><a href="AsmIDTransCorrect.html#v">v</a></span>)(<span class="id"><a href="AsmIDTransCorrect.html#f">f</a></span> <span class="id">v</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6903')">Proof.</div>
<div class="proofscript" id="proof6903">
&nbsp;&nbsp;<span class="tactic">inversion</span> 2;<span class="tactic">subst</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id">H</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="lessdef_maketotal_f">lessdef_maketotal_f</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">r</span> <span class="id">r</span>' <span class="id">f</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#f">f</a></span> <span class="id"><a href="Values.html#Vundef">Vundef</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Values.html#Vundef">Vundef</a></span> \/ <span class="id"><a href="AsmIDTransCorrect.html#f">f</a></span> <span class="id"><a href="Values.html#Vundef">Vundef</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="AsmIDTransCorrect.html#r">r</a></span> <span class="id">r</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="Values.html#Val.maketotal">Val.maketotal</a></span> (<span class="id"><a href="AsmIDTransCorrect.html#f">f</a></span> <span class="id"><a href="AsmIDTransCorrect.html#r">r</a></span>))(<span class="id"><a href="Values.html#Val.maketotal">Val.maketotal</a></span> (<span class="id"><a href="AsmIDTransCorrect.html#f">f</a></span> <span class="id">r</span>')).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6904')">Proof.</div>
<div class="proofscript" id="proof6904">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span>;<span class="tactic">rewrite</span> <span class="id">H</span>;<span class="tactic">auto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="lessdef_binop">lessdef_binop</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">a</span>' <span class="id">b</span> <span class="id">b</span>' <span class="id">f</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">a</span> <span class="id">b</span>, <span class="id"><a href="AsmIDTransCorrect.html#a">a</a></span> = <span class="id"><a href="Values.html#Vundef">Vundef</a></span> \/ <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> = <span class="id"><a href="Values.html#Vundef">Vundef</a></span> -&gt;<span class="id"><a href="AsmIDTransCorrect.html#f">f</a></span> <span class="id"><a href="AsmIDTransCorrect.html#a">a</a></span> <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> = <span class="id"><a href="Values.html#Vundef">Vundef</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="AsmIDTransCorrect.html#a">a</a></span> <span class="id">a</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> <span class="id">b</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="AsmIDTransCorrect.html#f">f</a></span> <span class="id"><a href="AsmIDTransCorrect.html#a">a</a></span> <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span>)(<span class="id"><a href="AsmIDTransCorrect.html#f">f</a></span> <span class="id">a</span>' <span class="id">b</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6905')">Proof.</div>
<div class="proofscript" id="proof6905">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>;<span class="id">inv</span> <span class="id">H0</span>;<span class="tactic">auto</span>;<span class="id">erewrite</span> <span class="id">H</span>;<span class="tactic">eauto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="onceset_match_regset">onceset_match_regset</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rs</span> <span class="id">rs</span>' <span class="id">rd</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id">rs</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> # <span class="id"><a href="AsmIDTransCorrect.html#rd">rd</a></span> &lt;- <span class="id"><a href="Values.html#Vundef">Vundef</a></span> <span class="id">rs</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6906')">Proof.</div>
<div class="proofscript" id="proof6906">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Asm.html#Pregmap.elt_eq">Pregmap.elt_eq</a></span> <span class="id">r</span> <span class="id">rd</span>). <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Asm.html#Pregmap.gss">Pregmap.gss</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Asm.html#Pregmap.gso">Pregmap.gso</a></span>;<span class="tactic">auto</span>.<br/>
Qed.</div>
<span class="kwd">Ltac</span> <span class="id">solv_rs</span>:=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">H0</span>:<span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> ?<span class="id">rs</span> ?<span class="id">rs</span>',<span class="id">H1</span>:?<span class="id">rs</span>' ?<span class="id">a</span> = <span class="id"><a href="Values.html#Vundef">Vundef</a></span> |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#match_regset_rs_val">match_regset_rs_val</a></span> <span class="kwd">in</span> <span class="id">H1</span>;<span class="tactic">eauto</span>;<span class="tactic">try</span> <span class="tactic">discriminate</span>;<span class="id">solv_eq</span><br/>
&nbsp;&nbsp;| <span class="id">H0</span>:<span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> ?<span class="id">rs</span> ?<span class="id">rs</span>',<span class="id">H1</span>:?<span class="id">rs</span> ?<span class="id">a</span> = <span class="id">_</span> <span class="id">_</span>  |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#match_regset_rs_val2">match_regset_rs_val2</a></span> <span class="kwd">in</span> <span class="id">H1</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">H0</span>;<span class="tactic">eauto</span>;<span class="tactic">try</span> <span class="tactic">discriminate</span>;<span class="id">solv_eq</span><br/>
&nbsp;&nbsp;| <span class="id">H0</span>:<span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> ?<span class="id">rs</span> ?<span class="id">rs</span>',<span class="id">H1</span>:?<span class="id">rs</span> ?<span class="id">a</span> = <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#match_regset_rs_val2">match_regset_rs_val2</a></span> <span class="kwd">in</span> <span class="id">H1</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">H0</span>;<span class="tactic">eauto</span>;<span class="tactic">try</span> <span class="tactic">discriminate</span>;<span class="id">solv_eq</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_testcond_true_regset">eval_testcond_true_regset</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rs</span> <span class="id">rs</span>' <span class="id">c</span> <span class="id">res</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id">rs</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#res">res</a></span> &lt;&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Asm.html#eval_testcond">eval_testcond</a></span> <span class="id"><a href="AsmIDTransCorrect.html#c">c</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> = <span class="id"><a href="AsmIDTransCorrect.html#res">res</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Asm.html#eval_testcond">eval_testcond</a></span> <span class="id"><a href="AsmIDTransCorrect.html#c">c</a></span> <span class="id">rs</span>' = <span class="id"><a href="AsmIDTransCorrect.html#res">res</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6907')">Proof.</div>
<div class="proofscript" id="proof6907">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Asm.html#eval_testcond">eval_testcond</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="kwd">match</span> ?<span class="id">a</span> <span class="kwd">with</span> <span class="id">_</span> =&gt; <span class="id">_</span> <span class="kwd">end</span> = <span class="id">_</span> |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span> <span class="id">eqn</span>:?; <span class="tactic">try</span> <span class="tactic">congruence</span>; <span class="tactic">repeat</span> <span class="id">solv_rs</span>; <span class="tactic">auto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_testcond_false_regset">eval_testcond_false_regset</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rs</span> <span class="id">rs</span>' <span class="id">c</span> ,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id">rs</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Asm.html#eval_testcond">eval_testcond</a></span> <span class="id"><a href="AsmIDTransCorrect.html#c">c</a></span> <span class="id">rs</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Asm.html#eval_testcond">eval_testcond</a></span> <span class="id"><a href="AsmIDTransCorrect.html#c">c</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6908')">Proof.</div>
<div class="proofscript" id="proof6908">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Asm.html#eval_testcond">eval_testcond</a></span> <span class="id">c</span> <span class="id">rs</span>)<span class="id">eqn</span>:?.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#eval_testcond_true_regset">eval_testcond_true_regset</a></span> <span class="kwd">in</span> <span class="id">Heqo</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">Heqo</span>. <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_testcond_lessdef">eval_testcond_lessdef</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">c</span> <span class="id">rs</span> <span class="id">rs</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id">rs</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="Values.html#Val.of_optbool">Val.of_optbool</a></span> (<span class="id"><a href="Asm.html#eval_testcond">eval_testcond</a></span> <span class="id"><a href="AsmIDTransCorrect.html#c">c</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span>))(<span class="id"><a href="Values.html#Val.of_optbool">Val.of_optbool</a></span>(<span class="id"><a href="Asm.html#eval_testcond">eval_testcond</a></span> <span class="id"><a href="AsmIDTransCorrect.html#c">c</a></span> <span class="id">rs</span>')).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6909')">Proof.</div>
<div class="proofscript" id="proof6909">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Asm.html#eval_testcond">eval_testcond</a></span> <span class="id">c</span> <span class="id">rs</span>) <span class="id">eqn</span>:?;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#eval_testcond_true_regset">eval_testcond_true_regset</a></span> <span class="kwd">in</span> <span class="id">Heqo</span>;<span class="tactic">eauto</span>;<span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heqo</span>. <span class="id">constructor</span>.<br/>
Qed.</div>
<span class="kwd">Ltac</span> <span class="id">solv_regset</span>:=<span class="tactic">try</span><br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| |- <span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> (<span class="id">_</span> # <span class="id">_</span> &lt;- <span class="id">_</span>) (<span class="id">_</span> # <span class="id">_</span> &lt;- <span class="id">_</span>) =&gt; <span class="tactic">apply</span> <span class="id"><a href="AsmIDTransCorrect.html#set_match_regset">set_match_regset</a></span>; <span class="tactic">auto</span>; <span class="id">solv_regset</span><br/>
&nbsp;&nbsp;| |- <span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> (?<span class="id">a</span> <span class="id">_</span> # <span class="id">_</span> &lt;- <span class="id">_</span>) (?<span class="id">a</span> <span class="id">_</span> # <span class="id">_</span> &lt;- <span class="id">_</span>) =&gt; <span class="tactic">apply</span> <span class="id"><a href="AsmIDTransCorrect.html#set_match_regset">set_match_regset</a></span>; <span class="tactic">auto</span>; <span class="id">solv_regset</span><br/>
&nbsp;&nbsp;| |- <span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> ( <span class="id">_</span> # <span class="id">_</span> &lt;- <span class="id">_</span>) ?<span class="id">a</span>' =&gt; <span class="tactic">apply</span> <span class="id"><a href="AsmIDTransCorrect.html#onceset_match_regset">onceset_match_regset</a></span>;<span class="tactic">auto</span>;<span class="id">solv_regset</span><br/>
&nbsp;&nbsp;| |- <span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> (<span class="id"><a href="Asm.html#set_res">set_res</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) (<span class="id"><a href="Asm.html#set_res">set_res</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) =&gt; <span class="tactic">apply</span> <span class="id"><a href="AsmIDTransCorrect.html#set_res_match_regset">set_res_match_regset</a></span>; <span class="tactic">auto</span>; <span class="id">solv_regset</span><br/>
&nbsp;&nbsp;| |- <span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> (<span class="id"><a href="Asm.html#undef_regs">undef_regs</a></span> <span class="id">_</span> <span class="id">_</span>) (<span class="id"><a href="Asm.html#undef_regs">undef_regs</a></span> <span class="id">_</span> <span class="id">_</span>) =&gt; <span class="tactic">apply</span> <span class="id"><a href="AsmIDTransCorrect.html#undef_match_regset">undef_match_regset</a></span>; <span class="tactic">auto</span>; <span class="id">solv_regset</span><br/>
&nbsp;&nbsp;| |- <span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> (<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> <span class="id">_</span>)(<span class="id"><a href="Asm.html#nextinstr">nextinstr</a></span> <span class="id">_</span>) =&gt; <span class="tactic">apply</span> <span class="id"><a href="AsmIDTransCorrect.html#set_match_regset">set_match_regset</a></span>;<span class="tactic">auto</span>;<span class="id">solv_regset</span><br/>
&nbsp;&nbsp;| |- <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="Values.html#Val.offset_ptr">Val.offset_ptr</a></span> <span class="id">_</span> <span class="id">_</span>) (<span class="id"><a href="Values.html#Val.offset_ptr">Val.offset_ptr</a></span> <span class="id">_</span> <span class="id">_</span>) =&gt; <span class="tactic">apply</span> <span class="id"><a href="AsmIDTransCorrect.html#offset_ptr_lessdef">offset_ptr_lessdef</a></span>; <span class="tactic">auto</span>; <span class="id">solv_regset</span><br/>
&nbsp;&nbsp;| |- <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="Values.html#Val.zero_ext">Val.zero_ext</a></span> ?<span class="id">a</span> <span class="id">_</span>)(<span class="id"><a href="Values.html#Val.zero_ext">Val.zero_ext</a></span> ?<span class="id">a</span> <span class="id">_</span>) =&gt; <span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.zero_ext_lessdef">Val.zero_ext_lessdef</a></span>; <span class="tactic">auto</span>; <span class="id">solv_regset</span><br/>
&nbsp;&nbsp;| |- <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="Values.html#Val.sign_ext">Val.sign_ext</a></span> ?<span class="id">a</span> <span class="id">_</span>)(<span class="id"><a href="Values.html#Val.sign_ext">Val.sign_ext</a></span> ?<span class="id">a</span> <span class="id">_</span>) =&gt; <span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.sign_ext_lessdef">Val.sign_ext_lessdef</a></span>; <span class="tactic">auto</span>; <span class="id">solv_regset</span><br/>
&nbsp;&nbsp;| |- <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="Values.html#Val.of_optbool">Val.of_optbool</a></span> (<span class="id"><a href="Asm.html#eval_testcond">eval_testcond</a></span> ?<span class="id">c</span> ?<span class="id">rs</span>))(<span class="id"><a href="Values.html#Val.of_optbool">Val.of_optbool</a></span>(<span class="id"><a href="Asm.html#eval_testcond">eval_testcond</a></span> ?<span class="id">c</span> ?<span class="id">rs</span>')) =&gt; <span class="tactic">apply</span> <span class="id"><a href="AsmIDTransCorrect.html#eval_testcond_lessdef">eval_testcond_lessdef</a></span>;<span class="id">solv_regset</span><br/>
&nbsp;&nbsp;| |- <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="Values.html#Val.maketotal">Val.maketotal</a></span> (?<span class="id">a</span> (?<span class="id">rs</span> ?<span class="id">b</span>)))(<span class="id"><a href="Values.html#Val.maketotal">Val.maketotal</a></span> (?<span class="id">a</span> (?<span class="id">rs</span>' ?<span class="id">b</span>))) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#lessdef_maketotal_f">lessdef_maketotal_f</a></span>;<span class="tactic">eauto</span>;<span class="id">solv_regset</span><br/>
&nbsp;&nbsp;| |- <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="ASM_local.html#eval_addrmode32">eval_addrmode32</a></span> ?<span class="id">ge</span> ?<span class="id">a</span> ?<span class="id">rs1</span>) (<span class="id"><a href="ASM_local.html#eval_addrmode32">eval_addrmode32</a></span> ?<span class="id">ge</span> ?<span class="id">a</span> ?<span class="id">rs1</span>')=&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#eval_addrmode32_lessdef">eval_addrmode32_lessdef</a></span>;<span class="tactic">eauto</span>;<span class="id">solv_regset</span><br/>
&nbsp;&nbsp;| |- <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="ASM_local.html#eval_addrmode64">eval_addrmode64</a></span> ?<span class="id">ge</span> ?<span class="id">a</span> ?<span class="id">rs1</span>) (<span class="id"><a href="ASM_local.html#eval_addrmode64">eval_addrmode64</a></span> ?<span class="id">ge</span> ?<span class="id">a</span> ?<span class="id">rs1</span>')=&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#eval_addrmode64_lessdef">eval_addrmode64_lessdef</a></span>;<span class="tactic">eauto</span>;<span class="id">solv_regset</span><br/>
&nbsp;&nbsp;| |- <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="ASM_local.html#eval_addrmode">eval_addrmode</a></span> ?<span class="id">ge</span> ?<span class="id">a</span> ?<span class="id">rs1</span>) (<span class="id"><a href="ASM_local.html#eval_addrmode">eval_addrmode</a></span> ?<span class="id">ge</span> ?<span class="id">a</span> ?<span class="id">rs1</span>')=&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#eval_addrmode_lessdef">eval_addrmode_lessdef</a></span>;<span class="tactic">eauto</span>;<span class="id">solv_regset</span><br/>
&nbsp;&nbsp;| |- <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (?<span class="id">f</span> <span class="id">_</span> <span class="id">_</span>) (?<span class="id">f</span> <span class="id">_</span> <span class="id">_</span>)=&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#lessdef_binop">lessdef_binop</a></span>;<span class="tactic">eauto</span>;<span class="id">solv_regset</span><br/>
&nbsp;&nbsp;| |- <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (?<span class="id">f</span> <span class="id">_</span>)(?<span class="id">f</span> <span class="id">_</span>) =&gt; <span class="tactic">apply</span> <span class="id"><a href="AsmIDTransCorrect.html#cons_lessdef">cons_lessdef</a></span>;<span class="tactic">auto</span>;<span class="id">solv_regset</span><br/>
&nbsp;&nbsp;| |- <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id">_</span> # <span class="id">_</span>) (<span class="id">_</span> # <span class="id">_</span>) =&gt; <span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#match_regset_lessdef">match_regset_lessdef</a></span>; <span class="id">solv_regset</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<br/>
<span class="kwd">Ltac</span> <span class="id">inv_next</span>:=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="kwd">Next</span> <span class="id">_</span> <span class="id">_</span> = <span class="kwd">Next</span> <span class="id">_</span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">inv</span> <span class="id">H</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="Asm.html#Stuck">Stuck</a></span> = <span class="kwd">Next</span> <span class="id">_</span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">inv</span> <span class="id">H</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="kwd">Next</span> <span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="Asm.html#Stuck">Stuck</a></span> |- <span class="id">_</span> =&gt; <span class="id">inv</span> <span class="id">H</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
&nbsp;<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="regset_jmptbl">regset_jmptbl</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rs</span> <span class="id">rs</span>' <span class="id">b</span> <span class="id">i</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id">rs</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> # <span class="id"><a href="Asm.html#RAX">RAX</a></span> &lt;- <span class="id"><a href="Values.html#Vundef">Vundef</a></span>) # <span class="id"><a href="Asm.html#RDX">RDX</a></span> &lt;- <span class="id"><a href="Values.html#Vundef">Vundef</a></span> <span class="id"><a href="Asm.html#PC">PC</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">rs</span>' # <span class="id"><a href="Asm.html#RAX">RAX</a></span> &lt;- <span class="id"><a href="Values.html#Vundef">Vundef</a></span>) # <span class="id"><a href="Asm.html#RDX">RDX</a></span> &lt;- <span class="id"><a href="Values.html#Vundef">Vundef</a></span> <span class="id"><a href="Asm.html#PC">PC</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6910')">Proof.</div>
<div class="proofscript" id="proof6910">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Asm.html#Pregmap.gso">Pregmap.gso</a></span> <span class="kwd">in</span> *;<span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Asm.html#Pregmap.gso">Pregmap.gso</a></span> <span class="kwd">in</span> *;<span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">solv_rs</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="valid_pointer_extends">valid_pointer_extends</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">m</span>' <span class="id">b</span> <span class="id">i</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span> <span class="id">m</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span> <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id">m</span>' <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6911')">Proof.</div>
<div class="proofscript" id="proof6911">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.valid_pointer_extends">Mem.valid_pointer_extends</a></span> <span class="kwd">in</span> <span class="id">H</span>;<span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="weak_valid_pointer_extends">weak_valid_pointer_extends</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">m</span>' <span class="id">b</span> <span class="id">i</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span> <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span> <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> || <span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span> <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> (<span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span>-1) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id">m</span>' <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> || <span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id">m</span>' <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> (<span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span>-1) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6912')">Proof.</div>
<div class="proofscript" id="proof6912">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id">eqn</span>:?.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#valid_pointer_extends">valid_pointer_extends</a></span> <span class="kwd">in</span> <span class="id">Heqb0</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id">m</span> <span class="id">b</span> (<span class="id">i</span>-1)) <span class="id">eqn</span>:?.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#valid_pointer_extends">valid_pointer_extends</a></span> <span class="kwd">in</span> <span class="id">Heqb1</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span>;<span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">bool</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="union_refl_eq">union_refl_eq</a></span>:  <span class="kwd">forall</span> <span class="id">l</span>, <span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> <span class="id"><a href="AsmIDTransCorrect.html#l">l</a></span> <span class="id"><a href="AsmIDTransCorrect.html#l">l</a></span> = <span class="id"><a href="AsmIDTransCorrect.html#l">l</a></span>.  <span class="tactic">intros</span>;<span class="tactic">eapply</span> <span class="id"><a href="Footprint.html#Locs.locs_eq">Locs.locs_eq</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="Footprint.html#Locs.union_refl">Locs.union_refl</a></span>. Defined.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="fp_union_refl_eq">fp_union_refl_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="AsmIDTransCorrect.html#fp">fp</a></span> <span class="id"><a href="AsmIDTransCorrect.html#fp">fp</a></span> = <span class="id"><a href="AsmIDTransCorrect.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6913')">Proof.</div>
<div class="proofscript" id="proof6913">
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">fp</span>. <span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.union">FP.union</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">f_equal</span>;<span class="tactic">apply</span> <span class="id"><a href="AsmIDTransCorrect.html#union_refl_eq">union_refl_eq</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="compare_floats_regset_match">compare_floats_regset_match</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">i</span> <span class="id">j</span> <span class="id">rs</span> <span class="id">rs</span>' <span class="id">i</span>' <span class="id">j</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id">rs</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> <span class="id">i</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="AsmIDTransCorrect.html#j">j</a></span> <span class="id">j</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> (<span class="id"><a href="Asm.html#compare_floats">compare_floats</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> <span class="id"><a href="AsmIDTransCorrect.html#j">j</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span>)(<span class="id"><a href="Asm.html#compare_floats">compare_floats</a></span> <span class="id">i</span>' <span class="id">j</span>' <span class="id">rs</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6914')">Proof.</div>
<div class="proofscript" id="proof6914">
&nbsp;&nbsp;<span class="tactic">intros</span>;<span class="tactic">unfold</span> <span class="id"><a href="Asm.html#compare_floats">compare_floats</a></span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>; <span class="id">inv</span> <span class="id">H1</span>; <span class="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">i</span>',<span class="id">j</span>'; <span class="tactic">simpl</span>; <span class="tactic">try</span> <span class="id">solv_regset</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="compare_floats32_regset_match">compare_floats32_regset_match</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">i</span> <span class="id">j</span> <span class="id">rs</span> <span class="id">rs</span>' <span class="id">i</span>' <span class="id">j</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id">rs</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> <span class="id">i</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="AsmIDTransCorrect.html#j">j</a></span> <span class="id">j</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> (<span class="id"><a href="Asm.html#compare_floats32">compare_floats32</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> <span class="id"><a href="AsmIDTransCorrect.html#j">j</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span>)(<span class="id"><a href="Asm.html#compare_floats32">compare_floats32</a></span> <span class="id">i</span>' <span class="id">j</span>' <span class="id">rs</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6915')">Proof.</div>
<div class="proofscript" id="proof6915">
&nbsp;&nbsp;<span class="tactic">intros</span>;<span class="tactic">unfold</span> <span class="id"><a href="Asm.html#compare_floats">compare_floats</a></span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>;<span class="id">inv</span> <span class="id">H1</span>;<span class="tactic">simpl</span>; <span class="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">i</span>',<span class="id">j</span>';<span class="tactic">simpl</span>;<span class="tactic">try</span> <span class="id">solv_regset</span>.<br/>
Qed.</div>
<span class="kwd">Ltac</span> <span class="id">check</span>:=<span class="tactic">try</span>(<span class="id">Esimpl</span>;<span class="tactic">eauto</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.subset_refl">FP.subset_refl</a></span>;<span class="tactic">try</span> <span class="id">solv_regset</span>;<span class="tactic">auto</span>;<span class="tactic">fail</span>).<br/>
<span class="kwd">Ltac</span> <span class="id">eval_check</span>:=<br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H1</span>: <span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> ?<span class="id">rs</span> ?<span class="id">rs</span>', <span class="id">H2</span>: <span class="id"><a href="Asm.html#eval_testcond">eval_testcond</a></span> <span class="id">_</span> ?<span class="id">rs</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#eval_testcond_true_regset">eval_testcond_true_regset</a></span> <span class="kwd">in</span> <span class="id">H2</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">H1</span>;<span class="tactic">eauto</span>;<span class="tactic">try</span> <span class="tactic">congruence</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>;<span class="tactic">try</span> <span class="id">solv_eq</span>;<span class="id">check</span>.<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="lessdef_inversion">lessdef_inversion</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">i</span> <span class="id">j</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> <span class="id"><a href="AsmIDTransCorrect.html#j">j</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> = <span class="id"><a href="AsmIDTransCorrect.html#j">j</a></span> \/ <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> = <span class="id"><a href="Values.html#Vundef">Vundef</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6916')">Proof.</div>
<div class="proofscript" id="proof6916">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>;<span class="tactic">auto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="check_vundef_lessdef">check_vundef_lessdef</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">i</span> <span class="id">j</span> <span class="id">i</span>' <span class="id">j</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> <span class="id"><a href="AsmIDTransCorrect.html#j">j</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id">i</span>' <span class="id">j</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#check_vundef">check_vundef</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> <span class="id">i</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#check_vundef">check_vundef</a></span> <span class="id"><a href="AsmIDTransCorrect.html#j">j</a></span> <span class="id">j</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6917')">Proof.</div>
<div class="proofscript" id="proof6917">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="AsmIDTransCorrect.html#lessdef_inversion">lessdef_inversion</a></span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> [];<span class="tactic">apply</span> <span class="id"><a href="AsmIDTransCorrect.html#lessdef_inversion">lessdef_inversion</a></span> <span class="kwd">in</span> <span class="id">H0</span> <span class="kwd">as</span> [];<span class="tactic">subst</span>;<span class="tactic">simpl</span> <span class="kwd">in</span> *;<span class="tactic">try</span> <span class="tactic">discriminate</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">j</span>;<span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="extends_compare_ints_fp_match">extends_compare_ints_fp_match</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">i</span> <span class="id">j</span> <span class="id">i</span>' <span class="id">j</span>' <span class="id">m</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#check_vundef">check_vundef</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> <span class="id"><a href="AsmIDTransCorrect.html#j">j</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span> <span class="id">m</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> <span class="id">i</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="AsmIDTransCorrect.html#j">j</a></span> <span class="id">j</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span>(<span class="id"><a href="ASM_local.html#compare_ints_fp">compare_ints_fp</a></span> <span class="id">i</span>' <span class="id">j</span>' <span class="id">m</span>')(<span class="id"><a href="ASM_local.html#compare_ints_fp">compare_ints_fp</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> <span class="id"><a href="AsmIDTransCorrect.html#j">j</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6918')">Proof.</div>
<div class="proofscript" id="proof6918">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="ASM_local.html#compare_ints_fp">compare_ints_fp</a></span>,<span class="id"><a href="ValFP.html#cmpu_bool_fp_total">ValFP.cmpu_bool_fp_total</a></span>.<br/>
&nbsp;&nbsp;<span class="id">ex_match</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.subset_refl">FP.subset_refl</a></span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">all</span> : <span class="tactic">subst</span>;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id">_</span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">inv</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
&nbsp;&nbsp;<span class="id">all</span> :<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.emp_union_fp">FP.emp_union_fp</a></span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.subset_emp">FP.subset_emp</a></span>.<br/>
&nbsp;&nbsp;<span class="id">all</span> :<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.subset_refl">FP.subset_refl</a></span>;<span class="tactic">try</span> <span class="id">solv_eq</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.subset_refl">FP.subset_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">all</span> :<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.subset_parallel_union">FP.subset_parallel_union</a></span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="AsmIDTransCorrect.html#union_subset_split">union_subset_split</a></span>.<br/>
&nbsp;&nbsp;<span class="id">all</span> :<span class="tactic">try</span> <span class="tactic">rewrite</span> <span class="id"><a href="AsmIDTransCorrect.html#fp_union_refl_eq">fp_union_refl_eq</a></span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="AsmIDTransCorrect.html#weak_valid_pointer_fp_univ_subset">weak_valid_pointer_fp_univ_subset</a></span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="AsmIDTransCorrect.html#valid_pointer_fp_univ_subset">valid_pointer_fp_univ_subset</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="id">all</span> : <span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id"><a href="MemOpFP.html#weak_valid_pointer_extend_subset">MemOpFP.weak_valid_pointer_extend_subset</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">all</span> : <span class="tactic">try</span> (<span class="tactic">eapply</span> <span class="id"><a href="Footprint.html#FP.subset_union_subset">FP.subset_union_subset</a></span>;<span class="tactic">eapply</span> <span class="id"><a href="MemOpFP.html#weak_valid_pointer_extend_subset">MemOpFP.weak_valid_pointer_extend_subset</a></span>;<span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;<span class="id">all</span> : <span class="tactic">try</span> (<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.union_comm_eq">FP.union_comm_eq</a></span>;<span class="tactic">eapply</span> <span class="id"><a href="Footprint.html#FP.subset_union_subset">FP.subset_union_subset</a></span>;<span class="tactic">eapply</span> <span class="id"><a href="MemOpFP.html#weak_valid_pointer_extend_subset">MemOpFP.weak_valid_pointer_extend_subset</a></span>;<span class="tactic">eauto</span>).<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="extends_compare_longs_fp_match">extends_compare_longs_fp_match</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">i</span> <span class="id">j</span> <span class="id">i</span>' <span class="id">j</span>' <span class="id">m</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#check_vundef">check_vundef</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> <span class="id"><a href="AsmIDTransCorrect.html#j">j</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span> <span class="id">m</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> <span class="id">i</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="AsmIDTransCorrect.html#j">j</a></span> <span class="id">j</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span>(<span class="id"><a href="ASM_local.html#compare_longs_fp">compare_longs_fp</a></span> <span class="id">i</span>' <span class="id">j</span>' <span class="id">m</span>')(<span class="id"><a href="ASM_local.html#compare_longs_fp">compare_longs_fp</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> <span class="id"><a href="AsmIDTransCorrect.html#j">j</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6919')">Proof.</div>
<div class="proofscript" id="proof6919">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="ASM_local.html#compare_longs_fp">compare_longs_fp</a></span>,<span class="id"><a href="ValFP.html#cmplu_bool_fp_total">ValFP.cmplu_bool_fp_total</a></span>.<br/>
&nbsp;&nbsp;<span class="id">ex_match</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.subset_refl">FP.subset_refl</a></span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">all</span> : <span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id">_</span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">inv</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
&nbsp;&nbsp;<span class="id">all</span> : <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.emp_union_fp">FP.emp_union_fp</a></span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.subset_emp">FP.subset_emp</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="extends_check_compare_ints_match">extends_check_compare_ints_match</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">i</span> <span class="id">j</span> <span class="id">i</span>' <span class="id">j</span>' <span class="id">m</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span> <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> <span class="id">i</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="AsmIDTransCorrect.html#j">j</a></span> <span class="id">j</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#check_vundef">check_vundef</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> <span class="id"><a href="AsmIDTransCorrect.html#j">j</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Asm.html#check_compare_ints">check_compare_ints</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> <span class="id"><a href="AsmIDTransCorrect.html#j">j</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Asm.html#check_compare_ints">check_compare_ints</a></span> <span class="id">i</span>' <span class="id">j</span>' <span class="id">m</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6920')">Proof.</div>
<div class="proofscript" id="proof6920">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Asm.html#check_compare_ints">check_compare_ints</a></span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span> (<span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id">m</span>) <span class="id"><a href="Integers.html#Ceq">Ceq</a></span> <span class="id">i</span> <span class="id">j</span>) <span class="id">eqn</span>:<span class="id">A</span>; [|<span class="id">inv</span> <span class="id">H3</span>].<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ofs</span>, <span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id">m</span> <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> <span class="id"><a href="AsmIDTransCorrect.html#ofs">ofs</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id">m</span>' <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> <span class="id"><a href="AsmIDTransCorrect.html#ofs">ofs</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">H</span>. <span class="tactic">destruct</span> <span class="id">mext_inj</span>. <span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Memory.html#Mem.perm_dec">Mem.perm_dec</a></span> <span class="kwd">in</span> <span class="id">H4</span>; [<span class="tactic">clear</span> <span class="id">H4</span>|<span class="id">inv</span> <span class="id">H4</span>]. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">mi_perm</span> <span class="kwd">in</span> <span class="id">p</span>; <span class="tactic">unfold</span> <span class="id"><a href="Values.html#inject_id">inject_id</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Zplus_0_r_reverse">Zplus_0_r_reverse</a></span> <span class="kwd">in</span> <span class="id">p</span>. <span class="tactic">destruct</span> <span class="id"><a href="Memory.html#Mem.perm_dec">Mem.perm_dec</a></span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Values.html#Val.cmpu_bool_lessdef">Val.cmpu_bool_lessdef</a></span>. <span class="tactic">eauto</span>. <span class="tactic">exact</span> <span class="id">H0</span>. <span class="tactic">exact</span> <span class="id">H1</span>. <span class="tactic">exact</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">C</span>. <span class="tactic">rewrite</span> <span class="id">C</span>. <span class="tactic">clear</span> <span class="id">C</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="extends_compare_ints_regset_match">extends_compare_ints_regset_match</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">i</span> <span class="id">j</span> <span class="id">rs</span> <span class="id">rs</span>' <span class="id">m</span> <span class="id">m</span>' <span class="id">i</span>' <span class="id">j</span>' (<span class="id">CK</span>:<span class="id"><a href="ASM_local.html#check_vundef">check_vundef</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> <span class="id"><a href="AsmIDTransCorrect.html#j">j</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id">rs</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span> <span class="id">m</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> <span class="id">i</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="AsmIDTransCorrect.html#j">j</a></span> <span class="id">j</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> (<span class="id"><a href="Asm.html#compare_ints">compare_ints</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> <span class="id"><a href="AsmIDTransCorrect.html#j">j</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span>)(<span class="id"><a href="Asm.html#compare_ints">compare_ints</a></span> <span class="id">i</span>' <span class="id">j</span>' <span class="id">rs</span>' <span class="id">m</span>'). <br/>
<div class="toggleproof" onclick="toggleDisplay('proof6921')">Proof.</div>
<div class="proofscript" id="proof6921">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Asm.html#compare_ints">compare_ints</a></span>;<span class="tactic">intros</span>;<span class="id">solv_regset</span>.<br/>
&nbsp;&nbsp;3,4:<span class="tactic">intros</span> [] [] [] ;<span class="tactic">auto</span>;<span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.cmpu">Val.cmpu</a></span>,<span class="id"><a href="Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>;<span class="id">inv</span> <span class="id">H2</span>;<span class="tactic">auto</span>; <span class="tactic">destruct</span> <span class="id">i</span>',<span class="id">j</span>'; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">all</span> : <span class="id">ex_match</span>;<span class="tactic">try</span> <span class="id">constructor</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="id">all</span> : <span class="tactic">try</span> (<span class="tactic">destruct</span> <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span>;<span class="tactic">simpl</span> <span class="kwd">in</span> *;<span class="tactic">try</span> <span class="tactic">congruence</span>;<span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#weak_valid_pointer_extends">weak_valid_pointer_extends</a></span> <span class="kwd">in</span> <span class="id">Hx0</span>;<span class="tactic">eauto</span>;<span class="tactic">congruence</span>);<span class="tactic">try</span> <span class="id">solv_eq</span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> ( (<span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id">m</span> <span class="id">b</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">i</span>) || <span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id">m</span> <span class="id">b</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">i</span> - 1)) ) <span class="id">eqn</span>:?;<span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#weak_valid_pointer_extends">weak_valid_pointer_extends</a></span> <span class="kwd">in</span> <span class="id">Heqb1</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>;<span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> *;<span class="tactic">simpl</span> <span class="kwd">in</span> *;<span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#weak_valid_pointer_extends">weak_valid_pointer_extends</a></span> <span class="kwd">in</span> <span class="id">Hx1</span>;<span class="tactic">eauto</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> ( <span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id">m</span> <span class="id">b</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">i</span>)) <span class="id">eqn</span>:?;<span class="tactic">simpl</span> <span class="kwd">in</span> *;<span class="tactic">try</span> <span class="tactic">congruence</span>;<span class="tactic">destruct</span> ( <span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id">m</span> <span class="id">b0</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">i0</span>)) <span class="id">eqn</span>:?;<span class="tactic">simpl</span> <span class="kwd">in</span> *;<span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#valid_pointer_extends">valid_pointer_extends</a></span> <span class="kwd">in</span> <span class="id">Heqb1</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#valid_pointer_extends">valid_pointer_extends</a></span> <span class="kwd">in</span> <span class="id">Heqb0</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heqb0</span>,<span class="id">Heqb1</span> <span class="kwd">in</span> <span class="id">Hx2</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">Hx2</span>. <span class="tactic">congruence</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.cmpu">Val.cmpu</a></span>,<span class="id"><a href="Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>;<span class="id">inv</span> <span class="id">H2</span>;<span class="tactic">auto</span>;<span class="tactic">destruct</span> <span class="id">i</span>',<span class="id">j</span>';<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">all</span> : <span class="id">ex_match</span>;<span class="tactic">try</span> <span class="id">constructor</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> ( (<span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id">m</span> <span class="id">b0</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">i</span>) || <span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id">m</span> <span class="id">b0</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">i</span> - 1)) ) <span class="id">eqn</span>:?;<span class="tactic">simpl</span> <span class="kwd">in</span> * ;<span class="tactic">try</span> <span class="tactic">congruence</span>;<span class="tactic">destruct</span> ( (<span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id">m</span> <span class="id">b0</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">i0</span>) || <span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id">m</span> <span class="id">b0</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">i0</span> - 1)) ) <span class="id">eqn</span>:?;<span class="tactic">simpl</span> <span class="kwd">in</span> * ;<span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#weak_valid_pointer_extends">weak_valid_pointer_extends</a></span> <span class="kwd">in</span> <span class="id">Heqb</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>;<span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#weak_valid_pointer_extends">weak_valid_pointer_extends</a></span> <span class="kwd">in</span> <span class="id">Heqb0</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>;<span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> *;<span class="tactic">simpl</span> <span class="kwd">in</span> *;<span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
Qed.</div>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="extends_compare_longs_regset_match">extends_compare_longs_regset_match</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">i</span> <span class="id">j</span> <span class="id">rs</span> <span class="id">rs</span>' <span class="id">m</span> <span class="id">m</span>' <span class="id">i</span>' <span class="id">j</span>' (<span class="id">CK</span>:<span class="id"><a href="ASM_local.html#check_vundef">check_vundef</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> <span class="id"><a href="AsmIDTransCorrect.html#j">j</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id">rs</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span> <span class="id">m</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> <span class="id">i</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="AsmIDTransCorrect.html#j">j</a></span> <span class="id">j</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> (<span class="id"><a href="Asm.html#compare_longs">compare_longs</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> <span class="id"><a href="AsmIDTransCorrect.html#j">j</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span>)(<span class="id"><a href="Asm.html#compare_longs">compare_longs</a></span> <span class="id">i</span>' <span class="id">j</span>' <span class="id">rs</span>' <span class="id">m</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6922')">Proof.</div>
<div class="proofscript" id="proof6922">
&nbsp;&nbsp;<span class="tactic">intros</span>;<span class="tactic">unfold</span> <span class="id"><a href="Asm.html#compare_longs">compare_longs</a></span>.<br/>
&nbsp;&nbsp;<span class="id">solv_regset</span>.<br/>
&nbsp;&nbsp;3 ,4: <span class="tactic">intros</span> [] [] [];<span class="tactic">auto</span>;<span class="tactic">congruence</span>.<br/>
<br/>
&nbsp;&nbsp;1 ,2: <span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.cmplu">Val.cmplu</a></span>, <span class="id"><a href="Values.html#Val.cmplu_bool">Val.cmplu_bool</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">destruct</span> <span class="id">i</span>', <span class="id">j</span>'; <span class="tactic">try</span> <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="compare_longs_regset_match">compare_longs_regset_match</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">i</span> <span class="id">j</span> <span class="id">rs</span> <span class="id">rs</span>' <span class="id">m</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id">rs</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span> <span class="id">m</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> (<span class="id"><a href="Asm.html#compare_longs">compare_longs</a></span> (<span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span>)(<span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id"><a href="AsmIDTransCorrect.html#j">j</a></span>) <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span>)(<span class="id"><a href="Asm.html#compare_longs">compare_longs</a></span> (<span class="id">rs</span>' <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span>)(<span class="id">rs</span>' <span class="id"><a href="AsmIDTransCorrect.html#j">j</a></span>) <span class="id">rs</span>' <span class="id">m</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6923')">Proof.</div>
<div class="proofscript" id="proof6923">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Asm.html#compare_longs">compare_longs</a></span>.<br/>
&nbsp;&nbsp;<span class="id">solv_regset</span>.<br/>
&nbsp;&nbsp;3 ,4: <span class="tactic">intros</span> [] [] [];<span class="tactic">auto</span>;<span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;1, 2: <span class="id">pose</span> <span class="id">proof</span> (<span class="id">H</span> <span class="id">i</span>) <span class="kwd">as</span> <span class="id">H1</span>;  <span class="id">pose</span> <span class="id">proof</span> (<span class="id">H</span> <span class="id">j</span>) <span class="kwd">as</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H1</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;1 ,2: <span class="tactic">destruct</span> (<span class="id">rs</span> <span class="id">i</span>), (<span class="id">rs</span>' <span class="id">j</span>); <span class="tactic">try</span> <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="empfp">empfp</a></span>:=<span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>.<br/>
<span class="kwd">Ltac</span> <span class="id">resolvfp</span>:=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: ?<span class="id">a</span> = ?<span class="id">b</span> , <span class="id">H2</span>: <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> <span class="id">_</span> ?<span class="id">a</span> |- <span class="id">_</span> =&gt; <span class="tactic">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="id">resolvfp</span><br/>
&nbsp;&nbsp;| |- <span class="id">context</span>[<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">_</span> <span class="id"><a href="AsmIDTransCorrect.html#empfp">empfp</a></span>] =&gt; <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>; <span class="id">resolvfp</span><br/>
&nbsp;&nbsp;| |- <span class="id">context</span>[<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="AsmIDTransCorrect.html#empfp">empfp</a></span> <span class="id">_</span>] =&gt; <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.emp_union_fp">FP.emp_union_fp</a></span>; <span class="id">resolvfp</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">inv</span> <span class="id">H</span>; <span class="id">resolvfp</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> ?<span class="id">fp1</span>' ?<span class="id">fp1</span> |- <span class="id">Injections.FPMatch</span>' ?<span class="id">mu</span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> ?<span class="id">fp1</span> <span class="id">_</span>) (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> ?<span class="id">fp1</span>' <span class="id">_</span>) =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Injections.fp_match_union</span>'; <span class="id">resolvfp</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id">Injections.FPMatch</span>' <span class="id">_</span> ?<span class="id">fp1</span> ?<span class="id">fp1</span>' |- <span class="id">Injections.FPMatch</span>' ?<span class="id">mu</span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> ?<span class="id">fp1</span> <span class="id">_</span>) (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> ?<span class="id">fp1</span>' <span class="id">_</span>) =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Injections.fp_match_union</span>'; <span class="tactic">auto</span>; <span class="id">resolvfp</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id">Injections.FPMatch</span>' <span class="id">_</span> ?<span class="id">fp1</span> ?<span class="id">fp1</span>' |- <span class="id">Injections.FPMatch</span>' ?<span class="id">mu</span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> ?<span class="id">fp1</span> <span class="id">_</span>) ?<span class="id">fp1</span>' =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Injections.fp_match_union_S</span>'; <span class="tactic">auto</span>; <span class="id">resolvfp</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> ?<span class="id">fp1</span>' ?<span class="id">fp1</span> |- <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> ?<span class="id">fp1</span>' <span class="id">_</span>) (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> ?<span class="id">fp1</span> <span class="id">_</span>) =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Footprint.html#FP.subset_parallel_union">FP.subset_parallel_union</a></span>; <span class="id">resolvfp</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> ?<span class="id">fp1</span>' ?<span class="id">fp1</span> |- <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> ?<span class="id">fp1</span>' <span class="id">_</span>) (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> ?<span class="id">fp1</span> <span class="id">_</span>) <span class="id">_</span>) =&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Footprint.html#FP.subset_parallel_union">FP.subset_parallel_union</a></span>; <span class="id">resolvfp</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> ?<span class="id">fp1</span>' ?<span class="id">fp1</span> |- <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> ?<span class="id">fp1</span>' <span class="id">_</span>) <span class="id">_</span>) (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> ?<span class="id">fp1</span> <span class="id">_</span>) <span class="id">_</span>)=&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Footprint.html#FP.subset_parallel_union">FP.subset_parallel_union</a></span>; <span class="id">resolvfp</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> ?<span class="id">fp</span> ?<span class="id">fp</span>' |- <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> ?<span class="id">fp</span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> ?<span class="id">fp1</span> ?<span class="id">fp</span>') =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.union_comm_eq">FP.union_comm_eq</a></span>; <span class="id">resolvfp</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> ?<span class="id">fp</span> ?<span class="id">fp</span>' |- <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> ?<span class="id">fp</span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> ?<span class="id">fp</span>' <span class="id">_</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.subset_union_subset">FP.subset_union_subset</a></span>; <span class="tactic">auto</span><br/>
&nbsp;&nbsp;| |- <span class="id">Injections.FPMatch</span>' <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="AsmIDTransCorrect.html#empfp">empfp</a></span> =&gt; <span class="tactic">apply</span> <span class="id">Injections.fp_match_emp</span>'<br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> ?<span class="id">fp1</span> ?<span class="id">fp2</span> |- <span class="id">Injections.FPMatch</span>' <span class="id">_</span> ?<span class="id">fp2</span> ?<span class="id">fp1</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Injections.fp_match_subset_T</span>' <span class="kwd">with</span> <span class="id">fp2</span>; <span class="tactic">try</span> <span class="tactic">exact</span> <span class="id">H</span>; <span class="id">resolvfp</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> ?<span class="id">fp2</span> ?<span class="id">fp1</span> |- <span class="id">Injections.FPMatch</span>' <span class="id">_</span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> ?<span class="id">fp1</span> <span class="id">_</span>) ?<span class="id">fp2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Injections.fp_match_union_S</span>'; <span class="id">resolvfp</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> ?<span class="id">fp2</span> ?<span class="id">fp1</span> |- <span class="id">Injections.FPMatch</span>' <span class="id">_</span> ?<span class="id">fp1</span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> ?<span class="id">fp2</span> <span class="id">_</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Injections.fp_match_union_T</span>'; <span class="id">resolvfp</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> ?<span class="id">fp2</span> ?<span class="id">fp1</span> |- <span class="id">Injections.FPMatch</span>' <span class="id">_</span> ?<span class="id">fp1</span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> ?<span class="id">fp2</span> <span class="id">_</span>) <span class="id">_</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Injections.fp_match_union_T</span>'; <span class="id">resolvfp</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> ?<span class="id">fp2</span> ?<span class="id">fp1</span> |- <span class="id">Injections.FPMatch</span>' <span class="id">_</span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> ?<span class="id">fp1</span> <span class="id">_</span>) (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> ?<span class="id">fp2</span> <span class="id">_</span>) <span class="id">_</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Injections.fp_match_union</span>'; <span class="id">resolvfp</span>                                          <br/>
&nbsp;&nbsp;| <span class="id">H</span>: (<span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Footprint.html#FP.blocks">FP.blocks</a></span> ?<span class="id">fp2</span>) <span class="id">_</span> -&gt; ~ <span class="id"><a href="Injections.html#SharedTgt">Injections.SharedTgt</a></span> ?<span class="id">mu</span> <span class="id">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;|- <span class="id">Injections.FPMatch</span>' <span class="id">_</span> <span class="id">_</span> ?<span class="id">fp2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Injections.html#fp_match_local_block">Injections.fp_match_local_block</a></span>; <span class="tactic">auto</span>                                          <br/>
&nbsp;&nbsp;| |- <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> ?<span class="id">fp</span> ?<span class="id">fp</span> =&gt; <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.subset_refl">FP.subset_refl</a></span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="Op_fp.html#fp_inject">fp_inject</a></span> <span class="id">_</span> ?<span class="id">fp</span> ?<span class="id">fp</span>', <span class="id">H</span>': <span class="id"><a href="InjRels.html#proper_mu">proper_mu</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> |- <span class="id">Injections.FPMatch</span>' <span class="id">_</span> ?<span class="id">fp</span> ?<span class="id">fp</span>' =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Op_fp.html#fp_inject_fp_match">fp_inject_fp_match</a></span>; <span class="id">inv</span> <span class="id">H</span>'; <span class="tactic">eauto</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="Op_fp.html#fp_inject">fp_inject</a></span> <span class="id"><a href="Values.html#inject_id">inject_id</a></span> ?<span class="id">fp</span> ?<span class="id">fp</span>'|- <span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> ?<span class="id">fp</span>' ?<span class="id">fp</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Op_fp.html#fp_inject_id_fp_subset">fp_inject_id_fp_subset</a></span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="InjRels.html#proper_mu">proper_mu</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> |- <span class="id">Injections.FPMatch</span>' <span class="id">_</span> ?<span class="id">fp</span> ?<span class="id">fp</span> =&gt; <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">eapply</span> <span class="id"><a href="LDSimDefs_local.html#fp_match_id">fp_match_id</a></span>; <span class="tactic">eauto</span><br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id">idtac</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Ltac</span> <span class="id">eresolvfp</span>:= <span class="id">resolvfp</span>; <span class="tactic">eauto</span>.<br/>
<br/>
<br/>
<span class="kwd">Ltac</span> <span class="id">resvalid</span>:=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
<div class="doc">valid blocks </div>
&nbsp;&nbsp;| <span class="id">H</span>: (<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> ?<span class="id">S</span> <span class="id"><a href="AsmIDTransCorrect.html#x">x</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> ?<span class="id">m1</span> <span class="id"><a href="AsmIDTransCorrect.html#x">x</a></span>), <span class="id">H</span>': <span class="id"><a href="Memory.html#Mem.free">Mem.free</a></span> ?<span class="id">m1</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> ?<span class="id">m2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;|- (<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> ?<span class="id">S</span> <span class="id"><a href="AsmIDTransCorrect.html#x">x</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> ?<span class="id">m2</span> <span class="id"><a href="AsmIDTransCorrect.html#x">x</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;=&gt; <span class="kwd">let</span> <span class="id">X</span> := <span class="tactic">fresh</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> ? <span class="id">X</span>; <span class="tactic">apply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">X</span>; <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.valid_block_free_1">Mem.valid_block_free_1</a></span>; <span class="tactic">eauto</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: (<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> ?<span class="id">S</span> <span class="id"><a href="AsmIDTransCorrect.html#x">x</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> ?<span class="id">m1</span> <span class="id"><a href="AsmIDTransCorrect.html#x">x</a></span>), <span class="id">H</span>': <span class="id"><a href="Memory.html#Mem.alloc">Mem.alloc</a></span> ?<span class="id">m1</span> <span class="id">_</span> <span class="id">_</span> = (?<span class="id">m2</span>,<span class="id">_</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;|- (<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> ?<span class="id">S</span> <span class="id"><a href="AsmIDTransCorrect.html#x">x</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> ?<span class="id">m2</span> <span class="id"><a href="AsmIDTransCorrect.html#x">x</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;=&gt; <span class="kwd">let</span> <span class="id">X</span> := <span class="tactic">fresh</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> ? <span class="id">X</span>; <span class="tactic">apply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">X</span>; <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.valid_block_alloc">Mem.valid_block_alloc</a></span>; <span class="tactic">eauto</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: (<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> ?<span class="id">S</span> <span class="id"><a href="AsmIDTransCorrect.html#x">x</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> ?<span class="id">m1</span> <span class="id"><a href="AsmIDTransCorrect.html#x">x</a></span>), <span class="id">H</span>': <span class="id"><a href="Memory.html#Mem.store">Mem.store</a></span> <span class="id">_</span> ?<span class="id">m1</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> ?<span class="id">m2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;|- (<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> ?<span class="id">S</span> <span class="id"><a href="AsmIDTransCorrect.html#x">x</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> ?<span class="id">m2</span> <span class="id"><a href="AsmIDTransCorrect.html#x">x</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;=&gt; <span class="kwd">let</span> <span class="id">X</span> := <span class="tactic">fresh</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> ? <span class="id">X</span>; <span class="tactic">apply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">X</span>; <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.store_valid_block_1">Mem.store_valid_block_1</a></span>; <span class="tactic">eauto</span><br/>
<div class="doc">Mem inv </div>
&nbsp;&nbsp;| <span class="id">H1</span>: <span class="id"><a href="Memory.html#Mem.store">Mem.store</a></span> <span class="id">_</span> ?<span class="id">m1</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> ?<span class="id">m2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">H2</span>: <span class="id"><a href="Memory.html#Mem.store">Mem.store</a></span> <span class="id">_</span> ?<span class="id">m1</span>' <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> ?<span class="id">m2</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">H3</span>: <span class="id"><a href="InjRels.html#proper_mu">proper_mu</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;|- <span class="id"><a href="MemClosures_local.html#unmapped_closed">MemClosures_local.unmapped_closed</a></span> <span class="id">_</span> ?<span class="id">m2</span> ?<span class="id">m2</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;=&gt; <span class="id">inv</span> <span class="id">H3</span>; <span class="tactic">eapply</span> <span class="id"><a href="MemClosures_local.html#store_val_inject_unmapped_closed_preserved">MemClosures_local.store_val_inject_unmapped_closed_preserved</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_0_r">Z.add_0_r</a></span>);  <span class="tactic">try</span> <span class="id">eassumption</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">compute</span>; <span class="tactic">eauto</span>; <span class="tactic">fail</span>); <span class="tactic">try</span> <span class="tactic">omega</span><br/>
&nbsp;&nbsp;| <span class="id">H1</span>: <span class="id"><a href="Memory.html#Mem.free">Mem.free</a></span> ?<span class="id">m1</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> ?<span class="id">m2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">H2</span>: <span class="id"><a href="Memory.html#Mem.free">Mem.free</a></span> ?<span class="id">m1</span>' <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> ?<span class="id">m2</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">H3</span>: <span class="id"><a href="InjRels.html#proper_mu">proper_mu</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;|- <span class="id"><a href="MemClosures_local.html#unmapped_closed">MemClosures_local.unmapped_closed</a></span> <span class="id">_</span> ?<span class="id">m2</span> ?<span class="id">m2</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;=&gt; <span class="id">inv</span> <span class="id">H3</span>; <span class="tactic">eapply</span> <span class="id"><a href="MemClosures_local.html#free_inject_unmapped_closed_preserved">MemClosures_local.free_inject_unmapped_closed_preserved</a></span>; <span class="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_0_r">Z.add_0_r</a></span>);  <span class="tactic">try</span> <span class="id">eassumption</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">compute</span>; <span class="tactic">eauto</span>; <span class="tactic">fail</span>); <span class="tactic">try</span> <span class="tactic">omega</span><br/>
&nbsp;&nbsp;| <span class="id">H1</span>: <span class="id"><a href="Memory.html#Mem.alloc">Mem.alloc</a></span> ?<span class="id">m1</span> <span class="id">_</span> <span class="id">_</span> = (?<span class="id">m2</span>, <span class="id">_</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">H2</span>: <span class="id"><a href="Memory.html#Mem.alloc">Mem.alloc</a></span> ?<span class="id">m1</span>' <span class="id">_</span> <span class="id">_</span> = (?<span class="id">m2</span>', <span class="id">_</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">H3</span>: <span class="id"><a href="InjRels.html#proper_mu">proper_mu</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;|- <span class="id"><a href="MemClosures_local.html#unmapped_closed">MemClosures_local.unmapped_closed</a></span> <span class="id">_</span> ?<span class="id">m2</span> ?<span class="id">m2</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;=&gt; <span class="id">inv</span> <span class="id">H3</span>; <span class="tactic">eapply</span> <span class="id"><a href="MemClosures_local.html#unchanged_on_unmapped_closed_preserved">MemClosures_local.unchanged_on_unmapped_closed_preserved</a></span>; <span class="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.alloc_unchanged_on">Mem.alloc_unchanged_on</a></span>; <span class="tactic">eauto</span>; <span class="tactic">fail</span>)<br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id">idtac</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
&nbsp;&nbsp;<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="exec_instr_valid_block">exec_instr_valid_block</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">f</span> <span class="id">i</span> <span class="id">rs</span> <span class="id">m</span> <span class="id">rs</span>' <span class="id">m</span>' <span class="id">mu</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#exec_instr">exec_instr</a></span> <span class="id"><a href="AsmIDTransCorrect.html#ge">ge</a></span> <span class="id"><a href="AsmIDTransCorrect.html#f">f</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span> = <span class="kwd">Next</span> <span class="id">rs</span>' <span class="id">m</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span> : <span class="id"><a href="Values.html#block">block</a></span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedSrc">SharedSrc</a></span> <span class="id"><a href="AsmIDTransCorrect.html#mu">mu</a></span>) <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span> <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span>)-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> : <span class="id"><a href="Values.html#block">block</a></span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedSrc">SharedSrc</a></span> <span class="id"><a href="AsmIDTransCorrect.html#mu">mu</a></span>) <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id">m</span>' <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6924')">Proof.</div>
<div class="proofscript" id="proof6924">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="ASM_local.html#exec_instr">exec_instr</a></span>;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">mu</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> ? ?.<br/>
&nbsp;&nbsp;<span class="id">ex_match</span>;<span class="tactic">simpl</span> <span class="kwd">in</span> *;<span class="tactic">try</span> <span class="id">solv_eq</span>;<span class="tactic">auto</span>;<span class="tactic">try</span> <span class="id">resvalid</span>.<br/>
&nbsp;&nbsp;<span class="id">all</span> : <span class="tactic">unfold</span> <span class="id"><a href="ASM_local.html#exec_load">exec_load</a></span>,<span class="id"><a href="ASM_local.html#exec_store">exec_store</a></span>,<span class="id"><a href="Memory.html#Mem.storev">Mem.storev</a></span>,<span class="id"><a href="ASM_local.html#goto_label">goto_label</a></span> <span class="kwd">in</span> *;<span class="id">ex_match</span>;<span class="tactic">try</span> <span class="id">solv_eq</span>;<span class="tactic">try</span> <span class="id">resvalid</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.store_valid_block_1">Mem.store_valid_block_1</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.store_valid_block_1">Mem.store_valid_block_1</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.valid_block_alloc">Mem.valid_block_alloc</a></span>;<span class="tactic">eauto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="exec_instr_valid_block2">exec_instr_valid_block2</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">f</span> <span class="id">i</span> <span class="id">rs</span> <span class="id">m</span> <span class="id">rs</span>' <span class="id">m</span>' <span class="id">mu</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#exec_instr">exec_instr</a></span> <span class="id"><a href="AsmIDTransCorrect.html#ge">ge</a></span> <span class="id"><a href="AsmIDTransCorrect.html#f">f</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span> = <span class="kwd">Next</span> <span class="id">rs</span>' <span class="id">m</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span> : <span class="id"><a href="Values.html#block">block</a></span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedTgt">SharedTgt</a></span> <span class="id"><a href="AsmIDTransCorrect.html#mu">mu</a></span>) <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span> <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span>)-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> : <span class="id"><a href="Values.html#block">block</a></span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedTgt">SharedTgt</a></span> <span class="id"><a href="AsmIDTransCorrect.html#mu">mu</a></span>) <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id">m</span>' <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6925')">Proof.</div>
<div class="proofscript" id="proof6925">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="ASM_local.html#exec_instr">exec_instr</a></span>;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">mu</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> ? ?.<br/>
&nbsp;&nbsp;<span class="id">ex_match</span>;<span class="tactic">simpl</span> <span class="kwd">in</span> *;<span class="tactic">try</span> <span class="id">solv_eq</span>;<span class="tactic">auto</span>;<span class="tactic">try</span> <span class="id">resvalid</span>.<br/>
&nbsp;&nbsp;<span class="id">all</span> : <span class="tactic">unfold</span> <span class="id"><a href="ASM_local.html#exec_load">exec_load</a></span>,<span class="id"><a href="ASM_local.html#exec_store">exec_store</a></span>,<span class="id"><a href="Memory.html#Mem.storev">Mem.storev</a></span>,<span class="id"><a href="ASM_local.html#goto_label">goto_label</a></span> <span class="kwd">in</span> *;<span class="id">ex_match</span>;<span class="tactic">try</span> <span class="id">solv_eq</span>;<span class="tactic">try</span> <span class="id">resvalid</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.store_valid_block_1">Mem.store_valid_block_1</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.store_valid_block_1">Mem.store_valid_block_1</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.valid_block_alloc">Mem.valid_block_alloc</a></span>;<span class="tactic">eauto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="exec_locked_instr_valid_block">exec_locked_instr_valid_block</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">i</span> <span class="id">rs</span> <span class="id">m</span> <span class="id">rs</span>' <span class="id">m</span>' <span class="id">mu</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#exec_locked_instr">exec_locked_instr</a></span> <span class="id"><a href="AsmIDTransCorrect.html#ge">ge</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span> = <span class="kwd">Next</span> <span class="id">rs</span>' <span class="id">m</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span> : <span class="id"><a href="Values.html#block">block</a></span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedSrc">SharedSrc</a></span> <span class="id"><a href="AsmIDTransCorrect.html#mu">mu</a></span>) <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span> <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span>)-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> : <span class="id"><a href="Values.html#block">block</a></span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedSrc">SharedSrc</a></span> <span class="id"><a href="AsmIDTransCorrect.html#mu">mu</a></span>) <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id">m</span>' <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6926')">Proof.</div>
<div class="proofscript" id="proof6926">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="ASM_local.html#exec_locked_instr">exec_locked_instr</a></span>;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">mu</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> ? ?.<br/>
&nbsp;&nbsp;<span class="id">ex_match</span>;<span class="tactic">simpl</span> <span class="kwd">in</span> *;<span class="tactic">try</span> <span class="id">solv_eq</span>;<span class="tactic">auto</span>;<span class="tactic">try</span> <span class="id">resvalid</span>.<br/>
&nbsp;&nbsp;<span class="id">all</span> : <span class="tactic">unfold</span> <span class="id"><a href="ASM_local.html#exec_load">exec_load</a></span>,<span class="id"><a href="ASM_local.html#exec_store">exec_store</a></span>,<span class="id"><a href="Memory.html#Mem.storev">Mem.storev</a></span>,<span class="id"><a href="ASM_local.html#goto_label">goto_label</a></span> <span class="kwd">in</span> *;<span class="id">ex_match</span>;<span class="tactic">try</span> <span class="id">solv_eq</span>;<span class="tactic">try</span> <span class="id">resvalid</span>;<span class="tactic">auto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="exec_locked_instr_valid_block2">exec_locked_instr_valid_block2</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">i</span> <span class="id">rs</span> <span class="id">m</span> <span class="id">rs</span>' <span class="id">m</span>' <span class="id">mu</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#exec_locked_instr">exec_locked_instr</a></span> <span class="id"><a href="AsmIDTransCorrect.html#ge">ge</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span> = <span class="kwd">Next</span> <span class="id">rs</span>' <span class="id">m</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span> : <span class="id"><a href="Values.html#block">block</a></span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedTgt">SharedTgt</a></span> <span class="id"><a href="AsmIDTransCorrect.html#mu">mu</a></span>) <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span> <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span>)-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> : <span class="id"><a href="Values.html#block">block</a></span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedTgt">SharedTgt</a></span> <span class="id"><a href="AsmIDTransCorrect.html#mu">mu</a></span>) <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id">m</span>' <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6927')">Proof.</div>
<div class="proofscript" id="proof6927">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="ASM_local.html#exec_locked_instr">exec_locked_instr</a></span>;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">mu</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> ? ?.<br/>
&nbsp;&nbsp;<span class="id">ex_match</span>;<span class="tactic">simpl</span> <span class="kwd">in</span> *;<span class="tactic">try</span> <span class="id">solv_eq</span>;<span class="tactic">auto</span>;<span class="tactic">try</span> <span class="id">resvalid</span>.<br/>
&nbsp;&nbsp;<span class="id">all</span> : <span class="tactic">unfold</span> <span class="id"><a href="ASM_local.html#exec_load">exec_load</a></span>,<span class="id"><a href="ASM_local.html#exec_store">exec_store</a></span>,<span class="id"><a href="Memory.html#Mem.storev">Mem.storev</a></span>,<span class="id"><a href="ASM_local.html#goto_label">goto_label</a></span> <span class="kwd">in</span> *;<span class="id">ex_match</span>;<span class="tactic">try</span> <span class="id">solv_eq</span>;<span class="tactic">try</span> <span class="id">resvalid</span>;<span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
<span class="kwd">Section</span> <span class="id"><a name="MS">MS</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="MS.cu">cu</a></span>: <span class="id"><a href="ASM_local.html#Asm_comp_unit">Asm_comp_unit</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Variable</span> <span class="id"><a name="MS.ge">ge</a></span>:<span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="ASM_local.html#fundef">ASM_local.fundef</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#unit">unit</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Hypothesis</span> <span class="id"><a name="MS.SGEINIT">SGEINIT</a></span>: <span class="id"><a href="CUAST.html#globalenv_generic">globalenv_generic</a></span> <span class="id"><a href="AsmIDTransCorrect.html#MS.cu">cu</a></span> <span class="id"><a href="AsmIDTransCorrect.html#MS.ge">ge</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Inductive</span> <span class="id"><a name="match_core">match_core</a></span> : <span class="id"><a href="ASM_local.html#core">core</a></span>*<span class="id"><a href="Memory.html#mem">mem</a></span> -&gt; <span class="id"><a href="ASM_local.html#core">core</a></span>*<span class="id"><a href="Memory.html#mem">mem</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="match_core_state">match_core_state</a></span>: <span class="kwd">forall</span> <span class="id">rs</span> <span class="id">rs</span>' <span class="id">lf</span> <span class="id">m</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id">rs</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span> <span class="id">m</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_core">match_core</a></span> (<span class="id"><a href="ASM_local.html#Core_State">Core_State</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id"><a href="AsmIDTransCorrect.html#lf">lf</a></span>,<span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span>) (<span class="id"><a href="ASM_local.html#Core_State">Core_State</a></span> <span class="id">rs</span>' <span class="id"><a href="AsmIDTransCorrect.html#lf">lf</a></span>,<span class="id">m</span>')<br/>
&nbsp;&nbsp;| <span class="id"><a name="match_core_callin">match_core_callin</a></span>: <span class="kwd">forall</span> <span class="id">fb</span> <span class="id">args</span> <span class="id">tys</span> <span class="id">retty</span> <span class="id">m</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span> <span class="id">m</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_core">match_core</a></span> (<span class="id"><a href="ASM_local.html#Core_CallstateIn">Core_CallstateIn</a></span> <span class="id"><a href="AsmIDTransCorrect.html#fb">fb</a></span> <span class="id"><a href="AsmIDTransCorrect.html#args">args</a></span> <span class="id"><a href="AsmIDTransCorrect.html#tys">tys</a></span> <span class="id"><a href="AsmIDTransCorrect.html#retty">retty</a></span>,<span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span>) (<span class="id"><a href="ASM_local.html#Core_CallstateIn">Core_CallstateIn</a></span> <span class="id"><a href="AsmIDTransCorrect.html#fb">fb</a></span> <span class="id"><a href="AsmIDTransCorrect.html#args">args</a></span> <span class="id"><a href="AsmIDTransCorrect.html#tys">tys</a></span> <span class="id"><a href="AsmIDTransCorrect.html#retty">retty</a></span>,<span class="id">m</span>')<br/>
&nbsp;&nbsp;| <span class="id"><a name="match_core_callout">match_core_callout</a></span>: <span class="kwd">forall</span> <span class="id">ef</span> <span class="id">args</span> <span class="id">args</span>' <span class="id">rs</span> <span class="id">rs</span>' <span class="id">lf</span> <span class="id">m</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span> <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id">rs</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef_list">Val.lessdef_list</a></span> <span class="id"><a href="AsmIDTransCorrect.html#args">args</a></span> <span class="id">args</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_core">match_core</a></span> (<span class="id"><a href="ASM_local.html#Core_CallstateOut">Core_CallstateOut</a></span> <span class="id"><a href="AsmIDTransCorrect.html#ef">ef</a></span> <span class="id"><a href="AsmIDTransCorrect.html#args">args</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id"><a href="AsmIDTransCorrect.html#lf">lf</a></span>,<span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span>) (<span class="id"><a href="ASM_local.html#Core_CallstateOut">Core_CallstateOut</a></span> <span class="id"><a href="AsmIDTransCorrect.html#ef">ef</a></span> <span class="id">args</span>' <span class="id">rs</span>' <span class="id"><a href="AsmIDTransCorrect.html#lf">lf</a></span>,<span class="id">m</span>')<br/>
&nbsp;&nbsp;| <span class="id"><a name="match_core_lockstate">match_core_lockstate</a></span>: <span class="kwd">forall</span> <span class="id">rs</span> <span class="id">rs</span>' <span class="id">signal</span> <span class="id">lf</span> <span class="id">m</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span> <span class="id">m</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id">rs</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_core">match_core</a></span> (<span class="id"><a href="ASM_local.html#Core_LockState">Core_LockState</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id"><a href="AsmIDTransCorrect.html#signal">signal</a></span> <span class="id"><a href="AsmIDTransCorrect.html#lf">lf</a></span>,<span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span>) (<span class="id"><a href="ASM_local.html#Core_LockState">Core_LockState</a></span> <span class="id">rs</span>' <span class="id"><a href="AsmIDTransCorrect.html#signal">signal</a></span> <span class="id"><a href="AsmIDTransCorrect.html#lf">lf</a></span>,<span class="id">m</span>')<br/>
&nbsp;&nbsp;.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Definition</span> <span class="id"><a name="MS">MS</a></span> (<span class="id">b</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span>)(<span class="id">i</span>:<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span>) <span class="id">mu</span> <span class="id">fp</span> <span class="id">fp</span>' <span class="id">cm</span> <span class="id">cm</span>': <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_core">match_core</a></span> <span class="id"><a href="AsmIDTransCorrect.html#cm">cm</a></span> <span class="id">cm</span>' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Injections.FPMatch</span>' <span class="id"><a href="AsmIDTransCorrect.html#mu">mu</a></span> <span class="id"><a href="AsmIDTransCorrect.html#fp">fp</a></span> <span class="id">fp</span>' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> (<span class="id">c</span>, <span class="id">m</span>) := <span class="id"><a href="AsmIDTransCorrect.html#cm">cm</a></span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> (<span class="id">c</span>', <span class="id">m</span>') := <span class="id">cm</span>' <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedSrc">Injections.SharedSrc</a></span> <span class="id"><a href="AsmIDTransCorrect.html#mu">mu</a></span>) <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span> <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedTgt">Injections.SharedTgt</a></span> <span class="id"><a href="AsmIDTransCorrect.html#mu">mu</a></span>) <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id">m</span>' <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="InjRels.html#proper_mu">proper_mu</a></span> <span class="id"><a href="AsmIDTransCorrect.html#MS.ge">ge</a></span> <span class="id"><a href="AsmIDTransCorrect.html#MS.ge">ge</a></span> <span class="id"><a href="Values.html#inject_id">inject_id</a></span> <span class="id"><a href="AsmIDTransCorrect.html#mu">mu</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="MemClosures_local.html#unmapped_closed">MemClosures_local.unmapped_closed</a></span> <span class="id"><a href="AsmIDTransCorrect.html#mu">mu</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span> <span class="id">m</span>').<br/>
&nbsp;&nbsp;<br/>
&nbsp;<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="AsmIDTransCorrect.html#MS">MS</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="exec_instr_match">exec_instr_match</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">i</span> <span class="id">f</span> <span class="id">ge</span> <span class="id">m1</span> <span class="id">m2</span> <span class="id">rs1</span> <span class="id">rs2</span> <span class="id">m1</span>' <span class="id">rs1</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#exec_instr">exec_instr</a></span> <span class="id"><a href="AsmIDTransCorrect.html#ge">ge</a></span> <span class="id"><a href="AsmIDTransCorrect.html#f">f</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs1">rs1</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m1">m1</a></span> = <span class="kwd">Next</span> <span class="id"><a href="AsmIDTransCorrect.html#rs2">rs2</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m2">m2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m1">m1</a></span> <span class="id">m1</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs1">rs1</a></span> <span class="id">rs1</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">rs2</span>' <span class="id">m2</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#exec_instr">exec_instr</a></span> <span class="id"><a href="AsmIDTransCorrect.html#ge">ge</a></span> <span class="id"><a href="AsmIDTransCorrect.html#f">f</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> <span class="id">rs1</span>' <span class="id">m1</span>' = <span class="kwd">Next</span> <span class="id">rs2</span>' <span class="id">m2</span>' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m2">m2</a></span> <span class="id">m2</span>' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs2">rs2</a></span> <span class="id">rs2</span>' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#FP.subset">FP.subset</a></span> (<span class="id"><a href="ASM_local.html#exec_instr_fp">exec_instr_fp</a></span> <span class="id"><a href="AsmIDTransCorrect.html#ge">ge</a></span> <span class="id"><a href="AsmIDTransCorrect.html#f">f</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> <span class="id">rs1</span>' <span class="id">m1</span>') (<span class="id"><a href="ASM_local.html#exec_instr_fp">exec_instr_fp</a></span> <span class="id"><a href="AsmIDTransCorrect.html#ge">ge</a></span> <span class="id"><a href="AsmIDTransCorrect.html#f">f</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs1">rs1</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m1">m1</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6928')">Proof.</div>
<div class="proofscript" id="proof6928">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H</span> <span class="kwd">as</span> <span class="id">STEP</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="ASM_local.html#exec_instr">exec_instr</a></span> <span class="kwd">in</span> <span class="id">H</span>. <br/>
&nbsp;&nbsp;<span class="id">ex_match</span>;<span class="id">inv</span> <span class="id">H</span>;<span class="tactic">unfold</span> <span class="id"><a href="ASM_local.html#exec_instr">exec_instr</a></span>,<span class="id"><a href="ASM_local.html#exec_instr_fp">exec_instr_fp</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="id">all</span> : <span class="tactic">try</span>(<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id">H</span>: <span class="id"><a href="ASM_local.html#exec_load">exec_load</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> = <span class="id">_</span> |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#exec_load_fp_match">exec_load_fp_match</a></span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>;<span class="id">Hsimpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#exec_load_match">exec_load_match</a></span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>;<span class="id">Hsimpl</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id">H</span>: <span class="id"><a href="ASM_local.html#exec_store">exec_store</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>= <span class="id">_</span> |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#exec_store_fp_match">exec_store_fp_match</a></span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#exec_store_match">exec_store_match</a></span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> ?;<span class="id">Hsimpl</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>;<span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;<span class="id">all</span> : <span class="tactic">try</span> (<span class="id">Esimpl</span>;<span class="tactic">eauto</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.subset_refl">FP.subset_refl</a></span>;<span class="id">solv_regset</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|- <span class="kwd">forall</span> <span class="id">a</span> <span class="id">b</span>:<span class="id"><a href="Values.html#val">val</a></span>,<span class="id">_</span> =&gt; <span class="tactic">intros</span> [][][];<span class="tactic">subst</span>;<span class="tactic">simpl</span>;<span class="tactic">auto</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>;<span class="tactic">discriminate</span>;<span class="tactic">fail</span>).<br/>
<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id">Focus</span> 27.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.loadv_extends">Mem.loadv_extends</a></span> <span class="kwd">in</span> <span class="id">Hx0</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.loadv_extends">Mem.loadv_extends</a></span> <span class="kwd">in</span> <span class="id">Hx1</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.free_parallel_extends">Mem.free_parallel_extends</a></span> <span class="kwd">in</span> <span class="id">Hx3</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">rs1</span>' <span class="id"><a href="Asm.html#RSP">RSP</a></span> = <span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b</span> <span class="id">i0</span>). <span class="id">solv_rs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H7</span>,<span class="id">H</span>,<span class="id">H3</span>,<span class="id">H5</span>,<span class="id">Hx2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>. <span class="id">solv_regset</span>. <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.subset_refl">FP.subset_refl</a></span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id">Unfocus</span>.<br/>
&nbsp;&nbsp;<span class="id">all</span> : <span class="tactic">try</span> <span class="id">solv_rs</span>;<span class="tactic">try</span> <span class="id">solv_eq</span>;<span class="tactic">try</span> <span class="id">solv_rs</span>;<span class="tactic">try</span> <span class="id">solv_eq</span>;<span class="tactic">try</span> <span class="id">solv_rs</span>;<span class="tactic">try</span> <span class="id">solv_eq</span>;<span class="tactic">try</span> <span class="id">solv_rs</span>;<span class="tactic">try</span> <span class="id">solv_eq</span>;<span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="id">all</span> : <span class="tactic">try</span> (<span class="id">Esimpl</span>;<span class="tactic">eauto</span>;<span class="tactic">try</span> <span class="id">ex_match</span>;<span class="id">check</span>;<span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;<span class="id">all</span> : <span class="id">eval_check</span>.<br/>
&nbsp;&nbsp;12,13,14,15: <span class="tactic">unfold</span> <span class="id"><a href="ASM_local.html#goto_label">goto_label</a></span> <span class="kwd">in</span> *;<span class="id">ex_match</span>;<span class="tactic">try</span> (<span class="id">solv_rs</span>;<span class="tactic">fail</span>); <span class="tactic">try</span> <span class="id">solv_eq</span>; <span class="tactic">try</span> <span class="id">solv_rs</span>; <span class="id">check</span>.<br/>
&nbsp;&nbsp;13 : <span class="tactic">unfold</span> <span class="id"><a href="ASM_local.html#goto_label">goto_label</a></span> <span class="kwd">in</span> *;<span class="id">ex_match</span>;<span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#regset_jmptbl">regset_jmptbl</a></span> <span class="kwd">in</span> <span class="id">H1</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>;<span class="tactic">try</span> <span class="id">solv_eq</span>;<span class="id">solv_eq</span>;<span class="id">check</span>.<br/>
&nbsp;&nbsp;<span class="id">all</span> : <span class="tactic">try</span> (<span class="id">ex_match</span>;<span class="id">check</span>;<span class="tactic">fail</span>).<br/>
<br/>
&nbsp;&nbsp;<span class="id">Focus</span> 10.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.subset_refl">FP.subset_refl</a></span>;  <span class="id">solv_regset</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">solv_regset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="AsmIDTransCorrect.html#compare_floats32_regset_match">compare_floats32_regset_match</a></span>;<span class="id">solv_regset</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="AsmIDTransCorrect.html#compare_floats32_regset_match">compare_floats32_regset_match</a></span>;<span class="id">solv_regset</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id">Unfocus</span>.<br/>
&nbsp;&nbsp;<span class="id">Focus</span> 10.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.alloc_extends">Mem.alloc_extends</a></span> <span class="kwd">with</span>(<span class="id">lo2</span>:=0)(<span class="id">hi2</span>:=<span class="id">sz</span>) <span class="kwd">in</span> <span class="id">Hx0</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>;<span class="tactic">try</span> <span class="tactic">omega</span>;<span class="id">Hsimpl</span>; <span class="tactic">rewrite</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.storev_extends">Mem.storev_extends</a></span> <span class="kwd">in</span> <span class="id">Hx1</span> <span class="kwd">as</span> <span class="id">R1</span>;<span class="tactic">eauto</span>;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.storev_extends">Mem.storev_extends</a></span> <span class="kwd">in</span> <span class="id">Hx2</span> <span class="kwd">as</span> <span class="id">R2</span>;<span class="tactic">eauto</span>;<span class="id">Hsimpl</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H3</span>,<span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>. <span class="id">solv_regset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.subset_parallel_union">FP.subset_parallel_union</a></span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.subset_refl">FP.subset_refl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">H0</span>;<span class="tactic">clear</span>;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="MemOpFP.html#alloc_fp">MemOpFP.alloc_fp</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="FMemOpFP.html#uncheck_alloc_fp">FMemOpFP.uncheck_alloc_fp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Memory.html#Mem.mext_next">Mem.mext_next</a></span> <span class="kwd">in</span> <span class="id">H0</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span>. <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.subset_refl">FP.subset_refl</a></span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id">Unfocus</span>.<br/>
&nbsp;&nbsp;<span class="id">all</span> :<span class="tactic">try</span> (<span class="id">erewrite</span> <span class="id"><a href="AsmIDTransCorrect.html#check_vundef_lessdef">check_vundef_lessdef</a></span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">Hx0</span>;<span class="id">solv_regset</span>;<span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;<span class="id">Focus</span> 9.<br/>
&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.subset_refl">FP.subset_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">solv_regset</span>;<span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#compare_floats_regset_match">compare_floats_regset_match</a></span>;<span class="id">solv_regset</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;{ <span class="id">Esimpl</span>; <span class="tactic">eauto</span>; <span class="tactic">try</span> <span class="id">solv_regset</span>; <span class="tactic">try</span> <span class="id">erewrite</span> <span class="id"><a href="AsmIDTransCorrect.html#extends_check_compare_ints_match">extends_check_compare_ints_match</a></span>; <span class="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">solv_regset</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="AsmIDTransCorrect.html#extends_compare_ints_regset_match">extends_compare_ints_regset_match</a></span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#extends_compare_ints_fp_match">extends_compare_ints_fp_match</a></span>. }<br/>
&nbsp;&nbsp;{ <span class="id">Esimpl</span>; <span class="tactic">eauto</span>; <span class="tactic">try</span> <span class="id">solv_regset</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="AsmIDTransCorrect.html#extends_compare_longs_regset_match">extends_compare_longs_regset_match</a></span>, <span class="id"><a href="AsmIDTransCorrect.html#extends_compare_longs_fp_match">extends_compare_longs_fp_match</a></span>. }<br/>
&nbsp;&nbsp;{ <span class="id">pose</span> <span class="id">proof</span> (<span class="id">H1</span> <span class="id">r1</span>) <span class="kwd">as</span> <span class="id">A</span>. <span class="tactic">cut</span> (<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>) (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id">n</span>)). <span class="tactic">intro</span> <span class="id">B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Esimpl</span>; <span class="tactic">eauto</span>; <span class="tactic">try</span> <span class="id">solv_regset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="AsmIDTransCorrect.html#extends_check_compare_ints_match">extends_check_compare_ints_match</a></span>; <span class="tactic">eauto</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">solv_regset</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="AsmIDTransCorrect.html#extends_compare_ints_regset_match">extends_compare_ints_regset_match</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="AsmIDTransCorrect.html#extends_compare_ints_fp_match">extends_compare_ints_fp_match</a></span>. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;{ <span class="id">Esimpl</span>; <span class="tactic">eauto</span>; <span class="tactic">try</span> <span class="id">solv_regset</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="AsmIDTransCorrect.html#extends_compare_longs_regset_match">extends_compare_longs_regset_match</a></span>, <span class="id"><a href="AsmIDTransCorrect.html#extends_compare_longs_fp_match">extends_compare_longs_fp_match</a></span>. }<br/>
<br/>
&nbsp;&nbsp;<span class="id">all</span> : <span class="tactic">destruct</span> (<span class="id">rs1</span> <span class="id">r1</span>) <span class="id">eqn</span>:?;<span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">all</span> : <span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#match_regset_rs_val2">match_regset_rs_val2</a></span> <span class="kwd">in</span> <span class="id">Heqv</span> <span class="kwd">as</span> <span class="id">Heqv2</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">H1</span>;<span class="tactic">eauto</span>;<span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">all</span>: <span class="tactic">try</span> <span class="tactic">destruct</span> (<span class="id">rs1</span> <span class="id">r2</span>) <span class="id">eqn</span>:?;<span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="id">all</span> : <span class="tactic">try</span> (<span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#match_regset_rs_val2">match_regset_rs_val2</a></span> <span class="kwd">in</span> <span class="id">Heqv0</span> <span class="kwd">as</span> <span class="id">Heqv3</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">H1</span>;<span class="tactic">eauto</span>;<span class="tactic">try</span> <span class="tactic">discriminate</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id">all</span> : <span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.and">Val.and</a></span>,<span class="id"><a href="Values.html#Val.andl">Val.andl</a></span> <span class="kwd">in</span> *;<span class="tactic">simpl</span> <span class="kwd">in</span> *;<span class="id">solv_eq</span>;<span class="tactic">try</span> <span class="id">solv_eq</span>.<br/>
&nbsp;&nbsp;<span class="id">all</span>: <span class="tactic">unfold</span> <span class="id"><a href="Asm.html#compare_ints">compare_ints</a></span>,<span class="id"><a href="ASM_local.html#compare_ints_fp">compare_ints_fp</a></span>,<span class="id"><a href="Asm.html#compare_longs">compare_longs</a></span>,<span class="id"><a href="ASM_local.html#compare_longs_fp">compare_longs_fp</a></span> <span class="kwd">in</span> *;<span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">all</span> :<span class="id">Esimpl</span>;<span class="tactic">eauto</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.subset_refl">FP.subset_refl</a></span>.<br/>
&nbsp;&nbsp;<span class="id">all</span>: <span class="id">solv_regset</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="extcall_arg_match">extcall_arg_match</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rs</span> <span class="id">m</span> <span class="id">ef</span> <span class="id">args</span> <span class="id">fp</span> <span class="id">rs</span>' <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id">rs</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span> <span class="id">m</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Asm.html#extcall_arg">extcall_arg</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span> <span class="id"><a href="AsmIDTransCorrect.html#ef">ef</a></span> <span class="id"><a href="AsmIDTransCorrect.html#args">args</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#extcall_arg_fp">extcall_arg_fp</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id"><a href="AsmIDTransCorrect.html#ef">ef</a></span> <span class="id"><a href="AsmIDTransCorrect.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">args0</span> ,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="AsmIDTransCorrect.html#args">args</a></span> <span class="id"><a href="AsmIDTransCorrect.html#args0">args0</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Asm.html#extcall_arg">extcall_arg</a></span> <span class="id">rs</span>' <span class="id">m</span>' <span class="id"><a href="AsmIDTransCorrect.html#ef">ef</a></span> <span class="id"><a href="AsmIDTransCorrect.html#args0">args0</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#extcall_arg_fp">extcall_arg_fp</a></span> <span class="id">rs</span>' <span class="id"><a href="AsmIDTransCorrect.html#ef">ef</a></span> <span class="id"><a href="AsmIDTransCorrect.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6929')">Proof.</div>
<div class="proofscript" id="proof6929">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H2</span>;<span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>. <br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">constructor</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">rs</span> <span class="id"><a href="Asm.html#RSP">RSP</a></span> &lt;&gt; <span class="id"><a href="Values.html#Vundef">Vundef</a></span>). <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H6</span>. <span class="id">inv</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id">rs</span> <span class="id"><a href="Asm.html#RSP">RSP</a></span>)(<span class="id">rs</span>' <span class="id"><a href="Asm.html#RSP">RSP</a></span>)). <span class="id">solv_regset</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H2</span>;<span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id">Hsimpl</span>. <span class="tactic">rewrite</span> <span class="id">H5</span> <span class="kwd">in</span>*.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.loadv_extends">Mem.loadv_extends</a></span> <span class="kwd">in</span> <span class="id">H6</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>.  <span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="extcall_arg_pair_match">extcall_arg_pair_match</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rs</span> <span class="id">m</span> <span class="id">ef</span> <span class="id">args</span> <span class="id">fp</span> <span class="id">rs</span>' <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id">rs</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span> <span class="id">m</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Asm.html#extcall_arg_pair">extcall_arg_pair</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span> <span class="id"><a href="AsmIDTransCorrect.html#ef">ef</a></span> <span class="id"><a href="AsmIDTransCorrect.html#args">args</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#extcall_arg_pair_fp">extcall_arg_pair_fp</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id"><a href="AsmIDTransCorrect.html#ef">ef</a></span> <span class="id"><a href="AsmIDTransCorrect.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">args0</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="AsmIDTransCorrect.html#args">args</a></span> <span class="id"><a href="AsmIDTransCorrect.html#args0">args0</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Asm.html#extcall_arg_pair">extcall_arg_pair</a></span> <span class="id">rs</span>' <span class="id">m</span>' <span class="id"><a href="AsmIDTransCorrect.html#ef">ef</a></span> <span class="id"><a href="AsmIDTransCorrect.html#args0">args0</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#extcall_arg_pair_fp">extcall_arg_pair_fp</a></span> <span class="id">rs</span>' <span class="id"><a href="AsmIDTransCorrect.html#ef">ef</a></span> <span class="id"><a href="AsmIDTransCorrect.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6930')">Proof.</div>
<div class="proofscript" id="proof6930">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>;<span class="id">inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#extcall_arg_match">extcall_arg_match</a></span> <span class="kwd">in</span> <span class="id">H3</span>;<span class="tactic">eauto</span>;<span class="id">Hsimpl</span>;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>;<span class="id">constructor</span>;<span class="tactic">auto</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#extcall_arg_match">extcall_arg_match</a></span> <span class="kwd">in</span> <span class="id">H3</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#extcall_arg_match">extcall_arg_match</a></span> <span class="kwd">in</span> <span class="id">H4</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="Values.html#Val.longofwords">Val.longofwords</a></span> <span class="id">x0</span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>. <span class="id">solv_regset</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [] [] [] ;<span class="tactic">auto</span>;<span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="extcall_arguments_match">extcall_arguments_match</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">rs</span> <span class="id">m</span> <span class="id">ef</span> <span class="id">args</span> <span class="id">fp</span> <span class="id">rs</span>' <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id">rs</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span> <span class="id">m</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Asm.html#extcall_arguments">extcall_arguments</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span> <span class="id"><a href="AsmIDTransCorrect.html#ef">ef</a></span> <span class="id"><a href="AsmIDTransCorrect.html#args">args</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#extcall_arguments_fp">extcall_arguments_fp</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id"><a href="AsmIDTransCorrect.html#ef">ef</a></span> <span class="id"><a href="AsmIDTransCorrect.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">args0</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef_list">Val.lessdef_list</a></span> <span class="id"><a href="AsmIDTransCorrect.html#args">args</a></span> <span class="id"><a href="AsmIDTransCorrect.html#args0">args0</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Asm.html#extcall_arguments">extcall_arguments</a></span> <span class="id">rs</span>' <span class="id">m</span>' <span class="id"><a href="AsmIDTransCorrect.html#ef">ef</a></span> <span class="id"><a href="AsmIDTransCorrect.html#args0">args0</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ASM_local.html#extcall_arguments_fp">extcall_arguments_fp</a></span> <span class="id">rs</span>' <span class="id"><a href="AsmIDTransCorrect.html#ef">ef</a></span> <span class="id"><a href="AsmIDTransCorrect.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6931')">Proof.</div>
<div class="proofscript" id="proof6931">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Asm.html#extcall_arguments">extcall_arguments</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="ASM_local.html#extcall_arguments_fp">extcall_arguments_fp</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="tactic">dependent</span> <span class="id">fp</span>.<br/>
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">H1</span>;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>.  <span class="id">constructor</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHlist_forall2</span> <span class="kwd">in</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#extcall_arg_pair_match">extcall_arg_pair_match</a></span> <span class="kwd">in</span> <span class="id">H6</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>; <span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="loadframe.html">loadframe</a></span>.<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="store_args_mem_extends">store_args_mem_extends</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">args</span> <span class="id">m</span> <span class="id">m</span>' <span class="id">stk</span> <span class="id">tys</span> <span class="id">m1</span> ,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="loadframe.html#store_args">store_args</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span> <span class="id"><a href="AsmIDTransCorrect.html#stk">stk</a></span> <span class="id"><a href="AsmIDTransCorrect.html#args">args</a></span> <span class="id"><a href="AsmIDTransCorrect.html#tys">tys</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m1">m1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span> <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">m1</span>', <span class="id"><a href="loadframe.html#store_args">store_args</a></span> <span class="id">m</span>' <span class="id"><a href="AsmIDTransCorrect.html#stk">stk</a></span> <span class="id"><a href="AsmIDTransCorrect.html#args">args</a></span> <span class="id"><a href="AsmIDTransCorrect.html#tys">tys</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m1</span>' /\ <span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m1">m1</a></span> <span class="id">m1</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6932')">Proof.</div>
<div class="proofscript" id="proof6932">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="loadframe.html#store_args">store_args</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">args</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> 0.<br/>
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">args</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">ex_match</span>. <span class="id">Esimpl</span>;<span class="tactic">eauto</span>. <span class="tactic">congruence</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">ex_match</span>;<span class="tactic">try</span> <span class="id">solv_eq</span>.<br/>
&nbsp;&nbsp;<span class="id">all</span> : <span class="tactic">unfold</span> <span class="id"><a href="loadframe.html#store_stack">store_stack</a></span>,<span class="id"><a href="Mach.html#store_stack">Mach.store_stack</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">all</span> : <span class="tactic">try</span> (<span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.storev_extends">Mem.storev_extends</a></span> <span class="kwd">in</span> <span class="id">Hx1</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>;<span class="id">Hsimpl</span>;<span class="tactic">try</span> <span class="id">solv_eq</span>;<span class="tactic">eapply</span> <span class="id">IHargs</span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> ?;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">H</span>;<span class="tactic">eauto</span>;<span class="tactic">fail</span>).<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.storev_extends">Mem.storev_extends</a></span> <span class="kwd">in</span> <span class="id">Hx2</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>;<span class="id">Hsimpl</span>;<span class="id">solv_eq</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.storev_extends">Mem.storev_extends</a></span> <span class="kwd">in</span> <span class="id">Hx3</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>;<span class="id">Hsimpl</span>;<span class="id">solv_eq</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHargs</span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.storev_extends">Mem.storev_extends</a></span> <span class="kwd">in</span> <span class="id">Hx2</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>;<span class="id">Hsimpl</span>;<span class="id">solv_eq</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.storev_extends">Mem.storev_extends</a></span> <span class="kwd">in</span> <span class="id">Hx3</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>;<span class="id">Hsimpl</span>;<span class="id">solv_eq</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.storev_extends">Mem.storev_extends</a></span> <span class="kwd">in</span> <span class="id">Hx2</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>;<span class="id">Hsimpl</span>;<span class="id">solv_eq</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="store_args_validity_preserve">store_args_validity_preserve</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">m</span> <span class="id">a</span> <span class="id">c</span> <span class="id">m</span>' <span class="id">t</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span> <span class="id"><a href="AsmIDTransCorrect.html#t">t</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="loadframe.html#store_args">store_args</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span> <span class="id"><a href="AsmIDTransCorrect.html#a">a</a></span> <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> <span class="id"><a href="AsmIDTransCorrect.html#c">c</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">m</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id">m</span>' <span class="id"><a href="AsmIDTransCorrect.html#t">t</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6933')">Proof.</div>
<div class="proofscript" id="proof6933">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="loadframe.html#store_args">store_args</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> 0.<br/>
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">b</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">ex_match</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">ex_match</span>.<br/>
&nbsp;&nbsp;<span class="id">all</span> :<span class="tactic">unfold</span> <span class="id"><a href="loadframe.html#store_stack">store_stack</a></span>,<span class="id"><a href="Mach.html#store_stack">Mach.store_stack</a></span>,<span class="id"><a href="Memory.html#Mem.storev">Mem.storev</a></span> <span class="kwd">in</span> *;<span class="id">ex_match</span>.<br/>
&nbsp;&nbsp;<span class="id">all</span>: <span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.store_valid_block_1">Mem.store_valid_block_1</a></span> <span class="kwd">in</span> <span class="id">Hx1</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHb</span> <span class="kwd">in</span> <span class="id">H0</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">do</span> 2 (<span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.store_valid_block_1">Mem.store_valid_block_1</a></span>;<span class="tactic">eauto</span>).<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="range_locset_expend1_subset">range_locset_expend1_subset</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">i</span> ,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#Locs.subset">Locs.subset</a></span> (<span class="id"><a href="FMemOpFP.html#range_locset">FMemOpFP.range_locset</a></span> <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> 1)(<span class="id"><a href="FMemOpFP.html#range_locset">FMemOpFP.range_locset</a></span> <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> (<span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> - 1)2).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6934')">Proof.</div>
<div class="proofscript" id="proof6934">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemOpFP.html#range_locset">FMemOpFP.range_locset</a></span>.<br/>
&nbsp;&nbsp;<span class="id">Locs.unfolds</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">ex_match</span>.<br/>
&nbsp;&nbsp;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#zle">zle</a></span>,<span class="id"><a href="Coqlib.html#zlt">zlt</a></span>,<span class="id"><a href="Coqlib.html#zle">zle</a></span>,<span class="id"><a href="Coqlib.html#zlt">zlt</a></span>;<span class="tactic">auto</span>;<span class="tactic">try</span> <span class="tactic">omega</span>.<br/>
Qed.</div>
<span class="kwd">Ltac</span> <span class="id">invMS</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="AsmIDTransCorrect.html#MS">MS</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> ?<span class="id">cm1</span> ?<span class="id">cm2</span> |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">cm1</span> <span class="kwd">as</span> [<span class="id">sc</span> <span class="id">Hm</span>]; <span class="tactic">destruct</span> <span class="id">cm2</span> <span class="kwd">as</span> [<span class="id">tc</span> <span class="id">Lm</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="AsmIDTransCorrect.html#MS">MS</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [<span class="id">MC</span> [<span class="id">FPMATCH</span> [<span class="id">SVALID</span> [<span class="id">TVALID</span> [<span class="id">AGMU</span> <span class="id">RCPRESV</span>]]]]]<br/>
&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="AsmIDTransCorrect.html#MS">MS</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> ?<span class="id">cm1</span> ?<span class="id">cm2</span> |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="AsmIDTransCorrect.html#MS">MS</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [<span class="id">MC</span> [<span class="id">FPMATCH</span> [<span class="id">SVALID</span> [<span class="id">TVALID</span> [<span class="id">AGMU</span> <span class="id">RCPRESV</span>]]]]]<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="cmpu_bool_some_eq">cmpu_bool_some_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">m</span>' <span class="id">rs</span> <span class="id">rs</span>' <span class="id">i</span> <span class="id">j</span> <span class="id">b</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span> <span class="id">m</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="AsmIDTransCorrect.html#match_regset">match_regset</a></span> <span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id">rs</span>'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> <span class="id"><a href="AsmIDTransCorrect.html#k">k</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span> (<span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span>) <span class="id"><a href="Integers.html#Ceq">Ceq</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> (<span class="id"><a href="AsmIDTransCorrect.html#rs">rs</a></span> <span class="id"><a href="AsmIDTransCorrect.html#j">j</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span> (<span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id">m</span>') <span class="id"><a href="Integers.html#Ceq">Ceq</a></span> <span class="id"><a href="AsmIDTransCorrect.html#k">k</a></span> (<span class="id">rs</span>' <span class="id"><a href="AsmIDTransCorrect.html#j">j</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6935')">Proof.</div>
<div class="proofscript" id="proof6935">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">rs</span> <span class="id">j</span> &lt;&gt; <span class="id"><a href="Values.html#Vundef">Vundef</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="tactic">rewrite</span> <span class="id">H3</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">compute</span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="id">ex_match</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id">rs</span> <span class="id">j</span>)(<span class="id">rs</span>' <span class="id">j</span>)).<br/>
&nbsp;&nbsp;<span class="id">solv_regset</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>;<span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>;[|<span class="id">inv</span> <span class="id">H2</span>].<br/>
&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="kwd">forall</span> <span class="id">m</span> <span class="id">m</span>' <span class="id">b</span> <span class="id">i</span> <span class="id">j</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span> <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> || <span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span> <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> <span class="id"><a href="AsmIDTransCorrect.html#j">j</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span> <span class="id">i</span> ,<span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id"><a href="AsmIDTransCorrect.html#m">m</a></span> <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id">m</span>' <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id">m</span>' <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span>||<span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id">m</span>' <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> <span class="id"><a href="AsmIDTransCorrect.html#j">j</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">clear</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id">eqn</span>:?;<span class="tactic">simpl</span> <span class="kwd">in</span> *;<span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">bool</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="kwd">forall</span> <span class="id">b</span> <span class="id">i</span>,<span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id">m</span> <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>-&gt;<span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id">m</span>' <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> <span class="id"><a href="AsmIDTransCorrect.html#i">i</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.valid_pointer_extends">Mem.valid_pointer_extends</a></span> ;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">ex_match</span>;<span class="tactic">try</span> <span class="id">solv_rs</span>;<span class="tactic">try</span> <span class="id">solv_eq</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span>;<span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">Hx2</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Integers.html#Int.eq">Int.eq</a></span>;<span class="tactic">simpl</span> <span class="kwd">in</span> *;<span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">Hx2</span>;<span class="tactic">eauto</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id">m</span> <span class="id">b1</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">i</span>)) || (<span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id">m</span> <span class="id">b1</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Ptrofs.unsigned</a></span> <span class="id">i</span> - 1))) <span class="id">eqn</span>:?;<span class="tactic">simpl</span> <span class="kwd">in</span> *;<span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">Hx3</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">Heqb0</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Hx3</span>,<span class="id">Heqb0</span> <span class="kwd">in</span> <span class="id">Hx4</span>;<span class="id">inv</span> <span class="id">Hx4</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Memory.html#Mem.valid_pointer">Mem.valid_pointer</a></span>) <span class="id">eqn</span>:?;<span class="tactic">simpl</span> <span class="kwd">in</span> *;<span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.valid_pointer_extends">Mem.valid_pointer_extends</a></span> <span class="kwd">in</span> <span class="id">Heqb2</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.valid_pointer_extends">Mem.valid_pointer_extends</a></span> <span class="kwd">in</span> <span class="id">Hx3</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Heqb2</span>,<span class="id">Hx3</span> <span class="kwd">in</span> <span class="id">Hx4</span>;<span class="tactic">simpl</span> <span class="kwd">in</span> *;<span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="AsmLocalize.html">AsmLocalize</a></span>.<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="id_trans_asm_correct">id_trans_asm_correct</a></span>: <span class="id"><a href="SeqCorrect.html#seq_correct">seq_correct</a></span> <span class="id"><a href="AsmIDTransCorrect.html#id_trans_asm">id_trans_asm</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6936')">Proof.</div>
<div class="proofscript" id="proof6936">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="SeqCorrect.html#seq_correct">seq_correct</a></span>. <span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="AsmIDTransCorrect.html#id_trans_asm">id_trans_asm</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">monadInv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Localize.html#localize">localize</a></span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">exact</span> <span class="id"><a href="AsmLocalize.html#asm_localize">asm_localize</a></span>. <span class="tactic">exact</span> <span class="id"><a href="AsmLocalize.html#asm_lift">asm_lift</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="CUAST.html#nodup_gd_init_genv_ident_exists">nodup_gd_init_genv_ident_exists</a></span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="CUAST.html#nodup_gd_init_genv_ident_exists">nodup_gd_init_genv_ident_exists</a></span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> ? ? ? ? ? ? ? ; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H3</span>; <span class="id">inv</span> <span class="id">H2</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">subst</span>. <span class="tactic">rename</span> <span class="id">bound0</span> <span class="id">into</span> <span class="id">bound</span>.<br/>
&nbsp;&nbsp;<span class="id">remember</span> (<span class="id"><a href="Globalenvs.html#Genv.globalenv">Genv.globalenv</a></span> (<span class="id"><a href="AST.html#mkprogram">mkprogram</a></span> (<span class="id"><a href="CUAST.html#cu_defs">cu_defs</a></span> <span class="id">tu</span>) (<span class="id"><a href="CUAST.html#cu_public">cu_public</a></span> <span class="id">tu</span>) 1%<span class="id">positive</span>)) <span class="kwd">as</span> <span class="id">ge0</span> <span class="id">eqn</span>:<span class="id">G0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">GEBOUND0</span> = <span class="id">GEBOUND</span>) <span class="tactic">by</span> <span class="tactic">apply</span> <span class="id"><a href="Axioms.html#proof_irr">Axioms.proof_irr</a></span>. <span class="tactic">subst</span> <span class="id">GEBOUND0</span>.<br/>
&nbsp;&nbsp;<span class="id">remember</span> (<span class="id"><a href="CUAST.html#ge_extend">ge_extend</a></span> <span class="id">ge0</span> <span class="id">bound</span> <span class="id">GEBOUND</span>) <span class="kwd">as</span> <span class="id">ge</span> <span class="id">eqn</span>:<span class="id">G</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> (<span class="id"><a href="LDSim_local.html#Local_ldsim">Local_ldsim</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Peano.html#lt">lt</a></span>).<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id">instantiate</span>(1:= <span class="id"><a href="AsmIDTransCorrect.html#MS">MS</a></span> <span class="id">ge</span>).<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>;<span class="tactic">simpl</span>;<span class="tactic">try</span> (<span class="tactic">intros</span>;<span class="id">invMS</span>;<span class="tactic">destruct</span> <span class="id">AGMU</span>;<span class="tactic">auto</span>;<span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Arith.Wf_nat.html#lt_wf">lt_wf</a></span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id">constructor</span>; <span class="tactic">try</span> <span class="tactic">tauto</span>. <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">inversion</span> <span class="id">H0</span>. <span class="tactic">subst</span> <span class="id">b</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Maps.html#PTree.get">Maps.PTree.get</a></span> <span class="id">b</span> (<span class="id"><a href="Globalenvs.html#Genv.genv_defs">Genv.genv_defs</a></span> <span class="id">ge</span>)); <span class="tactic">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">g</span>; <span class="tactic">try</span> <span class="id">constructor</span>. <span class="tactic">destruct</span> <span class="id">v</span>; <span class="tactic">try</span> <span class="id">constructor</span>.<br/>
init*)</span>&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="ASM_local.html#init_core">init_core</a></span>, <span class="id"><a href="ASM_local.html#fundef_init">fundef_init</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id">ge</span> <span class="id">id</span>); <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id">ge</span> <span class="id">b</span>); <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">f</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="val_casted.html#wd_args">wd_args</a></span> <span class="id">argSrc</span> (<span class="id"><a href="AST.html#sig_args">sig_args</a></span> (<span class="id"><a href="ASM_local.html#fn_sig">fn_sig</a></span> <span class="id">f</span>))) <span class="id">eqn</span>:<span class="id">WDARG</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="val_casted.html#wd_args_inject">wd_args_inject</a></span>; <span class="tactic">eauto</span>. <span class="tactic">inversion</span> <span class="id">H3</span>. <span class="tactic">clear</span> <span class="id">H3</span>. <span class="tactic">subst</span> <span class="id">score</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexists</span>. <span class="tactic">split</span>. <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">sm</span> <span class="id">tm</span> <span class="id">INITSM</span> <span class="id">INITTM</span> <span class="id">MEMREL</span> <span class="id">sm</span>' <span class="id">tm</span>' <span class="id">HLRELY</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> 0%<span class="id">nat</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">argSrc</span> = <span class="id">argTgt</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">revert</span> <span class="id">argTgt</span> <span class="id">MEMREL</span> <span class="id">H1</span> <span class="id">H2</span>. <span class="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">argSrc</span>; <span class="tactic">intros</span>; <span class="id">inv</span> <span class="id">H1</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">f_equal</span>; <span class="tactic">auto</span>. <span class="id">inv</span> <span class="id">H1</span>; <span class="tactic">auto</span>; <span class="tactic">try</span> <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Injections.html#inj">inj</a></span> <span class="id">mu</span> <span class="id">b1</span>) <span class="id">eqn</span>:<span class="id">INJ</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">exploit</span> <span class="id"><a href="LDSim_local.html#inj_inject_id">inj_inject_id</a></span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>. <span class="tactic">rewrite</span> <span class="id">INJ</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">A</span>; <span class="id">inv</span> <span class="id">A</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span>. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">argTgt</span>. <span class="tactic">rename</span> <span class="id">argSrc</span> <span class="id">into</span> <span class="id">args</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">destruct</span> <span class="id">HLRELY</span> <span class="kwd">as</span> [<span class="id">HRELY</span> <span class="id">LRELY</span> <span class="id">INV</span>]. <span class="id">constructor</span>. <span class="id">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id">sm</span> <span class="id">tm</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">generalize</span> <span class="id">MEMREL</span> <span class="id">H</span>. <span class="tactic">clear</span>; <span class="tactic">intros</span> ? <span class="id">GE_INIT_INJ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">MEMREL</span>. <span class="tactic">eapply</span> <span class="id"><a href="LDSimDefs_local.html#inject_implies_extends">inject_implies_extends</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">rewrite</span> &lt;- <span class="id">dom_eq_src</span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Blockset.html#Bset.inj_dom">Bset.inj_dom</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [<span class="id">b</span>' <span class="id">A</span>]. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>. <span class="tactic">rewrite</span> <span class="id">A</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">GE_INIT_INJ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">mu_shared_src</span> <span class="kwd">in</span> <span class="id">dom_eq_src</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">mu_shared_tgt</span> <span class="kwd">in</span> <span class="id">dom_eq_tgt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> (<span class="id"><a href="Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">sm</span>) &lt;-&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> (<span class="id"><a href="Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">tm</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">intro</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">dom_eq_src</span>, &lt;- <span class="id">dom_eq_tgt</span>. <span class="tactic">tauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.lt_total">Pos.lt_total</a></span> (<span class="id"><a href="Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">sm</span>) (<span class="id"><a href="Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">tm</span>)) <span class="kwd">as</span> [<span class="id">LT</span> | [<span class="id">EQ</span> | <span class="id">LT</span>]]; <span class="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id">H</span> <span class="id">LT</span>; <span class="tactic">clear</span>; <span class="tactic">intros</span>; <span class="id">exfalso</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">LT</span>; <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.lt_irrefl">Pos.lt_irrefl</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="LDSimDefs_local.html#extends_rely_extends">extends_rely_extends</a></span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">MEMREL</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Esimpl</span>. <span class="id">eresolvfp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4:  <span class="tactic">apply</span> <span class="id"><a href="MemClosures_local.html#reach_closed_unmapped_closed">MemClosures_local.reach_closed_unmapped_closed</a></span>;<span class="id">inv</span> <span class="id">LRELY</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">INITSM</span>,<span class="id">HRELY</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">EQNEXT</span>,&lt;-<span class="id">dom_match</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id">mu_shared_src</span> <span class="kwd">in</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>;<span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span>;<span class="tactic">destruct</span> <span class="id">INITTM</span>,<span class="id">LRELY</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">EQNEXT</span>,&lt;-<span class="id">dom_match</span>. <span class="id">inv</span> <span class="id">H</span>;<span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">mu_shared_tgt</span> <span class="kwd">in</span> <span class="id">H3</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H</span>; <span class="tactic">inversion</span> <span class="id">MEMREL</span>. <span class="id">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="InjRels.html#sep_inject">sep_inject</a></span>. <span class="tactic">intros</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="kwd">in</span> *. <span class="tactic">destruct</span> (<span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id">mu</span> <span class="id">b0</span>) <span class="id">eqn</span>:?; [|<span class="id">inv</span> <span class="id">H3</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Bset.inj_range</span>' <span class="kwd">in</span> <span class="id">Heqo</span>;[|<span class="id">inv</span> <span class="id">mu_inject</span>; <span class="tactic">eauto</span>]. <span class="id">inv</span> <span class="id">H3</span>. <span class="id">inv</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">mu_shared_tgt</span>, &lt;- <span class="id">mu_shared_src</span> <span class="kwd">in</span> <span class="id">Heqo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Blockset.html#Bset.inj_dom">Bset.inj_dom</a></span> <span class="kwd">in</span> <span class="id">Heqo</span>; <span class="tactic">eauto</span>. <span class="tactic">destruct</span> <span class="id">Heqo</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H3</span>. <span class="id">exploit</span> <span class="id">inj_inject_id</span>. <span class="tactic">rewrite</span> <span class="id">H3</span>. <span class="tactic">eauto</span>. <span class="tactic">intro</span> <span class="id">C</span>. <span class="id">inv</span> <span class="id">C</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
&nbsp;step&nbsp;*)</span>&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">Hm</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>. <span class="id">exists</span> 0%<span class="id">nat</span>. <span class="tactic">clear</span> <span class="id">G0</span> <span class="id">G</span>. <span class="id">pose</span> <span class="id">proof</span> <span class="id">H0</span> <span class="kwd">as</span> <span class="id">STEP0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;exec&nbsp;instr&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">invMS</span>;<span class="tactic">intros</span>;<span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">MC</span>. <span class="tactic">subst</span> <span class="id">rs0</span> <span class="id">lf0</span> <span class="id">Hm</span> <span class="id">Lm</span> <span class="id">Lcore</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#exec_instr_match">exec_instr_match</a></span> <span class="kwd">in</span> <span class="id">H4</span> <span class="kwd">as</span> <span class="id">STEP</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Hsimpl</span>;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>.  <span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">solv_rs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eresolvfp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="AsmIDTransCorrect.html#MS">MS</a></span>;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>; <span class="id">eresolvfp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eresolvfp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#exec_instr_valid_block">exec_instr_valid_block</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#exec_instr_valid_block2">exec_instr_valid_block2</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="ASM_local.html#exec_instr">exec_instr</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ex_match</span>;<span class="tactic">repeat</span> <span class="id">solv_eq</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">all</span>: <span class="tactic">unfold</span> <span class="id"><a href="ASM_local.html#exec_load">exec_load</a></span>,<span class="id"><a href="ASM_local.html#exec_store">exec_store</a></span>,<span class="id"><a href="Memory.html#Mem.storev">Mem.storev</a></span>,<span class="id"><a href="ASM_local.html#goto_label">goto_label</a></span> <span class="kwd">in</span> *;<span class="tactic">repeat</span> <span class="id">ex_match</span>;<span class="tactic">repeat</span> <span class="id">solv_eq</span>;<span class="tactic">try</span> (<span class="id">resvalid</span>;<span class="tactic">auto</span>;<span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">all</span> : <span class="tactic">try</span> (<span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#eval_addrmode_lessdef">eval_addrmode_lessdef</a></span> <span class="kwd">with</span>(<span class="id">ge</span>:= <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Peano.html#ge">ge</a></span>)(<span class="id">a</span>:=<span class="id">a</span>) <span class="kwd">in</span> <span class="id">H5</span>;<span class="id">inv</span> <span class="id">H5</span>;<span class="tactic">repeat</span> <span class="id">solv_eq</span>;<span class="id">resvalid</span>;<span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">b1</span> = <span class="id">b0</span>). <span class="kwd">Local</span> <span class="id">Transparent</span> <span class="id"><a href="Memory.html#Mem.alloc">Mem.alloc</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H9</span>. <span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.alloc">Mem.alloc</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="id">solv_eq</span>. <span class="id">solv_eq</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="MemClosures_local.html#unmapped_closed">unmapped_closed</a></span> <span class="id">mu</span> <span class="id">m3</span> <span class="id">m0</span>). <span class="id">resvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="kwd">forall</span> <span class="id">b</span> : <span class="id"><a href="Values.html#block">block</a></span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedSrc">SharedSrc</a></span> <span class="id">mu</span>) <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id">m3</span> <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span>). <span class="id">resvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="kwd">forall</span> <span class="id">b</span> : <span class="id"><a href="Values.html#block">block</a></span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedTgt">SharedTgt</a></span> <span class="id">mu</span>) <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id">m0</span> <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span>). <span class="id">resvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="MemClosures_local.html#unmapped_closed">unmapped_closed</a></span> <span class="id">mu</span> <span class="id">m4</span> <span class="id">m1</span>). <span class="id">resvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="kwd">forall</span> <span class="id">b</span> : <span class="id"><a href="Values.html#block">block</a></span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedSrc">SharedSrc</a></span> <span class="id">mu</span>) <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id">m4</span> <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span>). <span class="id">resvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="kwd">forall</span> <span class="id">b</span> : <span class="id"><a href="Values.html#block">block</a></span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedTgt">SharedTgt</a></span> <span class="id">mu</span>) <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id">m1</span> <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span>). <span class="id">resvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">resvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">solv_rs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">resvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">invMS</span>;<span class="tactic">intros</span>;<span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">MC</span>. <span class="tactic">subst</span> <span class="id">rs0</span> <span class="id">lf0</span> <span class="id">Hm</span>' <span class="id">Lm</span> <span class="id">Lcore</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (@<span class="id"><a href="Events.html#eval_builtin_args_lessdef">eval_builtin_args_lessdef</a></span> <span class="id">_</span> <span class="id">ge</span> (<span class="kwd">fun</span> <span class="id">r</span> =&gt; <span class="id">rs</span>#<span class="id"><a href="AsmIDTransCorrect.html#r">r</a></span>) (<span class="kwd">fun</span> <span class="id">r</span> =&gt; <span class="id">rs</span>'#<span class="id"><a href="AsmIDTransCorrect.html#r">r</a></span>)); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> (<span class="id">vargs</span>' &amp; <span class="id">P</span> &amp; <span class="id">Q</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="MemOpFP.html#eval_builtin_args_fp_lessdef">MemOpFP.eval_builtin_args_fp_lessdef</a></span> <span class="id">_</span> <span class="id">ge</span> (<span class="kwd">fun</span> <span class="id">r</span> =&gt; <span class="id">rs</span>#<span class="id"><a href="AsmIDTransCorrect.html#r">r</a></span>) (<span class="kwd">fun</span> <span class="id">r</span> =&gt; <span class="id">rs</span>'#<span class="id"><a href="AsmIDTransCorrect.html#r">r</a></span>)); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">EVALFP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Events.html#external_call_mem_extends">external_call_mem_extends</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">v</span>' [<span class="id">m</span>'1 [<span class="id">A</span> [<span class="id">B</span> [<span class="id">C</span> <span class="id">D</span>]]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">A</span> <span class="kwd">as</span> <span class="id">A</span>'. <span class="tactic">apply</span> <span class="id"><a href="helpers.html#i64ext_effects">helpers.i64ext_effects</a></span> <span class="kwd">in</span> <span class="id">A</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">A</span>'; <span class="tactic">subst</span> <span class="id">m</span>'1 .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">rs</span>' <span class="id"><a href="Asm.html#RSP">RSP</a></span> = <span class="id">rs</span> <span class="id"><a href="Asm.html#RSP">RSP</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id">rs</span> <span class="id"><a href="Asm.html#RSP">RSP</a></span>)(<span class="id">rs</span>' <span class="id"><a href="Asm.html#RSP">RSP</a></span>)). <span class="id">solv_regset</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>;<span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id">H11</span> <span class="kwd">in</span> *. <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">auto</span>. <span class="id">constructor</span>;<span class="tactic">auto</span>. <span class="id">econstructor</span> 2;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">solv_rs</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="id">solv_rs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eresolvfp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="AsmIDTransCorrect.html#MS">MS</a></span>. <span class="id">Esimpl</span>;<span class="tactic">eauto</span>;<span class="tactic">try</span> <span class="id">resolvfp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Asm.html#nextinstr_nf">nextinstr_nf</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">solv_regset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">invMS</span>;<span class="tactic">intros</span>;<span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#extcall_arguments_match">extcall_arguments_match</a></span> <span class="kwd">in</span> <span class="id">H3</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>. <span class="id">constructor</span>. <span class="id">econstructor</span> 3;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">solv_rs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eresolvfp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="AsmIDTransCorrect.html#MS">MS</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>;<span class="tactic">try</span> <span class="id">eresolvfp</span>;<span class="tactic">try</span> <span class="id">resvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span> 3;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">invMS</span>;<span class="tactic">intros</span>;<span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">MC</span>;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">Lcore</span> <span class="id">ef0</span> <span class="id">args0</span> <span class="id">rs0</span> <span class="id">lf0</span> <span class="id">Hm</span>' <span class="id">Lm</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Events.html#external_call_mem_extends">external_call_mem_extends</a></span> <span class="kwd">in</span> <span class="id">H4</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="helpers.html#i64ext_effects">helpers.i64ext_effects</a></span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> ?;<span class="id">Hsimpl</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">solv_rs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="helpers.html#i64ext_extcall_forall">helpers.i64ext_extcall_forall</a></span> <span class="kwd">in</span> <span class="id">H</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eresolvfp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="AsmIDTransCorrect.html#MS">MS</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>;<span class="tactic">try</span> <span class="id">eresolvfp</span>;<span class="tactic">try</span> <span class="id">resvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">solv_regset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Asm.html#set_pair">set_pair</a></span>. <span class="id">ex_match</span>;<span class="id">solv_regset</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">invMS</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">MC</span>. <span class="tactic">subst</span> <span class="id">fb0</span> <span class="id">args</span> <span class="id">tys0</span> <span class="id">retty0</span> <span class="id">Hm</span> <span class="id">Lm</span> <span class="id">Lcore</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.alloc_extends">Mem.alloc_extends</a></span> <span class="kwd">with</span>(<span class="id">lo2</span>:=0)(<span class="id">hi2</span>:=(4*<span class="id">z</span>)) <span class="kwd">in</span> <span class="id">H2</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>;<span class="tactic">try</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Hsimpl</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>((<span class="id"><a href="MemOpFP.html#alloc_fp">MemOpFP.alloc_fp</a></span> <span class="id">m</span> 0 (4*<span class="id">z</span>))=(<span class="id"><a href="MemOpFP.html#alloc_fp">MemOpFP.alloc_fp</a></span> <span class="id">m</span>' 0 (4*<span class="id">z</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">H0</span>;<span class="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="MemOpFP.html#alloc_fp">MemOpFP.alloc_fp</a></span>,<span class="id"><a href="FMemOpFP.html#uncheck_alloc_fp">FMemOpFP.uncheck_alloc_fp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id">mext_next</span>. <span class="tactic">auto</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#store_args_mem_extends">store_args_mem_extends</a></span> <span class="kwd">in</span> <span class="id">H4</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eresolvfp</span>. <span class="tactic">rewrite</span> <span class="id">H5</span>. <span class="id">eresolvfp</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="AsmIDTransCorrect.html#MS">MS</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span>(<span class="id"><a href="Injections.html#SharedSrc">SharedSrc</a></span> <span class="id">mu</span>) <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id">m1</span> <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">resvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span>(<span class="id"><a href="Injections.html#SharedTgt">SharedTgt</a></span> <span class="id">mu</span>) <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id">x</span> <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">resvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>;<span class="tactic">try</span> <span class="id">eresolvfp</span>;<span class="tactic">try</span> <span class="id">resvalid</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">rs0</span>. <span class="id">solv_regset</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id">H8</span> <span class="kwd">in</span> <span class="id">H10</span>;<span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#store_args_validity_preserve">store_args_validity_preserve</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id">H9</span> <span class="kwd">in</span> <span class="id">H10</span>. <span class="tactic">eapply</span> <span class="id"><a href="AsmIDTransCorrect.html#store_args_validity_preserve">store_args_validity_preserve</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="MemClosures_local.html#unmapped_closed">unmapped_closed</a></span> <span class="id">mu</span> <span class="id">m1</span> <span class="id">x</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">H8</span> <span class="id">H9</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">resvalid</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">H4</span> <span class="id">H6</span> <span class="id">H8</span> <span class="id">H9</span> <span class="id">H10</span> <span class="id">AGMU</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="loadframe.html#store_args">store_args</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">Hm</span>' <span class="id">x0</span> <span class="id">m1</span> <span class="id">x</span> <span class="id">tys</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">args0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="id">ex_match</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ex_match</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">all</span>: <span class="tactic">unfold</span> <span class="id"><a href="loadframe.html#store_stack">store_stack</a></span>,<span class="id"><a href="Mach.html#store_stack">Mach.store_stack</a></span>,<span class="id"><a href="Memory.html#Mem.storev">Mem.storev</a></span> <span class="kwd">in</span> *;<span class="id">ex_match</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">all</span>: <span class="tactic">try</span>(<span class="tactic">assert</span>(<span class="id"><a href="MemClosures_local.html#unmapped_closed">unmapped_closed</a></span> <span class="id">mu</span> <span class="id">m0</span> <span class="id">m</span>);[<span class="id">resvalid</span>|];<span class="tactic">assert</span>(<span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedSrc">SharedSrc</a></span> <span class="id">mu</span>) <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id">m0</span> <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span>);[<span class="id">resvalid</span>|];<span class="tactic">assert</span>(<span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedTgt">SharedTgt</a></span> <span class="id">mu</span>) <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id">m</span> <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span>);[<span class="id">resvalid</span>|];<span class="tactic">try</span> (<span class="tactic">eapply</span> <span class="id">IHargs0</span> <span class="kwd">in</span> <span class="id">H6</span>;<span class="tactic">eauto</span>;<span class="tactic">fail</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="MemClosures_local.html#unmapped_closed">unmapped_closed</a></span> <span class="id">mu</span> <span class="id">m2</span> <span class="id">m</span>);[<span class="id">resvalid</span>|];<span class="tactic">assert</span>(<span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedSrc">SharedSrc</a></span> <span class="id">mu</span>) <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id">m2</span> <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span>);[<span class="id">resvalid</span>|];<span class="tactic">assert</span>(<span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedTgt">SharedTgt</a></span> <span class="id">mu</span>) <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id">m</span> <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span>);[<span class="id">resvalid</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="MemClosures_local.html#unmapped_closed">unmapped_closed</a></span> <span class="id">mu</span> <span class="id">m3</span> <span class="id">m0</span>);[<span class="id">resvalid</span>|];<span class="tactic">assert</span>(<span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedSrc">SharedSrc</a></span> <span class="id">mu</span>) <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id">m3</span> <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span>);[<span class="id">resvalid</span>|];<span class="tactic">assert</span>(<span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedTgt">SharedTgt</a></span> <span class="id">mu</span>) <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id">m0</span> <span class="id"><a href="AsmIDTransCorrect.html#b">b</a></span>);[<span class="id">resvalid</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHargs0</span> <span class="kwd">in</span> <span class="id">H6</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;invMS.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inv&nbsp;MC.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Esimpl;eauto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;constructor.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eapply&nbsp;exec_step_to_lock;eauto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;solv_rs.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eresolvfp.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unfold&nbsp;MS;Esimpl;eauto;try&nbsp;eresolvfp;try&nbsp;resvalid.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;constructor;auto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;invMS.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inv&nbsp;MC.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert(exists&nbsp;rs''&nbsp;Lm',exec_locked_instr&nbsp;ge&nbsp;i0&nbsp;rs'0&nbsp;Lm&nbsp;=&nbsp;Next&nbsp;rs''&nbsp;Lm'&nbsp;/\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FP.subset&nbsp;&nbsp;(exec_locked_instr_fp&nbsp;ge&nbsp;i0&nbsp;rs'0&nbsp;Lm)&nbsp;(exec_locked_instr_fp&nbsp;ge&nbsp;i0&nbsp;rs&nbsp;Hm)&nbsp;/\&nbsp;Mem.extends&nbsp;Hm'&nbsp;Lm'&nbsp;/\&nbsp;match_regset&nbsp;rs'&nbsp;rs'').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unfold&nbsp;exec_locked_instr,exec_locked_instr_fp&nbsp;in&nbsp;*|-.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ex_match;try&nbsp;(solv_eq;fail).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eapply&nbsp;exec_load_fp_match&nbsp;in&nbsp;H4&nbsp;as&nbsp;?;eauto;eapply&nbsp;exec_load_match&nbsp;in&nbsp;H4&nbsp;as&nbsp;?;eauto;Hsimpl;Esimpl;eauto.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eapply&nbsp;Mem.loadv_extends&nbsp;in&nbsp;Hx0&nbsp;as&nbsp;?;eauto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eapply&nbsp;Mem.storev_extends&nbsp;in&nbsp;Hx1&nbsp;as&nbsp;?;eauto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Hsimpl.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eapply&nbsp;eval_addrmode_lessdef&nbsp;in&nbsp;H10&nbsp;as&nbsp;?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inv&nbsp;H8.&nbsp;rewrite&nbsp;H12&nbsp;in&nbsp;H,H0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Esimpl;eauto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unfold&nbsp;exec_locked_instr.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;H,H0.&nbsp;eauto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unfold&nbsp;exec_locked_instr_fp.&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;H12.&nbsp;apply&nbsp;FP.subset_refl.&nbsp;inv&nbsp;H4.&nbsp;auto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inv&nbsp;H4.&nbsp;solv_regset.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;&lt;-&nbsp;H11&nbsp;in&nbsp;H.&nbsp;inv&nbsp;H.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eapply&nbsp;Mem.storev_extends&nbsp;in&nbsp;Hx3&nbsp;as&nbsp;?;eauto;Hsimpl.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eapply&nbsp;eval_addrmode_lessdef&nbsp;in&nbsp;H10&nbsp;as&nbsp;?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inv&nbsp;H6.&nbsp;rewrite&nbsp;H9&nbsp;in&nbsp;H.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eapply&nbsp;Mem.loadv_extends&nbsp;in&nbsp;Hx0&nbsp;as&nbsp;?;eauto;Hsimpl.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unfold&nbsp;exec_locked_instr.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;H,&lt;-H9,H6.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert(Val.cmpu_bool&nbsp;(Mem.valid_pointer&nbsp;Lm)&nbsp;Ceq&nbsp;x0&nbsp;(rs'0&nbsp;RAX)&nbsp;=&nbsp;Some&nbsp;true).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;revert&nbsp;Hx1&nbsp;H5&nbsp;H10&nbsp;H7.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clear.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;intros.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert(rs&nbsp;RAX&nbsp;&lt;&gt;&nbsp;Vundef).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;intro.&nbsp;rewrite&nbsp;H&nbsp;in&nbsp;Hx1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;compute&nbsp;in&nbsp;Hx1.&nbsp;ex_match.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert(Val.lessdef&nbsp;(rs&nbsp;RAX)(rs'0&nbsp;RAX)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;solv_regset;auto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inv&nbsp;H0;try&nbsp;congruence.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inv&nbsp;H7;[|inv&nbsp;Hx1].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unfold&nbsp;Val.cmpu_bool&nbsp;in&nbsp;*.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ex_match;try&nbsp;solv_rs;try&nbsp;solv_eq.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;revert&nbsp;Hx4&nbsp;Hx5&nbsp;H5;clear;intros.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;destruct&nbsp;(Mem.valid_pointer&nbsp;Hm&nbsp;b0&nbsp;(Ptrofs.unsigned&nbsp;i)||&nbsp;Mem.valid_pointer&nbsp;Hm&nbsp;b0&nbsp;(Ptrofs.unsigned&nbsp;i&nbsp;-&nbsp;1))&nbsp;eqn:?;try&nbsp;discriminate.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;simpl&nbsp;in&nbsp;Hx4.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pose&nbsp;Mem.valid_pointer_extends.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert(forall&nbsp;m&nbsp;m'&nbsp;b&nbsp;i&nbsp;j,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mem.valid_pointer&nbsp;m&nbsp;b&nbsp;i&nbsp;||&nbsp;Mem.valid_pointer&nbsp;m&nbsp;b&nbsp;j&nbsp;=&nbsp;true-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(forall&nbsp;b&nbsp;i&nbsp;,Mem.valid_pointer&nbsp;m&nbsp;b&nbsp;i&nbsp;=&nbsp;true&nbsp;-&gt;&nbsp;Mem.valid_pointer&nbsp;m'&nbsp;b&nbsp;i&nbsp;=&nbsp;true)&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mem.valid_pointer&nbsp;m'&nbsp;b&nbsp;i||Mem.valid_pointer&nbsp;m'&nbsp;b&nbsp;j&nbsp;=&nbsp;true).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clear.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;intros.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;destruct&nbsp;Mem.valid_pointer&nbsp;eqn:?;simpl&nbsp;in&nbsp;*;eauto&nbsp;with&nbsp;bool.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert(forall&nbsp;b&nbsp;i,Mem.valid_pointer&nbsp;Hm&nbsp;b&nbsp;i&nbsp;=&nbsp;true-&gt;Mem.valid_pointer&nbsp;Lm&nbsp;b&nbsp;i&nbsp;=&nbsp;true).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;intros;eauto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eapply&nbsp;H&nbsp;in&nbsp;Heqb;eauto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eapply&nbsp;H&nbsp;in&nbsp;Hx4;eauto.&nbsp;rewrite&nbsp;Heqb,Hx4&nbsp;in&nbsp;Hx5.&nbsp;inv&nbsp;Hx5.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;H8.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inv&nbsp;H4.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Esimpl;eauto;try&nbsp;resvalid;try&nbsp;solv_regset.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unfold&nbsp;exec_locked_instr_fp.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;H9&nbsp;in&nbsp;*.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;repeat&nbsp;match&nbsp;goal&nbsp;with&nbsp;H:&nbsp;?P&nbsp;=&nbsp;_|-&nbsp;context[match&nbsp;?P&nbsp;with&nbsp;_&nbsp;=&gt;&nbsp;_&nbsp;end]&nbsp;=&gt;&nbsp;rewrite&nbsp;H&nbsp;end.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;do&nbsp;2&nbsp;(eapply&nbsp;FP.subset_parallel_union;try&nbsp;apply&nbsp;FP.subset_refl).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;revert&nbsp;Hx1&nbsp;H5&nbsp;H10&nbsp;H7.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;revert&nbsp;H8.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clear.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;intros.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert(rs&nbsp;RAX&nbsp;&lt;&gt;&nbsp;Vundef).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;intro.&nbsp;rewrite&nbsp;H&nbsp;in&nbsp;Hx1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;compute&nbsp;in&nbsp;Hx1.&nbsp;ex_match.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert(Val.lessdef&nbsp;(rs&nbsp;RAX)(rs'0&nbsp;RAX)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;solv_regset;auto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inv&nbsp;H0;try&nbsp;congruence.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inv&nbsp;H7;[|inv&nbsp;Hx1].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unfold&nbsp;Val.cmpu_bool,ValFP.cmpu_bool_fp_total&nbsp;in&nbsp;*.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ex_match;try&nbsp;solv_rs;try&nbsp;solv_eq.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;apply&nbsp;FP.subset_refl.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert(forall&nbsp;b&nbsp;i&nbsp;m&nbsp;m',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mem.extends&nbsp;m&nbsp;m'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FP.subset&nbsp;(MemOpFP.weak_valid_pointer_fp&nbsp;m'&nbsp;b&nbsp;i)(MemOpFP.weak_valid_pointer_fp&nbsp;m&nbsp;b&nbsp;i)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clear.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;intros.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unfold&nbsp;MemOpFP.weak_valid_pointer_fp.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ex_match;try&nbsp;apply&nbsp;FP.subset_refl.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unfold&nbsp;FMemOpFP.valid_pointer_fp.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;constructor;try&nbsp;apply&nbsp;range_locset_expend1_subset;try&nbsp;apply&nbsp;Locs.subset_refl.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eapply&nbsp;Mem.valid_pointer_extends&nbsp;in&nbsp;H;eauto;congruence.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eapply&nbsp;FP.subset_parallel_union;eauto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;solv_eq.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;&lt;-&nbsp;H8&nbsp;in&nbsp;*.&nbsp;simpl&nbsp;in&nbsp;H.&nbsp;congruence.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eapply&nbsp;Mem.loadv_extends&nbsp;in&nbsp;Hx0&nbsp;as&nbsp;?;eauto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Hsimpl.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eapply&nbsp;eval_addrmode_lessdef&nbsp;in&nbsp;H10&nbsp;as&nbsp;?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inv&nbsp;H6.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unfold&nbsp;exec_locked_instr,exec_locked_instr_fp.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;H9&nbsp;in&nbsp;*.&nbsp;rewrite&nbsp;H,Hx0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert(Val.cmpu_bool&nbsp;(Mem.valid_pointer&nbsp;Lm)&nbsp;Ceq&nbsp;x&nbsp;(rs'0&nbsp;RAX)&nbsp;=&nbsp;Some&nbsp;false).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eapply&nbsp;cmpu_bool_some_eq;eauto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;H6,Hx1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inv&nbsp;H4.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Esimpl;eauto;try&nbsp;resvalid;try&nbsp;solv_regset.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eapply&nbsp;FP.subset_parallel_union;eauto;try&nbsp;apply&nbsp;FP.subset_refl.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;revert&nbsp;Hx1&nbsp;H5&nbsp;H10&nbsp;H0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;revert&nbsp;H6.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clear.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;intros.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert(rs&nbsp;RAX&nbsp;&lt;&gt;&nbsp;Vundef).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;intro.&nbsp;rewrite&nbsp;H&nbsp;in&nbsp;Hx1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;compute&nbsp;in&nbsp;Hx1.&nbsp;ex_match.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert(Val.lessdef&nbsp;(rs&nbsp;RAX)(rs'0&nbsp;RAX)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;solv_regset;auto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inv&nbsp;H1;try&nbsp;congruence.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inv&nbsp;H0;[|inv&nbsp;Hx1].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unfold&nbsp;Val.cmpu_bool,ValFP.cmpu_bool_fp_total&nbsp;in&nbsp;*.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert(forall&nbsp;b&nbsp;i&nbsp;m&nbsp;m',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mem.extends&nbsp;m&nbsp;m'-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FP.subset&nbsp;(MemOpFP.weak_valid_pointer_fp&nbsp;m'&nbsp;b&nbsp;i)(MemOpFP.weak_valid_pointer_fp&nbsp;m&nbsp;b&nbsp;i)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clear.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;intros.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unfold&nbsp;MemOpFP.weak_valid_pointer_fp.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ex_match;try&nbsp;apply&nbsp;FP.subset_refl.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unfold&nbsp;FMemOpFP.valid_pointer_fp.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;constructor;try&nbsp;apply&nbsp;range_locset_expend1_subset;try&nbsp;apply&nbsp;Locs.subset_refl.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eapply&nbsp;Mem.valid_pointer_extends&nbsp;in&nbsp;H;eauto;congruence.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ex_match;try&nbsp;solv_rs;try&nbsp;solv_eq;try&nbsp;apply&nbsp;FP.subset_refl.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eapply&nbsp;FP.subset_parallel_union;eauto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;&lt;-&nbsp;H8&nbsp;in&nbsp;H.&nbsp;inv&nbsp;H.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Hsimpl.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Esimpl;eauto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;constructor.&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eapply&nbsp;exec_step_locked;eauto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;solv_rs.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resolvfp.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unfold&nbsp;MS.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Esimpl;eauto;try&nbsp;eresolvfp;try&nbsp;resvalid.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;econstructor;eauto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eapply&nbsp;exec_locked_instr_valid_block;eauto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eapply&nbsp;exec_locked_instr_valid_block2;eauto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unfold&nbsp;exec_locked_instr&nbsp;in&nbsp;*.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;destruct&nbsp;i0&nbsp;eqn:?;simpl&nbsp;in&nbsp;*;try&nbsp;congruence.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unfold&nbsp;exec_load&nbsp;in&nbsp;*;repeat&nbsp;ex_match;repeat&nbsp;solv_eq;try&nbsp;(resvalid;auto;fail).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ex_match.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inv&nbsp;H.&nbsp;inv&nbsp;H4.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unfold&nbsp;Mem.storev&nbsp;in&nbsp;*.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ex_match.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eapply&nbsp;eval_addrmode_lessdef&nbsp;in&nbsp;H10;eauto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inv&nbsp;H10.&nbsp;rewrite&lt;-&nbsp;H8&nbsp;in&nbsp;Hx3.&nbsp;rewrite&nbsp;Hx3&nbsp;in&nbsp;Hx4;inv&nbsp;Hx4.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resvalid.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;&lt;-&nbsp;H4&nbsp;in&nbsp;Hx4.&nbsp;inv&nbsp;Hx4.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ex_match.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;solv_eq.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unfold&nbsp;Mem.storev&nbsp;in&nbsp;*;ex_match.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eapply&nbsp;eval_addrmode_lessdef&nbsp;in&nbsp;H10;eauto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inv&nbsp;H10.&nbsp;rewrite&lt;-&nbsp;H9&nbsp;in&nbsp;Hx1.&nbsp;rewrite&nbsp;Hx1&nbsp;in&nbsp;Hx5;inv&nbsp;Hx5.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resvalid.&nbsp;solv_eq.&nbsp;inv&nbsp;H4.&nbsp;resvalid.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;&lt;-&nbsp;H8&nbsp;in&nbsp;Hx5.&nbsp;inv&nbsp;Hx5.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pose&nbsp;proof&nbsp;cmpu_bool_some_eq.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exfalso.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eapply&nbsp;cmpu_bool_some_eq&nbsp;in&nbsp;Hx4&nbsp;as&nbsp;?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;Hx0&nbsp;in&nbsp;H9.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;congruence.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;auto.&nbsp;auto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;revert&nbsp;H5&nbsp;Hx3&nbsp;Hx&nbsp;H10;clear;intros.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unfold&nbsp;Mem.loadv&nbsp;in&nbsp;*.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ex_match.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eapply&nbsp;eval_addrmode_lessdef&nbsp;in&nbsp;H10&nbsp;as&nbsp;?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inv&nbsp;H.&nbsp;rewrite&nbsp;H2,Hx0&nbsp;in&nbsp;Hx1.&nbsp;inv&nbsp;Hx1.&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eapply&nbsp;Mem.load_extends&nbsp;in&nbsp;H5;eauto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Hsimpl.&nbsp;solv_eq.&nbsp;auto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;&lt;-&nbsp;H1&nbsp;in&nbsp;Hx1.&nbsp;inv&nbsp;Hx1.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;solv_eq.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inv&nbsp;H4.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eapply&nbsp;cmpu_bool_some_eq&nbsp;in&nbsp;Hx3&nbsp;as&nbsp;?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&nbsp;H&nbsp;in&nbsp;Hx0.&nbsp;inv&nbsp;Hx0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;auto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;auto.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;revert&nbsp;Hx&nbsp;Hx2&nbsp;H5&nbsp;H10.&nbsp;clear;intros.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unfold&nbsp;Mem.loadv&nbsp;in&nbsp;*;ex_match.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eapply&nbsp;eval_addrmode_lessdef&nbsp;in&nbsp;H10&nbsp;as&nbsp;?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inv&nbsp;H.&nbsp;rewrite&lt;-&nbsp;H2,Hx0&nbsp;in&nbsp;Hx1.&nbsp;inv&nbsp;Hx1.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eapply&nbsp;Mem.load_extends&nbsp;in&nbsp;H5;eauto;Hsimpl;solv_eq;auto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rewrite&lt;-&nbsp;H1&nbsp;in&nbsp;*;simpl&nbsp;in&nbsp;*;congruence.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;*)</span>&nbsp;&nbsp;}<br/>
&nbsp;atext&nbsp;*)</span>&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">invMS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">MC</span>; <span class="tactic">subst</span> <span class="id">Hcore</span> <span class="id">Lcore</span> <span class="id">m</span> <span class="id">m</span>';<span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="ASM_local.html#at_external">at_external</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ex_match</span>. <span class="tactic">inversion</span> <span class="id">H0</span>;<span class="tactic">clear</span> <span class="id">H0</span>;<span class="tactic">subst</span> <span class="id">i0</span> <span class="id">sg0</span> <span class="id">args</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="LDSimDefs.html#arg_rel">LDSimDefs.arg_rel</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">MC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">args</span>' <span class="id">AGMU</span> <span class="id">H2</span> <span class="id">H8</span> ; <span class="tactic">clear</span>.<br/>
<div class="doc">should be extracted as a lemma ... </div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">argSrc</span>; <span class="tactic">intros</span> <span class="id">args</span>' <span class="id">AGMU</span> <span class="id">GARG</span> <span class="id">LD</span>. <span class="tactic">simpl</span>. <span class="id">inv</span> <span class="id">LD</span>. <span class="tactic">auto</span>. <span class="id">inv</span> <span class="id">LD</span>. <span class="id">inv</span> <span class="id">GARG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>; <span class="tactic">auto</span>. <span class="tactic">clear</span> <span class="id">H3</span> <span class="id">H4</span> <span class="id">IHargSrc</span>. <span class="id">inv</span> <span class="id">H1</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> <span class="id">v2</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="tactic">eapply</span> <span class="id"><a href="Blockset.html#Bset.inj_dom">Bset.inj_dom</a></span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H2</span>. <span class="id">exploit</span> <span class="id">proper_mu_inject_incr</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>; <span class="tactic">rewrite</span> <span class="id">H</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">econstructor</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>; <span class="tactic">rewrite</span> <span class="id">H</span>. <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="MemClosures_local.html#unmapped_closed_reach_closed_preserved_by_extends">MemClosures_local.unmapped_closed_reach_closed_preserved_by_extends</a></span>; <span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="LDSimDefs_local.html#extends_reach_closed_implies_inject">extends_reach_closed_implies_inject</a></span>; <span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="AsmIDTransCorrect.html#MS">MS</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>;<span class="tactic">try</span> <span class="id">eresolvfp</span>;<span class="tactic">try</span> <span class="id">resvalid</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unfold&nbsp;at_external&nbsp;in&nbsp;*.&nbsp;ex_match.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inversion&nbsp;H0;subst&nbsp;f&nbsp;sg&nbsp;argSrc.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Esimpl;eauto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;constructor.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eapply&nbsp;MemClosures_local.unmapped_closed_reach_closed_preserved_by_extends;&nbsp;inv&nbsp;AGMU;&nbsp;eauto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eapply&nbsp;extends_reach_closed_implies_inject;&nbsp;inv&nbsp;AGMU;&nbsp;eauto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unfold&nbsp;MS.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Esimpl;eauto;try&nbsp;eresolvfp;try&nbsp;resvalid.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Esimpl;eauto;try&nbsp;eresolvfp;try&nbsp;resvalid.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;constructor.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eapply&nbsp;MemClosures_local.unmapped_closed_reach_closed_preserved_by_extends;&nbsp;inv&nbsp;AGMU;&nbsp;eauto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eapply&nbsp;extends_reach_closed_implies_inject;&nbsp;inv&nbsp;AGMU;&nbsp;eauto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unfold&nbsp;MS.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Esimpl;eauto;try&nbsp;eresolvfp;try&nbsp;resvalid.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;*)</span>&nbsp;&nbsp;}<br/>
&nbsp;aftext&nbsp;*)</span>&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">i</span> <span class="id">mu</span> <span class="id">Hcore</span> <span class="id">Hm</span> <span class="id">Lcore</span> <span class="id">Lm</span> <span class="id">oresSrc</span> <span class="id">Hcore</span>' <span class="id">oresTgt</span> <span class="id">MATCH</span> <span class="id">GRES</span> <span class="id">AFTEXT</span> <span class="id">ORESREL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">unfold</span> <span class="id"><a href="ASM_local.html#after_external">after_external</a></span> <span class="kwd">in</span> *.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hcore</span>;<span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">f</span>;<span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">Hcore</span>' =<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">oresSrc</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">res</span> =&gt;  (<span class="id"><a href="ASM_local.html#Core_State">Core_State</a></span> (<span class="id"><a href="Asm.html#set_pair">set_pair</a></span> (<span class="id"><a href="Asm.html#loc_external_result">loc_external_result</a></span> <span class="id">sg</span>) <span class="id">res</span> <span class="id">rs</span>) # <span class="id"><a href="Asm.html#PC">PC</a></span> &lt;- (<span class="id">rs</span> <span class="id"><a href="Asm.html#RA">RA</a></span>) <span class="id">loader</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; (<span class="id"><a href="ASM_local.html#Core_State">Core_State</a></span> (<span class="id"><a href="Asm.html#set_pair">set_pair</a></span> (<span class="id"><a href="Asm.html#loc_external_result">loc_external_result</a></span> <span class="id">sg</span>) <span class="id"><a href="Values.html#Vundef">Vundef</a></span> <span class="id">rs</span>) # <span class="id"><a href="Asm.html#PC">PC</a></span> &lt;-  (<span class="id">rs</span> <span class="id"><a href="Asm.html#RA">RA</a></span>) <span class="id">loader</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ex_match</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">invMS</span>. <span class="id">inv</span> <span class="id">MC</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> (<span class="kwd">match</span> <span class="id">oresTgt</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">res</span> =&gt; (<span class="id"><a href="ASM_local.html#Core_State">Core_State</a></span> (<span class="id"><a href="Asm.html#set_pair">set_pair</a></span> (<span class="id"><a href="Asm.html#loc_external_result">loc_external_result</a></span> <span class="id">sg</span>) <span class="id">res</span> <span class="id">rs</span>') # <span class="id"><a href="Asm.html#PC">PC</a></span> &lt;- (<span class="id">rs</span>' <span class="id"><a href="Asm.html#RA">RA</a></span>) <span class="id">loader</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt;  (<span class="id"><a href="ASM_local.html#Core_State">Core_State</a></span> (<span class="id"><a href="Asm.html#set_pair">set_pair</a></span> (<span class="id"><a href="Asm.html#loc_external_result">loc_external_result</a></span> <span class="id">sg</span>) <span class="id"><a href="Values.html#Vundef">Vundef</a></span> <span class="id">rs</span>') # <span class="id"><a href="Asm.html#PC">PC</a></span> &lt;- (<span class="id">rs</span>' <span class="id"><a href="Asm.html#RA">RA</a></span>) <span class="id">loader</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ex_match</span>; <span class="id">inv</span> <span class="id">ORESREL</span>;<span class="tactic">try</span> <span class="tactic">discriminate</span>;<span class="tactic">try</span> <span class="id">contradiction</span>;<span class="tactic">simpl</span> <span class="kwd">in</span> *;<span class="tactic">eauto</span>; <span class="id">ex_match</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">exists</span> 1%<span class="id">nat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id">Hm</span>' <span class="id">Lm</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eapply</span> <span class="id"><a href="LDSimDefs_local.html#extends_rely_extends">extends_rely_extends</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="MemClosures_local.html#unmapped_closed">unmapped_closed</a></span> <span class="id">mu</span> <span class="id">Hm</span>' <span class="id">Lm</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="MemClosures_local.html#reach_closed_unmapped_closed">reach_closed_unmapped_closed</a></span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">H2</span>. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">oresSrc</span>, <span class="id">oresTgt</span>; <span class="tactic">try</span> <span class="id">contradiction</span>;<span class="id">ex_match</span>;<span class="tactic">unfold</span> <span class="id"><a href="AsmIDTransCorrect.html#MS">MS</a></span>; <span class="id">Esimpl</span>;<span class="tactic">try</span> <span class="id">eresolvfp</span>;<span class="tactic">try</span> <span class="id">resvalid</span>; <span class="tactic">try</span>(<span class="id">econstructor</span>;<span class="tactic">eauto</span>;<span class="id">solv_regset</span>; <span class="tactic">unfold</span> <span class="id"><a href="Asm.html#set_pair">set_pair</a></span>;<span class="id">ex_match</span>;<span class="id">solv_regset</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">ORESREL</span>;<span class="id">inv</span> <span class="id">ORESREL</span>;<span class="tactic">auto</span>;<span class="id">inv</span> <span class="id">AGMU</span>;<span class="tactic">apply</span> <span class="id"><a href="InjRels.html#proper_mu_inject_incr">proper_mu_inject_incr</a></span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="tactic">unfold</span> <span class="id"><a href="Values.html#inject_id">inject_id</a></span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H2</span>;<span class="tactic">rewrite</span> <span class="id"><a href="MemInterpolant.html#ptrofs_add_0">MemInterpolant.ptrofs_add_0</a></span>; <span class="tactic">auto</span>;<span class="tactic">fail</span>);<span class="tactic">try</span>(<span class="id">inv</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span>; <span class="tactic">rewrite</span> <span class="id">EQNEXT</span>; <span class="tactic">auto</span>;<span class="tactic">fail</span>);<span class="tactic">try</span>(<span class="id">inv</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span>; <span class="tactic">rewrite</span> <span class="id">EQNEXT</span>;<span class="tactic">auto</span>;<span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert(Hcore'&nbsp;=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;match&nbsp;locked&nbsp;with<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;LOCK&nbsp;=&gt;&nbsp;&nbsp;(Core_LockState&nbsp;rs&nbsp;STEP&nbsp;loader)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;_&nbsp;=&gt;&nbsp;(Core_State&nbsp;rs&nbsp;loader)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ex_match.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;invMS.&nbsp;inv&nbsp;MC.&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exists&nbsp;(match&nbsp;locked&nbsp;with<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;LOCK&nbsp;=&gt;&nbsp;(Core_LockState&nbsp;rs'&nbsp;STEP&nbsp;loader)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;_&nbsp;=&gt;&nbsp;&nbsp;(Core_State&nbsp;rs'&nbsp;loader)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Esimpl;eauto.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ex_match;&nbsp;inv&nbsp;ORESREL;try&nbsp;discriminate;try&nbsp;contradiction;simpl&nbsp;in&nbsp;*;eauto;&nbsp;ex_match.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;intros.&nbsp;exists&nbsp;1%nat.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert&nbsp;(Mem.extends&nbsp;Hm'&nbsp;Lm').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;inv&nbsp;AGMU;&nbsp;eapply&nbsp;extends_rely_extends;&nbsp;eauto.&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert&nbsp;(unmapped_closed&nbsp;mu&nbsp;Hm'&nbsp;Lm').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;eapply&nbsp;reach_closed_unmapped_closed.&nbsp;inv&nbsp;H.&nbsp;inv&nbsp;H3.&nbsp;auto.&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unfold&nbsp;MS.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Esimpl;eauto;try&nbsp;resolvfp;try&nbsp;resvalid;try(inv&nbsp;H;&nbsp;inv&nbsp;H3;&nbsp;unfold&nbsp;Mem.valid_block;&nbsp;rewrite&nbsp;EQNEXT;&nbsp;auto;fail);try(inv&nbsp;H;&nbsp;inv&nbsp;H4;&nbsp;unfold&nbsp;Mem.valid_block;&nbsp;rewrite&nbsp;EQNEXT;auto;fail).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ex_match;constructor;auto;try&nbsp;resolvfp;try&nbsp;resvalid.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;*)</span>&nbsp;&nbsp;}<br/>
&nbsp;halt&nbsp;*)</span>&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">unfold</span> <span class="id"><a href="ASM_local.html#halted">halted</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hcore</span> <span class="id">eqn</span>:?;<span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">invMS</span>. <span class="id">inv</span> <span class="id">MC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">l</span>;<span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="LDSimDefs_local.html#LDefs.Inv">LDefs.Inv</a></span> <span class="id">mu</span> <span class="id">Hm</span> <span class="id">Lm</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">AGMU</span>. <span class="tactic">eapply</span> <span class="id"><a href="LDSimDefs_local.html#extends_reach_closed_implies_inject">extends_reach_closed_implies_inject</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="MemClosures_local.html#reach_closed">reach_closed</a></span> <span class="id">Lm</span> (<span class="id"><a href="Injections.html#SharedTgt">Injections.SharedTgt</a></span> <span class="id">mu</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id">unmapped_closed_reach_closed_preserved_by_injection</span>'; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">auto</span>. }<br/>
<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Values.html#Val.cmp_bool">Val.cmp_bool</a></span> <span class="id">eqn</span>:?;[|<span class="id">inv</span> <span class="id">H0</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="Values.html#Val.cmp_bool">Val.cmp_bool</a></span> <span class="id"><a href="Integers.html#Ceq">Ceq</a></span> (<span class="id">rs</span>' <span class="id"><a href="Asm.html#PC">PC</a></span>) <span class="id"><a href="Values.html#Vzero">Vzero</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">H4</span> <span class="id">Heqo</span>;<span class="tactic">clear</span>;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.cmp_bool">Val.cmp_bool</a></span> <span class="kwd">in</span> *;<span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ex_match</span>;<span class="id">solv_rs</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ex_match</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="LDSimDefs.html#res_rel">res_rel</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id">r</span> (<span class="id"><a href="Asm.html#preg_of">preg_of</a></span> <span class="id">r0</span>))(<span class="id">rs</span>' (<span class="id"><a href="Asm.html#preg_of">preg_of</a></span> <span class="id">r0</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">solv_regset</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>;<span class="tactic">try</span> <span class="id">constructor</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">H2</span> <span class="id">AGMU</span>;<span class="tactic">clear</span>;<span class="tactic">intros</span> ? [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">r</span> (<span class="id"><a href="Asm.html#preg_of">preg_of</a></span> <span class="id">r0</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">all</span> :<span class="tactic">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Values.html#inject_incr">inject_incr</a></span> <span class="kwd">in</span> <span class="id">proper_mu_inject_incr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Values.html#inject_id">inject_id</a></span> <span class="kwd">in</span> <span class="id">proper_mu_inject_incr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="tactic">apply</span> <span class="id">proper_mu_inject</span> <span class="kwd">in</span> <span class="id">H2</span> <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="kwd">in</span> <span class="id">proper_mu_inject_incr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">proper_mu_inject_incr</span>. <span class="tactic">rewrite</span> <span class="id">H</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;-<span class="id"><a href="Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span> <span class="kwd">with</span>(<span class="id">x</span>:=<span class="id">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>. <span class="tactic">rewrite</span> <span class="id">H</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> 2 <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="LDSimDefs.html#res_rel">res_rel</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="Values.html#Val.longofwords">Val.longofwords</a></span>(<span class="id">r</span> (<span class="id"><a href="Asm.html#preg_of">preg_of</a></span> <span class="id">rhi</span>)) (<span class="id">r</span> (<span class="id"><a href="Asm.html#preg_of">preg_of</a></span> <span class="id">rlo</span>)))(<span class="id"><a href="Values.html#Val.longofwords">Val.longofwords</a></span> (<span class="id">rs</span>' (<span class="id"><a href="Asm.html#preg_of">preg_of</a></span> <span class="id">rhi</span>)) (<span class="id">rs</span>' (<span class="id"><a href="Asm.html#preg_of">preg_of</a></span> <span class="id">rlo</span>)))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">solv_regset</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [] [] [] ;<span class="tactic">auto</span>;<span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>;<span class="tactic">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">H2</span> <span class="id">AGMU</span>;<span class="tactic">clear</span>;<span class="tactic">intros</span> ? [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (  (<span class="id"><a href="Values.html#Val.longofwords">Val.longofwords</a></span> (<span class="id">r</span> (<span class="id"><a href="Asm.html#preg_of">preg_of</a></span> <span class="id">rhi</span>)) (<span class="id">r</span> (<span class="id"><a href="Asm.html#preg_of">preg_of</a></span> <span class="id">rlo</span>)))) <span class="id">eqn</span>:?.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">all</span> :<span class="tactic">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Values.html#inject_incr">inject_incr</a></span> <span class="kwd">in</span> <span class="id">proper_mu_inject_incr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Values.html#inject_id">inject_id</a></span> <span class="kwd">in</span> <span class="id">proper_mu_inject_incr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="tactic">apply</span> <span class="id">proper_mu_inject</span> <span class="kwd">in</span> <span class="id">H2</span> <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="kwd">in</span> <span class="id">proper_mu_inject_incr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">proper_mu_inject_incr</span>. <span class="tactic">rewrite</span> <span class="id">H</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;-<span class="id"><a href="Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span> <span class="kwd">with</span>(<span class="id">x</span>:=<span class="id">i</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>. <span class="tactic">rewrite</span> <span class="id">H</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> 2 <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id">Unshelve</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Globalenvs.html#Genv.to_senv">Genv.to_senv</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Memory.html#Mem.empty">Mem.empty</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#O">O</a></span>.<br/>
&nbsp;&nbsp;apply&nbsp;O.<br/>
&nbsp;&nbsp;apply&nbsp;O.&nbsp;*)</span>Qed.</div>
</div>
<div class="footer"><hr/>Generated by coq2html</div>
</body>
</html>
