<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module CminorWD</title>
<meta name="description" content="Documentation of Coq module CminorWD" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module CminorWD</h1>
<div class="coq">
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Coqlib.html">Coqlib</a></span> <span class="id"><a href="FMemory.html">FMemory</a></span> <span class="id"><a href="GMemory.html">GMemory</a></span> <span class="id"><a href="Footprint.html">Footprint</a></span> <span class="id"><a href="FMemLemmas.html">FMemLemmas</a></span> <span class="id"><a href="DetLemma.html">DetLemma</a></span> <span class="id"><a href="InteractionSemantics.html">InteractionSemantics</a></span> <span class="id"><a href="CminorLang.html">CminorLang</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="embed_eq">embed_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fm</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemory.html#embed">embed</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="CminorWD.html#fm">fm</a></span>) (<span class="id"><a href="FMemory.html#Mem.freelist">Mem.freelist</a></span> <span class="id"><a href="CminorWD.html#fm">fm</a></span>) <span class="id"><a href="CminorWD.html#m">m</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="CminorWD.html#m">m</a></span> = <span class="id"><a href="CminorWD.html#fm">fm</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6508')">Proof.</div>
<div class="proofscript" id="proof6508">
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">fm</span>, <span class="id">m</span>; <span class="tactic">intro</span>; <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="kwd">in</span> *; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">nextblockid</span> = <span class="id">nextblockid0</span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">generalize</span> <span class="id">valid_wd</span> <span class="id">valid_wd0</span>. <span class="tactic">clear</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Arith.PeanoNat.html#Nat.lt_total">Nat.lt_total</a></span> <span class="id">nextblockid</span> <span class="id">nextblockid0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">valid_wd0</span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id">valid_wd</span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">eauto</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">valid_wd</span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id">valid_wd0</span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">eauto</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">f_equal</span>; <span class="tactic">apply</span> <span class="id"><a href="Axioms.html#proof_irr">Axioms.proof_irr</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="EVALDET">EVALDET</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="eval_expr_det">eval_expr_det</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">sp</span> <span class="id">e</span> <span class="id">m</span> <span class="id">a</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="CminorLang.html#eval_expr">eval_expr</a></span> <span class="id"><a href="CminorWD.html#ge">ge</a></span> <span class="id"><a href="CminorWD.html#sp">sp</a></span> <span class="id"><a href="CminorWD.html#e">e</a></span> <span class="id"><a href="CminorWD.html#m">m</a></span> <span class="id"><a href="CminorWD.html#a">a</a></span> <span class="id"><a href="CminorWD.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">v</span>', <span class="id"><a href="CminorLang.html#eval_expr">eval_expr</a></span> <span class="id"><a href="CminorWD.html#ge">ge</a></span> <span class="id"><a href="CminorWD.html#sp">sp</a></span> <span class="id"><a href="CminorWD.html#e">e</a></span> <span class="id"><a href="CminorWD.html#m">m</a></span> <span class="id"><a href="CminorWD.html#a">a</a></span> <span class="id">v</span>' -&gt; <span class="id"><a href="CminorWD.html#v">v</a></span> = <span class="id">v</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6509')">Proof.</div>
<div class="proofscript" id="proof6509">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="tactic">intros</span> <span class="id">v</span>' <span class="id">EVAL</span>; <span class="id">inv</span> <span class="id">EVAL</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">IHeval_expr</span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="tactic">subst</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">IHeval_expr1</span> <span class="kwd">in</span> <span class="id">H5</span>. <span class="tactic">apply</span> <span class="id">IHeval_expr2</span> <span class="kwd">in</span> <span class="id">H7</span>. <span class="tactic">subst</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">IHeval_expr</span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="tactic">subst</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="eval_expr_fp_det">eval_expr_fp_det</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">sp</span> <span class="id">e</span> <span class="id">m</span> <span class="id">a</span> <span class="id">v</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="CminorLang.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="CminorWD.html#ge">ge</a></span> <span class="id"><a href="CminorWD.html#sp">sp</a></span> <span class="id"><a href="CminorWD.html#e">e</a></span> <span class="id"><a href="CminorWD.html#m">m</a></span> <span class="id"><a href="CminorWD.html#a">a</a></span> <span class="id"><a href="CminorWD.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">v</span>', <span class="id"><a href="CminorLang.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="CminorWD.html#ge">ge</a></span> <span class="id"><a href="CminorWD.html#sp">sp</a></span> <span class="id"><a href="CminorWD.html#e">e</a></span> <span class="id"><a href="CminorWD.html#m">m</a></span> <span class="id"><a href="CminorWD.html#a">a</a></span> <span class="id">v</span>' -&gt; <span class="id"><a href="CminorWD.html#v">v</a></span> = <span class="id">v</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6510')">Proof.</div>
<div class="proofscript" id="proof6510">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="tactic">intros</span> <span class="id">v</span>' <span class="id">EVAL</span>; <span class="id">inv</span> <span class="id">EVAL</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">IHeval_expr_fp</span> <span class="kwd">in</span> <span class="id">H5</span>. <span class="tactic">subst</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">IHeval_expr_fp1</span> <span class="kwd">in</span> <span class="id">H10</span>. <span class="tactic">apply</span> <span class="id">IHeval_expr_fp2</span> <span class="kwd">in</span> <span class="id">H12</span>. <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="CminorWD.html#eval_expr_det">eval_expr_det</a></span> <span class="kwd">in</span> <span class="id">H1</span>;<span class="tactic">eauto</span>. <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="CminorWD.html#eval_expr_det">eval_expr_det</a></span> <span class="kwd">in</span> <span class="id">H</span>;<span class="tactic">eauto</span>. <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H4</span> <span class="kwd">in</span> <span class="id">H15</span>. <span class="id">inv</span> <span class="id">H15</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">IHeval_expr_fp</span> <span class="kwd">in</span> <span class="id">H7</span>. <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="CminorWD.html#eval_expr_det">eval_expr_det</a></span> <span class="kwd">in</span> <span class="id">H</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H8</span>;<span class="id">inv</span> <span class="id">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="eval_exprlist_det">eval_exprlist_det</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">sp</span> <span class="id">e</span> <span class="id">m</span> <span class="id">al</span> <span class="id">vl</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="CminorLang.html#eval_exprlist">eval_exprlist</a></span> <span class="id"><a href="CminorWD.html#ge">ge</a></span> <span class="id"><a href="CminorWD.html#sp">sp</a></span> <span class="id"><a href="CminorWD.html#e">e</a></span> <span class="id"><a href="CminorWD.html#m">m</a></span> <span class="id"><a href="CminorWD.html#al">al</a></span> <span class="id"><a href="CminorWD.html#vl">vl</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">vl</span>', <span class="id"><a href="CminorLang.html#eval_exprlist">eval_exprlist</a></span> <span class="id"><a href="CminorWD.html#ge">ge</a></span> <span class="id"><a href="CminorWD.html#sp">sp</a></span> <span class="id"><a href="CminorWD.html#e">e</a></span> <span class="id"><a href="CminorWD.html#m">m</a></span> <span class="id"><a href="CminorWD.html#al">al</a></span> <span class="id">vl</span>' -&gt; <span class="id"><a href="CminorWD.html#vl">vl</a></span> = <span class="id">vl</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6511')">Proof.</div>
<div class="proofscript" id="proof6511">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">al</span>; <span class="tactic">intros</span> <span class="id">vl1</span> <span class="id">EVAL1</span> <span class="id">vl2</span> <span class="id">EVAL2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">EVAL1</span>; <span class="id">inv</span> <span class="id">EVAL2</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHal</span> <span class="kwd">in</span> <span class="id">H3</span>; <span class="tactic">eauto</span>. <span class="tactic">subst</span>. <span class="id">exploit</span> <span class="id"><a href="CminorWD.html#eval_expr_det">eval_expr_det</a></span>. <span class="tactic">exact</span> <span class="id">H1</span>. <span class="tactic">exact</span> <span class="id">H2</span>. <span class="tactic">intro</span>. <span class="tactic">subst</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="eval_exprlist_fp_det">eval_exprlist_fp_det</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">sp</span> <span class="id">e</span> <span class="id">m</span> <span class="id">al</span> <span class="id">vl</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="CminorLang.html#eval_exprlist_fp">eval_exprlist_fp</a></span> <span class="id"><a href="CminorWD.html#ge">ge</a></span> <span class="id"><a href="CminorWD.html#sp">sp</a></span> <span class="id"><a href="CminorWD.html#e">e</a></span> <span class="id"><a href="CminorWD.html#m">m</a></span> <span class="id"><a href="CminorWD.html#al">al</a></span> <span class="id"><a href="CminorWD.html#vl">vl</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">vl</span>', <span class="id"><a href="CminorLang.html#eval_exprlist_fp">eval_exprlist_fp</a></span> <span class="id"><a href="CminorWD.html#ge">ge</a></span> <span class="id"><a href="CminorWD.html#sp">sp</a></span> <span class="id"><a href="CminorWD.html#e">e</a></span> <span class="id"><a href="CminorWD.html#m">m</a></span> <span class="id"><a href="CminorWD.html#al">al</a></span> <span class="id">vl</span>' -&gt; <span class="id"><a href="CminorWD.html#vl">vl</a></span> = <span class="id">vl</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6512')">Proof.</div>
<div class="proofscript" id="proof6512">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">al</span>; <span class="tactic">intros</span> <span class="id">vl1</span> <span class="id">EVAL1</span> <span class="id">vl2</span> <span class="id">EVAL2</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">EVAL1</span>; <span class="id">inv</span> <span class="id">EVAL2</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHal</span> <span class="kwd">in</span> <span class="id">H4</span>; <span class="tactic">eauto</span>. <span class="tactic">subst</span>. <span class="id">exploit</span> <span class="id"><a href="CminorWD.html#eval_expr_det">eval_expr_det</a></span>. <span class="tactic">exact</span> <span class="id">H1</span>. <span class="tactic">exact</span> <span class="id">H5</span>. <span class="tactic">intro</span>. <span class="tactic">subst</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="CminorWD.html#eval_expr_fp_det">eval_expr_fp_det</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;Qed.</div>
<span class="kwd">End</span> <span class="id"><a href="CminorWD.html#EVALDET">EVALDET</a></span>.<br/>
<span class="kwd">Local</span> <span class="kwd">Ltac</span> <span class="id">solv_eq</span>:=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| [<span class="id">H1</span>: ?<span class="id">P</span> , <span class="id">H2</span> : ?<span class="id">P</span> |- <span class="id">_</span>] =&gt; <span class="tactic">clear</span> <span class="id">H1</span><br/>
&nbsp;&nbsp;| [<span class="id">H1</span>: ?<span class="id">P</span> = <span class="id">_</span>, <span class="id">H2</span>: ?<span class="id">P</span> = <span class="id">_</span> |- <span class="id">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H2</span><br/>
&nbsp;&nbsp;| [<span class="id">H1</span>: ?<span class="id">P</span> = <span class="id">_</span> , <span class="id">H2</span>: <span class="id">_</span> = ?<span class="id">P</span> |- <span class="id">_</span>] =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H2</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span><br/>
.<br/>
<span class="kwd">Local</span> <span class="kwd">Ltac</span> <span class="id">eval_det</span>:=<br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H1</span>: <span class="id"><a href="CminorLang.html#eval_expr">eval_expr</a></span> ?<span class="id">a</span> ?<span class="id">b</span> ?<span class="id">c</span> ?<span class="id">d</span> ?<span class="id">e</span> <span class="id">_</span>, <span class="id">H2</span>: <span class="id"><a href="CminorLang.html#eval_expr">eval_expr</a></span> ?<span class="id">a</span> ?<span class="id">b</span> ?<span class="id">c</span> ?<span class="id">d</span> ?<span class="id">e</span> <span class="id">_</span> |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="CminorWD.html#eval_expr_det">eval_expr_det</a></span> <span class="kwd">in</span> <span class="id">H1</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">H2</span>;<span class="tactic">subst</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H1</span>: <span class="id"><a href="CminorLang.html#eval_expr_fp">eval_expr_fp</a></span> ?<span class="id">a</span> ?<span class="id">b</span> ?<span class="id">c</span> ?<span class="id">d</span> ?<span class="id">e</span> <span class="id">_</span>, <span class="id">H2</span>: <span class="id"><a href="CminorLang.html#eval_expr_fp">eval_expr_fp</a></span> ?<span class="id">a</span> ?<span class="id">b</span> ?<span class="id">c</span> ?<span class="id">d</span> ?<span class="id">e</span> <span class="id">_</span> |- <span class="id">_</span> =&gt;       <span class="tactic">eapply</span> <span class="id"><a href="CminorWD.html#eval_expr_fp_det">eval_expr_fp_det</a></span> <span class="kwd">in</span> <span class="id">H1</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">H2</span>;<span class="tactic">subst</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H1</span>: <span class="id"><a href="CminorLang.html#eval_exprlist">eval_exprlist</a></span> ?<span class="id">a</span> ?<span class="id">b</span> ?<span class="id">c</span> ?<span class="id">d</span> ?<span class="id">e</span> <span class="id">_</span>, <span class="id">H2</span>: <span class="id"><a href="CminorLang.html#eval_exprlist">eval_exprlist</a></span> ?<span class="id">a</span> ?<span class="id">b</span> ?<span class="id">c</span> ?<span class="id">d</span> ?<span class="id">e</span> <span class="id">_</span> |- <span class="id">_</span> =&gt;     <span class="tactic">eapply</span> <span class="id"><a href="CminorWD.html#eval_exprlist_det">eval_exprlist_det</a></span> <span class="kwd">in</span> <span class="id">H1</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">H2</span>;<span class="tactic">subst</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H1</span>: <span class="id"><a href="CminorLang.html#eval_exprlist_fp">eval_exprlist_fp</a></span> ?<span class="id">a</span> ?<span class="id">b</span> ?<span class="id">c</span> ?<span class="id">d</span> ?<span class="id">e</span> <span class="id">_</span>, <span class="id">H2</span>: <span class="id"><a href="CminorLang.html#eval_exprlist_fp">eval_exprlist_fp</a></span> ?<span class="id">a</span> ?<span class="id">b</span> ?<span class="id">c</span> ?<span class="id">d</span> ?<span class="id">e</span> <span class="id">_</span> |- <span class="id">_</span> =&gt;     <span class="tactic">eapply</span> <span class="id"><a href="CminorWD.html#eval_exprlist_fp_det">eval_exprlist_fp_det</a></span> <span class="kwd">in</span> <span class="id">H1</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">H2</span>;<span class="tactic">subst</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<span class="kwd">Local</span> <span class="kwd">Ltac</span> <span class="id">inv_eq</span>:=<br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> (<span class="tactic">try</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>:?<span class="id">P</span> , <span class="id">H1</span>: ?<span class="id">P</span> |- <span class="id">_</span> =&gt; <span class="tactic">clear</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="Cminor.html#funsig">Cminor.funsig</a></span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="tactic">unfold</span> <span class="id"><a href="Cminor.html#funsig">Cminor.funsig</a></span> <span class="kwd">in</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id">context</span>[<span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id">_</span> =&gt; <span class="id">_</span> <span class="kwd">end</span>] |- <span class="id">_</span> =&gt; <span class="tactic">destruct</span> <span class="id">x</span> <span class="id">eqn</span>:?; <span class="tactic">try</span> (<span class="tactic">inversion</span> <span class="id">H</span>; <span class="tactic">fail</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> |- <span class="id">_</span> =&gt; <span class="id">inv</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> |- <span class="id">_</span> =&gt; <span class="id">inv</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span>=&gt; <span class="id">inv</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">inv</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> |- <span class="id">_</span>=&gt; <span class="id">inv</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="Values.html#Val.bool_of_val">Values.Val.bool_of_val</a></span> <span class="id">_</span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">inv</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>:  <span class="id"><a href="Switch.html#switch_argument">Switch.switch_argument</a></span> <span class="id">_</span>  <span class="id">_</span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">inv</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>:?<span class="id">P</span> = ?<span class="id">Q</span>, <span class="id">H1</span>:<span class="id">context</span> [ ?<span class="id">P</span> ] |- <span class="id">_</span> =&gt; <span class="tactic">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>:?<span class="id">P</span> = ?<span class="id">Q</span> |- <span class="id">context</span> [ ?<span class="id">P</span> ] =&gt; <span class="tactic">rewrite</span> <span class="id">H</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>;<span class="tactic">try</span> <span class="id">eval_det</span>;<span class="tactic">simpl</span> <span class="kwd">in</span> *;<span class="tactic">subst</span>;<span class="tactic">try</span> <span class="id">contradiction</span>).<br/>
<span class="kwd">Section</span> <span class="id"><a name="DET">DET</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Lemma</span> <span class="id"><a name="Cminor_det">Cminor_det</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#lang_det">lang_det</a></span> <span class="id"><a href="CminorLang.html#CminorLang">CminorLang</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6513')">Proof.</div>
<div class="proofscript" id="proof6513">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#lang_det">lang_det</a></span>,<span class="id"><a href="InteractionSemantics.html#step_det">step_det</a></span>;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H</span>;<span class="tactic">subst</span>. <span class="tactic">inversion</span> <span class="id">H0</span>;<span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="CminorWD.html#embed_eq">embed_eq</a></span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H2</span>;<span class="id">inv</span> <span class="id">H4</span>;<span class="tactic">try</span> <span class="id">solv_eq</span>;<span class="tactic">try</span>(<span class="id">Esimpl</span>;<span class="tactic">eauto</span>;<span class="tactic">fail</span>);<span class="tactic">try</span>(<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> <span class="id">H</span>:<span class="id"><a href="Cminor.html#is_call_cont">Cminor.is_call_cont</a></span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="id">inv</span> <span class="id">H</span> <span class="kwd">end</span>);<span class="tactic">try</span>(<span class="id">inv_eq</span>; <span class="id">Esimpl</span>;<span class="tactic">eauto</span>;<span class="tactic">fail</span>).<br/>
Qed.</div>
<span class="kwd">End</span> <span class="id"><a href="CminorWD.html#DET">DET</a></span>. <br/>
<br/>
<br/>
<span class="kwd">Local</span> <span class="kwd">Ltac</span> <span class="id">emp_eff</span>:=<br/>
&nbsp;&nbsp;<span class="tactic">try</span> (<span class="tactic">unfold</span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>,<span class="id"><a href="InteractionSemantics.html#effects">effects</a></span>;<span class="tactic">simpl</span>;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#Locs.emp_union_locs">Locs.emp_union_locs</a></span>;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#Locs.locs_union_emp">Locs.locs_union_emp</a></span>;<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.eq_refl">Locs.eq_refl</a></span>).<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Cminor_eff">Cminor_eff</a></span>:<br/>
&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#corestep_local_eff">corestep_local_eff</a></span> (<span class="id"><a href="InteractionSemantics.html#step">InteractionSemantics.step</a></span> <span class="id"><a href="CminorLang.html#CminorLang">CminorLang</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6514')">Proof.</div>
<div class="proofscript" id="proof6514">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#corestep_local_eff">corestep_local_eff</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#LEffect_refl">LEffect_refl</a></span>;<span class="tactic">try</span> (<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.union_comm_eq">FP.union_comm_eq</a></span>;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#LEffect_union_fp">LEffect_union_fp</a></span>);<span class="tactic">try</span> (<span class="tactic">eapply</span> <span class="id"><a href="FMemLemmas.html#mem_free_eff">mem_free_eff</a></span>;<span class="tactic">eauto</span>;<span class="tactic">fail</span>);<span class="tactic">try</span> (<span class="tactic">eapply</span> <span class="id"><a href="FMemLemmas.html#mem_alloc_eff">mem_alloc_eff</a></span>;<span class="tactic">eauto</span>;<span class="tactic">fail</span>);<span class="tactic">try</span>(<span class="tactic">eapply</span> <span class="id"><a href="FMemLemmas.html#mem_storev_eff">mem_storev_eff</a></span>;<span class="tactic">eauto</span>;<span class="tactic">fail</span>).<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_binop_fp_empeff">eval_binop_fp_empeff</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">v1</span> <span class="id">v2</span> <span class="id">m</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="CminorLang.html#eval_binop_fp">eval_binop_fp</a></span> <span class="id"><a href="CminorWD.html#b">b</a></span> <span class="id"><a href="CminorWD.html#v1">v1</a></span> <span class="id"><a href="CminorWD.html#v2">v2</a></span> <span class="id"><a href="CminorWD.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="CminorWD.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#Locs.eq">Locs.eq</a></span> (<span class="id"><a href="InteractionSemantics.html#effects">effects</a></span> <span class="id"><a href="CminorWD.html#fp">fp</a></span>) <span class="id"><a href="Footprint.html#Locs.emp">Locs.emp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6515')">Proof.</div>
<div class="proofscript" id="proof6515">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">b</span>;<span class="tactic">intros</span>;<span class="id">inv</span> <span class="id">H</span>;<span class="id">inv_eq</span>;<span class="tactic">subst</span>;<span class="id">emp_eff</span>;<span class="tactic">unfold</span> <span class="id"><a href="CminorLang.html#cmpu_bool_fp_total">cmpu_bool_fp_total</a></span>;<span class="tactic">destruct</span> <span class="id">v1</span>,<span class="id">v2</span>,<span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span>;<span class="tactic">subst</span>;<span class="tactic">auto</span>;<span class="id">emp_eff</span>.<br/>
&nbsp;&nbsp;<span class="id">cmpu_bool_destruct_int_fp</span>.<br/>
&nbsp;&nbsp;<span class="id">cmpu_bool_destruct_int_fp</span>.<br/>
&nbsp;&nbsp;<span class="id">cmpu_bool_destruct_b_fp</span>;<span class="tactic">destruct</span> (<span class="id"><a href="FMemory.html#Mem.valid_pointer">Mem.valid_pointer</a></span> <span class="id">m</span> <span class="id">b0</span> (<span class="id"><a href="Integers.html#Ptrofs.unsigned">Integers.Ptrofs.unsigned</a></span> <span class="id">i0</span>));<span class="id">emp_eff</span>;<span class="tactic">destruct</span> <span class="id"><a href="Values.html#Val.cmp_different_blocks">Values.Val.cmp_different_blocks</a></span>;<span class="id">emp_eff</span>.<br/>
&nbsp;&nbsp;<span class="id">all</span> :<span class="id">inv</span> <span class="id">H1</span>;<span class="id">emp_eff</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_expr_fp_empeff">eval_expr_fp_empeff</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">sp</span> <span class="id">e</span> <span class="id">m</span> <span class="id">a</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="CminorLang.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="CminorWD.html#ge">ge</a></span> <span class="id"><a href="CminorWD.html#sp">sp</a></span> <span class="id"><a href="CminorWD.html#e">e</a></span> <span class="id"><a href="CminorWD.html#m">m</a></span> <span class="id"><a href="CminorWD.html#a">a</a></span> <span class="id"><a href="CminorWD.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#Locs.eq">Locs.eq</a></span> (<span class="id"><a href="InteractionSemantics.html#effects">effects</a></span> <span class="id"><a href="CminorWD.html#fp">fp</a></span>) <span class="id"><a href="Footprint.html#Locs.emp">Locs.emp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6516')">Proof.</div>
<div class="proofscript" id="proof6516">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">a</span>;<span class="tactic">intros</span>;<span class="id">inv</span> <span class="id">H</span>;<span class="id">emp_eff</span>;<span class="tactic">try</span> (<span class="tactic">eapply</span> <span class="id">IHa</span>;<span class="tactic">eauto</span>;<span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHa1</span> <span class="kwd">in</span> <span class="id">H4</span>. <span class="tactic">eapply</span> <span class="id">IHa2</span> <span class="kwd">in</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;<span class="tactic">do</span> 2 <span class="tactic">rewrite</span> <span class="id"><a href="InteractionSemantics.html#effects_union">effects_union</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.locs_eq">Locs.locs_eq</a></span> <span class="kwd">in</span> <span class="id">H4</span>. <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.locs_eq">Locs.locs_eq</a></span> <span class="kwd">in</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H4</span>,<span class="id">H6</span>,<span class="id"><a href="Footprint.html#Locs.emp_union_locs">Locs.emp_union_locs</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="CminorWD.html#eval_binop_fp_empeff">eval_binop_fp_empeff</a></span>;<span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHa</span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.locs_eq">Locs.locs_eq</a></span> <span class="kwd">in</span> <span class="id">H3</span>. <br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="InteractionSemantics.html#effects_union">effects_union</a></span>,<span class="id">H3</span>,<span class="id"><a href="Footprint.html#Locs.emp_union_locs">Locs.emp_union_locs</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="FMemLemmas.html#loadv_fp_emp_effects">loadv_fp_emp_effects</a></span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="MemPre_weak_valid_pointer_fp_eq">MemPre_weak_valid_pointer_fp_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">b</span> <span class="id">i</span> <span class="id">m</span>' <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemOpFP.html#weak_valid_pointer_fp">FMemOpFP.weak_valid_pointer_fp</a></span> <span class="id"><a href="CminorWD.html#m">m</a></span> <span class="id"><a href="CminorWD.html#b">b</a></span> <span class="id"><a href="CminorWD.html#i">i</a></span> = <span class="id"><a href="CminorWD.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#MemPre">MemPre</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="CminorWD.html#m">m</a></span>) (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id">m</span>') <span class="id"><a href="CminorWD.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemOpFP.html#weak_valid_pointer_fp">FMemOpFP.weak_valid_pointer_fp</a></span> <span class="id">m</span>' <span class="id"><a href="CminorWD.html#b">b</a></span> <span class="id"><a href="CminorWD.html#i">i</a></span> = <span class="id"><a href="CminorWD.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6517')">Proof.</div>
<div class="proofscript" id="proof6517">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">H0</span> <span class="kwd">as</span> [<span class="id">_</span> ? <span class="id">_</span>].<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemOpFP.html#weak_valid_pointer_fp">FMemOpFP.weak_valid_pointer_fp</a></span> <span class="kwd">in</span> *;<span class="tactic">intros</span>;<span class="id">inv_eq</span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="FMemLemmas.html#unchanged_perm_cmp">unchanged_perm_cmp</a></span> <span class="kwd">in</span> <span class="id">Heqb0</span>;<span class="tactic">try</span> <span class="id">erewrite</span> <span class="id">Heqb0</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemOpFP.html#weak_valid_pointer_fp">FMemOpFP.weak_valid_pointer_fp</a></span>. <span class="tactic">rewrite</span> <span class="id">Heqb0</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">CmpMemPermExists</span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="FMemLemmas.html#unchanged_perm_cmp">unchanged_perm_cmp</a></span> <span class="kwd">in</span> <span class="id">Heqb0</span>;<span class="tactic">try</span> <span class="id">erewrite</span> <span class="id">Heqb0</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemOpFP.html#weak_valid_pointer_fp">FMemOpFP.weak_valid_pointer_fp</a></span>. <span class="tactic">rewrite</span> <span class="id">Heqb0</span>;<span class="tactic">auto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="MemPre_eval_binop_eq">MemPre_eval_binop_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">v1</span> <span class="id">v2</span> <span class="id">m</span> <span class="id">v</span> <span class="id">fp</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#MemPre">MemPre</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="CminorWD.html#m">m</a></span>)(<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id">m</span>') <span class="id"><a href="CminorWD.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="CminorLang.html#eval_binop">eval_binop</a></span> <span class="id"><a href="CminorWD.html#b">b</a></span> <span class="id"><a href="CminorWD.html#v1">v1</a></span> <span class="id"><a href="CminorWD.html#v2">v2</a></span> <span class="id"><a href="CminorWD.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="CminorWD.html#v">v</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="CminorLang.html#eval_binop_fp">eval_binop_fp</a></span> <span class="id"><a href="CminorWD.html#b">b</a></span> <span class="id"><a href="CminorWD.html#v1">v1</a></span> <span class="id"><a href="CminorWD.html#v2">v2</a></span> <span class="id"><a href="CminorWD.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="CminorWD.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="CminorLang.html#eval_binop">eval_binop</a></span> <span class="id"><a href="CminorWD.html#b">b</a></span> <span class="id"><a href="CminorWD.html#v1">v1</a></span> <span class="id"><a href="CminorWD.html#v2">v2</a></span> <span class="id">m</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="CminorWD.html#v">v</a></span> /\ <span class="id"><a href="CminorLang.html#eval_binop_fp">eval_binop_fp</a></span> <span class="id"><a href="CminorWD.html#b">b</a></span> <span class="id"><a href="CminorWD.html#v1">v1</a></span> <span class="id"><a href="CminorWD.html#v2">v2</a></span> <span class="id">m</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="CminorWD.html#fp">fp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6518')">Proof.</div>
<div class="proofscript" id="proof6518">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="CminorLang.html#eval_binop">eval_binop</a></span>,<span class="id"><a href="CminorLang.html#eval_binop_fp">eval_binop_fp</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>;<span class="id">inv_eq</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id">Focus</span> 2.<br/>
&nbsp;&nbsp;<span class="tactic">f_equal</span>. <br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="CminorLang.html#cmpu_bool_fp_total">cmpu_bool_fp_total</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">inv_eq</span>;<span class="tactic">auto</span>;<span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id"><a href="CminorWD.html#MemPre_weak_valid_pointer_fp_eq">MemPre_weak_valid_pointer_fp_eq</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="FMemLemmas.html#MemPre_split">MemPre_split</a></span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="CminorWD.html#MemPre_weak_valid_pointer_fp_eq">MemPre_weak_valid_pointer_fp_eq</a></span> <span class="kwd">in</span> <span class="id">H</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="CminorWD.html#MemPre_weak_valid_pointer_fp_eq">MemPre_weak_valid_pointer_fp_eq</a></span> <span class="kwd">in</span> <span class="id">H0</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="CminorLang.html#cmpu_bool_fp_total">cmpu_bool_fp_total</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="id">inv_eq</span>;<span class="tactic">auto</span>;<span class="tactic">try</span> <span class="tactic">rewrite</span> <span class="id">Heqb0</span> <span class="kwd">in</span> <span class="id">H0</span>;<span class="tactic">unfold</span> <span class="id"><a href="Coqlib.html#option_map">option_map</a></span> <span class="kwd">in</span> *;<span class="id">inv_eq</span>;<span class="tactic">try</span> (<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [<span class="id">_</span> ? <span class="id">_</span>];<span class="id">erewrite</span> <span class="id"><a href="FMemLemmas.html#unchanged_perm_cmp_valid_pointer">unchanged_perm_cmp_valid_pointer</a></span> <span class="kwd">in</span> <span class="id">Heqb1</span>;<span class="tactic">eauto</span>;<span class="tactic">rewrite</span> <span class="id">Heqb1</span>;<span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="FMemLemmas.html#MemPre_split">MemPre_split</a></span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> [[<span class="id">_</span> ? <span class="id">_</span>][<span class="id">_</span> ? <span class="id">_</span>]];<span class="tactic">do</span> 2 (<span class="id">erewrite</span> <span class="id"><a href="FMemLemmas.html#unchanged_perm_cmp_valid_pointer">unchanged_perm_cmp_valid_pointer</a></span> <span class="kwd">with</span>(<span class="id">m</span>:=<span class="id">m</span>) <span class="kwd">in</span> <span class="id">Heqb</span>;<span class="tactic">eauto</span>);<span class="tactic">rewrite</span> <span class="id">Heqb</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="FMemLemmas.html#MemPre_split">MemPre_split</a></span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> [[<span class="id">_</span> ? <span class="id">_</span>][<span class="id">_</span> ? <span class="id">_</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">do</span> 2 (<span class="id">erewrite</span> <span class="id"><a href="FMemLemmas.html#unchanged_perm_range_locset_1_valid_pointer">unchanged_perm_range_locset_1_valid_pointer</a></span> <span class="kwd">with</span>(<span class="id">m</span>:=<span class="id">m</span>) <span class="kwd">in</span> <span class="id">Heqb0</span>;<span class="tactic">eauto</span>); <span class="tactic">rewrite</span> <span class="id">Heqb0</span>;<span class="tactic">auto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="MemPre_eval_expr_eq">MemPre_eval_expr_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">ge</span> <span class="id">sp</span> <span class="id">e</span> <span class="id">m</span> <span class="id">v</span> <span class="id">fp</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#MemPre">MemPre</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="CminorWD.html#m">m</a></span>)(<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id">m</span>') <span class="id"><a href="CminorWD.html#fp">fp</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#FreelistEq">FreelistEq</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="CminorWD.html#m">m</a></span>)(<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id">m</span>')(<span class="id"><a href="FMemory.html#Mem.freelist">Mem.freelist</a></span> <span class="id"><a href="CminorWD.html#m">m</a></span>)-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="CminorLang.html#eval_expr">eval_expr</a></span> <span class="id"><a href="CminorWD.html#ge">ge</a></span> <span class="id"><a href="CminorWD.html#sp">sp</a></span> <span class="id"><a href="CminorWD.html#e">e</a></span> <span class="id"><a href="CminorWD.html#m">m</a></span> <span class="id"><a href="CminorWD.html#a">a</a></span> <span class="id"><a href="CminorWD.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="CminorLang.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="CminorWD.html#ge">ge</a></span> <span class="id"><a href="CminorWD.html#sp">sp</a></span> <span class="id"><a href="CminorWD.html#e">e</a></span> <span class="id"><a href="CminorWD.html#m">m</a></span> <span class="id"><a href="CminorWD.html#a">a</a></span> <span class="id"><a href="CminorWD.html#fp">fp</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="CminorLang.html#eval_expr">eval_expr</a></span> <span class="id"><a href="CminorWD.html#ge">ge</a></span> <span class="id"><a href="CminorWD.html#sp">sp</a></span> <span class="id"><a href="CminorWD.html#e">e</a></span> <span class="id">m</span>' <span class="id"><a href="CminorWD.html#a">a</a></span> <span class="id"><a href="CminorWD.html#v">v</a></span> /\ <span class="id"><a href="CminorLang.html#eval_expr_fp">eval_expr_fp</a></span> <span class="id"><a href="CminorWD.html#ge">ge</a></span> <span class="id"><a href="CminorWD.html#sp">sp</a></span> <span class="id"><a href="CminorWD.html#e">e</a></span> <span class="id">m</span>' <span class="id"><a href="CminorWD.html#a">a</a></span> <span class="id"><a href="CminorWD.html#fp">fp</a></span> .<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6519')">Proof.</div>
<div class="proofscript" id="proof6519">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">a</span>;<span class="tactic">intros</span>;<span class="id">inv</span> <span class="id">H1</span>;<span class="id">inv</span> <span class="id">H2</span>;<span class="tactic">try</span> <span class="id">solv_eq</span>;<span class="id">inv_eq</span>;<span class="tactic">try</span>(<span class="tactic">split</span>;<span class="id">econstructor</span>;<span class="tactic">eauto</span>;<span class="tactic">fail</span>);<span class="tactic">try</span> <span class="id">solv_eq</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHa</span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> ?;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">H5</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Hsimpl</span>;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#MemPre_subset">MemPre_subset</a></span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> ?;[|<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.union_subset">FP.union_subset</a></span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#MemPre_subset">MemPre_subset</a></span> <span class="kwd">in</span> <span class="id">H1</span> <span class="kwd">as</span> ?;[|<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.union_subset">FP.union_subset</a></span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#MemPre_subset">MemPre_subset</a></span> <span class="kwd">in</span> <span class="id">H1</span>;[|<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.union_comm_eq">FP.union_comm_eq</a></span> ;<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.union_subset">FP.union_subset</a></span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#MemPre_subset">MemPre_subset</a></span> <span class="kwd">in</span> <span class="id">H</span>;[|<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.union_comm_eq">FP.union_comm_eq</a></span> ;<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.union_subset">FP.union_subset</a></span>].<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHa1</span> <span class="kwd">in</span> <span class="id">H2</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHa2</span> <span class="kwd">in</span> <span class="id">H1</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="CminorWD.html#MemPre_eval_binop_eq">MemPre_eval_binop_eq</a></span> <span class="kwd">in</span> <span class="id">H14</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>; <span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#MemPre_subset">MemPre_subset</a></span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> ?;[|<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.union_subset">FP.union_subset</a></span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#MemPre_subset">MemPre_subset</a></span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> ?;[|<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.union_comm_eq">FP.union_comm_eq</a></span> ;<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#FP.union_subset">FP.union_subset</a></span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHa</span> <span class="kwd">in</span> <span class="id">H1</span> <span class="kwd">as</span> ?;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">H5</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="FMemLemmas.html#MemPre_mem_loadv_eq2">MemPre_mem_loadv_eq2</a></span> <span class="kwd">in</span> <span class="id">H7</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Hsimpl</span>;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="MemPre_eval_exprlist_eq">MemPre_eval_exprlist_eq</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">a</span> <span class="id">ge</span> <span class="id">sp</span> <span class="id">e</span> <span class="id">m</span> <span class="id">v</span> <span class="id">fp</span> <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#MemPre">MemPre</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="CminorWD.html#m">m</a></span>)(<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id">m</span>') <span class="id"><a href="CminorWD.html#fp">fp</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#FreelistEq">FreelistEq</a></span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id"><a href="CminorWD.html#m">m</a></span>)(<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id">m</span>')(<span class="id"><a href="FMemory.html#Mem.freelist">Mem.freelist</a></span> <span class="id"><a href="CminorWD.html#m">m</a></span>)-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="CminorLang.html#eval_exprlist">eval_exprlist</a></span> <span class="id"><a href="CminorWD.html#ge">ge</a></span> <span class="id"><a href="CminorWD.html#sp">sp</a></span> <span class="id"><a href="CminorWD.html#e">e</a></span> <span class="id"><a href="CminorWD.html#m">m</a></span> <span class="id"><a href="CminorWD.html#a">a</a></span> <span class="id"><a href="CminorWD.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="CminorLang.html#eval_exprlist_fp">eval_exprlist_fp</a></span> <span class="id"><a href="CminorWD.html#ge">ge</a></span> <span class="id"><a href="CminorWD.html#sp">sp</a></span> <span class="id"><a href="CminorWD.html#e">e</a></span> <span class="id"><a href="CminorWD.html#m">m</a></span> <span class="id"><a href="CminorWD.html#a">a</a></span> <span class="id"><a href="CminorWD.html#fp">fp</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="CminorLang.html#eval_exprlist">eval_exprlist</a></span> <span class="id"><a href="CminorWD.html#ge">ge</a></span> <span class="id"><a href="CminorWD.html#sp">sp</a></span> <span class="id"><a href="CminorWD.html#e">e</a></span> <span class="id">m</span>' <span class="id"><a href="CminorWD.html#a">a</a></span> <span class="id"><a href="CminorWD.html#v">v</a></span> /\ <span class="id"><a href="CminorLang.html#eval_exprlist_fp">eval_exprlist_fp</a></span> <span class="id"><a href="CminorWD.html#ge">ge</a></span> <span class="id"><a href="CminorWD.html#sp">sp</a></span> <span class="id"><a href="CminorWD.html#e">e</a></span> <span class="id">m</span>' <span class="id"><a href="CminorWD.html#a">a</a></span> <span class="id"><a href="CminorWD.html#fp">fp</a></span> .<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6520')">Proof.</div>
<div class="proofscript" id="proof6520">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">a</span>;<span class="tactic">intros</span>;<span class="id">inv</span> <span class="id">H1</span>;<span class="id">inv</span> <span class="id">H2</span>;<span class="tactic">try</span> <span class="id">solv_eq</span>;<span class="id">inv_eq</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="FMemLemmas.html#MemPre_split">MemPre_split</a></span> <span class="kwd">in</span> <span class="id">H</span> <span class="kwd">as</span> [].<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="CminorWD.html#MemPre_eval_expr_eq">MemPre_eval_expr_eq</a></span> <span class="kwd">in</span> <span class="id">H4</span> <span class="kwd">as</span> [];<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">H6</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHa</span> <span class="kwd">in</span> <span class="id">H0</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>. <span class="id">Hsimpl</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">split</span>;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="eval_exprlist_fp_empeff">eval_exprlist_fp_empeff</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">sp</span> <span class="id">e</span> <span class="id">m</span> <span class="id">a</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="CminorLang.html#eval_exprlist_fp">eval_exprlist_fp</a></span> <span class="id"><a href="CminorWD.html#ge">ge</a></span> <span class="id"><a href="CminorWD.html#sp">sp</a></span> <span class="id"><a href="CminorWD.html#e">e</a></span> <span class="id"><a href="CminorWD.html#m">m</a></span> <span class="id"><a href="CminorWD.html#a">a</a></span> <span class="id"><a href="CminorWD.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Footprint.html#Locs.eq">Locs.eq</a></span> (<span class="id"><a href="InteractionSemantics.html#effects">effects</a></span> <span class="id"><a href="CminorWD.html#fp">fp</a></span>) <span class="id"><a href="Footprint.html#Locs.emp">Locs.emp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6521')">Proof.</div>
<div class="proofscript" id="proof6521">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">a</span>;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>;<span class="tactic">auto</span>. <span class="id">emp_eff</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="tactic">eapply</span> <span class="id">IHa</span> <span class="kwd">in</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="InteractionSemantics.html#effects_union">effects_union</a></span>. <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.locs_eq">Locs.locs_eq</a></span> <span class="kwd">in</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H5</span>,<span class="id"><a href="Footprint.html#Locs.locs_union_emp">Locs.locs_union_emp</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="CminorWD.html#eval_expr_fp_empeff">eval_expr_fp_empeff</a></span>;<span class="tactic">eauto</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="Cminor_loc1">Cminor_loc1</a></span>:<br/>
&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#corestep_locality_1">corestep_locality_1</a></span> (<span class="id"><a href="InteractionSemantics.html#step">InteractionSemantics.step</a></span> <span class="id"><a href="CminorLang.html#CminorLang">CminorLang</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6522')">Proof.</div>
<div class="proofscript" id="proof6522">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#corestep_locality_1">corestep_locality_1</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">fm1</span>:= (<span class="id"><a href="FMemLemmas.html#combine">combine</a></span> <span class="id">m0</span> (<span class="id"><a href="FMemory.html#Mem.freelist">Mem.freelist</a></span> <span class="id">m1</span>)(<span class="id"><a href="FMemory.html#Mem.nextblockid">Mem.nextblockid</a></span> <span class="id">m1</span>)(<span class="id"><a href="FMemLemmas.html#FreelistEq_mem_fl_wd">FreelistEq_mem_fl_wd</a></span> <span class="id">m1</span> <span class="id">m0</span> <span class="id">H1</span>))).<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H1</span> <span class="kwd">as</span> <span class="id">Fleq1</span>. <span class="id">pose</span> <span class="id">proof</span> <span class="id">H</span> <span class="kwd">as</span> <span class="id">Memeq1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span>(<span class="id">Eq1</span>:<span class="id">m0</span> = <span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id">fm1</span>). <span class="tactic">unfold</span> <span class="id">fm1</span>;<span class="tactic">rewrite</span> <span class="id"><a href="FMemLemmas.html#strip_combine">strip_combine</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Eq1</span> <span class="kwd">in</span> <span class="id">Fleq1</span>,<span class="id">Memeq1</span>.  <span class="tactic">clear</span> <span class="id">Eq1</span>. <br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H2</span>;<span class="tactic">try</span> (<span class="id">exists</span> (<span class="id"><a href="FMemory.html#strip">strip</a></span> <span class="id">fm1</span>); <span class="tactic">split</span>;[<span class="id">econstructor</span>;<span class="tactic">eauto</span>;[|<span class="id">econstructor</span>;<span class="tactic">eauto</span>]|<span class="tactic">split</span>;<span class="tactic">eauto</span>;<span class="tactic">apply</span> <span class="id"><a href="FMemLemmas.html#MemPostemp">MemPostemp</a></span>];<span class="id">econstructor</span>;<span class="tactic">eauto</span>; <span class="tactic">unfold</span> <span class="id">fm1</span>; <span class="tactic">apply</span> <span class="id"><a href="FMemLemmas.html#strip_combine">strip_combine</a></span>;<span class="tactic">fail</span>);<span class="tactic">try</span> (<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> <span class="id">H</span>:<span class="id"><a href="FMemory.html#Mem.free">Mem.free</a></span> <span class="id">m1</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="tactic">eapply</span> <span class="id"><a href="FMemLemmas.html#LPre_mem_free_LPost">LPre_mem_free_LPost</a></span> <span class="kwd">with</span>(<span class="id">Fleq</span>:=<span class="id">H1</span>) <span class="kwd">in</span> <span class="id">H</span>;<span class="tactic">eauto</span> <span class="kwd">end</span>;<span class="id">Hsimpl</span>;<span class="id">Esimpl</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#LPost_comm">LPost_comm</a></span>;<span class="tactic">eauto</span>;<span class="id">econstructor</span>;<span class="tactic">eauto</span>;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="FMemLemmas.html#gmem_fl_wd_embed">gmem_fl_wd_embed</a></span>;<span class="id">econstructor</span>;<span class="tactic">eauto</span>;<span class="tactic">fail</span>);<span class="tactic">try</span>(<span class="tactic">eapply</span> <span class="id"><a href="CminorWD.html#MemPre_eval_expr_eq">MemPre_eval_expr_eq</a></span> <span class="kwd">in</span> <span class="id">H0</span> <span class="kwd">as</span> [];<span class="tactic">eauto</span>;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>;[|<span class="tactic">split</span>;<span class="tactic">eauto</span>;<span class="tactic">eapply</span> <span class="id"><a href="FMemLemmas.html#MemPost_effect_emp">MemPost_effect_emp</a></span>;<span class="tactic">eapply</span> <span class="id"><a href="CminorWD.html#eval_expr_fp_empeff">eval_expr_fp_empeff</a></span>;<span class="tactic">eauto</span>];<span class="id">econstructor</span>;<span class="tactic">eauto</span>;[<span class="tactic">apply</span> <span class="id"><a href="FMemLemmas.html#gmem_fl_wd_embed">gmem_fl_wd_embed</a></span>|<span class="id">econstructor</span>;<span class="tactic">eauto</span>];<span class="tactic">fail</span>).<br/>
<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">apply</span> <span class="id"><a href="FMemLemmas.html#MemPre_split">MemPre_split</a></span> <span class="kwd">in</span> <span class="id">Memeq1</span> <span class="kwd">as</span> [<span class="id">Memeq1</span> ?].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="CminorWD.html#MemPre_eval_expr_eq">MemPre_eval_expr_eq</a></span> <span class="kwd">in</span> <span class="id">H0</span> <span class="kwd">as</span> [];<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">H3</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="CminorWD.html#MemPre_eval_expr_eq">MemPre_eval_expr_eq</a></span> <span class="kwd">in</span> <span class="id">H5</span> <span class="kwd">as</span> [];<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id">H0</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="FMemLemmas.html#LPre_mem_storev_LPost">LPre_mem_storev_LPost</a></span> <span class="kwd">with</span>(<span class="id">Fleq</span>:=<span class="id">Fleq1</span>) <span class="kwd">in</span> <span class="id">H6</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Hsimpl</span>. <span class="id">Esimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>. <span class="id">Focus</span> 2.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> (<span class="id"><a href="FMemLemmas.html#combine_refl">combine_refl</a></span> <span class="id">fm1</span>),<span class="id"><a href="FMemLemmas.html#combine_equiv2">combine_equiv2</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>;<span class="tactic">unfold</span> <span class="id">fm1</span>;<span class="tactic">rewrite</span> <span class="id"><a href="FMemLemmas.html#strip_combine">strip_combine</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H10</span>;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#MemPost">MemPost</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.union_comm_eq">FP.union_comm_eq</a></span>,<span class="id"><a href="InteractionSemantics.html#effects_union">effects_union</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_content_union2">unchanged_content_union2</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="InteractionSemantics.html#effects_union">effects_union</a></span>;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_content_union2">unchanged_content_union2</a></span>;<span class="tactic">eapply</span> <span class="id"><a href="FMemLemmas.html#MemPost_effect_emp">MemPost_effect_emp</a></span>;<span class="tactic">eapply</span> <span class="id"><a href="CminorWD.html#eval_expr_fp_empeff">eval_expr_fp_empeff</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="FMemLemmas.html#MemPre_split">MemPre_split</a></span> <span class="kwd">in</span> <span class="id">Memeq1</span> <span class="kwd">as</span> [<span class="id">Memeq1</span> <span class="id">Memeq2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="CminorWD.html#MemPre_eval_expr_eq">MemPre_eval_expr_eq</a></span> <span class="kwd">in</span> <span class="id">Memeq1</span> <span class="kwd">as</span> [];<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="CminorWD.html#MemPre_eval_exprlist_eq">MemPre_eval_exprlist_eq</a></span> <span class="kwd">in</span> <span class="id">Memeq2</span> <span class="kwd">as</span> [];<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexists</span>. <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>. <span class="id">Focus</span> 2. <span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>;<span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id">fm1</span>. <span class="tactic">apply</span> <span class="id"><a href="FMemLemmas.html#strip_combine">strip_combine</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;<span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="FMemLemmas.html#MemPost_effect_emp">MemPost_effect_emp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="CminorWD.html#eval_expr_fp_empeff">eval_expr_fp_empeff</a></span> <span class="kwd">in</span> <span class="id">H7</span>. <span class="tactic">apply</span> <span class="id"><a href="CminorWD.html#eval_exprlist_fp_empeff">eval_exprlist_fp_empeff</a></span> <span class="kwd">in</span> <span class="id">H9</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.locs_eq">Locs.locs_eq</a></span> <span class="kwd">in</span> <span class="id">H7</span>. <span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.locs_eq">Locs.locs_eq</a></span> <span class="kwd">in</span> <span class="id">H9</span>. <span class="tactic">rewrite</span> <span class="id"><a href="InteractionSemantics.html#effects_union">effects_union</a></span>,<span class="id">H7</span>,<span class="id">H9</span>;<span class="tactic">apply</span> <span class="id"><a href="Footprint.html#Locs.union_refl">Locs.union_refl</a></span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="FMemLemmas.html#MemPre_split">MemPre_split</a></span> <span class="kwd">in</span> <span class="id">Memeq1</span> <span class="kwd">as</span> [<span class="id">Memeq1</span> <span class="id">Memeq2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="FMemLemmas.html#MemPre_split">MemPre_split</a></span> <span class="kwd">in</span> <span class="id">Memeq1</span> <span class="kwd">as</span> [<span class="id">Memeq1</span> <span class="id">Memeq3</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="CminorWD.html#MemPre_eval_expr_eq">MemPre_eval_expr_eq</a></span> <span class="kwd">in</span> <span class="id">Memeq1</span> <span class="kwd">as</span> [];<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="CminorWD.html#MemPre_eval_exprlist_eq">MemPre_eval_exprlist_eq</a></span> <span class="kwd">in</span> <span class="id">Memeq3</span> <span class="kwd">as</span> [];<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="FMemLemmas.html#LPre_mem_free_LPost">LPre_mem_free_LPost</a></span> <span class="kwd">with</span>(<span class="id">Fleq</span>:=<span class="id">Fleq1</span>) <span class="kwd">in</span> <span class="id">H8</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>. <span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>. <span class="id">Focus</span> 2. <span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> (<span class="id"><a href="FMemLemmas.html#combine_refl">combine_refl</a></span> <span class="id">fm1</span>),<span class="id"><a href="FMemLemmas.html#combine_equiv2">combine_equiv2</a></span>,<span class="id">H11</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id">fm1</span>;<span class="tactic">apply</span> <span class="id"><a href="FMemLemmas.html#strip_combine">strip_combine</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#LPost_comm">LPost_comm</a></span> <span class="kwd">in</span> <span class="id">H12</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H12</span>;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#MemPost">MemPost</a></span>.  <span class="tactic">do</span> 2  <span class="tactic">rewrite</span> <span class="id"><a href="InteractionSemantics.html#effects_union">effects_union</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_content_union2">unchanged_content_union2</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_content_union2">unchanged_content_union2</a></span>. <span class="tactic">apply</span> <span class="id"><a href="FMemLemmas.html#MemPost_effect_emp">MemPost_effect_emp</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="CminorWD.html#eval_expr_fp_empeff">eval_expr_fp_empeff</a></span>;<span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="FMemLemmas.html#MemPost_effect_emp">MemPost_effect_emp</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="CminorWD.html#eval_exprlist_fp_empeff">eval_exprlist_fp_empeff</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="FMemLemmas.html#MemPre_split">MemPre_split</a></span> <span class="kwd">in</span> <span class="id">Memeq1</span> <span class="kwd">as</span> [<span class="id">Memeq1</span> <span class="id">Memeq2</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="CminorWD.html#MemPre_eval_expr_eq">MemPre_eval_expr_eq</a></span> <span class="kwd">in</span> <span class="id">Memeq1</span> <span class="kwd">as</span> [];<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="FMemLemmas.html#LPre_mem_free_LPost">LPre_mem_free_LPost</a></span> <span class="kwd">with</span>(<span class="id">Fleq</span>:=<span class="id">Fleq1</span>) <span class="kwd">in</span> <span class="id">H4</span> <span class="kwd">as</span> ?;<span class="tactic">eauto</span>. <span class="id">Hsimpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Esimpl</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>. <span class="id">Focus</span> 2. <span class="id">econstructor</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> (<span class="id"><a href="FMemLemmas.html#combine_refl">combine_refl</a></span> <span class="id">fm1</span>),<span class="id"><a href="FMemLemmas.html#combine_equiv2">combine_equiv2</a></span>,<span class="id">H6</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id">fm1</span>;<span class="tactic">apply</span> <span class="id"><a href="FMemLemmas.html#strip_combine">strip_combine</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#LPost_comm">LPost_comm</a></span> <span class="kwd">in</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H7</span>;<span class="tactic">split</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#MemPost">MemPost</a></span>.  <span class="tactic">rewrite</span> <span class="id"><a href="InteractionSemantics.html#effects_union">effects_union</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#unchanged_content_union2">unchanged_content_union2</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="FMemLemmas.html#MemPost_effect_emp">MemPost_effect_emp</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="CminorWD.html#eval_expr_fp_empeff">eval_expr_fp_empeff</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="FMemLemmas.html#MemPre_mem_alloc_LPost">MemPre_mem_alloc_LPost</a></span> <span class="kwd">with</span>(<span class="id">Fleq</span>:=<span class="id">Fleq1</span>) <span class="kwd">in</span> <span class="id">H0</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Hsimpl</span>. <span class="id">Esimpl</span>;<span class="tactic">eauto</span>. <span class="id">econstructor</span>;<span class="tactic">eauto</span>;[|<span class="id">econstructor</span>;<span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>;<span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="FMemLemmas.html#strip_combine">strip_combine</a></span>;<span class="tactic">auto</span>. <span class="tactic">unfold</span> <span class="id">fm1</span>. <span class="tactic">rewrite</span> <span class="id"><a href="FMemLemmas.html#strip_combine">strip_combine</a></span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
Qed.</div>
<span class="kwd">Theorem</span> <span class="id"><a name="Cminor_wd">Cminor_wd</a></span>: <span class="id"><a href="InteractionSemantics.html#wd">wd</a></span> <span class="id"><a href="CminorLang.html#CminorLang">CminorLang.CminorLang</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6523')">Proof.</div>
<div class="proofscript" id="proof6523">
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
forward*)</span>&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#corestep_forward">corestep_forward</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="tactic">inversion</span> <span class="id">H0</span>;<span class="tactic">subst</span>;<span class="id">inv</span> <span class="id">H1</span>;<span class="tactic">try</span>  <span class="tactic">apply</span> <span class="id"><a href="GMemory.html#GMem.forward_refl">GMem.forward_refl</a></span>;<span class="tactic">try</span> (<span class="tactic">eapply</span> <span class="id"><a href="FMemLemmas.html#free_forward">free_forward</a></span>;<span class="tactic">eauto</span>;<span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#Mem.storev">Mem.storev</a></span> <span class="kwd">in</span> <span class="id">H5</span>. <span class="id">ex_match</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="FMemLemmas.html#store_forward">store_forward</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="FMemLemmas.html#alloc_forward">alloc_forward</a></span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
eff*)</span>&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="CminorWD.html#Cminor_eff">Cminor_eff</a></span>.<br/>
loc1*)</span>&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="CminorWD.html#Cminor_loc1">Cminor_loc1</a></span>.<br/>
loc2*)</span>&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="DetLemma.html#step_det_loc1_loc2">step_det_loc1_loc2</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="CminorWD.html#Cminor_det">Cminor_det</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="CminorWD.html#Cminor_loc1">Cminor_loc1</a></span>.<br/>
init*)</span>&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">init_gmem_valid</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">init_gmem_valid</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#init_gmem">init_gmem</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="CminorLang.html#init_mem">init_mem</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">H1</span>. <span class="id">inv</span> <span class="id">H2</span>. <span class="tactic">eapply</span> <span class="id">dom_match_fm</span>;<span class="tactic">eauto</span>.<br/>
eqmem_eqstep*)</span>&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="DetLemma.html#eff_loc1_memeqcorestep">eff_loc1_memeqcorestep</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="DetLemma.html#step_mem_injc">step_mem_injc</a></span>;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">Esimpl</span>;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="CminorWD.html#Cminor_eff">Cminor_eff</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="CminorWD.html#Cminor_loc1">Cminor_loc1</a></span>.<br/>
core_not_ext*)</span>&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#corestep_not_at_external">corestep_not_at_external</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="CminorLang.html#CminorLang">CminorLang</a></span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="CminorLang.html#at_external">at_external</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">H1</span>;<span class="id">inv_eq</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
core_not_halt*)</span>&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#corestep_not_halted">corestep_not_halted</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="CminorLang.html#CminorLang">CminorLang</a></span>,<span class="id"><a href="InteractionSemantics.html#halt">halt</a></span>,<span class="id"><a href="CminorLang.html#halted">halted</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>;<span class="id">inv</span> <span class="id">H1</span>;<span class="id">inv_eq</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
ext_not_halt*)</span>&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="InteractionSemantics.html#at_external_halted_excl">at_external_halted_excl</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="CminorLang.html#CminorLang">CminorLang</a></span>,<span class="id"><a href="InteractionSemantics.html#halt">halt</a></span>,<span class="id"><a href="CminorLang.html#halted">halted</a></span>;<span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">q</span>;<span class="tactic">simpl</span>;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
Qed.</div>
</div>
<div class="footer"><hr/>Generated by coq2html</div>
</body>
</html>
