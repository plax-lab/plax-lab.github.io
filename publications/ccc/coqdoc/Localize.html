<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module Localize</title>
<meta name="description" content="Documentation of Coq module Localize" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module Localize</h1>
<div class="coq">
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Coqlib.html">Coqlib</a></span> <span class="id"><a href="Values.html">Values</a></span> <span class="id"><a href="Globalenvs.html">Globalenvs</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html">Blockset</a></span> <span class="id"><a href="Footprint.html">Footprint</a></span> <span class="id"><a href="GMemory.html">GMemory</a></span> <span class="id"><a href="Memory.html">Memory</a></span> <span class="id"><a href="MemAux.html">MemAux</a></span> <span class="id"><a href="FMemPerm.html">FMemPerm</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html">InteractionSemantics</a></span> <span class="id"><a href="IS_local.html">IS_local</a></span>.<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="LDSimDefs.html">LDSimDefs</a></span> <span class="id"><a href="LDSim.html">LDSim</a></span> <span class="id"><a href="LDSim_local.html">LDSim_local</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Maps.html">Maps</a></span> <span class="id"><a href="FiniteMaps.html">FiniteMaps</a></span> <span class="id"><a href="MemInterpolant.html">MemInterpolant</a></span> <span class="id"><a href="LDSimDefs_local.html">LDSimDefs_local</a></span>.<br/>
<br/>
<h1> Lifting lemams </h1>
<div class="doc">This file contains lifting lemmas for reusing CompCert proof on compiler correctness.
    The main idea is to map <span class="bracket"><span class="id">GMemory</span></span> to CompCert <span class="bracket"><span class="id">Memory</span></span>,
    and prove simulation over CompCert <span class="bracket"><span class="id">Memory</span></span> implies simulation over <span class="bracket"><span class="id">GMemory</span></span>. 
 </div>
<div class="doc">The main result is <span class="bracket"><span class="kwd">Theorem</span> <span class="id">localize</span></span> </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="dom">dom</a></span> (<span class="id">B</span>: <span class="id"><a href="Values.html#block">block</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Values.html#block">block</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.of_nat">Pos.of_nat</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#seq">seq</a></span> 1 (<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.to_nat">Pos.to_nat</a></span> <span class="id"><a href="Localize.html#B">B</a></span> - 1))%<span class="id">nat</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="dom_spec_rec">dom_spec_rec</a></span>: <span class="kwd">forall</span> <span class="id">B</span>, <span class="id"><a href="Localize.html#dom">dom</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.succ">Pos.succ</a></span> <span class="id"><a href="Localize.html#B">B</a></span>) = (<span class="id"><a href="Localize.html#dom">dom</a></span> <span class="id"><a href="Localize.html#B">B</a></span>) ++ <span class="id"><a href="Localize.html#B">B</a></span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6594')">Proof.</div>
<div class="proofscript" id="proof6594">
&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="tactic">unfold</span> <span class="id"><a href="Localize.html#dom">dom</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.Pnat.html#Pos2Nat.inj_succ">Pos2Nat.inj_succ</a></span>. <span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.Pnat.html#Pos2Nat.is_pos">Pos2Nat.is_pos</a></span> <span class="id">B</span>) <span class="kwd">as</span> <span class="id">POS</span>.<br/>
&nbsp;&nbsp;<span class="id">remember</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.to_nat">Pos.to_nat</a></span> <span class="id">B</span>) <span class="kwd">as</span> <span class="id">N</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">B</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.of_nat">Pos.of_nat</a></span> <span class="id">N</span>). <span class="tactic">subst</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.Pnat.html#Pos2Nat.id">Pos2Nat.id</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id">H</span>. <span class="tactic">clear</span> <span class="id">B</span> <span class="id">HeqN</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="kwd">forall</span> <span class="id">s</span>, 0 &lt; <span class="id">N</span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#seq">seq</a></span> <span class="id"><a href="Localize.html#s">s</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">N</span> - 1) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#seq">seq</a></span> <span class="id"><a href="Localize.html#s">s</a></span> (<span class="id">N</span> - 1) ++ (<span class="id"><a href="Localize.html#s">s</a></span> + (<span class="id">N</span> - 1)) :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>)%<span class="id">nat</span>.<br/>
&nbsp;&nbsp;{ <span class="tactic">clear</span>. <span class="tactic">induction</span> <span class="id">N</span>. <span class="tactic">intros</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">N</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">intro</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Arith.PeanoNat.html#Nat.add_0_r">Nat.add_0_r</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> (<span class="id">IHN</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">s</span>));[|<span class="tactic">omega</span>]. <span class="tactic">simpl</span>. <span class="tactic">repeat</span> <span class="tactic">f_equal</span>; <span class="tactic">omega</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_app">map_app</a></span>. <span class="tactic">replace</span> (1 + (<span class="id">N</span> - 1))%<span class="id">nat</span> <span class="kwd">with</span> <span class="id">N</span> <span class="tactic">by</span> <span class="tactic">omega</span>. <span class="tactic">simpl</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="dom_length">dom_length</a></span>: <span class="kwd">forall</span> <span class="id">B</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> (<span class="id"><a href="Localize.html#dom">dom</a></span> <span class="id"><a href="Localize.html#B">B</a></span>) = (<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.to_nat">Pos.to_nat</a></span> <span class="id"><a href="Localize.html#B">B</a></span> - 1)%<span class="id">nat</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6595')">Proof.</div>
<div class="proofscript" id="proof6595">
 <span class="tactic">intro</span>. <span class="tactic">unfold</span> <span class="id"><a href="Localize.html#dom">dom</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#seq_length">seq_length</a></span>; <span class="tactic">auto</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="dom_correct">dom_correct</a></span>: <span class="kwd">forall</span> <span class="id">B</span> <span class="id">b</span>, <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#B">B</a></span> &lt;-&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Localize.html#dom">dom</a></span> <span class="id"><a href="Localize.html#B">B</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6596')">Proof.</div>
<div class="proofscript" id="proof6596">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">split</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Localize.html#dom">dom</a></span>. <span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.Pnat.html#Pos2Nat.id">Pos2Nat.id</a></span> <span class="id">b</span>). <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map">in_map</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_seq">in_seq</a></span>. <span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.Pnat.html#Pos2Nat.is_pos">Pos2Nat.is_pos</a></span> <span class="id">b</span>); <span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.Pnat.html#Pos2Nat.is_pos">Pos2Nat.is_pos</a></span> <span class="id">B</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Arith.PeanoNat.html#Nat.add_sub_assoc">Nat.add_sub_assoc</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Arith.Minus.html#minus_plus">minus_plus</a></span>; <span class="tactic">try</span> <span class="tactic">split</span>; <span class="tactic">try</span> <span class="tactic">omega</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.Pnat.html#Pos2Nat.inj_lt">Pos2Nat.inj_lt</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Localize.html#dom">dom</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map_iff">in_map_iff</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [<span class="id">x</span> [<span class="id">Hb</span> <span class="id">IN</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_seq">in_seq</a></span> <span class="kwd">in</span> <span class="id">IN</span>. <span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.Pnat.html#Pos2Nat.is_pos">Pos2Nat.is_pos</a></span> <span class="id">B</span>). <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Arith.PeanoNat.html#Nat.add_sub_assoc">Nat.add_sub_assoc</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Arith.Minus.html#minus_plus">minus_plus</a></span> <span class="kwd">in</span> <span class="id">IN</span>; <span class="tactic">try</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.to_nat">Pos.to_nat</a></span> <span class="id">b</span> = <span class="id">x</span>). <span class="tactic">rewrite</span> &lt;- <span class="id">Hb</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.Pnat.html#Nat2Pos.id">Nat2Pos.id</a></span>. <span class="tactic">omega</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H0</span> <span class="kwd">in</span> <span class="id">IN</span>. <span class="tactic">destruct</span> <span class="id">IN</span> <span class="kwd">as</span> [<span class="id">_</span> <span class="id">IN</span>].<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#plt">plt</a></span> <span class="id">b</span> <span class="id">B</span>); <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.Pnat.html#Pos2Nat.inj_lt">Pos2Nat.inj_lt</a></span> <span class="kwd">in</span> <span class="id">IN</span>. <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="dom_norep">dom_norep</a></span>: <span class="kwd">forall</span> <span class="id">B</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> (<span class="id"><a href="Localize.html#dom">dom</a></span> <span class="id"><a href="Localize.html#B">B</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6597')">Proof.</div>
<div class="proofscript" id="proof6597">
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Coqlib.html#positive_Peano_ind">positive_Peano_ind</a></span>. <span class="id">cbv</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Localize.html#dom_spec_rec">dom_spec_rec</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup_nth_error">NoDup_nth_error</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup_nth_error">NoDup_nth_error</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Localize.html#dom_length">dom_length</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_length">app_length</a></span>. <span class="tactic">simpl</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Arith.PeanoNat.html#Nat.eq_dec">Nat.eq_dec</a></span> <span class="id">i</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> (<span class="id"><a href="Localize.html#dom">dom</a></span> <span class="id">x</span>))), (<span class="id"><a href="http://coq.inria.fr/library/Coq.Arith.PeanoNat.html#Nat.eq_dec">Nat.eq_dec</a></span> <span class="id">j</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> (<span class="id"><a href="Localize.html#dom">dom</a></span> <span class="id">x</span>))); <span class="tactic">try</span> <span class="tactic">omega</span>.<br/>
&nbsp;i&nbsp;=&nbsp;B,&nbsp;j&nbsp;&lt;&nbsp;B&nbsp;*)</span>&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#nth_error_app2">nth_error_app2</a></span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="tactic">try</span> <span class="tactic">omega</span>. <span class="tactic">rewrite</span> <span class="id">e</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Arith.PeanoNat.html#Nat.sub_diag">Nat.sub_diag</a></span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">j</span> &lt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> (<span class="id"><a href="Localize.html#dom">dom</a></span> <span class="id">x</span> ++ <span class="id">x</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>))%<span class="id">nat</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#nth_error_Some">nth_error_Some</a></span>. <span class="tactic">intro</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_length">app_length</a></span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#nth_error_app1">nth_error_app1</a></span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="tactic">try</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">apply</span> <span class="id"><a href="Coqlib.html#nth_error_in">nth_error_in</a></span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">apply</span> <span class="id"><a href="Localize.html#dom_correct">dom_correct</a></span>, <span class="id"><a href="Coqlib.html#Plt_ne">Plt_ne</a></span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="id">contradiction</span>.<br/>
&nbsp;i&nbsp;&lt;&nbsp;B,&nbsp;j&nbsp;=&nbsp;B&nbsp;*)</span>&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#nth_error_app2">nth_error_app2</a></span> <span class="kwd">with</span> (<span class="id">n</span>:=<span class="id">j</span>) <span class="kwd">in</span> <span class="id">H1</span>; <span class="tactic">try</span> <span class="tactic">omega</span>. <span class="tactic">rewrite</span> <span class="id">e</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Arith.PeanoNat.html#Nat.sub_diag">Nat.sub_diag</a></span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">i</span> &lt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> (<span class="id"><a href="Localize.html#dom">dom</a></span> <span class="id">x</span> ++ <span class="id">x</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>))%<span class="id">nat</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#nth_error_Some">nth_error_Some</a></span>. <span class="tactic">intro</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_length">app_length</a></span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#nth_error_app1">nth_error_app1</a></span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="tactic">try</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Coqlib.html#nth_error_in">nth_error_in</a></span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">apply</span> <span class="id"><a href="Localize.html#dom_correct">dom_correct</a></span>, <span class="id"><a href="Coqlib.html#Plt_ne">Plt_ne</a></span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="id">contradiction</span>.<br/>
&nbsp;i&nbsp;&lt;&nbsp;B,&nbsp;j&nbsp;&lt;&nbsp;B&nbsp;*)</span>&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#nth_error_app1">nth_error_app1</a></span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="tactic">try</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#nth_error">nth_error</a></span> (<span class="id"><a href="Localize.html#dom">dom</a></span> <span class="id">x</span> ++ <span class="id">x</span> :: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id">j</span> &lt;&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>). <span class="tactic">intro</span>. <span class="tactic">rewrite</span> <span class="id">H2</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#nth_error_None">nth_error_None</a></span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#nth_error_Some">nth_error_Some</a></span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_length">app_length</a></span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#nth_error_app1">nth_error_app1</a></span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="tactic">try</span> <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H</span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Localize.html#dom_length">dom_length</a></span> <span class="kwd">in</span> <span class="id">H0</span>, <span class="id">n</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="range">range</a></span> <span class="id">j</span> <span class="id">B</span> : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Values.html#block">block</a></span>) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> <span class="id"><a href="Localize.html#j">j</a></span> (<span class="id"><a href="Localize.html#dom">dom</a></span> <span class="id"><a href="Localize.html#B">B</a></span>).<br/>
<br/>
<span class="kwd">Fixpoint</span> <span class="id"><a name="leftout">leftout</a></span> (<span class="id">dom</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Values.html#block">block</a></span>) (<span class="id">range</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Values.html#block">block</a></span>)): <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Values.html#block">block</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Localize.html#range">range</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="Localize.html#dom">dom</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> :: <span class="id">range</span>' =&gt; <span class="id"><a href="Localize.html#leftout">leftout</a></span> <span class="id"><a href="Localize.html#dom">dom</a></span> <span class="id">range</span>'<br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span> :: <span class="id">range</span>' =&gt; <span class="id"><a href="Localize.html#leftout">leftout</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#remove">remove</a></span> <span class="id"><a href="Coqlib.html#peq">peq</a></span> <span class="id">b</span> <span class="id"><a href="Localize.html#dom">dom</a></span>) <span class="id">range</span>'<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="leftout_nil">leftout_nil</a></span>: <span class="kwd">forall</span> <span class="id">R</span>, <span class="id"><a href="Localize.html#leftout">leftout</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="Localize.html#R">R</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>. <span class="kwd">Proof</span>. <span class="tactic">induction</span> <span class="id">R</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> <span class="id">a</span>; <span class="tactic">auto</span>. Qed.</div>
&nbsp;&nbsp;<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="leftout_cons">leftout_cons</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">d</span> <span class="id">R</span> <span class="id">D</span>, <span class="id"><a href="Localize.html#leftout">leftout</a></span> (<span class="id"><a href="Localize.html#d">d</a></span> :: <span class="id"><a href="Localize.html#D">D</a></span>) <span class="id"><a href="Localize.html#R">R</a></span> = (<span class="id"><a href="Localize.html#leftout">leftout</a></span> (<span class="id"><a href="Localize.html#d">d</a></span>::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>) <span class="id"><a href="Localize.html#R">R</a></span>) ++ <span class="id"><a href="Localize.html#leftout">leftout</a></span> <span class="id"><a href="Localize.html#D">D</a></span> <span class="id"><a href="Localize.html#R">R</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6598')">Proof.</div>
<div class="proofscript" id="proof6598">
 <span class="tactic">induction</span> <span class="id">R</span>; <span class="tactic">auto</span>. <span class="tactic">simpl</span>. <span class="tactic">destruct</span> <span class="id">a</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#peq">peq</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Localize.html#leftout_nil">leftout_nil</a></span>. <span class="tactic">auto</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="leftout_correct">leftout_correct</a></span>: <span class="kwd">forall</span> <span class="id">R</span> <span class="id">D</span> <span class="id">b</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Localize.html#leftout">leftout</a></span> <span class="id"><a href="Localize.html#D">D</a></span> <span class="id"><a href="Localize.html#R">R</a></span>) -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#D">D</a></span> /\ ~ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Localize.html#b">b</a></span>) <span class="id"><a href="Localize.html#R">R</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6599')">Proof.</div>
<div class="proofscript" id="proof6599">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">R</span>; <span class="tactic">auto</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">a</span> <span class="kwd">as</span> [<span class="id">a</span>|].<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">IHR</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> <span class="id">H</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#peq">peq</a></span> <span class="id">a</span> <span class="id">b</span>). <span class="tactic">subst</span>. <span class="id">exfalso</span>. <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#remove_In">remove_In</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">generalize</span> <span class="id">H</span>. <span class="tactic">clear</span>. <span class="tactic">induction</span> <span class="id">D</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#peq">peq</a></span>; <span class="tactic">auto</span>. <span class="tactic">simpl</span>. <span class="tactic">intros</span> [|]; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [|]. <span class="id">inv</span> <span class="id">H1</span>. <span class="id">contradiction</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">IHR</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> <span class="id">H</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">intros</span> [|]; <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="not_in_remove">not_in_remove</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">D</span> <span class="id">b</span>, ~ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#D">D</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#remove">remove</a></span> <span class="id"><a href="Coqlib.html#peq">peq</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#D">D</a></span> = <span class="id"><a href="Localize.html#D">D</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6600')">Proof.</div>
<div class="proofscript" id="proof6600">
 <span class="tactic">induction</span> <span class="id">D</span>; <span class="tactic">auto</span>. <span class="tactic">simpl</span>. <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#peq">peq</a></span>. <span class="id">exfalso</span>; <span class="tactic">apply</span> <span class="id">H</span>; <span class="tactic">auto</span>. <span class="tactic">f_equal</span>; <span class="tactic">auto</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="nodup_remove_one">nodup_remove_one</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">D</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> <span class="id"><a href="Localize.html#D">D</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#remove">remove</a></span> <span class="id"><a href="Coqlib.html#peq">peq</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#D">D</a></span>) &gt;= <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id"><a href="Localize.html#D">D</a></span> - 1)%<span class="id">nat</span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#remove">remove</a></span> <span class="id"><a href="Coqlib.html#peq">peq</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#D">D</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6601')">Proof.</div>
<div class="proofscript" id="proof6601">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">D</span>; <span class="tactic">intros</span>. <span class="tactic">simpl</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#peq">peq</a></span>. <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Localize.html#not_in_remove">not_in_remove</a></span>; <span class="tactic">auto</span>. <span class="tactic">split</span>; [<span class="tactic">omega</span>|<span class="tactic">auto</span>].<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="tactic">apply</span> <span class="id">IHD</span> <span class="kwd">with</span> <span class="id">b</span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="tactic">simpl</span>. <span class="tactic">destruct</span> <span class="id">H3</span>. <span class="tactic">split</span>;[<span class="tactic">omega</span>|<span class="id">constructor</span>; <span class="tactic">auto</span>].<br/>
&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="tactic">apply</span> <span class="id">H2</span>. <span class="tactic">generalize</span> <span class="id">n</span> <span class="id">H1</span>; <span class="tactic">clear</span>. <span class="tactic">intro</span> <span class="id">H</span>. <span class="tactic">induction</span> <span class="id">D</span>; <span class="tactic">auto</span>. <span class="tactic">simpl</span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#peq">peq</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">intros</span> [?|?]; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="leftout_length">leftout_length</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">R</span> <span class="id">D</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#NoDup">NoDup</a></span> <span class="id"><a href="Localize.html#D">D</a></span> -&gt; (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> (<span class="id"><a href="Localize.html#leftout">leftout</a></span> <span class="id"><a href="Localize.html#D">D</a></span> <span class="id"><a href="Localize.html#R">R</a></span>) &gt;= <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id"><a href="Localize.html#D">D</a></span> - <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> <span class="id"><a href="Localize.html#R">R</a></span>)%<span class="id">nat</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6602')">Proof.</div>
<div class="proofscript" id="proof6602">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">R</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span> <span class="kwd">as</span> [<span class="id">a</span>|]; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Localize.html#nodup_remove_one">nodup_remove_one</a></span> <span class="kwd">with</span> (<span class="id">b</span>:=<span class="id">a</span>) <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> <span class="id">H</span>. <span class="tactic">apply</span> <span class="id">IHR</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">unfold</span> <span class="id"><a href="Values.html#block">block</a></span> <span class="kwd">in</span> *; <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">IHR</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="leftout_length_none">leftout_length_none</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">R1</span> <span class="id">R2</span> <span class="id">D</span>, (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> (<span class="id"><a href="Localize.html#leftout">leftout</a></span> <span class="id"><a href="Localize.html#D">D</a></span> (<span class="id"><a href="Localize.html#R1">R1</a></span> ++ <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> :: <span class="id"><a href="Localize.html#R2">R2</a></span>)) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> (<span class="id"><a href="Localize.html#leftout">leftout</a></span> <span class="id"><a href="Localize.html#D">D</a></span> (<span class="id"><a href="Localize.html#R1">R1</a></span> ++ <span class="id"><a href="Localize.html#R2">R2</a></span>)))%<span class="id">nat</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6603')">Proof.</div>
<div class="proofscript" id="proof6603">
 <span class="tactic">induction</span> <span class="id">R1</span>; <span class="tactic">auto</span>. <span class="tactic">intros</span>. <span class="tactic">simpl</span>. <span class="tactic">destruct</span> <span class="id">a</span> <span class="kwd">as</span> [<span class="id">a</span>|]; <span class="tactic">auto</span>. Qed.</div>
&nbsp;&nbsp;<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="domain_extension">domain_extension</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">BOUND</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>', <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#BOUND">BOUND</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#BOUND">BOUND</a></span> -&gt; <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">b</span>', (<span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#b">b</a></span> &lt;&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>') /\ <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id">b</span>' <span class="id"><a href="Localize.html#BOUND">BOUND</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6604')">Proof.</div>
<div class="proofscript" id="proof6604">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">j</span> <span class="id">B</span> <span class="id">DOMBOUND</span> <span class="id">b</span> <span class="id">BOUND</span> <span class="id">NOTINDOM</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="kwd">forall</span> <span class="id">b</span> <span class="id">ob</span>, <span class="id">j</span> <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="Localize.html#ob">ob</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="Localize.html#ob">ob</a></span> (<span class="id"><a href="Localize.html#range">range</a></span> <span class="id">j</span> <span class="id">B</span>)). <br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">ob</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map">in_map</a></span> <span class="kwd">with</span> (<span class="id">x</span> := <span class="id">b0</span>). <span class="tactic">apply</span> <span class="id"><a href="Localize.html#dom_correct">dom_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">NOTINDOM</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map">in_map</a></span> <span class="kwd">with</span> (<span class="id">x</span> := <span class="id">b</span>). <span class="tactic">apply</span> <span class="id"><a href="Localize.html#dom_correct">dom_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> (<span class="id"><a href="Localize.html#range">range</a></span> <span class="id">j</span> <span class="id">B</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Values.html#block">block</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id">NOTINDOM</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_map">in_map</a></span> <span class="kwd">with</span> (<span class="id">x</span> := <span class="id">b</span>). <span class="tactic">apply</span> <span class="id"><a href="Localize.html#dom_correct">dom_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#in_split">in_split</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">R1</span> [<span class="id">R2</span> <span class="id">RANGE</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> (<span class="id"><a href="Localize.html#leftout">leftout</a></span> (<span class="id"><a href="Localize.html#dom">dom</a></span> <span class="id">B</span>) (<span class="id"><a href="Localize.html#range">range</a></span> <span class="id">j</span> <span class="id">B</span>)) &gt; 0)%<span class="id">nat</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">RANGE</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Localize.html#leftout_length_none">leftout_length_none</a></span>. <span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="Localize.html#leftout_length">leftout_length</a></span> (<span class="id">R1</span> ++ <span class="id">R2</span>) (<span class="id"><a href="Localize.html#dom">dom</a></span> <span class="id">B</span>) (<span class="id"><a href="Localize.html#dom_norep">dom_norep</a></span> <span class="id">B</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> (<span class="id"><a href="Localize.html#dom">dom</a></span> <span class="id">B</span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#length">length</a></span> (<span class="id"><a href="Localize.html#range">range</a></span> <span class="id">j</span> <span class="id">B</span>)). <span class="tactic">unfold</span> <span class="id"><a href="Localize.html#range">range</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map_length">map_length</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H2</span>, <span class="id">RANGE</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#app_length">app_length</a></span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">exists</span> <span class="id">b</span>', <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">b</span>' (<span class="id"><a href="Localize.html#leftout">leftout</a></span> (<span class="id"><a href="Localize.html#dom">dom</a></span> <span class="id">B</span>) (<span class="id"><a href="Localize.html#range">range</a></span> <span class="id">j</span> <span class="id">B</span>))). <span class="tactic">destruct</span> (<span class="id"><a href="Localize.html#leftout">leftout</a></span> (<span class="id"><a href="Localize.html#dom">dom</a></span> <span class="id">B</span>) (<span class="id"><a href="Localize.html#range">range</a></span> <span class="id">j</span> <span class="id">B</span>)); <span class="tactic">simpl</span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H2</span>. <span class="id">exists</span> <span class="id">x</span>. <span class="tactic">apply</span> <span class="id"><a href="Localize.html#leftout_correct">leftout_correct</a></span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="tactic">destruct</span> <span class="id">H2</span>. <span class="tactic">apply</span> <span class="id"><a href="Localize.html#dom_correct">dom_correct</a></span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">intro</span>. <span class="tactic">apply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H4</span>. <span class="id">contradiction</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="inj_extension">inj_extension</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">BOUND</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">DOMRANGE</span>: <span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>', <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#BOUND">BOUND</a></span> /\ <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id">b</span>' <span class="id"><a href="Localize.html#BOUND">BOUND</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INJECTIVE</span>: <span class="kwd">forall</span> <span class="id">b1</span> <span class="id">b2</span> <span class="id">b</span>', <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#b1">b1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt; <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#b2">b2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt; <span class="id"><a href="Localize.html#b1">b1</a></span> = <span class="id"><a href="Localize.html#b2">b2</a></span>),<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">j</span>', <span class="id"><a href="Values.html#inject_incr">inject_incr</a></span> (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id"><a href="Localize.html#j">j</a></span>) (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id">j</span>') /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.inject">Bset.inject</a></span> <span class="id">j</span>' (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#BOUND">BOUND</a></span>) (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#BOUND">BOUND</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6605')">Proof.</div>
<div class="proofscript" id="proof6605">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">REC</span>:<span class="kwd">forall</span> <span class="id">B</span>, <span class="id"><a href="Coqlib.html#Ple">Ple</a></span> <span class="id"><a href="Localize.html#B">B</a></span> <span class="id">BOUND</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">j</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>', <span class="id">j</span>' <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id">BOUND</span> /\ <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id">b</span>' <span class="id">BOUND</span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b1</span> <span class="id">b2</span> <span class="id">b</span>', <span class="id">j</span>' <span class="id"><a href="Localize.html#b1">b1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt; <span class="id">j</span>' <span class="id"><a href="Localize.html#b2">b2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt; <span class="id"><a href="Localize.html#b1">b1</a></span> = <span class="id"><a href="Localize.html#b2">b2</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#B">B</a></span> -&gt; <span class="id">exists</span> <span class="id">b</span>', <span class="id">j</span>' <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>') /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#inject_incr">inject_incr</a></span> (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id">j</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id">j</span>')).<br/>
&nbsp;&nbsp;{ <span class="tactic">intro</span> <span class="id">B</span>. <span class="tactic">pattern</span> <span class="id">B</span>. <span class="tactic">apply</span> <span class="id"><a href="Coqlib.html#positive_Peano_ind">positive_Peano_ind</a></span>.<br/>
&nbsp;base&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="id">exists</span> <span class="id">j</span>. <span class="tactic">do</span> 2 (<span class="tactic">split</span>; [<span class="tactic">auto</span>|]). <span class="tactic">split</span>. <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">b</span>; <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">apply</span> <span class="id"><a href="Values.html#inject_incr_refl">inject_incr_refl</a></span>.<br/>
&nbsp;inductive&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">clear</span> <span class="id">B</span>. <span class="tactic">rename</span> <span class="id">x</span> <span class="id">into</span> <span class="id">B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Coqlib.html#Ple">Ple</a></span> <span class="id">B</span> <span class="id">BOUND</span>). <span class="tactic">eapply</span> <span class="id"><a href="Coqlib.html#Ple_trans">Ple_trans</a></span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">coqlib</span>. <span class="tactic">apply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">clear</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H1</span> <span class="kwd">as</span> (<span class="id">j</span>' &amp; <span class="id">DOMRANGE</span>' &amp; <span class="id">INJECTIVE</span>' &amp; <span class="id">TOTALB</span> &amp; <span class="id">INCR</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">j</span>' <span class="id">B</span>) <span class="id">eqn</span>:<span class="id">HB</span>.<br/>
&nbsp;already&nbsp;in&nbsp;dom&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">j</span>'. <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">split</span>. <span class="tactic">intro</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#peq">peq</a></span> <span class="id">b</span> <span class="id">B</span>). <span class="tactic">intros</span>. <span class="tactic">subst</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="tactic">assert</span> (<span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id">b</span> <span class="id">B</span>). <span class="tactic">apply</span> <span class="id"><a href="Coqlib.html#Plt_succ_inv">Plt_succ_inv</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> <span class="id">H</span>; <span class="tactic">congruence</span>. <span class="tactic">auto</span>. <span class="tactic">auto</span>.<br/>
&nbsp;not&nbsp;in&nbsp;dom&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">exists</span> <span class="id">B</span>', (<span class="kwd">forall</span> <span class="id">b</span>, <span class="id">j</span>' <span class="id"><a href="Localize.html#b">b</a></span> &lt;&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">B</span>') /\ <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id">B</span>' <span class="id">BOUND</span>) <span class="kwd">as</span> [<span class="id">B</span>' [<span class="id">Hfresh</span> <span class="id">Hrange</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Localize.html#domain_extension">domain_extension</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span>; <span class="id">edestruct</span> <span class="id">DOMRANGE</span>'; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.le_succ_l">Pos.le_succ_l</a></span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="kwd">if</span> <span class="id"><a href="Coqlib.html#peq">peq</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id">B</span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">B</span>' <span class="kwd">else</span> <span class="id">j</span>' <span class="id"><a href="Localize.html#b">b</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#peq">peq</a></span>; <span class="tactic">subst</span>; <span class="tactic">auto</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">unfold</span> <span class="id"><a href="Coqlib.html#Plt">Plt</a></span>, <span class="id"><a href="Coqlib.html#Ple">Ple</a></span> <span class="kwd">in</span> *. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.le_succ_l">Pos.le_succ_l</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#peq">peq</a></span> <span class="id">b1</span> <span class="id">B</span>); <span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#peq">peq</a></span> <span class="id">b2</span> <span class="id">B</span>); <span class="tactic">subst</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="tactic">apply</span> <span class="id">Hfresh</span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>. <span class="tactic">apply</span> <span class="id">Hfresh</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">contradiction</span>. <span class="tactic">eapply</span> <span class="id">INJECTIVE</span>'; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="Coqlib.html#Plt_succ_inv">Plt_succ_inv</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">destruct</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#peq">peq</a></span>; <span class="tactic">auto</span>. <span class="tactic">subst</span>. <span class="tactic">apply</span> <span class="id"><a href="Coqlib.html#Plt_ne">Plt_ne</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#peq">peq</a></span>; <span class="tactic">eauto</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Values.html#inject_incr_trans">inject_incr_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id">j</span>'); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">b</span> <span class="id">b</span>' <span class="id">delta</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#peq">peq</a></span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">HB</span>. <span class="tactic">discriminate</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">REC</span> <span class="id">BOUND</span>). <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">coqlib</span>. <span class="tactic">intros</span> (<span class="id">j</span>' &amp; <span class="id">DOMRANGE</span>' &amp; <span class="id">INJECTIVE</span>' &amp; <span class="id">DOMTOTAL</span> &amp; <span class="id">INCR</span>).<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">j</span>'. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>; <span class="tactic">auto</span>. <span class="id">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">edestruct</span> <span class="id">DOMRANGE</span>'; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">RANGE</span>': <span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>', <span class="id">j</span>' <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id">b</span>' <span class="id">BOUND</span>) <span class="tactic">by</span> (<span class="tactic">intros</span>; <span class="id">edestruct</span> <span class="id">DOMRANGE</span>'; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;<span class="id">revert</span> <span class="id">RANGE</span>' <span class="id">INJECTIVE</span>' <span class="id">DOMTOTAL</span>; <span class="tactic">clear</span>. <span class="id">revert</span> <span class="id">j</span>'. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">pattern</span> <span class="id">BOUND</span>. <span class="tactic">apply</span> <span class="id"><a href="Coqlib.html#positive_Peano_ind">positive_Peano_ind</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">b</span>'; <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">clear</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">B</span>; <span class="tactic">intros</span>. <span class="id">exploit</span> <span class="id">DOMTOTAL</span>. <span class="tactic">apply</span> <span class="id"><a href="Coqlib.html#Plt_succ">Plt_succ</a></span>. <span class="tactic">intros</span> [<span class="id">B</span>' <span class="id">HBB</span>'].<br/>
&nbsp;&nbsp;<span class="id">remember</span> (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="kwd">if</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id">B</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="kwd">match</span> <span class="id">j</span>' <span class="id"><a href="Localize.html#b">b</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' =&gt; <span class="kwd">if</span> <span class="id"><a href="Coqlib.html#peq">peq</a></span> <span class="id">b</span>' <span class="id">B</span> <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">B</span>' <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>) <span class="kwd">as</span> <span class="id">aj</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">A1</span>: <span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>', <span class="id">aj</span> <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id">b</span>' <span class="id">B</span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">subst</span>. <span class="tactic">intros</span> <span class="id">b</span> <span class="id">b</span>'0. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>; [|<span class="tactic">discriminate</span>]. <span class="tactic">destruct</span> (<span class="id">j</span>' <span class="id">b</span>) <span class="id">eqn</span>:?; [|<span class="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#peq">peq</a></span>. <span class="tactic">subst</span>. <span class="tactic">intro</span> <span class="id">C</span>. <span class="id">inv</span> <span class="id">C</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#peq">peq</a></span> <span class="id">b</span>'0 <span class="id">B</span>); <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">b</span> = <span class="id">B</span>) <span class="tactic">by</span> (<span class="tactic">eapply</span> <span class="id">INJECTIVE</span>'; <span class="tactic">eauto</span>). <span class="tactic">subst</span>. <span class="tactic">apply</span> <span class="id"><a href="Coqlib.html#Plt_ne">Plt_ne</a></span> <span class="kwd">in</span> <span class="id">p</span>. <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">RANGE</span>', <span class="id"><a href="Coqlib.html#Plt_succ_inv">Plt_succ_inv</a></span> <span class="kwd">in</span> <span class="id">HBB</span>'. <span class="tactic">destruct</span> <span class="id">HBB</span>'; <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">C</span>; <span class="id">inv</span> <span class="id">C</span>.  <span class="tactic">apply</span> <span class="id">RANGE</span>' <span class="kwd">in</span> <span class="id">Heqo</span>. <span class="tactic">apply</span> <span class="id"><a href="Coqlib.html#Plt_succ_inv">Plt_succ_inv</a></span> <span class="kwd">in</span> <span class="id">Heqo</span>. <span class="tactic">destruct</span> <span class="id">Heqo</span>; <span class="tactic">congruence</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">A2</span>: <span class="kwd">forall</span> <span class="id">b1</span> <span class="id">b2</span> <span class="id">b</span>', <span class="id">aj</span> <span class="id"><a href="Localize.html#b1">b1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt; <span class="id">aj</span> <span class="id"><a href="Localize.html#b2">b2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt; <span class="id"><a href="Localize.html#b1">b1</a></span> = <span class="id"><a href="Localize.html#b2">b2</a></span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">intros</span> <span class="id">b1</span> <span class="id">b2</span> <span class="id">b</span>''. <span class="tactic">rewrite</span> <span class="id">Heqaj</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#plt">plt</a></span> <span class="id">b1</span> <span class="id">B</span>);[|<span class="tactic">discriminate</span>].  <span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#plt">plt</a></span> <span class="id">b2</span> <span class="id">B</span>); [|<span class="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">j</span>' <span class="id">b1</span>) <span class="id">eqn</span>:<span class="id">Hb1</span>; [|<span class="tactic">discriminate</span>]. <span class="tactic">destruct</span> (<span class="id">j</span>' <span class="id">b2</span>) <span class="id">eqn</span>:<span class="id">Hb2</span>; [|<span class="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#peq">peq</a></span> <span class="id">p1</span> <span class="id">B</span>); <span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#peq">peq</a></span> <span class="id">p2</span> <span class="id">B</span>); <span class="tactic">subst</span>; <span class="tactic">intros</span> <span class="id">C1</span> <span class="id">C2</span>; <span class="id">inv</span> <span class="id">C1</span>; <span class="id">inv</span> <span class="id">C2</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">INJECTIVE</span>'. <span class="tactic">exact</span> <span class="id">HBB</span>'. <span class="tactic">exact</span> <span class="id">Hb2</span>. <span class="tactic">intro</span>. <span class="tactic">subst</span>. <span class="tactic">apply</span> <span class="id"><a href="Coqlib.html#Plt_ne">Plt_ne</a></span> <span class="kwd">in</span> <span class="id">p0</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">INJECTIVE</span>'. <span class="tactic">exact</span> <span class="id">HBB</span>'. <span class="tactic">exact</span> <span class="id">Hb1</span>. <span class="tactic">intro</span>. <span class="tactic">subst</span>. <span class="tactic">apply</span> <span class="id"><a href="Coqlib.html#Plt_ne">Plt_ne</a></span> <span class="kwd">in</span> <span class="id">p</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">A3</span>: <span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id">B</span> -&gt; <span class="id">exists</span> <span class="id">b</span>', <span class="id">aj</span> <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>').<br/>
&nbsp;&nbsp;{ <span class="tactic">intros</span> <span class="id">b</span> <span class="id">Hb</span>. <span class="tactic">rewrite</span> <span class="id">Heqaj</span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>;[|<span class="id">contradiction</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">DOMTOTAL</span> <span class="id">b</span>). <span class="tactic">apply</span> <span class="id"><a href="Coqlib.html#Plt_trans">Plt_trans</a></span> <span class="kwd">with</span> <span class="id">B</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">coqlib</span>. <span class="tactic">intros</span> [<span class="id">b</span>'' <span class="id">Hb</span>''].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Hb</span>''. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#peq">peq</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">H</span> <span class="id">aj</span> <span class="id">A1</span> <span class="id">A2</span> <span class="id">A3</span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>', <span class="id">aj</span> <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt; <span class="id">j</span>' <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' \/ (<span class="id">j</span>' <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">B</span> /\ <span class="id">j</span>' <span class="id">B</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>')).<br/>
&nbsp;&nbsp;{ <span class="tactic">clear</span> <span class="id">H</span> <span class="id">A1</span> <span class="id">A2</span> <span class="id">A3</span>. <span class="tactic">intros</span>. <span class="tactic">subst</span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>; [|<span class="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id">b</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.succ">Pos.succ</a></span> <span class="id">B</span>)) <span class="tactic">by</span> (<span class="tactic">apply</span> <span class="id"><a href="Coqlib.html#Plt_trans">Plt_trans</a></span> <span class="kwd">with</span> <span class="id">B</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">coqlib</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">j</span>' <span class="id">b</span>) <span class="id">eqn</span>:<span class="id">A</span>; [|<span class="tactic">apply</span> <span class="id">DOMTOTAL</span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="tactic">destruct</span> <span class="id">H1</span>; <span class="tactic">congruence</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#peq">peq</a></span>; <span class="tactic">subst</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">auto</span>. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#peq">peq</a></span> <span class="id">b</span>' <span class="id">B</span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#peq">peq</a></span> <span class="id">B</span>' <span class="id">B</span>). <span class="id">exists</span> <span class="id">B</span>. <span class="tactic">subst</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">exists</span> <span class="id">b0</span>, <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b0">b0</a></span> <span class="id">B</span> /\ <span class="id">j</span>' <span class="id"><a href="Localize.html#b0">b0</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">B</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Classical_Prop.html#NNPP">Classical_Prop.NNPP</a></span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">C</span>:<span class="kwd">forall</span> <span class="id">b</span>, ~ <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id">B</span> \/ <span class="id">j</span>' <span class="id"><a href="Localize.html#b">b</a></span> &lt;&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">B</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#plt">plt</a></span> <span class="id">b</span> <span class="id">B</span>); [<span class="id">right</span>|<span class="id">left</span>; <span class="tactic">auto</span>]. <span class="tactic">intro</span>. <span class="tactic">apply</span> <span class="id">H2</span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">H2</span>. <span class="id">exploit</span> (<span class="id">H</span> <span class="id">B</span>'). <span class="tactic">apply</span> <span class="id">RANGE</span>' <span class="kwd">in</span> <span class="id">HBB</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Coqlib.html#Plt_succ_inv">Plt_succ_inv</a></span> <span class="kwd">in</span> <span class="id">HBB</span>'; <span class="tactic">destruct</span> <span class="id">HBB</span>';[<span class="tactic">auto</span>|<span class="tactic">try</span> <span class="tactic">congruence</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">b0</span> <span class="id">AJ</span>]. <span class="id">pose</span> <span class="id">proof</span> <span class="id">AJ</span> <span class="kwd">as</span> <span class="id">AJ</span>'. <span class="tactic">apply</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">AJ</span>. <span class="tactic">destruct</span> <span class="id">AJ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">INJECTIVE</span>'. <span class="tactic">exact</span> <span class="id">HBB</span>'. <span class="tactic">exact</span> <span class="id">H2</span>. <span class="tactic">intro</span>. <span class="tactic">subst</span> <span class="id">b0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">aj</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#plt">plt</a></span> <span class="id">B</span> <span class="id">B</span>). <span class="tactic">eapply</span> <span class="id"><a href="Coqlib.html#Plt_ne">Plt_ne</a></span>; <span class="tactic">eauto</span>. <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">C</span> <span class="id">b0</span>). <span class="tactic">destruct</span> <span class="id">C</span> <span class="kwd">as</span> [<span class="id">C</span> | <span class="id">C</span>]. <span class="tactic">apply</span> <span class="id">C</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">aj</span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>; <span class="tactic">auto</span>; <span class="tactic">discriminate</span>. <span class="tactic">destruct</span> <span class="id">H2</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H2</span> <span class="kwd">as</span> [? [<span class="id">_</span> ?]]. <span class="tactic">subst</span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Coqlib.html#Plt_succ_inv">Plt_succ_inv</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">destruct</span> <span class="id">H0</span>;[|<span class="tactic">congruence</span>]. <span class="tactic">apply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">destruct</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">destruct</span> <span class="id">H0</span> <span class="kwd">as</span> [<span class="id">H0</span>| [<span class="id">_</span> <span class="id">H0</span>]]; <span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">edestruct</span> <span class="id">DOMRANGE</span>'; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<br/>
<div class="doc">relate GMem and Mem </div>
<div class="doc">Mem --<span class="bracket"><span class="id">j</span>, <span class="id">bound</span>, <span class="id">fl</span></span>--&gt; GMem </div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="construct_inj">construct_inj</a></span> (<span class="id">j</span>: <span class="id"><a href="Blockset.html#Bset.inj">Bset.inj</a></span>) (<span class="id">bound</span>: <span class="id"><a href="Values.html#block">block</a></span>) (<span class="id">fl</span>: <span class="id"><a href="MemAux.html#freelist">freelist</a></span>) : <span class="id"><a href="Blockset.html#Bset.inj">Bset.inj</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> <span class="id">b</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">then</span> <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#b">b</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="MemAux.html#get_block">get_block</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> ((<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.to_nat">Pos.to_nat</a></span> <span class="id"><a href="Localize.html#b">b</a></span>) - (<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.to_nat">Pos.to_nat</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span>))%<span class="id">nat</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="construct_inj_total">construct_inj_total</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">bound</span> <span class="id">fl</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.inject">Bset.inject</a></span> <span class="id"><a href="Localize.html#j">j</a></span> (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span>) (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span>, <span class="id">exists</span> <span class="id">b</span>', <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6606')">Proof.</div>
<div class="proofscript" id="proof6606">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>. <span class="id">exploit</span> <span class="id"><a href="Blockset.html#Bset.inj_dom">Bset.inj_dom</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="construct_inj_injective">construct_inj_injective</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">bound</span> <span class="id">fl</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemAux.html#norep">norep</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemAux.html#no_overlap">no_overlap</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.inject">Bset.inject</a></span> <span class="id"><a href="Localize.html#j">j</a></span> (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span>) (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.inj_inject">Bset.inj_inject</a></span> (<span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6607')">Proof.</div>
<div class="proofscript" id="proof6607">
&nbsp;&nbsp;<span class="tactic">clear</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">b1</span> <span class="id">b2</span> <span class="id">b</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>; <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>; <span class="tactic">intros</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>. <span class="id">inv</span> <span class="id">inj_weak</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H3</span>. <span class="id">exploit</span> <span class="id">H0</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id">Bset.inj_range</span>' <span class="kwd">in</span> <span class="id">H2</span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">H1</span>; <span class="tactic">eauto</span>. <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H2</span>. <span class="id">exploit</span> <span class="id">H0</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id">Bset.inj_range</span>' <span class="kwd">in</span> <span class="id">H3</span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">H1</span>; <span class="tactic">eauto</span>. <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H3</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#peq">peq</a></span> <span class="id">b1</span> <span class="id">b2</span>); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="MemAux.html#get_block">get_block</a></span> <span class="kwd">in</span> <span class="id">H4</span>. <span class="id">exfalso</span>; <span class="tactic">eapply</span> <span class="id">H2</span>. 2: <span class="tactic">eauto</span>. <span class="id">xomega</span>.<br/>
Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="construct_inj_incr">construct_inj_incr</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">bound</span> <span class="id">fl</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>', <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#inject_incr">inject_incr</a></span> (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id"><a href="Localize.html#j">j</a></span>) (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> (<span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6608')">Proof.</div>
<div class="proofscript" id="proof6608">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span>. <span class="tactic">intros</span> <span class="id">b</span> <span class="id">b</span>' <span class="id">delta</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>. <span class="tactic">destruct</span> (<span class="id">j</span> <span class="id">b</span>) <span class="id">eqn</span>:?;[|<span class="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">Heqo</span>. <span class="tactic">intro</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>; <span class="tactic">auto</span>. <span class="id">contradiction</span>.<br/>
Qed.</div>
<br/>
<div class="doc">construct access </div>
<span class="kwd">Definition</span> <span class="id"><a name="inject_access">inject_access</a></span> (<span class="id">j</span>: <span class="id"><a href="Blockset.html#Bset.inj">Bset.inj</a></span>) (<span class="id">bound</span>: <span class="id"><a href="Values.html#block">block</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">original_access</span>: <span class="id"><a href="Maps.html#PMap.t">PMap.t</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> -&gt; <span class="id"><a href="Memtype.html#perm_kind">perm_kind</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Memtype.html#permission">permission</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">update_access</span>: <span class="id"><a href="Maps.html#PMap.t">PMap.t</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> -&gt; <span class="id"><a href="Memperm.html#perm_kind">Memperm.perm_kind</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Memperm.html#permission">Memperm.permission</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">b</span> : <span class="id"><a href="Values.html#block">block</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> -&gt; <span class="id"><a href="Memtype.html#perm_kind">perm_kind</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Memtype.html#permission">permission</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">if</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span> <span class="kwd">then</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">fun</span> <span class="id">z</span> <span class="id">K</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Coqlib.html#option_map">option_map</a></span> <span class="id">permission_convert</span>' (<span class="id"><a href="Localize.html#update_access">update_access</a></span>!!<span class="id">b</span>' <span class="id"><a href="Localize.html#z">z</a></span> (<span class="id"><a href="FMemPerm.html#perm_kind_convert">perm_kind_convert</a></span> <span class="id"><a href="Localize.html#K">K</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#original_access">original_access</a></span>!!<span class="id"><a href="Localize.html#b">b</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;<span class="kwd">else</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#original_access">original_access</a></span> !! <span class="id"><a href="Localize.html#b">b</a></span>. <br/>
<br/>
<span class="kwd">Program</span> <span class="kwd">Definition</span> <span class="id"><a name="inject_access_c">inject_access_c</a></span> (<span class="id">j</span> <span class="id">j</span>': <span class="id"><a href="Blockset.html#Bset.inj">Bset.inj</a></span>) (<span class="id">bound</span>: <span class="id"><a href="Values.html#block">block</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">original_access</span>: <span class="id"><a href="Maps.html#PMap.t">PMap.t</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> -&gt; <span class="id"><a href="Memtype.html#perm_kind">perm_kind</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Memtype.html#permission">permission</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">update_access</span>: <span class="id"><a href="Maps.html#PMap.t">PMap.t</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Numbers.BinNums.html#Z">Z</a></span> -&gt; <span class="id"><a href="Memperm.html#perm_kind">Memperm.perm_kind</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Memperm.html#permission">Memperm.permission</a></span>)) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="FiniteMaps.html#pmap_construct_c">pmap_construct_c</a></span> <span class="id">_</span> (<span class="id"><a href="Localize.html#inject_access">inject_access</a></span> <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span> <span class="id"><a href="Localize.html#original_access">original_access</a></span> <span class="id"><a href="Localize.html#update_access">update_access</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.max">Pos.max</a></span> (<span class="id"><a href="FiniteMaps.html#pmap_finite_c">pmap_finite_c</a></span> <span class="id">_</span> <span class="id"><a href="Localize.html#original_access">original_access</a></span>) <span class="id"><a href="Localize.html#bound">bound</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="Localize.html#original_access">original_access</a></span>) <span class="id">_</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6609')">Next Obligation.</div>
<div class="proofscript" id="proof6609">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Localize.html#inject_access">inject_access</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>; [|<span class="id">exploit</span> <span class="id"><a href="FiniteMaps.html#pmap_finite_sound_c">pmap_finite_sound_c</a></span>; <span class="tactic">eauto</span>]; <span class="id">xomega</span>.<br/>
Qed.</div>
<br/>
<br/>
<br/>
<span class="kwd">Record</span> <span class="id"><a name="mem_related">mem_related</a></span> (<span class="id">j</span>: <span class="id"><a href="Blockset.html#Bset.inj">Bset.inj</a></span>) (<span class="id">bound</span>: <span class="id"><a href="Values.html#block">block</a></span>) (<span class="id">fl</span>: <span class="id"><a href="MemAux.html#freelist">freelist</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">gm</span>: <span class="id"><a href="GMemory.html#gmem">gmem</a></span>) (<span class="id">m</span>: <span class="id"><a href="Memory.html#mem">mem</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="mem_related_inj_j">mem_related_inj_j</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.inject">Bset.inject</a></span> <span class="id"><a href="Localize.html#j">j</a></span> (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span>) (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="mem_related_freelist_disjoint">mem_related_freelist_disjoint</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span>, ~ <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> (<span class="id"><a href="MemAux.html#get_block">get_block</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#n">n</a></span>) <span class="id"><a href="Localize.html#bound">bound</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="mem_related_valid_block">mem_related_valid_block</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id"><a href="Localize.html#m">m</a></span> <span class="id"><a href="Localize.html#b">b</a></span> &lt;-&gt; <span class="id"><a href="GMemory.html#GMem.valid_block">GMem.valid_block</a></span> <span class="id"><a href="Localize.html#gm">gm</a></span> <span class="id">b</span>';<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="mem_related_shared_valid_local">mem_related_shared_valid_local</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id"><a href="Localize.html#m">m</a></span> <span class="id"><a href="Localize.html#b">b</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="mem_related_shared_valid_global">mem_related_shared_valid_global</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span> -&gt; <span class="id"><a href="GMemory.html#GMem.valid_block">GMem.valid_block</a></span> <span class="id"><a href="Localize.html#gm">gm</a></span> <span class="id"><a href="Localize.html#b">b</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="mem_related_mem_perm_eq">mem_related_mem_perm_eq</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>' <span class="id">ofs</span> <span class="id">K</span> <span class="id">K</span>' <span class="id">P</span> <span class="id">P</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemPerm.html#eq_perm_kind">eq_perm_kind</a></span> <span class="id">K</span>' <span class="id"><a href="Localize.html#K">K</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemPerm.html#eq_permission">eq_permission</a></span> <span class="id">P</span>' <span class="id"><a href="Localize.html#P">P</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span> <span class="id"><a href="Localize.html#gm">gm</a></span> <span class="id">b</span>' <span class="id"><a href="Localize.html#ofs">ofs</a></span> <span class="id">K</span>' <span class="id">P</span>' &lt;-&gt; <span class="id"><a href="Memory.html#Mem.perm">Mem.perm</a></span> <span class="id"><a href="Localize.html#m">m</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#ofs">ofs</a></span> <span class="id"><a href="Localize.html#K">K</a></span> <span class="id"><a href="Localize.html#P">P</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="mem_related_mem_val_inject">mem_related_mem_val_inject</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>' <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.perm">Mem.perm</a></span> <span class="id"><a href="Localize.html#m">m</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#ofs">ofs</a></span> <span class="id"><a href="Memtype.html#Max">Max</a></span> <span class="id"><a href="Memtype.html#Readable">Readable</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemInterpolant.html#memval_inject_strict">memval_inject_strict</a></span> (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> (<span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Maps.html#ZMap.get">Maps.ZMap.get</a></span> <span class="id"><a href="Localize.html#ofs">ofs</a></span> (<span class="id"><a href="Maps.html#PMap.get">Maps.PMap.get</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Memory.html#Mem.mem_contents">Mem.mem_contents</a></span> <span class="id"><a href="Localize.html#m">m</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Maps.html#ZMap.get">Maps.ZMap.get</a></span> <span class="id"><a href="Localize.html#ofs">ofs</a></span> (<span class="id"><a href="Maps.html#PMap.get">Maps.PMap.get</a></span> <span class="id">b</span>' (<span class="id"><a href="GMemory.html#GMem.mem_contents">GMem.mem_contents</a></span> <span class="id"><a href="Localize.html#gm">gm</a></span>)));<br/>
&nbsp;&nbsp;}.<br/>
<br/>
<span class="kwd">Ltac</span> <span class="id">constr_inj_total</span> <span class="id">b</span> <span class="id">fl</span> <span class="id">MEMREL</span> :=<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Localize.html#construct_inj_total">construct_inj_total</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">fl</span> (<span class="id"><a href="Localize.html#mem_related_inj_j">mem_related_inj_j</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">MEMREL</span>)); <span class="tactic">eauto</span>;<br/>
&nbsp;&nbsp;<span class="tactic">try</span> (<span class="id">inv</span> <span class="id">MEMREL</span>; <span class="tactic">eauto</span>; <span class="tactic">fail</span>);<br/>
&nbsp;&nbsp;<span class="id">instantiate</span> (1:=<span class="id">b</span>);<br/>
&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">b</span>' := <span class="tactic">fresh</span> <span class="id">b</span> <span class="kwd">in</span><br/>
&nbsp;&nbsp;<span class="tactic">intros</span> (<span class="id">b</span>' &amp; <span class="id">INJb</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mem_related_inj_dom_1">mem_related_inj_dom_1</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">bound</span> <span class="id">fl</span> <span class="id">gm</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#gm">gm</a></span> <span class="id"><a href="Localize.html#m">m</a></span>-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span> -&gt; <span class="id">exists</span> <span class="id">b</span>', <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' /\ <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id">b</span>' <span class="id"><a href="Localize.html#bound">bound</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6610')">Proof.</div>
<div class="proofscript" id="proof6610">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">exploit</span> <span class="id"><a href="Localize.html#mem_related_inj_j">mem_related_inj_j</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>. <span class="id">exploit</span> <span class="id">inj_dom</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">b</span>' <span class="id">Jb</span>].<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">b</span>'. <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="id">exploit</span> <span class="id">Bset.inj_range</span>'; <span class="tactic">eauto</span>.<br/>
Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mem_related_inj_dom_2">mem_related_inj_dom_2</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">bound</span> <span class="id">fl</span> <span class="id">gm</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#gm">gm</a></span> <span class="id"><a href="Localize.html#m">m</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>', <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6611')">Proof.</div>
<div class="proofscript" id="proof6611">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">exploit</span> <span class="id"><a href="Localize.html#mem_related_inj_j">mem_related_inj_j</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>. <span class="id">exploit</span> <span class="id">Bset.inj_dom</span>'; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mem_related_inj_range_1">mem_related_inj_range_1</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">bound</span> <span class="id">fl</span> <span class="id">gm</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#gm">gm</a></span> <span class="id"><a href="Localize.html#m">m</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span>', <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id">b</span>' <span class="id"><a href="Localize.html#bound">bound</a></span> -&gt; <span class="id">exists</span> <span class="id">b</span>, <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' /\ <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6612')">Proof.</div>
<div class="proofscript" id="proof6612">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">exploit</span> <span class="id"><a href="Localize.html#mem_related_inj_j">mem_related_inj_j</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>. <span class="id">exploit</span> <span class="id"><a href="Blockset.html#Bset.inj_range">Bset.inj_range</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">b</span> <span class="id">Jb</span>].<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">b</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="id">exploit</span> <span class="id">Bset.inj_dom</span>'; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span>  <span class="id"><a name="mem_related_inj_range_2">mem_related_inj_range_2</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">bound</span> <span class="id">fl</span> <span class="id">gm</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#gm">gm</a></span> <span class="id"><a href="Localize.html#m">m</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>', <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id">b</span>' <span class="id"><a href="Localize.html#bound">bound</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6613')">Proof.</div>
<div class="proofscript" id="proof6613">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">exploit</span> <span class="id"><a href="Localize.html#mem_related_inj_j">mem_related_inj_j</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>. <span class="id">exploit</span> <span class="id">Bset.inj_range</span>'; <span class="tactic">eauto</span>.<br/>
Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mem_related_inj_injective">mem_related_inj_injective</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">bound</span> <span class="id">fl</span> <span class="id">gm</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#gm">gm</a></span> <span class="id"><a href="Localize.html#m">m</a></span> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.inj_inject">Bset.inj_inject</a></span> <span class="id"><a href="Localize.html#j">j</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6614')">Proof.</div>
<div class="proofscript" id="proof6614">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">exploit</span> <span class="id"><a href="Localize.html#mem_related_inj_j">mem_related_inj_j</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_inject">Bset.inj_inject</a></span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">inj_weak</span>. <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mem_related_inj_construct_inj">mem_related_inj_construct_inj</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">bound</span> <span class="id">fl</span> <span class="id">m</span> <span class="id">m</span>' <span class="id">b</span> <span class="id">b</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#m">m</a></span> <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6615')">Proof.</div>
<div class="proofscript" id="proof6615">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span>; <span class="tactic">intros</span>; <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>; <span class="tactic">auto</span>. <span class="id">exfalso</span>; <span class="tactic">apply</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">mem_related_inj_j0</span>. <span class="id">inv</span> <span class="id">inj_weak</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> <span class="kwd">in</span> *; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="construct_inj_compat_1">construct_inj_compat_1</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">bound</span> <span class="id">fl</span> <span class="id">b</span> <span class="id">b</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b1</span> <span class="id">b2</span>, <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#b1">b1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Localize.html#b2">b2</a></span> -&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b1">b1</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6616')">Proof.</div>
<div class="proofscript" id="proof6616">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exfalso</span>. <span class="tactic">apply</span> <span class="id">n</span>. <span class="tactic">eapply</span> <span class="id">H0</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mem_related_mem_val_shared">mem_related_mem_val_shared</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">bound</span> <span class="id">fl</span> <span class="id">gm</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#gm">gm</a></span> <span class="id"><a href="Localize.html#m">m</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>' <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.perm">Mem.perm</a></span> <span class="id"><a href="Localize.html#m">m</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#ofs">ofs</a></span> <span class="id"><a href="Memtype.html#Max">Max</a></span> <span class="id"><a href="Memtype.html#Readable">Readable</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemInterpolant.html#memval_inject_strict">memval_inject_strict</a></span> (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> (<span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Maps.html#ZMap.get">Maps.ZMap.get</a></span> <span class="id"><a href="Localize.html#ofs">ofs</a></span> (<span class="id"><a href="Maps.html#PMap.get">Maps.PMap.get</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Memory.html#Mem.mem_contents">Mem.mem_contents</a></span> <span class="id"><a href="Localize.html#m">m</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Maps.html#ZMap.get">Maps.ZMap.get</a></span> <span class="id"><a href="Localize.html#ofs">ofs</a></span> (<span class="id"><a href="Maps.html#PMap.get">Maps.PMap.get</a></span> <span class="id">b</span>' (<span class="id"><a href="GMemory.html#GMem.mem_contents">GMem.mem_contents</a></span> <span class="id"><a href="Localize.html#gm">gm</a></span>))).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6617')">Proof.</div>
<div class="proofscript" id="proof6617">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="Localize.html#construct_inj_compat_1">construct_inj_compat_1</a></span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Localize.html#mem_related_mem_val_inject">mem_related_mem_val_inject</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Localize.html#mem_related_inj_dom_2">mem_related_inj_dom_2</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mem_related_unchg_freelist_unchg_local">mem_related_unchg_freelist_unchg_local</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">bound</span> <span class="id">fl</span> <span class="id">gm</span> <span class="id">m</span> <span class="id">gm</span>' <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemAux.html#norep">norep</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemAux.html#no_overlap">no_overlap</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#gm">gm</a></span> <span class="id"><a href="Localize.html#m">m</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemAux.html#unchg_freelist">unchg_freelist</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#gm">gm</a></span> <span class="id">gm</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id">gm</span>' <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs_local.html#LDefs.unchg_local">LDefs.unchg_local</a></span> (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span>) <span class="id"><a href="Localize.html#m">m</a></span> <span class="id">m</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6618')">Proof.</div>
<div class="proofscript" id="proof6618">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">j</span> <span class="id">bound</span> <span class="id">fl</span> <span class="id">gm</span> <span class="id">m</span> <span class="id">gm</span>' <span class="id">m</span>' <span class="id">NOREP</span> <span class="id">NOOVERLAP</span> <span class="id">H</span> <span class="id">H0</span> <span class="id">H1</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">constructor</span>.<br/>
&nbsp;valid&nbsp;*)</span>&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id">m</span> <span class="id"><a href="Localize.html#b">b</a></span> &lt;-&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id">m</span>' <span class="id"><a href="Localize.html#b">b</a></span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">intros</span> <span class="id">b</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#plt">plt</a></span> <span class="id">b</span> <span class="id">bound</span>).<br/>
&nbsp;shared&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Localize.html#mem_related_shared_valid_local">mem_related_shared_valid_local</a></span>; <span class="tactic">eauto</span>. <span class="tactic">clear</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Localize.html#mem_related_shared_valid_local">mem_related_shared_valid_local</a></span>; <span class="tactic">eauto</span>. <span class="tactic">clear</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">tauto</span>.<br/>
&nbsp;in&nbsp;freelist&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constr_inj_total</span> <span class="id">b</span> <span class="id">fl</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Localize.html#mem_related_valid_block">mem_related_valid_block</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Localize.html#mem_related_valid_block">mem_related_valid_block</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">unchanged_on_validity</span>; <span class="tactic">eauto</span>. <span class="tactic">exact</span> 0.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="kwd">in</span> <span class="id">INJb</span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>; [<span class="id">xomega</span>|]. <span class="id">inv</span> <span class="id">INJb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="MemAux.html#in_fl">in_fl</a></span>, <span class="id"><a href="MemAux.html#get_block">get_block</a></span>. <span class="id">eexists</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="MemInterpolant.html#eq_valid_eq_nextblock">eq_valid_eq_nextblock</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span>. <span class="tactic">rewrite</span> <span class="id">H2</span>. <span class="id">xomega</span>.<br/>
&nbsp;perm&nbsp;eq&nbsp;*)</span>&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">constr_inj_total</span> <span class="id">b</span> <span class="id">fl</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">do</span> 2 (<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Localize.html#mem_related_mem_perm_eq">mem_related_mem_perm_eq</a></span>; <span class="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id"><a href="FMemPerm.html#perm_kind_convert_eq">perm_kind_convert_eq</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id"><a href="FMemPerm.html#permission_convert_eq">permission_convert_eq</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">unchanged_on_perm</span>. <span class="tactic">unfold</span> <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="kwd">in</span> <span class="id">INJb</span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>;[<span class="id">xomega</span>|]. <span class="id">inv</span> <span class="id">INJb</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="MemAux.html#in_fl">in_fl</a></span>, <span class="id"><a href="MemAux.html#get_block">get_block</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Localize.html#mem_related_valid_block">mem_related_valid_block</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;content&nbsp;eq&nbsp;*)</span>&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">constr_inj_total</span> <span class="id">b</span> <span class="id">fl</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="MemAux.html#in_fl">in_fl</a></span> <span class="id">fl</span> <span class="id">b0</span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="kwd">in</span> <span class="id">INJb</span>; <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>; [<span class="id">xomega</span>|<span class="id">inv</span> <span class="id">INJb</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="MemAux.html#in_fl">in_fl</a></span>, <span class="id"><a href="MemAux.html#get_block">get_block</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">memval_eq_inject_strict_eq</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Localize.html#construct_inj_injective">construct_inj_injective</a></span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Localize.html#mem_related_mem_val_inject">mem_related_mem_val_inject</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Localize.html#mem_related_mem_perm_eq">mem_related_mem_perm_eq</a></span>; <span class="tactic">eauto</span>; <span class="tactic">try</span> (<span class="id">econstructor</span>; <span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">unchanged_on_perm</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Localize.html#mem_related_mem_perm_eq">mem_related_mem_perm_eq</a></span>; <span class="tactic">eauto</span>; <span class="tactic">try</span> (<span class="id">econstructor</span>; <span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Localize.html#mem_related_valid_block">mem_related_valid_block</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.perm_valid_block">Mem.perm_valid_block</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">unchanged_on_contents</span>. <span class="tactic">clear</span> <span class="id">H1</span>. <span class="id">exploit</span> <span class="id"><a href="Localize.html#mem_related_mem_val_inject">mem_related_mem_val_inject</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Localize.html#mem_related_mem_perm_eq">mem_related_mem_perm_eq</a></span>; <span class="tactic">eauto</span>; <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mem_related_reach_closed">mem_related_reach_closed</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">m</span>' <span class="id">j</span> <span class="id">bound</span> <span class="id">fl</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#m">m</a></span> <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemClosures.html#reach_closed">MemClosures.reach_closed</a></span> <span class="id"><a href="Localize.html#m">m</a></span> (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span>) &lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemClosures_local.html#reach_closed">MemClosures_local.reach_closed</a></span> <span class="id">m</span>' (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6619')">Proof.</div>
<div class="proofscript" id="proof6619">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">split</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">H0</span> <span class="kwd">as</span> [<span class="id">RC</span> <span class="id">UNDEF</span> <span class="id">VUNDEF</span>]; <span class="id">constructor</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">clear</span> <span class="id">UNDEF</span> <span class="id">VUNDEF</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">induction</span> <span class="id">H1</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Localize.html#mem_related_inj_dom_1">mem_related_inj_dom_1</a></span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">b</span>'0 [<span class="id">INJ0</span> <span class="id">CLOSED0</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Localize.html#mem_related_mem_val_shared">mem_related_mem_val_shared</a></span>); <span class="tactic">eauto</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">VAL_INJ0</span>. <span class="id">inv</span> <span class="id">VAL_INJ0</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v1</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>. <span class="id">inv</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H2</span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="id">inv</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">MemClosures.reach</span>' <span class="id">m</span> (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id">bound</span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id">b</span>'0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">econstructor</span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="MemClosures.html#reachable">MemClosures.reachable</a></span> <span class="id">m</span> (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id">bound</span>) <span class="id">b2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">econstructor</span>. <span class="tactic">eapply</span> <span class="id"><a href="MemClosures.html#reach_cons">MemClosures.reach_cons</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="Localize.html#mem_related_mem_perm_eq">mem_related_mem_perm_eq</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="Localize.html#construct_inj_compat_1">construct_inj_compat_1</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Localize.html#mem_related_inj_dom_2">mem_related_inj_dom_2</a></span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>. <span class="id">constructor</span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Localize.html#mem_related_inj_range_1">mem_related_inj_range_1</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">b_0</span> [<span class="id">INJ2</span> <span class="id">CLOSED2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>, <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="kwd">in</span> <span class="id">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span> <span class="kwd">in</span> <span class="id">H8</span>. <span class="tactic">auto</span>. <span class="id">inv</span> <span class="id">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Localize.html#mem_related_freelist_disjoint">mem_related_freelist_disjoint</a></span>; <span class="tactic">eauto</span>. <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">clear</span> <span class="id">RC</span> <span class="id">VUNDEF</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Blockset.html#Bset.inj_dom">Bset.inj_dom</a></span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> (<span class="id">b0</span> &amp; <span class="id">INJ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Localize.html#construct_inj_compat_1">construct_inj_compat_1</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Bset.inj_dom</span>' <span class="kwd">in</span> <span class="id">H3</span>;[|<span class="tactic">apply</span> <span class="id"><a href="Localize.html#mem_related_inj_j">mem_related_inj_j</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">eauto</span>]. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">instantiate</span> (1:= <span class="id">fl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="id">exploit</span> (<span class="id"><a href="Localize.html#mem_related_mem_val_inject">mem_related_mem_val_inject</a></span>); <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">H2</span>. <span class="tactic">intro</span>. <span class="id">inv</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> (<span class="id">UNDEF</span> <span class="id">b0</span>); <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id">Bset.inj_range</span>'; <span class="tactic">try</span> <span class="tactic">exact</span> <span class="id">INJ</span>. <span class="tactic">apply</span> <span class="id"><a href="Localize.html#mem_related_inj_j">mem_related_inj_j</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Localize.html#mem_related_mem_perm_eq">mem_related_mem_perm_eq</a></span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">clear</span> <span class="id">RC</span> <span class="id">UNDEF</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Blockset.html#Bset.inj_dom">Bset.inj_dom</a></span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> (<span class="id">b0</span> &amp; <span class="id">INJ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Localize.html#construct_inj_compat_1">construct_inj_compat_1</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Bset.inj_dom</span>' <span class="kwd">in</span> <span class="id">H3</span>;[|<span class="tactic">apply</span> <span class="id"><a href="Localize.html#mem_related_inj_j">mem_related_inj_j</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">eauto</span>]. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">instantiate</span> (1:= <span class="id">fl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="id">exploit</span> (<span class="id"><a href="Localize.html#mem_related_mem_val_inject">mem_related_mem_val_inject</a></span>); <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">H2</span>. <span class="tactic">intro</span>. <span class="id">inv</span> <span class="id">H4</span>. <span class="id">inv</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> (<span class="id">VUNDEF</span> <span class="id">b0</span>); <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id">Bset.inj_range</span>'; <span class="tactic">try</span> <span class="tactic">exact</span> <span class="id">INJ</span>. <span class="tactic">apply</span> <span class="id"><a href="Localize.html#mem_related_inj_j">mem_related_inj_j</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Localize.html#mem_related_mem_perm_eq">mem_related_mem_perm_eq</a></span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">destruct</span> <span class="id">H0</span> <span class="kwd">as</span> [<span class="id">RC</span> <span class="id">UNDEF</span> <span class="id">VUNDEF</span>]; <span class="id">constructor</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">clear</span> <span class="id">UNDEF</span> <span class="id">VUNDEF</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">induction</span> <span class="id">H1</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Localize.html#mem_related_inj_range_1">mem_related_inj_range_1</a></span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">b</span>'0 [<span class="id">INJ0</span> <span class="id">CLOSED0</span>']].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Localize.html#mem_related_mem_val_shared">mem_related_mem_val_shared</a></span>); <span class="tactic">eauto</span>.       <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Localize.html#mem_related_mem_perm_eq">mem_related_mem_perm_eq</a></span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>; [<span class="tactic">auto</span>|<span class="id">xomega</span>]. <span class="id">constructor</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">VAL_INJ0</span>. <span class="id">inv</span> <span class="id">VAL_INJ0</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v1</span>; <span class="id">inv</span> <span class="id">H5</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H2</span> <span class="kwd">in</span> <span class="id">H4</span>. <span class="id">inv</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">MemClosures_local.reach</span>' <span class="id">m</span>' (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id">bound</span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id">b</span>'0).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">econstructor</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="MemClosures_local.html#reachable">MemClosures_local.reachable</a></span> <span class="id">m</span>' (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id">bound</span>) <span class="id">b0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">econstructor</span>. <span class="tactic">eapply</span> <span class="id"><a href="MemClosures_local.html#reach_cons">MemClosures_local.reach_cons</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- <span class="id"><a href="Localize.html#mem_related_mem_perm_eq">mem_related_mem_perm_eq</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="Localize.html#construct_inj_compat_1">construct_inj_compat_1</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Localize.html#mem_related_inj_dom_2">mem_related_inj_dom_2</a></span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>. <span class="id">constructor</span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">RC</span> <span class="kwd">in</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Localize.html#mem_related_inj_dom_1">mem_related_inj_dom_1</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">b_0</span> [<span class="id">INJ2</span> <span class="id">CLOSED2</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Localize.html#mem_related_inj_dom_2">mem_related_inj_dom_2</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> <span class="id">CLOSED0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>, <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="kwd">in</span> <span class="id">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span> <span class="kwd">in</span> <span class="id">H8</span>. <span class="tactic">rewrite</span> <span class="id">INJ2</span> <span class="kwd">in</span> <span class="id">H8</span>. <span class="id">inv</span> <span class="id">H8</span>. <span class="tactic">eapply</span> <span class="id"><a href="Localize.html#mem_related_inj_range_2">mem_related_inj_range_2</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">clear</span> <span class="id">RC</span> <span class="id">VUNDEF</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Blockset.html#Bset.inj_range">Bset.inj_range</a></span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">mem_related_inj_j0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> (<span class="id">b0</span> &amp; <span class="id">INJ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Localize.html#construct_inj_compat_1">construct_inj_compat_1</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Bset.inj_dom</span>' <span class="kwd">in</span> <span class="id">H3</span>;[|<span class="tactic">apply</span> <span class="id"><a href="Localize.html#mem_related_inj_j">mem_related_inj_j</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">eauto</span>]. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">instantiate</span> (1:= <span class="id">fl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="tactic">eapply</span> <span class="id"><a href="Localize.html#mem_related_mem_perm_eq">mem_related_mem_perm_eq</a></span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="tactic">eauto</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Localize.html#mem_related_mem_val_inject">mem_related_mem_val_inject</a></span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H2</span>. <span class="tactic">intro</span>. <span class="id">inv</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> (<span class="id">UNDEF</span> <span class="id">b0</span>); <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id">Bset.inj_dom</span>'; <span class="tactic">try</span> <span class="tactic">exact</span> <span class="id">INJ</span>. <span class="tactic">apply</span> <span class="id"><a href="Localize.html#mem_related_inj_j">mem_related_inj_j</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;* <span class="tactic">clear</span> <span class="id">RC</span> <span class="id">UNDEF</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Blockset.html#Bset.inj_range">Bset.inj_range</a></span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">mem_related_inj_j0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> (<span class="id">b0</span> &amp; <span class="id">INJ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Localize.html#construct_inj_compat_1">construct_inj_compat_1</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Bset.inj_dom</span>' <span class="kwd">in</span> <span class="id">H3</span>;[|<span class="tactic">apply</span> <span class="id"><a href="Localize.html#mem_related_inj_j">mem_related_inj_j</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">eauto</span>]. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">instantiate</span> (1:= <span class="id">fl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="tactic">eapply</span> <span class="id"><a href="Localize.html#mem_related_mem_perm_eq">mem_related_mem_perm_eq</a></span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="tactic">eauto</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Localize.html#mem_related_mem_val_inject">mem_related_mem_val_inject</a></span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H2</span>. <span class="tactic">intro</span>. <span class="id">inv</span> <span class="id">H4</span>. <span class="id">inv</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> (<span class="id">VUNDEF</span> <span class="id">b0</span>); <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id">Bset.inj_dom</span>'; <span class="tactic">try</span> <span class="tactic">exact</span> <span class="id">INJ</span>. <span class="tactic">apply</span> <span class="id"><a href="Localize.html#mem_related_inj_j">mem_related_inj_j</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>. <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="arg_related">arg_related</a></span> (<span class="id">j</span>: <span class="id"><a href="Blockset.html#Bset.inj">Bset.inj</a></span>) (<span class="id">v</span> <span class="id">v</span>': <span class="id"><a href="Values.html#val">val</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="MemInterpolant.html#val_inject_strict">val_inject_strict</a></span> (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id"><a href="Localize.html#j">j</a></span>) <span class="id"><a href="Localize.html#v">v</a></span> <span class="id">v</span>'.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="arg_related_G_arg_1">arg_related_G_arg_1</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">bj</span> <span class="id">bs</span> <span class="id">bs</span>' <span class="id">v</span> <span class="id">v</span>' (<span class="id">INJDOM</span>: <span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>', <span class="id"><a href="Localize.html#bj">bj</a></span> <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt; <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> <span class="id"><a href="Localize.html#bs">bs</a></span> <span class="id"><a href="Localize.html#b">b</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs.html#G_arg">G_arg</a></span> <span class="id">bs</span>' <span class="id">v</span>' -&gt; <span class="id"><a href="Localize.html#arg_related">arg_related</a></span> <span class="id"><a href="Localize.html#bj">bj</a></span> <span class="id"><a href="Localize.html#v">v</a></span> <span class="id">v</span>' -&gt; <span class="id"><a href="LDSimDefs.html#G_arg">G_arg</a></span> <span class="id"><a href="Localize.html#bs">bs</a></span> <span class="id"><a href="Localize.html#v">v</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6620')">Proof.</div>
<div class="proofscript" id="proof6620">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H0</span>; <span class="tactic">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">destruct</span> (<span class="id">bj</span> <span class="id">b1</span>) <span class="id">eqn</span>:?; <span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>. <span class="tactic">apply</span> <span class="id">INJDOM</span> <span class="kwd">in</span> <span class="id">Heqo</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="arg_related_G_arg_2">arg_related_G_arg_2</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">bj</span> <span class="id">bs</span> <span class="id">bs</span>' <span class="id">v</span> <span class="id">v</span>' (<span class="id">INJRANGE</span>: <span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>', <span class="id"><a href="Localize.html#bj">bj</a></span> <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt; <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> <span class="id">bs</span>' <span class="id">b</span>'),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs.html#G_arg">G_arg</a></span> <span class="id"><a href="Localize.html#bs">bs</a></span> <span class="id"><a href="Localize.html#v">v</a></span> -&gt; <span class="id"><a href="Localize.html#arg_related">arg_related</a></span> <span class="id"><a href="Localize.html#bj">bj</a></span> <span class="id"><a href="Localize.html#v">v</a></span> <span class="id">v</span>' -&gt; <span class="id"><a href="LDSimDefs.html#G_arg">G_arg</a></span> <span class="id">bs</span>' <span class="id">v</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6621')">Proof.</div>
<div class="proofscript" id="proof6621">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H0</span>; <span class="tactic">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">destruct</span> (<span class="id">bj</span> <span class="id">b1</span>) <span class="id">eqn</span>:?; <span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>. <span class="tactic">apply</span> <span class="id">INJRANGE</span> <span class="kwd">in</span> <span class="id">Heqo</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="oarg_related">oarg_related</a></span>: <span class="id"><a href="Blockset.html#Bset.inj">Bset.inj</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Values.html#val">val</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Values.html#val">val</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">fun</span> <span class="id">bj</span> <span class="id">oarg1</span> <span class="id">oarg2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="Localize.html#oarg1">oarg1</a></span>, <span class="id"><a href="Localize.html#oarg2">oarg2</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">arg1</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">arg2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#arg_related">arg_related</a></span> <span class="id"><a href="Localize.html#bj">bj</a></span> <span class="id">arg1</span> <span class="id">arg2</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="args_related">args_related</a></span> (<span class="id">bj</span>: <span class="id"><a href="Blockset.html#Bset.inj">Bset.inj</a></span>) (<span class="id">vl</span> <span class="id">vl</span>': <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Values.html#val">val</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="Coqlib.html#list_forall2">list_forall2</a></span> (<span class="id"><a href="Localize.html#arg_related">arg_related</a></span> <span class="id"><a href="Localize.html#bj">bj</a></span>) <span class="id"><a href="Localize.html#vl">vl</a></span> <span class="id">vl</span>'.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="args_related_G_args_1">args_related_G_args_1</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">bs</span> <span class="id">bs</span>' <span class="id">args</span> <span class="id">args</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INJDOM</span>: <span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>', <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt; <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> <span class="id"><a href="Localize.html#bs">bs</a></span> <span class="id"><a href="Localize.html#b">b</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs.html#G_args">G_args</a></span> <span class="id">bs</span>' <span class="id">args</span>' -&gt; <span class="id"><a href="Localize.html#args_related">args_related</a></span> <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#args">args</a></span> <span class="id">args</span>' -&gt; <span class="id"><a href="LDSimDefs.html#G_args">G_args</a></span> <span class="id"><a href="Localize.html#bs">bs</a></span> <span class="id"><a href="Localize.html#args">args</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6622')">Proof.</div>
<div class="proofscript" id="proof6622">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">intros</span> <span class="id">until</span> <span class="id">args</span>.<br/>
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">args</span>; <span class="tactic">intros</span>; <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">constructor</span>. <span class="tactic">eapply</span> <span class="id"><a href="Localize.html#arg_related_G_arg_1">arg_related_G_arg_1</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id">IHargs</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="args_related_G_args_2">args_related_G_args_2</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">bs</span> <span class="id">bs</span>' <span class="id">args</span> <span class="id">args</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INJRANGE</span>: <span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>', <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt; <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> <span class="id">bs</span>' <span class="id">b</span>'),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs.html#G_args">G_args</a></span> <span class="id"><a href="Localize.html#bs">bs</a></span> <span class="id"><a href="Localize.html#args">args</a></span> -&gt; <span class="id"><a href="Localize.html#args_related">args_related</a></span> <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#args">args</a></span> <span class="id">args</span>' -&gt; <span class="id"><a href="LDSimDefs.html#G_args">G_args</a></span> <span class="id">bs</span>' <span class="id">args</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6623')">Proof.</div>
<div class="proofscript" id="proof6623">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">intros</span> <span class="id">until</span> <span class="id">args</span>.<br/>
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">args</span>; <span class="tactic">intros</span>; <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">constructor</span>. <span class="tactic">eapply</span> <span class="id"><a href="Localize.html#arg_related_G_arg_2">arg_related_G_arg_2</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id">IHargs</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="Loclocalize">Loclocalize</a></span> (<span class="id">j</span>: <span class="id"><a href="Blockset.html#Bset.inj">Bset.inj</a></span>) (<span class="id">ls</span> <span class="id">ls_local</span>: <span class="id"><a href="Footprint.html#Locs.t">Locs.t</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a name="Loc_localize">Loc_localize</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>', <span class="id">j</span> <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ofs</span>, <span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span> <span class="id">ls</span> <span class="id">b</span>' <span class="id"><a href="Localize.html#ofs">ofs</a></span> &lt;-&gt; <span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span> <span class="id">ls_local</span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#ofs">ofs</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;-&gt; <span class="id"><a href="Localize.html#Loclocalize">Loclocalize</a></span> <span class="id">j</span> <span class="id">ls</span> <span class="id">ls_local</span>.<br/>
<br/>
<span class="kwd">Record</span> <span class="id"><a name="FPlocalize">FPlocalize</a></span> (<span class="id">j</span>: <span class="id"><a href="Blockset.html#Bset.inj">Bset.inj</a></span>) (<span class="id">fp</span> <span class="id">fp_local</span>: <span class="id"><a href="Footprint.html#FP.t">FP.t</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="cmp_localize">cmp_localize</a></span>: <span class="id"><a href="Localize.html#Loclocalize">Loclocalize</a></span> <span class="id"><a href="Localize.html#j">j</a></span> (<span class="id"><a href="Footprint.html#FP.cmps">FP.cmps</a></span> <span class="id"><a href="Localize.html#fp">fp</a></span>) (<span class="id"><a href="Footprint.html#FP.cmps">FP.cmps</a></span> <span class="id"><a href="Localize.html#fp_local">fp_local</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="read_localize">read_localize</a></span>: <span class="id"><a href="Localize.html#Loclocalize">Loclocalize</a></span> <span class="id"><a href="Localize.html#j">j</a></span> (<span class="id"><a href="Footprint.html#FP.reads">FP.reads</a></span> <span class="id"><a href="Localize.html#fp">fp</a></span>) (<span class="id"><a href="Footprint.html#FP.reads">FP.reads</a></span> <span class="id"><a href="Localize.html#fp_local">fp_local</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="write_localize">write_localize</a></span>: <span class="id"><a href="Localize.html#Loclocalize">Loclocalize</a></span> <span class="id"><a href="Localize.html#j">j</a></span> (<span class="id"><a href="Footprint.html#FP.writes">FP.writes</a></span> <span class="id"><a href="Localize.html#fp">fp</a></span>) (<span class="id"><a href="Footprint.html#FP.writes">FP.writes</a></span> <span class="id"><a href="Localize.html#fp_local">fp_local</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="free_localize">free_localize</a></span>: <span class="id"><a href="Localize.html#Loclocalize">Loclocalize</a></span> <span class="id"><a href="Localize.html#j">j</a></span> (<span class="id"><a href="Footprint.html#FP.frees">FP.frees</a></span> <span class="id"><a href="Localize.html#fp">fp</a></span>) (<span class="id"><a href="Footprint.html#FP.frees">FP.frees</a></span> <span class="id"><a href="Localize.html#fp_local">fp_local</a></span>);<br/>
&nbsp;&nbsp;}.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="FPlocalize_emp">FPlocalize_emp</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span>, <span class="id"><a href="Localize.html#FPlocalize">FPlocalize</a></span> <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6624')">Proof.</div>
<div class="proofscript" id="proof6624">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">intro</span>. <span class="id">constructor</span>; <span class="id">constructor</span>; <span class="tactic">intros</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">FPlocalize union </div>
<span class="kwd">Lemma</span> <span class="id"><a name="Loclocalize_union">Loclocalize_union</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">l1</span> <span class="id">l1</span>' <span class="id">l2</span> <span class="id">l2</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#Loclocalize">Loclocalize</a></span> <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#l1">l1</a></span> <span class="id">l1</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#Loclocalize">Loclocalize</a></span> <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#l2">l2</a></span> <span class="id">l2</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#Loclocalize">Loclocalize</a></span> <span class="id"><a href="Localize.html#j">j</a></span> (<span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> <span class="id"><a href="Localize.html#l1">l1</a></span> <span class="id"><a href="Localize.html#l2">l2</a></span>) (<span class="id"><a href="Footprint.html#Locs.union">Locs.union</a></span> <span class="id">l1</span>' <span class="id">l2</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6625')">Proof.</div>
<div class="proofscript" id="proof6625">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H0</span>. <span class="id">constructor</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">H</span> <span class="id">b</span> <span class="id">b</span>' <span class="id">H0</span> <span class="id">ofs</span>). <span class="id">specialize</span> (<span class="id">H1</span> <span class="id">b</span> <span class="id">b</span>' <span class="id">H0</span> <span class="id">ofs</span>).<br/>
&nbsp;&nbsp;<span class="id">Locs.unfolds</span>. <span class="tactic">split</span>; <span class="tactic">intros</span>; <span class="id">red_boolean_true</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="id">red_boolean_true</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="id">red_boolean_true</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="id">red_boolean_true</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H</span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="id">red_boolean_true</span>.<br/>
Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="FPlocalize_union">FPlocalize_union</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">fp1</span> <span class="id">fp2</span> <span class="id">fp1</span>' <span class="id">fp2</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#FPlocalize">FPlocalize</a></span> <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#fp1">fp1</a></span> <span class="id">fp1</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#FPlocalize">FPlocalize</a></span> <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#fp2">fp2</a></span> <span class="id">fp2</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#FPlocalize">FPlocalize</a></span> <span class="id"><a href="Localize.html#j">j</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="Localize.html#fp1">fp1</a></span> <span class="id"><a href="Localize.html#fp2">fp2</a></span>) (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fp1</span>' <span class="id">fp2</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6626')">Proof.</div>
<div class="proofscript" id="proof6626">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H0</span>. <span class="id">constructor</span>; <span class="tactic">simpl</span>; <span class="tactic">apply</span> <span class="id"><a href="Localize.html#Loclocalize_union">Loclocalize_union</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Record</span> <span class="id"><a name="ge_match_strict">ge_match_strict</a></span> {<span class="id">F1</span> <span class="id">V1</span> <span class="id">F2</span> <span class="id">V2</span>: <span class="kwd">Type</span>} (<span class="id">j</span>: <span class="id"><a href="Blockset.html#Bset.inj">Bset.inj</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">sge</span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> (<span class="id"><a href="Localize.html#F1">F1</a></span>) (<span class="id"><a href="Localize.html#V1">V1</a></span>)) (<span class="id">tge</span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> (<span class="id"><a href="Localize.html#F2">F2</a></span>) (<span class="id"><a href="Localize.html#V2">V2</a></span>)) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="ge_match_strict_next">ge_match_strict_next</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id"><a href="Localize.html#sge">sge</a></span> = <span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id"><a href="Localize.html#tge">tge</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="ge_match_strict_dom">ge_match_strict_dom</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span> <span class="id">gd</span>, (<span class="id"><a href="Globalenvs.html#Genv.genv_defs">Genv.genv_defs</a></span> <span class="id"><a href="Localize.html#tge">tge</a></span>) ! <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Localize.html#gd">gd</a></span> -&gt; <span class="id">exists</span> <span class="id">b</span>', <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>') /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span>' <span class="id">gd</span>', (<span class="id"><a href="Globalenvs.html#Genv.genv_defs">Genv.genv_defs</a></span> <span class="id"><a href="Localize.html#sge">sge</a></span>) ! <span class="id">b</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">gd</span>' -&gt; <span class="id">exists</span> <span class="id">b</span>, <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>');<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="ge_match_strict_inj_injective">ge_match_strict_inj_injective</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b1</span> <span class="id">b2</span> <span class="id">b</span>', <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#b1">b1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt; <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#b2">b2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt; <span class="id"><a href="Localize.html#b1">b1</a></span> = <span class="id"><a href="Localize.html#b2">b2</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="ge_match_strict_senv">ge_match_strict_senv</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">id</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs.html#inj_oblock">inj_oblock</a></span> <span class="id"><a href="Localize.html#j">j</a></span> (<span class="id"><a href="Globalenvs.html#Senv.find_symbol">Senv.find_symbol</a></span> <span class="id"><a href="Localize.html#tge">tge</a></span> <span class="id"><a href="Localize.html#id">id</a></span>) (<span class="id"><a href="Globalenvs.html#Senv.find_symbol">Senv.find_symbol</a></span> <span class="id"><a href="Localize.html#sge">sge</a></span> <span class="id"><a href="Localize.html#id">id</a></span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="ge_match_strict_defs">ge_match_strict_defs</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt; <span class="id"><a href="Coqlib.html#option_rel">option_rel</a></span> <span class="id"><a href="LDSimDefs.html#globdef_match">globdef_match</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_defs">Genv.genv_defs</a></span> <span class="id"><a href="Localize.html#sge">sge</a></span>) ! <span class="id">b</span>' (<span class="id"><a href="Globalenvs.html#Genv.genv_defs">Genv.genv_defs</a></span> <span class="id"><a href="Localize.html#tge">tge</a></span>) ! <span class="id"><a href="Localize.html#b">b</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="ge_match_strict_public">ge_match_strict_public</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">id</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="Localize.html#id">id</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_public">Genv.genv_public</a></span> <span class="id"><a href="Localize.html#sge">sge</a></span>) &lt;-&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="Localize.html#id">id</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_public">Genv.genv_public</a></span> <span class="id"><a href="Localize.html#tge">tge</a></span>);<br/>
&nbsp;&nbsp;}.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="inject_incr_bset_inj_incr">inject_incr_bset_inj_incr</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">j</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#inject_incr">inject_incr</a></span> (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id"><a href="Localize.html#j">j</a></span>) (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id">j</span>') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>', <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt; <span class="id">j</span>' <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6627')">Proof.</div>
<div class="proofscript" id="proof6627">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>. <span class="tactic">intros</span>. <span class="id">exploit</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id">H0</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">j</span>' <span class="id">b</span>). <span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H1</span>. <span class="tactic">auto</span>. <span class="tactic">discriminate</span>.<br/>
Qed.</div>
&nbsp;&nbsp;<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ge_match_strict_incr">ge_match_strict_incr</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">j</span>' (<span class="id">INJECTIVE</span>': <span class="kwd">forall</span> <span class="id">b1</span> <span class="id">b2</span> <span class="id">b</span>', <span class="id">j</span>' <span class="id"><a href="Localize.html#b1">b1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt; <span class="id">j</span>' <span class="id"><a href="Localize.html#b2">b2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt; <span class="id"><a href="Localize.html#b1">b1</a></span> = <span class="id"><a href="Localize.html#b2">b2</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#inject_incr">inject_incr</a></span> (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id"><a href="Localize.html#j">j</a></span>) (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id">j</span>') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">F1</span> <span class="id">V1</span> <span class="id">F2</span> <span class="id">V2</span> (<span class="id">sge</span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="Localize.html#F1">F1</a></span> <span class="id"><a href="Localize.html#V1">V1</a></span>) (<span class="id">tge</span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="Localize.html#F2">F2</a></span> <span class="id"><a href="Localize.html#V2">V2</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#ge_match_strict">ge_match_strict</a></span> <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#sge">sge</a></span> <span class="id"><a href="Localize.html#tge">tge</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#ge_match_strict">ge_match_strict</a></span> <span class="id">j</span>' <span class="id"><a href="Localize.html#sge">sge</a></span> <span class="id"><a href="Localize.html#tge">tge</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6628')">Proof.</div>
<div class="proofscript" id="proof6628">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">H0</span> <span class="kwd">as</span> [<span class="id">H1</span> [<span class="id">H2</span> <span class="id">H2</span>'] <span class="id">INJECTIVE</span> <span class="id">H3</span> <span class="id">H4</span>]. <span class="id">constructor</span>; <span class="tactic">auto</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">intros</span> <span class="id">b</span> <span class="id">gd</span> <span class="id">H</span>'; [<span class="id">specialize</span> (<span class="id">H2</span> <span class="id">b</span> <span class="id">gd</span> <span class="id">H</span>')|<span class="id">specialize</span> (<span class="id">H2</span>' <span class="id">b</span> <span class="id">gd</span> <span class="id">H</span>')].<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H2</span>. <span class="id">exists</span> <span class="id">x</span>. <span class="tactic">eapply</span> <span class="id"><a href="Localize.html#inject_incr_bset_inj_incr">inject_incr_bset_inj_incr</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H2</span>'. <span class="id">exists</span> <span class="id">x</span>. <span class="tactic">eapply</span> <span class="id"><a href="Localize.html#inject_incr_bset_inj_incr">inject_incr_bset_inj_incr</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">specialize</span> (<span class="id">H3</span> <span class="id">id</span>). <span class="id">inv</span> <span class="id">H3</span>; <span class="id">constructor</span>. <span class="tactic">eapply</span> <span class="id"><a href="Localize.html#inject_incr_bset_inj_incr">inject_incr_bset_inj_incr</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">specialize</span> (<span class="id">H4</span> <span class="id">b</span> <span class="id">b</span>'). <br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="Globalenvs.html#Genv.genv_defs">Genv.genv_defs</a></span> <span class="id">sge</span>) ! <span class="id">b</span>') <span class="id">eqn</span>:<span class="id">Hb</span>'; <span class="tactic">destruct</span> ((<span class="id"><a href="Globalenvs.html#Genv.genv_defs">Genv.genv_defs</a></span> <span class="id">tge</span>) ! <span class="id">b</span>) <span class="id">eqn</span>:<span class="id">Hb</span>; <span class="tactic">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H2</span>' <span class="kwd">in</span> <span class="id">Hb</span>'. <span class="tactic">destruct</span> <span class="id">Hb</span>'. <span class="id">pose</span> <span class="id">proof</span> <span class="id">H5</span>. <span class="tactic">eapply</span> <span class="id"><a href="Localize.html#inject_incr_bset_inj_incr">inject_incr_bset_inj_incr</a></span> <span class="kwd">in</span> <span class="id">H5</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">INJECTIVE</span>' <span class="id">x</span> <span class="id">b</span>); <span class="tactic">eauto</span>. <span class="tactic">intro</span>; <span class="tactic">subst</span>. <span class="tactic">clear</span> <span class="id">H5</span>. <span class="id">specialize</span> (<span class="id">H4</span> <span class="id">H6</span>). <span class="id">inv</span> <span class="id">H4</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H2</span>' <span class="kwd">in</span> <span class="id">Hb</span>'. <span class="tactic">destruct</span> <span class="id">Hb</span>'. <span class="id">pose</span> <span class="id">proof</span> <span class="id">H5</span>. <span class="tactic">eapply</span> <span class="id"><a href="Localize.html#inject_incr_bset_inj_incr">inject_incr_bset_inj_incr</a></span> <span class="kwd">in</span> <span class="id">H5</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">INJECTIVE</span>' <span class="id">x</span> <span class="id">b</span>); <span class="tactic">eauto</span>. <span class="tactic">intro</span>; <span class="tactic">subst</span>. <span class="tactic">clear</span> <span class="id">H5</span>. <span class="id">specialize</span> (<span class="id">H4</span> <span class="id">H6</span>). <span class="id">inv</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H2</span> <span class="kwd">in</span> <span class="id">Hb</span>. <span class="tactic">destruct</span> <span class="id">Hb</span>. <span class="id">pose</span> <span class="id">proof</span> <span class="id">H5</span>. <span class="tactic">eapply</span> <span class="id"><a href="Localize.html#inject_incr_bset_inj_incr">inject_incr_bset_inj_incr</a></span> <span class="kwd">in</span> <span class="id">H5</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">H5</span>; <span class="id">inv</span> <span class="id">H5</span>. <span class="tactic">apply</span> <span class="id">H4</span> <span class="kwd">in</span> <span class="id">H6</span>. <span class="id">inv</span> <span class="id">H6</span>.<br/>
Qed.</div>
<br/>
<br/>
<br/>
<div class="doc">Localize Mapping </div>
<span class="kwd">Section</span> <span class="id"><a name="LangLocalize">LangLocalize</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Context</span> {<span class="id">L</span>: <span class="id"><a href="InteractionSemantics.html#Language">Language</a></span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">sem</span>: <span class="id"><a href="IS_local.html#sem_local">sem_local</a></span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">bj</span>: <span class="id"><a href="Blockset.html#Bset.inj">Bset.inj</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">ge</span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> (<span class="id"><a href="InteractionSemantics.html#F">InteractionSemantics.F</a></span> <span class="id"><a href="Localize.html#L">L</a></span>) (<span class="id"><a href="InteractionSemantics.html#V">InteractionSemantics.V</a></span> <span class="id"><a href="Localize.html#L">L</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">ge_local</span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> (<span class="id"><a href="IS_local.html#F">F</a></span> <span class="id"><a href="Localize.html#sem">sem</a></span>) (<span class="id"><a href="IS_local.html#V">V</a></span> <span class="id"><a href="Localize.html#sem">sem</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Ge</span>: <span class="id"><a href="InteractionSemantics.html#G">InteractionSemantics.G</a></span> <span class="id"><a href="Localize.html#L">L</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Ge_local</span>: <span class="id"><a href="IS_local.html#G">G</a></span> <span class="id"><a href="Localize.html#sem">sem</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">match_state</span>: <span class="id"><a href="Blockset.html#Bset.inj">Bset.inj</a></span> -&gt; <span class="id"><a href="MemAux.html#freelist">freelist</a></span> -&gt; <span class="id"><a href="InteractionSemantics.html#core">InteractionSemantics.core</a></span> <span class="id"><a href="Localize.html#L">L</a></span> -&gt; <span class="id"><a href="GMemory.html#gmem">gmem</a></span> -&gt; <span class="id"><a href="IS_local.html#core">core</a></span> <span class="id"><a href="Localize.html#sem">sem</a></span> -&gt; <span class="id"><a href="Memory.html#mem">mem</a></span> -&gt; <span class="kwd">Prop</span>)<br/>
&nbsp;&nbsp;.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="Bound">Bound</a></span> := (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id"><a href="Localize.html#LangLocalize.ge">ge</a></span>).<br/>
&nbsp;&nbsp;<span class="kwd">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="Shared">Shared</a></span> := (<span class="kwd">fun</span> <span class="id">b</span>:<span class="id"><a href="Values.html#block">block</a></span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#Bound">Bound</a></span>).<br/>
<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Record</span> <span class="id"><a name="LocalizeSim">LocalizeSim</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="localize_ge">localize_ge</a></span>: <span class="id"><a href="Localize.html#ge_match_strict">ge_match_strict</a></span> <span class="id"><a href="Localize.html#LangLocalize.bj">bj</a></span> <span class="id"><a href="Localize.html#LangLocalize.ge">ge</a></span> <span class="id"><a href="Localize.html#LangLocalize.ge_local">ge_local</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.inject">Bset.inject</a></span> <span class="id"><a href="Localize.html#LangLocalize.bj">bj</a></span> (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id"><a href="Localize.html#LangLocalize.ge_local">ge_local</a></span>)) (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id"><a href="Localize.html#LangLocalize.ge">ge</a></span>));<br/>
<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="localize_freelist_norep">localize_freelist_norep</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fl</span> <span class="id">c</span> <span class="id">m</span> <span class="id">lc</span> <span class="id">lm</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#LangLocalize.match_state">match_state</a></span> <span class="id"><a href="Localize.html#LangLocalize.bj">bj</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#c">c</a></span> <span class="id"><a href="Localize.html#m">m</a></span> <span class="id"><a href="Localize.html#lc">lc</a></span> <span class="id"><a href="Localize.html#lm">lm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemAux.html#norep">norep</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span>;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="localize_freelist_no_overlap">localize_freelist_no_overlap</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fl</span> <span class="id">c</span> <span class="id">m</span> <span class="id">lc</span> <span class="id">lm</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#LangLocalize.match_state">match_state</a></span> <span class="id"><a href="Localize.html#LangLocalize.bj">bj</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#c">c</a></span> <span class="id"><a href="Localize.html#m">m</a></span> <span class="id"><a href="Localize.html#lc">lc</a></span> <span class="id"><a href="Localize.html#lm">lm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemAux.html#no_overlap">no_overlap</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#Shared">Shared</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="localize_mem">localize_mem</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fl</span> <span class="id">c</span> <span class="id">m</span> <span class="id">lc</span> <span class="id">lm</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#LangLocalize.match_state">match_state</a></span> <span class="id"><a href="Localize.html#LangLocalize.bj">bj</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#c">c</a></span> <span class="id"><a href="Localize.html#m">m</a></span> <span class="id"><a href="Localize.html#lc">lc</a></span> <span class="id"><a href="Localize.html#lm">lm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="Localize.html#LangLocalize.bj">bj</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id"><a href="Localize.html#LangLocalize.ge">ge</a></span>) <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#m">m</a></span> <span class="id"><a href="Localize.html#lm">lm</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="localize_init">localize_init</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">id</span> <span class="id">args</span> <span class="id">c</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs.html#G_args">G_args</a></span> <span class="id"><a href="Localize.html#Shared">Shared</a></span> <span class="id"><a href="Localize.html#args">args</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#init_core">init_core</a></span> <span class="id"><a href="Localize.html#LangLocalize.L">L</a></span> <span class="id"><a href="Localize.html#LangLocalize.Ge">Ge</a></span> <span class="id"><a href="Localize.html#id">id</a></span> <span class="id"><a href="Localize.html#args">args</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Localize.html#c">c</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">args_local</span> <span class="id">lc</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#args_related">args_related</a></span> <span class="id"><a href="Localize.html#LangLocalize.bj">bj</a></span> <span class="id"><a href="Localize.html#args_local">args_local</a></span> <span class="id"><a href="Localize.html#args">args</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="IS_local.html#init_core_local">init_core_local</a></span> <span class="id"><a href="Localize.html#LangLocalize.sem">sem</a></span> <span class="id"><a href="Localize.html#LangLocalize.Ge_local">Ge_local</a></span> <span class="id"><a href="Localize.html#id">id</a></span> <span class="id"><a href="Localize.html#args_local">args_local</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Localize.html#lc">lc</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">m</span> <span class="id">fl</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#init_gmem">init_gmem</a></span> <span class="id"><a href="Localize.html#LangLocalize.L">L</a></span> <span class="id"><a href="Localize.html#LangLocalize.ge">ge</a></span> <span class="id"><a href="Localize.html#m">m</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemAux.html#norep">norep</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemAux.html#no_overlap">no_overlap</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> (<span class="id"><a href="MemAux.html#valid_block_bset">valid_block_bset</a></span> <span class="id"><a href="Localize.html#m">m</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemClosures.html#reach_closed">MemClosures.reach_closed</a></span> <span class="id"><a href="Localize.html#m">m</a></span> <span class="id"><a href="Localize.html#Shared">Shared</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">lm</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="IS_local.html#init_mem">init_mem</a></span> <span class="id"><a href="Localize.html#LangLocalize.sem">sem</a></span> <span class="id"><a href="Localize.html#LangLocalize.ge_local">ge_local</a></span> <span class="id"><a href="Localize.html#lm">lm</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="Localize.html#LangLocalize.bj">bj</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id"><a href="Localize.html#LangLocalize.ge">ge</a></span>) <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#m">m</a></span> <span class="id"><a href="Localize.html#lm">lm</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#LangLocalize.match_state">match_state</a></span> <span class="id"><a href="Localize.html#LangLocalize.bj">bj</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#c">c</a></span> <span class="id"><a href="Localize.html#m">m</a></span> <span class="id"><a href="Localize.html#lc">lc</a></span> <span class="id"><a href="Localize.html#lm">lm</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="localize_lockstep">localize_lockstep</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fl</span> <span class="id">c</span> <span class="id">lc</span> <span class="id">m</span> <span class="id">lm</span> <span class="id">fp</span> <span class="id">c</span>' <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#LangLocalize.match_state">match_state</a></span> <span class="id"><a href="Localize.html#LangLocalize.bj">bj</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#c">c</a></span> <span class="id"><a href="Localize.html#m">m</a></span> <span class="id"><a href="Localize.html#lc">lc</a></span> <span class="id"><a href="Localize.html#lm">lm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#step">step</a></span> <span class="id"><a href="Localize.html#LangLocalize.L">L</a></span> <span class="id"><a href="Localize.html#LangLocalize.Ge">Ge</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#c">c</a></span> <span class="id"><a href="Localize.html#m">m</a></span> <span class="id"><a href="Localize.html#fp">fp</a></span> <span class="id">c</span>' <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs.html#fpG">fpG</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#Shared">Shared</a></span> <span class="id"><a href="Localize.html#fp">fp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">lfp</span> <span class="id">lc</span>' <span class="id">lm</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="IS_local.html#step_local">step_local</a></span> <span class="id"><a href="Localize.html#LangLocalize.sem">sem</a></span> <span class="id"><a href="Localize.html#LangLocalize.Ge_local">Ge_local</a></span> <span class="id"><a href="Localize.html#lc">lc</a></span> <span class="id"><a href="Localize.html#lm">lm</a></span> <span class="id"><a href="Localize.html#lfp">lfp</a></span> <span class="id">lc</span>' <span class="id">lm</span>' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#FPlocalize">FPlocalize</a></span> (<span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="id"><a href="Localize.html#LangLocalize.bj">bj</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id"><a href="Localize.html#LangLocalize.ge">ge</a></span>) <span class="id"><a href="Localize.html#fl">fl</a></span>) <span class="id"><a href="Localize.html#fp">fp</a></span> <span class="id"><a href="Localize.html#lfp">lfp</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#LangLocalize.match_state">match_state</a></span> <span class="id"><a href="Localize.html#LangLocalize.bj">bj</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id">c</span>' <span class="id">m</span>' <span class="id">lc</span>' <span class="id">lm</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="localize_at_external">localize_at_external</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fl</span> <span class="id">c</span> <span class="id">lc</span> <span class="id">m</span> <span class="id">lm</span> <span class="id">f</span> <span class="id">sg</span> <span class="id">args</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#LangLocalize.match_state">match_state</a></span> <span class="id"><a href="Localize.html#LangLocalize.bj">bj</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#c">c</a></span> <span class="id"><a href="Localize.html#m">m</a></span> <span class="id"><a href="Localize.html#lc">lc</a></span> <span class="id"><a href="Localize.html#lm">lm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#at_external">at_external</a></span> <span class="id"><a href="Localize.html#LangLocalize.L">L</a></span> <span class="id"><a href="Localize.html#LangLocalize.Ge">Ge</a></span> <span class="id"><a href="Localize.html#c">c</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Localize.html#f">f</a></span>, <span class="id"><a href="Localize.html#sg">sg</a></span>, <span class="id"><a href="Localize.html#args">args</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs.html#G_args">G_args</a></span> <span class="id"><a href="Localize.html#Shared">Shared</a></span> <span class="id"><a href="Localize.html#args">args</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">args_local</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="IS_local.html#at_external_local">at_external_local</a></span> <span class="id"><a href="Localize.html#LangLocalize.sem">sem</a></span> <span class="id"><a href="Localize.html#LangLocalize.Ge_local">Ge_local</a></span> <span class="id"><a href="Localize.html#lc">lc</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Localize.html#f">f</a></span>, <span class="id"><a href="Localize.html#sg">sg</a></span>, <span class="id"><a href="Localize.html#args_local">args_local</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#args_related">args_related</a></span> <span class="id"><a href="Localize.html#LangLocalize.bj">bj</a></span> <span class="id"><a href="Localize.html#args_local">args_local</a></span> <span class="id"><a href="Localize.html#args">args</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="localize_after_external">localize_after_external</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fl</span> <span class="id">c</span> <span class="id">lc</span> <span class="id">m</span> <span class="id">lm</span> <span class="id">ores</span> <span class="id">c</span>' <span class="id">lores</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#LangLocalize.match_state">match_state</a></span> <span class="id"><a href="Localize.html#LangLocalize.bj">bj</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#c">c</a></span> <span class="id"><a href="Localize.html#m">m</a></span> <span class="id"><a href="Localize.html#lc">lc</a></span> <span class="id"><a href="Localize.html#lm">lm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#oarg_related">oarg_related</a></span> <span class="id"><a href="Localize.html#LangLocalize.bj">bj</a></span> <span class="id"><a href="Localize.html#lores">lores</a></span> <span class="id"><a href="Localize.html#ores">ores</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#after_external">after_external</a></span> <span class="id"><a href="Localize.html#LangLocalize.L">L</a></span> <span class="id"><a href="Localize.html#c">c</a></span> <span class="id"><a href="Localize.html#ores">ores</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">c</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">lc</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="IS_local.html#after_external_local">after_external_local</a></span> <span class="id"><a href="Localize.html#LangLocalize.sem">sem</a></span> <span class="id"><a href="Localize.html#lc">lc</a></span> <span class="id"><a href="Localize.html#lores">lores</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">lc</span>' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#LangLocalize.match_state">match_state</a></span> <span class="id"><a href="Localize.html#LangLocalize.bj">bj</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id">c</span>' <span class="id"><a href="Localize.html#m">m</a></span> <span class="id">lc</span>' <span class="id"><a href="Localize.html#lm">lm</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="localize_rely">localize_rely</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fl</span> <span class="id">c</span> <span class="id">lc</span> <span class="id">m</span> <span class="id">lm</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#LangLocalize.match_state">match_state</a></span> <span class="id"><a href="Localize.html#LangLocalize.bj">bj</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#c">c</a></span> <span class="id"><a href="Localize.html#m">m</a></span> <span class="id"><a href="Localize.html#lc">lc</a></span> <span class="id"><a href="Localize.html#lm">lm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">m</span>' <span class="id">lm</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemAux.html#unchg_freelist">unchg_freelist</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#m">m</a></span> <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="Localize.html#LangLocalize.bj">bj</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id"><a href="Localize.html#LangLocalize.ge">ge</a></span>) <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id">m</span>' <span class="id">lm</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#LangLocalize.match_state">match_state</a></span> <span class="id"><a href="Localize.html#LangLocalize.bj">bj</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#c">c</a></span> <span class="id">m</span>' <span class="id"><a href="Localize.html#lc">lc</a></span> <span class="id">lm</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="localize_halt">localize_halt</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fl</span> <span class="id">c</span> <span class="id">lc</span> <span class="id">m</span> <span class="id">lm</span> <span class="id">res</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#LangLocalize.match_state">match_state</a></span> <span class="id"><a href="Localize.html#LangLocalize.bj">bj</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#c">c</a></span> <span class="id"><a href="Localize.html#m">m</a></span> <span class="id"><a href="Localize.html#lc">lc</a></span> <span class="id"><a href="Localize.html#lm">lm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#halt">halt</a></span> <span class="id"><a href="Localize.html#LangLocalize.L">L</a></span> <span class="id"><a href="Localize.html#c">c</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Localize.html#res">res</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs.html#G_arg">G_arg</a></span> <span class="id"><a href="Localize.html#Shared">Shared</a></span> <span class="id"><a href="Localize.html#res">res</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">lres</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="IS_local.html#halt_local">halt_local</a></span> <span class="id"><a href="Localize.html#LangLocalize.sem">sem</a></span> <span class="id"><a href="Localize.html#lc">lc</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Localize.html#lres">lres</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#arg_related">arg_related</a></span> <span class="id"><a href="Localize.html#LangLocalize.bj">bj</a></span> <span class="id"><a href="Localize.html#lres">lres</a></span> <span class="id"><a href="Localize.html#res">res</a></span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="Localize.html#LangLocalize">LangLocalize</a></span>.<br/>
<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="LangLocalize">LangLocalize</a></span> (<span class="id">comp_unit</span>: <span class="kwd">Type</span>) (<span class="id">wdcu</span>: <span class="id"><a href="Localize.html#comp_unit">comp_unit</a></span> -&gt; <span class="kwd">Prop</span>): <span class="id"><a href="InteractionSemantics.html#Language">Language</a></span> -&gt; <span class="id"><a href="IS_local.html#sem_local">sem_local</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a name="LangLocalize_intro">LangLocalize_intro</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">F</span> <span class="id">V</span> <span class="id">G</span> <span class="id">core</span> <span class="id">f1</span> <span class="id">f2</span> <span class="id">f3</span> <span class="id">f4</span> <span class="id">f5</span> <span class="id">f6</span> <span class="id">f7</span> <span class="id">f8</span> <span class="id">f1</span>' <span class="id">f2</span>' <span class="id">f3</span>' <span class="id">f4</span>' <span class="id">f5</span>' <span class="id">f6</span>' <span class="id">f7</span>', <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> (<span class="id">cu</span>: <span class="id">comp_unit</span>) (<span class="id">Hwdcu</span>: <span class="id">wdcu</span> <span class="id"><a href="Localize.html#cu">cu</a></span>) (<span class="id">ge</span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="Localize.html#F">F</a></span> <span class="id"><a href="Localize.html#V">V</a></span>) (<span class="id">Ge</span>: <span class="id"><a href="Localize.html#G">G</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#init_genv">init_genv</a></span> (<span class="id"><a href="InteractionSemantics.html#Build_Language">Build_Language</a></span> <span class="id"><a href="Localize.html#F">F</a></span> <span class="id"><a href="Localize.html#V">V</a></span> <span class="id"><a href="Localize.html#G">G</a></span> <span class="id">comp_unit</span> <span class="id"><a href="Localize.html#core">core</a></span> <span class="id"><a href="Localize.html#f1">f1</a></span> <span class="id"><a href="Localize.html#f2">f2</a></span> <span class="id"><a href="Localize.html#f3">f3</a></span> <span class="id"><a href="Localize.html#f4">f4</a></span> <span class="id"><a href="Localize.html#f5">f5</a></span> <span class="id"><a href="Localize.html#f6">f6</a></span> <span class="id"><a href="Localize.html#f7">f7</a></span> <span class="id"><a href="Localize.html#f8">f8</a></span>) <span class="id"><a href="Localize.html#cu">cu</a></span> <span class="id"><a href="Localize.html#ge">ge</a></span> <span class="id"><a href="Localize.html#Ge">Ge</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">bj_ident</span> <span class="id">ge_local</span> <span class="id">Ge_local</span> <span class="id">match_state</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="IS_local.html#init_genv_local">init_genv_local</a></span> (<span class="id"><a href="IS_local.html#Build_sem_local">Build_sem_local</a></span> <span class="id"><a href="Localize.html#F">F</a></span> <span class="id"><a href="Localize.html#V">V</a></span> <span class="id"><a href="Localize.html#G">G</a></span> <span class="id">comp_unit</span> <span class="id"><a href="Localize.html#core">core</a></span> <span class="id">f1</span>' <span class="id">f2</span>' <span class="id">f3</span>' <span class="id">f4</span>' <span class="id">f5</span>' <span class="id">f6</span>' <span class="id">f7</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#cu">cu</a></span> <span class="id"><a href="Localize.html#ge_local">ge_local</a></span> <span class="id"><a href="Localize.html#Ge_local">Ge_local</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#ge_match_strict">ge_match_strict</a></span> <span class="id"><a href="Localize.html#bj_ident">bj_ident</a></span> <span class="id"><a href="Localize.html#ge">ge</a></span> <span class="id"><a href="Localize.html#ge_local">ge_local</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>', <span class="id"><a href="Localize.html#bj_ident">bj_ident</a></span> <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt; <span class="id">exists</span> <span class="id">gd</span>, <span class="id"><a href="Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="id"><a href="Localize.html#ge_local">ge_local</a></span> <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Localize.html#gd">gd</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">bj</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#inject_incr">inject_incr</a></span> (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id"><a href="Localize.html#bj_ident">bj_ident</a></span>) (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id"><a href="Localize.html#bj">bj</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.inject">Bset.inject</a></span> <span class="id"><a href="Localize.html#bj">bj</a></span> (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id"><a href="Localize.html#ge_local">ge_local</a></span>)) (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id"><a href="Localize.html#ge">ge</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="Localize.html#LocalizeSim">LocalizeSim</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="InteractionSemantics.html#Build_Language">Build_Language</a></span> <span class="id"><a href="Localize.html#F">F</a></span> <span class="id"><a href="Localize.html#V">V</a></span> <span class="id"><a href="Localize.html#G">G</a></span> <span class="id">comp_unit</span> <span class="id"><a href="Localize.html#core">core</a></span> <span class="id"><a href="Localize.html#f1">f1</a></span> <span class="id"><a href="Localize.html#f2">f2</a></span> <span class="id"><a href="Localize.html#f3">f3</a></span> <span class="id"><a href="Localize.html#f4">f4</a></span> <span class="id"><a href="Localize.html#f5">f5</a></span> <span class="id"><a href="Localize.html#f6">f6</a></span> <span class="id"><a href="Localize.html#f7">f7</a></span> <span class="id"><a href="Localize.html#f8">f8</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="IS_local.html#Build_sem_local">Build_sem_local</a></span> <span class="id"><a href="Localize.html#F">F</a></span> <span class="id"><a href="Localize.html#V">V</a></span> <span class="id"><a href="Localize.html#G">G</a></span> <span class="id">comp_unit</span> <span class="id"><a href="Localize.html#core">core</a></span> <span class="id">f1</span>' <span class="id">f2</span>' <span class="id">f3</span>' <span class="id">f4</span>' <span class="id">f5</span>' <span class="id">f6</span>' <span class="id">f7</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#bj">bj</a></span> <span class="id"><a href="Localize.html#ge">ge</a></span> <span class="id"><a href="Localize.html#ge_local">ge_local</a></span> <span class="id"><a href="Localize.html#Ge">Ge</a></span> <span class="id"><a href="Localize.html#Ge_local">Ge_local</a></span> <span class="id"><a href="Localize.html#match_state">match_state</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#LangLocalize">LangLocalize</a></span> <span class="id">comp_unit</span> <span class="id">wdcu</span> (<span class="id"><a href="InteractionSemantics.html#Build_Language">Build_Language</a></span> <span class="id"><a href="Localize.html#F">F</a></span> <span class="id"><a href="Localize.html#V">V</a></span> <span class="id"><a href="Localize.html#G">G</a></span> <span class="id">comp_unit</span> <span class="id"><a href="Localize.html#core">core</a></span> <span class="id"><a href="Localize.html#f1">f1</a></span> <span class="id"><a href="Localize.html#f2">f2</a></span> <span class="id"><a href="Localize.html#f3">f3</a></span> <span class="id"><a href="Localize.html#f4">f4</a></span> <span class="id"><a href="Localize.html#f5">f5</a></span> <span class="id"><a href="Localize.html#f6">f6</a></span> <span class="id"><a href="Localize.html#f7">f7</a></span> <span class="id"><a href="Localize.html#f8">f8</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="IS_local.html#Build_sem_local">Build_sem_local</a></span> <span class="id"><a href="Localize.html#F">F</a></span> <span class="id"><a href="Localize.html#V">V</a></span> <span class="id"><a href="Localize.html#G">G</a></span> <span class="id">comp_unit</span> <span class="id"><a href="Localize.html#core">core</a></span> <span class="id">f1</span>' <span class="id">f2</span>' <span class="id">f3</span>' <span class="id">f4</span>' <span class="id">f5</span>' <span class="id">f6</span>' <span class="id">f7</span>').<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="localize_localizesim">localize_localizesim</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">F</span> <span class="id">V</span> <span class="id">G</span> <span class="id">comp_unit</span> <span class="id">wdcu</span> <span class="id">core</span> <span class="id">f1</span> <span class="id">f2</span> <span class="id">f3</span> <span class="id">f4</span> <span class="id">f5</span> <span class="id">f6</span> <span class="id">f7</span> <span class="id">f8</span> <span class="id">f1</span>' <span class="id">f2</span>' <span class="id">f3</span>' <span class="id">f4</span>' <span class="id">f5</span>' <span class="id">f6</span>' <span class="id">f7</span>', <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">L</span> := (<span class="id"><a href="InteractionSemantics.html#Build_Language">Build_Language</a></span> <span class="id"><a href="Localize.html#F">F</a></span> <span class="id"><a href="Localize.html#V">V</a></span> <span class="id"><a href="Localize.html#G">G</a></span> <span class="id"><a href="Localize.html#comp_unit">comp_unit</a></span> <span class="id"><a href="Localize.html#core">core</a></span> <span class="id"><a href="Localize.html#f1">f1</a></span> <span class="id"><a href="Localize.html#f2">f2</a></span> <span class="id"><a href="Localize.html#f3">f3</a></span> <span class="id"><a href="Localize.html#f4">f4</a></span> <span class="id"><a href="Localize.html#f5">f5</a></span> <span class="id"><a href="Localize.html#f6">f6</a></span> <span class="id"><a href="Localize.html#f7">f7</a></span> <span class="id"><a href="Localize.html#f8">f8</a></span>) <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">let</span> <span class="id">L</span>' := (<span class="id"><a href="IS_local.html#Build_sem_local">Build_sem_local</a></span> <span class="id"><a href="Localize.html#F">F</a></span> <span class="id"><a href="Localize.html#V">V</a></span> <span class="id"><a href="Localize.html#G">G</a></span> <span class="id"><a href="Localize.html#comp_unit">comp_unit</a></span> <span class="id"><a href="Localize.html#core">core</a></span> <span class="id">f1</span>' <span class="id">f2</span>' <span class="id">f3</span>' <span class="id">f4</span>' <span class="id">f5</span>' <span class="id">f6</span>' <span class="id">f7</span>') <span class="kwd">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#LangLocalize">LangLocalize</a></span> <span class="id"><a href="Localize.html#comp_unit">comp_unit</a></span> <span class="id"><a href="Localize.html#wdcu">wdcu</a></span> <span class="id"><a href="Localize.html#L">L</a></span> <span class="id">L</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">cu</span> (<span class="id">Hwdcu</span>: <span class="id"><a href="Localize.html#wdcu">wdcu</a></span> <span class="id"><a href="Localize.html#cu">cu</a></span>) <span class="id">ge</span> <span class="id">Ge</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#f7">f7</a></span> <span class="id"><a href="Localize.html#cu">cu</a></span> <span class="id"><a href="Localize.html#ge">ge</a></span> <span class="id"><a href="Localize.html#Ge">Ge</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">bj_ident</span> <span class="id">ge_local</span> <span class="id">Ge_local</span> <span class="id">match_state</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">f1</span>' <span class="id"><a href="Localize.html#cu">cu</a></span> <span class="id"><a href="Localize.html#ge_local">ge_local</a></span> <span class="id"><a href="Localize.html#Ge_local">Ge_local</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#ge_match_strict">ge_match_strict</a></span> <span class="id"><a href="Localize.html#bj_ident">bj_ident</a></span> <span class="id"><a href="Localize.html#ge">ge</a></span> <span class="id"><a href="Localize.html#ge_local">ge_local</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>', <span class="id"><a href="Localize.html#bj_ident">bj_ident</a></span> <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt; <span class="id">exists</span> <span class="id">gd</span>, <span class="id"><a href="Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="id"><a href="Localize.html#ge_local">ge_local</a></span> <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Localize.html#gd">gd</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">bj</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#inject_incr">inject_incr</a></span> (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id"><a href="Localize.html#bj_ident">bj_ident</a></span>) (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id"><a href="Localize.html#bj">bj</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.inject">Bset.inject</a></span> <span class="id"><a href="Localize.html#bj">bj</a></span> (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id"><a href="Localize.html#ge_local">ge_local</a></span>)) (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id"><a href="Localize.html#ge">ge</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="Localize.html#LocalizeSim">LocalizeSim</a></span> <span class="id"><a href="Localize.html#L">L</a></span> <span class="id">L</span>' <span class="id"><a href="Localize.html#bj">bj</a></span> <span class="id"><a href="Localize.html#ge">ge</a></span> <span class="id"><a href="Localize.html#ge_local">ge_local</a></span> <span class="id"><a href="Localize.html#Ge">Ge</a></span> <span class="id"><a href="Localize.html#Ge_local">Ge_local</a></span> <span class="id"><a href="Localize.html#match_state">match_state</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6629')">Proof.</div>
<div class="proofscript" id="proof6629">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">inversion</span> <span class="id">H</span>. <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#existT">existT</a></span> ?<span class="id">x</span> ?<span class="id">y</span> ?<span class="id">a</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#existT">existT</a></span> ?<span class="id">x</span> ?<span class="id">y</span> ?<span class="id">b</span> |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Eqdep.html#EqdepTheory.inj_pair2">Eqdep.EqdepTheory.inj_pair2</a></span> <span class="kwd">in</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: ?<span class="id">x</span> = ?<span class="id">x</span> |- <span class="id">_</span> =&gt; <span class="tactic">clear</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<br/>
<br/>
<br/>
<div class="doc">Lift Mapping </div>
<span class="kwd">Section</span> <span class="id"><a name="LangLift">LangLift</a></span>.<br/>
&nbsp;&nbsp;<span class="kwd">Context</span> {<span class="id">L</span>: <span class="id"><a href="InteractionSemantics.html#Language">Language</a></span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">sem</span>: <span class="id"><a href="IS_local.html#sem_local">sem_local</a></span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">bj</span>: <span class="id"><a href="Blockset.html#Bset.inj">Bset.inj</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">ge_local</span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> (<span class="id"><a href="IS_local.html#F">F</a></span> <span class="id"><a href="Localize.html#sem">sem</a></span>) (<span class="id"><a href="IS_local.html#V">V</a></span> <span class="id"><a href="Localize.html#sem">sem</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">ge</span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> (<span class="id"><a href="InteractionSemantics.html#F">InteractionSemantics.F</a></span> <span class="id"><a href="Localize.html#L">L</a></span>) (<span class="id"><a href="InteractionSemantics.html#V">InteractionSemantics.V</a></span> <span class="id"><a href="Localize.html#L">L</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Ge_local</span>: <span class="id"><a href="IS_local.html#G">G</a></span> <span class="id"><a href="Localize.html#sem">sem</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Ge</span>: <span class="id"><a href="InteractionSemantics.html#G">InteractionSemantics.G</a></span> <span class="id"><a href="Localize.html#L">L</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">match_state</span>: <span class="id"><a href="Blockset.html#Bset.inj">Bset.inj</a></span> -&gt; <span class="id"><a href="MemAux.html#freelist">freelist</a></span> -&gt; <span class="id"><a href="InteractionSemantics.html#core">InteractionSemantics.core</a></span> <span class="id"><a href="Localize.html#L">L</a></span> -&gt; <span class="id"><a href="GMemory.html#gmem">gmem</a></span> -&gt; <span class="id"><a href="IS_local.html#core">core</a></span> <span class="id"><a href="Localize.html#sem">sem</a></span> -&gt; <span class="id"><a href="Memory.html#mem">mem</a></span> -&gt; <span class="kwd">Prop</span>)<br/>
&nbsp;&nbsp;.<br/>
<br/>
&nbsp;&nbsp;<span class="kwd">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="Shared">Shared</a></span> := (<span class="kwd">fun</span> <span class="id">b</span>:<span class="id"><a href="Values.html#block">block</a></span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id"><a href="Localize.html#LangLift.ge">ge</a></span>)).<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Record</span> <span class="id"><a name="LiftSim">LiftSim</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;: <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="lift_ge">lift_ge</a></span>: <span class="id"><a href="Localize.html#ge_match_strict">ge_match_strict</a></span> <span class="id"><a href="Localize.html#LangLift.bj">bj</a></span> <span class="id"><a href="Localize.html#LangLift.ge">ge</a></span> <span class="id"><a href="Localize.html#LangLift.ge_local">ge_local</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.inject">Bset.inject</a></span> <span class="id"><a href="Localize.html#LangLift.bj">bj</a></span> (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id"><a href="Localize.html#LangLift.ge_local">ge_local</a></span>)) (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id"><a href="Localize.html#LangLift.ge">ge</a></span>));<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="lift_freelist_norep">lift_freelist_norep</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fl</span> <span class="id">c</span> <span class="id">m</span> <span class="id">lc</span> <span class="id">lm</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#LangLift.match_state">match_state</a></span> <span class="id"><a href="Localize.html#LangLift.bj">bj</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#c">c</a></span> <span class="id"><a href="Localize.html#m">m</a></span> <span class="id"><a href="Localize.html#lc">lc</a></span> <span class="id"><a href="Localize.html#lm">lm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemAux.html#norep">norep</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="lift_freelist_no_overlap">lift_freelist_no_overlap</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fl</span> <span class="id">c</span> <span class="id">m</span> <span class="id">lc</span> <span class="id">lm</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#LangLift.match_state">match_state</a></span> <span class="id"><a href="Localize.html#LangLift.bj">bj</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#c">c</a></span> <span class="id"><a href="Localize.html#m">m</a></span> <span class="id"><a href="Localize.html#lc">lc</a></span> <span class="id"><a href="Localize.html#lm">lm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemAux.html#no_overlap">no_overlap</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#Shared">Shared</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="lift_mem">lift_mem</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fl</span> <span class="id">c</span> <span class="id">m</span> <span class="id">lc</span> <span class="id">lm</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#LangLift.match_state">match_state</a></span> <span class="id"><a href="Localize.html#LangLift.bj">bj</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#c">c</a></span> <span class="id"><a href="Localize.html#m">m</a></span> <span class="id"><a href="Localize.html#lc">lc</a></span> <span class="id"><a href="Localize.html#lm">lm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="Localize.html#LangLift.bj">bj</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id"><a href="Localize.html#LangLift.ge">ge</a></span>) <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#m">m</a></span> <span class="id"><a href="Localize.html#lm">lm</a></span>;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="lift_init">lift_init</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">args</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs.html#G_args">G_args</a></span> <span class="id"><a href="Localize.html#Shared">Shared</a></span> <span class="id"><a href="Localize.html#args">args</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">args_local</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#args_related">args_related</a></span> <span class="id"><a href="Localize.html#LangLift.bj">bj</a></span> <span class="id"><a href="Localize.html#args_local">args_local</a></span> <span class="id"><a href="Localize.html#args">args</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">id</span> <span class="id">lc</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="IS_local.html#init_core_local">init_core_local</a></span> <span class="id"><a href="Localize.html#LangLift.sem">sem</a></span> <span class="id"><a href="Localize.html#LangLift.Ge_local">Ge_local</a></span> <span class="id"><a href="Localize.html#id">id</a></span> <span class="id"><a href="Localize.html#args_local">args_local</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Localize.html#lc">lc</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">c</span>, <span class="id"><a href="InteractionSemantics.html#init_core">init_core</a></span> <span class="id"><a href="Localize.html#LangLift.L">L</a></span> <span class="id"><a href="Localize.html#LangLift.Ge">Ge</a></span> <span class="id"><a href="Localize.html#id">id</a></span> <span class="id"><a href="Localize.html#args">args</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Localize.html#c">c</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">m</span> <span class="id">fl</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#init_gmem">init_gmem</a></span> <span class="id"><a href="Localize.html#LangLift.L">L</a></span> <span class="id"><a href="Localize.html#LangLift.ge">ge</a></span> <span class="id"><a href="Localize.html#m">m</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemAux.html#norep">norep</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemAux.html#no_overlap">no_overlap</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> (<span class="id"><a href="MemAux.html#valid_block_bset">valid_block_bset</a></span> <span class="id"><a href="Localize.html#m">m</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemClosures.html#reach_closed">MemClosures.reach_closed</a></span> <span class="id"><a href="Localize.html#m">m</a></span> <span class="id"><a href="Localize.html#Shared">Shared</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">lm</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="IS_local.html#init_mem">init_mem</a></span> <span class="id"><a href="Localize.html#LangLift.sem">sem</a></span> <span class="id"><a href="Localize.html#LangLift.ge_local">ge_local</a></span> <span class="id"><a href="Localize.html#lm">lm</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="Localize.html#LangLift.bj">bj</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id"><a href="Localize.html#LangLift.ge">ge</a></span>) <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#m">m</a></span> <span class="id"><a href="Localize.html#lm">lm</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#LangLift.match_state">match_state</a></span> <span class="id"><a href="Localize.html#LangLift.bj">bj</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#c">c</a></span> <span class="id"><a href="Localize.html#m">m</a></span> <span class="id"><a href="Localize.html#lc">lc</a></span> <span class="id"><a href="Localize.html#lm">lm</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="lift_lockstep">lift_lockstep</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fl</span> <span class="id">c</span> <span class="id">lc</span> <span class="id">m</span> <span class="id">lm</span> <span class="id">lfp</span> <span class="id">lc</span>' <span class="id">lm</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#LangLift.match_state">match_state</a></span> <span class="id"><a href="Localize.html#LangLift.bj">bj</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#c">c</a></span> <span class="id"><a href="Localize.html#m">m</a></span> <span class="id"><a href="Localize.html#lc">lc</a></span> <span class="id"><a href="Localize.html#lm">lm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="IS_local.html#step_local">step_local</a></span> <span class="id"><a href="Localize.html#LangLift.sem">sem</a></span> <span class="id"><a href="Localize.html#LangLift.Ge_local">Ge_local</a></span> <span class="id"><a href="Localize.html#lc">lc</a></span> <span class="id"><a href="Localize.html#lm">lm</a></span> <span class="id"><a href="Localize.html#lfp">lfp</a></span> <span class="id">lc</span>' <span class="id">lm</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">fp</span> <span class="id">c</span>' <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#step">step</a></span> <span class="id"><a href="Localize.html#LangLift.L">L</a></span> <span class="id"><a href="Localize.html#LangLift.Ge">Ge</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#c">c</a></span> <span class="id"><a href="Localize.html#m">m</a></span> <span class="id"><a href="Localize.html#fp">fp</a></span> <span class="id">c</span>' <span class="id">m</span>' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#FPlocalize">FPlocalize</a></span> (<span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="id"><a href="Localize.html#LangLift.bj">bj</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id"><a href="Localize.html#LangLift.ge">ge</a></span>) <span class="id"><a href="Localize.html#fl">fl</a></span>) <span class="id"><a href="Localize.html#fp">fp</a></span> <span class="id"><a href="Localize.html#lfp">lfp</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs.html#fpG">fpG</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#Shared">Shared</a></span> <span class="id"><a href="Localize.html#fp">fp</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#LangLift.match_state">match_state</a></span> <span class="id"><a href="Localize.html#LangLift.bj">bj</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id">c</span>' <span class="id">m</span>' <span class="id">lc</span>' <span class="id">lm</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="lift_at_external">lift_at_external</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fl</span> <span class="id">c</span> <span class="id">lc</span> <span class="id">m</span> <span class="id">lm</span> <span class="id">f</span> <span class="id">sg</span> <span class="id">args_local</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#LangLift.match_state">match_state</a></span> <span class="id"><a href="Localize.html#LangLift.bj">bj</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#c">c</a></span> <span class="id"><a href="Localize.html#m">m</a></span> <span class="id"><a href="Localize.html#lc">lc</a></span> <span class="id"><a href="Localize.html#lm">lm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="IS_local.html#at_external_local">at_external_local</a></span> <span class="id"><a href="Localize.html#LangLift.sem">sem</a></span> <span class="id"><a href="Localize.html#LangLift.Ge_local">Ge_local</a></span> <span class="id"><a href="Localize.html#lc">lc</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Localize.html#f">f</a></span>, <span class="id"><a href="Localize.html#sg">sg</a></span>, <span class="id"><a href="Localize.html#args_local">args_local</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs.html#G_args">G_args</a></span> <span class="id"><a href="Localize.html#Shared">Shared</a></span> <span class="id"><a href="Localize.html#args_local">args_local</a></span> -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">args</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#at_external">at_external</a></span> <span class="id"><a href="Localize.html#LangLift.L">L</a></span> <span class="id"><a href="Localize.html#LangLift.Ge">Ge</a></span> <span class="id"><a href="Localize.html#c">c</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Localize.html#f">f</a></span>, <span class="id"><a href="Localize.html#sg">sg</a></span>, <span class="id"><a href="Localize.html#args">args</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#args_related">args_related</a></span> <span class="id"><a href="Localize.html#LangLift.bj">bj</a></span> <span class="id"><a href="Localize.html#args_local">args_local</a></span> <span class="id"><a href="Localize.html#args">args</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="lift_after_external">lift_after_external</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fl</span> <span class="id">c</span> <span class="id">lc</span> <span class="id">m</span> <span class="id">lm</span> <span class="id">ores</span> <span class="id">lc</span>' <span class="id">lores</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#LangLift.match_state">match_state</a></span> <span class="id"><a href="Localize.html#LangLift.bj">bj</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#c">c</a></span> <span class="id"><a href="Localize.html#m">m</a></span> <span class="id"><a href="Localize.html#lc">lc</a></span> <span class="id"><a href="Localize.html#lm">lm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#oarg_related">oarg_related</a></span> <span class="id"><a href="Localize.html#LangLift.bj">bj</a></span> <span class="id"><a href="Localize.html#lores">lores</a></span> <span class="id"><a href="Localize.html#ores">ores</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="IS_local.html#after_external_local">after_external_local</a></span> <span class="id"><a href="Localize.html#LangLift.sem">sem</a></span> <span class="id"><a href="Localize.html#lc">lc</a></span> <span class="id"><a href="Localize.html#lores">lores</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">lc</span>' -&gt;          <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">c</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#after_external">after_external</a></span> <span class="id"><a href="Localize.html#LangLift.L">L</a></span> <span class="id"><a href="Localize.html#c">c</a></span> <span class="id"><a href="Localize.html#ores">ores</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">c</span>' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#LangLift.match_state">match_state</a></span> <span class="id"><a href="Localize.html#LangLift.bj">bj</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id">c</span>' <span class="id"><a href="Localize.html#m">m</a></span> <span class="id">lc</span>' <span class="id"><a href="Localize.html#lm">lm</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="lift_rely">lift_rely</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fl</span> <span class="id">c</span> <span class="id">lc</span> <span class="id">m</span> <span class="id">lm</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#LangLift.match_state">match_state</a></span> <span class="id"><a href="Localize.html#LangLift.bj">bj</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#c">c</a></span> <span class="id"><a href="Localize.html#m">m</a></span> <span class="id"><a href="Localize.html#lc">lc</a></span> <span class="id"><a href="Localize.html#lm">lm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">m</span>' <span class="id">lm</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemAux.html#unchg_freelist">unchg_freelist</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#m">m</a></span> <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="Localize.html#LangLift.bj">bj</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id"><a href="Localize.html#LangLift.ge">ge</a></span>) <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id">m</span>' <span class="id">lm</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#LangLift.match_state">match_state</a></span> <span class="id"><a href="Localize.html#LangLift.bj">bj</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#c">c</a></span> <span class="id">m</span>' <span class="id"><a href="Localize.html#lc">lc</a></span> <span class="id">lm</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a name="lift_halt">lift_halt</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fl</span> <span class="id">c</span> <span class="id">lc</span> <span class="id">m</span> <span class="id">lm</span> <span class="id">lres</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#LangLift.match_state">match_state</a></span> <span class="id"><a href="Localize.html#LangLift.bj">bj</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#c">c</a></span> <span class="id"><a href="Localize.html#m">m</a></span> <span class="id"><a href="Localize.html#lc">lc</a></span> <span class="id"><a href="Localize.html#lm">lm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="IS_local.html#halt_local">halt_local</a></span> <span class="id"><a href="Localize.html#LangLift.sem">sem</a></span> <span class="id"><a href="Localize.html#lc">lc</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Localize.html#lres">lres</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs.html#G_arg">G_arg</a></span> <span class="id"><a href="Localize.html#Shared">Shared</a></span> <span class="id"><a href="Localize.html#lres">lres</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">res</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#halt">halt</a></span> <span class="id"><a href="Localize.html#LangLift.L">L</a></span> <span class="id"><a href="Localize.html#c">c</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Localize.html#res">res</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#arg_related">arg_related</a></span> <span class="id"><a href="Localize.html#LangLift.bj">bj</a></span> <span class="id"><a href="Localize.html#lres">lres</a></span> <span class="id"><a href="Localize.html#res">res</a></span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}.<br/>
<br/>
<span class="kwd">End</span> <span class="id"><a href="Localize.html#LangLift">LangLift</a></span>.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="LangLift">LangLift</a></span> (<span class="id">comp_unit</span>: <span class="kwd">Type</span>) (<span class="id">wdcu</span>: <span class="id"><a href="Localize.html#comp_unit">comp_unit</a></span> -&gt; <span class="kwd">Prop</span>): <span class="id"><a href="InteractionSemantics.html#Language">Language</a></span> -&gt; <span class="id"><a href="IS_local.html#sem_local">sem_local</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a name="LangLift_intro">LangLift_intro</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">F</span> <span class="id">V</span> <span class="id">G</span> <span class="id">core</span> <span class="id">f1</span> <span class="id">f2</span> <span class="id">f3</span> <span class="id">f4</span> <span class="id">f5</span> <span class="id">f6</span> <span class="id">f7</span> <span class="id">f8</span> <span class="id">f1</span>' <span class="id">f2</span>' <span class="id">f3</span>' <span class="id">f4</span>' <span class="id">f5</span>' <span class="id">f6</span>' <span class="id">f7</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">cu</span> (<span class="id">Hwdcu</span>: <span class="id">wdcu</span> <span class="id"><a href="Localize.html#cu">cu</a></span>) <span class="id">ge</span> <span class="id">Ge</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#init_genv">init_genv</a></span> (<span class="id"><a href="InteractionSemantics.html#Build_Language">Build_Language</a></span> <span class="id"><a href="Localize.html#F">F</a></span> <span class="id"><a href="Localize.html#V">V</a></span> <span class="id"><a href="Localize.html#G">G</a></span> <span class="id">comp_unit</span> <span class="id"><a href="Localize.html#core">core</a></span> <span class="id"><a href="Localize.html#f1">f1</a></span> <span class="id"><a href="Localize.html#f2">f2</a></span> <span class="id"><a href="Localize.html#f3">f3</a></span> <span class="id"><a href="Localize.html#f4">f4</a></span> <span class="id"><a href="Localize.html#f5">f5</a></span> <span class="id"><a href="Localize.html#f6">f6</a></span> <span class="id"><a href="Localize.html#f7">f7</a></span> <span class="id"><a href="Localize.html#f8">f8</a></span>) <span class="id"><a href="Localize.html#cu">cu</a></span> <span class="id"><a href="Localize.html#ge">ge</a></span> <span class="id"><a href="Localize.html#Ge">Ge</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">bj_ident</span> <span class="id">ge_local</span> <span class="id">Ge_local</span> <span class="id">match_state</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="IS_local.html#init_genv_local">init_genv_local</a></span> (<span class="id"><a href="IS_local.html#Build_sem_local">Build_sem_local</a></span> <span class="id"><a href="Localize.html#F">F</a></span> <span class="id"><a href="Localize.html#V">V</a></span> <span class="id"><a href="Localize.html#G">G</a></span> <span class="id">comp_unit</span> <span class="id"><a href="Localize.html#core">core</a></span> <span class="id">f1</span>' <span class="id">f2</span>' <span class="id">f3</span>' <span class="id">f4</span>' <span class="id">f5</span>' <span class="id">f6</span>' <span class="id">f7</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#cu">cu</a></span> <span class="id"><a href="Localize.html#ge_local">ge_local</a></span> <span class="id"><a href="Localize.html#Ge_local">Ge_local</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#ge_match_strict">ge_match_strict</a></span> <span class="id"><a href="Localize.html#bj_ident">bj_ident</a></span> <span class="id"><a href="Localize.html#ge">ge</a></span> <span class="id"><a href="Localize.html#ge_local">ge_local</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>', <span class="id"><a href="Localize.html#bj_ident">bj_ident</a></span> <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt; <span class="id">exists</span> <span class="id">gd</span>, <span class="id"><a href="Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="id"><a href="Localize.html#ge_local">ge_local</a></span> <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Localize.html#gd">gd</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">bj</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#inject_incr">inject_incr</a></span> (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id"><a href="Localize.html#bj_ident">bj_ident</a></span>) (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id"><a href="Localize.html#bj">bj</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.inject">Bset.inject</a></span> <span class="id"><a href="Localize.html#bj">bj</a></span> (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id"><a href="Localize.html#ge_local">ge_local</a></span>)) (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id"><a href="Localize.html#ge">ge</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="Localize.html#LiftSim">LiftSim</a></span> (<span class="id"><a href="InteractionSemantics.html#Build_Language">Build_Language</a></span> <span class="id"><a href="Localize.html#F">F</a></span> <span class="id"><a href="Localize.html#V">V</a></span> <span class="id"><a href="Localize.html#G">G</a></span> <span class="id">comp_unit</span> <span class="id"><a href="Localize.html#core">core</a></span> <span class="id"><a href="Localize.html#f1">f1</a></span> <span class="id"><a href="Localize.html#f2">f2</a></span> <span class="id"><a href="Localize.html#f3">f3</a></span> <span class="id"><a href="Localize.html#f4">f4</a></span> <span class="id"><a href="Localize.html#f5">f5</a></span> <span class="id"><a href="Localize.html#f6">f6</a></span> <span class="id"><a href="Localize.html#f7">f7</a></span> <span class="id"><a href="Localize.html#f8">f8</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="IS_local.html#Build_sem_local">Build_sem_local</a></span> <span class="id"><a href="Localize.html#F">F</a></span> <span class="id"><a href="Localize.html#V">V</a></span> <span class="id"><a href="Localize.html#G">G</a></span> <span class="id">comp_unit</span> <span class="id"><a href="Localize.html#core">core</a></span> <span class="id">f1</span>' <span class="id">f2</span>' <span class="id">f3</span>' <span class="id">f4</span>' <span class="id">f5</span>' <span class="id">f6</span>' <span class="id">f7</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#bj">bj</a></span> <span class="id"><a href="Localize.html#ge_local">ge_local</a></span> <span class="id"><a href="Localize.html#ge">ge</a></span> <span class="id"><a href="Localize.html#Ge_local">Ge_local</a></span> <span class="id"><a href="Localize.html#Ge">Ge</a></span> <span class="id"><a href="Localize.html#match_state">match_state</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#LangLift">LangLift</a></span> <span class="id">comp_unit</span> <span class="id">wdcu</span> (<span class="id"><a href="InteractionSemantics.html#Build_Language">Build_Language</a></span> <span class="id"><a href="Localize.html#F">F</a></span> <span class="id"><a href="Localize.html#V">V</a></span> <span class="id"><a href="Localize.html#G">G</a></span> <span class="id">comp_unit</span> <span class="id"><a href="Localize.html#core">core</a></span> <span class="id"><a href="Localize.html#f1">f1</a></span> <span class="id"><a href="Localize.html#f2">f2</a></span> <span class="id"><a href="Localize.html#f3">f3</a></span> <span class="id"><a href="Localize.html#f4">f4</a></span> <span class="id"><a href="Localize.html#f5">f5</a></span> <span class="id"><a href="Localize.html#f6">f6</a></span> <span class="id"><a href="Localize.html#f7">f7</a></span> <span class="id"><a href="Localize.html#f8">f8</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="IS_local.html#Build_sem_local">Build_sem_local</a></span> <span class="id"><a href="Localize.html#F">F</a></span> <span class="id"><a href="Localize.html#V">V</a></span> <span class="id"><a href="Localize.html#G">G</a></span> <span class="id">comp_unit</span> <span class="id"><a href="Localize.html#core">core</a></span> <span class="id">f1</span>' <span class="id">f2</span>' <span class="id">f3</span>' <span class="id">f4</span>' <span class="id">f5</span>' <span class="id">f6</span>' <span class="id">f7</span>').<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="lift_liftsim">lift_liftsim</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">F</span> <span class="id">V</span> <span class="id">G</span> <span class="id">comp_unit</span> <span class="id">wdcu</span> <span class="id">core</span> <span class="id">f1</span> <span class="id">f2</span> <span class="id">f3</span> <span class="id">f4</span> <span class="id">f5</span> <span class="id">f6</span> <span class="id">f7</span> <span class="id">f8</span> <span class="id">f1</span>' <span class="id">f2</span>' <span class="id">f3</span>' <span class="id">f4</span>' <span class="id">f5</span>' <span class="id">f6</span>' <span class="id">f7</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#LangLift">LangLift</a></span> <span class="id"><a href="Localize.html#comp_unit">comp_unit</a></span> <span class="id"><a href="Localize.html#wdcu">wdcu</a></span> (<span class="id"><a href="InteractionSemantics.html#Build_Language">Build_Language</a></span> <span class="id"><a href="Localize.html#F">F</a></span> <span class="id"><a href="Localize.html#V">V</a></span> <span class="id"><a href="Localize.html#G">G</a></span> <span class="id"><a href="Localize.html#comp_unit">comp_unit</a></span> <span class="id"><a href="Localize.html#core">core</a></span> <span class="id"><a href="Localize.html#f1">f1</a></span> <span class="id"><a href="Localize.html#f2">f2</a></span> <span class="id"><a href="Localize.html#f3">f3</a></span> <span class="id"><a href="Localize.html#f4">f4</a></span> <span class="id"><a href="Localize.html#f5">f5</a></span> <span class="id"><a href="Localize.html#f6">f6</a></span> <span class="id"><a href="Localize.html#f7">f7</a></span> <span class="id"><a href="Localize.html#f8">f8</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="IS_local.html#Build_sem_local">Build_sem_local</a></span> <span class="id"><a href="Localize.html#F">F</a></span> <span class="id"><a href="Localize.html#V">V</a></span> <span class="id"><a href="Localize.html#G">G</a></span> <span class="id"><a href="Localize.html#comp_unit">comp_unit</a></span> <span class="id"><a href="Localize.html#core">core</a></span> <span class="id">f1</span>' <span class="id">f2</span>' <span class="id">f3</span>' <span class="id">f4</span>' <span class="id">f5</span>' <span class="id">f6</span>' <span class="id">f7</span>') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">cu</span> (<span class="id">Hwdcu</span>: <span class="id"><a href="Localize.html#wdcu">wdcu</a></span> <span class="id"><a href="Localize.html#cu">cu</a></span>) <span class="id">ge</span> <span class="id">Ge</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#init_genv">init_genv</a></span> (<span class="id"><a href="InteractionSemantics.html#Build_Language">Build_Language</a></span> <span class="id"><a href="Localize.html#F">F</a></span> <span class="id"><a href="Localize.html#V">V</a></span> <span class="id"><a href="Localize.html#G">G</a></span> <span class="id"><a href="Localize.html#comp_unit">comp_unit</a></span> <span class="id"><a href="Localize.html#core">core</a></span> <span class="id"><a href="Localize.html#f1">f1</a></span> <span class="id"><a href="Localize.html#f2">f2</a></span> <span class="id"><a href="Localize.html#f3">f3</a></span> <span class="id"><a href="Localize.html#f4">f4</a></span> <span class="id"><a href="Localize.html#f5">f5</a></span> <span class="id"><a href="Localize.html#f6">f6</a></span> <span class="id"><a href="Localize.html#f7">f7</a></span> <span class="id"><a href="Localize.html#f8">f8</a></span>) <span class="id"><a href="Localize.html#cu">cu</a></span> <span class="id"><a href="Localize.html#ge">ge</a></span> <span class="id"><a href="Localize.html#Ge">Ge</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">bj_ident</span> <span class="id">ge_local</span> <span class="id">Ge_local</span> <span class="id">match_state</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="IS_local.html#init_genv_local">init_genv_local</a></span> (<span class="id"><a href="IS_local.html#Build_sem_local">Build_sem_local</a></span> <span class="id"><a href="Localize.html#F">F</a></span> <span class="id"><a href="Localize.html#V">V</a></span> <span class="id"><a href="Localize.html#G">G</a></span> <span class="id"><a href="Localize.html#comp_unit">comp_unit</a></span> <span class="id"><a href="Localize.html#core">core</a></span> <span class="id">f1</span>' <span class="id">f2</span>' <span class="id">f3</span>' <span class="id">f4</span>' <span class="id">f5</span>' <span class="id">f6</span>' <span class="id">f7</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#cu">cu</a></span> <span class="id"><a href="Localize.html#ge_local">ge_local</a></span> <span class="id"><a href="Localize.html#Ge_local">Ge_local</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#ge_match_strict">ge_match_strict</a></span> <span class="id"><a href="Localize.html#bj_ident">bj_ident</a></span> <span class="id"><a href="Localize.html#ge">ge</a></span> <span class="id"><a href="Localize.html#ge_local">ge_local</a></span>/\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>', <span class="id"><a href="Localize.html#bj_ident">bj_ident</a></span> <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt; <span class="id">exists</span> <span class="id">gd</span>, <span class="id"><a href="Globalenvs.html#Genv.find_def">Genv.find_def</a></span> <span class="id"><a href="Localize.html#ge_local">ge_local</a></span> <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Localize.html#gd">gd</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">bj</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#inject_incr">inject_incr</a></span> (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id"><a href="Localize.html#bj_ident">bj_ident</a></span>) (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id"><a href="Localize.html#bj">bj</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.inject">Bset.inject</a></span> <span class="id"><a href="Localize.html#bj">bj</a></span> (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id"><a href="Localize.html#ge_local">ge_local</a></span>)) (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id"><a href="Localize.html#ge">ge</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="Localize.html#LiftSim">LiftSim</a></span> (<span class="id"><a href="InteractionSemantics.html#Build_Language">Build_Language</a></span> <span class="id"><a href="Localize.html#F">F</a></span> <span class="id"><a href="Localize.html#V">V</a></span> <span class="id"><a href="Localize.html#G">G</a></span> <span class="id"><a href="Localize.html#comp_unit">comp_unit</a></span> <span class="id"><a href="Localize.html#core">core</a></span> <span class="id"><a href="Localize.html#f1">f1</a></span> <span class="id"><a href="Localize.html#f2">f2</a></span> <span class="id"><a href="Localize.html#f3">f3</a></span> <span class="id"><a href="Localize.html#f4">f4</a></span> <span class="id"><a href="Localize.html#f5">f5</a></span> <span class="id"><a href="Localize.html#f6">f6</a></span> <span class="id"><a href="Localize.html#f7">f7</a></span> <span class="id"><a href="Localize.html#f8">f8</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="IS_local.html#Build_sem_local">Build_sem_local</a></span> <span class="id"><a href="Localize.html#F">F</a></span> <span class="id"><a href="Localize.html#V">V</a></span> <span class="id"><a href="Localize.html#G">G</a></span> <span class="id"><a href="Localize.html#comp_unit">comp_unit</a></span> <span class="id"><a href="Localize.html#core">core</a></span> <span class="id">f1</span>' <span class="id">f2</span>' <span class="id">f3</span>' <span class="id">f4</span>' <span class="id">f5</span>' <span class="id">f6</span>' <span class="id">f7</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#bj">bj</a></span> <span class="id"><a href="Localize.html#ge_local">ge_local</a></span> <span class="id"><a href="Localize.html#ge">ge</a></span> <span class="id"><a href="Localize.html#Ge_local">Ge_local</a></span> <span class="id"><a href="Localize.html#Ge">Ge</a></span> <span class="id"><a href="Localize.html#match_state">match_state</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6630')">Proof.</div>
<div class="proofscript" id="proof6630">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">inversion</span> <span class="id">H</span>. <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#existT">existT</a></span> ?<span class="id">x</span> ?<span class="id">y</span> ?<span class="id">a</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#existT">existT</a></span> ?<span class="id">x</span> ?<span class="id">y</span> ?<span class="id">b</span> |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Logic.Eqdep.html#EqdepTheory.inj_pair2">Eqdep.EqdepTheory.inj_pair2</a></span> <span class="kwd">in</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: ?<span class="id">x</span> = ?<span class="id">x</span> |- <span class="id">_</span> =&gt; <span class="tactic">clear</span> <span class="id">H</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
&nbsp;&nbsp;<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="lift_lockstep_plus">lift_lockstep_plus</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">L</span> <span class="id">sem</span> <span class="id">bj</span> <span class="id">ge_local</span> <span class="id">ge</span> <span class="id">Ge_local</span> <span class="id">Ge</span> <span class="id">match_state</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="Localize.html#LiftSim">LiftSim</a></span> <span class="id"><a href="Localize.html#L">L</a></span> <span class="id"><a href="Localize.html#sem">sem</a></span> <span class="id"><a href="Localize.html#bj">bj</a></span> <span class="id"><a href="Localize.html#ge_local">ge_local</a></span> <span class="id"><a href="Localize.html#ge">ge</a></span> <span class="id"><a href="Localize.html#Ge_local">Ge_local</a></span> <span class="id"><a href="Localize.html#Ge">Ge</a></span> <span class="id"><a href="Localize.html#match_state">match_state</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fl</span> <span class="id">c</span> <span class="id">lc</span> <span class="id">m</span> <span class="id">lm</span> <span class="id">lfp</span> <span class="id">lc</span>' <span class="id">lm</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#match_state">match_state</a></span> <span class="id"><a href="Localize.html#bj">bj</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#c">c</a></span> <span class="id"><a href="Localize.html#m">m</a></span> <span class="id"><a href="Localize.html#lc">lc</a></span> <span class="id"><a href="Localize.html#lm">lm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#plus">plus</a></span> (<span class="id"><a href="IS_local.html#step_local">step_local</a></span> <span class="id"><a href="Localize.html#sem">sem</a></span> <span class="id"><a href="Localize.html#Ge_local">Ge_local</a></span>) <span class="id"><a href="Localize.html#lc">lc</a></span> <span class="id"><a href="Localize.html#lm">lm</a></span> <span class="id"><a href="Localize.html#lfp">lfp</a></span> <span class="id">lc</span>' <span class="id">lm</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">fp</span> <span class="id">c</span>' <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#plus">InteractionSemantics.plus</a></span> (<span class="id"><a href="InteractionSemantics.html#step">step</a></span> <span class="id"><a href="Localize.html#L">L</a></span> <span class="id"><a href="Localize.html#Ge">Ge</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span>) <span class="id"><a href="Localize.html#c">c</a></span> <span class="id"><a href="Localize.html#m">m</a></span> <span class="id"><a href="Localize.html#fp">fp</a></span> <span class="id">c</span>' <span class="id">m</span>' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#FPlocalize">FPlocalize</a></span> (<span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="id"><a href="Localize.html#bj">bj</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id"><a href="Localize.html#ge">ge</a></span>) <span class="id"><a href="Localize.html#fl">fl</a></span>) <span class="id"><a href="Localize.html#fp">fp</a></span> <span class="id"><a href="Localize.html#lfp">lfp</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs.html#fpG">fpG</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id"><a href="Localize.html#ge">ge</a></span>)) <span class="id"><a href="Localize.html#fp">fp</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#match_state">match_state</a></span> <span class="id"><a href="Localize.html#bj">bj</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id">c</span>' <span class="id">m</span>' <span class="id">lc</span>' <span class="id">lm</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6631')">Proof.</div>
<div class="proofscript" id="proof6631">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">match_state</span>. <span class="tactic">intros</span> <span class="id">LIFT</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">lm</span>'. <span class="tactic">intros</span> <span class="id">MATCH</span> <span class="id">PLUS</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="Localize.html#lift_lockstep">lift_lockstep</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">LIFT</span>) <span class="kwd">as</span> <span class="id">LIFT</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="tactic">dependent</span> <span class="id">MATCH</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="tactic">dependent</span> <span class="id">m</span>. <span class="tactic">generalize</span> <span class="tactic">dependent</span> <span class="id">c</span>.<br/>
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">PLUS</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">LIFT</span>' <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> (<span class="id">fp0</span> &amp; <span class="id">c</span>'0 &amp; <span class="id">m</span>'0 &amp; <span class="id">STEP</span>' &amp; <span class="id">FPINJ</span> &amp; <span class="id">FPG</span> &amp; <span class="id">MATCH</span>').<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">fp0</span>, <span class="id">c</span>'0, <span class="id">m</span>'0.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">LIFT</span>' <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> (<span class="id">fp0</span> &amp; <span class="id">c</span>'0 &amp; <span class="id">m</span>'0 &amp; <span class="id">STEP</span>' &amp; <span class="id">FPINJ</span> &amp; <span class="id">FPG</span> &amp; <span class="id">MATCH</span>').<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHPLUS</span> <span class="kwd">in</span> <span class="id">MATCH</span>'; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">MATCH</span>' <span class="kwd">as</span> (<span class="id">fp0</span>' &amp; <span class="id">c</span>''0 &amp; <span class="id">m</span>''0 &amp; <span class="id">STEP</span>'' &amp; <span class="id">FPINJ</span>' &amp; <span class="id">FPG</span>' &amp; <span class="id">MATCH</span>'').<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">fp0</span> <span class="id">fp0</span>'), <span class="id">c</span>''0, <span class="id">m</span>''0.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#plus_cons">InteractionSemantics.plus_cons</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="Localize.html#FPlocalize_union">FPlocalize_union</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">eapply</span> <span class="id"><a href="LDSimDefs.html#fpG_union">fpG_union</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="Inj_lift">Inj_lift</a></span>: <span class="id"><a href="Blockset.html#Bset.inj">Bset.inj</a></span> -&gt; <span class="id"><a href="Blockset.html#Bset.inj">Bset.inj</a></span> -&gt; <span class="id"><a href="Injections.html#Mu">Injections.Mu</a></span> -&gt; <span class="id"><a href="Injections.html#Mu">Injections.Mu</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
| <span class="id"><a name="InjLift">InjLift</a></span>: <span class="kwd">forall</span> <span class="id">j21</span> <span class="id">j23</span> <span class="id">mu</span> <span class="id">lmu</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">BSETEQ21</span>: <span class="id"><a href="Injections.html#SharedSrc">Injections.SharedSrc</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span> = <span class="id"><a href="Injections.html#SharedSrc">Injections.SharedSrc</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INJ21</span>: <span class="id"><a href="Blockset.html#Bset.inject">Bset.inject</a></span> <span class="id"><a href="Localize.html#j21">j21</a></span> (<span class="id"><a href="Injections.html#SharedSrc">Injections.SharedSrc</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span>) (<span class="id"><a href="Injections.html#SharedSrc">Injections.SharedSrc</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">BSETEQ23</span>: <span class="id"><a href="Injections.html#SharedTgt">Injections.SharedTgt</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span> = <span class="id"><a href="Injections.html#SharedTgt">Injections.SharedTgt</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INJ23</span>: <span class="id"><a href="Blockset.html#Bset.inject">Bset.inject</a></span> <span class="id"><a href="Localize.html#j23">j23</a></span> (<span class="id"><a href="Injections.html#SharedTgt">Injections.SharedTgt</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span>) (<span class="id"><a href="Injections.html#SharedTgt">Injections.SharedTgt</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Consist1</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b1</span> <span class="id">b3</span>, <span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span> <span class="id"><a href="Localize.html#b1">b1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Localize.html#b3">b3</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">b2</span> <span class="id">b2</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#j21">j21</a></span> <span class="id"><a href="Localize.html#b2">b2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Localize.html#b1">b1</a></span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span> <span class="id"><a href="Localize.html#b2">b2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b2</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Localize.html#j23">j23</a></span> <span class="id">b2</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Localize.html#b3">b3</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Consist2</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b2</span> <span class="id">b2</span>', <span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span> <span class="id"><a href="Localize.html#b2">b2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b2</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">b1</span> <span class="id">b3</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#j21">j21</a></span> <span class="id"><a href="Localize.html#b2">b2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Localize.html#b1">b1</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Localize.html#j23">j23</a></span> <span class="id">b2</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Localize.html#b3">b3</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\ <span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span> <span class="id"><a href="Localize.html#b1">b1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Localize.html#b3">b3</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#Inj_lift">Inj_lift</a></span> <span class="id"><a href="Localize.html#j21">j21</a></span> <span class="id"><a href="Localize.html#j23">j23</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Inj_lift_inject">Inj_lift_inject</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j21</span> <span class="id">j23</span> <span class="id">mu</span> <span class="id">lmu</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#Inj_lift">Inj_lift</a></span> <span class="id"><a href="Localize.html#j21">j21</a></span> <span class="id"><a href="Localize.html#j23">j23</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.inject">Bset.inject</a></span> (<span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span>) (<span class="id"><a href="Injections.html#SharedSrc">Injections.SharedSrc</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span>) (<span class="id"><a href="Injections.html#SharedTgt">Injections.SharedTgt</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.inject">Bset.inject</a></span> (<span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span>) (<span class="id"><a href="Injections.html#SharedSrc">Injections.SharedSrc</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span>) (<span class="id"><a href="Injections.html#SharedTgt">Injections.SharedTgt</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6632')">Proof.</div>
<div class="proofscript" id="proof6632">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;* <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;** <span class="tactic">intros</span>. <span class="id">exploit</span> <span class="id">Consist1</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">b2</span> &amp; <span class="id">b2</span>' &amp; <span class="id">J21</span> &amp; <span class="id">J22</span> &amp; <span class="id">J23</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">INJ21</span>. <span class="id">inv</span> <span class="id">inj_weak</span>. <span class="tactic">eapply</span> <span class="id">inj_range</span>'; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;** <span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">INJ23</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">INJ21</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Blockset.html#Bset.inj_range">Bset.inj_range</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">inj_weak</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">b2</span>' &amp; <span class="id">J23</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">Bset.inj_dom</span>' <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">inj_weak</span>); <span class="tactic">eauto</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Blockset.html#Bset.inj_range">Bset.inj_range</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">inj_weak0</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">b2</span> &amp; <span class="id">J22</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">Bset.inj_dom</span>' <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">inj_weak0</span>); <span class="tactic">eauto</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">inj_dom1</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">b</span> &amp; <span class="id">J21</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">b</span>. <span class="id">exploit</span> <span class="id">Consist2</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">b1</span> &amp; <span class="id">b3</span> &amp; <span class="id">J21</span>' &amp; <span class="id">J23</span>' &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">J23</span> <span class="kwd">in</span> <span class="id">J23</span>'. <span class="tactic">rewrite</span> <span class="id">J21</span> <span class="kwd">in</span> <span class="id">J21</span>'. <span class="id">inv</span> <span class="id">J21</span>'. <span class="id">inv</span> <span class="id">J23</span>'. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;** <span class="tactic">intros</span>. <span class="id">exploit</span> <span class="id">Consist1</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">b2</span> &amp; <span class="id">b2</span>' &amp; <span class="id">J21</span> &amp; <span class="id">J22</span> &amp; <span class="id">J23</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">INJ23</span>. <span class="id">exploit</span> (<span class="id">Bset.inj_range</span>' <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">inj_weak</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;** <span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id">Consist1</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>) <span class="kwd">as</span> (<span class="id">b1</span>' &amp; <span class="id">b1</span>'' &amp; <span class="id">J21</span> &amp; <span class="id">J22</span> &amp; <span class="id">J23</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">Consist1</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H1</span>) <span class="kwd">as</span> (<span class="id">b2</span>' &amp; <span class="id">b2</span>'' &amp; <span class="id">J21</span>' &amp; <span class="id">J22</span>' &amp; <span class="id">J23</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">b1</span>'' = <span class="id">b2</span>'').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">INJ23</span>. <span class="tactic">eapply</span> <span class="id"><a href="Blockset.html#Bset.inj_injective">Bset.inj_injective</a></span> <span class="kwd">in</span> <span class="id">inj_weak</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">b1</span>' = <span class="id">b2</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">eapply</span> <span class="id"><a href="Blockset.html#Bset.inj_injective">Bset.inj_injective</a></span> <span class="kwd">in</span> <span class="id">inj_weak</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">rewrite</span> <span class="id">J21</span> <span class="kwd">in</span> <span class="id">J21</span>'. <span class="id">inv</span> <span class="id">J21</span>'. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;* <span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">INJ21</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">INJ23</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Blockset.html#Bset.inj_range">Bset.inj_range</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">inj_weak</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">b2</span> &amp; <span class="id">J21</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">Bset.inj_dom</span>' <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">inj_weak</span>); <span class="tactic">eauto</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">inj_dom0</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">destruct</span> <span class="id">H0</span> <span class="kwd">as</span> [<span class="id">b2</span>' <span class="id">J22</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">Consist2</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">b1</span> &amp; <span class="id">b3</span> &amp; <span class="id">J21</span>' &amp; <span class="id">J23</span>' &amp; ?).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">b3</span>. <span class="tactic">rewrite</span> <span class="id">J21</span> <span class="kwd">in</span> <span class="id">J21</span>'. <span class="id">inv</span> <span class="id">J21</span>'. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">Inj_lift_inject</span>':<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j21</span> <span class="id">j23</span> <span class="id">mu</span> <span class="id">lmu</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#Inj_lift">Inj_lift</a></span> <span class="id"><a href="Localize.html#j21">j21</a></span> <span class="id"><a href="Localize.html#j23">j23</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.inject">Bset.inject</a></span> (<span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span>) (<span class="id"><a href="Injections.html#SharedSrc">Injections.SharedSrc</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span>) (<span class="id"><a href="Injections.html#SharedTgt">Injections.SharedTgt</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.inject">Bset.inject</a></span> (<span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span>) (<span class="id"><a href="Injections.html#SharedSrc">Injections.SharedSrc</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span>) (<span class="id"><a href="Injections.html#SharedTgt">Injections.SharedTgt</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6633')">Proof.</div>
<div class="proofscript" id="proof6633">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;* <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;** <span class="tactic">intros</span>. <span class="id">exploit</span> <span class="id">Consist2</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">b1</span> &amp; <span class="id">b3</span> &amp; <span class="id">J21</span> &amp; <span class="id">J23</span> &amp; <span class="id">J13</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">INJ21</span>. <span class="id">inv</span> <span class="id">inj_weak</span>. <span class="tactic">eapply</span> <span class="id">inj_dom</span>'; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;** <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Blockset.html#Bset.inj_dom">Bset.inj_dom</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">eauto</span>. <span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> (<span class="id">b3</span> &amp; <span class="id">J23</span>). <span class="id">pose</span> <span class="id">proof</span> <span class="id">J23</span> <span class="kwd">as</span> <span class="id">J23</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Bset.inj_range</span>' <span class="kwd">in</span> <span class="id">J23</span>; [|<span class="id">inv</span> <span class="id">INJ23</span>; <span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Blockset.html#Bset.inj_range">Bset.inj_range</a></span> <span class="kwd">in</span> <span class="id">J23</span>; [|<span class="id">inv</span> <span class="id">H0</span>; <span class="tactic">eauto</span>]. <span class="tactic">destruct</span> <span class="id">J23</span> <span class="kwd">as</span> [<span class="id">b1</span> <span class="id">J13</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Consist1</span> <span class="kwd">in</span> <span class="id">J13</span>. <span class="tactic">destruct</span> <span class="id">J13</span> <span class="kwd">as</span> (<span class="id">b2</span> &amp; <span class="id">b2</span>' &amp; <span class="id">J21</span> &amp; <span class="id">J22</span> &amp; <span class="id">J23</span>'').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Blockset.html#Bset.inj_injective">Bset.inj_injective</a></span>. <span class="id">inv</span> <span class="id">INJ23</span>; <span class="tactic">eauto</span>. <span class="id">eexact</span> <span class="id">J23</span>'. <span class="id">eexact</span> <span class="id">J23</span>''. <span class="tactic">intro</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;** <span class="tactic">intros</span>. <span class="id">exploit</span> <span class="id">Consist2</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">b1</span> &amp; <span class="id">b3</span> &amp; <span class="id">J21</span> &amp; <span class="id">J23</span> &amp; <span class="id">J13</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">INJ23</span>. <span class="id">exploit</span> (<span class="id">Bset.inj_dom</span>' <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">inj_weak</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;** <span class="tactic">intros</span> <span class="id">b2</span> <span class="id">b2</span>' <span class="id">b</span> <span class="id">H</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">Consist2</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>) <span class="kwd">as</span> (<span class="id">b1</span> &amp; <span class="id">b3</span> &amp; <span class="id">J21</span> &amp; <span class="id">J23</span> &amp; <span class="id">J13</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">Consist2</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H1</span>) <span class="kwd">as</span> (<span class="id">b1</span>' &amp; <span class="id">b3</span>' &amp; <span class="id">J21</span>' &amp; <span class="id">J23</span>' &amp; <span class="id">J13</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">J23</span> <span class="kwd">in</span> <span class="id">J23</span>'. <span class="id">inv</span> <span class="id">J23</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Blockset.html#Bset.inj_injective">Bset.inj_injective</a></span>. <span class="id">inv</span> <span class="id">H0</span>; <span class="tactic">eauto</span>. <span class="id">eexact</span> <span class="id">J13</span>. <span class="id">eexact</span> <span class="id">J13</span>'. <span class="tactic">intro</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Blockset.html#Bset.inj_injective">Bset.inj_injective</a></span>. <span class="id">inv</span> <span class="id">INJ21</span>; <span class="tactic">eauto</span>. <span class="id">eexact</span> <span class="id">J21</span>. <span class="id">eexact</span> <span class="id">J21</span>'. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;* <span class="tactic">intros</span>. <span class="tactic">eapply</span> (<span class="id"><a href="Blockset.html#Bset.inj_dom">Bset.inj_dom</a></span> <span class="id">j21</span>) <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">eauto</span>. <span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> [<span class="id">b1</span> <span class="id">J21</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">Bset.inj_range</span>'); <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">INJ21</span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span> <span class="id">Hb1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Blockset.html#Bset.inj_dom">Bset.inj_dom</a></span> <span class="kwd">in</span> <span class="id">Hb1</span>; <span class="tactic">eauto</span>. <span class="tactic">destruct</span> <span class="id">Hb1</span> <span class="kwd">as</span> [<span class="id">b3</span> <span class="id">J13</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Consist1</span> <span class="kwd">in</span> <span class="id">J13</span>. <span class="tactic">destruct</span> <span class="id">J13</span> <span class="kwd">as</span> (<span class="id">b2</span> &amp; <span class="id">b2</span>' &amp; <span class="id">J21</span>' &amp; <span class="id">J22</span> &amp; <span class="id">J23</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Blockset.html#Bset.inj_injective">Bset.inj_injective</a></span>. <span class="id">inv</span> <span class="id">INJ21</span>; <span class="tactic">eauto</span>. <span class="id">eexact</span> <span class="id">J21</span>. <span class="id">eexact</span> <span class="id">J21</span>'. <span class="tactic">intro</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Inj_lift_SharedSrc">Inj_lift_SharedSrc</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j21</span> <span class="id">j23</span> <span class="id">mu</span> <span class="id">lmu</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#Inj_lift">Inj_lift</a></span> <span class="id"><a href="Localize.html#j21">j21</a></span> <span class="id"><a href="Localize.html#j23">j23</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Injections.html#SharedSrc">Injections.SharedSrc</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span> <span class="id"><a href="Localize.html#b">b</a></span> &lt;-&gt; <span class="id"><a href="Injections.html#SharedSrc">Injections.SharedSrc</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span> <span class="id"><a href="Localize.html#b">b</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6634')">Proof.</div>
<div class="proofscript" id="proof6634">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id">BSETEQ21</span>. <span class="tactic">tauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Inj_lift_SharedTgt">Inj_lift_SharedTgt</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j21</span> <span class="id">j23</span> <span class="id">mu</span> <span class="id">lmu</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#Inj_lift">Inj_lift</a></span> <span class="id"><a href="Localize.html#j21">j21</a></span> <span class="id"><a href="Localize.html#j23">j23</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Injections.html#SharedTgt">Injections.SharedTgt</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span> <span class="id"><a href="Localize.html#b">b</a></span> &lt;-&gt; <span class="id"><a href="Injections.html#SharedTgt">Injections.SharedTgt</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span> <span class="id"><a href="Localize.html#b">b</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6635')">Proof.</div>
<div class="proofscript" id="proof6635">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id">BSETEQ23</span>. <span class="tactic">tauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Inj_lift_j21_dom">Inj_lift_j21_dom</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j21</span> <span class="id">j23</span> <span class="id">mu</span> <span class="id">lmu</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#Inj_lift">Inj_lift</a></span> <span class="id"><a href="Localize.html#j21">j21</a></span> <span class="id"><a href="Localize.html#j23">j23</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>', <span class="id"><a href="Localize.html#j21">j21</a></span> <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt; <span class="id"><a href="Injections.html#SharedSrc">Injections.SharedSrc</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span> <span class="id"><a href="Localize.html#b">b</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6636')">Proof.</div>
<div class="proofscript" id="proof6636">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">INJ21</span>. <span class="id">inv</span> <span class="id">inj_weak</span>. <span class="tactic">eapply</span> <span class="id">inj_dom</span>'; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="memval_inject_strict_memval_inject">memval_inject_strict_memval_inject</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j21</span> <span class="id">j23</span> <span class="id">mu</span> <span class="id">lmu</span> <span class="id">v1</span> <span class="id">v1</span>' <span class="id">v2</span>' <span class="id">v2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#Inj_lift">Inj_lift</a></span> <span class="id"><a href="Localize.html#j21">j21</a></span> <span class="id"><a href="Localize.html#j23">j23</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemInterpolant.html#memval_inject_strict">memval_inject_strict</a></span> (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id"><a href="Localize.html#j21">j21</a></span>) <span class="id">v1</span>' <span class="id"><a href="Localize.html#v1">v1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memdata.html#memval_inject">memval_inject</a></span> (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> (<span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span>)) <span class="id">v1</span>' <span class="id">v2</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemInterpolant.html#memval_inject_strict">memval_inject_strict</a></span> (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id"><a href="Localize.html#j23">j23</a></span>) <span class="id">v2</span>' <span class="id"><a href="Localize.html#v2">v2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memdata.html#memval_inject">memval_inject</a></span> (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> (<span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span>)) <span class="id"><a href="Localize.html#v1">v1</a></span> <span class="id"><a href="Localize.html#v2">v2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6637')">Proof.</div>
<div class="proofscript" id="proof6637">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v1</span>; <span class="id">inv</span> <span class="id">H0</span>; <span class="id">inv</span> <span class="id">H1</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v</span>; <span class="id">inv</span> <span class="id">H5</span>; <span class="id">inv</span> <span class="id">H7</span>; <span class="id">inv</span> <span class="id">H6</span>; <span class="tactic">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id">_</span> =&gt; <span class="id">_</span> <span class="kwd">end</span> = <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="tactic">destruct</span> <span class="id">x</span> <span class="id">eqn</span>:?; <span class="id">inv</span> <span class="id">H</span> <span class="kwd">end</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="tactic">apply</span> <span class="id">Consist2</span> <span class="kwd">in</span> <span class="id">Heqo0</span>. <span class="tactic">destruct</span> <span class="id">Heqo0</span> <span class="kwd">as</span> (<span class="id">b3</span>' &amp; <span class="id">b4</span>' &amp; <span class="id">J21</span> &amp; <span class="id">J23</span> &amp; <span class="id">INJ</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">J21</span> <span class="kwd">in</span> <span class="id">Heqo1</span>. <span class="id">inv</span> <span class="id">Heqo1</span>. <span class="tactic">rewrite</span> <span class="id">J23</span> <span class="kwd">in</span> <span class="id">Heqo</span>. <span class="id">inv</span> <span class="id">Heqo</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="tactic">rewrite</span> <span class="id">INJ</span>. <span class="tactic">eauto</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">memval_inject_strict_memval_inject</span>':<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j21</span> <span class="id">j23</span> <span class="id">mu</span> <span class="id">lmu</span> <span class="id">v1</span> <span class="id">v1</span>' <span class="id">v2</span>' <span class="id">v2</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#Inj_lift">Inj_lift</a></span> <span class="id"><a href="Localize.html#j21">j21</a></span> <span class="id"><a href="Localize.html#j23">j23</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemInterpolant.html#memval_inject_strict">memval_inject_strict</a></span> (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id"><a href="Localize.html#j21">j21</a></span>) <span class="id">v1</span>' <span class="id"><a href="Localize.html#v1">v1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memdata.html#memval_inject">memval_inject</a></span> (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> (<span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span>)) <span class="id"><a href="Localize.html#v1">v1</a></span> <span class="id"><a href="Localize.html#v2">v2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemInterpolant.html#memval_inject_strict">memval_inject_strict</a></span> (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id"><a href="Localize.html#j23">j23</a></span>) <span class="id">v2</span>' <span class="id"><a href="Localize.html#v2">v2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memdata.html#memval_inject">memval_inject</a></span> (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> (<span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span>)) <span class="id">v1</span>' <span class="id">v2</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6638')">Proof.</div>
<div class="proofscript" id="proof6638">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v1</span>; <span class="id">inv</span> <span class="id">H0</span>; <span class="id">inv</span> <span class="id">H1</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v</span>; <span class="id">inv</span> <span class="id">H5</span>; <span class="id">inv</span> <span class="id">H7</span>; <span class="id">inv</span> <span class="id">H3</span>; <span class="tactic">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id">_</span> =&gt; <span class="id">_</span> <span class="kwd">end</span> = <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="tactic">destruct</span> <span class="id">x</span> <span class="id">eqn</span>:?; <span class="id">inv</span> <span class="id">H</span> <span class="kwd">end</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="tactic">apply</span> <span class="id">Consist1</span> <span class="kwd">in</span> <span class="id">Heqo0</span>. <span class="tactic">destruct</span> <span class="id">Heqo0</span> <span class="kwd">as</span> (<span class="id">b3</span>' &amp; <span class="id">b4</span>' &amp; <span class="id">J21</span> &amp; <span class="id">INJ</span> &amp; <span class="id">J23</span> ).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">b1</span> = <span class="id">b3</span>').<br/>
&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">INJ21</span>. <span class="id">inv</span> <span class="id">inj_weak</span>. <span class="tactic">eapply</span> <span class="id">inj_injective</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">b0</span>= <span class="id">b4</span>').<br/>
&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">INJ23</span>. <span class="id">inv</span> <span class="id">inj_weak</span>. <span class="tactic">eapply</span> <span class="id">inj_injective</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="id">econstructor</span>. <span class="tactic">rewrite</span> <span class="id">INJ</span>. <span class="tactic">eauto</span>. <span class="tactic">generalize</span> <span class="id">H7</span>; <span class="tactic">clear</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="MemInterpolant.html#ptrofs_add_0">ptrofs_add_0</a></span> <span class="kwd">in</span> *. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Loclocalize_LocMatch">Loclocalize_LocMatch</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j21</span> <span class="id">j23</span> <span class="id">j21incr</span> <span class="id">j23incr</span> <span class="id">mu</span> <span class="id">lmu</span> <span class="id">ls</span> <span class="id">lls</span> <span class="id">lls</span>' <span class="id">ls</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#Inj_lift">Inj_lift</a></span> <span class="id"><a href="Localize.html#j21">j21</a></span> <span class="id"><a href="Localize.html#j23">j23</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.inject">Bset.inject</a></span> (<span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span>) (<span class="id"><a href="Injections.html#SharedSrc">Injections.SharedSrc</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span>) (<span class="id"><a href="Injections.html#SharedTgt">Injections.SharedTgt</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#inject_incr">inject_incr</a></span> (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id"><a href="Localize.html#j21">j21</a></span>) (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id"><a href="Localize.html#j21incr">j21incr</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#inject_incr">inject_incr</a></span> (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id"><a href="Localize.html#j23">j23</a></span>) (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id"><a href="Localize.html#j23incr">j23incr</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#Loclocalize">Loclocalize</a></span> <span class="id"><a href="Localize.html#j21incr">j21incr</a></span> <span class="id"><a href="Localize.html#ls">ls</a></span> <span class="id"><a href="Localize.html#lls">lls</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Injections.html#LocMatch">Injections.LocMatch</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span> <span class="id"><a href="Localize.html#lls">lls</a></span> <span class="id">lls</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#Loclocalize">Loclocalize</a></span> <span class="id"><a href="Localize.html#j23incr">j23incr</a></span> <span class="id">ls</span>' <span class="id">lls</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Injections.html#LocMatch">Injections.LocMatch</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span> <span class="id"><a href="Localize.html#ls">ls</a></span> <span class="id">ls</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6639')">Proof.</div>
<div class="proofscript" id="proof6639">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">j21</span> <span class="id">j23</span> <span class="id">j21incr</span> <span class="id">j23incr</span> <span class="id">mu</span> <span class="id">lmu</span> <span class="id">ls</span> <span class="id">lls</span> <span class="id">lls</span>' <span class="id">ls</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">INJLIFT</span> <span class="id">INJLMU</span> <span class="id">INCR21</span> <span class="id">INCR23</span> <span class="id">LOCALIZE21</span> <span class="id">LOCMATCH</span> <span class="id">LOCALIZE23</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>. <span class="tactic">intros</span> <span class="id">b</span>' <span class="id">ofs</span> ? ?.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">exists</span> <span class="id">lb</span>', <span class="id">j23</span> <span class="id">lb</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' /\ <span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span> <span class="id">lls</span>' <span class="id">lb</span>' <span class="id">ofs</span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedTgt">Injections.SharedTgt</a></span> <span class="id">lmu</span>) <span class="id">lb</span>').<br/>
&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">INJLIFT</span>. <span class="id">inv</span> <span class="id">INJ23</span>. <span class="id">exploit</span> <span class="id"><a href="Blockset.html#Bset.inj_range">Bset.inj_range</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">lb</span>' &amp; <span class="id">J23</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Localize.html#inject_incr_bset_inj_incr">inject_incr_bset_inj_incr</a></span>; <span class="tactic">try</span> <span class="tactic">exact</span> <span class="id">J23</span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span> <span class="id">J23</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">lb</span>'. <span class="tactic">split</span>. <span class="tactic">auto</span>. <span class="id">inv</span> <span class="id">LOCALIZE23</span>. <span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id">H1</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">Bset.inj_dom</span>'; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H1</span> <span class="kwd">as</span> (<span class="id">lb</span>' &amp; <span class="id">J23</span> &amp; <span class="id">LLoc</span>' &amp; <span class="id">LShared</span>'). <span class="tactic">clear</span> <span class="id">H</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">exists</span> <span class="id">lb</span>, (<span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id">lmu</span>) <span class="id"><a href="Localize.html#lb">lb</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">lb</span>' /\ <span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span> <span class="id">lls</span> <span class="id"><a href="Localize.html#lb">lb</a></span> <span class="id">ofs</span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedSrc">Injections.SharedSrc</a></span> <span class="id">lmu</span>) <span class="id"><a href="Localize.html#lb">lb</a></span>).<br/>
&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">LOCMATCH</span>. <span class="id">exploit</span> <span class="id">H</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">lb</span> &amp; <span class="id">LShared</span> &amp; <span class="id">LLoc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Localize.html#inject_incr_bset_inj_incr">inject_incr_bset_inj_incr</a></span>; <span class="tactic">try</span> <span class="tactic">exact</span> <span class="id">J21</span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span> <span class="id">J21</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">lb</span>. <span class="tactic">split</span>. <span class="tactic">auto</span>. <span class="tactic">split</span>. <span class="tactic">auto</span>. <span class="id">inv</span> <span class="id">INJLMU</span>. <span class="id">exploit</span> <span class="id">Bset.inj_dom</span>'; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> (<span class="id">lb</span> &amp; <span class="id">J22</span> &amp; <span class="id">LLoc</span> &amp; <span class="id">LShared</span>). <span class="tactic">clear</span> <span class="id">LShared</span>' <span class="id">LLoc</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">exists</span> <span class="id">b</span>, <span class="id">j21</span> <span class="id">lb</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Localize.html#b">b</a></span> /\ <span class="id"><a href="Footprint.html#Locs.belongsto">Locs.belongsto</a></span> <span class="id">ls</span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id">ofs</span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedSrc">Injections.SharedSrc</a></span> <span class="id">mu</span>) <span class="id"><a href="Localize.html#b">b</a></span>).<br/>
&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">INJLIFT</span>. <span class="tactic">clear</span> <span class="id">INJ23</span>. <span class="id">exploit</span> <span class="id"><a href="Blockset.html#Bset.inj_dom">Bset.inj_dom</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">b</span> &amp; <span class="id">J21</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Localize.html#inject_incr_bset_inj_incr">inject_incr_bset_inj_incr</a></span>; <span class="tactic">try</span> <span class="tactic">exact</span> <span class="id">J21</span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span> <span class="id">J21</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">b</span>. <span class="tactic">split</span>. <span class="tactic">auto</span>. <span class="id">inv</span> <span class="id">LOCALIZE21</span>. <span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id">H</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">INJ21</span>. <span class="id">exploit</span> <span class="id">Bset.inj_range</span>'; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> (<span class="id">b</span> &amp; <span class="id">J21</span> &amp; <span class="id">Loc</span> &amp; <span class="id">Shared</span>).<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">b</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="id">inv</span> <span class="id">INJLIFT</span>. <span class="id">exploit</span> <span class="id">Consist2</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> (<span class="id">b1</span> &amp; <span class="id">b3</span> &amp; <span class="id">J21</span>' &amp; <span class="id">J23</span>' &amp; ?).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">J21</span> <span class="kwd">in</span> <span class="id">J21</span>'. <span class="tactic">rewrite</span> <span class="id">J23</span> <span class="kwd">in</span> <span class="id">J23</span>'. <span class="id">inv</span> <span class="id">J21</span>'. <span class="id">inv</span> <span class="id">J23</span>'. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="FPlocalize_FPMatch">FPlocalize_FPMatch</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j21</span> <span class="id">j23</span> <span class="id">j21incr</span> <span class="id">j23incr</span> <span class="id">mu</span> <span class="id">lmu</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#Inj_lift">Inj_lift</a></span> <span class="id"><a href="Localize.html#j21">j21</a></span> <span class="id"><a href="Localize.html#j23">j23</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.inject">Bset.inject</a></span> (<span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span>) (<span class="id"><a href="Injections.html#SharedSrc">Injections.SharedSrc</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span>) (<span class="id"><a href="Injections.html#SharedTgt">Injections.SharedTgt</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#inject_incr">inject_incr</a></span> (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id"><a href="Localize.html#j21">j21</a></span>) (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id"><a href="Localize.html#j21incr">j21incr</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#inject_incr">inject_incr</a></span> (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id"><a href="Localize.html#j23">j23</a></span>) (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id"><a href="Localize.html#j23incr">j23incr</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp</span> <span class="id">lfp</span> <span class="id">lfp</span>' <span class="id">fp</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#FPlocalize">FPlocalize</a></span> <span class="id"><a href="Localize.html#j21incr">j21incr</a></span> <span class="id"><a href="Localize.html#fp">fp</a></span> <span class="id"><a href="Localize.html#lfp">lfp</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#FPlocalize">FPlocalize</a></span> <span class="id"><a href="Localize.html#j23incr">j23incr</a></span> <span class="id">fp</span>' <span class="id">lfp</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Injections.FPMatch</span>' <span class="id"><a href="Localize.html#lmu">lmu</a></span> <span class="id"><a href="Localize.html#lfp">lfp</a></span> <span class="id">lfp</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Injections.FPMatch</span>' <span class="id"><a href="Localize.html#mu">mu</a></span> <span class="id"><a href="Localize.html#fp">fp</a></span> <span class="id">fp</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6640')">Proof.</div>
<div class="proofscript" id="proof6640">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">j21</span> <span class="id">j23</span> <span class="id">j21incr</span> <span class="id">j23incr</span> <span class="id">mu</span> <span class="id">lmu</span> <span class="id">INJLIFT</span> <span class="id">INJLMU</span> <span class="id">INCR21</span> <span class="id">INCR23</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">fp</span> <span class="id">lfp</span> <span class="id">lfp</span>' <span class="id">fp</span>' <span class="id">LOCALIZE21</span> <span class="id">LOCALIZE23</span> <span class="id">MATCH</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">LOCALIZE23</span>. <br/>
&nbsp;&nbsp;<span class="id">constructor</span>; <span class="tactic">eapply</span> <span class="id"><a href="Localize.html#Loclocalize_LocMatch">Loclocalize_LocMatch</a></span>; <span class="tactic">try</span> <span class="id">eassumption</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MATCH</span>; <span class="tactic">try</span> <span class="id">eassumption</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">LOCALIZE21</span>; <span class="id">FP.unfolds_thrshd</span>; <span class="tactic">repeat</span> <span class="tactic">apply</span> <span class="id"><a href="Localize.html#Loclocalize_union">Loclocalize_union</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ge_localize">ge_localize</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">sl</span> <span class="id">tl</span> <span class="id">ssem</span> <span class="id">tsem</span> <span class="id">sG</span> <span class="id">tG</span> <span class="id">sge</span> <span class="id">tge</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">j21</span> <span class="id">j23</span> <span class="id">mu</span> <span class="id">mu_local</span> <span class="id">sG_local</span> <span class="id">tG_local</span> <span class="id">sge_local</span> <span class="id">tge_local</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">R12</span> <span class="id">R32</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#Inj_lift">Inj_lift</a></span> <span class="id"><a href="Localize.html#j21">j21</a></span> <span class="id"><a href="Localize.html#j23">j23</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span> <span class="id"><a href="Localize.html#mu_local">mu_local</a></span> -&gt;<br/>
<div class="doc">DONE: modify the interface of LDSim.ge_init_inj 
              LDSim.ge_init_inj mu sge tge 
              to include relation between Shared and ge.genv_next
     </div>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs.html#ge_init_inj">ge_init_inj</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span> <span class="id"><a href="Localize.html#sge">sge</a></span> <span class="id"><a href="Localize.html#tge">tge</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="Localize.html#LocalizeSim">LocalizeSim</a></span> <span class="id"><a href="Localize.html#sl">sl</a></span> <span class="id"><a href="Localize.html#ssem">ssem</a></span> <span class="id"><a href="Localize.html#j21">j21</a></span> <span class="id"><a href="Localize.html#sge">sge</a></span> <span class="id"><a href="Localize.html#sge_local">sge_local</a></span> <span class="id"><a href="Localize.html#sG">sG</a></span> <span class="id"><a href="Localize.html#sG_local">sG_local</a></span> <span class="id"><a href="Localize.html#R12">R12</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="Localize.html#LiftSim">LiftSim</a></span> <span class="id"><a href="Localize.html#tl">tl</a></span> <span class="id"><a href="Localize.html#tsem">tsem</a></span> <span class="id"><a href="Localize.html#j23">j23</a></span> <span class="id"><a href="Localize.html#tge_local">tge_local</a></span> <span class="id"><a href="Localize.html#tge">tge</a></span> <span class="id"><a href="Localize.html#tG_local">tG_local</a></span> <span class="id"><a href="Localize.html#tG">tG</a></span> <span class="id"><a href="Localize.html#R32">R32</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs.html#ge_init_inj">ge_init_inj</a></span> <span class="id"><a href="Localize.html#mu_local">mu_local</a></span> <span class="id"><a href="Localize.html#sge_local">sge_local</a></span> <span class="id"><a href="Localize.html#tge_local">tge_local</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6641')">Proof.</div>
<div class="proofscript" id="proof6641">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="Localize.html#localize_ge">localize_ge</a></span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">destruct</span> <span class="id">H1</span> <span class="kwd">as</span> [<span class="id">H1</span> <span class="id">_</span>]. <span class="tactic">eapply</span> <span class="id"><a href="Localize.html#lift_ge">lift_ge</a></span> <span class="kwd">in</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> <span class="id">BSETEQ21</span>, &lt;- <span class="id">ge_match_strict_next0</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="Localize.html#localize_ge">localize_ge</a></span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">destruct</span> <span class="id">H1</span> <span class="kwd">as</span> [<span class="id">H1</span> <span class="id">_</span>]. <span class="tactic">eapply</span> <span class="id"><a href="Localize.html#lift_ge">lift_ge</a></span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="tactic">destruct</span> <span class="id">H2</span> <span class="kwd">as</span> [<span class="id">H2</span> <span class="id">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">H2</span>. <span class="tactic">rewrite</span> <span class="id">BSETEQ23</span>, &lt;- <span class="id">ge_match_strict_next0</span>. <span class="id">inv</span> <span class="id">H0</span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id">Inj_lift_inject</span>'; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;{ <span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="Localize.html#localize_ge">localize_ge</a></span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="tactic">eapply</span> <span class="id"><a href="Localize.html#lift_ge">lift_ge</a></span> <span class="kwd">in</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H1</span> <span class="kwd">as</span> [<span class="id">H1</span> <span class="id">H1</span>']. <span class="tactic">destruct</span> <span class="id">H2</span> <span class="kwd">as</span> [<span class="id">H2</span> <span class="id">H2</span>'].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Localize.html#ge_match_strict_senv">ge_match_strict_senv</a></span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="id">instantiate</span> (1:= <span class="id">id</span>) <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Localize.html#ge_match_strict_senv">ge_match_strict_senv</a></span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="id">instantiate</span> (1:= <span class="id">id</span>) <span class="kwd">in</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="LDSimDefs.html#senv_injected">senv_injected</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">instantiate</span> (1:= <span class="id">id</span>) <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id">H</span> <span class="id">H0</span> <span class="id">H1</span> <span class="id">H2</span>; <span class="tactic">clear</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Globalenvs.html#Senv.find_symbol">Senv.find_symbol</a></span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>; <span class="id">inv</span> <span class="id">H1</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">try</span> <span class="id">constructor</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="tactic">apply</span> <span class="id">Consist1</span> <span class="kwd">in</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H3</span> <span class="kwd">in</span> <span class="id">H7</span>. <span class="id">inv</span> <span class="id">H7</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H5</span> <span class="kwd">in</span> <span class="id">H9</span>. <span class="id">inv</span> <span class="id">H9</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H6</span> <span class="kwd">as</span> (<span class="id">b2</span> &amp; <span class="id">b2</span>' &amp; <span class="id">INJ21</span>' &amp; <span class="id">INJ22</span> &amp; <span class="id">INJ23</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Blockset.html#Bset.inj_injective">Bset.inj_injective</a></span>. <span class="id">inv</span> <span class="id">INJ21</span>; <span class="tactic">eauto</span>. <span class="tactic">exact</span> <span class="id">H8</span>. <span class="tactic">exact</span> <span class="id">INJ21</span>'. <span class="tactic">intro</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Blockset.html#Bset.inj_injective">Bset.inj_injective</a></span>. <span class="id">inv</span> <span class="id">INJ23</span>; <span class="tactic">eauto</span>. <span class="tactic">exact</span> <span class="id">H10</span>. <span class="tactic">exact</span> <span class="id">INJ23</span>'. <span class="tactic">intro</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>. }<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="local_ldsim_SharedSrc">local_ldsim_SharedSrc</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ssem</span> <span class="id">tsem</span> <span class="id">I</span> <span class="id">I_order</span> <span class="id">sG</span> <span class="id">tG</span> <span class="id">sge</span> <span class="id">tge</span> <span class="id">R</span> ,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="LDSim_local.html#local_ldsim_properties">local_ldsim_properties</a></span> <span class="id"><a href="Localize.html#ssem">ssem</a></span> <span class="id"><a href="Localize.html#tsem">tsem</a></span> <span class="id"><a href="Localize.html#I">I</a></span> <span class="id"><a href="Localize.html#I_order">I_order</a></span> <span class="id"><a href="Localize.html#sG">sG</a></span> <span class="id"><a href="Localize.html#tG">tG</a></span> <span class="id"><a href="Localize.html#sge">sge</a></span> <span class="id"><a href="Localize.html#tge">tge</a></span> <span class="id"><a href="Localize.html#R">R</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">Beta</span> <span class="id">i</span> <span class="id">mu</span> <span class="id">fpS</span> <span class="id">fpT</span> <span class="id">sconfig</span> <span class="id">tconfig</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#R">R</a></span> <span class="id"><a href="Localize.html#Beta">Beta</a></span> <span class="id"><a href="Localize.html#i">i</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span> <span class="id"><a href="Localize.html#fpS">fpS</a></span> <span class="id"><a href="Localize.html#fpT">fpT</a></span> <span class="id"><a href="Localize.html#sconfig">sconfig</a></span> <span class="id"><a href="Localize.html#tconfig">tconfig</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Injections.html#SharedSrc">Injections.SharedSrc</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span> <span class="id"><a href="Localize.html#b">b</a></span> &lt;-&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id"><a href="Localize.html#sge">sge</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6642')">Proof.</div>
<div class="proofscript" id="proof6642">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="tactic">apply</span> <span class="id">match_mu_ge</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id">mu_shared_src</span>. <span class="tactic">tauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="local_ldsim_SharedTgt">local_ldsim_SharedTgt</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ssem</span> <span class="id">tsem</span> <span class="id">I</span> <span class="id">I_order</span> <span class="id">sG</span> <span class="id">tG</span> <span class="id">sge</span> <span class="id">tge</span> <span class="id">R</span> ,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="LDSim_local.html#local_ldsim_properties">local_ldsim_properties</a></span> <span class="id"><a href="Localize.html#ssem">ssem</a></span> <span class="id"><a href="Localize.html#tsem">tsem</a></span> <span class="id"><a href="Localize.html#I">I</a></span> <span class="id"><a href="Localize.html#I_order">I_order</a></span> <span class="id"><a href="Localize.html#sG">sG</a></span> <span class="id"><a href="Localize.html#tG">tG</a></span> <span class="id"><a href="Localize.html#sge">sge</a></span> <span class="id"><a href="Localize.html#tge">tge</a></span> <span class="id"><a href="Localize.html#R">R</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">Beta</span> <span class="id">i</span> <span class="id">mu</span> <span class="id">fpS</span> <span class="id">fpT</span> <span class="id">sconfig</span> <span class="id">tconfig</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#R">R</a></span> <span class="id"><a href="Localize.html#Beta">Beta</a></span> <span class="id"><a href="Localize.html#i">i</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span> <span class="id"><a href="Localize.html#fpS">fpS</a></span> <span class="id"><a href="Localize.html#fpT">fpT</a></span> <span class="id"><a href="Localize.html#sconfig">sconfig</a></span> <span class="id"><a href="Localize.html#tconfig">tconfig</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Injections.html#SharedTgt">Injections.SharedTgt</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span> <span class="id"><a href="Localize.html#b">b</a></span> &lt;-&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id"><a href="Localize.html#tge">tge</a></span>)).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6643')">Proof.</div>
<div class="proofscript" id="proof6643">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">apply</span> <span class="id">match_mu_ge</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id">mu_shared_tgt</span>. <span class="tactic">tauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="arg_rel_strict_lift">arg_rel_strict_lift</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">mu</span> <span class="id">lmu</span> <span class="id">j21</span> <span class="id">j23</span> <span class="id">argS</span> <span class="id">argT</span> <span class="id">argS</span>' <span class="id">argT</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#Inj_lift">Inj_lift</a></span> <span class="id"><a href="Localize.html#j21">j21</a></span> <span class="id"><a href="Localize.html#j23">j23</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs.html#arg_rel">arg_rel</a></span> (<span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span>) <span class="id"><a href="Localize.html#argS">argS</a></span> <span class="id"><a href="Localize.html#argT">argT</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#args_related">args_related</a></span> <span class="id"><a href="Localize.html#j21">j21</a></span> <span class="id">argS</span>' <span class="id"><a href="Localize.html#argS">argS</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#args_related">args_related</a></span> <span class="id"><a href="Localize.html#j23">j23</a></span> <span class="id">argT</span>' <span class="id"><a href="Localize.html#argT">argT</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs.html#arg_rel">arg_rel</a></span> (<span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span>) <span class="id">argS</span>' <span class="id">argT</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6644')">Proof.</div>
<div class="proofscript" id="proof6644">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">mu</span> <span class="id">lmu</span> <span class="id">j21</span> <span class="id">j23</span> <span class="id">argS</span> <span class="id">argT</span> <span class="id">argS</span>' <span class="id">argT</span>' <span class="id">LIFT</span> <span class="id">REL13</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="tactic">dependent</span> <span class="id">argS</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="tactic">dependent</span> <span class="id">argT</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">REL13</span>; <span class="tactic">intros</span> <span class="id">argT</span>' <span class="id">argS</span>' <span class="id">REL21</span> <span class="id">REL23</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">REL21</span>; <span class="id">inv</span> <span class="id">REL23</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">REL21</span>. <span class="id">inv</span> <span class="id">REL23</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;by&nbsp;val_inject_strict...&nbsp;*)</span>&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H3</span>; <span class="id">inv</span> <span class="id">H5</span>; <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">j21</span> <span class="id">b1</span>) <span class="id">eqn</span>:<span class="id">J21</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>; <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">j23</span> <span class="id">b0</span>) <span class="id">eqn</span>:<span class="id">J23</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>; <span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id">mu</span> <span class="id">b2</span>) <span class="id">eqn</span>:<span class="id">J13</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>; <span class="id">inv</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.add_zero">Integers.Ptrofs.add_zero</a></span> <span class="kwd">in</span> <span class="id">H9</span>. <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">LIFT</span>. <span class="tactic">apply</span> <span class="id">Consist1</span> <span class="kwd">in</span> <span class="id">J13</span>. <span class="tactic">destruct</span> <span class="id">J13</span> <span class="kwd">as</span> (<span class="id">b1</span>' &amp; <span class="id">b0</span>' &amp; <span class="id">J21</span>' &amp; <span class="id">J22</span> &amp; <span class="id">J23</span>').<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Blockset.html#Bset.inj_injective">Bset.inj_injective</a></span>. <span class="id">inv</span> <span class="id">INJ21</span>; <span class="tactic">eauto</span>. <span class="tactic">exact</span> <span class="id">J21</span>. <span class="tactic">exact</span> <span class="id">J21</span>'. <span class="tactic">intro</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Blockset.html#Bset.inj_injective">Bset.inj_injective</a></span>. <span class="id">inv</span> <span class="id">INJ23</span>; <span class="tactic">eauto</span>. <span class="tactic">exact</span> <span class="id">J23</span>. <span class="tactic">exact</span> <span class="id">J23</span>'. <span class="tactic">intro</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="tactic">rewrite</span> <span class="id">J22</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.add_zero">Integers.Ptrofs.add_zero</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">IHREL13</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
&nbsp;&nbsp;<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ores_rel_strict_lift">ores_rel_strict_lift</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">mu</span> <span class="id">lmu</span> <span class="id">j21</span> <span class="id">j23</span> <span class="id">ores</span> <span class="id">ores</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#Inj_lift">Inj_lift</a></span> <span class="id"><a href="Localize.html#j21">j21</a></span> <span class="id"><a href="Localize.html#j23">j23</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs.html#G_oarg">G_oarg</a></span> (<span class="id"><a href="Injections.html#SharedSrc">Injections.SharedSrc</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span>) <span class="id"><a href="Localize.html#ores">ores</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs.html#ores_rel">ores_rel</a></span> (<span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span>) <span class="id"><a href="Localize.html#ores">ores</a></span> <span class="id">ores</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">ores_local</span> <span class="id">ores_local</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#oarg_related">oarg_related</a></span> <span class="id"><a href="Localize.html#j21">j21</a></span> <span class="id"><a href="Localize.html#ores_local">ores_local</a></span> <span class="id"><a href="Localize.html#ores">ores</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs.html#ores_rel">ores_rel</a></span> (<span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span>) <span class="id"><a href="Localize.html#ores_local">ores_local</a></span> <span class="id">ores_local</span>' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#oarg_related">oarg_related</a></span> <span class="id"><a href="Localize.html#j23">j23</a></span> <span class="id">ores_local</span>' <span class="id">ores</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6645')">Proof.</div>
<div class="proofscript" id="proof6645">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">mu</span> <span class="id">lmu</span> <span class="id">j21</span> <span class="id">j23</span> <span class="id">ores</span> <span class="id">ores</span>' <span class="id">INJLIFT</span> <span class="id">GRES</span> <span class="id">ORESREL</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">ores</span> <span class="id">eqn</span>:<span class="id">Hores</span>; <span class="tactic">destruct</span> <span class="id">ores</span>' <span class="id">eqn</span>:<span class="id">Hores</span>'; <span class="tactic">inversion</span> <span class="id">ORESREL</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H1</span>: <span class="id">ores</span> = ?<span class="id">x</span>, <span class="id">H2</span>: <span class="id">ores</span>' = ?<span class="id">y</span> |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="id">exists</span> <span class="id">x</span>, <span class="id">y</span>; <span class="tactic">subst</span>; <span class="tactic">repeat</span> <span class="tactic">split</span>; <span class="tactic">try</span> <span class="id">constructor</span>; <span class="tactic">fail</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id">mu</span> <span class="id">b1</span>) <span class="id">eqn</span>:<span class="id">H</span>';<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">rewrite</span> <span class="id">H</span>' <span class="kwd">in</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">INJLIFT</span>. <span class="id">exploit</span> (<span class="id">Consist1</span> <span class="id">b1</span> <span class="id">b2</span>). <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> (<span class="id">b1</span>' &amp; <span class="id">b2</span>' &amp; <span class="id">J21</span> &amp; <span class="id">J22</span> &amp; <span class="id">J23</span>).<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b1</span>' <span class="id">ofs1</span>)), (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b2</span>' <span class="id">ofs1</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="id">cbv</span>. <span class="tactic">rewrite</span> <span class="id">J21</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Integers.html#Ptrofs.unsigned_zero">Integers.Ptrofs.unsigned_zero</a></span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Integers.html#Ptrofs.repr_unsigned">Integers.Ptrofs.repr_unsigned</a></span>, <span class="id"><a href="Integers.html#Ptrofs.add_zero">Integers.Ptrofs.add_zero</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>. <span class="tactic">rewrite</span> <span class="id">J22</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Integers.html#Ptrofs.unsigned_zero">Integers.Ptrofs.unsigned_zero</a></span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Integers.html#Ptrofs.repr_unsigned">Integers.Ptrofs.repr_unsigned</a></span>, <span class="id"><a href="Integers.html#Ptrofs.add_zero">Integers.Ptrofs.add_zero</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>. <span class="tactic">rewrite</span> <span class="id">J23</span>. <span class="tactic">eauto</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">subst</span>.  <span class="id">contradiction</span>.<br/>
Qed.</div>
<br/>
<br/>
<br/>
<div class="doc">Memory interpolant for HLRELY </div>
<span class="kwd">Program</span> <span class="kwd">Definition</span> <span class="id"><a name="inject_memory">inject_memory</a></span> (<span class="id">j</span> <span class="id">j</span>': <span class="id"><a href="Blockset.html#Bset.inj">Bset.inj</a></span>) (<span class="id">bound</span>: <span class="id"><a href="Values.html#block">block</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">gm</span>: <span class="id"><a href="GMemory.html#gmem">gmem</a></span>) (<span class="id">m</span>: <span class="id"><a href="Memory.html#mem">mem</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">REV</span>: <span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>', <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' &lt;-&gt; <span class="id">j</span>' <span class="id">b</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Localize.html#b">b</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SHARED_VALID</span>: <span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>', <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="Localize.html#m">m</a></span>))<br/>
&nbsp;&nbsp;: <span class="id"><a href="Memory.html#mem">mem</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.mkmem">Mem.mkmem</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#proj1_sig">proj1_sig</a></span> (<span class="id"><a href="MemInterpolant.html#inject_content_c">inject_content_c</a></span> <span class="id"><a href="Localize.html#j">j</a></span> <span class="id">j</span>' <span class="id"><a href="Localize.html#bound">bound</a></span> (<span class="id"><a href="Memory.html#Mem.mem_contents">Mem.mem_contents</a></span> <span class="id"><a href="Localize.html#m">m</a></span>) (<span class="id"><a href="GMemory.html#GMem.mem_contents">GMem.mem_contents</a></span> <span class="id"><a href="Localize.html#gm">gm</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#proj1_sig">proj1_sig</a></span> (<span class="id"><a href="Localize.html#inject_access_c">inject_access_c</a></span> <span class="id"><a href="Localize.html#j">j</a></span> <span class="id">j</span>' <span class="id"><a href="Localize.html#bound">bound</a></span> (<span class="id"><a href="Memory.html#Mem.mem_access">Mem.mem_access</a></span> <span class="id"><a href="Localize.html#m">m</a></span>) (<span class="id"><a href="GMemory.html#GMem.mem_access">GMem.mem_access</a></span> <span class="id"><a href="Localize.html#gm">gm</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id"><a href="Localize.html#m">m</a></span>) <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6646')">Next Obligation.</div>
<div class="proofscript" id="proof6646">
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#proj2_sig">proj2_sig</a></span> (<span class="id"><a href="Localize.html#inject_access_c">inject_access_c</a></span> <span class="id">j</span> <span class="id">j</span>' <span class="id">bound</span> (<span class="id"><a href="Memory.html#Mem.mem_access">Mem.mem_access</a></span> <span class="id">m</span>) (<span class="id"><a href="GMemory.html#GMem.mem_access">GMem.mem_access</a></span> <span class="id">gm</span>))).<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id">H0</span>. <span class="tactic">clear</span> <span class="id">H</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Localize.html#inject_access">inject_access</a></span>. <br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">j</span> <span class="id">b</span>) <span class="id">eqn</span>:<span class="id">Jb</span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">perm_order</span>''<span class="id">_equiv_1</span>. <span class="tactic">simpl</span>. <span class="tactic">apply</span> <span class="id"><a href="GMemory.html#GMem.access_max">GMem.access_max</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Memory.html#Mem.access_max">Mem.access_max</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>; <span class="tactic">apply</span> <span class="id"><a href="Memory.html#Mem.access_max">Mem.access_max</a></span>. <br/>
Qed.</div>
<div class="toggleproof" onclick="toggleDisplay('proof6647')">Next Obligation.</div>
<div class="proofscript" id="proof6647">
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#proj2_sig">proj2_sig</a></span> (<span class="id"><a href="Localize.html#inject_access_c">inject_access_c</a></span> <span class="id">j</span> <span class="id">j</span>' <span class="id">bound</span> (<span class="id"><a href="Memory.html#Mem.mem_access">Mem.mem_access</a></span> <span class="id">m</span>) (<span class="id"><a href="GMemory.html#GMem.mem_access">GMem.mem_access</a></span> <span class="id">gm</span>))).      <br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id">H1</span>. <span class="tactic">clear</span> <span class="id">H0</span> <span class="id">H1</span>. <span class="tactic">unfold</span> <span class="id"><a href="Localize.html#inject_access">inject_access</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">j</span> <span class="id">b</span>) <span class="id">eqn</span>:<span class="id">Jb</span>. <span class="id">exploit</span> <span class="id">SHARED_VALID</span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span>. <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>; <span class="id">exploit</span> (<span class="id"><a href="Memory.html#Mem.nextblock_noaccess">Mem.nextblock_noaccess</a></span>); <span class="tactic">eauto</span>.<br/>
Qed.</div>
<div class="toggleproof" onclick="toggleDisplay('proof6648')">Next Obligation.</div>
<div class="proofscript" id="proof6648">
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#proj2_sig">proj2_sig</a></span> (<span class="id"><a href="MemInterpolant.html#inject_content_c">inject_content_c</a></span> <span class="id">j</span> <span class="id">j</span>' <span class="id">bound</span> (<span class="id"><a href="Memory.html#Mem.mem_contents">Mem.mem_contents</a></span> <span class="id">m</span>) (<span class="id"><a href="GMemory.html#GMem.mem_contents">GMem.mem_contents</a></span> <span class="id">gm</span>))).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id">H0</span>. <span class="tactic">unfold</span> <span class="id"><a href="MemInterpolant.html#inject_content">inject_content</a></span>. <br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">j</span> <span class="id">b</span>); <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="Memory.html#Mem.contents_default">Mem.contents_default</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#proj2_sig">proj2_sig</a></span> (<span class="id"><a href="MemInterpolant.html#inject_zmap_memval_c">inject_zmap_memval_c</a></span> <span class="id">j</span>' (<span class="id"><a href="GMemory.html#GMem.mem_contents">GMem.mem_contents</a></span> <span class="id">gm</span>) !! <span class="id">b0</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span>. <span class="tactic">unfold</span> <span class="id"><a href="MemInterpolant.html#inject_memval">inject_memval</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="GMemory.html#GMem.contents_default">GMem.contents_default</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mem_inj_localize">mem_inj_localize</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j21</span> <span class="id">j23</span> <span class="id">bound</span> <span class="id">fl</span> <span class="id">fl</span>' <span class="id">mu</span> <span class="id">lmu</span> <span class="id">m</span> <span class="id">lm</span> <span class="id">lm</span>' <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#Inj_lift">Inj_lift</a></span> <span class="id"><a href="Localize.html#j21">j21</a></span> <span class="id"><a href="Localize.html#j23">j23</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="Localize.html#j21">j21</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#m">m</a></span> <span class="id"><a href="Localize.html#lm">lm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="Localize.html#j23">j23</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span> <span class="id">fl</span>' <span class="id">m</span>' <span class="id">lm</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GMemory.html#GMem.mem_inj">GMem.mem_inj</a></span> (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> (<span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span>)) <span class="id"><a href="Localize.html#m">m</a></span> <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.mem_inj">Mem.mem_inj</a></span> (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> (<span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span>)) <span class="id"><a href="Localize.html#lm">lm</a></span> <span class="id">lm</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6649')">Proof.</div>
<div class="proofscript" id="proof6649">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">j21</span> <span class="id">j23</span> <span class="id">bound</span> <span class="id">fl</span> <span class="id">fl</span>' <span class="id">mu</span> <span class="id">lmu</span> <span class="id">m</span> <span class="id">lm</span> <span class="id">lm</span>' <span class="id">m</span>' <span class="id">H</span> <span class="id">H0</span> <span class="id">H1</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id">constructor</span>; <span class="tactic">intros</span>; <span class="id">exploit</span> <span class="id"><a href="MemInterpolant.html#inj_to_meminj_some">inj_to_meminj_some</a></span>; <span class="tactic">eauto</span>; <span class="tactic">intros</span> [<span class="id">INJ</span> <span class="id">Hdelta</span>]; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span>. <span class="tactic">apply</span> <span class="id">Consist2</span> <span class="kwd">in</span> <span class="id">INJ</span>. <span class="tactic">destruct</span> <span class="id">INJ</span> <span class="kwd">as</span> (<span class="id">b1</span>' &amp; <span class="id">b2</span>' &amp; <span class="id">J21</span> &amp; <span class="id">J23</span> &amp; <span class="id">INJ</span>').<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Localize.html#mem_related_inj_construct_inj">mem_related_inj_construct_inj</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Localize.html#mem_related_inj_construct_inj">mem_related_inj_construct_inj</a></span> <span class="id">j21</span>); <span class="tactic">eauto</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Localize.html#mem_related_mem_perm_eq">mem_related_mem_perm_eq</a></span>; <span class="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="FMemPerm.html#perm_kind_convert_eq">perm_kind_convert_eq</a></span>; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="FMemPerm.html#permission_convert_eq">permission_convert_eq</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Localize.html#mem_related_mem_perm_eq">mem_related_mem_perm_eq</a></span> <span class="kwd">in</span> <span class="id">H4</span>; <span class="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="FMemPerm.html#perm_kind_convert_eq">perm_kind_convert_eq</a></span>; <span class="tactic">try</span> <span class="tactic">apply</span> <span class="id"><a href="FMemPerm.html#permission_convert_eq">permission_convert_eq</a></span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H2</span>. <span class="tactic">eapply</span> <span class="id">mi_perm</span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>. <span class="tactic">rewrite</span> <span class="id">INJ</span>'. <span class="tactic">auto</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.divide_0_r">Z.divide_0_r</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span>. <span class="tactic">apply</span> <span class="id">Consist2</span> <span class="kwd">in</span> <span class="id">INJ</span>. <span class="tactic">destruct</span> <span class="id">INJ</span> <span class="kwd">as</span> (<span class="id">b1</span>' &amp; <span class="id">b2</span>' &amp; <span class="id">J21</span> &amp; <span class="id">J23</span> &amp; <span class="id">INJ</span>').<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Localize.html#mem_related_inj_construct_inj">mem_related_inj_construct_inj</a></span> <span class="id">j21</span>); <span class="tactic">eauto</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H4</span>. <span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="Localize.html#mem_related_mem_perm_eq">mem_related_mem_perm_eq</a></span> <span class="id">j21</span>) <span class="kwd">in</span> <span class="id">H4</span>; <span class="tactic">eauto</span>; <span class="tactic">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="GMemory.html#GMem.mi_memval">GMem.mi_memval</a></span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>. <span class="tactic">rewrite</span> <span class="id">INJ</span>'. <span class="tactic">eauto</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<br/>
<br/>
&nbsp;rule&nbsp;out&nbsp;the&nbsp;case&nbsp;when&nbsp;source&nbsp;content&nbsp;is&nbsp;Undef,&nbsp;or&nbsp;Fragment&nbsp;Vundef..<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;which&nbsp;case&nbsp;we&nbsp;cannot&nbsp;relate&nbsp;source&nbsp;and&nbsp;target&nbsp;contents.<br/>
&nbsp;&nbsp;&nbsp;*)</span>&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Maps.html#ZMap.get">ZMap.get</a></span> <span class="id">ofs</span> (<span class="id"><a href="GMemory.html#GMem.mem_contents">GMem.mem_contents</a></span> <span class="id">m</span>) !! <span class="id">b1</span>' = <span class="id"><a href="Memdata.html#Undef">Undef</a></span> \/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Maps.html#ZMap.get">ZMap.get</a></span> <span class="id">ofs</span> (<span class="id"><a href="GMemory.html#GMem.mem_contents">GMem.mem_contents</a></span> <span class="id">m</span>) !! <span class="id">b1</span>' &lt;&gt; <span class="id"><a href="Memdata.html#Undef">Undef</a></span>) <span class="kwd">as</span> [<span class="id">Triv</span>|<span class="id">Nontriv</span>].<br/>
&nbsp;&nbsp;{ <span class="tactic">clear</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Maps.html#ZMap.get">ZMap.get</a></span> <span class="id">ofs</span> (<span class="id"><a href="GMemory.html#GMem.mem_contents">GMem.mem_contents</a></span> <span class="id">m</span>) !! <span class="id">b1</span>'); <span class="tactic">auto</span>; <span class="id">right</span>; <span class="tactic">intro</span> <span class="id">C</span>; <span class="id">inv</span> <span class="id">C</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Triv</span> <span class="kwd">in</span> *. <span class="id">exploit</span> (<span class="id"><a href="Localize.html#mem_related_mem_val_shared">mem_related_mem_val_shared</a></span> <span class="id">j21</span>); <span class="tactic">eauto</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Triv</span> <span class="kwd">in</span> *. <span class="id">inv</span> <span class="id">H7</span>. <span class="id">constructor</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> ((<span class="id">exists</span> <span class="id">q</span> <span class="id">n</span>, <span class="id"><a href="Maps.html#ZMap.get">ZMap.get</a></span> <span class="id">ofs</span> (<span class="id"><a href="GMemory.html#GMem.mem_contents">GMem.mem_contents</a></span> <span class="id">m</span>) !! <span class="id">b1</span>' = <span class="id"><a href="Memdata.html#Fragment">Fragment</a></span> <span class="id"><a href="Values.html#Vundef">Vundef</a></span> <span class="id"><a href="Localize.html#q">q</a></span> <span class="id"><a href="Localize.html#n">n</a></span>) \/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">q</span> <span class="id">n</span>, <span class="id"><a href="Maps.html#ZMap.get">ZMap.get</a></span> <span class="id">ofs</span> (<span class="id"><a href="GMemory.html#GMem.mem_contents">GMem.mem_contents</a></span> <span class="id">m</span>) !! <span class="id">b1</span>' &lt;&gt; <span class="id"><a href="Memdata.html#Fragment">Fragment</a></span> <span class="id"><a href="Values.html#Vundef">Vundef</a></span> <span class="id"><a href="Localize.html#q">q</a></span> <span class="id"><a href="Localize.html#n">n</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">as</span> [(<span class="id">q</span>&amp;<span class="id">n</span>&amp;<span class="id">Triv</span>)|<span class="id">Nontriv</span>'].<br/>
&nbsp;&nbsp;{ <span class="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Maps.html#ZMap.get">ZMap.get</a></span> <span class="id">ofs</span> (<span class="id"><a href="GMemory.html#GMem.mem_contents">GMem.mem_contents</a></span> <span class="id">m</span>) !! <span class="id">b1</span>');<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="id">right</span>; <span class="tactic">intros</span> ? ? <span class="id">C</span>; <span class="id">inv</span> <span class="id">C</span>; <span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v</span>; <span class="tactic">try</span> (<span class="id">right</span>; <span class="tactic">intros</span> ? ? <span class="id">C</span>; <span class="id">inv</span> <span class="id">C</span>; <span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">left</span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Localize.html#mem_related_mem_val_shared">mem_related_mem_val_shared</a></span> <span class="id">j21</span>); <span class="tactic">eauto</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Triv</span> <span class="kwd">in</span> *; <span class="tactic">clear</span> <span class="id">Triv</span> <span class="id">Nontriv</span>. <span class="id">inv</span> <span class="id">H7</span>. <span class="id">inv</span> <span class="id">H10</span>. <span class="tactic">clear</span> <span class="id">H8</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H6</span>. <span class="tactic">clear</span> <span class="id">H8</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Localize.html#mem_related_mem_val_shared">mem_related_mem_val_shared</a></span> <span class="id">j23</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="GMemory.html#GMem.mi_perm">GMem.mi_perm</a></span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>; <span class="tactic">rewrite</span> <span class="id">INJ</span>'. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="tactic">rewrite</span> (<span class="id"><a href="Localize.html#mem_related_mem_perm_eq">mem_related_mem_perm_eq</a></span> <span class="id">j23</span>) <span class="kwd">in</span> <span class="id">H6</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Localize.html#mem_related_inj_construct_inj">mem_related_inj_construct_inj</a></span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H11</span>. <span class="tactic">intro</span>. <span class="id">inv</span> <span class="id">H6</span>. <span class="id">constructor</span>. <span class="id">constructor</span>.<br/>
<br/>
&nbsp;contents&nbsp;are&nbsp;related&nbsp;by&nbsp;mu&nbsp;*)</span>&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">memval_inject_strict_memval_inject</span>'; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Localize.html#mem_related_mem_val_shared">mem_related_mem_val_shared</a></span> <span class="id">j21</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="Localize.html#mem_related_freelist_disjoint">mem_related_freelist_disjoint</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H0</span>) <span class="kwd">as</span> <span class="id">FLDISJ</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Blockset.html#Bset.inj_weak">Bset.inj_weak</a></span>). <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">apply</span> <span class="id">mem_related_inj_j0</span>. <br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id">H6</span> <span class="id">Consist1</span> <span class="id">FLDISJ</span>. <span class="tactic">clear</span>. <span class="tactic">intros</span> <span class="id">GMI</span> <span class="id">Consist1</span> <span class="id">FLDISJ</span> <span class="id">INJ</span> <span class="id">MI</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">GMI</span>; <span class="tactic">try</span> (<span class="tactic">rewrite</span> &lt;- <span class="id">H0</span> <span class="kwd">in</span> <span class="id">MI</span>; <span class="id">inv</span> <span class="id">MI</span>; <span class="id">constructor</span>; <span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H</span> <span class="kwd">in</span> *. <span class="id">inv</span> <span class="id">MI</span>. <span class="id">constructor</span>. <br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">try</span> <span class="id">constructor</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H3</span>. <span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>, <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="kwd">in</span> *; <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id">mu</span> <span class="id">b2</span>) <span class="id">eqn</span>:?; <span class="id">inv</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">Consist1</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Heqo</span>) <span class="kwd">as</span> (<span class="id">b2</span>'0 &amp; <span class="id">b4</span>' &amp; <span class="id">J21</span> &amp; <span class="id">INJ</span>' &amp; <span class="id">J23</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">Bset.inj_range</span>'; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span>; <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H3</span>. <span class="id">exfalso</span>; <span class="tactic">eapply</span> <span class="id">FLDISJ</span>; <span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Localize.html#mem_related_mem_val_shared">mem_related_mem_val_shared</a></span> <span class="id">j23</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="GMemory.html#GMem.mi_perm">GMem.mi_perm</a></span> <span class="kwd">in</span> <span class="id">H4</span>; <span class="tactic">eauto</span>; <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>; <span class="tactic">try</span> <span class="tactic">rewrite</span> <span class="id">INJ</span>'; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Localize.html#mem_related_mem_perm_eq">mem_related_mem_perm_eq</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="Localize.html#mem_related_inj_construct_inj">mem_related_inj_construct_inj</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="Localize.html#mem_related_freelist_disjoint">mem_related_freelist_disjoint</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H1</span>) <span class="kwd">as</span> <span class="id">FLDISJ</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Blockset.html#Bset.inj_weak">Bset.inj_weak</a></span>). <span class="id">inv</span> <span class="id">H1</span>. <span class="tactic">apply</span> <span class="id">mem_related_inj_j0</span>. <br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id">Nontriv</span> <span class="id">Nontriv</span>' <span class="id">H6</span> <span class="id">Consist1</span> <span class="id">FLDISJ</span>. <span class="tactic">clear</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">Nontriv</span> <span class="id">Nontriv</span>' <span class="id">GMI</span> <span class="id">Consist1</span> <span class="id">FLDISJ</span> <span class="id">INJ</span> <span class="id">MI</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_0_r">Z.add_0_r</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">GMI</span>; <span class="tactic">try</span> (<span class="tactic">try</span> <span class="tactic">rewrite</span> &lt;- <span class="id">H</span> <span class="kwd">in</span> <span class="id">MI</span>; <span class="tactic">try</span> <span class="tactic">rewrite</span> &lt;- <span class="id">H0</span> <span class="kwd">in</span> <span class="id">MI</span>; <span class="id">inv</span> <span class="id">MI</span>; <span class="id">constructor</span>; <span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H0</span> <span class="kwd">in</span> *. <span class="id">inv</span> <span class="id">MI</span>. <span class="id">constructor</span>. <br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">try</span> <span class="id">constructor</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H3</span>. <span class="id">inv</span> <span class="id">H1</span>. <br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>, <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="kwd">in</span> *; <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id">mu</span> <span class="id">b3</span>) <span class="id">eqn</span>:?; <span class="id">inv</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">Consist1</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Heqo</span>) <span class="kwd">as</span> (<span class="id">b2</span>'0 &amp; <span class="id">b4</span>' &amp; <span class="id">J21</span> &amp; <span class="id">INJ</span>' &amp; <span class="id">J23</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">Bset.inj_range</span>'; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span>; <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H3</span>. <span class="id">exfalso</span>; <span class="tactic">eapply</span> <span class="id">FLDISJ</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H0</span> <span class="kwd">in</span> <span class="id">Nontriv</span>. <span class="id">contradiction</span>.      <br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">mem_inj_localize</span>':<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j21</span> <span class="id">j23</span> <span class="id">bound</span> <span class="id">fl</span> <span class="id">fl</span>' <span class="id">mu</span> <span class="id">lmu</span> <span class="id">m</span> <span class="id">lm</span> <span class="id">lm</span>' <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#Inj_lift">Inj_lift</a></span> <span class="id"><a href="Localize.html#j21">j21</a></span> <span class="id"><a href="Localize.html#j23">j23</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="Localize.html#j21">j21</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#m">m</a></span> <span class="id"><a href="Localize.html#lm">lm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="Localize.html#j23">j23</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span> <span class="id">fl</span>' <span class="id">m</span>' <span class="id">lm</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.mem_inj">Mem.mem_inj</a></span> (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> (<span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span>)) <span class="id"><a href="Localize.html#lm">lm</a></span> <span class="id">lm</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="GMemory.html#GMem.mem_inj">GMem.mem_inj</a></span> (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> (<span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span>)) <span class="id"><a href="Localize.html#m">m</a></span> <span class="id">m</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6650')">Proof.</div>
<div class="proofscript" id="proof6650">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">j21</span> <span class="id">j23</span> <span class="id">bound</span> <span class="id">fl</span> <span class="id">fl</span>' <span class="id">mu</span> <span class="id">lmu</span> <span class="id">m</span> <span class="id">lm</span> <span class="id">lm</span>' <span class="id">m</span>' <span class="id">H</span> <span class="id">H0</span> <span class="id">H1</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id">constructor</span>; <span class="tactic">intros</span>; <span class="id">exploit</span> <span class="id"><a href="MemInterpolant.html#inj_to_meminj_some">inj_to_meminj_some</a></span>; <span class="tactic">eauto</span>; <span class="tactic">intros</span> [<span class="id">INJ</span> <span class="id">Hdelta</span>]; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span>. <span class="tactic">apply</span> <span class="id">Consist1</span> <span class="kwd">in</span> <span class="id">INJ</span>. <span class="tactic">destruct</span> <span class="id">INJ</span> <span class="kwd">as</span> (<span class="id">b1</span>' &amp; <span class="id">b2</span>' &amp; <span class="id">J21</span> &amp; <span class="id">INJ</span>' &amp; <span class="id">J23</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Localize.html#mem_related_inj_construct_inj">mem_related_inj_construct_inj</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Localize.html#mem_related_inj_construct_inj">mem_related_inj_construct_inj</a></span> <span class="id">j21</span>); <span class="tactic">eauto</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Localize.html#mem_related_mem_perm_eq">mem_related_mem_perm_eq</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Localize.html#mem_related_mem_perm_eq">mem_related_mem_perm_eq</a></span> <span class="kwd">in</span> <span class="id">H4</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H2</span>. <span class="tactic">eapply</span> <span class="id">mi_perm</span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>. <span class="tactic">rewrite</span> <span class="id">INJ</span>'. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">instantiate</span> (1:= <span class="id">perm_kind_convert</span>' <span class="id">k</span>). <span class="tactic">destruct</span> <span class="id">k</span>; <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">instantiate</span> (1:= <span class="id">permission_convert</span>' <span class="id">p</span>). <span class="tactic">destruct</span> <span class="id">p</span>; <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">k</span>; <span class="id">constructor</span>. <span class="tactic">destruct</span> <span class="id">p</span>; <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.divide_0_r">Z.divide_0_r</a></span>.<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span>. <span class="tactic">apply</span> <span class="id">Consist1</span> <span class="kwd">in</span> <span class="id">INJ</span>. <span class="tactic">destruct</span> <span class="id">INJ</span> <span class="kwd">as</span> (<span class="id">b1</span>' &amp; <span class="id">b2</span>' &amp; <span class="id">J21</span> &amp; <span class="id">INJ</span>' &amp; <span class="id">J23</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Localize.html#mem_related_inj_construct_inj">mem_related_inj_construct_inj</a></span> <span class="id">j21</span>); <span class="tactic">eauto</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">H4</span>. <span class="tactic">rewrite</span> (<span class="id"><a href="Localize.html#mem_related_mem_perm_eq">mem_related_mem_perm_eq</a></span> <span class="id">j21</span>) <span class="kwd">in</span> <span class="id">H4</span>; <span class="tactic">eauto</span>; <span class="tactic">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Memory.html#Mem.mi_memval">Mem.mi_memval</a></span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>. <span class="tactic">rewrite</span> <span class="id">INJ</span>'. <span class="tactic">eauto</span>. <span class="tactic">intro</span>.<br/>
<br/>
&nbsp;rule&nbsp;out&nbsp;the&nbsp;case&nbsp;when&nbsp;source&nbsp;content&nbsp;is&nbsp;Undef,&nbsp;or&nbsp;Fragment&nbsp;Vundef..<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in&nbsp;which&nbsp;case&nbsp;we&nbsp;cannot&nbsp;relate&nbsp;source&nbsp;and&nbsp;target&nbsp;contents.<br/>
&nbsp;&nbsp;&nbsp;*)</span>&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Maps.html#ZMap.get">ZMap.get</a></span> <span class="id">ofs</span> (<span class="id"><a href="Memory.html#Mem.mem_contents">Mem.mem_contents</a></span> <span class="id">lm</span>) !! <span class="id">b1</span>' = <span class="id"><a href="Memdata.html#Undef">Undef</a></span> \/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Maps.html#ZMap.get">ZMap.get</a></span> <span class="id">ofs</span> (<span class="id"><a href="Memory.html#Mem.mem_contents">Mem.mem_contents</a></span> <span class="id">lm</span>) !! <span class="id">b1</span>' &lt;&gt; <span class="id"><a href="Memdata.html#Undef">Undef</a></span>) <span class="kwd">as</span> [<span class="id">Triv</span>|<span class="id">Nontriv</span>].<br/>
&nbsp;&nbsp;{ <span class="tactic">clear</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Maps.html#ZMap.get">ZMap.get</a></span> <span class="id">ofs</span> (<span class="id"><a href="Memory.html#Mem.mem_contents">Mem.mem_contents</a></span> <span class="id">lm</span>) !! <span class="id">b1</span>'); <span class="tactic">auto</span>; <span class="id">right</span>; <span class="tactic">intro</span> <span class="id">C</span>; <span class="id">inv</span> <span class="id">C</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Triv</span> <span class="kwd">in</span> *. <span class="id">exploit</span> (<span class="id"><a href="Localize.html#mem_related_mem_val_shared">mem_related_mem_val_shared</a></span> <span class="id">j21</span>); <span class="tactic">eauto</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Triv</span> <span class="kwd">in</span> *. <span class="id">inv</span> <span class="id">H7</span>. <span class="id">constructor</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> ((<span class="id">exists</span> <span class="id">q</span> <span class="id">n</span>, <span class="id"><a href="Maps.html#ZMap.get">ZMap.get</a></span> <span class="id">ofs</span> (<span class="id"><a href="Memory.html#Mem.mem_contents">Mem.mem_contents</a></span> <span class="id">lm</span>) !! <span class="id">b1</span>' = <span class="id"><a href="Memdata.html#Fragment">Fragment</a></span> <span class="id"><a href="Values.html#Vundef">Vundef</a></span> <span class="id"><a href="Localize.html#q">q</a></span> <span class="id"><a href="Localize.html#n">n</a></span>) \/<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">q</span> <span class="id">n</span>, <span class="id"><a href="Maps.html#ZMap.get">ZMap.get</a></span> <span class="id">ofs</span> (<span class="id"><a href="Memory.html#Mem.mem_contents">Mem.mem_contents</a></span> <span class="id">lm</span>) !! <span class="id">b1</span>' &lt;&gt; <span class="id"><a href="Memdata.html#Fragment">Fragment</a></span> <span class="id"><a href="Values.html#Vundef">Vundef</a></span> <span class="id"><a href="Localize.html#q">q</a></span> <span class="id"><a href="Localize.html#n">n</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">as</span> [(<span class="id">q</span>&amp;<span class="id">n</span>&amp;<span class="id">Triv</span>)|<span class="id">Nontriv</span>'].<br/>
&nbsp;&nbsp;{ <span class="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Maps.html#ZMap.get">ZMap.get</a></span> <span class="id">ofs</span> (<span class="id"><a href="Memory.html#Mem.mem_contents">Mem.mem_contents</a></span> <span class="id">lm</span>) !! <span class="id">b1</span>');<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="id">right</span>; <span class="tactic">intros</span> ? ? <span class="id">C</span>; <span class="id">inv</span> <span class="id">C</span>; <span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v</span>; <span class="tactic">try</span> (<span class="id">right</span>; <span class="tactic">intros</span> ? ? <span class="id">C</span>; <span class="id">inv</span> <span class="id">C</span>; <span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">left</span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Localize.html#mem_related_mem_val_shared">mem_related_mem_val_shared</a></span> <span class="id">j21</span>); <span class="tactic">eauto</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Triv</span> <span class="kwd">in</span> *; <span class="tactic">clear</span> <span class="id">Triv</span> <span class="id">Nontriv</span>. <span class="id">inv</span> <span class="id">H7</span>. <span class="id">inv</span> <span class="id">H9</span>. <span class="id">inv</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Localize.html#mem_related_mem_val_shared">mem_related_mem_val_shared</a></span> <span class="id">j23</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Memory.html#Mem.mi_perm">Mem.mi_perm</a></span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>; <span class="tactic">rewrite</span> <span class="id">INJ</span>'. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H11</span> <span class="kwd">in</span> <span class="id">H6</span>. <span class="id">inv</span> <span class="id">H6</span>. <span class="id">constructor</span>. <span class="id">constructor</span>.<br/>
<br/>
&nbsp;contents&nbsp;are&nbsp;related&nbsp;by&nbsp;mu&nbsp;*)</span>&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Localize.html#memval_inject_strict_memval_inject">memval_inject_strict_memval_inject</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Localize.html#mem_related_mem_val_shared">mem_related_mem_val_shared</a></span> <span class="id">j21</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="Localize.html#mem_related_freelist_disjoint">mem_related_freelist_disjoint</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H0</span>) <span class="kwd">as</span> <span class="id">FLDISJ</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Blockset.html#Bset.inj_weak">Bset.inj_weak</a></span>). <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">apply</span> <span class="id">mem_related_inj_j0</span>. <br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id">H6</span> <span class="id">Consist2</span> <span class="id">FLDISJ</span>. <span class="tactic">clear</span>. <span class="tactic">intros</span> <span class="id">GMI</span> <span class="id">Consist2</span> <span class="id">FLDISJ</span> <span class="id">INJ</span> <span class="id">MI</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">GMI</span>; <span class="tactic">try</span> (<span class="tactic">rewrite</span> &lt;- <span class="id">H0</span> <span class="kwd">in</span> <span class="id">MI</span>; <span class="id">inv</span> <span class="id">MI</span>; <span class="id">constructor</span>; <span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H</span> <span class="kwd">in</span> *. <span class="id">inv</span> <span class="id">MI</span>. <span class="id">constructor</span>. <br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H3</span>; <span class="tactic">try</span> <span class="id">constructor</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H2</span>. <span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>, <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="kwd">in</span> *. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id">lmu</span> <span class="id">b0</span>) <span class="id">eqn</span>:?; <span class="id">inv</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">Consist2</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Heqo</span>) <span class="kwd">as</span> (<span class="id">b2</span>'0 &amp; <span class="id">b4</span>' &amp; <span class="id">J21</span> &amp; <span class="id">J23</span> &amp; <span class="id">INJ</span>') .<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">Bset.inj_dom</span>'; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span>; <span class="tactic">intro</span>. <span class="id">contradiction</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Localize.html#mem_related_mem_val_shared">mem_related_mem_val_shared</a></span> <span class="id">j23</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.mi_perm">Mem.mi_perm</a></span> <span class="kwd">in</span> <span class="id">H4</span>; <span class="tactic">eauto</span>; <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>; <span class="tactic">try</span> <span class="tactic">rewrite</span> <span class="id">INJ</span>'; <span class="tactic">eauto</span>. <br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="Localize.html#mem_related_freelist_disjoint">mem_related_freelist_disjoint</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H1</span>) <span class="kwd">as</span> <span class="id">FLDISJ</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Blockset.html#Bset.inj_weak">Bset.inj_weak</a></span>). <span class="id">inv</span> <span class="id">H1</span>. <span class="tactic">apply</span> <span class="id">mem_related_inj_j0</span>. <br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id">Nontriv</span> <span class="id">Nontriv</span>' <span class="id">H6</span> <span class="id">Consist2</span> <span class="id">FLDISJ</span>. <span class="tactic">clear</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">Nontriv</span> <span class="id">Nontriv</span>' <span class="id">GMI</span> <span class="id">Consist2</span> <span class="id">FLDISJ</span> <span class="id">INJ</span> <span class="id">MI</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_0_r">Z.add_0_r</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">GMI</span>; <span class="tactic">try</span> (<span class="tactic">try</span> <span class="tactic">rewrite</span> &lt;- <span class="id">H</span> <span class="kwd">in</span> <span class="id">MI</span>; <span class="tactic">try</span> <span class="tactic">rewrite</span> &lt;- <span class="id">H0</span> <span class="kwd">in</span> <span class="id">MI</span>; <span class="id">inv</span> <span class="id">MI</span>; <span class="id">constructor</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>; <span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H0</span> <span class="kwd">in</span> *; <span class="tactic">clear</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">MI</span>. <span class="id">constructor</span>. <br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">try</span> <span class="id">constructor</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H1</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>. <span class="tactic">clear</span> <span class="id">H0</span>. <br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>, <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="kwd">in</span> *; <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>; <span class="tactic">auto</span>. <span class="id">exfalso</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id">lmu</span> <span class="id">b3</span>) <span class="id">eqn</span>:?; <span class="id">inv</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">Consist2</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Heqo</span>) <span class="kwd">as</span> (<span class="id">b2</span>'0 &amp; <span class="id">b4</span>' &amp; <span class="id">J21</span> &amp; <span class="id">J23</span> &amp; <span class="id">INJ</span>').<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">Bset.inj_dom</span>'; <span class="tactic">eauto</span>. <br/>
Qed.</div>
<br/>
<div class="doc">TODO: move to ? </div>
<span class="kwd">Lemma</span> <span class="id"><a name="peq_by_plt">peq_by_plt</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">p</span> <span class="id">p</span>', (<span class="kwd">forall</span> <span class="id">x</span>, <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#x">x</a></span> <span class="id"><a href="Localize.html#p">p</a></span> &lt;-&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#x">x</a></span> <span class="id">p</span>') -&gt; <span class="id"><a href="Localize.html#p">p</a></span> = <span class="id">p</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6651')">Proof.</div>
<div class="proofscript" id="proof6651">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="kwd">in</span> *. <span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.lt_total">Pos.lt_total</a></span> <span class="id">p</span> <span class="id">p</span>').<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H0</span> <span class="kwd">as</span> [<span class="id">LT</span> | [<span class="id">EQ</span>|<span class="id">LT</span>]]; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exfalso</span>. <span class="tactic">apply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">LT</span>. <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.lt_irrefl">Pos.lt_irrefl</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">exfalso</span>. <span class="tactic">apply</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">LT</span>. <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.lt_irrefl">Pos.lt_irrefl</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mem_related_Rely_LRely">mem_related_Rely_LRely</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">bound</span> <span class="id">fl</span> <span class="id">gm</span> <span class="id">m</span> <span class="id">gm</span>' <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemAux.html#norep">norep</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemAux.html#no_overlap">no_overlap</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#gm">gm</a></span> <span class="id"><a href="Localize.html#m">m</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs.html#Rely">Rely</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span>) <span class="id"><a href="Localize.html#gm">gm</a></span> <span class="id">gm</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id">gm</span>' <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs_local.html#LDefs.Rely">LDefs.Rely</a></span> (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span>) <span class="id"><a href="Localize.html#m">m</a></span> <span class="id">m</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6652')">Proof.</div>
<div class="proofscript" id="proof6652">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">j</span> <span class="id">bound</span> <span class="id">fl</span> <span class="id">gm</span> <span class="id">m</span> <span class="id">gm</span>' <span class="id">m</span>' <span class="id">NOREP</span> <span class="id">NOOVERLAP</span> <span class="id">MEMREL</span> <span class="id">GRELY</span> <span class="id">MEMREL</span>'.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">GRELY</span>. <span class="id">constructor</span>.<br/>
<div class="doc">TODO: valid_block equiv -&gt; nextblock eq ?????? </div>
&nbsp;&nbsp;{ <span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="Localize.html#mem_related_valid_block">mem_related_valid_block</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">MEMREL</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="Localize.html#mem_related_valid_block">mem_related_valid_block</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">MEMREL</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Localize.html#peq_by_plt">peq_by_plt</a></span>. <span class="tactic">intro</span>. <span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Localize.html#construct_inj_total">construct_inj_total</a></span>. <span class="id">inv</span> <span class="id">MEMREL</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">instantiate</span> (1:= <span class="id">x</span>). <span class="id">instantiate</span> (1:= <span class="id">fl</span>). <span class="tactic">intros</span> [<span class="id">x</span>' <span class="id">INJ</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H3</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">H2</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="kwd">in</span> <span class="id">INJ</span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Bset.inj_range</span>' <span class="kwd">in</span> <span class="id">INJ</span>;[|<span class="id">inv</span> <span class="id">MEMREL</span>; <span class="id">inv</span> <span class="id">mem_related_inj_j0</span>; <span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">intros</span>; <span class="tactic">eapply</span> <span class="id"><a href="Localize.html#mem_related_shared_valid_global">mem_related_shared_valid_global</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="GMemory.html#GMem.unchanged_on_validity">GMem.unchanged_on_validity</a></span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">INJ</span>. <span class="tactic">unfold</span> <span class="id"><a href="MemAux.html#in_fl">in_fl</a></span>, <span class="id"><a href="MemAux.html#get_block">get_block</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- <span class="id"><a href="GMemory.html#GMem.unchanged_on_validity">GMem.unchanged_on_validity</a></span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">INJ</span>. <span class="tactic">unfold</span> <span class="id"><a href="MemAux.html#in_fl">in_fl</a></span>, <span class="id"><a href="MemAux.html#get_block">get_block</a></span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Localize.html#mem_related_unchg_freelist_unchg_local">mem_related_unchg_freelist_unchg_local</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Localize.html#mem_related_reach_closed">mem_related_reach_closed</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">Unshelve</span>. <span class="tactic">exact</span> 0. <span class="tactic">exact</span> 0.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Rely_mem_related_exists">Rely_mem_related_exists</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">bound</span> <span class="id">fl</span> <span class="id">gm</span> <span class="id">m</span> <span class="id">gm</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#gm">gm</a></span> <span class="id"><a href="Localize.html#m">m</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs.html#Rely">Rely</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span>) <span class="id"><a href="Localize.html#gm">gm</a></span> <span class="id">gm</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">m</span>', <span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id">gm</span>' <span class="id">m</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6653')">Proof.</div>
<div class="proofscript" id="proof6653">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">j</span> <span class="id">bound</span> <span class="id">fl</span> <span class="id">gm</span> <span class="id">m</span> <span class="id">gm</span>' <span class="id">MEMREL</span> <span class="id">GRELY</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="MemInterpolant.html#bset_inject_revert">bset_inject_revert</a></span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">MEMREL</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> (<span class="id">j</span>' &amp; <span class="id">INJ</span>' &amp; <span class="id">REV</span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">SHARED_VALID</span>: <span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>', <span class="id">j</span> <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">m</span>)).<br/>
&nbsp;&nbsp;{ <span class="tactic">intros</span>. <span class="id">exploit</span> (<span class="id"><a href="Localize.html#mem_related_shared_valid_local">mem_related_shared_valid_local</a></span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Localize.html#mem_related_inj_j">mem_related_inj_j</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="id">exploit</span> <span class="id">Bset.inj_dom</span>'; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="Localize.html#inject_memory">inject_memory</a></span> <span class="id">j</span> <span class="id">j</span>' <span class="id">bound</span> <span class="id">gm</span>' <span class="id">m</span> <span class="id">REV</span> <span class="id">SHARED_VALID</span>).<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">try</span> (<span class="id">inv</span> <span class="id">MEMREL</span>; <span class="tactic">auto</span>; <span class="tactic">fail</span>).<br/>
&nbsp;valid&nbsp;block&nbsp;*)</span>&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">exploit</span> <span class="id"><a href="Localize.html#mem_related_valid_block">mem_related_valid_block</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="Localize.html#inject_memory">inject_memory</a></span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">GRELY</span>. <span class="tactic">unfold</span> <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#plt">plt</a></span> <span class="id">b</span> <span class="id">bound</span>).<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Bset.inj_range</span>' <span class="kwd">in</span> <span class="id">H</span>; [|<span class="id">exploit</span> <span class="id"><a href="Localize.html#mem_related_inj_j">mem_related_inj_j</a></span>; <span class="tactic">eauto</span>; <span class="tactic">intros</span> [? <span class="id">_</span>]; <span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">clear</span> <span class="id">p</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Localize.html#mem_related_shared_valid_global">mem_related_shared_valid_global</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span>. <span class="tactic">split</span>; [<span class="id">inv</span> <span class="id">H1</span>|]; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">H2</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">unchanged_on_validity</span>. <span class="id">inv</span> <span class="id">MEMREL</span>. <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">exact</span> 0. <span class="tactic">unfold</span> <span class="id"><a href="MemAux.html#get_block">get_block</a></span>, <span class="id"><a href="MemAux.html#in_fl">in_fl</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;shared&nbsp;valid&nbsp;global&nbsp;*)</span>&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">exploit</span> <span class="id"><a href="Localize.html#mem_related_shared_valid_global">mem_related_shared_valid_global</a></span>; <span class="tactic">eauto</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">GRELY</span>. <span class="id">inv</span> <span class="id">H1</span>. <span class="tactic">auto</span>.<br/>
&nbsp;eq&nbsp;perm&nbsp;*)</span>&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Localize.html#inject_memory">inject_memory</a></span>. <br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="kwd">in</span> <span class="id">H</span>. <br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.perm">Mem.perm</a></span>, <span class="id">Mem.perm_order</span>'. <span class="tactic">simpl</span>.      <br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#proj2_sig">proj2_sig</a></span> (<span class="id"><a href="Localize.html#inject_access_c">inject_access_c</a></span> <span class="id">j</span> <span class="id">j</span>' <span class="id">bound</span> (<span class="id"><a href="Memory.html#Mem.mem_access">Mem.mem_access</a></span> <span class="id">m</span>) (<span class="id"><a href="GMemory.html#GMem.mem_access">GMem.mem_access</a></span> <span class="id">gm</span>'))).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id">H3</span> <span class="id">b</span>). <span class="tactic">unfold</span> <span class="id"><a href="Localize.html#inject_access">inject_access</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>. <span class="tactic">rewrite</span> <span class="id">H</span>.<br/>
&nbsp;*&nbsp;b&nbsp;&lt;&nbsp;bound,&nbsp;shared&nbsp;eq&nbsp;to&nbsp;gm'&nbsp;*)</span>&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="FMemPerm.html#eq_perm_kind_convert">eq_perm_kind_convert</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- (<span class="id">eq_permission_convert</span>' <span class="id">P</span> <span class="id">P</span>'); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span>, <span class="id">Memperm.perm_order</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> ((<span class="id"><a href="GMemory.html#GMem.mem_access">GMem.mem_access</a></span> <span class="id">gm</span>')!!<span class="id">b</span>' <span class="id">ofs</span> <span class="id">K</span>') <span class="id">eqn</span>:? ; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">perm_order_convert</span>'<span class="id">_eq</span>. <span class="tactic">tauto</span>.<br/>
&nbsp;*&nbsp;b&nbsp;&gt;&nbsp;bound,&nbsp;use&nbsp;unchg_local&nbsp;relate&nbsp;gm'&nbsp;and&nbsp;gm,&nbsp;then&nbsp;by&nbsp;related&nbsp;...&nbsp;*)</span>&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#plt">plt</a></span> <span class="id">b</span> (<span class="id"><a href="Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">m</span>)).<br/>
&nbsp;*&nbsp;valid&nbsp;*)</span>&nbsp;&nbsp;<span class="id">inv</span> <span class="id">GRELY</span>. <span class="id">inv</span> <span class="id">H5</span>. <br/>
&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- <span class="id">unchanged_on_perm</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Localize.html#mem_related_mem_perm_eq">mem_related_mem_perm_eq</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.perm">Mem.perm</a></span>, <span class="id">Mem.perm_order</span>'. <span class="id">instantiate</span> (1:=<span class="id">b</span>). <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>; [<span class="id">xomega</span>|<span class="tactic">auto</span>].<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="MemAux.html#in_fl">in_fl</a></span>, <span class="id"><a href="MemAux.html#get_block">get_block</a></span> <span class="kwd">in</span> *. <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- <span class="id"><a href="Localize.html#mem_related_valid_block">mem_related_valid_block</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span>; <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>; [<span class="id">xomega</span>|<span class="tactic">auto</span>].<br/>
&nbsp;*&nbsp;invalid&nbsp;*)</span>&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Memory.html#Mem.nextblock_noaccess">Mem.nextblock_noaccess</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span>. <span class="tactic">rewrite</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">intro</span>; [|<span class="id">contradiction</span>]. <span class="tactic">apply</span> <span class="id">n0</span>.<br/>
&nbsp;&nbsp;<span class="id">fold</span> (<span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id">m</span> <span class="id">b</span>). <span class="tactic">rewrite</span> (<span class="id"><a href="Localize.html#mem_related_valid_block">mem_related_valid_block</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">MEMREL</span> <span class="id">b</span> <span class="id">b</span>').<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">GRELY</span>. <span class="id">inv</span> <span class="id">H7</span>. <span class="tactic">rewrite</span> <span class="id">unchanged_on_validity</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GMemory.html#GMem.valid_block">GMem.valid_block</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In_dec">In_dec</a></span> <span class="id"><a href="Coqlib.html#peq">peq</a></span> <span class="id">b</span>' (<span class="id"><a href="GMemory.html#GMem.validblocks">GMem.validblocks</a></span> <span class="id">gm</span>')); <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="GMemory.html#GMem.invalid_noaccess">GMem.invalid_noaccess</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span>. <span class="tactic">unfold</span> <span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span> <span class="kwd">in</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id">H7</span> <span class="kwd">in</span> <span class="id">H5</span>. <span class="tactic">inversion</span> <span class="id">H5</span>. <span class="tactic">exact</span> 0. <span class="tactic">unfold</span> <span class="id"><a href="MemAux.html#in_fl">in_fl</a></span>, <span class="id"><a href="MemAux.html#get_block">get_block</a></span> <span class="kwd">in</span> *; <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span>; <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>; [<span class="id">xomega</span>|<span class="tactic">auto</span>].<br/>
<br/>
&nbsp;content&nbsp;eq*)</span>&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Localize.html#inject_memory">inject_memory</a></span>, <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#proj2_sig">proj2_sig</a></span> (<span class="id"><a href="MemInterpolant.html#inject_content_c">inject_content_c</a></span> <span class="id">j</span> <span class="id">j</span>' <span class="id">bound</span> (<span class="id"><a href="Memory.html#Mem.mem_contents">Mem.mem_contents</a></span> <span class="id">m</span>) (<span class="id"><a href="GMemory.html#GMem.mem_contents">GMem.mem_contents</a></span> <span class="id">gm</span>'))).<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> (<span class="id">H0</span> <span class="id">b</span>). <span class="tactic">unfold</span> <span class="id"><a href="MemInterpolant.html#inject_content">inject_content</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>.<br/>
&nbsp;*&nbsp;b&nbsp;&lt;&nbsp;bound&nbsp;*)</span>&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H1</span>. <span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#proj2_sig">proj2_sig</a></span> (<span class="id"><a href="MemInterpolant.html#inject_zmap_memval_c">inject_zmap_memval_c</a></span> <span class="id">j</span>' (<span class="id"><a href="GMemory.html#GMem.mem_contents">GMem.mem_contents</a></span> <span class="id">gm</span>') !! <span class="id">b</span>')).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H4</span>. <span class="tactic">unfold</span> <span class="id"><a href="MemInterpolant.html#inject_zmap_memval">inject_zmap_memval</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="MemInterpolant.html#inject_memval">inject_memval</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Maps.html#ZMap.get">ZMap.get</a></span> <span class="id">ofs</span> (<span class="id"><a href="GMemory.html#GMem.mem_contents">GMem.mem_contents</a></span> <span class="id">gm</span>') !! <span class="id">b</span>') <span class="id">eqn</span>:<span class="id">HFrag</span>; <span class="tactic">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v</span>; <span class="tactic">simpl</span>; <span class="tactic">try</span> <span class="id">constructor</span>.<br/>
&nbsp;by&nbsp;reach_close,&nbsp;b0&nbsp;in&nbsp;bound,&nbsp;thus&nbsp;exists&nbsp;b'0,&nbsp;j'&nbsp;b0&nbsp;=&nbsp;b'0&nbsp;*)</span>&nbsp;&nbsp;<span class="id">inv</span> <span class="id">GRELY</span>. <span class="tactic">destruct</span> <span class="id">H7</span> <span class="kwd">as</span> [<span class="id">H7</span> <span class="id">_</span> <span class="id">_</span>]. <span class="id">exploit</span> (<span class="id">H7</span> <span class="id">b0</span>). <span class="id">econstructor</span>. <span class="id">instantiate</span> (1:=((<span class="id">b</span>',<span class="id">i</span>)::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>)).<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="id">econstructor</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span>. <span class="id">inv</span> <span class="id">MEMREL</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">mem_related_inj_j0</span>. <span class="id">exploit</span> <span class="id">Bset.inj_range</span>'; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.perm">Mem.perm</a></span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#proj2_sig">proj2_sig</a></span> (<span class="id"><a href="Localize.html#inject_access_c">inject_access_c</a></span> <span class="id">j</span> <span class="id">j</span>' <span class="id">bound</span> (<span class="id"><a href="Memory.html#Mem.mem_access">Mem.mem_access</a></span> <span class="id">m</span>) (<span class="id"><a href="GMemory.html#GMem.mem_access">GMem.mem_access</a></span> <span class="id">gm</span>'))).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H9</span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="tactic">unfold</span> <span class="id"><a href="Localize.html#inject_access">inject_access</a></span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>; [|<span class="id">xomega</span>].<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id">H2</span>; <span class="tactic">clear</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>. <br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span>, <span class="id">Memperm.perm_order</span>''. <span class="tactic">destruct</span> ((<span class="id"><a href="GMemory.html#GMem.mem_access">GMem.mem_access</a></span> <span class="id">gm</span>')!!<span class="id">b</span>' <span class="id">ofs</span> <span class="id"><a href="Memperm.html#Max">Memperm.Max</a></span>);[|<span class="id">inv</span> <span class="id">H2</span>].<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">p</span>; <span class="tactic">simpl</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">exists</span> <span class="id">b</span>'0, <span class="id">j</span>' <span class="id">b0</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>'0).<br/>
&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">MEMREL</span>. <span class="id">inv</span> <span class="id">mem_related_inj_j0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Blockset.html#Bset.inj_range">Bset.inj_range</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">b</span>'0 ?]. <span class="tactic">rewrite</span> <span class="id">REV</span> <span class="kwd">in</span> <span class="id">H9</span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H9</span> <span class="kwd">as</span> [<span class="id">b</span>'0 <span class="id">H9</span>].<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H9</span>. <span class="id">econstructor</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id">REV</span> <span class="kwd">in</span> <span class="id">H9</span>. <span class="tactic">rewrite</span> <span class="id">H9</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">exfalso</span>. <span class="tactic">apply</span> <span class="id">n0</span>. <span class="id">inv</span> <span class="id">MEMREL</span>. <span class="id">inv</span> <span class="id">mem_related_inj_j0</span>. <span class="id">exploit</span> <span class="id">Bset.inj_dom</span>'; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Integers.html#Ptrofs.unsigned_zero">Integers.Ptrofs.unsigned_zero</a></span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Integers.html#Ptrofs.repr_unsigned">Integers.Ptrofs.repr_unsigned</a></span>, <span class="id"><a href="Integers.html#Ptrofs.add_zero">Integers.Ptrofs.add_zero</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;*&nbsp;b&nbsp;&gt;=&nbsp;bound&nbsp;*)</span>&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="MemAux.html#in_fl">in_fl</a></span> <span class="id">fl</span> <span class="id">b</span>').<br/>
&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">H1</span>. <span class="tactic">unfold</span> <span class="id"><a href="MemAux.html#in_fl">in_fl</a></span>, <span class="id"><a href="MemAux.html#get_block">get_block</a></span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="id">j</span> <span class="id">bound</span> <span class="id">fl</span> <span class="id">b</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>').<br/>
&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span>; <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>; [<span class="id">xomega</span>|<span class="id">inv</span> <span class="id">H1</span>; <span class="tactic">auto</span>]. }<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Specif.html#proj2_sig">proj2_sig</a></span> (<span class="id"><a href="Localize.html#inject_access_c">inject_access_c</a></span> <span class="id">j</span> <span class="id">j</span>' <span class="id">bound</span> (<span class="id"><a href="Memory.html#Mem.mem_access">Mem.mem_access</a></span> <span class="id">m</span>) (<span class="id"><a href="GMemory.html#GMem.mem_access">GMem.mem_access</a></span> <span class="id">gm</span>'))).<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.perm">Mem.perm</a></span> <span class="kwd">in</span> *. <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H6</span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="tactic">unfold</span> <span class="id"><a href="Localize.html#inject_access">inject_access</a></span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>; <span class="tactic">auto</span>. <span class="id">xomega</span>. <span class="tactic">clear</span> <span class="id">H5</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">GRELY</span>. <span class="id">inv</span> <span class="id">H6</span>. <span class="tactic">rewrite</span> <span class="id">unchanged_on_contents</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Localize.html#mem_related_mem_val_inject">mem_related_mem_val_inject</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Localize.html#mem_related_mem_perm_eq">mem_related_mem_perm_eq</a></span>; <span class="tactic">eauto</span>; <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Rely_mem_related">Rely_mem_related</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">bound</span> <span class="id">fl</span> <span class="id">gm</span> <span class="id">m</span> <span class="id">gm</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemAux.html#norep">norep</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemAux.html#no_overlap">no_overlap</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#gm">gm</a></span> <span class="id"><a href="Localize.html#m">m</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs.html#Rely">Rely</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span>) <span class="id"><a href="Localize.html#gm">gm</a></span> <span class="id">gm</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">m</span>', <span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="Localize.html#j">j</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id">gm</span>' <span class="id">m</span>' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs_local.html#LDefs.Rely">LDSimDefs_local.LDefs.Rely</a></span> (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span>) <span class="id"><a href="Localize.html#m">m</a></span> <span class="id">m</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6654')">Proof.</div>
<div class="proofscript" id="proof6654">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">j</span> <span class="id">bound</span> <span class="id">fl</span> <span class="id">gm</span> <span class="id">m</span> <span class="id">gm</span>' <span class="id">NOREP</span> <span class="id">NOOVERLAP</span> <span class="id">MEMREL</span> <span class="id">RELY</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Localize.html#mem_related_inj_j">mem_related_inj_j</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span> <span class="id">INJECT_j</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="MemInterpolant.html#bset_inject_revert">bset_inject_revert</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">j</span>' [<span class="id">INJECT_j</span>' <span class="id">REV</span>]].<br/>
&nbsp;construct&nbsp;content&nbsp;*)</span><div class="doc">memrelated =&gt; nextblock eq? </div>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Localize.html#Rely_mem_related_exists">Rely_mem_related_exists</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">m</span>' &amp; <span class="id">MEMREL</span>').<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Localize.html#mem_related_Rely_LRely">mem_related_Rely_LRely</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id">MEMREL</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">intro</span> <span class="id">LRELY</span>.<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">m</span>'. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="Inv_localize">Inv_localize</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j21</span> <span class="id">j23</span> <span class="id">bound</span> <span class="id">fl</span> <span class="id">fl</span>' <span class="id">mu</span> <span class="id">lmu</span> <span class="id">m</span> <span class="id">lm</span> <span class="id">lm</span>' <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#Inj_lift">Inj_lift</a></span> <span class="id"><a href="Localize.html#j21">j21</a></span> <span class="id"><a href="Localize.html#j23">j23</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs.html#Inv">Inv</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span> <span class="id"><a href="Localize.html#m">m</a></span> <span class="id">m</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="Localize.html#j21">j21</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#m">m</a></span> <span class="id"><a href="Localize.html#lm">lm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="Localize.html#j23">j23</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span> <span class="id">fl</span>' <span class="id">m</span>' <span class="id">lm</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs_local.html#LDefs.Inv">LDefs.Inv</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span> <span class="id"><a href="Localize.html#lm">lm</a></span> <span class="id">lm</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6655')">Proof.</div>
<div class="proofscript" id="proof6655">
&nbsp;&nbsp;<span class="tactic">intros</span>. <br/>
&nbsp;&nbsp;<span class="id">constructor</span>. <br/>
&nbsp;mem_inj&nbsp;*)</span>&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="GMemory.html#GMem.mi_inj">GMem.mi_inj</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span>. <span class="tactic">eapply</span> <span class="id"><a href="Localize.html#mem_inj_localize">mem_inj_localize</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;invalid&nbsp;block&nbsp;*)</span>&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#plt">plt</a></span> <span class="id">b</span> <span class="id">bound</span>).<br/>
&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">H2</span>. <span class="id">exploit</span> <span class="id"><a href="Localize.html#mem_related_shared_valid_local">mem_related_shared_valid_local</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span>. <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id">lmu</span> <span class="id">b</span>) <span class="id">eqn</span>:<span class="id">Hbimg</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Consist2</span> <span class="kwd">in</span> <span class="id">Hbimg</span>. <span class="tactic">destruct</span> <span class="id">Hbimg</span> <span class="kwd">as</span> (<span class="id">b1</span> &amp; <span class="id">b3</span> &amp; <span class="id">J21b</span> &amp; <span class="id">J23b0</span> &amp; <span class="id">Hb1img</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Localize.html#mem_related_inj_j">mem_related_inj_j</a></span>; [<span class="tactic">eapply</span> <span class="id">H1</span>|]. <span class="tactic">intros</span> [? <span class="id">_</span>]. <span class="id">inv</span> <span class="id">inj_weak</span>. <span class="tactic">apply</span> <span class="id">inj_dom</span>' <span class="kwd">in</span> <span class="id">J21b</span>.<br/>
&nbsp;&nbsp;<span class="id">contradiction</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>. <span class="tactic">rewrite</span> <span class="id">Hbimg</span>. <span class="tactic">auto</span>.<br/>
&nbsp;valid&nbsp;block&nbsp;*)</span>&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id">lmu</span> <span class="id">b</span>) <span class="id">eqn</span>:<span class="id">Hbimg</span>; <span class="id">inv</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="tactic">apply</span> <span class="id">Consist2</span> <span class="kwd">in</span> <span class="id">Hbimg</span>. <span class="tactic">destruct</span> <span class="id">Hbimg</span> <span class="kwd">as</span> (<span class="id">b1</span> &amp; <span class="id">b3</span> &amp; <span class="id">J21b</span> &amp; <span class="id">J23b</span>'&amp; <span class="id">INJ13</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="GMemory.html#GMem.mi_mappedblocks">GMem.mi_mappedblocks</a></span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>. <span class="tactic">rewrite</span> <span class="id">INJ13</span>. <span class="tactic">eauto</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Localize.html#mem_related_valid_block">mem_related_valid_block</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H2</span>. <span class="id">inv</span> <span class="id">mem_related_inj_j0</span>. <span class="id">inv</span> <span class="id">inj_weak</span>. <span class="tactic">apply</span> <span class="id">inj_dom</span>' <span class="kwd">in</span> <span class="id">J23b</span>'. <span class="id">contradiction</span>.<br/>
&nbsp;no&nbsp;overlap&nbsp;*)</span>&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">b1</span> <span class="id">b1</span>' <span class="id">d1</span> <span class="id">b2</span> <span class="id">b2</span>' <span class="id">d2</span> <span class="id">ofs1</span> <span class="id">ofs2</span> ? ? ? ? ?.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">do</span> 2 <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id">_</span> =&gt; <span class="id">_</span> <span class="kwd">end</span> = <span class="id">_</span>  |- <span class="id">_</span> =&gt; <span class="tactic">destruct</span> <span class="id">x</span> <span class="id">eqn</span>:?; <span class="id">inv</span> <span class="id">H</span> <span class="kwd">end</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="tactic">apply</span> <span class="id">Consist2</span> <span class="kwd">in</span> <span class="id">Heqo</span>. <span class="tactic">apply</span> <span class="id">Consist2</span> <span class="kwd">in</span> <span class="id">Heqo0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">BSETEQ21</span> <span class="id">BSETEQ23</span> <span class="id">Consist1</span> <span class="id">Consist2</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Heqo</span> <span class="kwd">as</span> (<span class="id">b21</span> &amp; <span class="id">b23</span> &amp; <span class="id">J212</span> &amp; <span class="id">J232</span>&amp; <span class="id">INJ2</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Heqo0</span> <span class="kwd">as</span> (<span class="id">b11</span> &amp; <span class="id">b13</span> &amp; <span class="id">J211</span> &amp; <span class="id">J231</span>&amp; <span class="id">INJ1</span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">b11</span> &lt;&gt; <span class="id">b21</span>).<br/>
&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">INJ21</span>. <span class="id">inv</span> <span class="id">inj_weak</span>. <span class="tactic">intro</span>. <span class="tactic">apply</span> <span class="id">H3</span>. <span class="tactic">eapply</span> <span class="id">inj_injective</span>; <span class="tactic">subst</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">b13</span> &lt;&gt; <span class="id">b23</span> \/ <span class="id">ofs1</span> + 0 &lt;&gt; <span class="id">ofs2</span> + 0).<br/>
&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">eapply</span> <span class="id">mi_no_overlap</span>. <span class="tactic">apply</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>. <span class="tactic">rewrite</span> <span class="id">INJ1</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>. <span class="tactic">rewrite</span> <span class="id">INJ2</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Localize.html#mem_related_mem_perm_eq">mem_related_mem_perm_eq</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exfalso</span>; <span class="tactic">apply</span> <span class="id">n</span>. <span class="id">inv</span> <span class="id">H1</span>. <span class="id">inv</span> <span class="id">mem_related_inj_j0</span>. <span class="id">inv</span> <span class="id">inj_weak</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> <span class="kwd">in</span> *; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Localize.html#mem_related_mem_perm_eq">mem_related_mem_perm_eq</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exfalso</span>; <span class="tactic">apply</span> <span class="id">n</span>. <span class="id">inv</span> <span class="id">H1</span>. <span class="id">inv</span> <span class="id">mem_related_inj_j0</span>. <span class="id">inv</span> <span class="id">inj_weak</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> <span class="kwd">in</span> *; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H4</span>; <span class="tactic">auto</span>. <span class="id">left</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">INJ23</span>. <span class="id">inv</span> <span class="id">inj_weak</span>. <span class="tactic">intro</span>. <span class="tactic">apply</span> <span class="id">H4</span>. <span class="tactic">subst</span>. <span class="tactic">rewrite</span> <span class="id">J231</span> <span class="kwd">in</span> <span class="id">J232</span>. <span class="id">inv</span> <span class="id">J232</span>. <span class="tactic">auto</span>.<br/>
&nbsp;representable&nbsp;*)</span>&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">b</span> <span class="id">b</span>' <span class="id">delta</span> <span class="id">ofs</span> <span class="id">H3</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id">lmu</span> <span class="id">b</span>) <span class="id">eqn</span>:?; <span class="id">inv</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>; [<span class="id">xomega</span>|]. <span class="id">exploit</span> <span class="id"><a href="Integers.html#Ptrofs.unsigned_range_2">Integers.Ptrofs.unsigned_range_2</a></span>. <br/>
&nbsp;&nbsp;<span class="id">instantiate</span> (1:= <span class="id">ofs</span>). <span class="tactic">intro</span>. <span class="id">xomega</span>.<br/>
&nbsp;perm&nbsp;inv&nbsp;*)</span>&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>. <span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id">lmu</span> <span class="id">b1</span>) <span class="id">eqn</span>:?; <span class="id">inv</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">exploit</span> <span class="id">Consist2</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">b11</span> &amp; <span class="id">b23</span> &amp; <span class="id">J21</span> &amp; <span class="id">J23</span> &amp; <span class="id">J13</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="GMemory.html#GMem.mi_perm_inv">GMem.mi_perm_inv</a></span>); <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>. <span class="tactic">rewrite</span> <span class="id">J13</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="id">j23</span> <span class="id">bound</span> <span class="id">fl</span>' <span class="id">b2</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b23</span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exfalso</span>; <span class="tactic">apply</span> <span class="id">n</span>. <span class="id">inv</span> <span class="id">H2</span>. <span class="id">inv</span> <span class="id">mem_related_inj_j0</span>. <span class="id">inv</span> <span class="id">inj_weak</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> <span class="kwd">in</span> *; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Localize.html#mem_related_mem_perm_eq">mem_related_mem_perm_eq</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="FMemPerm.html#perm_kind_convert_eq">perm_kind_convert_eq</a></span>. <span class="tactic">apply</span> <span class="id"><a href="FMemPerm.html#permission_convert_eq">permission_convert_eq</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="id">j21</span> <span class="id">bound</span> <span class="id">fl</span> <span class="id">b1</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b11</span>) <span class="kwd">as</span> <span class="id">Hb1img</span>.<br/>
&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>; [<span class="tactic">auto</span>|<span class="id">exfalso</span>; <span class="tactic">apply</span> <span class="id">n</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>. <span class="id">inv</span> <span class="id">mem_related_inj_j0</span>. <span class="id">inv</span> <span class="id">inj_weak</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> <span class="kwd">in</span> *; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">GPERM</span>|<span class="id">GPERM</span>]; [<span class="id">left</span>|<span class="id">right</span>; <span class="tactic">intro</span>; <span class="tactic">apply</span> <span class="id">GPERM</span>].<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Localize.html#mem_related_mem_perm_eq">mem_related_mem_perm_eq</a></span>; <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="FMemPerm.html#perm_kind_convert_eq">perm_kind_convert_eq</a></span>. <span class="tactic">apply</span> <span class="id"><a href="FMemPerm.html#permission_convert_eq">permission_convert_eq</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Localize.html#mem_related_mem_perm_eq">mem_related_mem_perm_eq</a></span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>. <span class="id">constructor</span>. <br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">Inv_localize</span>':<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j21</span> <span class="id">j23</span> <span class="id">bound</span> <span class="id">fl</span> <span class="id">fl</span>' <span class="id">mu</span> <span class="id">lmu</span> <span class="id">m</span> <span class="id">lm</span> <span class="id">lm</span>' <span class="id">m</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#Inj_lift">Inj_lift</a></span> <span class="id"><a href="Localize.html#j21">j21</a></span> <span class="id"><a href="Localize.html#j23">j23</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs_local.html#LDefs.Inv">LDefs.Inv</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span> <span class="id"><a href="Localize.html#lm">lm</a></span> <span class="id">lm</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="Localize.html#j21">j21</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span> <span class="id"><a href="Localize.html#fl">fl</a></span> <span class="id"><a href="Localize.html#m">m</a></span> <span class="id"><a href="Localize.html#lm">lm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="Localize.html#j23">j23</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span> <span class="id">fl</span>' <span class="id">m</span>' <span class="id">lm</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs.html#Inv">Inv</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span> <span class="id"><a href="Localize.html#m">m</a></span> <span class="id">m</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6656')">Proof.</div>
<div class="proofscript" id="proof6656">
&nbsp;&nbsp;<span class="tactic">intros</span>. <br/>
&nbsp;&nbsp;<span class="id">constructor</span>. <br/>
&nbsp;mem_inj&nbsp;*)</span>&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Memory.html#Mem.mi_inj">Mem.mi_inj</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span>. <span class="tactic">eapply</span> <span class="id">mem_inj_localize</span>'; <span class="tactic">eauto</span>.<br/>
&nbsp;invalid&nbsp;block&nbsp;*)</span>&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id">mu</span> <span class="id">b</span>) <span class="id">eqn</span>:<span class="id">Hbimg</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exfalso</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="tactic">apply</span> <span class="id">Consist1</span> <span class="kwd">in</span> <span class="id">Hbimg</span>. <span class="tactic">destruct</span> <span class="id">Hbimg</span> <span class="kwd">as</span> (<span class="id">b1</span> &amp; <span class="id">b3</span> &amp; <span class="id">J21b</span> &amp; <span class="id">Hb1img</span> &amp; <span class="id">J23b0</span>). <span class="tactic">clear</span> <span class="id">Consist1</span> <span class="id">Consist2</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Localize.html#mem_related_inj_j">mem_related_inj_j</a></span>; [<span class="tactic">eapply</span> <span class="id">H1</span>|]. <span class="tactic">intros</span> [? <span class="id">_</span>]. <span class="id">inv</span> <span class="id">inj_weak</span>. <span class="tactic">apply</span> <span class="id">inj_range</span>' <span class="kwd">in</span> <span class="id">J21b</span>.<br/>
&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">H2</span>. <span class="id">exploit</span> <span class="id"><a href="Localize.html#mem_related_shared_valid_global">mem_related_shared_valid_global</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>. <span class="tactic">rewrite</span> <span class="id">Hbimg</span>. <span class="tactic">auto</span>.<br/>
&nbsp;valid&nbsp;block&nbsp;*)</span>&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id">mu</span> <span class="id">b</span>) <span class="id">eqn</span>:<span class="id">Hbimg</span>; <span class="id">inv</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="tactic">apply</span> <span class="id">Consist1</span> <span class="kwd">in</span> <span class="id">Hbimg</span>. <span class="tactic">destruct</span> <span class="id">Hbimg</span> <span class="kwd">as</span> (<span class="id">b1</span> &amp; <span class="id">b3</span> &amp; <span class="id">J21b</span> &amp; <span class="id">INJ13</span> &amp; <span class="id">J23b</span>').<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Memory.html#Mem.mi_mappedblocks">Mem.mi_mappedblocks</a></span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>. <span class="tactic">rewrite</span> <span class="id">INJ13</span>. <span class="tactic">eauto</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Localize.html#mem_related_valid_block">mem_related_valid_block</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H2</span>. <span class="id">inv</span> <span class="id">mem_related_inj_j0</span>. <span class="id">inv</span> <span class="id">inj_weak</span>. <span class="tactic">apply</span> <span class="id">inj_dom</span>' <span class="kwd">in</span> <span class="id">J23b</span>'. <span class="id">contradiction</span>.<br/>
&nbsp;no&nbsp;overlap&nbsp;*)</span>&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">b1</span> <span class="id">b1</span>' <span class="id">d1</span> <span class="id">b2</span> <span class="id">b2</span>' <span class="id">d2</span> <span class="id">ofs1</span> <span class="id">ofs2</span> ? ? ? ? ?.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">do</span> 2 <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H</span>: <span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id">_</span> =&gt; <span class="id">_</span> <span class="kwd">end</span> = <span class="id">_</span>  |- <span class="id">_</span> =&gt; <span class="tactic">destruct</span> <span class="id">x</span> <span class="id">eqn</span>:?; <span class="id">inv</span> <span class="id">H</span> <span class="kwd">end</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="tactic">apply</span> <span class="id">Consist1</span> <span class="kwd">in</span> <span class="id">Heqo</span>. <span class="tactic">apply</span> <span class="id">Consist1</span> <span class="kwd">in</span> <span class="id">Heqo0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">BSETEQ21</span> <span class="id">BSETEQ23</span> <span class="id">Consist1</span> <span class="id">Consist2</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Heqo</span> <span class="kwd">as</span> (<span class="id">b21</span> &amp; <span class="id">b23</span> &amp; <span class="id">J212</span> &amp; <span class="id">INJ2</span> &amp; <span class="id">J232</span>).<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Heqo0</span> <span class="kwd">as</span> (<span class="id">b11</span> &amp; <span class="id">b13</span> &amp; <span class="id">J211</span> &amp; <span class="id">INJ1</span> &amp; <span class="id">J231</span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">b11</span> &lt;&gt; <span class="id">b21</span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">intro</span>. <span class="tactic">apply</span> <span class="id">H3</span>. <span class="tactic">subst</span>. <span class="tactic">congruence</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">b13</span> &lt;&gt; <span class="id">b23</span> \/ <span class="id">ofs1</span> + 0 &lt;&gt; <span class="id">ofs2</span> + 0).<br/>
&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">eapply</span> <span class="id">mi_no_overlap</span>. <span class="tactic">apply</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>. <span class="tactic">rewrite</span> <span class="id">INJ1</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>. <span class="tactic">rewrite</span> <span class="id">INJ2</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Localize.html#mem_related_mem_perm_eq">mem_related_mem_perm_eq</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exfalso</span>; <span class="tactic">apply</span> <span class="id">n</span>. <span class="id">inv</span> <span class="id">H1</span>. <span class="id">inv</span> <span class="id">mem_related_inj_j0</span>. <span class="id">inv</span> <span class="id">inj_weak</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> <span class="kwd">in</span> *; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Localize.html#mem_related_mem_perm_eq">mem_related_mem_perm_eq</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exfalso</span>; <span class="tactic">apply</span> <span class="id">n</span>. <span class="id">inv</span> <span class="id">H1</span>. <span class="id">inv</span> <span class="id">mem_related_inj_j0</span>. <span class="id">inv</span> <span class="id">inj_weak</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> <span class="kwd">in</span> *; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H4</span>; <span class="tactic">auto</span>. <span class="id">left</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">INJ23</span>. <span class="id">inv</span> <span class="id">inj_weak</span>. <span class="tactic">intro</span>. <span class="tactic">apply</span> <span class="id">H4</span>. <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">inj_injective</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;representable&nbsp;*)</span>&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">b</span> <span class="id">b</span>' <span class="id">delta</span> <span class="id">ofs</span> <span class="id">H3</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id">mu</span> <span class="id">b</span>) <span class="id">eqn</span>:?; <span class="id">inv</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>; [<span class="id">xomega</span>|]. <span class="id">exploit</span> <span class="id"><a href="Integers.html#Ptrofs.unsigned_range_2">Integers.Ptrofs.unsigned_range_2</a></span>. <br/>
&nbsp;&nbsp;<span class="id">instantiate</span> (1:= <span class="id">ofs</span>). <span class="tactic">intro</span>. <span class="id">xomega</span>.<br/>
&nbsp;perm&nbsp;inv&nbsp;*)</span>&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>. <span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id">mu</span> <span class="id">b1</span>) <span class="id">eqn</span>:?; <span class="id">inv</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="id">exploit</span> <span class="id">Consist1</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">b11</span> &amp; <span class="id">b23</span> &amp; <span class="id">J21</span> &amp; <span class="id">J22</span> &amp; <span class="id">J23</span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Memory.html#Mem.mi_perm_inv">Mem.mi_perm_inv</a></span>); <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>. <span class="tactic">rewrite</span> <span class="id">J22</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="id">j23</span> <span class="id">bound</span> <span class="id">fl</span>' <span class="id">b23</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b2</span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exfalso</span>; <span class="tactic">apply</span> <span class="id">n</span>. <span class="id">inv</span> <span class="id">H2</span>. <span class="id">inv</span> <span class="id">mem_related_inj_j0</span>. <span class="id">inv</span> <span class="id">inj_weak</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> <span class="kwd">in</span> *; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Localize.html#mem_related_mem_perm_eq">mem_related_mem_perm_eq</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">instantiate</span> (1:= <span class="id">perm_kind_convert</span>' <span class="id">k</span>). <span class="tactic">destruct</span> <span class="id">k</span>; <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">instantiate</span> (1:= <span class="id">permission_convert</span>' <span class="id">p</span>). <span class="tactic">destruct</span> <span class="id">p</span>; <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="id">j21</span> <span class="id">bound</span> <span class="id">fl</span> <span class="id">b11</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b1</span>) <span class="kwd">as</span> <span class="id">Hb1img</span>.<br/>
&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>; [<span class="tactic">auto</span>|<span class="id">exfalso</span>; <span class="tactic">apply</span> <span class="id">n</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>. <span class="id">inv</span> <span class="id">mem_related_inj_j0</span>. <span class="id">inv</span> <span class="id">inj_weak</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> <span class="kwd">in</span> *; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">GPERM</span>|<span class="id">GPERM</span>]; [<span class="id">left</span>|<span class="id">right</span>; <span class="tactic">intro</span>; <span class="tactic">apply</span> <span class="id">GPERM</span>].<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Localize.html#mem_related_mem_perm_eq">mem_related_mem_perm_eq</a></span>; <span class="tactic">eauto</span>. <span class="tactic">destruct</span> <span class="id">k</span>; <span class="id">constructor</span>. <span class="tactic">destruct</span> <span class="id">p</span>; <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Localize.html#mem_related_mem_perm_eq">mem_related_mem_perm_eq</a></span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>. <span class="id">constructor</span>.<br/>
Qed.</div>
&nbsp;&nbsp;<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="HLRely_Inj_lift">HLRely_Inj_lift</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j21</span> <span class="id">j23</span> <span class="id">mu</span> <span class="id">lmu</span> <span class="id">bound</span> <span class="id">sfl</span> <span class="id">tfl</span> <span class="id">Hm</span> <span class="id">lHm</span> <span class="id">lLm</span> <span class="id">Lm</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Injections.html#SharedSrc">Injections.SharedSrc</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span> = (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Injections.html#SharedTgt">Injections.SharedTgt</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span> = (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemAux.html#norep">norep</a></span> <span class="id"><a href="Localize.html#sfl">sfl</a></span> -&gt; <span class="id"><a href="MemAux.html#norep">norep</a></span> <span class="id"><a href="Localize.html#tfl">tfl</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemAux.html#no_overlap">no_overlap</a></span> <span class="id"><a href="Localize.html#sfl">sfl</a></span> (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemAux.html#no_overlap">no_overlap</a></span> <span class="id"><a href="Localize.html#tfl">tfl</a></span> (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span>) -&gt;    <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#Inj_lift">Inj_lift</a></span> <span class="id"><a href="Localize.html#j21">j21</a></span> <span class="id"><a href="Localize.html#j23">j23</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="Localize.html#j21">j21</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span> <span class="id"><a href="Localize.html#sfl">sfl</a></span> <span class="id"><a href="Localize.html#Hm">Hm</a></span> <span class="id"><a href="Localize.html#lHm">lHm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="Localize.html#j23">j23</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span> <span class="id"><a href="Localize.html#tfl">tfl</a></span> <span class="id"><a href="Localize.html#Lm">Lm</a></span> <span class="id"><a href="Localize.html#lLm">lLm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs_local.html#LDefs.Inv">LDSimDefs_local.LDefs.Inv</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span> <span class="id"><a href="Localize.html#lHm">lHm</a></span> <span class="id"><a href="Localize.html#lLm">lLm</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">Hm</span>' <span class="id">Lm</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs.html#HLRely">HLRely</a></span> <span class="id"><a href="Localize.html#sfl">sfl</a></span> <span class="id"><a href="Localize.html#tfl">tfl</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span> <span class="id"><a href="Localize.html#Hm">Hm</a></span> <span class="id">Hm</span>' <span class="id"><a href="Localize.html#Lm">Lm</a></span> <span class="id">Lm</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">lHm</span>' <span class="id">lLm</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="Localize.html#j21">j21</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span> <span class="id"><a href="Localize.html#sfl">sfl</a></span> <span class="id">Hm</span>' <span class="id">lHm</span>' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="Localize.html#j23">j23</a></span> <span class="id"><a href="Localize.html#bound">bound</a></span> <span class="id"><a href="Localize.html#tfl">tfl</a></span> <span class="id">Lm</span>' <span class="id">lLm</span>' /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs_local.html#LDefs.HLRely">LDSimDefs_local.LDefs.HLRely</a></span> <span class="id"><a href="Localize.html#lmu">lmu</a></span> <span class="id"><a href="Localize.html#lHm">lHm</a></span> <span class="id">lHm</span>' <span class="id"><a href="Localize.html#lLm">lLm</a></span> <span class="id">lLm</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6657')">Proof.</div>
<div class="proofscript" id="proof6657">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">j21</span> <span class="id">j23</span> <span class="id">mu</span> <span class="id">lmu</span> <span class="id">bound</span> <span class="id">sfl</span> <span class="id">tfl</span> <span class="id">Hm</span> <span class="id">lHm</span> <span class="id">lLm</span> <span class="id">Lm</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">SSrc</span> <span class="id">STgt</span> <span class="id">NOREPS</span> <span class="id">NOREPT</span> <span class="id">NOOVERLAPS</span> <span class="id">NOOVERLAPT</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">INJLIFT</span> <span class="id">MEMREL21</span> <span class="id">MEMREL23</span> <span class="id">MEMINJ</span> <span class="id">Hm</span>' <span class="id">Lm</span>' <span class="id">RELYs</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">RELYs</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">SSrc</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id">STgt</span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Localize.html#Rely_mem_related">Rely_mem_related</a></span> <span class="id">j21</span> <span class="id">bound</span> <span class="id">sfl</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">lHm</span>' &amp; <span class="id">MEMREL21</span>' &amp; ?).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Localize.html#Rely_mem_related">Rely_mem_related</a></span> <span class="id">j23</span> <span class="id">bound</span> <span class="id">tfl</span>); <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">lLm</span>' &amp; <span class="id">MEMREL23</span>' &amp; ?).  <br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">lHm</span>', <span class="id">lLm</span>'. <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="LDSimDefs_local.html#bset_eq_Rely_local">bset_eq_Rely_local</a></span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">INJLIFT</span>. <span class="tactic">intro</span>. <span class="tactic">rewrite</span> <span class="id">BSETEQ21</span>, <span class="id">SSrc</span>. <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="LDSimDefs_local.html#bset_eq_Rely_local">bset_eq_Rely_local</a></span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">INJLIFT</span>. <span class="tactic">intro</span>. <span class="tactic">rewrite</span> <span class="id">BSETEQ23</span>, <span class="id">STgt</span>. <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Localize.html#Inv_localize">Inv_localize</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<br/>
<br/>
<br/>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="SIM_LOCALIZE">SIM_LOCALIZE</a></span>.<br/>
<br/>
<span class="kwd">Context</span> {<span class="id">F1</span> <span class="id">V1</span> <span class="id">G1</span> <span class="id">comp_unit1</span> <span class="id">core1</span>: <span class="kwd">Type</span>}.<br/>
<br/>
<span class="kwd">Context</span> {<span class="id">internal_fn1</span>: <span class="id"><a href="Localize.html#SIM_LOCALIZE.comp_unit1">comp_unit1</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="AST.html#ident">AST.ident</a></span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">init_genv1</span>: <span class="id"><a href="Localize.html#SIM_LOCALIZE.comp_unit1">comp_unit1</a></span> -&gt; <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.F1">F1</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.V1">V1</a></span> -&gt; <span class="id"><a href="Localize.html#SIM_LOCALIZE.G1">G1</a></span> -&gt; <span class="kwd">Prop</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">init_gmem1</span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.F1">F1</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.V1">V1</a></span> -&gt; <span class="id"><a href="GMemory.html#gmem">gmem</a></span> -&gt; <span class="kwd">Prop</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">init_core1</span>: <span class="id"><a href="Localize.html#SIM_LOCALIZE.G1">G1</a></span> -&gt; <span class="id"><a href="AST.html#ident">AST.ident</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Values.html#val">val</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.core1">core1</a></span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">halt1</span>: <span class="id"><a href="Localize.html#SIM_LOCALIZE.core1">core1</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Values.html#val">val</a></span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">step1</span>: <span class="id"><a href="Localize.html#SIM_LOCALIZE.G1">G1</a></span> -&gt; <span class="id"><a href="MemAux.html#freelist">freelist</a></span> -&gt; <span class="id"><a href="Localize.html#SIM_LOCALIZE.core1">core1</a></span> -&gt; <span class="id"><a href="GMemory.html#gmem">gmem</a></span> -&gt; <span class="id"><a href="Footprint.html#FP.t">FP.t</a></span> -&gt; <span class="id"><a href="Localize.html#SIM_LOCALIZE.core1">core1</a></span> -&gt; <span class="id"><a href="GMemory.html#gmem">gmem</a></span> -&gt; <span class="kwd">Prop</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">at_external1</span>: <span class="id"><a href="Localize.html#SIM_LOCALIZE.G1">G1</a></span> -&gt; <span class="id"><a href="Localize.html#SIM_LOCALIZE.core1">core1</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> (<span class="id"><a href="AST.html#ident">AST.ident</a></span> * <span class="id"><a href="AST.html#signature">AST.signature</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Values.html#val">val</a></span>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">after_external1</span>: <span class="id"><a href="Localize.html#SIM_LOCALIZE.core1">core1</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Values.html#val">val</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.core1">core1</a></span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">init_genv_local1</span>: <span class="id"><a href="Localize.html#SIM_LOCALIZE.comp_unit1">comp_unit1</a></span> -&gt; <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.F1">F1</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.V1">V1</a></span> -&gt; <span class="id"><a href="Localize.html#SIM_LOCALIZE.G1">G1</a></span> -&gt; <span class="kwd">Prop</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">init_mem1</span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.F1">F1</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.V1">V1</a></span> -&gt; <span class="id"><a href="Memory.html#mem">mem</a></span> -&gt; <span class="kwd">Prop</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">init_core_local1</span>: <span class="id"><a href="Localize.html#SIM_LOCALIZE.G1">G1</a></span> -&gt; <span class="id"><a href="AST.html#ident">AST.ident</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Values.html#val">val</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.core1">core1</a></span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">halt_local1</span>: <span class="id"><a href="Localize.html#SIM_LOCALIZE.core1">core1</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Values.html#val">val</a></span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">step_local1</span>: <span class="id"><a href="Localize.html#SIM_LOCALIZE.G1">G1</a></span> -&gt; <span class="id"><a href="Localize.html#SIM_LOCALIZE.core1">core1</a></span> -&gt; <span class="id"><a href="Memory.html#mem">mem</a></span> -&gt; <span class="id"><a href="Footprint.html#FP.t">FP.t</a></span> -&gt; <span class="id"><a href="Localize.html#SIM_LOCALIZE.core1">core1</a></span> -&gt; <span class="id"><a href="Memory.html#mem">mem</a></span> -&gt; <span class="kwd">Prop</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">at_external_local1</span>: <span class="id"><a href="Localize.html#SIM_LOCALIZE.G1">G1</a></span> -&gt; <span class="id"><a href="Localize.html#SIM_LOCALIZE.core1">core1</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> (<span class="id"><a href="AST.html#ident">AST.ident</a></span> * <span class="id"><a href="AST.html#signature">AST.signature</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Values.html#val">val</a></span>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">after_external_local1</span>: <span class="id"><a href="Localize.html#SIM_LOCALIZE.core1">core1</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Values.html#val">val</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.core1">core1</a></span>}.<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="SIM_LOCALIZE.sl">sl</a></span> := (<span class="id"><a href="InteractionSemantics.html#Build_Language">Build_Language</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.F1">F1</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.V1">V1</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.G1">G1</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.comp_unit1">comp_unit1</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.core1">core1</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#SIM_LOCALIZE.init_core1">init_core1</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.step1">step1</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.at_external1">at_external1</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.after_external1">after_external1</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.halt1">halt1</a></span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#SIM_LOCALIZE.internal_fn1">internal_fn1</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.init_genv1">init_genv1</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.init_gmem1">init_gmem1</a></span>).<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="SIM_LOCALIZE.ssem">ssem</a></span> := (<span class="id"><a href="IS_local.html#Build_sem_local">Build_sem_local</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.F1">F1</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.V1">V1</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.G1">G1</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.comp_unit1">comp_unit1</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.core1">core1</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#SIM_LOCALIZE.init_genv_local1">init_genv_local1</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.init_mem1">init_mem1</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.init_core_local1">init_core_local1</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#SIM_LOCALIZE.halt_local1">halt_local1</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.step_local1">step_local1</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#SIM_LOCALIZE.at_external_local1">at_external_local1</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.after_external_local1">after_external_local1</a></span>).<br/>
<br/>
<span class="kwd">Context</span> {<span class="id">F2</span> <span class="id">V2</span> <span class="id">G2</span> <span class="id">comp_unit2</span> <span class="id">core2</span>: <span class="kwd">Type</span>}.<br/>
<br/>
<span class="kwd">Context</span> {<span class="id">internal_fn2</span>: <span class="id"><a href="Localize.html#SIM_LOCALIZE.comp_unit2">comp_unit2</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="AST.html#ident">AST.ident</a></span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">init_genv2</span>: <span class="id"><a href="Localize.html#SIM_LOCALIZE.comp_unit2">comp_unit2</a></span> -&gt; <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.F2">F2</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.V2">V2</a></span> -&gt; <span class="id"><a href="Localize.html#SIM_LOCALIZE.G2">G2</a></span> -&gt; <span class="kwd">Prop</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">init_gmem2</span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.F2">F2</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.V2">V2</a></span> -&gt; <span class="id"><a href="GMemory.html#gmem">gmem</a></span> -&gt; <span class="kwd">Prop</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">init_core2</span>: <span class="id"><a href="Localize.html#SIM_LOCALIZE.G2">G2</a></span> -&gt; <span class="id"><a href="AST.html#ident">AST.ident</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Values.html#val">val</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.core2">core2</a></span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">halt2</span>: <span class="id"><a href="Localize.html#SIM_LOCALIZE.core2">core2</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Values.html#val">val</a></span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">step2</span>: <span class="id"><a href="Localize.html#SIM_LOCALIZE.G2">G2</a></span> -&gt; <span class="id"><a href="MemAux.html#freelist">freelist</a></span> -&gt; <span class="id"><a href="Localize.html#SIM_LOCALIZE.core2">core2</a></span> -&gt; <span class="id"><a href="GMemory.html#gmem">gmem</a></span> -&gt; <span class="id"><a href="Footprint.html#FP.t">FP.t</a></span> -&gt; <span class="id"><a href="Localize.html#SIM_LOCALIZE.core2">core2</a></span> -&gt; <span class="id"><a href="GMemory.html#gmem">gmem</a></span> -&gt; <span class="kwd">Prop</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">at_external2</span>: <span class="id"><a href="Localize.html#SIM_LOCALIZE.G2">G2</a></span> -&gt; <span class="id"><a href="Localize.html#SIM_LOCALIZE.core2">core2</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> (<span class="id"><a href="AST.html#ident">AST.ident</a></span> * <span class="id"><a href="AST.html#signature">AST.signature</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Values.html#val">val</a></span>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">after_external2</span>: <span class="id"><a href="Localize.html#SIM_LOCALIZE.core2">core2</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Values.html#val">val</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.core2">core2</a></span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">init_genv_local2</span>: <span class="id"><a href="Localize.html#SIM_LOCALIZE.comp_unit2">comp_unit2</a></span> -&gt; <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.F2">F2</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.V2">V2</a></span> -&gt; <span class="id"><a href="Localize.html#SIM_LOCALIZE.G2">G2</a></span> -&gt; <span class="kwd">Prop</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">init_mem2</span>: <span class="id"><a href="Globalenvs.html#Genv.t">Genv.t</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.F2">F2</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.V2">V2</a></span> -&gt; <span class="id"><a href="Memory.html#mem">mem</a></span> -&gt; <span class="kwd">Prop</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">init_core_local2</span>: <span class="id"><a href="Localize.html#SIM_LOCALIZE.G2">G2</a></span> -&gt; <span class="id"><a href="AST.html#ident">AST.ident</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Values.html#val">val</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.core2">core2</a></span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">halt_local2</span>: <span class="id"><a href="Localize.html#SIM_LOCALIZE.core2">core2</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Values.html#val">val</a></span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">step_local2</span>: <span class="id"><a href="Localize.html#SIM_LOCALIZE.G2">G2</a></span> -&gt; <span class="id"><a href="Localize.html#SIM_LOCALIZE.core2">core2</a></span> -&gt; <span class="id"><a href="Memory.html#mem">mem</a></span> -&gt; <span class="id"><a href="Footprint.html#FP.t">FP.t</a></span> -&gt; <span class="id"><a href="Localize.html#SIM_LOCALIZE.core2">core2</a></span> -&gt; <span class="id"><a href="Memory.html#mem">mem</a></span> -&gt; <span class="kwd">Prop</span>}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">at_external_local2</span>: <span class="id"><a href="Localize.html#SIM_LOCALIZE.G2">G2</a></span> -&gt; <span class="id"><a href="Localize.html#SIM_LOCALIZE.core2">core2</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> (<span class="id"><a href="AST.html#ident">AST.ident</a></span> * <span class="id"><a href="AST.html#signature">AST.signature</a></span> * <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Values.html#val">val</a></span>)}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<span class="id">after_external_local2</span>: <span class="id"><a href="Localize.html#SIM_LOCALIZE.core2">core2</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Values.html#val">val</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.core2">core2</a></span>}.<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="SIM_LOCALIZE.tl">tl</a></span> := <span class="id"><a href="InteractionSemantics.html#Build_Language">Build_Language</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.F2">F2</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.V2">V2</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.G2">G2</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.comp_unit2">comp_unit2</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.core2">core2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#SIM_LOCALIZE.init_core2">init_core2</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.step2">step2</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.at_external2">at_external2</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.after_external2">after_external2</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.halt2">halt2</a></span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#SIM_LOCALIZE.internal_fn2">internal_fn2</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.init_genv2">init_genv2</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.init_gmem2">init_gmem2</a></span>.<br/>
<br/>
<span class="kwd">Let</span> <span class="id"><a name="SIM_LOCALIZE.tsem">tsem</a></span> := <span class="id"><a href="IS_local.html#Build_sem_local">Build_sem_local</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.F2">F2</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.V2">V2</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.G2">G2</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.comp_unit2">comp_unit2</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.core2">core2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#SIM_LOCALIZE.init_genv_local2">init_genv_local2</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.init_mem2">init_mem2</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.init_core_local2">init_core_local2</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.halt_local2">halt_local2</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.step_local2">step_local2</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#SIM_LOCALIZE.at_external_local2">at_external_local2</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.after_external_local2">after_external_local2</a></span>.<br/>
<br/>
<span class="kwd">Context</span> {<span class="id">wdcu1</span>: <span class="id"><a href="Localize.html#SIM_LOCALIZE.comp_unit1">comp_unit1</a></span> -&gt; <span class="kwd">Prop</span>}.<br/>
<span class="kwd">Context</span> {<span class="id">wdcu2</span>: <span class="id"><a href="Localize.html#SIM_LOCALIZE.comp_unit2">comp_unit2</a></span> -&gt; <span class="kwd">Prop</span>}.<br/>
<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="SIM_LOCALIZE.SLocalize">SLocalize</a></span>: <span class="id"><a href="Localize.html#LangLocalize">LangLocalize</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.comp_unit1">comp_unit1</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.wdcu1">wdcu1</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.sl">sl</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.ssem">ssem</a></span>.<br/>
<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="SIM_LOCALIZE.TLift">TLift</a></span>: <span class="id"><a href="Localize.html#LangLift">LangLift</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.comp_unit2">comp_unit2</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.wdcu2">wdcu2</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.tl">tl</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.tsem">tsem</a></span>.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="LIFTED_MATCH">LIFTED_MATCH</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">sfl</span> <span class="id">tfl</span>: <span class="id"><a href="MemAux.html#freelist">freelist</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">bound</span>: <span class="id"><a href="Values.html#block">block</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">I</span>: <span class="kwd">Type</span>) (<span class="id">I_order</span> : <span class="id"><a href="Localize.html#I">I</a></span> -&gt; <span class="id"><a href="Localize.html#I">I</a></span> -&gt; <span class="kwd">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">j21</span> <span class="id">j23</span>: <span class="id"><a href="Blockset.html#Bset.inj">Bset.inj</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">lmu</span>: <span class="id"><a href="Injections.html#Mu">Injections.Mu</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">R12</span>: <span class="id"><a href="Blockset.html#Bset.inj">Bset.inj</a></span> -&gt; <span class="id"><a href="MemAux.html#freelist">freelist</a></span> -&gt; <span class="id"><a href="Localize.html#SIM_LOCALIZE.core1">core1</a></span> -&gt; <span class="id"><a href="GMemory.html#gmem">gmem</a></span> -&gt; <span class="id"><a href="Localize.html#SIM_LOCALIZE.core1">core1</a></span> -&gt; <span class="id"><a href="Memory.html#mem">mem</a></span> -&gt; <span class="kwd">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">R22</span>: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> -&gt; <span class="id"><a href="Localize.html#I">I</a></span> -&gt; <span class="id"><a href="Injections.html#Mu">Injections.Mu</a></span> -&gt; <span class="id"><a href="Footprint.html#FP.t">FP.t</a></span> -&gt; <span class="id"><a href="Footprint.html#FP.t">FP.t</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Localize.html#SIM_LOCALIZE.core1">core1</a></span> * <span class="id"><a href="Memory.html#mem">mem</a></span>) -&gt; (<span class="id"><a href="Localize.html#SIM_LOCALIZE.core2">core2</a></span> * <span class="id"><a href="Memory.html#mem">mem</a></span>) -&gt; <span class="kwd">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">R32</span>: <span class="id"><a href="Blockset.html#Bset.inj">Bset.inj</a></span> -&gt; <span class="id"><a href="MemAux.html#freelist">freelist</a></span> -&gt; <span class="id"><a href="Localize.html#SIM_LOCALIZE.core2">core2</a></span> -&gt; <span class="id"><a href="GMemory.html#gmem">gmem</a></span> -&gt; <span class="id"><a href="Localize.html#SIM_LOCALIZE.core2">core2</a></span> -&gt; <span class="id"><a href="Memory.html#mem">mem</a></span> -&gt; <span class="kwd">Prop</span>)<br/>
&nbsp;&nbsp;: <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> -&gt; <span class="id">I</span> -&gt; <span class="id"><a href="Injections.html#Mu">Injections.Mu</a></span> -&gt; <span class="id"><a href="Footprint.html#FP.t">FP.t</a></span> -&gt; <span class="id"><a href="Footprint.html#FP.t">FP.t</a></span> -&gt; (<span class="id"><a href="Localize.html#SIM_LOCALIZE.core1">core1</a></span> * <span class="id"><a href="GMemory.html#gmem">gmem</a></span>) -&gt; (<span class="id"><a href="Localize.html#SIM_LOCALIZE.core2">core2</a></span> * <span class="id"><a href="GMemory.html#gmem">gmem</a></span>) -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id"><a name="MATCH_true">MATCH_true</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">i</span> <span class="id">mu</span> <span class="id">fpS</span> <span class="id">fpT</span> <span class="id">sc</span> <span class="id">sm</span> <span class="id">tc</span> <span class="id">tm</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">lsc</span> <span class="id">lsm</span> <span class="id">ltc</span> <span class="id">ltm</span> <span class="id">lfpS</span> <span class="id">lfpT</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MATCH12</span>: <span class="id">R12</span> <span class="id">j21</span> <span class="id">sfl</span> <span class="id"><a href="Localize.html#sc">sc</a></span> <span class="id"><a href="Localize.html#sm">sm</a></span> <span class="id"><a href="Localize.html#lsc">lsc</a></span> <span class="id"><a href="Localize.html#lsm">lsm</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FPINJ12</span>: <span class="id"><a href="Localize.html#FPlocalize">FPlocalize</a></span> (<span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="id">j21</span> <span class="id">bound</span> <span class="id">sfl</span>) <span class="id"><a href="Localize.html#fpS">fpS</a></span> <span class="id"><a href="Localize.html#lfpS">lfpS</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MATCH32</span>: <span class="id">R32</span> <span class="id">j23</span> <span class="id">tfl</span> <span class="id"><a href="Localize.html#tc">tc</a></span> <span class="id"><a href="Localize.html#tm">tm</a></span> <span class="id"><a href="Localize.html#ltc">ltc</a></span> <span class="id"><a href="Localize.html#ltm">ltm</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FPINJ32</span>: <span class="id"><a href="Localize.html#FPlocalize">FPlocalize</a></span> (<span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="id">j23</span> <span class="id">bound</span> <span class="id">tfl</span>) <span class="id"><a href="Localize.html#fpT">fpT</a></span> <span class="id"><a href="Localize.html#lfpT">lfpT</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MATCH22</span>: <span class="id">R22</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="Localize.html#i">i</a></span> <span class="id">lmu</span> <span class="id"><a href="Localize.html#lfpS">lfpS</a></span> <span class="id"><a href="Localize.html#lfpT">lfpT</a></span> (<span class="id"><a href="Localize.html#lsc">lsc</a></span>, <span class="id"><a href="Localize.html#lsm">lsm</a></span>) (<span class="id"><a href="Localize.html#ltc">ltc</a></span>, <span class="id"><a href="Localize.html#ltm">ltm</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INJLIFT</span>: <span class="id"><a href="Localize.html#Inj_lift">Inj_lift</a></span> <span class="id">j21</span> <span class="id">j23</span> <span class="id"><a href="Localize.html#mu">mu</a></span> <span class="id">lmu</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TFPG</span>: <span class="id"><a href="LDSimDefs.html#fpG">fpG</a></span> <span class="id">tfl</span> (<span class="id"><a href="Injections.html#SharedTgt">Injections.SharedTgt</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span>) <span class="id"><a href="Localize.html#fpT">fpT</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#LIFTED_MATCH">LIFTED_MATCH</a></span> <span class="id">sfl</span> <span class="id">tfl</span> <span class="id">bound</span> <span class="id">I</span> <span class="id">I_order</span> <span class="id">j21</span> <span class="id">j23</span> <span class="id">lmu</span> <span class="id">R12</span> <span class="id">R22</span> <span class="id">R32</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> <span class="id"><a href="Localize.html#i">i</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span> <span class="id"><a href="Localize.html#fpS">fpS</a></span> <span class="id"><a href="Localize.html#fpT">fpT</a></span> (<span class="id"><a href="Localize.html#sc">sc</a></span>, <span class="id"><a href="Localize.html#sm">sm</a></span>) (<span class="id"><a href="Localize.html#tc">tc</a></span>, <span class="id"><a href="Localize.html#tm">tm</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
| <span class="id"><a name="MATCH_false">MATCH_false</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">i</span> <span class="id">mu</span> <span class="id">sc</span> <span class="id">sm</span> <span class="id">tc</span> <span class="id">tm</span> <span class="id">lsc</span> <span class="id">lsm</span> <span class="id">ltc</span> <span class="id">ltm</span>  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MATCH12</span>: <span class="id">R12</span> <span class="id">j21</span> <span class="id">sfl</span> <span class="id"><a href="Localize.html#sc">sc</a></span> <span class="id"><a href="Localize.html#sm">sm</a></span> <span class="id"><a href="Localize.html#lsc">lsc</a></span> <span class="id"><a href="Localize.html#lsm">lsm</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MATCH32</span>: <span class="id">R32</span> <span class="id">j23</span> <span class="id">tfl</span> <span class="id"><a href="Localize.html#tc">tc</a></span> <span class="id"><a href="Localize.html#tm">tm</a></span> <span class="id"><a href="Localize.html#ltc">ltc</a></span> <span class="id"><a href="Localize.html#ltm">ltm</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MATCH22</span>: <span class="id">R22</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="Localize.html#i">i</a></span> <span class="id">lmu</span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> (<span class="id"><a href="Localize.html#lsc">lsc</a></span>, <span class="id"><a href="Localize.html#lsm">lsm</a></span>) (<span class="id"><a href="Localize.html#ltc">ltc</a></span>, <span class="id"><a href="Localize.html#ltm">ltm</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INJLIFT</span>: <span class="id"><a href="Localize.html#Inj_lift">Inj_lift</a></span> <span class="id">j21</span> <span class="id">j23</span> <span class="id"><a href="Localize.html#mu">mu</a></span> <span class="id">lmu</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">INV</span>: <span class="id"><a href="LDSimDefs_local.html#LDefs.Inv">LDSimDefs_local.LDefs.Inv</a></span> <span class="id">lmu</span> <span class="id"><a href="Localize.html#lsm">lsm</a></span> <span class="id"><a href="Localize.html#ltm">ltm</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#LIFTED_MATCH">LIFTED_MATCH</a></span> <span class="id">sfl</span> <span class="id">tfl</span> <span class="id">bound</span> <span class="id">I</span> <span class="id">I_order</span> <span class="id">j21</span> <span class="id">j23</span> <span class="id">lmu</span> <span class="id">R12</span> <span class="id">R22</span> <span class="id">R32</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#false">false</a></span> <span class="id"><a href="Localize.html#i">i</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span> (<span class="id"><a href="Localize.html#sc">sc</a></span>, <span class="id"><a href="Localize.html#sm">sm</a></span>) (<span class="id"><a href="Localize.html#tc">tc</a></span>, <span class="id"><a href="Localize.html#tm">tm</a></span>).<br/>
<br/>
<br/>
<span class="kwd">Hypothesis</span> (<span class="id"><a name="SIM_LOCALIZE.H_def_ident">H_def_ident</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">scu</span>, <span class="id"><a href="Localize.html#SIM_LOCALIZE.wdcu1">wdcu1</a></span> <span class="id"><a href="Localize.html#scu">scu</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">sge</span> <span class="id">sG</span>, <span class="id"><a href="Localize.html#SIM_LOCALIZE.init_genv_local1">init_genv_local1</a></span> <span class="id"><a href="Localize.html#scu">scu</a></span> <span class="id"><a href="Localize.html#sge">sge</a></span> <span class="id"><a href="Localize.html#sG">sG</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">gd</span>, (<span class="id"><a href="Globalenvs.html#Genv.genv_defs">Genv.genv_defs</a></span> <span class="id"><a href="Localize.html#sge">sge</a></span>) ! <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Localize.html#gd">gd</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">id</span>, (<span class="id"><a href="Globalenvs.html#Genv.genv_symb">Genv.genv_symb</a></span> <span class="id"><a href="Localize.html#sge">sge</a></span>) ! <span class="id"><a href="Localize.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Localize.html#b">b</a></span>).<br/>
<span class="kwd">Hypothesis</span> (<span class="id">H_def_ident</span>':<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">tcu</span>, <span class="id"><a href="Localize.html#SIM_LOCALIZE.wdcu2">wdcu2</a></span> <span class="id"><a href="Localize.html#tcu">tcu</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">tge</span> <span class="id">tG</span>, <span class="id"><a href="Localize.html#SIM_LOCALIZE.init_genv_local2">init_genv_local2</a></span> <span class="id"><a href="Localize.html#tcu">tcu</a></span> <span class="id"><a href="Localize.html#tge">tge</a></span> <span class="id"><a href="Localize.html#tG">tG</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">gd</span>, (<span class="id"><a href="Globalenvs.html#Genv.genv_defs">Genv.genv_defs</a></span> <span class="id"><a href="Localize.html#tge">tge</a></span>) ! <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Localize.html#gd">gd</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">id</span>, (<span class="id"><a href="Globalenvs.html#Genv.genv_symb">Genv.genv_symb</a></span> <span class="id"><a href="Localize.html#tge">tge</a></span>) ! <span class="id"><a href="Localize.html#id">id</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Localize.html#b">b</a></span>).<br/>
<br/>
<h2> Main result: lifting lemma </h2>
<span class="kwd">Theorem</span> <span class="id"><a name="localize">localize</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">scu</span> <span class="id">tcu</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Hwdscu</span>: <span class="id"><a href="Localize.html#SIM_LOCALIZE.wdcu1">wdcu1</a></span> <span class="id"><a href="Localize.html#scu">scu</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">Hwdtcu</span>: <span class="id"><a href="Localize.html#SIM_LOCALIZE.wdcu2">wdcu2</a></span> <span class="id"><a href="Localize.html#tcu">tcu</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="LDSim_local.html#ldsim_local">ldsim_local</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.ssem">ssem</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.tsem">tsem</a></span> <span class="id"><a href="Localize.html#scu">scu</a></span> <span class="id"><a href="Localize.html#tcu">tcu</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<span class="id"><a href="LDSim.html#ldsim">ldsim</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.sl">sl</a></span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.tl">tl</a></span> <span class="id"><a href="Localize.html#scu">scu</a></span> <span class="id"><a href="Localize.html#tcu">tcu</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6658')">Proof.</div>
<div class="proofscript" id="proof6658">
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">sl</span> <span class="id">ssem</span> <span class="id">tl</span> <span class="id">tsem</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="LDSim_local.html#ldsim_local">ldsim_local</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="LDSim.html#ldsim">ldsim</a></span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">sG</span> <span class="id">sge</span> <span class="id">tG</span> <span class="id">tge</span> <span class="id">sfl</span> <span class="id">tfl</span> <span class="id">INITSG</span> <span class="id">INITTG</span> <span class="id">GENVDOMEQ</span>. <br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Localize.html#localize_localizesim">localize_localizesim</a></span> <span class="kwd">with</span> (<span class="id">cu</span>:=<span class="id">scu</span>) (<span class="id">ge</span>:=<span class="id">sge</span>) (<span class="id">Ge</span>:=<span class="id">sG</span>) <span class="kwd">in</span> <span class="id">SLocalize</span>; <span class="tactic">auto</span> .<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.SLocalize">SLocalize</a></span> <span class="kwd">as</span> (<span class="id">j21_ident</span> &amp; <span class="id">sge_local</span> &amp; <span class="id">sG_local</span> &amp; <span class="id">R12</span> &amp; <span class="id">INITSG_local</span> &amp; <span class="id">SGEMATCH</span> &amp; <span class="id">Hj21_ident</span> &amp; <span class="id">SLocalize</span>').<br/>
&nbsp;&nbsp;<span class="id">edestruct</span> (<span class="id"><a href="Localize.html#lift_liftsim">lift_liftsim</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.TLift">TLift</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">tcu</span> <span class="id">Hwdtcu</span> <span class="id">tge</span> <span class="id">tG</span> <span class="id">INITTG</span>) <span class="kwd">as</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">j23_ident</span> &amp; <span class="id">tge_local</span> &amp; <span class="id">tG_local</span> &amp; <span class="id">R32</span> &amp; <span class="id">INITTG_local</span> &amp; <span class="id">TGEMATCH</span> &amp; <span class="id">Hj23_ident</span> &amp; <span class="id">TLift</span>').<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">SLocalize</span> <span class="id">TLift</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">H</span> <span class="id">sG_local</span> <span class="id">sge_local</span> <span class="id">tG_local</span> <span class="id">tge_local</span> <span class="id">INITSG_local</span> <span class="id">INITTG_local</span>).<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">sge_local</span> = <span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">tge_local</span>) <span class="kwd">as</span> <span class="id">GENVDOMEQ</span>'.<br/>
&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="Localize.html#ge_match_strict_next">ge_match_strict_next</a></span> <span class="kwd">in</span> <span class="id">SGEMATCH</span>. <span class="tactic">apply</span> <span class="id"><a href="Localize.html#ge_match_strict_next">ge_match_strict_next</a></span> <span class="kwd">in</span> <span class="id">TGEMATCH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">congruence</span>. }<br/>
&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">H</span> <span class="id">GENVDOMEQ</span>').<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span> <span class="kwd">as</span> (<span class="id">I</span>, <span class="id">I_order</span>, <span class="id">R22</span>, <span class="id">SIM_local</span>). <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">I</span>, <span class="id">I_order</span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">SIM_local</span> <span class="kwd">as</span> <span class="id">GEMATCH22</span>. <span class="tactic">apply</span> <span class="id"><a href="LDSim_local.html#match_genv">match_genv</a></span> <span class="kwd">in</span> <span class="id">GEMATCH22</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Constr</span>: <span class="kwd">forall</span> <span class="id">mu</span>, <span class="id"><a href="LDSimDefs.html#ge_init_inj">ge_init_inj</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span> <span class="id">sge</span> <span class="id">tge</span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">j21</span> <span class="id">j23</span> <span class="id">mu_local</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#inject_incr">inject_incr</a></span> (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id">j21_ident</span>) (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id"><a href="Localize.html#j21">j21</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#inject_incr">inject_incr</a></span> (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id">j23_ident</span>) (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id"><a href="Localize.html#j23">j23</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#inject_incr">inject_incr</a></span> (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> (<span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id"><a href="Localize.html#mu_local">mu_local</a></span>)) <span class="id"><a href="Values.html#inject_id">inject_id</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#Inj_lift">Inj_lift</a></span> <span class="id"><a href="Localize.html#j21">j21</a></span> <span class="id"><a href="Localize.html#j23">j23</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span> <span class="id"><a href="Localize.html#mu_local">mu_local</a></span> ).<br/>
&nbsp;&nbsp;{ <span class="id">specialize</span> (<span class="id"><a href="Localize.html#SIM_LOCALIZE.H_def_ident">H_def_ident</a></span> <span class="id">_</span> <span class="id">Hwdscu</span> <span class="id">_</span> <span class="id">_</span> <span class="id">INITSG_local</span>). <span class="id">specialize</span> (<span class="id">H_def_ident</span>' <span class="id">_</span> <span class="id">Hwdtcu</span> <span class="id">_</span> <span class="id">_</span> <span class="id">INITTG_local</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.H_def_ident">H_def_ident</a></span> <span class="id">H_def_ident</span>' <span class="id">SGEMATCH</span> <span class="id">TGEMATCH</span> <span class="id">Hj21_ident</span> <span class="id">Hj23_ident</span> <span class="id">GEMATCH22</span> <span class="id">GENVDOMEQ</span>'. <span class="tactic">clear</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">exists</span> <span class="id">j21</span>, <span class="id"><a href="Values.html#inject_incr">inject_incr</a></span> (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id">j21_ident</span>) (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id"><a href="Localize.html#j21">j21</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.inject">Bset.inject</a></span> <span class="id"><a href="Localize.html#j21">j21</a></span> (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">sge_local</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">sge</span>))) <span class="kwd">as</span> [<span class="id">j21</span> [<span class="id">Hj21</span> <span class="id">Hj21</span>']].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">assert</span> (<span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>', <span class="id">j21_ident</span> <span class="id"><a href="Localize.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">sge_local</span>) /\ <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id">b</span>' (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">sge</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">intros</span>. <span class="id">exploit</span> <span class="id">Hj21_ident</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">gd</span> <span class="id">Hb</span>]. <span class="tactic">apply</span> <span class="id"><a href="Localize.html#SIM_LOCALIZE.H_def_ident">H_def_ident</a></span> <span class="kwd">in</span> <span class="id">Hb</span>. <span class="tactic">destruct</span> <span class="id">Hb</span> <span class="kwd">as</span> [<span class="id">id</span> <span class="id">Hid</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">SGEMATCH</span>. <span class="id">specialize</span> (<span class="id">ge_match_strict_senv0</span> <span class="id">id</span>). <span class="tactic">unfold</span> <span class="id"><a href="Globalenvs.html#Senv.find_symbol">Senv.find_symbol</a></span> <span class="kwd">in</span> *; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id">Hid</span> <span class="kwd">in</span> <span class="id">ge_match_strict_senv0</span>. <span class="id">inv</span> <span class="id">ge_match_strict_senv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">H4</span>. <span class="id">inv</span> <span class="id">H4</span>. <span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Globalenvs.html#Genv.genv_symb_range">Genv.genv_symb_range</a></span> <span class="kwd">in</span> <span class="id">Hid</span>. <span class="tactic">apply</span> <span class="id"><a href="Globalenvs.html#Genv.genv_symb_range">Genv.genv_symb_range</a></span> <span class="kwd">in</span> <span class="id">H3</span>. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">SGEMATCH</span>. <span class="tactic">generalize</span> <span class="id">H0</span> <span class="id">ge_match_strict_next0</span> <span class="id">ge_match_strict_inj_injective0</span>. <span class="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">H1</span> <span class="id">H2</span> <span class="id">H3</span>. <span class="tactic">rewrite</span> <span class="id">H2</span> <span class="kwd">in</span> *. <span class="tactic">clear</span> <span class="id">H2</span>. <span class="id">revert</span> <span class="id">H1</span> <span class="id">H3</span>. <span class="tactic">generalize</span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">sge_local</span>). <span class="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rename</span> <span class="id">j21_ident</span> <span class="id">into</span> <span class="id">j</span>. <span class="tactic">intros</span> <span class="id">BOUND</span> <span class="id">DOMRANGE</span> <span class="id">INJECTIVE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Localize.html#inj_extension">inj_extension</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">j21</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="kwd">match</span> <span class="id">j23_ident</span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="kwd">match</span> <span class="id">j21</span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b1</span> =&gt; <span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id">mu</span> <span class="id">b1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="Injections.html#Build_Mu">Injections.Build_Mu</a></span> (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="kwd">if</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">sge_local</span>) <span class="kwd">then</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="Localize.html#b">b</a></span> <span class="kwd">else</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">sge_local</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">tge_local</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">intros</span> <span class="id">b</span> <span class="id">b</span>' <span class="id">delta</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>. <span class="tactic">destruct</span> (<span class="id">j23_ident</span> <span class="id">b</span>);[<span class="tactic">congruence</span>|<span class="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">intros</span> <span class="id">b</span> <span class="id">b</span>' <span class="id">delta</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>. <span class="tactic">simpl</span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>;[<span class="tactic">intro</span> <span class="id">C</span>; <span class="id">inv</span> <span class="id">C</span>; <span class="tactic">auto</span>|<span class="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="LDSimDefs.html#ge_init_inj_SharedSrc">ge_init_inj_SharedSrc</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">mu</span> <span class="id">sge</span> <span class="id">tge</span> <span class="id">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="LDSimDefs.html#ge_init_inj_SharedTgt">ge_init_inj_SharedTgt</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">mu</span> <span class="id">sge</span> <span class="id">tge</span> <span class="id">H</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="Localize.html#ge_match_strict_next">ge_match_strict_next</a></span> <span class="id">j21_ident</span> <span class="id">_</span> <span class="id">_</span> <span class="id">SGEMATCH</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="Localize.html#ge_match_strict_next">ge_match_strict_next</a></span> <span class="id">j23_ident</span> <span class="id">_</span> <span class="id">_</span> <span class="id">TGEMATCH</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span>, <span class="id">H2</span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id">H0</span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id">H1</span>, <span class="id">H3</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id">H1</span>. <span class="id">constructor</span>. <span class="id">constructor</span>.<br/>
&nbsp;inj_dom'&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">intros</span> <span class="id">b</span> <span class="id">b</span>'. <span class="tactic">destruct</span> <span class="id">j23_ident</span> <span class="id">eqn</span>:<span class="id">J23</span>. <span class="tactic">apply</span> <span class="id">Hj23_ident</span> <span class="kwd">in</span> <span class="id">J23</span>. <span class="tactic">destruct</span> <span class="id">J23</span> <span class="kwd">as</span> [<span class="id">gd</span> <span class="id">Hb</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Globalenvs.html#Genv.genv_defs_range">Genv.genv_defs_range</a></span> <span class="kwd">in</span> <span class="id">Hb</span>. <span class="tactic">intro</span>. <span class="id">inv</span> <span class="id">H4</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">j21</span> <span class="id">eqn</span>:<span class="id">J21</span>; [|<span class="tactic">discriminate</span>]. <span class="tactic">intro</span>. <span class="tactic">eapply</span> <span class="id">Bset.inj_dom</span>' <span class="kwd">in</span> <span class="id">J21</span>; [|<span class="id">inv</span> <span class="id">Hj21</span>'; <span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">GENVDOMEQ</span>' <span class="kwd">in</span> <span class="id">J21</span>. <span class="tactic">auto</span>. }<br/>
&nbsp;inj_range&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> &lt;- <span class="id">H1</span>. <span class="tactic">intros</span> <span class="id">b</span>' <span class="id">Hrange</span>. <span class="tactic">eapply</span> <span class="id"><a href="Blockset.html#Bset.inj_range">Bset.inj_range</a></span> <span class="kwd">in</span> <span class="id">Hrange</span>;[|<span class="tactic">apply</span> <span class="id"><a href="LDSimDefs.html#mu_inject">mu_inject</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hrange</span> <span class="kwd">as</span> [<span class="id">b1</span> <span class="id">J13</span>]. <span class="id">exploit</span> <span class="id">Bset.inj_dom</span>'. <span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">mu_inject</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span>. <span class="tactic">intro</span> <span class="id">Hdom</span>. <span class="tactic">eapply</span> <span class="id"><a href="Blockset.html#Bset.inj_range">Bset.inj_range</a></span> <span class="kwd">in</span> <span class="id">Hdom</span>; [|<span class="id">inv</span> <span class="id">Hj21</span>'; <span class="tactic">eauto</span>]. <span class="tactic">destruct</span> <span class="id">Hdom</span> <span class="kwd">as</span> [<span class="id">b2</span> <span class="id">J21</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">b2</span>. <span class="tactic">destruct</span> (<span class="id">j23_ident</span> <span class="id">b2</span>) <span class="id">eqn</span>:<span class="id">J23</span>. <span class="id">pose</span> <span class="id">proof</span> <span class="id">J23</span> <span class="kwd">as</span> <span class="id">J23</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Hj23_ident</span> <span class="kwd">in</span> <span class="id">J23</span>'. <span class="tactic">destruct</span> <span class="id">J23</span>' <span class="kwd">as</span> [<span class="id">gd</span> <span class="id">Hgd</span>]. <span class="tactic">eapply</span> <span class="id">H_def_ident</span>' <span class="kwd">in</span> <span class="id">Hgd</span>. <span class="tactic">destruct</span> <span class="id">Hgd</span> <span class="kwd">as</span> [<span class="id">id</span> <span class="id">Hid</span>'].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Hid</span>: (<span class="id"><a href="Globalenvs.html#Genv.genv_symb">Genv.genv_symb</a></span> <span class="id">sge_local</span>) ! <span class="id">id</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b2</span>) <span class="tactic">by</span> (<span class="tactic">unfold</span> <span class="id"><a href="Values.html#block">block</a></span>; <span class="tactic">rewrite</span> &lt;- <span class="id">Hid</span>'; <span class="id">inv</span> <span class="id">GEMATCH22</span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">j21_ident</span> <span class="id">b2</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="Localize.html#ge_match_strict_senv">ge_match_strict_senv</a></span> <span class="kwd">with</span> (<span class="id">id0</span>:=<span class="id">id</span>) <span class="kwd">in</span> <span class="id">SGEMATCH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Globalenvs.html#Senv.find_symbol">Senv.find_symbol</a></span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">SGEMATCH</span>; <span class="tactic">unfold</span> <span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="kwd">in</span> <span class="id">SGEMATCH</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">SGEMATCH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Hid</span> <span class="kwd">in</span> <span class="id">SGEMATCH</span>. <span class="id">inv</span> <span class="id">SGEMATCH</span>. <span class="id">pose</span> <span class="id">proof</span> <span class="id">H7</span>. <span class="tactic">eapply</span> <span class="id"><a href="Localize.html#inject_incr_bset_inj_incr">inject_incr_bset_inj_incr</a></span> <span class="kwd">in</span> <span class="id">H7</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">J21</span> <span class="kwd">in</span> <span class="id">H7</span>. <span class="id">inv</span> <span class="id">H7</span>. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">Ltac</span> <span class="id">simplsymb</span> := <span class="tactic">unfold</span> <span class="id"><a href="Globalenvs.html#Senv.find_symbol">Senv.find_symbol</a></span> <span class="kwd">in</span> *; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">unfold</span> <span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="kwd">in</span> *. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Hid0</span>: (<span class="id"><a href="Globalenvs.html#Genv.genv_symb">Genv.genv_symb</a></span> <span class="id">sge</span>) ! <span class="id">id</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">SGEMATCH</span>. <span class="id">specialize</span> (<span class="id">ge_match_strict_senv0</span> <span class="id">id</span>). <span class="id">simplsymb</span>. <span class="tactic">rewrite</span> <span class="id">Hid</span> <span class="kwd">in</span> <span class="id">ge_match_strict_senv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">ge_match_strict_senv0</span>. <span class="tactic">congruence</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Hid0</span>': (<span class="id"><a href="Globalenvs.html#Genv.genv_symb">Genv.genv_symb</a></span> <span class="id">tge</span>) ! <span class="id">id</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">TGEMATCH</span>. <span class="id">specialize</span> (<span class="id">ge_match_strict_senv0</span> <span class="id">id</span>). <span class="id">simplsymb</span>. <span class="tactic">rewrite</span> <span class="id">Hid</span>' <span class="kwd">in</span> <span class="id">ge_match_strict_senv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">ge_match_strict_senv0</span>. <span class="tactic">congruence</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="LDSimDefs.html#senv_injected">senv_injected</a></span> <span class="kwd">with</span> (<span class="id">id0</span>:=<span class="id">id</span>) <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">unfold</span> <span class="id"><a href="Globalenvs.html#Senv.find_symbol">Senv.find_symbol</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id">Hid0</span>, <span class="id">Hid0</span>' <span class="kwd">in</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">J21</span>. <span class="tactic">auto</span>. }<br/>
&nbsp;inj_range'&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">intros</span> <span class="id">b</span> <span class="id">b</span>'. <span class="tactic">destruct</span> <span class="id">j23_ident</span> <span class="id">eqn</span>:<span class="id">J23</span>. <span class="id">pose</span> <span class="id">proof</span> <span class="id">J23</span> <span class="kwd">as</span> <span class="id">J23</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Hj23_ident</span> <span class="kwd">in</span> <span class="id">J23</span>. <span class="tactic">destruct</span> <span class="id">J23</span> <span class="kwd">as</span> [<span class="id">gd</span> <span class="id">Hb</span>]. <span class="tactic">intro</span> <span class="id">C</span>. <span class="id">inv</span> <span class="id">C</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">H_def_ident</span>' <span class="kwd">in</span> <span class="id">Hb</span>. <span class="tactic">destruct</span> <span class="id">Hb</span> <span class="kwd">as</span> [<span class="id">id</span> <span class="id">Hid</span>'].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Hid0</span>': (<span class="id"><a href="Globalenvs.html#Genv.genv_symb">Genv.genv_symb</a></span> <span class="id">tge</span>) ! <span class="id">id</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">TGEMATCH</span>. <span class="tactic">unfold</span> <span class="id"><a href="Globalenvs.html#Senv.find_symbol">Senv.find_symbol</a></span> <span class="kwd">in</span> *. <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">unfold</span> <span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">ge_match_strict_senv0</span> <span class="id">id</span>). <span class="tactic">rewrite</span> <span class="id">Hid</span>' <span class="kwd">in</span> <span class="id">ge_match_strict_senv0</span>. <span class="id">inv</span> <span class="id">ge_match_strict_senv0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">congruence</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="Globalenvs.html#Genv.genv_symb_range">Genv.genv_symb_range</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">j21</span>;[|<span class="tactic">discriminate</span>]. <span class="tactic">intro</span>. <span class="tactic">eapply</span> <span class="id">Bset.inj_range</span>'; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">mu_inject</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H1</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;injective&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">intros</span> <span class="id">b1</span> <span class="id">b2</span> <span class="id">b</span>'. <span class="tactic">destruct</span> (<span class="id">j23_ident</span> <span class="id">b1</span>) <span class="id">eqn</span>:<span class="id">Hb1</span>; <span class="tactic">destruct</span> (<span class="id">j23_ident</span> <span class="id">b2</span>) <span class="id">eqn</span>:<span class="id">Hb2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">A1</span> <span class="id">A2</span>; <span class="id">inv</span> <span class="id">A1</span>; <span class="id">inv</span> <span class="id">A2</span>. <span class="tactic">eapply</span> <span class="id"><a href="Localize.html#ge_match_strict_inj_injective">ge_match_strict_inj_injective</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">intro</span> <span class="id">A1</span>; <span class="id">inv</span> <span class="id">A1</span>. <span class="tactic">destruct</span> <span class="id">j21</span> <span class="id">eqn</span>: <span class="id">Hb2</span>'; [|<span class="tactic">discriminate</span>]. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">Hj23_ident</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">gd</span>' <span class="id">Hgd</span>']. <span class="tactic">apply</span> <span class="id">H_def_ident</span>' <span class="kwd">in</span> <span class="id">Hgd</span>'. <span class="tactic">destruct</span> <span class="id">Hgd</span>' <span class="kwd">as</span> [<span class="id">id</span> <span class="id">Hid</span>'].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Localize.html#ge_match_strict_senv">ge_match_strict_senv</a></span> <span class="id">j23_ident</span> <span class="id">_</span> <span class="id">_</span> <span class="id">TGEMATCH</span>). <span class="id">simplsymb</span>. <span class="tactic">rewrite</span> <span class="id">Hid</span>'. <span class="tactic">intro</span> <span class="id">A</span>; <span class="id">inv</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H7</span>. <span class="tactic">rewrite</span> <span class="id">Hb1</span> <span class="kwd">in</span> <span class="id">H8</span>; <span class="id">inv</span> <span class="id">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="LDSimDefs.html#senv_injected">senv_injected</a></span> <span class="id">mu</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>). <span class="id">simplsymb</span>. <span class="tactic">rewrite</span> <span class="id">H7</span>. <span class="tactic">intro</span> <span class="id">A</span>. <span class="id">inv</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H5</span>. <span class="id">exploit</span> <span class="id"><a href="Blockset.html#Bset.inj_injective">Bset.inj_injective</a></span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">mu_inject</span>; <span class="tactic">eauto</span>. <span class="tactic">exact</span> <span class="id">H4</span>. <span class="tactic">exact</span> <span class="id">H9</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="tactic">subst</span>. <span class="id">exploit</span> (<span class="id"><a href="Localize.html#ge_match_strict_senv">ge_match_strict_senv</a></span> <span class="id">j21_ident</span> <span class="id">_</span> <span class="id">_</span> <span class="id">SGEMATCH</span>). <span class="id">simplsymb</span>. <span class="tactic">rewrite</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">A</span>. <span class="id">inv</span> <span class="id">A</span>. <span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Localize.html#inject_incr_bset_inj_incr">inject_incr_bset_inj_incr</a></span>. <span class="tactic">exact</span> <span class="id">Hj21</span>. <span class="tactic">eauto</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Blockset.html#Bset.inj_injective">Bset.inj_injective</a></span>. <span class="id">inv</span> <span class="id">Hj21</span>'; <span class="tactic">eauto</span>. <span class="tactic">exact</span> <span class="id">Hb2</span>'. <span class="tactic">exact</span> <span class="id">H8</span>. <span class="tactic">intro</span>; <span class="tactic">subst</span>. <span class="tactic">clear</span> <span class="id">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Hid</span>'': (<span class="id"><a href="Globalenvs.html#Genv.genv_symb">Genv.genv_symb</a></span> <span class="id">tge_local</span>) ! <span class="id">id</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>) <span class="tactic">by</span> (<span class="id">erewrite</span> &lt;- <span class="id"><a href="LDSim_local.html#genv_symb_eq">genv_symb_eq</a></span>; <span class="tactic">eauto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Hid</span>'' <span class="kwd">in</span> <span class="id">Hid</span>'. <span class="tactic">congruence</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">destruct</span> <span class="id">j21</span> <span class="id">eqn</span>:<span class="id">J21</span> ;[|<span class="tactic">discriminate</span>]. <span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">Hj23_ident</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">gd</span>' <span class="id">Hgd</span>']. <span class="tactic">apply</span> <span class="id">H_def_ident</span>' <span class="kwd">in</span> <span class="id">Hgd</span>'. <span class="tactic">destruct</span> <span class="id">Hgd</span>' <span class="kwd">as</span> [<span class="id">id</span> <span class="id">Hid</span>'].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Localize.html#ge_match_strict_senv">ge_match_strict_senv</a></span> <span class="id">j23_ident</span> <span class="id">_</span> <span class="id">_</span> <span class="id">TGEMATCH</span>). <span class="id">simplsymb</span>. <span class="tactic">rewrite</span> <span class="id">Hid</span>'. <span class="tactic">intro</span> <span class="id">A</span>; <span class="id">inv</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H7</span>. <span class="tactic">rewrite</span> <span class="id">Hb2</span> <span class="kwd">in</span> <span class="id">H8</span>; <span class="id">inv</span> <span class="id">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="LDSimDefs.html#senv_injected">senv_injected</a></span> <span class="id">mu</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>). <span class="id">simplsymb</span>. <span class="tactic">rewrite</span> <span class="id">H7</span>. <span class="tactic">intro</span> <span class="id">A</span>. <span class="id">inv</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H5</span>. <span class="id">exploit</span> <span class="id"><a href="Blockset.html#Bset.inj_injective">Bset.inj_injective</a></span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">mu_inject</span>; <span class="tactic">eauto</span>. <span class="tactic">exact</span> <span class="id">H4</span>. <span class="tactic">exact</span> <span class="id">H9</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="tactic">subst</span>. <span class="id">exploit</span> (<span class="id"><a href="Localize.html#ge_match_strict_senv">ge_match_strict_senv</a></span> <span class="id">j21_ident</span> <span class="id">_</span> <span class="id">_</span> <span class="id">SGEMATCH</span>). <span class="id">simplsymb</span>. <span class="tactic">rewrite</span> <span class="id">H5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">A</span>. <span class="id">inv</span> <span class="id">A</span>. <span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Localize.html#inject_incr_bset_inj_incr">inject_incr_bset_inj_incr</a></span>. <span class="tactic">exact</span> <span class="id">Hj21</span>. <span class="tactic">eauto</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Blockset.html#Bset.inj_injective">Bset.inj_injective</a></span>. <span class="id">inv</span> <span class="id">Hj21</span>'; <span class="tactic">eauto</span>. <span class="tactic">exact</span> <span class="id">J21</span>. <span class="tactic">exact</span> <span class="id">H8</span>. <span class="tactic">intro</span>; <span class="tactic">subst</span>. <span class="tactic">clear</span> <span class="id">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="LDSim_local.html#genv_symb_eq">genv_symb_eq</a></span> <span class="kwd">in</span> <span class="id">H6</span>; <span class="tactic">eauto</span>. <span class="tactic">congruence</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">j21</span> <span class="id">b1</span>) <span class="id">eqn</span>:<span class="id">Hb1</span>'; [|<span class="tactic">discriminate</span>]; (<span class="tactic">destruct</span> (<span class="id">j21</span> <span class="id">b2</span>) <span class="id">eqn</span>:<span class="id">Hb2</span>'; [|<span class="tactic">discriminate</span>]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">exploit</span> <span class="id"><a href="Blockset.html#Bset.inj_injective">Bset.inj_injective</a></span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">mu_inject</span>; <span class="tactic">eauto</span>. <span class="tactic">exact</span> <span class="id">H4</span>. <span class="tactic">exact</span> <span class="id">H5</span>. <span class="tactic">intro</span>; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Blockset.html#Bset.inj_injective">Bset.inj_injective</a></span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">Hj21</span>'; <span class="tactic">eauto</span>. }<br/>
&nbsp;inj_dom&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id">j23_ident</span> <span class="id">b</span>) <span class="id">eqn</span>: <span class="id">Hb</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">GENVDOMEQ</span>' <span class="kwd">in</span> <span class="id">H4</span>. <span class="tactic">eapply</span> <span class="id"><a href="Blockset.html#Bset.inj_dom">Bset.inj_dom</a></span> <span class="kwd">in</span> <span class="id">H4</span>; <span class="tactic">eauto</span>. <span class="tactic">destruct</span> <span class="id">H4</span> <span class="kwd">as</span> [<span class="id">b1</span> <span class="id">Hb1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Hb1</span>. <span class="tactic">eapply</span> <span class="id">Bset.inj_range</span>' <span class="kwd">in</span> <span class="id">Hb1</span>. <span class="tactic">eapply</span> <span class="id"><a href="Blockset.html#Bset.inj_dom">Bset.inj_dom</a></span> <span class="kwd">in</span> <span class="id">Hb1</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">Hj21</span>'; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">H0</span>. <span class="tactic">eauto</span>.  }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;consist&nbsp;1&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">intros</span>. <span class="id">exploit</span> <span class="id">Bset.inj_dom</span>'. <span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">mu_inject</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">intro</span> <span class="id">Hb1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id">H0</span>, <span class="id"><a href="Localize.html#ge_match_strict_next">ge_match_strict_next</a></span> <span class="kwd">in</span> <span class="id">Hb1</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Blockset.html#Bset.inj_range">Bset.inj_range</a></span>. <span class="id">inv</span> <span class="id">Hj21</span>'; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">H2</span>. <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">b2</span> <span class="id">J21</span>]. <span class="id">exists</span> <span class="id">b2</span>, <span class="id">b2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">Bset.inj_dom</span>'. <span class="id">inv</span> <span class="id">Hj21</span>'; <span class="tactic">eauto</span>. <span class="tactic">exact</span> <span class="id">J21</span>. <span class="tactic">intro</span> <span class="id">Hb2</span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>; [|<span class="tactic">congruence</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> 2 (<span class="tactic">split</span>; [<span class="tactic">auto</span>|]). <span class="tactic">rewrite</span> <span class="id">J21</span>. <span class="tactic">destruct</span> (<span class="id">j23_ident</span> <span class="id">b2</span>) <span class="id">eqn</span>:<span class="id">Hb2</span>';[|<span class="tactic">auto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">Hj23_ident</span> <span class="id">_</span> <span class="id">_</span> <span class="id">Hb2</span>') <span class="kwd">as</span> [<span class="id">gd</span>' <span class="id">Hgd</span>']. <span class="tactic">apply</span> <span class="id">H_def_ident</span>' <span class="kwd">in</span> <span class="id">Hgd</span>'. <span class="tactic">destruct</span> <span class="id">Hgd</span>' <span class="kwd">as</span> [<span class="id">id</span> <span class="id">Hid</span>'].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Hid</span>: (<span class="id"><a href="Globalenvs.html#Genv.genv_symb">Genv.genv_symb</a></span> <span class="id">sge_local</span>) ! <span class="id">id</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">GEMATCH22</span>. <span class="tactic">rewrite</span> <span class="id">genv_symb_eq</span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Localize.html#ge_match_strict_senv">ge_match_strict_senv</a></span> <span class="id">j23_ident</span> <span class="id">_</span> <span class="id">_</span> <span class="id">TGEMATCH</span>). <span class="id">simplsymb</span>. <span class="tactic">rewrite</span> <span class="id">Hid</span>'. <span class="tactic">intro</span> <span class="id">A</span>. <span class="id">inv</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">Hb2</span>' <span class="kwd">in</span> <span class="id">H8</span>. <span class="id">inv</span> <span class="id">H8</span>. <span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Localize.html#ge_match_strict_senv">ge_match_strict_senv</a></span> <span class="id">j21_ident</span> <span class="id">_</span> <span class="id">_</span> <span class="id">SGEMATCH</span>). <span class="id">simplsymb</span>. <span class="tactic">rewrite</span> <span class="id">Hid</span>. <span class="tactic">intro</span> <span class="id">A</span>. <span class="id">inv</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Localize.html#inject_incr_bset_inj_incr">inject_incr_bset_inj_incr</a></span> <span class="kwd">in</span> <span class="id">H9</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">J21</span> <span class="kwd">in</span> <span class="id">H9</span>. <span class="id">inv</span> <span class="id">H9</span>. <span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H8</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="LDSimDefs.html#senv_injected">senv_injected</a></span> <span class="id">mu</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>). <span class="id">simplsymb</span>. <span class="tactic">rewrite</span> <span class="id">H7</span>, <span class="id">H8</span>. <span class="tactic">intro</span>. <span class="id">inv</span> <span class="id">H5</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;consist&nbsp;2*)</span>&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">b2</span> <span class="id">b2</span>'. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>;[|<span class="tactic">discriminate</span>]. <span class="tactic">intro</span> <span class="id">A</span>. <span class="id">inv</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Blockset.html#Bset.inj_dom">Bset.inj_dom</a></span>. <span class="tactic">exact</span> <span class="id">Hj21</span>'. <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">b1</span> <span class="id">J21</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">b1</span>. <span class="tactic">rewrite</span> <span class="id">J21</span>. <span class="tactic">destruct</span> (<span class="id">j23_ident</span> <span class="id">b2</span>') <span class="id">eqn</span>:<span class="id">J23</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">Hj23_ident</span>. <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">gd</span>' <span class="id">Hgd</span>']. <span class="tactic">apply</span> <span class="id">H_def_ident</span>' <span class="kwd">in</span> <span class="id">Hgd</span>'. <span class="tactic">destruct</span> <span class="id">Hgd</span>' <span class="kwd">as</span> [<span class="id">id</span> <span class="id">Hid</span>'].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Hid</span>: (<span class="id"><a href="Globalenvs.html#Genv.genv_symb">Genv.genv_symb</a></span> <span class="id">sge_local</span>) ! <span class="id">id</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b2</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">GEMATCH22</span>. <span class="tactic">rewrite</span> <span class="id">genv_symb_eq</span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Localize.html#ge_match_strict_senv">ge_match_strict_senv</a></span> <span class="id">j23_ident</span> <span class="id">_</span> <span class="id">_</span> <span class="id">TGEMATCH</span>). <span class="id">simplsymb</span>. <span class="tactic">rewrite</span> <span class="id">Hid</span>'. <span class="tactic">intro</span> <span class="id">A</span>. <span class="id">inv</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">J23</span> <span class="kwd">in</span> <span class="id">H7</span>. <span class="id">inv</span> <span class="id">H7</span>. <span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Localize.html#ge_match_strict_senv">ge_match_strict_senv</a></span> <span class="id">j21_ident</span> <span class="id">_</span> <span class="id">_</span> <span class="id">SGEMATCH</span>). <span class="id">simplsymb</span>. <span class="tactic">rewrite</span> <span class="id">Hid</span>. <span class="tactic">intro</span> <span class="id">A</span>. <span class="id">inv</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Localize.html#inject_incr_bset_inj_incr">inject_incr_bset_inj_incr</a></span> <span class="kwd">in</span> <span class="id">H8</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">J21</span> <span class="kwd">in</span> <span class="id">H8</span>. <span class="id">inv</span> <span class="id">H8</span>. <span class="tactic">symmetry</span> <span class="kwd">in</span> <span class="id">H7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="LDSimDefs.html#senv_injected">senv_injected</a></span> <span class="id">mu</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span>). <span class="id">simplsymb</span>. <span class="tactic">rewrite</span> <span class="id">H7</span>, <span class="id">H6</span>. <span class="tactic">intro</span>. <span class="id">inv</span> <span class="id">H4</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Bset.inj_range</span>' <span class="kwd">in</span> <span class="id">J21</span>; [|<span class="id">inv</span> <span class="id">Hj21</span>'; <span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Blockset.html#Bset.inj_dom">Bset.inj_dom</a></span> <span class="kwd">in</span> <span class="id">J21</span>;[|<span class="id">inv</span> <span class="id">H</span>; <span class="tactic">rewrite</span> &lt;- <span class="id">H0</span>; <span class="tactic">eauto</span>]. <span class="tactic">destruct</span> <span class="id">J21</span> <span class="kwd">as</span> [<span class="id">b3</span> <span class="id">J13</span>]. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">GEMATCH</span>: <span class="id"><a href="LDSimDefs.html#ge_match">ge_match</a></span> <span class="id">sge</span> <span class="id">tge</span>).<br/>
&nbsp;&nbsp;{ <span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="LDSim_local.html#match_genv">match_genv</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">SIM_local</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">SGEMATCH</span>; <span class="id">inv</span> <span class="id">TGEMATCH</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">intro</span>. <span class="id">erewrite</span> <span class="id">ge_match_strict_public0</span>, <span class="id">ge_match_strict_public1</span>. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">intros</span>. <span class="id">simplsymb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">ge_match_strict_senv0</span> <span class="id">id</span>); <span class="id">inv</span> <span class="id">ge_match_strict_senv0</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">ge_match_strict_senv1</span> <span class="id">id</span>); <span class="id">inv</span> <span class="id">ge_match_strict_senv1</span>; <span class="tactic">unfold</span> <span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="kwd">in</span> *; <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">split</span>; <span class="tactic">discriminate</span>. 3: <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id">genv_symb_eq</span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">eauto</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id">genv_symb_eq</span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="tactic">eauto</span>. <span class="tactic">congruence</span>.  }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">intros</span>. <span class="id">simplsymb</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">ge_match_strict_senv0</span> <span class="id">id</span>). <span class="id">specialize</span> (<span class="id">ge_match_strict_senv1</span> <span class="id">id</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">ge_match_strict_senv0</span>. <span class="tactic">rewrite</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">ge_match_strict_senv1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">ge_match_strict_senv0</span>; <span class="id">inv</span> <span class="id">ge_match_strict_senv1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">genv_defs_match</span> <span class="id">id</span> <span class="id">b0</span> <span class="id">b1</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">ge_match_strict_defs0</span> <span class="kwd">in</span> <span class="id">H4</span>. <span class="tactic">apply</span> <span class="id">ge_match_strict_defs1</span> <span class="kwd">in</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id">H4</span> <span class="id">H6</span>. <span class="tactic">clear</span>. <span class="tactic">intros</span> <span class="id">H</span> <span class="id">H1</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H1</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>; <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">H1</span>: <span class="id">_</span> = ?<span class="id">x</span>, <span class="id">H2</span>: <span class="id">_</span> = ?<span class="id">x</span> |- <span class="id">_</span> =&gt; <span class="tactic">rewrite</span> &lt;- <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">clear</span> <span class="id">H1</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H4</span>; <span class="id">inv</span> <span class="id">H6</span>; <span class="id">inv</span> <span class="id">H8</span>; <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H5</span>; <span class="id">constructor</span>.  }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id">remember</span> (<span class="kwd">fun</span> <span class="id">b</span>:<span class="id"><a href="Values.html#block">block</a></span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">sge</span>)) <span class="kwd">as</span> <span class="id">SharedSrc</span>.<br/>
&nbsp;&nbsp;<span class="id">remember</span> (<span class="kwd">fun</span> <span class="id">b</span>:<span class="id"><a href="Values.html#block">block</a></span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">tge</span>)) <span class="kwd">as</span> <span class="id">SharedTgt</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="id">remember</span> ( <span class="kwd">fun</span> <span class="id">b</span> <span class="id">i</span> <span class="id">mu</span> <span class="id">fp</span> <span class="id">fp</span>' <span class="id">cg1</span> <span class="id">cg2</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemAux.html#no_overlap">no_overlap</a></span> <span class="id">sfl</span> (<span class="id"><a href="Injections.html#SharedSrc">Injections.SharedSrc</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemAux.html#no_overlap">no_overlap</a></span> <span class="id">tfl</span> (<span class="id"><a href="Injections.html#SharedTgt">Injections.SharedTgt</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemAux.html#norep">norep</a></span> <span class="id">sfl</span> /\ <span class="id"><a href="MemAux.html#norep">norep</a></span> <span class="id">tfl</span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs.html#ge_init_inj">ge_init_inj</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span> <span class="id">sge</span> <span class="id">tge</span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">j21</span> <span class="id">j23</span> <span class="id">mu_local</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#inject_incr">inject_incr</a></span> (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id">j21_ident</span>) (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id"><a href="Localize.html#j21">j21</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#inject_incr">inject_incr</a></span> (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id">j23_ident</span>) (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id"><a href="Localize.html#j23">j23</a></span>) /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#inject_incr">inject_incr</a></span> (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> (<span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id"><a href="Localize.html#mu_local">mu_local</a></span>)) <span class="id"><a href="Values.html#inject_id">inject_id</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#Inj_lift">Inj_lift</a></span> <span class="id"><a href="Localize.html#j21">j21</a></span> <span class="id"><a href="Localize.html#j23">j23</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span> <span class="id"><a href="Localize.html#mu_local">mu_local</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#LIFTED_MATCH">LIFTED_MATCH</a></span> <span class="id">sfl</span> <span class="id">tfl</span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">sge</span>) <span class="id">I</span> <span class="id">I_order</span> <span class="id"><a href="Localize.html#j21">j21</a></span> <span class="id"><a href="Localize.html#j23">j23</a></span> <span class="id"><a href="Localize.html#mu_local">mu_local</a></span> <span class="id">R12</span> <span class="id">R22</span> <span class="id">R32</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#b">b</a></span> <span class="id"><a href="Localize.html#i">i</a></span> <span class="id"><a href="Localize.html#mu">mu</a></span> <span class="id"><a href="Localize.html#fp">fp</a></span> <span class="id">fp</span>' <span class="id"><a href="Localize.html#cg1">cg1</a></span> <span class="id"><a href="Localize.html#cg2">cg2</a></span>) <span class="kwd">as</span> <span class="id">MATCHSTATE</span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="kwd">Ltac</span> <span class="id">invMS</span> <span class="id">M</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">M</span> <span class="kwd">as</span> (<span class="id">NOOVERLAP</span> &amp; <span class="id">NOOVERLAP</span>' &amp; <span class="id">NOREP</span> &amp; <span class="id">NOREP</span>' &amp; <span class="id">GEINITINJ</span> &amp; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">j21</span> &amp; <span class="id">j23</span> &amp; <span class="id">mu_local</span> &amp; <span class="id">Hj21</span> &amp; <span class="id">Hj23</span> &amp; <span class="id">Hmu_local</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp; <span class="id">INJLIFT</span> &amp; <span class="id">LIFTMATCH</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">INJLIFT</span> <span class="kwd">as</span> <span class="id">INJLIFT</span>';<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">INJLIFT</span>' <span class="kwd">as</span> [<span class="id">j21</span> <span class="id">j23</span> <span class="id">mu</span> <span class="id">mu_local</span> <span class="id">_</span> <span class="id">Hj21</span>' <span class="id">_</span> <span class="id">Hj23</span>' <span class="id">_</span> <span class="id">_</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">HS</span>: <span class="id">context</span>[<span class="id"><a href="Localize.html#LocalizeSim">LocalizeSim</a></span>], <span class="id">HT</span>: <span class="id">context</span>[<span class="id"><a href="Localize.html#LiftSim">LiftSim</a></span>] |- <span class="id">_</span> =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">HS</span> <span class="id">j21</span> <span class="id">Hj21</span>); <span class="id">specialize</span> (<span class="id">HT</span> <span class="id">j23</span> <span class="id">Hj23</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">MATCHSTATE</span>. <span class="id">constructor</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;*&nbsp;wd&nbsp;index&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">SIM_local</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;*&nbsp;wd&nbsp;mu&nbsp;*)</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">b</span> <span class="id">i</span> <span class="id">mu</span> <span class="id">Hfp</span> <span class="id">Lfp</span> (<span class="id">Hcore</span>, <span class="id">Hmem</span>) (<span class="id">Lcore</span>, <span class="id">Lmem</span>) <span class="id">MATCH</span>. <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id">R12</span> <span class="id">R32</span> <span class="id">R22</span> <span class="id">SLocalize</span>' <span class="id">TLift</span>' <span class="id">SIM_local</span> <span class="id">MATCH</span>. <span class="tactic">clear</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">invMS</span> <span class="id">MATCH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">eapply</span> <span class="id"><a href="Localize.html#Inj_lift_inject">Inj_lift_inject</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">LIFTMATCH</span>; <span class="tactic">destruct</span> <span class="id">SIM_local</span>; <span class="tactic">eapply</span> <span class="id"><a href="LDSim_local.html#wd_mu">wd_mu</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;*&nbsp;fl&nbsp;norep&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">b</span> <span class="id">i</span> <span class="id">mu</span> <span class="id">Hfp</span> <span class="id">Lfp</span> <span class="id">Hc</span> <span class="id">Lc</span> <span class="id">MATCH</span>. <span class="tactic">subst</span>. <span class="id">invMS</span> <span class="id">MATCH</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;*&nbsp;ge_match&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;*&nbsp;ge_init_inj&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">b</span> <span class="id">i</span> <span class="id">mu</span> <span class="id">Hfp</span> <span class="id">Lfp</span> <span class="id">Hc</span> <span class="id">Lc</span> <span class="id">MATCH</span>. <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">invMS</span> <span class="id">MATCH</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;*&nbsp;init&nbsp;match&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">mu</span> <span class="id">id</span> <span class="id">argSrc</span> <span class="id">argTgt</span> <span class="id">score</span> <span class="id">GEREL</span> <span class="id">GARGS</span> <span class="id">ARGREL</span> <span class="id">INITCORE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">Constr</span> <span class="id">mu</span> <span class="id">GEREL</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Constr</span> <span class="kwd">as</span> (<span class="id">j21</span> &amp; <span class="id">j23</span> &amp; <span class="id">mu_local</span> &amp; <span class="id">Hj21</span> &amp; <span class="id">Hj23</span> &amp; <span class="id">MULOCAL</span> &amp; <span class="id">LIFTMU</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Hj23</span>':<span class="id"><a href="Blockset.html#Bset.inject">Bset.inject</a></span> <span class="id">j23</span> (<span class="kwd">fun</span> <span class="id">b</span> : <span class="id"><a href="Values.html#block">block</a></span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">tge_local</span>)) <span class="id">SharedTgt</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">LIFTMU</span>. <span class="id">inv</span> <span class="id">TGEMATCH</span>. <span class="tactic">rewrite</span> <span class="id">BSETEQ23</span> <span class="kwd">in</span> <span class="id">INJ23</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">ge_match_strict_next0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- <span class="id"><a href="LDSimDefs.html#mu_shared_tgt">mu_shared_tgt</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Hj21</span>':<span class="id"><a href="Blockset.html#Bset.inject">Bset.inject</a></span> <span class="id">j21</span> (<span class="kwd">fun</span> <span class="id">b</span> : <span class="id"><a href="Values.html#block">block</a></span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">sge_local</span>)) <span class="id">SharedSrc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">LIFTMU</span>. <span class="id">inv</span> <span class="id">SGEMATCH</span>. <span class="tactic">rewrite</span> <span class="id">BSETEQ21</span> <span class="kwd">in</span> <span class="id">INJ21</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">ge_match_strict_next0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- <span class="id"><a href="LDSimDefs.html#mu_shared_src">mu_shared_src</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">SLocalize</span>' <span class="id">j21</span> <span class="id">Hj21</span> <span class="id">Hj21</span>'). <span class="id">specialize</span> (<span class="id">TLift</span>' <span class="id">j23</span> <span class="id">Hj23</span> <span class="id">Hj23</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;construct&nbsp;local&nbsp;initial&nbsp;core&nbsp;on&nbsp;source&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="Localize.html#localize_init">localize_init</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">SLocalize</span>' <span class="id">id</span> <span class="id">argSrc</span> <span class="id">score</span>) <span class="kwd">as</span> <span class="id">INITLOCALIZE</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">INITLOCALIZE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">INITARGS</span>: <span class="id"><a href="LDSimDefs.html#G_args">G_args</a></span> <span class="id">SharedSrc</span> <span class="id">argSrc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">subst</span> <span class="id">SharedSrc</span>. <span class="tactic">generalize</span> <span class="id">GARGS</span> <span class="id">GEREL</span>. <span class="tactic">clear</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">GEREL</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">mu_shared_src</span>. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">HeqSharedSrc</span> <span class="kwd">in</span> <span class="id">INITARGS</span>. <span class="id">specialize</span> (<span class="id">INITLOCALIZE</span> <span class="id">INITARGS</span> <span class="id">INITCORE</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">INITLOCALIZE</span> <span class="kwd">as</span> (<span class="id">argSrc_local</span> &amp; <span class="id">lsc</span> &amp; <span class="id">ARGLOCALIZE</span> &amp; <span class="id">INITCORE_local</span> &amp; <span class="id">INITLOCALIZE</span>).<br/>
&nbsp;construct&nbsp;local&nbsp;initial&nbsp;core&nbsp;on&nbsp;traget&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="LDSim_local.html#match_init">match_init</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">SIM_local</span>) <span class="kwd">as</span> <span class="id">INITSIM</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;construct&nbsp;local&nbsp;args&nbsp;on&nbsp;target&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="Localize.html#lift_init">lift_init</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">TLift</span>' <span class="id">argTgt</span>) <span class="kwd">as</span> <span class="id">INITLIFT</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">INITARGT</span>: <span class="id"><a href="LDSimDefs.html#G_args">G_args</a></span> (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">tge</span>)) <span class="id">argTgt</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">subst</span> <span class="id">SharedTgt</span>. <span class="tactic">generalize</span> <span class="id">GARGS</span> <span class="id">ARGREL</span> <span class="id">GEREL</span>. <span class="tactic">clear</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">ARGREL</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H</span>; <span class="tactic">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">v</span> <span class="id">v</span>'. <span class="tactic">inversion</span> <span class="id">GEREL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="LDSimDefs.html#G_arg">G_arg</a></span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id">mu</span> <span class="id">b1</span>) <span class="id">eqn</span>:?; <span class="tactic">try</span> <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Bset.inj_range</span>'; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">mu_inject</span>. <span class="tactic">rewrite</span> <span class="id">mu_shared_tgt</span> <span class="kwd">in</span> <span class="id">inj_weak</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="id">inv</span> <span class="id">GARGS</span>. <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">GARGS</span>. <span class="tactic">apply</span> <span class="id">IHARGREL</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">INITLIFT</span> <span class="id">INITARGT</span>). <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">INITLIFT</span> <span class="kwd">as</span> (<span class="id">argTgt_local</span> &amp; <span class="id">ARGLIFT</span> &amp; <span class="id">INITLIFT</span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">GEREL_LOCAL</span>: <span class="id"><a href="LDSimDefs.html#ge_init_inj">ge_init_inj</a></span> <span class="id">mu_local</span> <span class="id">sge_local</span> <span class="id">tge_local</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">eapply</span> <span class="id"><a href="Localize.html#ge_localize">ge_localize</a></span> <span class="kwd">in</span> <span class="id">LIFTMU</span>; <span class="tactic">eauto</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">auto</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">ARGREL_LOCAL</span>: <span class="id"><a href="LDSimDefs.html#arg_rel">arg_rel</a></span> (<span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id">mu_local</span>) <span class="id">argSrc_local</span> <span class="id">argTgt_local</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="Localize.html#arg_rel_strict_lift">arg_rel_strict_lift</a></span>; <span class="tactic">eauto</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">GARGS_local</span>: <span class="id"><a href="LDSimDefs.html#G_args">G_args</a></span> (<span class="id"><a href="Injections.html#SharedSrc">Injections.SharedSrc</a></span> <span class="id">mu_local</span>) <span class="id">argSrc_local</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">generalize</span> <span class="id">LIFTMU</span> <span class="id">ARGLOCALIZE</span> <span class="id">GARGS</span>. <span class="tactic">clear</span>. <span class="tactic">intros</span> <span class="id">LIFTMU</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">LIFTMU</span>. <span class="tactic">generalize</span> <span class="id">INJ21</span>; <span class="tactic">clear</span>. <span class="tactic">intro</span>. <span class="id">revert</span> <span class="id">argSrc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">argSrc_local</span>; <span class="tactic">intros</span>; <span class="id">inv</span> <span class="id">ARGLOCALIZE</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">GARGS</span>. <span class="id">constructor</span>. <span class="id">inv</span> <span class="id">H1</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> (<span class="id">j21</span> <span class="id">b0</span>) <span class="id">eqn</span>:<span class="id">J21</span>; <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *.  <span class="tactic">eapply</span> <span class="id">Bset.inj_dom</span>'; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">INJ21</span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id">IHargSrc_local</span>; <span class="tactic">eauto</span>. }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">INITSIM</span> <span class="id">mu_local</span> <span class="id">id</span> <span class="id">argSrc_local</span> <span class="id">argTgt_local</span> <span class="id">lsc</span> <span class="id">GEREL_LOCAL</span> <span class="id">MULOCAL</span> <span class="id">GARGS_local</span> <span class="id">ARGREL_LOCAL</span> <span class="id">INITCORE_local</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">INITSIM</span> <span class="kwd">as</span> (<span class="id">ltc</span> &amp; <span class="id">INITCORE_local</span>' &amp; <span class="id">INITSIM</span>).<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">INITLIFT</span> <span class="id">id</span> <span class="id">ltc</span> <span class="id">INITCORE_local</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">INITLIFT</span> <span class="kwd">as</span> (<span class="id">tcore</span> &amp; <span class="id">INITCORE</span>' &amp; <span class="id">INITLIFT</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">tcore</span>. <span class="tactic">split</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">sm</span> <span class="id">tm</span> <span class="id">INITSM</span> <span class="id">INITTM</span> <span class="id">MEMINITREL</span>.<br/>
<br/>
&nbsp;construct&nbsp;local&nbsp;initial&nbsp;memory&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MEMINITREL</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="LDSimDefs.html#mu_shared_src">mu_shared_src</a></span> <span class="kwd">in</span> <span class="id">rc_shared_Src</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="LDSimDefs.html#mu_shared_tgt">mu_shared_tgt</a></span> <span class="kwd">in</span> <span class="id">rc_shared_Tgt</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">INITLOCALIZE</span> <span class="id">sm</span> <span class="id">sfl</span> <span class="id">INITSM</span> <span class="id">sfl_norep</span> <span class="id">sfl_free</span> <span class="id">rc_shared_Src</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">as</span> (<span class="id">lsm</span> &amp; <span class="id">INITSM</span>' &amp; <span class="id">MEMREL21</span> &amp; <span class="id">MATCH12</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">INITLOCALIZE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">INITLIFT</span> <span class="id">tm</span> <span class="id">tfl</span> <span class="id">INITTM</span> <span class="id">tfl_norep</span> <span class="id">tfl_free</span> <span class="id">rc_shared_Tgt</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">as</span> (<span class="id">ltm</span> &amp; <span class="id">INITTM</span>' &amp; <span class="id">MEMREL23</span> &amp; <span class="id">MATCH23</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">INITLIFT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">INITSIM</span> <span class="id">lsm</span> <span class="id">ltm</span> <span class="id">INITSM</span>' <span class="id">INITTM</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">MEMINITREL</span>': <span class="id"><a href="LDSim_local.html#mem_init_inj">mem_init_inj</a></span> <span class="id">mu_local</span> <span class="id">lsm</span> <span class="id">ltm</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">generalize</span> <span class="id">GEREL</span> <span class="id">LIFTMU</span> <span class="id">valid_Src</span> <span class="id">valid_Tgt</span> <span class="id">rc_shared_Src</span> <span class="id">rc_shared_Tgt</span> <span class="id">Binj</span> <span class="id">init_mu</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">MEMREL21</span> <span class="id">MEMREL23</span> <span class="id">GENVDOMEQ</span> <span class="id">MULOCAL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">LIFTMU</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">intro</span> <span class="id">b</span>. <span class="tactic">rewrite</span> <span class="id">BSETEQ21</span> <span class="kwd">in</span> <span class="id">INJ21</span>. <span class="id">inv</span> <span class="id">GEREL</span>. <span class="tactic">rewrite</span> <span class="id">mu_shared_src</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Localize.html#construct_inj_total">construct_inj_total</a></span>. <span class="tactic">exact</span> <span class="id">INJ21</span>. <span class="id">instantiate</span> (1:= <span class="id">b</span>). <span class="tactic">intros</span> [<span class="id">b</span>' <span class="id">J21</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Localize.html#mem_related_valid_block">mem_related_valid_block</a></span>. <span class="tactic">exact</span> <span class="id">MEMREL21</span>. <span class="tactic">eauto</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span>, <span class="id">valid_Src</span>. <span class="tactic">rewrite</span> <span class="id">BSETEQ21</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="kwd">in</span> <span class="id">J21</span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pattern</span> <span class="id">b</span>'. <span class="tactic">eapply</span> <span class="id">Bset.inj_range</span>'. <span class="id">inv</span> <span class="id">INJ21</span>; <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="kwd">in</span> <span class="id">J21</span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pattern</span> <span class="id">b</span>. <span class="tactic">eapply</span> <span class="id">Bset.inj_dom</span>'. <span class="id">inv</span> <span class="id">INJ21</span>; <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exfalso</span>. <span class="tactic">destruct</span> <span class="id">init_mu</span> <span class="kwd">as</span> [<span class="id">_</span> [<span class="id">A</span> <span class="id">_</span>]]. <span class="id">inv</span> <span class="id">J21</span>. <span class="tactic">eapply</span> <span class="id">A</span>; <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">intro</span> <span class="id">b</span>. <span class="tactic">rewrite</span> <span class="id">BSETEQ23</span> <span class="kwd">in</span> <span class="id">INJ23</span>. <span class="id">inv</span> <span class="id">GEREL</span>. <span class="tactic">rewrite</span> <span class="id">mu_shared_tgt</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Localize.html#construct_inj_total">construct_inj_total</a></span>. <span class="tactic">exact</span> <span class="id">INJ23</span>. <span class="id">instantiate</span> (1:= <span class="id">b</span>). <span class="tactic">intros</span> [<span class="id">b</span>' <span class="id">J23</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Localize.html#mem_related_valid_block">mem_related_valid_block</a></span>. <span class="tactic">exact</span> <span class="id">MEMREL23</span>. <span class="tactic">eauto</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span>, <span class="id">valid_Tgt</span>. <span class="tactic">rewrite</span> <span class="id">BSETEQ23</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="kwd">in</span> <span class="id">J23</span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pattern</span> <span class="id">b</span>'. <span class="tactic">eapply</span> <span class="id">Bset.inj_range</span>'. <span class="id">inv</span> <span class="id">INJ23</span>; <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="kwd">in</span> <span class="id">J23</span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pattern</span> <span class="id">b</span>. <span class="tactic">eapply</span> <span class="id">Bset.inj_dom</span>'. <span class="id">inv</span> <span class="id">INJ23</span>; <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exfalso</span>. <span class="tactic">destruct</span> <span class="id">init_mu</span> <span class="kwd">as</span> [<span class="id">_</span> [<span class="id">_</span> <span class="id">A</span>]]. <span class="id">inv</span> <span class="id">J23</span>. <span class="tactic">eapply</span> <span class="id">A</span>; <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">mu</span> <span class="kwd">as</span> (<span class="id">j13</span>, <span class="id">MUS</span>, <span class="id">MUT</span>). <span class="tactic">destruct</span> <span class="id">mu_local</span> <span class="kwd">as</span> (<span class="id">j22</span>, <span class="id">MUS</span>', <span class="id">MUT</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">GEREL</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">subst</span> <span class="id">MUS</span>' <span class="id">MUT</span>' <span class="id">MUS</span> <span class="id">MUT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">init_mu</span> <span class="kwd">as</span> (<span class="id">INJ13</span> &amp; <span class="id">NOOVERLAP1</span> &amp; <span class="id">NOOVERLAP3</span>). <span class="id">inv</span> <span class="id">Binj</span>. <span class="tactic">rename</span> <span class="id">bmiw_inject</span> <span class="id">into</span> <span class="id">MEMINJ13</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;mi&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="comment">(*&nbsp;perm&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> (<span class="id">j22</span> <span class="id">b1</span>) <span class="id">eqn</span>:?; <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">Consist2</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">b1</span>' &amp; <span class="id">b2</span>' &amp; <span class="id">J21</span> &amp; <span class="id">J23</span> &amp; <span class="id">J13</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Localize.html#mem_related_mem_perm_eq">mem_related_mem_perm_eq</a></span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id"><a href="FMemPerm.html#perm_kind_convert_eq">perm_kind_convert_eq</a></span>; <span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id"><a href="FMemPerm.html#permission_convert_eq">permission_convert_eq</a></span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">instantiate</span> (1:= <span class="id">b1</span>') <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="GMemory.html#GMem.mi_perm">GMem.mi_perm</a></span> <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">instantiate</span> (1:= 0) <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">instantiate</span> (1:= <span class="id">b2</span>') <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">instantiate</span> (1:= <span class="id">tm</span>) <span class="kwd">in</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Localize.html#mem_related_mem_perm_eq">mem_related_mem_perm_eq</a></span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id">Bset.inj_dom</span>' <span class="kwd">in</span> <span class="id">J23</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exfalso</span>; <span class="tactic">apply</span> <span class="id">n</span>. <span class="tactic">pattern</span> <span class="id">b2</span>. <span class="tactic">eapply</span> <span class="id">J23</span>. <span class="id">inv</span> <span class="id">INJ23</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="FMemPerm.html#perm_kind_convert_eq">perm_kind_convert_eq</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="FMemPerm.html#permission_convert_eq">permission_convert_eq</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MEMINJ13</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>. <span class="tactic">rewrite</span> <span class="id">J13</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exfalso</span>; <span class="tactic">apply</span> <span class="id">n</span>. <span class="tactic">pattern</span> <span class="id">b1</span>. <span class="tactic">eapply</span> <span class="id">Bset.inj_dom</span>' <span class="kwd">in</span> <span class="id">J21</span>. <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">INJ21</span>. <span class="tactic">eauto</span>. } <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="comment">(*&nbsp;align&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> (<span class="id">j22</span> <span class="id">b1</span>); <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.divide_0_r">Z.divide_0_r</a></span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="comment">(*&nbsp;memval&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">GENVDOMEQ</span> <span class="kwd">in</span> *. <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">b1</span> <span class="id">ofs</span> <span class="id">b2</span> <span class="id">delta</span> <span class="id">J22</span> <span class="id">PERM1</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="kwd">in</span> <span class="id">J22</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">j22</span> <span class="id">b1</span>) <span class="id">eqn</span>:?; <span class="id">inv</span> <span class="id">J22</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">Consist2</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">b1</span>' &amp; <span class="id">b2</span>' &amp; <span class="id">J21</span> &amp; <span class="id">J23</span> &amp; <span class="id">J13</span>).<br/>
&nbsp;by&nbsp;memrel21,&nbsp;GMem.perm&nbsp;sm&nbsp;b1'&nbsp;ofs&nbsp;Cur&nbsp;Readable&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">PERM1</span>': <span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span> <span class="id">sm</span> <span class="id">b1</span>' <span class="id">ofs</span> (<span class="id"><a href="FMemPerm.html#perm_kind_convert">perm_kind_convert</a></span> <span class="id"><a href="Memtype.html#Max">Max</a></span>) (<span class="id"><a href="FMemPerm.html#permission_convert">permission_convert</a></span> <span class="id"><a href="Memtype.html#Readable">Readable</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="Localize.html#mem_related_mem_perm_eq">mem_related_mem_perm_eq</a></span>; <span class="tactic">eauto</span>; <span class="tactic">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">Bset.inj_dom</span>'. <span class="id">inv</span> <span class="id">INJ21</span>; <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>; <span class="tactic">auto</span>. <span class="id">contradiction</span>. }<br/>
&nbsp;by&nbsp;MEMINJ13,&nbsp;memval_inject&nbsp;j13&nbsp;(b1',&nbsp;ofs)&nbsp;(b2',&nbsp;ofs)&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="GMemory.html#GMem.mi_memval">GMem.mi_memval</a></span>. <span class="id">inv</span> <span class="id">MEMINJ13</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>. <span class="tactic">rewrite</span> <span class="id">J13</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">MEMVALINJ13</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">remember</span> (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">tge</span>)) <span class="kwd">as</span> <span class="id">S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">remember</span> (<span class="id"><a href="Injections.html#Build_Mu">Injections.Build_Mu</a></span> <span class="id">j22</span> <span class="id">S</span> <span class="id">S</span>) <span class="kwd">as</span> <span class="id">lmu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">remember</span> (<span class="id"><a href="Injections.html#Build_Mu">Injections.Build_Mu</a></span> <span class="id">j13</span> <span class="id">S</span> <span class="id">S</span>) <span class="kwd">as</span> <span class="id">mu</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">memval_inject_strict_memval_inject</span>' <span class="id">j21</span> <span class="id">j23</span> <span class="id">mu</span> <span class="id">lmu</span>); <span class="tactic">try</span> (<span class="tactic">subst</span>; <span class="tactic">eauto</span>; <span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">subst</span>; <span class="tactic">eauto</span>. <span class="tactic">subst</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;by&nbsp;memrel21&nbsp;and&nbsp;memrel&nbsp;23&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Hb1</span>: <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id">b1</span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">tge</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#plt">plt</a></span> <span class="id">b1</span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">tge</span>)); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">INJ21</span>. <span class="tactic">pattern</span> <span class="id">b1</span>. <span class="tactic">eapply</span> <span class="id">Bset.inj_dom</span>'; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Localize.html#mem_related_mem_val_inject">mem_related_mem_val_inject</a></span> <span class="id">j21</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>; <span class="tactic">eauto</span>. <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Localize.html#mem_related_reach_closed">mem_related_reach_closed</a></span> <span class="kwd">in</span> <span class="id">rc_shared_Src</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id">rc_shared_Src</span> <span class="id">Hb1</span> <span class="id">INJ21</span> <span class="id">PERM1</span>. <span class="tactic">clear</span>. <span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">try</span> (<span class="id">constructor</span>; <span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>. <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">tge</span>)) <span class="id">b0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id">rc_shared_Src</span>. <span class="id">econstructor</span>. <span class="id">instantiate</span> (1:= ((<span class="id">b1</span>, <span class="id">ofs1</span>)::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span>, <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>, <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>; [|<span class="id">contradiction</span>]. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Hb2</span>: <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id">b2</span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">tge</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#plt">plt</a></span> <span class="id">b2</span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">tge</span>)); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">INJ23</span>. <span class="tactic">pattern</span> <span class="id">b2</span>. <span class="tactic">eapply</span> <span class="id">Bset.inj_dom</span>'; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">PERM2</span>: <span class="id"><a href="Memory.html#Mem.perm">Mem.perm</a></span> <span class="id">ltm</span> <span class="id">b2</span> <span class="id">ofs</span> <span class="id"><a href="Memtype.html#Max">Max</a></span> <span class="id"><a href="Memtype.html#Readable">Readable</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="GMemory.html#GMem.mi_perm">GMem.mi_perm</a></span> <span class="kwd">in</span> <span class="id">PERM1</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id">inv</span> <span class="id">MEMINJ13</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>; <span class="tactic">rewrite</span> <span class="id">J13</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_0_r">Z.add_0_r</a></span> <span class="kwd">in</span> <span class="id">PERM1</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Localize.html#mem_related_mem_perm_eq">mem_related_mem_perm_eq</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>; [<span class="tactic">auto</span>|<span class="id">contradiction</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="FMemPerm.html#perm_kind_convert_eq">perm_kind_convert_eq</a></span>. <span class="tactic">apply</span> <span class="id"><a href="FMemPerm.html#permission_convert_eq">permission_convert_eq</a></span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Localize.html#mem_related_mem_val_inject">mem_related_mem_val_inject</a></span> <span class="id">j23</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>; <span class="tactic">eauto</span>. <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Localize.html#mem_related_reach_closed">mem_related_reach_closed</a></span> <span class="kwd">in</span> <span class="id">rc_shared_Tgt</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id">rc_shared_Tgt</span> <span class="id">Hb2</span> <span class="id">INJ23</span> <span class="id">PERM2</span>. <span class="tactic">clear</span>. <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_0_r">Z.add_0_r</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>; <span class="tactic">try</span> (<span class="id">constructor</span>; <span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>. <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">tge</span>)) <span class="id">b1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id">rc_shared_Tgt</span>. <span class="id">econstructor</span>. <span class="id">instantiate</span> (1:= ((<span class="id">b2</span>, <span class="id">_</span>)::<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span>, <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>, <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>; [|<span class="id">contradiction</span>]. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;mapped&nbsp;valid&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">intros</span>.<br/>
&nbsp;construct&nbsp;image&nbsp;of&nbsp;b&nbsp;in&nbsp;sm&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Localize.html#construct_inj_total">construct_inj_total</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">sfl</span> <span class="id">INJ21</span> <span class="id">b</span>) <span class="kwd">as</span> [<span class="id">b</span>' <span class="id">J21</span>'].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="kwd">in</span> <span class="id">J21</span>'. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">p</span>': <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id">b</span>' (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">sge</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">pattern</span> <span class="id">b</span>'. <span class="tactic">eapply</span> <span class="id">Bset.inj_range</span>'; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">INJ21</span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">valid_Src</span>, &lt;- <span class="id"><a href="Localize.html#mem_related_valid_block">mem_related_valid_block</a></span> <span class="kwd">in</span> <span class="id">p</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exfalso</span>. <span class="tactic">apply</span> <span class="id">H</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>;[<span class="tactic">auto</span>|<span class="id">contradiction</span>].<br/>
&nbsp;don't&nbsp;care&nbsp;b&nbsp;outside&nbsp;of&nbsp;S&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>. <span class="tactic">destruct</span> (<span class="id">j22</span> <span class="id">b</span>) <span class="id">eqn</span>:?; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Consist2</span> <span class="kwd">in</span> <span class="id">Heqo</span>. <span class="tactic">destruct</span> <span class="id">Heqo</span> <span class="kwd">as</span> (<span class="id">b</span>'' &amp; <span class="id">b3</span>' &amp; <span class="id">J21</span> &amp; <span class="id">J23</span> &amp; <span class="id">J13</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exfalso</span>. <span class="tactic">apply</span> <span class="id">n</span>. <span class="tactic">pattern</span> <span class="id">b</span>. <span class="tactic">eapply</span> <span class="id">Bset.inj_dom</span>' <span class="kwd">in</span> <span class="id">J21</span>. <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">INJ21</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;mapped&nbsp;valid'&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">destruct</span> (<span class="id">j22</span> <span class="id">b</span>) <span class="id">eqn</span>:<span class="id">J22</span>; <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Consist2</span> <span class="kwd">in</span> <span class="id">J22</span>. <span class="tactic">destruct</span> <span class="id">J22</span> <span class="kwd">as</span> (<span class="id">b1</span> &amp; <span class="id">b3</span> &amp; <span class="id">J21</span> &amp; <span class="id">J23</span> &amp; <span class="id">J13</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">Bset.inj_dom</span>' <span class="id">j23</span>). <span class="id">inv</span> <span class="id">INJ23</span>; <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id">Bset.inj_range</span>' <span class="id">j23</span>). <span class="id">inv</span> <span class="id">INJ23</span>; <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span>; <span class="tactic">intros</span> <span class="id">Hb3</span> <span class="id">Hb</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Localize.html#mem_related_valid_block">mem_related_valid_block</a></span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>;[<span class="tactic">eauto</span>|<span class="id">contradiction</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">valid_Tgt</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;inject&nbsp;no&nbsp;overlap&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.meminj_no_overlap">Mem.meminj_no_overlap</a></span>, <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">b1</span> <span class="id">b1</span>' <span class="id">delta1</span> <span class="id">b2</span> <span class="id">b2</span>' <span class="id">delta2</span> <span class="id">ofs1</span> <span class="id">ofs2</span> <span class="id">H</span> <span class="id">H0</span> <span class="id">H1</span> <span class="id">H2</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">j22</span> <span class="id">b1</span>) <span class="id">eqn</span>:<span class="id">J22</span>; <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">destruct</span> (<span class="id">j22</span> <span class="id">b2</span>) <span class="id">eqn</span>:<span class="id">J22</span>'; <span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">left</span>. <span class="tactic">apply</span> <span class="id">Consist2</span> <span class="kwd">in</span> <span class="id">J22</span>. <span class="tactic">apply</span> <span class="id">Consist2</span> <span class="kwd">in</span> <span class="id">J22</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">J22</span> <span class="kwd">as</span> (<span class="id">b1</span>'' &amp; <span class="id">b1</span>''' &amp; <span class="id">J21</span> &amp; <span class="id">J23</span> &amp; <span class="id">J13</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">J22</span>' <span class="kwd">as</span> (<span class="id">b2</span>'' &amp; <span class="id">b2</span>''' &amp; <span class="id">J21</span>' &amp; <span class="id">J23</span>' &amp; <span class="id">J13</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">NEQ</span>:<span class="id">b1</span>'' &lt;&gt; <span class="id">b2</span>'').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">intro</span>. <span class="tactic">apply</span> <span class="id">H</span>. <span class="tactic">subst</span>. <span class="tactic">eapply</span> <span class="id"><a href="Blockset.html#Bset.inj_injective">Bset.inj_injective</a></span>. <span class="id">inv</span> <span class="id">INJ21</span>; <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">NEQ</span>':<span class="id">b1</span>''' &lt;&gt; <span class="id">b2</span>''').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">intro</span>. <span class="tactic">apply</span> <span class="id">NEQ</span>. <span class="tactic">subst</span>. <span class="tactic">eapply</span> (<span class="id"><a href="Blockset.html#Bset.inj_injective">Bset.inj_injective</a></span> <span class="id">j13</span>). <span class="id">inv</span> <span class="id">mu_inject</span>; <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="tactic">apply</span> <span class="id">NEQ</span>'. <span class="tactic">subst</span>. <span class="tactic">rewrite</span> <span class="id">J23</span> <span class="kwd">in</span> <span class="id">J23</span>'; <span class="id">inv</span> <span class="id">J23</span>'. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;representable&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">j22</span> <span class="id">b</span>) <span class="id">eqn</span>:<span class="id">J22</span>; <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">split</span>; [<span class="tactic">omega</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_0_r">Z.add_0_r</a></span>. <span class="tactic">apply</span> <span class="id"><a href="Integers.html#Ptrofs.unsigned_range_2">Integers.Ptrofs.unsigned_range_2</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;perm_inv&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">j22</span> <span class="id">b1</span>) <span class="id">eqn</span>:<span class="id">J22</span>; <span class="id">inv</span> <span class="id">H</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Consist2</span> <span class="kwd">in</span> <span class="id">J22</span>. <span class="tactic">destruct</span> <span class="id">J22</span> <span class="kwd">as</span> (<span class="id">b1</span>' &amp; <span class="id">b2</span>' &amp; <span class="id">J21</span> &amp; <span class="id">J23</span> &amp; <span class="id">J13</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">cut</span> (<span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="id">j23</span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">tge</span>) <span class="id">tfl</span> <span class="id">b2</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b2</span>'). <span class="tactic">intro</span> <span class="id">J23</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">cut</span> (<span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="id">j21</span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">sge</span>) <span class="id">sfl</span> <span class="id">b1</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b1</span>'). <span class="tactic">intro</span> <span class="id">J21</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="Localize.html#mem_related_mem_perm_eq">mem_related_mem_perm_eq</a></span> <span class="id">j23</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">MEMREL23</span>) <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id"><a href="FMemPerm.html#perm_kind_convert_eq">perm_kind_convert_eq</a></span>; <span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id"><a href="FMemPerm.html#permission_convert_eq">permission_convert_eq</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="GMemory.html#GMem.mi_perm_inv">GMem.mi_perm_inv</a></span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>; <span class="tactic">rewrite</span> <span class="id">J13</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="Localize.html#mem_related_mem_perm_eq">mem_related_mem_perm_eq</a></span> <span class="id">j21</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">MEMREL21</span>) <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id"><a href="FMemPerm.html#perm_kind_convert_eq">perm_kind_convert_eq</a></span>; <span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id"><a href="FMemPerm.html#permission_convert_eq">permission_convert_eq</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="Localize.html#mem_related_mem_perm_eq">mem_related_mem_perm_eq</a></span> <span class="id">j21</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">MEMREL21</span>) <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id"><a href="FMemPerm.html#perm_kind_convert_eq">perm_kind_convert_eq</a></span>; <span class="tactic">try</span> <span class="tactic">eapply</span> <span class="id"><a href="FMemPerm.html#permission_convert_eq">permission_convert_eq</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>; <span class="tactic">auto</span>. <span class="id">exfalso</span>; <span class="tactic">apply</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pattern</span> <span class="id">b1</span>. <span class="tactic">eapply</span> <span class="id">Bset.inj_dom</span>'. <span class="id">inv</span> <span class="id">INJ21</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>; <span class="tactic">auto</span>. <span class="id">exfalso</span>; <span class="tactic">apply</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">pattern</span> <span class="id">b2</span>. <span class="tactic">eapply</span> <span class="id">Bset.inj_dom</span>'. <span class="id">inv</span> <span class="id">INJ23</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">GEREL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Inj_lift_inject</span>'; <span class="tactic">eauto</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">INITSIM</span> <span class="id">MEMINITREL</span>').<br/>
<br/>
&nbsp;construct&nbsp;matching&nbsp;relation&nbsp;after&nbsp;rely&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">sm</span>' <span class="id">tm</span>' <span class="id">HLRELY</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Localize.html#HLRely_Inj_lift">HLRely_Inj_lift</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="LDSimDefs.html#mu_shared_src">mu_shared_src</a></span>. <span class="id">eexact</span> <span class="id">GEREL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">GENVDOMEQ</span>. <span class="tactic">eapply</span> <span class="id"><a href="LDSimDefs.html#mu_shared_tgt">mu_shared_tgt</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexact</span> <span class="id">sfl_norep</span>. <span class="id">eexact</span> <span class="id">tfl_norep</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="MemAux.html#no_overlap">no_overlap</a></span>; <span class="tactic">intros</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">sfl_free</span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">valid_Src</span>. <span class="id">inv</span> <span class="id">GEREL</span>. <span class="tactic">rewrite</span> <span class="id">mu_shared_src</span>. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="MemAux.html#no_overlap">no_overlap</a></span>; <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id">GENVDOMEQ</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">tfl_free</span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">valid_Tgt</span>. <span class="id">inv</span> <span class="id">GEREL</span>. <span class="tactic">rewrite</span> <span class="id">mu_shared_tgt</span>. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">GENVDOMEQ</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Localize.html#Inv_localize">Inv_localize</a></span>; <span class="tactic">eauto</span>. <span class="tactic">inversion</span> <span class="id">Binj</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">GENVDOMEQ</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> (<span class="id">lsm</span>' &amp; <span class="id">ltm</span>' &amp; <span class="id">MEMREL21</span>' &amp; <span class="id">MEMREL23</span>' &amp; <span class="id">HLRELY</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">INITSIM</span> <span class="id">lsm</span>' <span class="id">ltm</span>' <span class="id">HLRELY</span>') <span class="kwd">as</span> [<span class="id">i</span>' <span class="id">MATCH22</span>'].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Localize.html#localize_rely">localize_rely</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">SLocalize</span>'); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">HLRELY</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Localize.html#lift_rely">lift_rely</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">TLift</span>'). <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">HLRELY</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">eauto</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">GENVDOMEQ</span>. <span class="tactic">eapply</span> <span class="id">MEMREL23</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">MATCH32</span>' <span class="id">MATCH12</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">i</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">tauto</span>. <span class="tactic">split</span>. <span class="tactic">tauto</span>. <span class="tactic">split</span>. <span class="tactic">auto</span>. <span class="tactic">split</span>. <span class="tactic">auto</span>. <span class="tactic">split</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">j21</span>, <span class="id">j23</span>, <span class="id">mu_local</span>. <span class="tactic">do</span> 4 (<span class="tactic">split</span>; [<span class="tactic">auto</span>|]). <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="Localize.html#FPlocalize_emp">FPlocalize_emp</a></span>. <span class="tactic">apply</span> <span class="id"><a href="Localize.html#FPlocalize_emp">FPlocalize_emp</a></span>. <span class="tactic">apply</span> <span class="id"><a href="LDSimDefs.html#fpG_emp">fpG_emp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;tau&nbsp;step&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">i</span> <span class="id">mu</span> <span class="id">Hfp</span> <span class="id">Lfp</span> <span class="id">Hcore</span> <span class="id">Hm</span> <span class="id">Lcore</span> <span class="id">Lm</span> <span class="id">Hfp</span>' <span class="id">Hcore</span>' <span class="id">Hm</span>' <span class="id">MATCH</span> <span class="id">HSTEP</span> <span class="id">HFPG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">MATCHSTATE</span>. <span class="id">invMS</span> <span class="id">MATCH</span>. <span class="tactic">subst</span>. <span class="id">inv</span> <span class="id">LIFTMATCH</span>. <span class="tactic">clear</span> <span class="id">Constr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Hj23</span>'':<span class="id"><a href="Blockset.html#Bset.inject">Bset.inject</a></span> <span class="id">j23</span> (<span class="kwd">fun</span> <span class="id">b</span> : <span class="id"><a href="Values.html#block">block</a></span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">tge_local</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">tge</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">INJLIFT</span>. <span class="id">inv</span> <span class="id">TGEMATCH</span>. <span class="tactic">rewrite</span> <span class="id">BSETEQ23</span> <span class="kwd">in</span> <span class="id">INJ23</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">ge_match_strict_next0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- <span class="id"><a href="LDSimDefs.html#mu_shared_tgt">mu_shared_tgt</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Hj21</span>'':<span class="id"><a href="Blockset.html#Bset.inject">Bset.inject</a></span> <span class="id">j21</span> (<span class="kwd">fun</span> <span class="id">b</span> : <span class="id"><a href="Values.html#block">block</a></span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">sge_local</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">sge</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">INJLIFT</span>. <span class="id">inv</span> <span class="id">SGEMATCH</span>. <span class="tactic">rewrite</span> <span class="id">BSETEQ21</span> <span class="kwd">in</span> <span class="id">INJ21</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">ge_match_strict_next0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- <span class="id"><a href="LDSimDefs.html#mu_shared_src">mu_shared_src</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">SLocalize</span>' <span class="id">Hj21</span>''); <span class="id">specialize</span> (<span class="id">TLift</span>' <span class="id">Hj23</span>'').<br/>
&nbsp;localize&nbsp;src&nbsp;step&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">HFPG</span>. <span class="tactic">rename</span> <span class="id">H</span> <span class="id">into</span> <span class="id">HFPG</span>'.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="Localize.html#localize_lockstep">localize_lockstep</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">SLocalize</span>' <span class="id">sfl</span> <span class="id">Hcore</span> <span class="id">lsc</span> <span class="id">Hm</span> <span class="id">lsm</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Hfp</span>' <span class="id">Hcore</span>' <span class="id">Hm</span>' <span class="id">MATCH12</span> <span class="id">HSTEP</span>) <span class="kwd">as</span> <span class="id">STEPLOCALIZE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">HFPG</span>'': <span class="id"><a href="LDSimDefs.html#fpG">fpG</a></span> <span class="id">sfl</span> (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">sge</span>)) <span class="id">Hfp</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">rewrite</span> <span class="id"><a href="LDSimDefs.html#bset_eq_fpG">bset_eq_fpG</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;by&nbsp;config_ldsim,&nbsp;need&nbsp;modification&nbsp;TODO&nbsp;*)</span>&nbsp;?????&nbsp;why&nbsp;need&nbsp;modification???&nbsp;-&nbsp;2018-03-08&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">SIM_local</span>. <span class="id">exploit</span> <span class="id">match_mu_ge</span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span> <span class="id">A</span>; <span class="id">inv</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">SLocalize</span>'. <span class="tactic">destruct</span> <span class="id">localize_ge0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="id">erewrite</span> <span class="id"><a href="Localize.html#ge_match_strict_next">ge_match_strict_next</a></span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">INJLIFT</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">BSETEQ21</span>. <span class="tactic">rewrite</span> <span class="id">mu_shared_src</span>. <span class="tactic">tauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">STEPLOCALIZE</span> <span class="id">HFPG</span>'').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">STEPLOCALIZE</span> <span class="kwd">as</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">lfpS</span>' &amp; <span class="id">lsc</span>' &amp; <span class="id">lsm</span>' &amp; <span class="id">STEPLOCALIZE</span> &amp; <span class="id">FPLOCALIZE</span> &amp; <span class="id">MATCH12</span>').<br/>
<br/>
&nbsp;construct&nbsp;local&nbsp;tgt&nbsp;step&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="LDSim_local.html#match_tau_step">match_tau_step</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">SIM_local</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">MATCH22</span> <span class="id">STEPLOCALIZE</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;) <span class="kwd">as</span> <span class="id">LSTEP_local</span>.<br/>
<br/>
&nbsp;cases&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">LSTEP_local</span> <span class="kwd">as</span> [<span class="id">LSTEP_local</span> | <span class="id">LSTEP_local</span>].<br/>
&nbsp;-&nbsp;no&nbsp;step&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">LSTEP_local</span> <span class="kwd">as</span> (<span class="id">i</span>' &amp; <span class="id">DECR_i</span>' &amp; <span class="id">MATCH22</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">i</span>'. <span class="tactic">do</span> 6 (<span class="tactic">split</span>; [<span class="tactic">auto</span>|]). <span class="id">exists</span> <span class="id">j21</span>, <span class="id">j23</span>, <span class="id">mu_local</span>. <span class="tactic">do</span> 4 (<span class="tactic">split</span>; [<span class="tactic">auto</span>|]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> (<span class="id"><a href="Localize.html#FPlocalize_union">FPlocalize_union</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">FPINJ12</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;-&nbsp;matched&nbsp;step&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">LSTEP_local</span> <span class="kwd">as</span> (<span class="id">i</span>' &amp; <span class="id">lfpT</span>' &amp; <span class="id">ltc</span>' &amp; <span class="id">ltm</span>' &amp; <span class="id">LSTEP_local</span> &amp; <span class="id">FPINJ22</span> &amp; <span class="id">MATCH22</span>').<br/>
&nbsp;lift&nbsp;tgt&nbsp;step&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Localize.html#lift_lockstep_plus">lift_lockstep_plus</a></span> <span class="kwd">in</span> <span class="id">LSTEP_local</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">LSTEP_local</span> <span class="kwd">as</span> (<span class="id">Lfp</span>' &amp; <span class="id">Lcore</span>' &amp; <span class="id">Lm</span>' &amp; <span class="id">PLUS</span> &amp; <span class="id">FPINJ32</span>' &amp; <span class="id">FPG</span>' &amp;  <span class="id">MATCH32</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">i</span>', <span class="id">Lfp</span>', <span class="id">Lcore</span>', <span class="id">Lm</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
<div class="doc">Could these assertions wrapped into lemmas or tactics? </div>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">FPINJ12</span>'': <span class="id"><a href="Localize.html#FPlocalize">FPlocalize</a></span> (<span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="id">j21</span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">sge</span>) <span class="id">sfl</span>) (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">Hfp</span> <span class="id">Hfp</span>') (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">lfpS</span> <span class="id">lfpS</span>')).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="Localize.html#FPlocalize_union">FPlocalize_union</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">FPINJ32</span>'': <span class="id"><a href="Localize.html#FPlocalize">FPlocalize</a></span> (<span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="id">j23</span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">sge</span>) <span class="id">tfl</span>) (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">Lfp</span> <span class="id">Lfp</span>') (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">lfpT</span> <span class="id">lfpT</span>')).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="Localize.html#FPlocalize_union">FPlocalize_union</a></span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">GENVDOMEQ</span>. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">FPG</span>'': <span class="id"><a href="LDSimDefs.html#fpG">fpG</a></span> <span class="id">tfl</span> (<span class="id"><a href="Injections.html#SharedTgt">Injections.SharedTgt</a></span> <span class="id">mu</span>) (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id">Lfp</span> <span class="id">Lfp</span>')).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="LDSimDefs.html#fpG_union">fpG_union</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="LDSimDefs.html#bset_eq_fpG">bset_eq_fpG</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">b</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Localize.html#Inj_lift_SharedTgt">Inj_lift_SharedTgt</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Localize.html#local_ldsim_SharedTgt">local_ldsim_SharedTgt</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- <span class="id"><a href="Localize.html#ge_match_strict_next">ge_match_strict_next</a></span>; <span class="tactic">eauto</span>. <span class="tactic">split</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Localize.html#FPlocalize_FPMatch">FPlocalize_FPMatch</a></span>; <span class="tactic">try</span> <span class="id">eassumption</span>. <span class="tactic">eapply</span> <span class="id"><a href="LDSim_local.html#wd_mu">wd_mu</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Localize.html#construct_inj_incr">construct_inj_incr</a></span>. <span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">GEINITINJ</span>. <span class="tactic">pattern</span> <span class="id">b</span>. <span class="id">fold</span> <span class="id"><a href="Values.html#block">block</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id">mu_shared_src</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">INJLIFT</span>. <span class="id">inv</span> <span class="id">INJ21</span>. <span class="id">inv</span> <span class="id">inj_weak</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">BSETEQ21</span>. <span class="tactic">eapply</span> <span class="id">inj_dom</span>'; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Localize.html#construct_inj_incr">construct_inj_incr</a></span>. <span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">GEINITINJ</span>. <span class="tactic">rewrite</span> <span class="id">GENVDOMEQ</span>. <span class="tactic">pattern</span> <span class="id">b</span>. <span class="id">fold</span> <span class="id"><a href="Values.html#block">block</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id">mu_shared_tgt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">INJLIFT</span>. <span class="id">inv</span> <span class="id">INJ23</span>. <span class="id">inv</span> <span class="id">inj_weak</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">BSETEQ23</span>. <span class="tactic">eapply</span> <span class="id">inj_dom</span>'; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> 5 (<span class="tactic">split</span>; [<span class="tactic">auto</span>|]). <span class="id">exists</span> <span class="id">j21</span>, <span class="id">j23</span>, <span class="id">mu_local</span>. <span class="tactic">do</span> 4 (<span class="tactic">split</span>; [<span class="tactic">auto</span>|]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;*&nbsp;at_ext&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">i</span> <span class="id">mu</span> <span class="id">Hfp</span> <span class="id">Lfp</span> <span class="id">Hcore</span> <span class="id">Hm</span> <span class="id">Lcore</span> <span class="id">Lm</span> <span class="id">f</span> <span class="id">sg</span> <span class="id">argSrc</span> <span class="id">MATCH</span> <span class="id">ATEXT</span> <span class="id">HG</span> <span class="id">GARGS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">HG</span>. <span class="tactic">clear</span> <span class="id">HG</span>. <span class="tactic">inversion</span> <span class="id">H</span>. <span class="tactic">clear</span> <span class="id">H</span>. <span class="tactic">rename</span> <span class="id">H0</span> <span class="id">into</span> <span class="id">SFPG</span>. <span class="tactic">rename</span> <span class="id">H1</span> <span class="id">into</span> <span class="id">SCLOSED</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="id">invMS</span> <span class="id">MATCH</span>. <span class="id">inv</span> <span class="id">LIFTMATCH</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Hj23</span>'':<span class="id"><a href="Blockset.html#Bset.inject">Bset.inject</a></span> <span class="id">j23</span> (<span class="kwd">fun</span> <span class="id">b</span> : <span class="id"><a href="Values.html#block">block</a></span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">tge_local</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">tge</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">INJLIFT</span>. <span class="id">inv</span> <span class="id">TGEMATCH</span>. <span class="tactic">rewrite</span> <span class="id">BSETEQ23</span> <span class="kwd">in</span> <span class="id">INJ23</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">ge_match_strict_next0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- <span class="id"><a href="LDSimDefs.html#mu_shared_tgt">mu_shared_tgt</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Hj21</span>'':<span class="id"><a href="Blockset.html#Bset.inject">Bset.inject</a></span> <span class="id">j21</span> (<span class="kwd">fun</span> <span class="id">b</span> : <span class="id"><a href="Values.html#block">block</a></span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">sge_local</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">sge</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">INJLIFT</span>. <span class="id">inv</span> <span class="id">SGEMATCH</span>. <span class="tactic">rewrite</span> <span class="id">BSETEQ21</span> <span class="kwd">in</span> <span class="id">INJ21</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">ge_match_strict_next0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- <span class="id"><a href="LDSimDefs.html#mu_shared_src">mu_shared_src</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">SLocalize</span>' <span class="id">Hj21</span>''); <span class="id">specialize</span> (<span class="id">TLift</span>' <span class="id">Hj23</span>'').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="Localize.html#local_ldsim_SharedSrc">local_ldsim_SharedSrc</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">SIM_local</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">MATCH22</span>) <span class="kwd">as</span> <span class="id">HSharedSrc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="Localize.html#Inj_lift_SharedSrc">Inj_lift_SharedSrc</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">INJLIFT</span>) <span class="kwd">as</span> <span class="id">HSharedSrc</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="Localize.html#local_ldsim_SharedTgt">local_ldsim_SharedTgt</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">SIM_local</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">MATCH22</span>) <span class="kwd">as</span> <span class="id">HSharedTgt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="Localize.html#Inj_lift_SharedTgt">Inj_lift_SharedTgt</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">INJLIFT</span>) <span class="kwd">as</span> <span class="id">HSharedTgt</span>'.<br/>
&nbsp;&nbsp;&nbsp;<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Localize.html#localize_at_external">localize_at_external</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">SLocalize</span>'); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="LDSimDefs.html#bset_eq_G_args">bset_eq_G_args</a></span>. <span class="tactic">eauto</span>.<br/>
<div class="doc">this routine occurs too often.. should be wrapped into a lemma or tactic </div>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Localize.html#Inj_lift_SharedSrc">Inj_lift_SharedSrc</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Localize.html#local_ldsim_SharedSrc">local_ldsim_SharedSrc</a></span>; <span class="tactic">eauto</span>. <span class="id">erewrite</span> <span class="id"><a href="Localize.html#ge_match_strict_next">ge_match_strict_next</a></span>; <span class="tactic">eauto</span>. <span class="tactic">split</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">args_local</span> [<span class="id">L_ATEXT</span> <span class="id">ARGS_LOCALIZED</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="LDSim_local.html#match_at_external">match_at_external</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">SIM_local</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Localize.html#localize_mem">localize_mem</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">SLocalize</span>'); <span class="tactic">eauto</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="MemClosures.html#bset_eq_reach_closed">MemClosures.bset_eq_reach_closed</a></span> <span class="kwd">in</span> <span class="id">SCLOSED</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- <span class="id"><a href="Localize.html#ge_match_strict_next">ge_match_strict_next</a></span> <span class="kwd">in</span> <span class="id">HSharedSrc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="MemClosures.html#bset_eq_reach_closed">MemClosures.bset_eq_reach_closed</a></span> <span class="kwd">in</span> <span class="id">SCLOSED</span>; [|<span class="tactic">eapply</span> <span class="id">HSharedSrc</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Localize.html#mem_related_reach_closed">mem_related_reach_closed</a></span> <span class="kwd">in</span> <span class="id">SCLOSED</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="MemClosures_local.html#bset_eq_reach_closed_local">MemClosures_local.bset_eq_reach_closed_local</a></span>; <span class="tactic">eauto</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">SLocalize</span>'. <span class="tactic">destruct</span> <span class="id">localize_ge0</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Localize.html#args_related_G_args_1">args_related_G_args_1</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Localize.html#Inj_lift_j21_dom">Inj_lift_j21_dom</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> (<span class="id">i</span>' &amp; <span class="id">args</span>'<span class="id">_local</span> &amp; <span class="id">L_ATEXT</span>' &amp; <span class="id">ARGSREL</span> &amp; <span class="id">TCLOSED</span>' &amp; <span class="id">FPMATCH</span> &amp; <span class="id">INV</span> &amp; <span class="id">MATCH22</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">i</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Localize.html#lift_at_external">lift_at_external</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">TLift</span>'); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">SIM_local</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">apply</span> <span class="id">wd_mu</span> <span class="kwd">in</span> <span class="id">MATCH22</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">GARGS</span> <span class="id">ARGS_LOCALIZED</span> <span class="id">ARGSREL</span> <span class="id">MATCH22</span> <span class="id">HSharedTgt</span> <span class="id">TGEMATCH</span>. <span class="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">erewrite</span> &lt;- <span class="id"><a href="Localize.html#ge_match_strict_next">ge_match_strict_next</a></span> <span class="kwd">in</span> <span class="id">HSharedTgt</span>; <span class="tactic">eauto</span>. <span class="tactic">clear</span> <span class="id">TGEMATCH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">args_local</span> <span class="id">args</span>'<span class="id">_local</span> <span class="id">ARGS_LOCALIZED</span> <span class="id">ARGSREL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">argSrc</span>; <span class="tactic">intros</span>; <span class="id">inv</span> <span class="id">ARGS_LOCALIZED</span>; <span class="id">inv</span> <span class="id">ARGSREL</span>; <span class="id">inv</span> <span class="id">GARGS</span>; <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span>; <span class="tactic">try</span> <span class="id">contradiction</span>; <span class="id">inv</span> <span class="id">H1</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">HSharedTgt</span>. <span class="tactic">eapply</span> <span class="id">Bset.inj_range</span>'; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Blockset.html#Bset.inj_weak">Bset.inj_weak</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">instantiate</span> (1:= <span class="id">b1</span>). <span class="tactic">destruct</span> (<span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id">mu_local</span> <span class="id">b1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="tactic">auto</span>. <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHargSrc</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> (<span class="id">args</span>' &amp; <span class="id">ATEXT</span>' &amp; <span class="id">ARGS_LIFT</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">args</span>'. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">generalize</span> <span class="id">INJLIFT</span> <span class="id">ARGS_LOCALIZED</span> <span class="id">ARGSREL</span> <span class="id">ARGS_LIFT</span>; <span class="tactic">clear</span>; <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">args_local</span> <span class="id">args</span>'<span class="id">_local</span> <span class="id">args</span>'. <span class="tactic">induction</span> <span class="id">argSrc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">l2</span> <span class="id">l2</span>' <span class="id">l3</span> <span class="id">A</span> <span class="id">B</span> <span class="id">C</span>. <span class="id">inv</span> <span class="id">A</span>; <span class="id">inv</span> <span class="id">B</span>; <span class="id">inv</span> <span class="id">C</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">l2</span> <span class="id">l2</span>' <span class="id">l3</span> <span class="id">A</span> <span class="id">B</span> <span class="id">C</span>. <span class="id">inv</span> <span class="id">A</span>; <span class="id">inv</span> <span class="id">B</span>; <span class="id">inv</span> <span class="id">C</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H1</span>; <span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">j21</span> <span class="id">b0</span>) <span class="id">eqn</span>:<span class="id">A</span>; <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">j23</span> <span class="id">b4</span>) <span class="id">eqn</span>:<span class="id">B</span>; <span class="id">inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id">mu_local</span> <span class="id">b0</span>) <span class="id">eqn</span>:<span class="id">C</span>; <span class="id">inv</span> <span class="id">H6</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">INJLIFT</span>. <span class="id">exploit</span> <span class="id">Consist2</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">b2</span>' &amp; <span class="id">b4</span>' &amp; <span class="id">A</span>' &amp; <span class="id">B</span>' &amp; <span class="id">C</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">A</span> <span class="kwd">in</span> <span class="id">A</span>'; <span class="id">inv</span> <span class="id">A</span>'. <span class="tactic">rewrite</span> <span class="id">B</span> <span class="kwd">in</span> <span class="id">B</span>'; <span class="id">inv</span> <span class="id">B</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">C</span>'. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">IHargSrc</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>; <span class="tactic">auto</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="MemClosures.html#bset_eq_reach_closed">MemClosures.bset_eq_reach_closed</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">SIM_local</span>. <span class="tactic">eapply</span> <span class="id">match_mu_ge</span> <span class="kwd">in</span> <span class="id">MATCH22</span>'; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">MATCH22</span>'. <span class="tactic">rewrite</span> <span class="id">mu_shared_tgt</span> <span class="kwd">in</span> <span class="id">TCLOSED</span>'|- * .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">TLift</span>'. <span class="tactic">destruct</span> <span class="id">lift_ge0</span>. <span class="id">erewrite</span> &lt;- <span class="id"><a href="Localize.html#ge_match_strict_next">ge_match_strict_next</a></span> <span class="kwd">in</span> <span class="id">TCLOSED</span>' |- *; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Localize.html#mem_related_reach_closed">mem_related_reach_closed</a></span>; <span class="tactic">eauto</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Localize.html#FPlocalize_FPMatch">FPlocalize_FPMatch</a></span>; <span class="tactic">try</span> <span class="id">eassumption</span>. <span class="tactic">eapply</span> <span class="id"><a href="LDSim_local.html#wd_mu">wd_mu</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Localize.html#construct_inj_incr">construct_inj_incr</a></span>. <span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">GEINITINJ</span>. <span class="tactic">pattern</span> <span class="id">b</span>. <span class="id">fold</span> <span class="id"><a href="Values.html#block">block</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id">mu_shared_src</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">INJLIFT</span>. <span class="id">inv</span> <span class="id">INJ21</span>. <span class="id">inv</span> <span class="id">inj_weak</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">BSETEQ21</span>. <span class="tactic">eapply</span> <span class="id">inj_dom</span>'; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Localize.html#construct_inj_incr">construct_inj_incr</a></span>. <span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">GEINITINJ</span>. <span class="tactic">rewrite</span> <span class="id">GENVDOMEQ</span>. <span class="tactic">pattern</span> <span class="id">b</span>. <span class="id">fold</span> <span class="id"><a href="Values.html#block">block</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id">mu_shared_tgt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">INJLIFT</span>. <span class="id">inv</span> <span class="id">INJ23</span>. <span class="id">inv</span> <span class="id">inj_weak</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">BSETEQ23</span>. <span class="tactic">eapply</span> <span class="id">inj_dom</span>'; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id">INV</span> <span class="id">INJLIFT</span> <span class="id">SLocalize</span>' <span class="id">TLift</span>' <span class="id">MATCH12</span> <span class="id">MATCH32</span> <span class="id">GENVDOMEQ</span>; <span class="tactic">clear</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">TLift</span>' <span class="kwd">as</span> [<span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">lift_mem0</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>]. <span class="tactic">apply</span> <span class="id">lift_mem0</span> <span class="kwd">in</span> <span class="id">MATCH32</span>; <span class="tactic">clear</span> <span class="id">lift_mem0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">SLocalize</span>' <span class="kwd">as</span> [<span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">localize_mem0</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>]. <span class="tactic">apply</span> <span class="id">localize_mem0</span> <span class="kwd">in</span> <span class="id">MATCH12</span>. <span class="tactic">clear</span> <span class="id">localize_mem0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">sge</span>, <span class="id">tge</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Inv_localize</span>'; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> 5 (<span class="tactic">split</span>; [<span class="tactic">auto</span>|]). <span class="id">exists</span> <span class="id">j21</span>, <span class="id">j23</span>, <span class="id">mu_local</span>. <span class="tactic">do</span> 4 (<span class="tactic">split</span>; [<span class="tactic">auto</span>|]). <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;after&nbsp;external&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">i</span> <span class="id">mu</span> <span class="id">Hcore</span> <span class="id">Hm</span> <span class="id">Lcore</span> <span class="id">Lm</span> <span class="id">oresSrc</span> <span class="id">Hcore</span>' <span class="id">oresTgt</span> <span class="id">MATCH</span> <span class="id">GRES</span> <span class="id">AFTEXT</span> <span class="id">RESREL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="id">invMS</span> <span class="id">MATCH</span>. <span class="id">inv</span> <span class="id">LIFTMATCH</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Hj23</span>'':<span class="id"><a href="Blockset.html#Bset.inject">Bset.inject</a></span> <span class="id">j23</span> (<span class="kwd">fun</span> <span class="id">b</span> : <span class="id"><a href="Values.html#block">block</a></span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">tge_local</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">tge</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">INJLIFT</span>. <span class="id">inv</span> <span class="id">TGEMATCH</span>. <span class="tactic">rewrite</span> <span class="id">BSETEQ23</span> <span class="kwd">in</span> <span class="id">INJ23</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">ge_match_strict_next0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- <span class="id"><a href="LDSimDefs.html#mu_shared_tgt">mu_shared_tgt</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Hj21</span>'':<span class="id"><a href="Blockset.html#Bset.inject">Bset.inject</a></span> <span class="id">j21</span> (<span class="kwd">fun</span> <span class="id">b</span> : <span class="id"><a href="Values.html#block">block</a></span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">sge_local</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">sge</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">INJLIFT</span>. <span class="id">inv</span> <span class="id">SGEMATCH</span>. <span class="tactic">rewrite</span> <span class="id">BSETEQ21</span> <span class="kwd">in</span> <span class="id">INJ21</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">ge_match_strict_next0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- <span class="id"><a href="LDSimDefs.html#mu_shared_src">mu_shared_src</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">SLocalize</span>' <span class="id">Hj21</span>''); <span class="id">specialize</span> (<span class="id">TLift</span>' <span class="id">Hj23</span>'').<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Localize.html#ores_rel_strict_lift">ores_rel_strict_lift</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> (<span class="id">ores_local</span> &amp; <span class="id">ores_local</span>' &amp; <span class="id">RESLOCALIZE</span> &amp; <span class="id">RESREL</span>' &amp; <span class="id">RESLIFT</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Localize.html#localize_after_external">localize_after_external</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">SLocalize</span>'); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> (<span class="id">lc</span>' &amp; <span class="id">L_AFTEXT</span> &amp; <span class="id">MATCH12</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">GRES_local</span>: <span class="id"><a href="LDSimDefs.html#G_oarg">G_oarg</a></span> (<span class="id"><a href="Injections.html#SharedSrc">Injections.SharedSrc</a></span> <span class="id">mu_local</span>) <span class="id">ores_local</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">generalize</span> <span class="id">GRES</span> <span class="id">RESLOCALIZE</span> <span class="id">INJLIFT</span>. <span class="tactic">clear</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="LDSimDefs.html#G_oarg">G_oarg</a></span>. <span class="tactic">destruct</span> <span class="id">ores_local</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Localize.html#oarg_related">oarg_related</a></span> <span class="kwd">in</span> <span class="id">RESLOCALIZE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">oresSrc</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Localize.html#arg_related_G_arg_1">arg_related_G_arg_1</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Localize.html#Inj_lift_j21_dom">Inj_lift_j21_dom</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">contradiction</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="LDSim_local.html#match_after_external">match_after_external</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">SIM_local</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> (<span class="id">ltc</span>' &amp; <span class="id">L_AFTEXT</span>' &amp; <span class="id">RELY22</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Localize.html#lift_after_external">lift_after_external</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">TLift</span>'); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> (<span class="id">tc</span>' &amp; <span class="id">AFTEXT</span>' &amp; <span class="id">MATCH23</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">tc</span>'. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">Hm</span>' <span class="id">Lm</span>' <span class="id">RELY</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">HBound</span>: <span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">sge</span> = <span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">tge</span>) <span class="tactic">by</span> <span class="tactic">auto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Localize.html#localize_mem">localize_mem</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">SLocalize</span>'); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Localize.html#lift_mem">lift_mem</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">TLift</span>'); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">T1</span> <span class="id">T2</span>. <span class="id">exploit</span> <span class="id"><a href="Localize.html#HLRely_Inj_lift">HLRely_Inj_lift</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">INJLIFT</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">BSETEQ21</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">SIM_local</span> <span class="kwd">as</span> [<span class="id">_</span> <span class="id">_</span> <span class="id">GEREL</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>]. <span class="tactic">apply</span> <span class="id">GEREL</span> <span class="kwd">in</span> <span class="id">MATCH22</span>. <span class="id">inv</span> <span class="id">MATCH22</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">mu_shared_src</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">SLocalize</span>' <span class="kwd">as</span> [[<span class="id">GEREL</span>' <span class="id">_</span>] <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>]. <span class="id">erewrite</span> &lt;- <span class="id"><a href="Localize.html#ge_match_strict_next">ge_match_strict_next</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">INJLIFT</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">BSETEQ23</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id">HBound</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">SIM_local</span> <span class="kwd">as</span> [<span class="id">_</span> <span class="id">_</span> <span class="id">GEREL</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>]. <span class="tactic">apply</span> <span class="id">GEREL</span> <span class="kwd">in</span> <span class="id">MATCH22</span>. <span class="id">inv</span> <span class="id">MATCH22</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">mu_shared_tgt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">TLift</span>' <span class="kwd">as</span> [[<span class="id">GEREL</span>' <span class="id">_</span>] <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>]. <span class="id">erewrite</span> &lt;- <span class="id"><a href="Localize.html#ge_match_strict_next">ge_match_strict_next</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">exact</span> <span class="id">NOREP</span>. <span class="tactic">exact</span> <span class="id">NOREP</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- <span class="id"><a href="LDSimDefs.html#mu_shared_src">mu_shared_src</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="id">erewrite</span> <span class="id">HBound</span>, &lt;- <span class="id"><a href="LDSimDefs.html#mu_shared_tgt">mu_shared_tgt</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">rewrite</span> <span class="id">HBound</span>; <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> (<span class="id">lHm</span>' &amp; <span class="id">lLm</span>' &amp; <span class="id">MEMREL21</span> &amp; <span class="id">MEMREL23</span> &amp; <span class="id">INV</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">RELY</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="Localize.html#localize_rely">localize_rely</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">SLocalize</span>' <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">MATCH12</span>' <span class="id">_</span> <span class="id">_</span> <span class="id">H3</span> <span class="id">MEMREL21</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id">HBound</span> <span class="kwd">in</span> <span class="id">MEMREL23</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="Localize.html#lift_rely">lift_rely</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">TLift</span>' <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">MATCH23</span>'  <span class="id">_</span> <span class="id">_</span> <span class="id">H5</span> <span class="id">MEMREL23</span>).     <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">RELY22</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">i</span>' &amp; <span class="id">MATCH22</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">i</span>'. <span class="tactic">do</span> 5 (<span class="tactic">split</span>; [<span class="tactic">auto</span>|]). <span class="id">exists</span> <span class="id">j21</span>, <span class="id">j23</span>, <span class="id">mu_local</span>. <span class="tactic">do</span> 4 (<span class="tactic">split</span>; [<span class="tactic">auto</span>|]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="Localize.html#FPlocalize_emp">FPlocalize_emp</a></span>. <span class="tactic">apply</span> <span class="id"><a href="Localize.html#FPlocalize_emp">FPlocalize_emp</a></span>. <span class="tactic">apply</span> <span class="id"><a href="LDSimDefs.html#fpG_emp">fpG_emp</a></span>.<br/>
<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;halt&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">i</span> <span class="id">mu</span> <span class="id">Hfp</span> <span class="id">Lfp</span> <span class="id">Hcore</span> <span class="id">Hm</span> <span class="id">Lcore</span> <span class="id">Lm</span> <span class="id">resSrc</span> <span class="id">MATCH</span> <span class="id">HALT</span> <span class="id">HGUAR</span> <span class="id">GRES</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="id">invMS</span> <span class="id">MATCH</span>. <span class="id">inv</span> <span class="id">LIFTMATCH</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Hj23</span>'':<span class="id"><a href="Blockset.html#Bset.inject">Bset.inject</a></span> <span class="id">j23</span> (<span class="kwd">fun</span> <span class="id">b</span> : <span class="id"><a href="Values.html#block">block</a></span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">tge_local</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">tge</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">INJLIFT</span>. <span class="id">inv</span> <span class="id">TGEMATCH</span>. <span class="tactic">rewrite</span> <span class="id">BSETEQ23</span> <span class="kwd">in</span> <span class="id">INJ23</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">ge_match_strict_next0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- <span class="id"><a href="LDSimDefs.html#mu_shared_tgt">mu_shared_tgt</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Hj21</span>'':<span class="id"><a href="Blockset.html#Bset.inject">Bset.inject</a></span> <span class="id">j21</span> (<span class="kwd">fun</span> <span class="id">b</span> : <span class="id"><a href="Values.html#block">block</a></span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">sge_local</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">sge</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">INJLIFT</span>. <span class="id">inv</span> <span class="id">SGEMATCH</span>. <span class="tactic">rewrite</span> <span class="id">BSETEQ21</span> <span class="kwd">in</span> <span class="id">INJ21</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">ge_match_strict_next0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- <span class="id"><a href="LDSimDefs.html#mu_shared_src">mu_shared_src</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">SLocalize</span>' <span class="id">Hj21</span>''); <span class="id">specialize</span> (<span class="id">TLift</span>' <span class="id">Hj23</span>'').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">HBound</span>: <span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">sge</span> = <span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">tge</span>) <span class="tactic">by</span> <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">HS1</span>: <span class="id"><a href="Injections.html#SharedSrc">Injections.SharedSrc</a></span> <span class="id">mu</span> = (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">sge</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">INJLIFT</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">BSETEQ21</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">SIM_local</span> <span class="kwd">as</span> [<span class="id">_</span> <span class="id">_</span> <span class="id">GEREL</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">GEREL</span> <span class="kwd">in</span> <span class="id">MATCH22</span>. <span class="id">inv</span> <span class="id">MATCH22</span>. <span class="tactic">rewrite</span> <span class="id">mu_shared_src</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">SLocalize</span>' <span class="kwd">as</span> [[<span class="id">GEREL</span>' <span class="id">_</span>] <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>]. <span class="id">erewrite</span> &lt;- <span class="id"><a href="Localize.html#ge_match_strict_next">ge_match_strict_next</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">HS3</span>: <span class="id"><a href="Injections.html#SharedTgt">Injections.SharedTgt</a></span> <span class="id">mu</span> = (<span class="kwd">fun</span> <span class="id">b</span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="Localize.html#b">b</a></span> (<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id">tge</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">INJLIFT</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">BSETEQ23</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">SIM_local</span> <span class="kwd">as</span> [<span class="id">_</span> <span class="id">_</span> <span class="id">GEREL</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">GEREL</span> <span class="kwd">in</span> <span class="id">MATCH22</span>. <span class="id">inv</span> <span class="id">MATCH22</span>. <span class="tactic">rewrite</span> <span class="id">mu_shared_tgt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">TLift</span>' <span class="kwd">as</span> [[<span class="id">GEREL</span>' <span class="id">_</span>]  <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>]. <span class="id">erewrite</span> &lt;- <span class="id"><a href="Localize.html#ge_match_strict_next">ge_match_strict_next</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Localize.html#localize_halt">localize_halt</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">SLocalize</span>'); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id">HS1</span> <span class="kwd">in</span> <span class="id">GRES</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> (<span class="id">lres</span> &amp; <span class="id">L_HALT</span> &amp; <span class="id">RESREL12</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="LDSim_local.html#match_halt">match_halt</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">SIM_local</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">INJLIFT</span>. <span class="tactic">rewrite</span> <span class="id">BSETEQ21</span>, <span class="id">HS1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">HGUAR</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id">HS1</span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Localize.html#mem_related_reach_closed">mem_related_reach_closed</a></span>; <span class="tactic">eauto</span>. <span class="tactic">destruct</span> <span class="id">SLocalize</span>' <span class="kwd">as</span> [<span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>]; <span class="tactic">eauto</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Localize.html#arg_related_G_arg_1">arg_related_G_arg_1</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">INJLIFT</span>. <span class="tactic">eapply</span> <span class="id">Bset.inj_dom</span>'; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id">INJ21</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> (<span class="id">lres</span>' &amp; <span class="id">L_HALT</span>' &amp; <span class="id">RESREL22</span> &amp; <span class="id">LCLOSED</span> &amp; <span class="id">FPMATCH</span> &amp; <span class="id">INV</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> (<span class="id"><a href="Localize.html#lift_halt">lift_halt</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">TLift</span>'); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">SIM_local</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="id">exploit</span> <span class="id">match_mu_ge</span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span>. <span class="tactic">destruct</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">wd_mu</span> <span class="kwd">in</span> <span class="id">MATCH22</span>. <span class="id">erewrite</span> <span class="id"><a href="Localize.html#ge_match_strict_next">ge_match_strict_next</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">GRES</span> <span class="id">RESREL12</span> <span class="id">RESREL22</span> <span class="id">MATCH22</span> <span class="id">mu_shared_tgt</span>. <span class="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">resSrc</span>; <span class="tactic">try</span> <span class="id">contradiction</span>; <span class="id">inv</span> <span class="id">RESREL12</span>; <span class="id">inv</span> <span class="id">RESREL22</span>; <span class="tactic">auto</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">mu_shared_tgt</span>. <span class="tactic">eapply</span> <span class="id">Bset.inj_range</span>'; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="Blockset.html#Bset.inj_weak">Bset.inj_weak</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="kwd">in</span> <span class="id">H1</span>. <span class="id">instantiate</span> (1:= <span class="id">b1</span>). <span class="tactic">destruct</span> (<span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id">mu_local</span> <span class="id">b1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>. <span class="tactic">auto</span>. <span class="tactic">discriminate</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> (<span class="id">res</span>' &amp; <span class="id">HALT</span>' &amp; <span class="id">RESREL23</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">res</span>'. <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">generalize</span> <span class="id">RESREL12</span> <span class="id">RESREL23</span> <span class="id">RESREL22</span> <span class="id">INJLIFT</span>; <span class="tactic">clear</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">RESREL12</span>; <span class="id">inv</span> <span class="id">RESREL22</span>; <span class="id">inv</span> <span class="id">RESREL23</span>; <span class="tactic">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">j21</span> <span class="id">b1</span>) <span class="id">eqn</span>:<span class="id">J21</span>; <span class="id">inv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">j23</span> <span class="id">b3</span>) <span class="id">eqn</span>:<span class="id">J23</span>; <span class="id">inv</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Injections.html#inj">Injections.inj</a></span> <span class="id">mu_local</span> <span class="id">b1</span>) <span class="id">eqn</span>:<span class="id">J22</span>; <span class="id">inv</span> <span class="id">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">INJLIFT</span>. <span class="tactic">apply</span> <span class="id">Consist2</span> <span class="kwd">in</span> <span class="id">J22</span>. <span class="tactic">destruct</span> <span class="id">J22</span> <span class="kwd">as</span> (<span class="id">b2</span>' &amp; <span class="id">b4</span>' &amp; <span class="id">J21</span>' &amp; <span class="id">J23</span>' &amp; <span class="id">J13</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">J21</span> <span class="kwd">in</span> <span class="id">J21</span>'; <span class="id">inv</span> <span class="id">J21</span>'. <span class="tactic">rewrite</span> <span class="id">J23</span> <span class="kwd">in</span> <span class="id">J23</span>'; <span class="id">inv</span> <span class="id">J23</span>'. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>. <span class="tactic">rewrite</span> <span class="id">J13</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>. <span class="id">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">HS3</span>. <span class="tactic">eapply</span> <span class="id"><a href="Localize.html#mem_related_reach_closed">mem_related_reach_closed</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">TLift</span>' <span class="kwd">as</span> [<span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>]; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">INJLIFT</span>. <span class="tactic">rewrite</span> <span class="id">BSETEQ23</span>, <span class="id">HS3</span> <span class="kwd">in</span> <span class="id">LCLOSED</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Localize.html#FPlocalize_FPMatch">FPlocalize_FPMatch</a></span>; <span class="tactic">try</span> <span class="id">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">SIM_local</span> <span class="kwd">as</span> [<span class="id">_</span> <span class="id">_</span> <span class="id">GEREL</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>]. <span class="tactic">eapply</span> <span class="id"><a href="LDSimDefs.html#mu_inject">mu_inject</a></span>; <span class="tactic">eauto</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Localize.html#construct_inj_incr">construct_inj_incr</a></span>. <span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">GEINITINJ</span>. <span class="tactic">pattern</span> <span class="id">b</span>. <span class="id">fold</span> <span class="id"><a href="Values.html#block">block</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id">mu_shared_src</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">INJLIFT</span>. <span class="id">inv</span> <span class="id">INJ21</span>. <span class="id">inv</span> <span class="id">inj_weak</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">BSETEQ21</span>. <span class="tactic">eapply</span> <span class="id">inj_dom</span>'; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Localize.html#construct_inj_incr">construct_inj_incr</a></span>. <span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">GEINITINJ</span>. <span class="tactic">rewrite</span> <span class="id">GENVDOMEQ</span>. <span class="tactic">pattern</span> <span class="id">b</span>. <span class="id">fold</span> <span class="id"><a href="Values.html#block">block</a></span>. <span class="tactic">rewrite</span> &lt;- <span class="id">mu_shared_tgt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">INJLIFT</span>. <span class="id">inv</span> <span class="id">INJ23</span>. <span class="id">inv</span> <span class="id">inj_weak</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">BSETEQ23</span>. <span class="tactic">eapply</span> <span class="id">inj_dom</span>'; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">Inv_localize</span>'; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Localize.html#localize_mem">localize_mem</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">TLift</span>' <span class="kwd">as</span> [<span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">lift_mem0</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>]. <span class="tactic">apply</span> <span class="id">lift_mem0</span> <span class="kwd">in</span> <span class="id">MATCH32</span>; <span class="tactic">clear</span> <span class="id">lift_mem0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">rewrite</span> <span class="id">HBound</span>. <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="Localize.html#SIM_LOCALIZE">SIM_LOCALIZE</a></span>.<br/>
<br/>
</div>
<div class="footer"><hr/>Generated by coq2html</div>
</body>
</html>
