<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module ValRels</title>
<meta name="description" content="Documentation of Coq module ValRels" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module ValRels</h1>
<div class="coq">
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Coqlib.html">Coqlib</a></span> <span class="id"><a href="Maps.html">Maps</a></span> <span class="id"><a href="Integers.html">Integers</a></span> <span class="id"><a href="Values.html">Values</a></span> <span class="id"><a href="Memdata.html">Memdata</a></span> <span class="id"><a href="AST.html">AST</a></span> <span class="id"><a href="Globalenvs.html">Globalenvs</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Blockset.html">Blockset</a></span> <span class="id"><a href="Footprint.html">Footprint</a></span> <span class="id"><a href="FMemOpFP.html">FMemOpFP</a></span> <span class="id"><a href="GMemory.html">GMemory</a></span> <span class="id"><a href="MemAux.html">MemAux</a></span> <span class="id"><a href="CUAST.html">CUAST</a></span> <span class="id"><a href="LDSimDefs.html">LDSimDefs</a></span> <span class="id"><a href="Localize.html">Localize</a></span> <span class="id"><a href="MemInterpolant.html">MemInterpolant</a></span> <span class="id"><a href="val_casted.html">val_casted</a></span> <span class="id"><a href="FMemPerm.html">FMemPerm</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.micromega.Lia.html">Lia</a></span>.<br/>
<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="val_related">val_related</a></span> (<span class="id">j</span>: <span class="id"><a href="Blockset.html#Bset.inj">Bset.inj</a></span>) : <span class="id"><a href="Values.html#val">val</a></span> -&gt; <span class="id"><a href="Values.html#val">val</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
| <span class="id"><a name="rel_vundef">rel_vundef</a></span>: <span class="id"><a href="ValRels.html#val_related">val_related</a></span> <span class="id">j</span> <span class="id"><a href="Values.html#Vundef">Vundef</a></span> <span class="id"><a href="Values.html#Vundef">Vundef</a></span><br/>
| <span class="id"><a name="rel_int">rel_int</a></span>: <span class="kwd">forall</span> <span class="id">i</span>, <span class="id"><a href="ValRels.html#val_related">val_related</a></span> <span class="id">j</span> (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="ValRels.html#i">i</a></span>) (<span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="ValRels.html#i">i</a></span>)<br/>
| <span class="id"><a name="rel_long">rel_long</a></span> : <span class="kwd">forall</span> <span class="id">i</span>, <span class="id"><a href="ValRels.html#val_related">val_related</a></span> <span class="id">j</span> (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id"><a href="ValRels.html#i">i</a></span>) (<span class="id"><a href="Values.html#Vlong">Vlong</a></span> <span class="id"><a href="ValRels.html#i">i</a></span>)<br/>
| <span class="id"><a name="rel_float">rel_float</a></span> : <span class="kwd">forall</span> <span class="id">f</span>, <span class="id"><a href="ValRels.html#val_related">val_related</a></span> <span class="id">j</span> (<span class="id"><a href="Values.html#Vfloat">Vfloat</a></span> <span class="id"><a href="ValRels.html#f">f</a></span>) (<span class="id"><a href="Values.html#Vfloat">Vfloat</a></span> <span class="id"><a href="ValRels.html#f">f</a></span>)<br/>
| <span class="id"><a name="rel_single">rel_single</a></span> : <span class="kwd">forall</span> <span class="id">f</span>, <span class="id"><a href="ValRels.html#val_related">val_related</a></span> <span class="id">j</span> (<span class="id"><a href="Values.html#Vsingle">Vsingle</a></span> <span class="id"><a href="ValRels.html#f">f</a></span>) (<span class="id"><a href="Values.html#Vsingle">Vsingle</a></span> <span class="id"><a href="ValRels.html#f">f</a></span>)<br/>
| <span class="id"><a name="rel_ptr">rel_ptr</a></span> : <span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>' <span class="id">ofs</span>, <span class="id">j</span> <span class="id"><a href="ValRels.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt; <span class="id"><a href="ValRels.html#val_related">val_related</a></span> <span class="id">j</span> (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="ValRels.html#b">b</a></span> <span class="id"><a href="ValRels.html#ofs">ofs</a></span>) (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b</span>' <span class="id"><a href="ValRels.html#ofs">ofs</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="val_related_incr">val_related_incr</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">j</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#inject_incr">inject_incr</a></span> (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id"><a href="ValRels.html#j">j</a></span>) (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id">j</span>') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">v</span> <span class="id">v</span>', <span class="id"><a href="ValRels.html#val_related">val_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#v">v</a></span> <span class="id">v</span>' -&gt; <span class="id"><a href="ValRels.html#val_related">val_related</a></span> <span class="id">j</span>' <span class="id"><a href="ValRels.html#v">v</a></span> <span class="id">v</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6659')">Proof.</div>
<div class="proofscript" id="proof6659">
 <span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H0</span>; <span class="id">econstructor</span>. <span class="tactic">eapply</span> <span class="id"><a href="Localize.html#inject_incr_bset_inj_incr">inject_incr_bset_inj_incr</a></span>; <span class="tactic">eauto</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="val_related_val_inject_strict">val_related_val_inject_strict</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">v</span> <span class="id">v</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ValRels.html#val_related">val_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#v">v</a></span> <span class="id">v</span>' &lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemInterpolant.html#val_inject_strict">val_inject_strict</a></span> (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id"><a href="ValRels.html#j">j</a></span>) <span class="id"><a href="ValRels.html#v">v</a></span> <span class="id">v</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6660')">Proof.</div>
<div class="proofscript" id="proof6660">
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v</span>, <span class="id">v</span>'; <span class="tactic">try</span> (<span class="tactic">split</span>; <span class="tactic">intro</span> <span class="id">C</span>; <span class="id">inv</span> <span class="id">C</span>; <span class="id">constructor</span>; <span class="tactic">fail</span>). <span class="tactic">split</span>; <span class="tactic">intros</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="tactic">rewrite</span> <span class="id">H1</span>. <span class="tactic">eauto</span>. <span class="tactic">auto</span> <span class="kwd">using</span> <span class="id"><a href="Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">j</span> <span class="id">b</span>) <span class="id">eqn</span>:? ; <span class="id">inv</span> <span class="id">H3</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span>. <span class="id">constructor</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">memval </div>
<span class="kwd">Inductive</span> <span class="id"><a name="memval_related">memval_related</a></span> (<span class="id">j</span>: <span class="id"><a href="Blockset.html#Bset.inj">Bset.inj</a></span>) : <span class="id"><a href="Memdata.html#memval">memval</a></span> -&gt; <span class="id"><a href="Memdata.html#memval">memval</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
| <span class="id"><a name="rel_undef">rel_undef</a></span>: <span class="id"><a href="ValRels.html#memval_related">memval_related</a></span> <span class="id">j</span> <span class="id"><a href="Memdata.html#Undef">Undef</a></span> <span class="id"><a href="Memdata.html#Undef">Undef</a></span><br/>
| <span class="id"><a name="rel_byte">rel_byte</a></span>: <span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="ValRels.html#memval_related">memval_related</a></span> <span class="id">j</span> (<span class="id"><a href="Memdata.html#Byte">Byte</a></span> <span class="id"><a href="ValRels.html#b">b</a></span>) (<span class="id"><a href="Memdata.html#Byte">Byte</a></span> <span class="id"><a href="ValRels.html#b">b</a></span>)<br/>
| <span class="id"><a name="rel_frag">rel_frag</a></span>: <span class="kwd">forall</span> <span class="id">v</span> <span class="id">v</span>' <span class="id">q</span> <span class="id">n</span>, <span class="id"><a href="ValRels.html#val_related">val_related</a></span> <span class="id">j</span> <span class="id"><a href="ValRels.html#v">v</a></span> <span class="id">v</span>' -&gt; <span class="id"><a href="ValRels.html#memval_related">memval_related</a></span> <span class="id">j</span> (<span class="id"><a href="Memdata.html#Fragment">Fragment</a></span> <span class="id"><a href="ValRels.html#v">v</a></span> <span class="id"><a href="ValRels.html#q">q</a></span> <span class="id"><a href="ValRels.html#n">n</a></span>) (<span class="id"><a href="Memdata.html#Fragment">Fragment</a></span> <span class="id">v</span>' <span class="id"><a href="ValRels.html#q">q</a></span> <span class="id"><a href="ValRels.html#n">n</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="memval_related_memval_inject_strict">memval_related_memval_inject_strict</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">mv</span> <span class="id">mv</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ValRels.html#memval_related">memval_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#mv">mv</a></span> <span class="id">mv</span>' &lt;-&gt; <span class="id"><a href="MemInterpolant.html#memval_inject_strict">memval_inject_strict</a></span> (<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id"><a href="ValRels.html#j">j</a></span>) <span class="id"><a href="ValRels.html#mv">mv</a></span> <span class="id">mv</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6661')">Proof.</div>
<div class="proofscript" id="proof6661">
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">mv</span>, <span class="id">mv</span>'; <span class="tactic">try</span> (<span class="tactic">split</span>; <span class="tactic">intro</span> <span class="id">C</span>; <span class="id">inv</span> <span class="id">C</span>; <span class="id">constructor</span>; <span class="tactic">fail</span>).<br/>
&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">intros</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>; <span class="tactic">repeat</span> <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">H</span>; <span class="tactic">eauto</span>. <span class="tactic">auto</span> <span class="kwd">using</span> <span class="id"><a href="Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>; <span class="tactic">repeat</span> <span class="id">constructor</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> (<span class="id">j</span> <span class="id">b1</span>) <span class="id">eqn</span>:?;[|<span class="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span>. <span class="id">constructor</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="inj_value_pointer">inj_value_pointer</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">b</span> <span class="id">b</span>' <span class="id">ofs</span> <span class="id">bl</span> ,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.inj_inject">Bset.inj_inject</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Coqlib.html#list_forall2">list_forall2</a></span> (<span class="id"><a href="ValRels.html#memval_related">memval_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span>) <span class="id"><a href="ValRels.html#bl">bl</a></span> (<span class="id"><a href="Memdata.html#inj_value">inj_value</a></span> (<span class="kwd">if</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="Memdata.html#Q64">Q64</a></span> <span class="kwd">else</span> <span class="id"><a href="Memdata.html#Q32">Q32</a></span>) (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b</span>' <span class="id"><a href="ValRels.html#ofs">ofs</a></span>)) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ValRels.html#bl">bl</a></span> = <span class="id"><a href="Memdata.html#inj_value">inj_value</a></span> (<span class="kwd">if</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="Memdata.html#Q64">Q64</a></span> <span class="kwd">else</span> <span class="id"><a href="Memdata.html#Q32">Q32</a></span>) (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id"><a href="ValRels.html#b">b</a></span> <span class="id"><a href="ValRels.html#ofs">ofs</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6662')">Proof.</div>
<div class="proofscript" id="proof6662">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> 2.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="kwd">if</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span> <span class="kwd">then</span> <span class="id"><a href="Memdata.html#Q64">Q64</a></span> <span class="kwd">else</span> <span class="id"><a href="Memdata.html#Q32">Q32</a></span>). <span class="tactic">intro</span> <span class="id">q</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Memdata.html#inj_value">inj_value</a></span>. <span class="tactic">generalize</span> (<span class="id"><a href="Memdata.html#size_quantity_nat">size_quantity_nat</a></span> <span class="id">q</span>). <span class="tactic">intros</span> <span class="id">n</span>.<br/>
&nbsp;&nbsp;<span class="id">revert</span> <span class="id">bl</span>. <span class="tactic">induction</span> <span class="id">n</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>; <span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">f_equal</span>; <span class="tactic">auto</span>. <span class="id">inv</span> <span class="id">H5</span>. <span class="id">inv</span> <span class="id">H3</span>. <span class="tactic">f_equal</span>. <span class="tactic">f_equal</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">H</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">args </div>
<span class="kwd">Lemma</span> <span class="id"><a name="G_arg_exists_arg_related">G_arg_exists_arg_related</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">v</span> <span class="id">Shared</span> <span class="id">j</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs.html#G_arg">G_arg</a></span> <span class="id"><a href="ValRels.html#Shared">Shared</a></span> <span class="id"><a href="ValRels.html#v">v</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.inject">Bset.inject</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#Shared">Shared</a></span> <span class="id"><a href="ValRels.html#Shared">Shared</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>', <span class="id"><a href="ValRels.html#val_related">val_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#v">v</a></span> <span class="id">v</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6663')">Proof.</div>
<div class="proofscript" id="proof6663">
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v</span>; <span class="tactic">try</span> (<span class="id">eexists</span>; <span class="id">econstructor</span>; <span class="tactic">fail</span>). <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="id">exploit</span> <span class="id">inj_dom</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">b</span>' <span class="id">INJ</span>].<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b</span>' <span class="id">i</span>). <span class="id">constructor</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">G_arg_exists_arg_related</span>':<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">v</span>' <span class="id">Shared</span> <span class="id">j</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs.html#G_arg">G_arg</a></span> <span class="id"><a href="ValRels.html#Shared">Shared</a></span> <span class="id">v</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.inject">Bset.inject</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#Shared">Shared</a></span> <span class="id"><a href="ValRels.html#Shared">Shared</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">v</span>, <span class="id"><a href="ValRels.html#val_related">val_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#v">v</a></span> <span class="id">v</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6664')">Proof.</div>
<div class="proofscript" id="proof6664">
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v</span>'; <span class="tactic">try</span> (<span class="id">eexists</span>; <span class="id">econstructor</span>; <span class="tactic">fail</span>). <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">inj_weak</span>. <span class="id">exploit</span> <span class="id">inj_range</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">b0</span> <span class="id">INJ</span>].<br/>
&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="Values.html#Vptr">Vptr</a></span> <span class="id">b0</span> <span class="id">i</span>). <span class="id">constructor</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="G_args_exists_args_related">G_args_exists_args_related</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">vl</span> <span class="id">Shared</span> <span class="id">j</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs.html#G_args">G_args</a></span> <span class="id"><a href="ValRels.html#Shared">Shared</a></span> <span class="id"><a href="ValRels.html#vl">vl</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.inject">Bset.inject</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#Shared">Shared</a></span> <span class="id"><a href="ValRels.html#Shared">Shared</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">vl</span>', <span class="id"><a href="Coqlib.html#list_forall2">list_forall2</a></span> (<span class="id"><a href="ValRels.html#val_related">val_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span>) <span class="id"><a href="ValRels.html#vl">vl</a></span> <span class="id">vl</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6665')">Proof.</div>
<div class="proofscript" id="proof6665">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">vl</span>; <span class="tactic">eauto</span>. <span class="id">exists</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">apply</span> <span class="id">IHvl</span> <span class="kwd">with</span> <span class="id">Shared</span> <span class="id">j</span> <span class="kwd">in</span> <span class="id">H4</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="ValRels.html#G_arg_exists_arg_related">G_arg_exists_arg_related</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">a</span>' <span class="id">REL</span>]. <span class="id">exists</span> (<span class="id">a</span>' :: <span class="id">x</span>). <span class="id">constructor</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">G_args_exists_args_related</span>':<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">vl</span>' <span class="id">Shared</span> <span class="id">j</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSimDefs.html#G_args">G_args</a></span> <span class="id"><a href="ValRels.html#Shared">Shared</a></span> <span class="id">vl</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.inject">Bset.inject</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#Shared">Shared</a></span> <span class="id"><a href="ValRels.html#Shared">Shared</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> <span class="id">vl</span>, <span class="id"><a href="Coqlib.html#list_forall2">list_forall2</a></span> (<span class="id"><a href="ValRels.html#val_related">val_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span>) <span class="id"><a href="ValRels.html#vl">vl</a></span> <span class="id">vl</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6666')">Proof.</div>
<div class="proofscript" id="proof6666">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">vl</span>'; <span class="tactic">eauto</span>. <span class="id">exists</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">apply</span> <span class="id">IHvl</span>' <span class="kwd">with</span> <span class="id">Shared</span> <span class="id">j</span> <span class="kwd">in</span> <span class="id">H4</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> <span class="id">H4</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">G_arg_exists_arg_related</span>'; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">a0</span> <span class="id">REL</span>]. <span class="id">exists</span> (<span class="id">a0</span> :: <span class="id">x</span>). <span class="id">constructor</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">operation in Val </div>
<span class="kwd">Definition</span> <span class="id"><a name="uop_val_related">uop_val_related</a></span> (<span class="id">uop</span>: <span class="id"><a href="Values.html#val">val</a></span> -&gt; <span class="id"><a href="Values.html#val">val</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">v</span> <span class="id">v</span>', <span class="id"><a href="ValRels.html#val_related">val_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#v">v</a></span> <span class="id">v</span>' -&gt; <span class="id"><a href="ValRels.html#val_related">val_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> (<span class="id"><a href="ValRels.html#uop">uop</a></span> <span class="id"><a href="ValRels.html#v">v</a></span>) (<span class="id"><a href="ValRels.html#uop">uop</a></span> <span class="id">v</span>').<br/>
<span class="kwd">Ltac</span> <span class="id">solvuop</span> := <span class="tactic">intros</span> <span class="id">until</span> <span class="id">v</span>'; <span class="tactic">intros</span> <span class="id">A</span>; <span class="id">inv</span> <span class="id">A</span>; <span class="id">constructor</span>; <span class="tactic">auto</span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="uop_option_val_related">uop_option_val_related</a></span> (<span class="id">uop</span>: <span class="id"><a href="Values.html#val">val</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#option">option</a></span> <span class="id"><a href="Values.html#val">val</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">v</span> <span class="id">v</span>', <span class="id"><a href="ValRels.html#val_related">val_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#v">v</a></span> <span class="id">v</span>' -&gt; <span class="id"><a href="Coqlib.html#option_rel">option_rel</a></span> (<span class="id"><a href="ValRels.html#val_related">val_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span>) (<span class="id"><a href="ValRels.html#uop">uop</a></span> <span class="id"><a href="ValRels.html#v">v</a></span>) (<span class="id"><a href="ValRels.html#uop">uop</a></span> <span class="id">v</span>').<br/>
<span class="kwd">Ltac</span> <span class="id">solvuopopt</span> := <span class="tactic">intros</span> <span class="id">until</span> <span class="id">v</span>'; <span class="tactic">intros</span> <span class="id">A</span>; <span class="id">inv</span> <span class="id">A</span>; <span class="tactic">simpl</span>; <span class="tactic">repeat</span> <span class="id">econstructor</span>; <span class="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> |- <span class="id">context</span>[<span class="id"><a href="Coqlib.html#option_map">option_map</a></span> <span class="id">_</span> ?<span class="id">x</span>] =&gt; <span class="tactic">destruct</span> <span class="id">x</span>; <span class="tactic">repeat</span> <span class="id">constructor</span>; <span class="tactic">auto</span> <span class="kwd">end</span>.<br/>
<span class="kwd">Definition</span> <span class="id"><a name="binop_val_related">binop_val_related</a></span> (<span class="id">bop</span>: <span class="id"><a href="Values.html#val">val</a></span> -&gt; <span class="id"><a href="Values.html#val">val</a></span> -&gt; <span class="id"><a href="Values.html#val">val</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">v1</span> <span class="id">v1</span>' <span class="id">v2</span> <span class="id">v2</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.inj_inject">Bset.inj_inject</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ValRels.html#val_related">val_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#v1">v1</a></span> <span class="id">v1</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ValRels.html#val_related">val_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#v2">v2</a></span> <span class="id">v2</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ValRels.html#val_related">val_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> (<span class="id"><a href="ValRels.html#bop">bop</a></span> <span class="id"><a href="ValRels.html#v1">v1</a></span> <span class="id"><a href="ValRels.html#v2">v2</a></span>) (<span class="id"><a href="ValRels.html#bop">bop</a></span> <span class="id">v1</span>' <span class="id">v2</span>').<br/>
<span class="kwd">Ltac</span> <span class="id">solvbinop</span> := <span class="tactic">intros</span> <span class="id">until</span> <span class="id">v2</span>'; <span class="tactic">intros</span> <span class="id">INJECT</span> <span class="id">A</span> <span class="id">B</span>; <span class="id">inv</span> <span class="id">A</span>; <span class="id">inv</span> <span class="id">B</span>; <span class="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> |- <span class="id">context</span>[<span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id">_</span> =&gt; <span class="id">_</span> <span class="kwd">end</span>] =&gt; <span class="tactic">destruct</span> <span class="id">x</span> <span class="kwd">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="id">constructor</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>; <span class="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> (<span class="id">exfalso</span>; <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> <span class="id">H</span>: ~ <span class="id">_</span> |- <span class="id">_</span> =&gt; <span class="tactic">apply</span> <span class="id">H</span>; <span class="tactic">subst</span>; <span class="tactic">eapply</span> <span class="id">INJECT</span>; <span class="tactic">eauto</span> <span class="kwd">end</span>; <span class="tactic">fail</span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="offset_ptr_val_related">offset_ptr_val_related</a></span>: <span class="kwd">forall</span> <span class="id">ofs</span>, <span class="id"><a href="ValRels.html#uop_val_related">uop_val_related</a></span> (<span class="kwd">fun</span> <span class="id">v</span> =&gt; <span class="id"><a href="Values.html#Val.offset_ptr">Val.offset_ptr</a></span> <span class="id"><a href="ValRels.html#v">v</a></span> <span class="id"><a href="ValRels.html#ofs">ofs</a></span>). <span class="kwd">Proof</span>. <span class="id">solvuop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="add_val_related">add_val_related</a></span>: <span class="id"><a href="ValRels.html#binop_val_related">binop_val_related</a></span> <span class="id"><a href="Values.html#Val.add">Val.add</a></span>. <span class="kwd">Proof</span>. <span class="id">solvbinop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="addl_val_related">addl_val_related</a></span>: <span class="id"><a href="ValRels.html#binop_val_related">binop_val_related</a></span> <span class="id"><a href="Values.html#Val.addl">Val.addl</a></span>. <span class="kwd">Proof</span>. <span class="id">solvbinop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="mul_val_related">mul_val_related</a></span>: <span class="id"><a href="ValRels.html#binop_val_related">binop_val_related</a></span> <span class="id"><a href="Values.html#Val.mul">Val.mul</a></span>. <span class="kwd">Proof</span>. <span class="id">solvbinop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="mull_val_related">mull_val_related</a></span>: <span class="id"><a href="ValRels.html#binop_val_related">binop_val_related</a></span> <span class="id"><a href="Values.html#Val.mull">Val.mull</a></span>. <span class="kwd">Proof</span>. <span class="id">solvbinop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="zero_ext_related">zero_ext_related</a></span>: <span class="kwd">forall</span> <span class="id">z</span>, <span class="id"><a href="ValRels.html#uop_val_related">uop_val_related</a></span> (<span class="id"><a href="Values.html#Val.zero_ext">Val.zero_ext</a></span> <span class="id"><a href="ValRels.html#z">z</a></span>). <span class="kwd">Proof</span>. <span class="id">solvuop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="sign_ext_related">sign_ext_related</a></span>: <span class="kwd">forall</span> <span class="id">z</span>, <span class="id"><a href="ValRels.html#uop_val_related">uop_val_related</a></span> (<span class="id"><a href="Values.html#Val.sign_ext">Val.sign_ext</a></span> <span class="id"><a href="ValRels.html#z">z</a></span>). <span class="kwd">Proof</span>. <span class="id">solvuop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="longofintu_related">longofintu_related</a></span>: <span class="id"><a href="ValRels.html#uop_val_related">uop_val_related</a></span> <span class="id"><a href="Values.html#Val.longofintu">Val.longofintu</a></span>. <span class="kwd">Proof</span>. <span class="id">solvuop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="longofint_related">longofint_related</a></span>: <span class="id"><a href="ValRels.html#uop_val_related">uop_val_related</a></span> <span class="id"><a href="Values.html#Val.longofint">Val.longofint</a></span>. <span class="kwd">Proof</span>. <span class="id">solvuop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="loword_related">loword_related</a></span>: <span class="id"><a href="ValRels.html#uop_val_related">uop_val_related</a></span> <span class="id"><a href="Values.html#Val.loword">Val.loword</a></span>. <span class="kwd">Proof</span>. <span class="id">solvuop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="singleoffloat_related">singleoffloat_related</a></span>: <span class="id"><a href="ValRels.html#uop_val_related">uop_val_related</a></span> <span class="id"><a href="Values.html#Val.singleoffloat">Val.singleoffloat</a></span>. <span class="kwd">Proof</span>. <span class="id">solvuop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="floatofsingle_related">floatofsingle_related</a></span>: <span class="id"><a href="ValRels.html#uop_val_related">uop_val_related</a></span> <span class="id"><a href="Values.html#Val.floatofsingle">Val.floatofsingle</a></span>. <span class="kwd">Proof</span>. <span class="id">solvuop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="intoffloat_related">intoffloat_related</a></span>: <span class="id"><a href="ValRels.html#uop_option_val_related">uop_option_val_related</a></span> <span class="id"><a href="Values.html#Val.intoffloat">Val.intoffloat</a></span>. <span class="kwd">Proof</span>. <span class="id">solvuopopt</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="floatofint_related">floatofint_related</a></span>: <span class="id"><a href="ValRels.html#uop_option_val_related">uop_option_val_related</a></span> <span class="id"><a href="Values.html#Val.floatofint">Val.floatofint</a></span>. <span class="kwd">Proof</span>. <span class="id">solvuopopt</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="intofsingle_related">intofsingle_related</a></span>: <span class="id"><a href="ValRels.html#uop_option_val_related">uop_option_val_related</a></span> <span class="id"><a href="Values.html#Val.intofsingle">Val.intofsingle</a></span>. <span class="kwd">Proof</span>. <span class="id">solvuopopt</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="longoffloat_related">longoffloat_related</a></span>: <span class="id"><a href="ValRels.html#uop_option_val_related">uop_option_val_related</a></span> <span class="id"><a href="Values.html#Val.longoffloat">Val.longoffloat</a></span>. <span class="kwd">Proof</span>. <span class="id">solvuopopt</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="floatoflong_related">floatoflong_related</a></span>: <span class="id"><a href="ValRels.html#uop_option_val_related">uop_option_val_related</a></span> <span class="id"><a href="Values.html#Val.floatoflong">Val.floatoflong</a></span>. <span class="kwd">Proof</span>. <span class="id">solvuopopt</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="longofsingle_related">longofsingle_related</a></span>: <span class="id"><a href="ValRels.html#uop_option_val_related">uop_option_val_related</a></span> <span class="id"><a href="Values.html#Val.longofsingle">Val.longofsingle</a></span>. <span class="kwd">Proof</span>. <span class="id">solvuopopt</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="singleoflong_related">singleoflong_related</a></span>: <span class="id"><a href="ValRels.html#uop_option_val_related">uop_option_val_related</a></span> <span class="id"><a href="Values.html#Val.singleoflong">Val.singleoflong</a></span>. <span class="kwd">Proof</span>. <span class="id">solvuopopt</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="singleofint_related">singleofint_related</a></span>: <span class="id"><a href="ValRels.html#uop_option_val_related">uop_option_val_related</a></span> <span class="id"><a href="Values.html#Val.singleofint">Val.singleofint</a></span>. <span class="kwd">Proof</span>. <span class="id">solvuopopt</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="neg_related">neg_related</a></span>: <span class="id"><a href="ValRels.html#uop_val_related">uop_val_related</a></span> <span class="id"><a href="Values.html#Val.neg">Val.neg</a></span>. <span class="kwd">Proof</span>. <span class="id">solvuop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="negl_related">negl_related</a></span>: <span class="id"><a href="ValRels.html#uop_val_related">uop_val_related</a></span> <span class="id"><a href="Values.html#Val.negl">Val.negl</a></span>. <span class="kwd">Proof</span>. <span class="id">solvuop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="sub_related">sub_related</a></span>: <span class="id"><a href="ValRels.html#binop_val_related">binop_val_related</a></span> <span class="id"><a href="Values.html#Val.sub">Val.sub</a></span>. <span class="kwd">Proof</span>. <span class="id">solvbinop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="subl_related">subl_related</a></span>: <span class="id"><a href="ValRels.html#binop_val_related">binop_val_related</a></span> <span class="id"><a href="Values.html#Val.subl">Val.subl</a></span>. <span class="kwd">Proof</span>. <span class="id">solvbinop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="mulhs_related">mulhs_related</a></span>: <span class="id"><a href="ValRels.html#binop_val_related">binop_val_related</a></span> <span class="id"><a href="Values.html#Val.mulhs">Val.mulhs</a></span>. <span class="kwd">Proof</span>. <span class="id">solvbinop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="mulhu_related">mulhu_related</a></span>: <span class="id"><a href="ValRels.html#binop_val_related">binop_val_related</a></span> <span class="id"><a href="Values.html#Val.mulhu">Val.mulhu</a></span>. <span class="kwd">Proof</span>. <span class="id">solvbinop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="shr_related">shr_related</a></span>: <span class="id"><a href="ValRels.html#binop_val_related">binop_val_related</a></span> <span class="id"><a href="Values.html#Val.shr">Val.shr</a></span>. <span class="kwd">Proof</span>. <span class="id">solvbinop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="shrl_related">shrl_related</a></span>: <span class="id"><a href="ValRels.html#binop_val_related">binop_val_related</a></span> <span class="id"><a href="Values.html#Val.shrl">Val.shrl</a></span>. <span class="kwd">Proof</span>. <span class="id">solvbinop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="and_related">and_related</a></span>: <span class="id"><a href="ValRels.html#binop_val_related">binop_val_related</a></span> <span class="id"><a href="Values.html#Val.and">Val.and</a></span>. <span class="kwd">Proof</span>. <span class="id">solvbinop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="andl_related">andl_related</a></span>: <span class="id"><a href="ValRels.html#binop_val_related">binop_val_related</a></span> <span class="id"><a href="Values.html#Val.andl">Val.andl</a></span>. <span class="kwd">Proof</span>. <span class="id">solvbinop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="or_related">or_related</a></span>: <span class="id"><a href="ValRels.html#binop_val_related">binop_val_related</a></span> <span class="id"><a href="Values.html#Val.or">Val.or</a></span>. <span class="kwd">Proof</span>. <span class="id">solvbinop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="orl_related">orl_related</a></span>: <span class="id"><a href="ValRels.html#binop_val_related">binop_val_related</a></span> <span class="id"><a href="Values.html#Val.orl">Val.orl</a></span>. <span class="kwd">Proof</span>. <span class="id">solvbinop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="xor_related">xor_related</a></span>: <span class="id"><a href="ValRels.html#binop_val_related">binop_val_related</a></span> <span class="id"><a href="Values.html#Val.xor">Val.xor</a></span>. <span class="kwd">Proof</span>. <span class="id">solvbinop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="xorl_related">xorl_related</a></span>: <span class="id"><a href="ValRels.html#binop_val_related">binop_val_related</a></span> <span class="id"><a href="Values.html#Val.xorl">Val.xorl</a></span>. <span class="kwd">Proof</span>. <span class="id">solvbinop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="notint_related">notint_related</a></span>: <span class="id"><a href="ValRels.html#uop_val_related">uop_val_related</a></span> <span class="id"><a href="Values.html#Val.notint">Val.notint</a></span>. <span class="kwd">Proof</span>. <span class="id">solvuop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="notl_related">notl_related</a></span>: <span class="id"><a href="ValRels.html#uop_val_related">uop_val_related</a></span> <span class="id"><a href="Values.html#Val.notl">Val.notl</a></span>. <span class="kwd">Proof</span>. <span class="id">solvuop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="shl_related">shl_related</a></span>: <span class="id"><a href="ValRels.html#binop_val_related">binop_val_related</a></span> <span class="id"><a href="Values.html#Val.shl">Val.shl</a></span>. <span class="kwd">Proof</span>. <span class="id">solvbinop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="shll_related">shll_related</a></span>: <span class="id"><a href="ValRels.html#binop_val_related">binop_val_related</a></span> <span class="id"><a href="Values.html#Val.shll">Val.shll</a></span>. <span class="kwd">Proof</span>. <span class="id">solvbinop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="shru_related">shru_related</a></span>: <span class="id"><a href="ValRels.html#binop_val_related">binop_val_related</a></span> <span class="id"><a href="Values.html#Val.shru">Val.shru</a></span>. <span class="kwd">Proof</span>. <span class="id">solvbinop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="shrlu_related">shrlu_related</a></span>: <span class="id"><a href="ValRels.html#binop_val_related">binop_val_related</a></span> <span class="id"><a href="Values.html#Val.shrlu">Val.shrlu</a></span>. <span class="kwd">Proof</span>. <span class="id">solvbinop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="ror_related">ror_related</a></span>: <span class="id"><a href="ValRels.html#binop_val_related">binop_val_related</a></span> <span class="id"><a href="Values.html#Val.ror">Val.ror</a></span>. <span class="kwd">Proof</span>. <span class="id">solvbinop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="rorl_related">rorl_related</a></span>: <span class="id"><a href="ValRels.html#binop_val_related">binop_val_related</a></span> <span class="id"><a href="Values.html#Val.rorl">Val.rorl</a></span>. <span class="kwd">Proof</span>. <span class="id">solvbinop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="addf_related">addf_related</a></span>: <span class="id"><a href="ValRels.html#binop_val_related">binop_val_related</a></span> <span class="id"><a href="Values.html#Val.addf">Val.addf</a></span>. <span class="kwd">Proof</span>. <span class="id">solvbinop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="subf_related">subf_related</a></span>: <span class="id"><a href="ValRels.html#binop_val_related">binop_val_related</a></span> <span class="id"><a href="Values.html#Val.subf">Val.subf</a></span>. <span class="kwd">Proof</span>. <span class="id">solvbinop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="mulf_related">mulf_related</a></span>: <span class="id"><a href="ValRels.html#binop_val_related">binop_val_related</a></span> <span class="id"><a href="Values.html#Val.mulf">Val.mulf</a></span>. <span class="kwd">Proof</span>. <span class="id">solvbinop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="divf_related">divf_related</a></span>: <span class="id"><a href="ValRels.html#binop_val_related">binop_val_related</a></span> <span class="id"><a href="Values.html#Val.divf">Val.divf</a></span>. <span class="kwd">Proof</span>. <span class="id">solvbinop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="absf_related">absf_related</a></span>: <span class="id"><a href="ValRels.html#uop_val_related">uop_val_related</a></span> <span class="id"><a href="Values.html#Val.absf">Val.absf</a></span>. <span class="kwd">Proof</span>. <span class="id">solvuop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="addfs_related">addfs_related</a></span>: <span class="id"><a href="ValRels.html#binop_val_related">binop_val_related</a></span> <span class="id"><a href="Values.html#Val.addfs">Val.addfs</a></span>. <span class="kwd">Proof</span>. <span class="id">solvbinop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="subfs_related">subfs_related</a></span>: <span class="id"><a href="ValRels.html#binop_val_related">binop_val_related</a></span> <span class="id"><a href="Values.html#Val.subfs">Val.subfs</a></span>. <span class="kwd">Proof</span>. <span class="id">solvbinop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="mulfs_related">mulfs_related</a></span>: <span class="id"><a href="ValRels.html#binop_val_related">binop_val_related</a></span> <span class="id"><a href="Values.html#Val.mulfs">Val.mulfs</a></span>. <span class="kwd">Proof</span>. <span class="id">solvbinop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="divfs_related">divfs_related</a></span>: <span class="id"><a href="ValRels.html#binop_val_related">binop_val_related</a></span> <span class="id"><a href="Values.html#Val.divfs">Val.divfs</a></span>. <span class="kwd">Proof</span>. <span class="id">solvbinop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="absfs_related">absfs_related</a></span>: <span class="id"><a href="ValRels.html#uop_val_related">uop_val_related</a></span> <span class="id"><a href="Values.html#Val.absfs">Val.absfs</a></span>. <span class="kwd">Proof</span>. <span class="id">solvuop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="mullhs_related">mullhs_related</a></span>: <span class="id"><a href="ValRels.html#binop_val_related">binop_val_related</a></span> <span class="id"><a href="Values.html#Val.mullhs">Val.mullhs</a></span>. <span class="kwd">Proof</span>. <span class="id">solvbinop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="mullhu_related">mullhu_related</a></span>: <span class="id"><a href="ValRels.html#binop_val_related">binop_val_related</a></span> <span class="id"><a href="Values.html#Val.mullhu">Val.mullhu</a></span>. <span class="kwd">Proof</span>. <span class="id">solvbinop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="negf_related">negf_related</a></span>: <span class="id"><a href="ValRels.html#uop_val_related">uop_val_related</a></span> <span class="id"><a href="Values.html#Val.negf">Val.negf</a></span>. <span class="kwd">Proof</span>. <span class="id">solvuop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="negfs_related">negfs_related</a></span>: <span class="id"><a href="ValRels.html#uop_val_related">uop_val_related</a></span> <span class="id"><a href="Values.html#Val.negfs">Val.negfs</a></span>. <span class="kwd">Proof</span>. <span class="id">solvuop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="longofwors_related">longofwors_related</a></span>: <span class="id"><a href="ValRels.html#binop_val_related">binop_val_related</a></span> <span class="id"><a href="Values.html#Val.longofwords">Val.longofwords</a></span>. <span class="kwd">Proof</span>. <span class="id">solvbinop</span>. Qed.</div>
<span class="kwd">Lemma</span> <span class="id"><a name="of_bool_related">of_bool_related</a></span>: <span class="kwd">forall</span> <span class="id">j</span> <span class="id">b</span>, <span class="id"><a href="ValRels.html#val_related">val_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> (<span class="id"><a href="Values.html#Val.of_bool">Val.of_bool</a></span> <span class="id"><a href="ValRels.html#b">b</a></span>) (<span class="id"><a href="Values.html#Val.of_bool">Val.of_bool</a></span> <span class="id"><a href="ValRels.html#b">b</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6667')">Proof.</div>
<div class="proofscript" id="proof6667">
 <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">b</span>; <span class="id">cbv</span>; <span class="tactic">auto</span> <span class="kwd">using</span> <span class="id"><a href="ValRels.html#rel_int">rel_int</a></span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="of_optbool_related">of_optbool_related</a></span>: <span class="kwd">forall</span> <span class="id">j</span> <span class="id">ob</span> <span class="id">ob</span>', <span class="id"><a href="Coqlib.html#option_rel">option_rel</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id"><a href="ValRels.html#ob">ob</a></span> <span class="id">ob</span>' -&gt; <span class="id"><a href="ValRels.html#val_related">val_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> (<span class="id"><a href="Values.html#Val.of_optbool">Val.of_optbool</a></span> <span class="id"><a href="ValRels.html#ob">ob</a></span>) (<span class="id"><a href="Values.html#Val.of_optbool">Val.of_optbool</a></span> <span class="id">ob</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6668')">Proof.</div>
<div class="proofscript" id="proof6668">
 <span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">simpl</span>; <span class="tactic">try</span> <span class="id">constructor</span>. <span class="tactic">destruct</span> <span class="id">y</span>; <span class="id">constructor</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="maketotal_related">maketotal_related</a></span>: <span class="kwd">forall</span> <span class="id">j</span> <span class="id">ov</span> <span class="id">ov</span>', <span class="id"><a href="Coqlib.html#option_rel">option_rel</a></span> (<span class="id"><a href="ValRels.html#val_related">val_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span>) <span class="id"><a href="ValRels.html#ov">ov</a></span> <span class="id">ov</span>' -&gt; <span class="id"><a href="ValRels.html#val_related">val_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> (<span class="id"><a href="Values.html#Val.maketotal">Val.maketotal</a></span> <span class="id"><a href="ValRels.html#ov">ov</a></span>) (<span class="id"><a href="Values.html#Val.maketotal">Val.maketotal</a></span> <span class="id">ov</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6669')">Proof.</div>
<div class="proofscript" id="proof6669">
 <span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="id">constructor</span>. <span class="id">inv</span> <span class="id">H0</span>; <span class="tactic">simpl</span>; <span class="id">constructor</span>; <span class="tactic">auto</span>. Qed.</div>
<br/>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span> <span class="id">offset_ptr_val_related</span> <span class="id">add_val_related</span> <span class="id">addl_val_related</span> <span class="id">mul_val_related</span> <span class="id">mull_val_related</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">zero_ext_related</span> <span class="id">sign_ext_related</span> <span class="id">longofintu_related</span> <span class="id">longofint_related</span> <span class="id">loword_related</span> <span class="id">singleoffloat_related</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">floatofsingle_related</span> <span class="id">intoffloat_related</span> <span class="id">floatofint_related</span> <span class="id">intofsingle_related</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">longoffloat_related</span> <span class="id">floatoflong_related</span> <span class="id">longofsingle_related</span> <span class="id">singleoflong_related</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">singleofint_related</span> <span class="id">negl_related</span> <span class="id">neg_related</span> <span class="id">sub_related</span> <span class="id">subl_related</span> <span class="id">mulhs_related</span> <span class="id">mulhu_related</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">shrl_related</span> <span class="id">shr_related</span> <span class="id">and_related</span> <span class="id">andl_related</span> <span class="id">or_related</span> <span class="id">orl_related</span> <span class="id">xor_related</span> <span class="id">xorl_related</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">notint_related</span> <span class="id">notl_related</span> <span class="id">notl_related</span> <span class="id">shl_related</span> <span class="id">shll_related</span> <span class="id">shru_related</span> <span class="id">shrlu_related</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">ror_related</span> <span class="id">rorl_related</span> <span class="id">addf_related</span> <span class="id">subf_related</span> <span class="id">mulf_related</span> <span class="id">divf_related</span> <span class="id">absf_related</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">addfs_related</span> <span class="id">subfs_related</span> <span class="id">mulfs_related</span> <span class="id">divfs_related</span> <span class="id">absfs_related</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">mullhs_related</span> <span class="id">mullhu_related</span> <span class="id">negf_related</span> <span class="id">negfs_related</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">of_bool_related</span> <span class="id">of_optbool_related</span> <span class="id">maketotal_related</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">rel_vundef</span> <span class="id">rel_int</span> <span class="id">rel_long</span> <span class="id">rel_float</span> <span class="id">rel_single</span> <span class="id">rel_ptr</span>.<br/>
<br/>
<br/>
<div class="doc">Mem ops </div>
<span class="kwd">Lemma</span> <span class="id"><a name="mem_rel_range_perm">mem_rel_range_perm</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">bound</span> <span class="id">fl</span> <span class="id">fm</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#bound">bound</a></span> <span class="id"><a href="ValRels.html#fl">fl</a></span> (<span class="id"><a href="FMemory.html#strip">FMemory.strip</a></span> <span class="id"><a href="ValRels.html#fm">fm</a></span>) <span class="id"><a href="ValRels.html#m">m</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>' <span class="id">ofs</span> <span class="id">size</span> <span class="id">K</span> <span class="id">K</span>' <span class="id">p</span> <span class="id">p</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#bound">bound</a></span> <span class="id"><a href="ValRels.html#fl">fl</a></span> <span class="id"><a href="ValRels.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemPerm.html#eq_perm_kind">eq_perm_kind</a></span> <span class="id">K</span>' <span class="id"><a href="ValRels.html#K">K</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemPerm.html#eq_permission">eq_permission</a></span> <span class="id">p</span>' <span class="id"><a href="ValRels.html#p">p</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.range_perm">Memory.Mem.range_perm</a></span> <span class="id"><a href="ValRels.html#m">m</a></span> <span class="id"><a href="ValRels.html#b">b</a></span> <span class="id"><a href="ValRels.html#ofs">ofs</a></span> <span class="id"><a href="ValRels.html#size">size</a></span> <span class="id"><a href="ValRels.html#K">K</a></span> <span class="id"><a href="ValRels.html#p">p</a></span> &lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemory.html#Mem.range_perm">FMemory.Mem.range_perm</a></span> <span class="id"><a href="ValRels.html#fm">fm</a></span> <span class="id">b</span>' <span class="id"><a href="ValRels.html#ofs">ofs</a></span> <span class="id"><a href="ValRels.html#size">size</a></span> <span class="id">K</span>' <span class="id">p</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6670')">Proof.</div>
<div class="proofscript" id="proof6670">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">destruct</span> <span class="id">fm</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#strip">FMemory.strip</a></span> <span class="kwd">in</span> *. <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">intros</span>; <span class="tactic">intros</span> <span class="id">ofs</span>' <span class="id">RANGE</span>; <span class="id">specialize</span> (<span class="id">H</span> <span class="id">ofs</span>' <span class="id">RANGE</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span>, <span class="id"><a href="FMemory.html#Mem.perm">FMemory.Mem.perm</a></span> <span class="kwd">in</span> *; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">eapply</span> <span class="id">mem_related_mem_perm_eq</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mem_rel_valid_access">mem_rel_valid_access</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">bound</span> <span class="id">fl</span> <span class="id">fm</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#bound">bound</a></span> <span class="id"><a href="ValRels.html#fl">fl</a></span> (<span class="id"><a href="FMemory.html#strip">FMemory.strip</a></span> <span class="id"><a href="ValRels.html#fm">fm</a></span>) <span class="id"><a href="ValRels.html#m">m</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">b</span>' <span class="id">chunk</span> <span class="id">ofs</span> <span class="id">p</span> <span class="id">p</span>', <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#bound">bound</a></span> <span class="id"><a href="ValRels.html#fl">fl</a></span> <span class="id"><a href="ValRels.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemPerm.html#eq_permission">eq_permission</a></span> <span class="id">p</span>' <span class="id"><a href="ValRels.html#p">p</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.valid_access">Memory.Mem.valid_access</a></span> <span class="id"><a href="ValRels.html#m">m</a></span> <span class="id"><a href="ValRels.html#chunk">chunk</a></span> <span class="id"><a href="ValRels.html#b">b</a></span> <span class="id"><a href="ValRels.html#ofs">ofs</a></span> <span class="id"><a href="ValRels.html#p">p</a></span> &lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemory.html#Mem.valid_access">FMemory.Mem.valid_access</a></span> <span class="id"><a href="ValRels.html#fm">fm</a></span> <span class="id"><a href="ValRels.html#chunk">chunk</a></span> <span class="id">b</span>' <span class="id"><a href="ValRels.html#ofs">ofs</a></span> <span class="id">p</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6671')">Proof.</div>
<div class="proofscript" id="proof6671">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.valid_access">Memory.Mem.valid_access</a></span>, <span class="id"><a href="FMemory.html#Mem.valid_access">FMemory.Mem.valid_access</a></span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="ValRels.html#mem_rel_range_perm">mem_rel_range_perm</a></span>; <span class="tactic">eauto</span>. <span class="id">Focus</span> 2. <span class="tactic">intro</span>. <span class="tactic">rewrite</span> <span class="id">H2</span>. <span class="tactic">firstorder</span>. <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="related_proj_bytes">related_proj_bytes</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">mvl</span> <span class="id">mvl</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Coqlib.html#list_forall2">list_forall2</a></span> (<span class="id"><a href="ValRels.html#memval_related">memval_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span>) <span class="id"><a href="ValRels.html#mvl">mvl</a></span> <span class="id">mvl</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memdata.html#proj_bytes">proj_bytes</a></span> <span class="id"><a href="ValRels.html#mvl">mvl</a></span> = <span class="id"><a href="Memdata.html#proj_bytes">proj_bytes</a></span> <span class="id">mvl</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6672')">Proof.</div>
<div class="proofscript" id="proof6672">
 <span class="tactic">induction</span> <span class="id">mvl</span>; <span class="tactic">intros</span>; <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">auto</span>. <span class="tactic">simpl</span>. <span class="id">inv</span> <span class="id">H2</span>; <span class="tactic">auto</span>. <span class="id">erewrite</span> <span class="id">IHmvl</span>; <span class="tactic">eauto</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="related_check_value">related_check_value</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">mvl</span> <span class="id">mvl</span>' <span class="id">v</span> <span class="id">v</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.inj_inject">Bset.inj_inject</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Coqlib.html#list_forall2">list_forall2</a></span> (<span class="id"><a href="ValRels.html#memval_related">memval_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span>) <span class="id"><a href="ValRels.html#mvl">mvl</a></span> <span class="id">mvl</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ValRels.html#val_related">val_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#v">v</a></span> <span class="id">v</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">n</span> <span class="id">q</span>, <span class="id"><a href="Memdata.html#check_value">check_value</a></span> <span class="id"><a href="ValRels.html#n">n</a></span> <span class="id"><a href="ValRels.html#v">v</a></span> <span class="id"><a href="ValRels.html#q">q</a></span> <span class="id"><a href="ValRels.html#mvl">mvl</a></span> = <span class="id"><a href="Memdata.html#check_value">check_value</a></span> <span class="id"><a href="ValRels.html#n">n</a></span> <span class="id">v</span>' <span class="id"><a href="ValRels.html#q">q</a></span> <span class="id">mvl</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6673')">Proof.</div>
<div class="proofscript" id="proof6673">
&nbsp;&nbsp;<span class="tactic">induction</span> 2; <span class="tactic">intros</span>; <span class="tactic">destruct</span> <span class="id">n</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id">IHlist_forall2</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H3</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">do</span> 2 <span class="tactic">destruct</span> <span class="id"><a href="Values.html#Val.eq">Val.eq</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">e</span>. <span class="tactic">subst</span>. <span class="tactic">rewrite</span> <span class="id">H0</span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="id">inv</span> <span class="id">H2</span>. <span class="id">contradiction</span>.<br/>
&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">e</span>. <span class="tactic">subst</span>. <span class="id">exploit</span> <span class="id">H</span>. <span class="tactic">exact</span> <span class="id">H0</span>. <span class="tactic">exact</span> <span class="id">H2</span>. <span class="tactic">intro</span>; <span class="tactic">subst</span>. <span class="id">contradiction</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="related_proj_value">related_proj_value</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">mvl</span> <span class="id">mvl</span>' <span class="id">q</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.inj_inject">Bset.inj_inject</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Coqlib.html#list_forall2">list_forall2</a></span> (<span class="id"><a href="ValRels.html#memval_related">memval_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span>) <span class="id"><a href="ValRels.html#mvl">mvl</a></span> <span class="id">mvl</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ValRels.html#val_related">val_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> (<span class="id"><a href="Memdata.html#proj_value">proj_value</a></span> <span class="id"><a href="ValRels.html#q">q</a></span> <span class="id"><a href="ValRels.html#mvl">mvl</a></span>) (<span class="id"><a href="Memdata.html#proj_value">proj_value</a></span> <span class="id"><a href="ValRels.html#q">q</a></span> <span class="id">mvl</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6674')">Proof.</div>
<div class="proofscript" id="proof6674">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="Memdata.html#proj_value">proj_value</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">H0</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H1</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="ValRels.html#related_check_value">related_check_value</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Memdata.html#check_value">check_value</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="load_result_related">load_result_related</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">v</span> <span class="id">v</span>' <span class="id">chunk</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ValRels.html#val_related">val_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#v">v</a></span> <span class="id">v</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ValRels.html#val_related">val_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> (<span class="id"><a href="Values.html#Val.load_result">Val.load_result</a></span> <span class="id"><a href="ValRels.html#chunk">chunk</a></span> <span class="id"><a href="ValRels.html#v">v</a></span>) (<span class="id"><a href="Values.html#Val.load_result">Val.load_result</a></span> <span class="id"><a href="ValRels.html#chunk">chunk</a></span> <span class="id">v</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6675')">Proof.</div>
<div class="proofscript" id="proof6675">
 <span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="Values.html#Val.load_result">Val.load_result</a></span>; <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">destruct</span> <span class="id">chunk</span>; <span class="tactic">simpl</span>; <span class="id">constructor</span>; <span class="tactic">auto</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="decode_val_related">decode_val_related</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">mvl</span> <span class="id">mvl</span>' <span class="id">chunk</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.inj_inject">Bset.inj_inject</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Coqlib.html#list_forall2">list_forall2</a></span> (<span class="id"><a href="ValRels.html#memval_related">memval_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span>) <span class="id"><a href="ValRels.html#mvl">mvl</a></span> <span class="id">mvl</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ValRels.html#val_related">val_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> (<span class="id"><a href="Memdata.html#decode_val">decode_val</a></span> <span class="id"><a href="ValRels.html#chunk">chunk</a></span> <span class="id"><a href="ValRels.html#mvl">mvl</a></span>) (<span class="id"><a href="Memdata.html#decode_val">decode_val</a></span> <span class="id"><a href="ValRels.html#chunk">chunk</a></span> <span class="id">mvl</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6676')">Proof.</div>
<div class="proofscript" id="proof6676">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="Memdata.html#decode_val">decode_val</a></span>. <span class="id">exploit</span> <span class="id"><a href="ValRels.html#related_proj_bytes">related_proj_bytes</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span> <span class="id">A</span>. <span class="tactic">rewrite</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Memdata.html#proj_bytes">proj_bytes</a></span> <span class="id">mvl</span>'). <span class="tactic">destruct</span> <span class="id">chunk</span>; <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">chunk</span>; <span class="tactic">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span>; <span class="tactic">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;1-3: <span class="id">exploit</span> <span class="id"><a href="ValRels.html#related_proj_value">related_proj_value</a></span>; <span class="tactic">eauto</span>; <span class="tactic">intros</span>; <span class="tactic">eauto</span> <span class="kwd">using</span> <span class="id"><a href="ValRels.html#load_result_related">load_result_related</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="encode_val_related">encode_val_related</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">v</span> <span class="id">v</span>' <span class="id">chunk</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.inj_inject">Bset.inj_inject</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ValRels.html#val_related">val_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#v">v</a></span> <span class="id">v</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Coqlib.html#list_forall2">list_forall2</a></span> (<span class="id"><a href="ValRels.html#memval_related">memval_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span>) (<span class="id"><a href="Memdata.html#encode_val">encode_val</a></span> <span class="id"><a href="ValRels.html#chunk">chunk</a></span> <span class="id"><a href="ValRels.html#v">v</a></span>) (<span class="id"><a href="Memdata.html#encode_val">encode_val</a></span> <span class="id"><a href="ValRels.html#chunk">chunk</a></span> <span class="id">v</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6677')">Proof.</div>
<div class="proofscript" id="proof6677">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="Memdata.html#encode_val">encode_val</a></span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>; <span class="tactic">destruct</span> <span class="id">chunk</span>; <span class="tactic">simpl</span>; <span class="tactic">repeat</span> <span class="id">constructor</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
&nbsp;&nbsp;<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="mem_rel_getN">mem_rel_getN</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">bound</span> <span class="id">fl</span> <span class="id">m</span> <span class="id">m</span>' <span class="id">b</span> <span class="id">b</span>' <span class="id">size</span> <span class="id">base</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#bound">bound</a></span> <span class="id"><a href="ValRels.html#fl">fl</a></span> (<span class="id"><a href="FMemory.html#strip">FMemory.strip</a></span> <span class="id">m</span>') <span class="id"><a href="ValRels.html#m">m</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.range_perm">Memory.Mem.range_perm</a></span> <span class="id"><a href="ValRels.html#m">m</a></span> <span class="id"><a href="ValRels.html#b">b</a></span> <span class="id"><a href="ValRels.html#base">base</a></span> (<span class="id"><a href="ValRels.html#base">base</a></span> + (<span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.of_nat">Z.of_nat</a></span> <span class="id"><a href="ValRels.html#size">size</a></span>)) <span class="id"><a href="Memtype.html#Cur">Memtype.Cur</a></span> <span class="id"><a href="Memtype.html#Readable">Memtype.Readable</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#bound">bound</a></span> <span class="id"><a href="ValRels.html#fl">fl</a></span> <span class="id"><a href="ValRels.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Coqlib.html#list_forall2">list_forall2</a></span> (<span class="id"><a href="ValRels.html#memval_related">memval_related</a></span> (<span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#bound">bound</a></span> <span class="id"><a href="ValRels.html#fl">fl</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Memory.html#Mem.getN">Memory.Mem.getN</a></span> <span class="id"><a href="ValRels.html#size">size</a></span> <span class="id"><a href="ValRels.html#base">base</a></span> (<span class="id"><a href="Memory.html#Mem.mem_contents">Memory.Mem.mem_contents</a></span> <span class="id"><a href="ValRels.html#m">m</a></span>) !! <span class="id"><a href="ValRels.html#b">b</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="FMemory.html#Mem.getN">FMemory.Mem.getN</a></span> <span class="id"><a href="ValRels.html#size">size</a></span> <span class="id"><a href="ValRels.html#base">base</a></span> (<span class="id"><a href="FMemory.html#Mem.mem_contents">FMemory.Mem.mem_contents</a></span> <span class="id">m</span>') !! <span class="id">b</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6678')">Proof.</div>
<div class="proofscript" id="proof6678">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> 1. <span class="id">revert</span> <span class="id">base</span>. <span class="tactic">induction</span> <span class="id">size</span>. <span class="tactic">simpl</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="id">constructor</span>. <span class="tactic">rewrite</span> <span class="id"><a href="ValRels.html#memval_related_memval_inject_strict">memval_related_memval_inject_strict</a></span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Localize.html#mem_related_mem_val_inject">mem_related_mem_val_inject</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Memory.html#Mem.perm_cur_max">Memory.Mem.perm_cur_max</a></span>. <span class="tactic">apply</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Znat.html#Zpos_P_of_succ_nat">Zpos_P_of_succ_nat</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">IHsize</span>; <span class="tactic">auto</span>. <span class="tactic">intros</span> <span class="id">z</span> <span class="id">RANGE</span>. <span class="tactic">apply</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.Znat.html#Zpos_P_of_succ_nat">Zpos_P_of_succ_nat</a></span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="setN_memval_related">setN_memval_related</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">v</span> <span class="id">v</span>' <span class="id">content</span> <span class="id">content</span>' <span class="id">ofs</span> <span class="id">chunk</span> <span class="id">z</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.inj_inject">Bset.inj_inject</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ValRels.html#val_related">val_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#v">v</a></span> <span class="id">v</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemInterpolant.html#memval_inject_strict">memval_inject_strict</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id"><a href="ValRels.html#j">j</a></span>) (<span class="id"><a href="Maps.html#ZMap.get">ZMap.get</a></span> <span class="id"><a href="ValRels.html#ofs">ofs</a></span> <span class="id"><a href="ValRels.html#content">content</a></span>) (<span class="id"><a href="Maps.html#ZMap.get">ZMap.get</a></span> <span class="id"><a href="ValRels.html#ofs">ofs</a></span> <span class="id">content</span>') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemInterpolant.html#memval_inject_strict">memval_inject_strict</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span> <span class="id"><a href="ValRels.html#j">j</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Maps.html#ZMap.get">ZMap.get</a></span> <span class="id"><a href="ValRels.html#ofs">ofs</a></span> (<span class="id"><a href="Memory.html#Mem.setN">Memory.Mem.setN</a></span> (<span class="id"><a href="Memdata.html#encode_val">encode_val</a></span> <span class="id"><a href="ValRels.html#chunk">chunk</a></span> <span class="id"><a href="ValRels.html#v">v</a></span>) <span class="id"><a href="ValRels.html#z">z</a></span> <span class="id"><a href="ValRels.html#content">content</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Maps.html#ZMap.get">ZMap.get</a></span> <span class="id"><a href="ValRels.html#ofs">ofs</a></span> (<span class="id"><a href="FMemory.html#Mem.setN">FMemory.Mem.setN</a></span> (<span class="id"><a href="Memdata.html#encode_val">encode_val</a></span> <span class="id"><a href="ValRels.html#chunk">chunk</a></span> <span class="id">v</span>') <span class="id"><a href="ValRels.html#z">z</a></span> <span class="id">content</span>')).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6679')">Proof.</div>
<div class="proofscript" id="proof6679">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> 2. <span class="id">exploit</span> <span class="id"><a href="ValRels.html#encode_val_related">encode_val_related</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <br/>
&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">H0</span>. <span class="id">instantiate</span> (1:= <span class="id">chunk</span>).<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Memdata.html#encode_val">encode_val</a></span> <span class="id">chunk</span> <span class="id">v</span>) (<span class="id"><a href="Memdata.html#encode_val">encode_val</a></span> <span class="id">chunk</span> <span class="id">v</span>'). <span class="tactic">clear</span> <span class="id">v</span> <span class="id">v</span>' <span class="id">chunk</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">bl</span> <span class="id">bl</span>' <span class="id">REL</span> <span class="id">MVREL</span>. <span class="id">revert</span> <span class="id">z</span> <span class="id">content</span> <span class="id">content</span>' <span class="id">MVREL</span>.<br/>
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">REL</span>; <span class="tactic">intros</span>; <span class="tactic">simpl</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">IHREL</span>. <span class="tactic">clear</span> <span class="id">IHREL</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#zeq">zeq</a></span> <span class="id">ofs</span> <span class="id">z</span>). <span class="tactic">subst</span>. <span class="tactic">do</span> 2 <span class="tactic">rewrite</span> <span class="id"><a href="Maps.html#ZMap.gss">ZMap.gss</a></span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>; <span class="id">constructor</span>. <span class="id">inv</span> <span class="id">H1</span>; <span class="tactic">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">econstructor</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>. <span class="tactic">rewrite</span> <span class="id">H0</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">do</span> 2 (<span class="tactic">rewrite</span> <span class="id"><a href="Maps.html#ZMap.gso">ZMap.gso</a></span>; <span class="tactic">auto</span>).<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="load_related">load_related</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">bound</span> <span class="id">fl</span> <span class="id">m</span> <span class="id">m</span>' <span class="id">b</span> <span class="id">b</span>' <span class="id">z</span> <span class="id">chunk</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">NOREP</span>: <span class="id"><a href="MemAux.html#norep">norep</a></span> <span class="id"><a href="ValRels.html#fl">fl</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#bound">bound</a></span> <span class="id"><a href="ValRels.html#fl">fl</a></span> (<span class="id"><a href="FMemory.html#strip">FMemory.strip</a></span> <span class="id">m</span>') <span class="id"><a href="ValRels.html#m">m</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#bound">bound</a></span> <span class="id"><a href="ValRels.html#fl">fl</a></span> <span class="id"><a href="ValRels.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Coqlib.html#option_rel">option_rel</a></span> (<span class="id"><a href="ValRels.html#val_related">val_related</a></span> (<span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#bound">bound</a></span> <span class="id"><a href="ValRels.html#fl">fl</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Memory.html#Mem.load">Memory.Mem.load</a></span> <span class="id"><a href="ValRels.html#chunk">chunk</a></span> <span class="id"><a href="ValRels.html#m">m</a></span> <span class="id"><a href="ValRels.html#b">b</a></span> <span class="id"><a href="ValRels.html#z">z</a></span>) (<span class="id"><a href="FMemory.html#Mem.load">FMemory.Mem.load</a></span> <span class="id"><a href="ValRels.html#chunk">chunk</a></span> <span class="id">m</span>' <span class="id">b</span>' <span class="id"><a href="ValRels.html#z">z</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6680')">Proof.</div>
<div class="proofscript" id="proof6680">
&nbsp;&nbsp;<span class="tactic">intros</span>. <br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Memory.html#Mem.valid_access_dec">Memory.Mem.valid_access_dec</a></span> <span class="id">m</span> <span class="id">chunk</span> <span class="id">b</span> <span class="id">z</span> <span class="id"><a href="Memtype.html#Readable">Memtype.Readable</a></span>).<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Memory.html#Mem.valid_access_load">Memory.Mem.valid_access_load</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">v1</span> <span class="id">LOAD</span>]. <span class="tactic">rewrite</span> <span class="id">LOAD</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="ValRels.html#mem_rel_valid_access">mem_rel_valid_access</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="FMemPerm.html#eq_readable">eq_readable</a></span>. <span class="tactic">intro</span>. <span class="tactic">apply</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">v</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="FMemory.html#Mem.valid_access_load">FMemory.Mem.valid_access_load</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">v2</span> <span class="id">LOAD</span>']. <span class="tactic">rewrite</span> <span class="id">LOAD</span>'.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>. <span class="tactic">apply</span> <span class="id"><a href="Memory.html#Mem.load_result">Memory.Mem.load_result</a></span> <span class="kwd">in</span> <span class="id">LOAD</span>; <span class="tactic">apply</span> <span class="id"><a href="FMemory.html#Mem.load_result">FMemory.Mem.load_result</a></span> <span class="kwd">in</span> <span class="id">LOAD</span>'; <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.valid_access">Memory.Mem.valid_access</a></span>, <span class="id"><a href="FMemory.html#Mem.valid_access">FMemory.Mem.valid_access</a></span> <span class="kwd">in</span> *; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">revert</span> <span class="id">v</span> <span class="id">H</span> <span class="id">H0</span> <span class="id">H1</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Memdata.html#size_chunk_conv">Memdata.size_chunk_conv</a></span>. <br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id">z</span> (<span class="id"><a href="Memdata.html#size_chunk_nat">Memdata.size_chunk_nat</a></span> <span class="id">chunk</span>) <span class="id">NOREP</span>. <span class="tactic">clear</span>. <span class="tactic">intros</span> <span class="id">base</span> <span class="id">size</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="ValRels.html#mem_rel_getN">mem_rel_getN</a></span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H1</span> <span class="kwd">in</span> <span class="id">v</span>. <span class="tactic">destruct</span> <span class="id">v</span>. <span class="tactic">eauto</span>. <span class="tactic">intro</span> <span class="id">MEMVALREL</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="ValRels.html#decode_val_related">decode_val_related</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Localize.html#construct_inj_injective">construct_inj_injective</a></span>; <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> ? ? ? ? . <span class="tactic">eapply</span> <span class="id">mem_related_freelist_disjoint</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="MemAux.html#get_block">get_block</a></span>. <span class="tactic">rewrite</span> <span class="id">H</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (~ <span class="id"><a href="FMemory.html#Mem.valid_access">FMemory.Mem.valid_access</a></span> <span class="id">m</span>' <span class="id">chunk</span> <span class="id">b</span>' <span class="id">z</span> <span class="id"><a href="Memperm.html#Readable">Memperm.Readable</a></span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">intro</span>. <span class="tactic">apply</span> <span class="id">n</span>. <span class="tactic">destruct</span> <span class="id">H1</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> &lt;- <span class="id"><a href="ValRels.html#mem_rel_range_perm">mem_rel_range_perm</a></span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="tactic">eauto</span>; <span class="tactic">try</span> <span class="id">constructor</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Memory.html#Mem.load">Memory.Mem.load</a></span>) <span class="id">eqn</span>:<span class="id">LOAD</span>. <span class="tactic">apply</span> <span class="id"><a href="Memory.html#Mem.load_valid_access">Memory.Mem.load_valid_access</a></span> <span class="kwd">in</span> <span class="id">LOAD</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="FMemory.html#Mem.load">FMemory.Mem.load</a></span>) <span class="id">eqn</span>:<span class="id">LOAD</span>'. <span class="tactic">apply</span> <span class="id"><a href="FMemory.html#Mem.load_valid_access">FMemory.Mem.load_valid_access</a></span> <span class="kwd">in</span> <span class="id">LOAD</span>'. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
Qed.</div>
&nbsp;&nbsp;<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loadv_related">loadv_related</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">bound</span> <span class="id">fl</span> <span class="id">m</span> <span class="id">m</span>' <span class="id">v</span> <span class="id">v</span>' <span class="id">chunk</span> (<span class="id">NOREP</span>: <span class="id"><a href="MemAux.html#norep">norep</a></span> <span class="id"><a href="ValRels.html#fl">fl</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#bound">bound</a></span> <span class="id"><a href="ValRels.html#fl">fl</a></span> (<span class="id"><a href="FMemory.html#strip">FMemory.strip</a></span> <span class="id">m</span>') <span class="id"><a href="ValRels.html#m">m</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ValRels.html#val_related">val_related</a></span> (<span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#bound">bound</a></span> <span class="id"><a href="ValRels.html#fl">fl</a></span>) <span class="id"><a href="ValRels.html#v">v</a></span> <span class="id">v</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Coqlib.html#option_rel">option_rel</a></span> (<span class="id"><a href="ValRels.html#val_related">val_related</a></span> (<span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#bound">bound</a></span> <span class="id"><a href="ValRels.html#fl">fl</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Memory.html#Mem.loadv">Memory.Mem.loadv</a></span> <span class="id"><a href="ValRels.html#chunk">chunk</a></span> <span class="id"><a href="ValRels.html#m">m</a></span> <span class="id"><a href="ValRels.html#v">v</a></span>) (<span class="id"><a href="FMemory.html#Mem.loadv">FMemory.Mem.loadv</a></span> <span class="id"><a href="ValRels.html#chunk">chunk</a></span> <span class="id">m</span>' <span class="id">v</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6681')">Proof.</div>
<div class="proofscript" id="proof6681">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H0</span>; <span class="tactic">simpl</span>; <span class="tactic">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="ValRels.html#load_related">load_related</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="loadbytes_related">loadbytes_related</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">bound</span> <span class="id">fl</span> <span class="id">m</span> <span class="id">m</span>' <span class="id">b</span> <span class="id">b</span>' <span class="id">base</span> <span class="id">size</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ValRels.html#size">size</a></span> &gt;= 0 -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#bound">bound</a></span> <span class="id"><a href="ValRels.html#fl">fl</a></span> (<span class="id"><a href="FMemory.html#strip">FMemory.strip</a></span> <span class="id">m</span>') <span class="id"><a href="ValRels.html#m">m</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.range_perm">Memory.Mem.range_perm</a></span> <span class="id"><a href="ValRels.html#m">m</a></span> <span class="id"><a href="ValRels.html#b">b</a></span> <span class="id"><a href="ValRels.html#base">base</a></span> (<span class="id"><a href="ValRels.html#base">base</a></span> + <span class="id"><a href="ValRels.html#size">size</a></span>) <span class="id"><a href="Memtype.html#Cur">Memtype.Cur</a></span> <span class="id"><a href="Memtype.html#Readable">Memtype.Readable</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#bound">bound</a></span> <span class="id"><a href="ValRels.html#fl">fl</a></span> <span class="id"><a href="ValRels.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Coqlib.html#option_rel">option_rel</a></span> (<span class="id"><a href="Coqlib.html#list_forall2">list_forall2</a></span> (<span class="id"><a href="ValRels.html#memval_related">memval_related</a></span> (<span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#bound">bound</a></span> <span class="id"><a href="ValRels.html#fl">fl</a></span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Memory.html#Mem.loadbytes">Memory.Mem.loadbytes</a></span> <span class="id"><a href="ValRels.html#m">m</a></span> <span class="id"><a href="ValRels.html#b">b</a></span> <span class="id"><a href="ValRels.html#base">base</a></span> <span class="id"><a href="ValRels.html#size">size</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="FMemory.html#Mem.loadbytes">FMemory.Mem.loadbytes</a></span> <span class="id">m</span>' <span class="id">b</span>' <span class="id"><a href="ValRels.html#base">base</a></span> <span class="id"><a href="ValRels.html#size">size</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6682')">Proof.</div>
<div class="proofscript" id="proof6682">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">exploit</span> <span class="id"><a href="Memory.html#Mem.range_perm_loadbytes">Memory.Mem.range_perm_loadbytes</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">bl</span> <span class="id">LOADBYTES</span>]. <span class="tactic">rewrite</span> <span class="id">LOADBYTES</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="FMemory.html#Mem.range_perm_loadbytes">FMemory.Mem.range_perm_loadbytes</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="ValRels.html#mem_rel_range_perm">mem_rel_range_perm</a></span>; <span class="tactic">eauto</span>; <span class="tactic">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">bl</span>' <span class="id">LOADBYTES</span>']. <span class="tactic">rewrite</span> <span class="id">LOADBYTES</span>'. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">Transparent</span> <span class="id"><a href="Memory.html#Mem.loadbytes">Memory.Mem.loadbytes</a></span> <span class="id"><a href="FMemory.html#Mem.loadbytes">FMemory.Mem.loadbytes</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.loadbytes">Memory.Mem.loadbytes</a></span>, <span class="id"><a href="FMemory.html#Mem.loadbytes">FMemory.Mem.loadbytes</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">do</span> 2 <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> <span class="id">H</span>:<span class="id">context</span>[<span class="kwd">if</span> ?<span class="id">x</span> <span class="kwd">then</span> <span class="id">_</span> <span class="kwd">else</span> <span class="id">_</span>] |- <span class="id">_</span> =&gt; <span class="tactic">destruct</span> <span class="id">x</span>; <span class="id">inv</span> <span class="id">H</span> <span class="kwd">end</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="ValRels.html#mem_rel_getN">mem_rel_getN</a></span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Coqlib.html#nat_of_Z_eq">nat_of_Z_eq</a></span>; <span class="tactic">auto</span>. <br/>
Qed.</div>
&nbsp;&nbsp;<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="store_related">store_related</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">bound</span> <span class="id">fl</span> <span class="id">m1</span> <span class="id">m1</span>' <span class="id">b</span> <span class="id">b</span>' <span class="id">z</span> <span class="id">v</span> <span class="id">v</span>' <span class="id">chunk</span> (<span class="id">NOREP</span>: <span class="id"><a href="MemAux.html#norep">norep</a></span> <span class="id"><a href="ValRels.html#fl">fl</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#bound">bound</a></span> <span class="id"><a href="ValRels.html#fl">fl</a></span> (<span class="id"><a href="FMemory.html#strip">FMemory.strip</a></span> <span class="id">m1</span>') <span class="id"><a href="ValRels.html#m1">m1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#bound">bound</a></span> <span class="id"><a href="ValRels.html#fl">fl</a></span> <span class="id"><a href="ValRels.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ValRels.html#val_related">val_related</a></span> (<span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#bound">bound</a></span> <span class="id"><a href="ValRels.html#fl">fl</a></span>) <span class="id"><a href="ValRels.html#v">v</a></span> <span class="id">v</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Coqlib.html#option_rel">option_rel</a></span> (<span class="kwd">fun</span> <span class="id">m2</span> <span class="id">m2</span>' =&gt; <span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#bound">bound</a></span> <span class="id"><a href="ValRels.html#fl">fl</a></span> (<span class="id"><a href="FMemory.html#strip">FMemory.strip</a></span> <span class="id">m2</span>') <span class="id"><a href="ValRels.html#m2">m2</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Memory.html#Mem.store">Memory.Mem.store</a></span> <span class="id"><a href="ValRels.html#chunk">chunk</a></span> <span class="id"><a href="ValRels.html#m1">m1</a></span> <span class="id"><a href="ValRels.html#b">b</a></span> <span class="id"><a href="ValRels.html#z">z</a></span> <span class="id"><a href="ValRels.html#v">v</a></span>) (<span class="id"><a href="FMemory.html#Mem.store">FMemory.Mem.store</a></span> <span class="id"><a href="ValRels.html#chunk">chunk</a></span> <span class="id">m1</span>' <span class="id">b</span>' <span class="id"><a href="ValRels.html#z">z</a></span> <span class="id">v</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6683')">Proof.</div>
<div class="proofscript" id="proof6683">
&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">INJECTIVE</span>: <span class="id"><a href="Blockset.html#Bset.inj_inject">Bset.inj_inject</a></span> (<span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="id">j</span> <span class="id">bound</span> <span class="id">fl</span>)).<br/>
&nbsp;&nbsp;{ <span class="tactic">apply</span> <span class="id"><a href="Localize.html#construct_inj_injective">construct_inj_injective</a></span>; <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> ? ? ? ? . <span class="tactic">eapply</span> <span class="id">mem_related_freelist_disjoint</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="MemAux.html#get_block">get_block</a></span>. <span class="tactic">rewrite</span> <span class="id">H</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="id">Transparent</span> <span class="id"><a href="FMemory.html#Mem.store">FMemory.Mem.store</a></span> <span class="id"><a href="Memory.html#Mem.store">Memory.Mem.store</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#Mem.store">FMemory.Mem.store</a></span>, <span class="id"><a href="Memory.html#Mem.store">Memory.Mem.store</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Memory.html#Mem.valid_access_dec">Memory.Mem.valid_access_dec</a></span> <span class="id">m1</span> <span class="id">chunk</span> <span class="id">b</span> <span class="id">z</span> <span class="id"><a href="Memtype.html#Writable">Memtype.Writable</a></span>) <span class="kwd">as</span> [<span class="id">VA</span>|<span class="id">VA</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="FMemory.html#Mem.valid_access_dec">FMemory.Mem.valid_access_dec</a></span> <span class="id">m1</span>' <span class="id">chunk</span> <span class="id">b</span>' <span class="id">z</span> <span class="id"><a href="Memperm.html#Writable">Memperm.Writable</a></span>) <span class="kwd">as</span> [<span class="id">VA</span>'|<span class="id">VA</span>'];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#strip">FMemory.strip</a></span> <span class="kwd">in</span> *; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>; <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">auto</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#peq">peq</a></span> <span class="id">b</span> <span class="id">b0</span>), (<span class="id"><a href="Coqlib.html#peq">peq</a></span> <span class="id">b</span>' <span class="id">b</span>'0); <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> 2 <span class="tactic">rewrite</span> <span class="id"><a href="Maps.html#PMap.gss">PMap.gss</a></span>. <span class="tactic">eapply</span> <span class="id">mem_related_mem_val_inject</span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">apply</span> <span class="id"><a href="ValRels.html#setN_memval_related">setN_memval_related</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exfalso</span>. <span class="tactic">apply</span> <span class="id">n</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exfalso</span>. <span class="tactic">apply</span> <span class="id">n</span>. <span class="tactic">eapply</span> <span class="id">INJECTIVE</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> 2 (<span class="tactic">rewrite</span> <span class="id"><a href="Maps.html#PMap.gso">PMap.gso</a></span>; <span class="tactic">auto</span>). }<br/>
&nbsp;&nbsp;<span class="id">exfalso</span>. <span class="tactic">apply</span> <span class="id">VA</span>'. <span class="tactic">eapply</span> <span class="id"><a href="ValRels.html#mem_rel_valid_access">mem_rel_valid_access</a></span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">exfalso</span>. <span class="tactic">apply</span> <span class="id">VA</span>. <span class="tactic">eapply</span> <span class="id"><a href="ValRels.html#mem_rel_valid_access">mem_rel_valid_access</a></span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="storev_related">storev_related</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">bound</span> <span class="id">fl</span> <span class="id">m1</span> <span class="id">m1</span>' <span class="id">addr</span> <span class="id">addr</span>' <span class="id">v</span> <span class="id">v</span>' <span class="id">chunk</span> (<span class="id">NOREP</span>: <span class="id"><a href="MemAux.html#norep">norep</a></span> <span class="id"><a href="ValRels.html#fl">fl</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#bound">bound</a></span> <span class="id"><a href="ValRels.html#fl">fl</a></span> (<span class="id"><a href="FMemory.html#strip">FMemory.strip</a></span> <span class="id">m1</span>') <span class="id"><a href="ValRels.html#m1">m1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ValRels.html#val_related">val_related</a></span> (<span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#bound">bound</a></span> <span class="id"><a href="ValRels.html#fl">fl</a></span>) <span class="id"><a href="ValRels.html#addr">addr</a></span> <span class="id">addr</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ValRels.html#val_related">val_related</a></span> (<span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#bound">bound</a></span> <span class="id"><a href="ValRels.html#fl">fl</a></span>) <span class="id"><a href="ValRels.html#v">v</a></span> <span class="id">v</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Coqlib.html#option_rel">option_rel</a></span> (<span class="kwd">fun</span> <span class="id">m2</span> <span class="id">m2</span>' =&gt; <span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#bound">bound</a></span> <span class="id"><a href="ValRels.html#fl">fl</a></span> (<span class="id"><a href="FMemory.html#strip">FMemory.strip</a></span> <span class="id">m2</span>') <span class="id"><a href="ValRels.html#m2">m2</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Memory.html#Mem.storev">Memory.Mem.storev</a></span> <span class="id"><a href="ValRels.html#chunk">chunk</a></span> <span class="id"><a href="ValRels.html#m1">m1</a></span> <span class="id"><a href="ValRels.html#addr">addr</a></span> <span class="id"><a href="ValRels.html#v">v</a></span>) (<span class="id"><a href="FMemory.html#Mem.storev">FMemory.Mem.storev</a></span> <span class="id"><a href="ValRels.html#chunk">chunk</a></span> <span class="id">m1</span>' <span class="id">addr</span>' <span class="id">v</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6684')">Proof.</div>
<div class="proofscript" id="proof6684">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H0</span>; <span class="tactic">simpl</span>; <span class="tactic">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="ValRels.html#store_related">store_related</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="alloc_result_related">alloc_result_related</a></span>:<br/>
<span class="kwd">forall</span> <span class="id">j</span> <span class="id">bound</span> <span class="id">fl</span> <span class="id">m1</span> <span class="id">m1</span>' <span class="id">lo</span> <span class="id">hi</span> <span class="id">m2</span> <span class="id">stk</span> <span class="id">m2</span>' <span class="id">stk</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ValRels.html#fl">fl</a></span> = <span class="id"><a href="FMemory.html#Mem.freelist">FMemory.Mem.freelist</a></span> <span class="id">m1</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#bound">bound</a></span> <span class="id"><a href="ValRels.html#fl">fl</a></span> (<span class="id"><a href="FMemory.html#strip">FMemory.strip</a></span> <span class="id">m1</span>') <span class="id"><a href="ValRels.html#m1">m1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.alloc">Memory.Mem.alloc</a></span> <span class="id"><a href="ValRels.html#m1">m1</a></span> <span class="id"><a href="ValRels.html#lo">lo</a></span> <span class="id"><a href="ValRels.html#hi">hi</a></span> = (<span class="id"><a href="ValRels.html#m2">m2</a></span>, <span class="id"><a href="ValRels.html#stk">stk</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemory.html#Mem.alloc">FMemory.Mem.alloc</a></span> <span class="id">m1</span>' <span class="id"><a href="ValRels.html#lo">lo</a></span> <span class="id"><a href="ValRels.html#hi">hi</a></span> = (<span class="id">m2</span>', <span class="id">stk</span>') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#bound">bound</a></span> <span class="id"><a href="ValRels.html#fl">fl</a></span>) <span class="id"><a href="ValRels.html#stk">stk</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">stk</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6685')">Proof.</div>
<div class="proofscript" id="proof6685">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">stk</span>'; <span class="tactic">intros</span> <span class="id">FL</span> <span class="id">MEMREL</span> <span class="id">ALLOC</span> <span class="id">ALLOC</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Memory.html#Mem.alloc_result">Memory.Mem.alloc_result</a></span> <span class="kwd">in</span> <span class="id">ALLOC</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="FMemory.html#Mem.alloc_result">FMemory.Mem.alloc_result</a></span> <span class="kwd">in</span> <span class="id">ALLOC</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.nextblock">Memory.Mem.nextblock</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (~ <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id">stk</span> <span class="id">bound</span>). <span class="id">inv</span> <span class="id">MEMREL</span>. <span class="tactic">intro</span>. <span class="tactic">apply</span> <span class="id">mem_related_shared_valid_local</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">apply</span> <span class="id"><a href="Coqlib.html#Plt_ne">Plt_ne</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Arith.PeanoNat.html#Nat.eq_dec">Nat.eq_dec</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.to_nat">Pos.to_nat</a></span> <span class="id">stk</span> - <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.to_nat">Pos.to_nat</a></span> <span class="id">bound</span>) (<span class="id"><a href="FMemory.html#Mem.nextblockid">FMemory.Mem.nextblockid</a></span> <span class="id">m1</span>'))%<span class="id">nat</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>;[<span class="id">contradiction</span>|]. <span class="tactic">subst</span>; <span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#Mem.nextblock">FMemory.Mem.nextblock</a></span>. <span class="tactic">f_equal</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="id">j</span> <span class="id">bound</span> <span class="id">fl</span> <span class="id">stk</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="MemAux.html#get_block">get_block</a></span> <span class="id">fl</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.to_nat">Pos.to_nat</a></span> <span class="id">stk</span> - <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.to_nat">Pos.to_nat</a></span> <span class="id">bound</span>)%<span class="id">nat</span>)).<br/>
&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>;[<span class="id">contradiction</span>|]. <span class="tactic">subst</span>; <span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#Mem.nextblock">FMemory.Mem.nextblock</a></span>. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Arith.PeanoNat.html#Nat.lt_gt_cases">Nat.lt_gt_cases</a></span> <span class="kwd">in</span> <span class="id">n</span>. <span class="id">exfalso</span>. <span class="tactic">destruct</span> <span class="id">n</span>.<br/>
&nbsp;LT&nbsp;*)</span>&nbsp;&nbsp;<span class="tactic">assert</span> (~ <span class="id"><a href="Memory.html#Mem.valid_block">Memory.Mem.valid_block</a></span> <span class="id">m1</span> <span class="id">stk</span>).<br/>
&nbsp;&nbsp;{ <span class="tactic">subst</span>. <span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.valid_block">Memory.Mem.valid_block</a></span>. <span class="tactic">intro</span>. <span class="tactic">apply</span> <span class="id"><a href="Coqlib.html#Plt_ne">Plt_ne</a></span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="FMemory.html#Mem.valid_block">FMemory.Mem.valid_block</a></span> <span class="id">m1</span>' (<span class="id"><a href="MemAux.html#get_block">get_block</a></span> <span class="id">fl</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.to_nat">Pos.to_nat</a></span> <span class="id">stk</span> - <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.to_nat">Pos.to_nat</a></span> <span class="id">bound</span>))).<br/>
&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="FMemory.html#Mem.valid_wd">FMemory.Mem.valid_wd</a></span>; <span class="tactic">eauto</span>. <span class="tactic">subst</span>. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Localize.html#mem_related_valid_block">mem_related_valid_block</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span>. <span class="tactic">rewrite</span> <span class="id">H4</span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="id">exfalso</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;GT&nbsp;*)</span>&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="FMemory.html#Mem.valid_block">FMemory.Mem.valid_block</a></span> <span class="id">m1</span>' (<span class="id"><a href="MemAux.html#get_block">get_block</a></span> <span class="id">fl</span> (<span class="id"><a href="FMemory.html#Mem.nextblockid">FMemory.Mem.nextblockid</a></span> <span class="id">m1</span>'))).<br/>
&nbsp;&nbsp;{ <span class="tactic">assert</span> (<span class="id">exists</span> <span class="id">b</span>, <span class="id"><a href="Coqlib.html#Ple">Ple</a></span> <span class="id">bound</span> <span class="id"><a href="ValRels.html#b">b</a></span> /\ <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="ValRels.html#b">b</a></span> <span class="id">stk</span> /\ (<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.to_nat">Pos.to_nat</a></span> <span class="id"><a href="ValRels.html#b">b</a></span> - <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.to_nat">Pos.to_nat</a></span> <span class="id">bound</span> = <span class="id"><a href="FMemory.html#Mem.nextblockid">FMemory.Mem.nextblockid</a></span> <span class="id">m1</span>'))%<span class="id">nat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">remember</span> (<span class="id"><a href="FMemory.html#Mem.nextblockid">FMemory.Mem.nextblockid</a></span> <span class="id">m1</span>') <span class="kwd">as</span> <span class="id">N</span>. <span class="id">remember</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.to_nat">Pos.to_nat</a></span> <span class="id">stk</span>) <span class="kwd">as</span> <span class="id">STK</span>. <span class="id">remember</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.to_nat">Pos.to_nat</a></span> <span class="id">bound</span>) <span class="kwd">as</span> <span class="id">B</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.of_nat">Pos.of_nat</a></span> (<span class="id">STK</span> - (<span class="id">STK</span> - <span class="id">B</span> - <span class="id">N</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">N</span> + <span class="id">B</span> &gt; 0)%<span class="id">nat</span>. <span class="tactic">assert</span> (0 &lt; <span class="id">B</span>)%<span class="id">nat</span>. <span class="tactic">subst</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.Pnat.html#Pos2Nat.is_pos">Pos2Nat.is_pos</a></span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">STK</span> - (<span class="id">STK</span> - <span class="id">B</span> - <span class="id">N</span>) = <span class="id">N</span> + <span class="id">B</span>)%<span class="id">nat</span>. <span class="tactic">generalize</span> <span class="id">H1</span>; <span class="tactic">clear</span>. <span class="tactic">intros</span>. <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H3</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.Pnat.html#Nat2Pos.id">Nat2Pos.id</a></span>; [|<span class="id">revert</span> <span class="id">H2</span>; <span class="tactic">clear</span>; <span class="tactic">intro</span>; <span class="tactic">omega</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>;[|<span class="tactic">split</span>;[|<span class="tactic">clear</span>; <span class="tactic">omega</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.Pnat.html#Pos2Nat.id">Pos2Nat.id</a></span> <span class="id">bound</span>), &lt;- <span class="id">HeqB</span>. <span class="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Coqlib.html#Ple">Ple</a></span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">B</span>. <span class="tactic">induction</span> <span class="id">N</span>; <span class="tactic">intros</span>. <span class="tactic">simpl</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">B</span>. <span class="tactic">simpl</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">remember</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#S">S</a></span> <span class="id">B</span>) <span class="kwd">as</span> <span class="id">B</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Peano.html#plus_Sn_m">plus_Sn_m</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.Pnat.html#Nat2Pos.inj_succ">Nat2Pos.inj_succ</a></span>. <span class="id">specialize</span> (<span class="id">IHN</span> <span class="id">B</span>'). <span class="id">lia</span>. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.Pnat.html#Pos2Nat.id">Pos2Nat.id</a></span> <span class="id">stk</span>), &lt;- <span class="id">HeqSTK</span>. <span class="tactic">assert</span> (<span class="id">N</span> + <span class="id">B</span> &lt; <span class="id">STK</span>)%<span class="id">nat</span> <span class="tactic">by</span> (<span class="id">revert</span> <span class="id">H1</span>; <span class="tactic">clear</span>; <span class="tactic">intro</span>; <span class="tactic">omega</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">H2</span> <span class="id">H4</span>. <span class="tactic">clear</span>. <span class="tactic">generalize</span> (<span class="id">N</span> + <span class="id">B</span>)%<span class="id">nat</span>. <span class="tactic">clear</span>. <span class="tactic">unfold</span> <span class="id"><a href="Coqlib.html#Plt">Plt</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.Pnat.html#Pos2Nat.inj_lt">Pos2Nat.inj_lt</a></span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.Pnat.html#Nat2Pos.id">Nat2Pos.id</a></span>; <span class="tactic">auto</span>; <span class="id">lia</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}      <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H2</span> <span class="kwd">as</span> [<span class="id">b</span> [<span class="id">BOUND</span> [<span class="id">LTSTK</span> <span class="id">NEXT</span>]]]. <span class="tactic">rewrite</span> &lt;- <span class="id">NEXT</span> <span class="kwd">in</span> <span class="id">H1</span>|-* .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="id">j</span> <span class="id">bound</span> <span class="id">fl</span> <span class="id">b</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id"><a href="MemAux.html#get_block">get_block</a></span> <span class="id">fl</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.to_nat">Pos.to_nat</a></span> <span class="id">b</span> - <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.to_nat">Pos.to_nat</a></span> <span class="id">bound</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#plt">plt</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Coqlib.html#Plt_Ple_trans">Plt_Ple_trans</a></span>. <span class="tactic">exact</span> <span class="id">p</span>. <span class="tactic">exact</span> <span class="id">BOUND</span>. <span class="tactic">intro</span> <span class="id">C</span>. <span class="tactic">apply</span> <span class="id"><a href="Coqlib.html#Plt_ne">Plt_ne</a></span> <span class="kwd">in</span> <span class="id">C</span>. <span class="id">contradiction</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Localize.html#mem_related_valid_block">mem_related_valid_block</a></span>; <span class="tactic">eauto</span>. <span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#strip">FMemory.strip</a></span>, <span class="id"><a href="GMemory.html#GMem.valid_block">GMem.valid_block</a></span>. <span class="tactic">simpl</span>. <span class="tactic">intro</span>. <span class="tactic">apply</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="FMemory.html#Mem.valid_wd">FMemory.Mem.valid_wd</a></span> <span class="kwd">in</span> <span class="id">H2</span>; <span class="tactic">subst</span>; <span class="tactic">eauto</span>. <span class="tactic">omega</span>.<br/>
Qed.</div>
&nbsp;&nbsp;<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="alloc_related">alloc_related</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">bound</span> <span class="id">fl</span> <span class="id">m1</span> <span class="id">m1</span>' <span class="id">lo</span> <span class="id">hi</span> <span class="id">m2</span> <span class="id">stk</span> <span class="id">m2</span>' <span class="id">stk</span>' (<span class="id">NOREP</span>: <span class="id"><a href="MemAux.html#norep">norep</a></span> <span class="id"><a href="ValRels.html#fl">fl</a></span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ValRels.html#fl">fl</a></span> = <span class="id"><a href="FMemory.html#Mem.freelist">FMemory.Mem.freelist</a></span> <span class="id">m1</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#bound">bound</a></span> <span class="id"><a href="ValRels.html#fl">fl</a></span> (<span class="id"><a href="FMemory.html#strip">FMemory.strip</a></span> <span class="id">m1</span>') <span class="id"><a href="ValRels.html#m1">m1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.alloc">Memory.Mem.alloc</a></span> <span class="id"><a href="ValRels.html#m1">m1</a></span> <span class="id"><a href="ValRels.html#lo">lo</a></span> <span class="id"><a href="ValRels.html#hi">hi</a></span> = (<span class="id"><a href="ValRels.html#m2">m2</a></span>, <span class="id"><a href="ValRels.html#stk">stk</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemory.html#Mem.alloc">FMemory.Mem.alloc</a></span> <span class="id">m1</span>' <span class="id"><a href="ValRels.html#lo">lo</a></span> <span class="id"><a href="ValRels.html#hi">hi</a></span> = (<span class="id">m2</span>', <span class="id">stk</span>') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#bound">bound</a></span> <span class="id"><a href="ValRels.html#fl">fl</a></span> (<span class="id"><a href="FMemory.html#strip">FMemory.strip</a></span> <span class="id">m2</span>') <span class="id"><a href="ValRels.html#m2">m2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6686')">Proof.</div>
<div class="proofscript" id="proof6686">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">stk</span>'; <span class="tactic">intros</span> ? <span class="id">FL</span> <span class="id">MEMREL</span> <span class="id">ALLOC</span> <span class="id">ALLOC</span>'.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="ValRels.html#alloc_result_related">alloc_result_related</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id">Transparent</span> <span class="id"><a href="Memory.html#Mem.alloc">Memory.Mem.alloc</a></span> <span class="id"><a href="FMemory.html#Mem.alloc">FMemory.Mem.alloc</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.alloc">Memory.Mem.alloc</a></span>, <span class="id"><a href="FMemory.html#Mem.alloc">FMemory.Mem.alloc</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">ALLOC</span>. <span class="id">inv</span> <span class="id">ALLOC</span>'. <span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#strip">FMemory.strip</a></span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MEMREL</span>; <span class="id">constructor</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">auto</span>.<br/>
&nbsp;valid&nbsp;*)</span>&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.valid_block">Memory.Mem.valid_block</a></span>, <span class="id"><a href="GMemory.html#GMem.valid_block">GMem.valid_block</a></span> <span class="kwd">in</span> *; <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#peq">peq</a></span> <span class="id">b</span> (<span class="id"><a href="Memory.html#Mem.nextblock">Memory.Mem.nextblock</a></span> <span class="id">m1</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">split</span>; <span class="tactic">intro</span>. <span class="id">left</span>. <span class="tactic">congruence</span>. <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">coqlib</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">intro</span>. <span class="id">right</span>. <span class="tactic">eapply</span> <span class="id">mem_related_valid_block</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="kwd">in</span> *. <span class="id">lia</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H1</span>. <span class="tactic">subst</span>. <span class="id">exfalso</span>. <span class="tactic">apply</span> <span class="id">n</span>. <span class="tactic">eapply</span> <span class="id"><a href="Localize.html#construct_inj_injective">construct_inj_injective</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> ? ? ? ? . <span class="tactic">eapply</span> <span class="id">mem_related_freelist_disjoint</span>. <span class="tactic">unfold</span> <span class="id"><a href="MemAux.html#get_block">get_block</a></span>; <span class="tactic">rewrite</span> <span class="id">H1</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Coqlib.html#Plt_trans">Plt_trans</a></span> <span class="kwd">with</span> (<span class="id"><a href="Memory.html#Mem.nextblock">Memory.Mem.nextblock</a></span> <span class="id">m1</span>); <span class="tactic">auto</span> <span class="kwd">with</span> <span class="id">coqlib</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">mem_related_valid_block</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;shared&nbsp;valid&nbsp;*)</span>&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.valid_block">Memory.Mem.valid_block</a></span> <span class="kwd">in</span> *; <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.lt_trans">Pos.lt_trans</a></span>  <span class="kwd">with</span> (<span class="id"><a href="Memory.html#Mem.nextblock">Memory.Mem.nextblock</a></span> <span class="id">m1</span>); <span class="tactic">auto</span>. <span class="id">lia</span>.<br/>
&nbsp;shared_valid'&nbsp;*)</span>&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GMemory.html#GMem.valid_block">GMem.valid_block</a></span> <span class="kwd">in</span> *; <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">intros</span>. <span class="id">right</span>. <span class="tactic">auto</span>.<br/>
&nbsp;perm&nbsp;*)</span>&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span>, <span class="id"><a href="Memory.html#Mem.perm">Memory.Mem.perm</a></span> <span class="kwd">in</span> *; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">exploit</span> <span class="id">mem_related_mem_perm_eq</span>; <span class="tactic">eauto</span>. <span class="id">instantiate</span> (1:= <span class="id">ofs</span>); <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#peq">peq</a></span> <span class="id">b</span> (<span class="id"><a href="Memory.html#Mem.nextblock">Memory.Mem.nextblock</a></span> <span class="id">m1</span>)). <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Maps.html#PMap.gss">PMap.gss</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#zle">zle</a></span> <span class="id">lo</span> <span class="id">ofs</span> &amp;&amp; <span class="id"><a href="Coqlib.html#zlt">zlt</a></span> <span class="id">ofs</span> <span class="id">hi</span>).<br/>
&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">intro</span>; <span class="id">inv</span> <span class="id">H2</span>; <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">intro</span> <span class="id">C</span>; <span class="id">inv</span> <span class="id">C</span>.<br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Maps.html#PMap.gso">PMap.gso</a></span>; <span class="tactic">auto</span>. <span class="tactic">intro</span>. <span class="tactic">apply</span> <span class="id">n</span>. <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Localize.html#construct_inj_injective">construct_inj_injective</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> ? ? ? ? . <span class="tactic">eapply</span> <span class="id">mem_related_freelist_disjoint</span>. <span class="tactic">unfold</span> <span class="id"><a href="MemAux.html#get_block">get_block</a></span>; <span class="tactic">rewrite</span> <span class="id">H4</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;memval&nbsp;*)</span>&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#peq">peq</a></span> <span class="id">b</span> (<span class="id"><a href="Memory.html#Mem.nextblock">Memory.Mem.nextblock</a></span> <span class="id">m1</span>)); <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H</span> <span class="kwd">in</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Maps.html#PMap.gss">PMap.gss</a></span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Maps.html#ZMap.gi">ZMap.gi</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span>  <span class="id"><a href="Maps.html#PMap.gso">PMap.gso</a></span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id">mem_related_mem_val_inject</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.perm">Memory.Mem.perm</a></span> <span class="kwd">in</span> *; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Maps.html#PMap.gso">PMap.gso</a></span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intro</span>; <span class="tactic">apply</span> <span class="id">n</span>; <span class="tactic">subst</span>. <span class="tactic">eapply</span> <span class="id"><a href="Localize.html#construct_inj_injective">construct_inj_injective</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> ? ? ? ? . <span class="tactic">eapply</span> <span class="id">mem_related_freelist_disjoint</span>. <span class="tactic">unfold</span> <span class="id"><a href="MemAux.html#get_block">get_block</a></span>; <span class="tactic">rewrite</span> <span class="id">H2</span>. <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="free_related">free_related</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">bound</span> <span class="id">fl</span> <span class="id">m1</span> <span class="id">m1</span>' <span class="id">b</span> <span class="id">b</span>' <span class="id">lo</span> <span class="id">hi</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemAux.html#norep">norep</a></span> <span class="id"><a href="ValRels.html#fl">fl</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemAux.html#no_overlap">no_overlap</a></span> <span class="id"><a href="ValRels.html#fl">fl</a></span> (<span class="kwd">fun</span> <span class="id">b</span> : <span class="id"><a href="Values.html#block">block</a></span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="ValRels.html#b">b</a></span> <span class="id"><a href="ValRels.html#bound">bound</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.inject">Bset.inject</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> (<span class="kwd">fun</span> <span class="id">b</span> : <span class="id"><a href="Values.html#block">block</a></span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="ValRels.html#b">b</a></span> <span class="id"><a href="ValRels.html#bound">bound</a></span>) (<span class="kwd">fun</span> <span class="id">b</span> : <span class="id"><a href="Values.html#block">block</a></span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="ValRels.html#b">b</a></span> <span class="id"><a href="ValRels.html#bound">bound</a></span>) -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#bound">bound</a></span> <span class="id"><a href="ValRels.html#fl">fl</a></span> (<span class="id"><a href="FMemory.html#strip">FMemory.strip</a></span> <span class="id">m1</span>') <span class="id"><a href="ValRels.html#m1">m1</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#bound">bound</a></span> <span class="id"><a href="ValRels.html#fl">fl</a></span> <span class="id"><a href="ValRels.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Coqlib.html#option_rel">option_rel</a></span> (<span class="kwd">fun</span> <span class="id">m2</span> <span class="id">m2</span>' =&gt; <span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#bound">bound</a></span> <span class="id"><a href="ValRels.html#fl">fl</a></span> (<span class="id"><a href="FMemory.html#strip">FMemory.strip</a></span> <span class="id">m2</span>') <span class="id"><a href="ValRels.html#m2">m2</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Memory.html#Mem.free">Memory.Mem.free</a></span> <span class="id"><a href="ValRels.html#m1">m1</a></span> <span class="id"><a href="ValRels.html#b">b</a></span> <span class="id"><a href="ValRels.html#lo">lo</a></span> <span class="id"><a href="ValRels.html#hi">hi</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="FMemory.html#Mem.free">FMemory.Mem.free</a></span> <span class="id">m1</span>' <span class="id">b</span>' <span class="id"><a href="ValRels.html#lo">lo</a></span> <span class="id"><a href="ValRels.html#hi">hi</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6687')">Proof.</div>
<div class="proofscript" id="proof6687">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">hi</span>. <span class="tactic">intros</span> <span class="id">NOREP</span> <span class="id">NOOVERLAP</span> <span class="id">INJECT</span> <span class="id">MEMREL</span> <span class="id">INJ</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="Localize.html#construct_inj_injective">construct_inj_injective</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">NOREP</span> <span class="id">NOOVERLAP</span> <span class="id">INJECT</span>) <span class="kwd">as</span> <span class="id">INJECTIVE</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Memory.html#Mem.free">Memory.Mem.free</a></span> <span class="id">m1</span> <span class="id">b</span> <span class="id">lo</span> <span class="id">hi</span>) <span class="kwd">as</span> [<span class="id">m2</span>|] <span class="id">eqn</span>:<span class="id">FREE</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="FMemory.html#Mem.free">FMemory.Mem.free</a></span> <span class="id">m1</span>' <span class="id">b</span>' <span class="id">lo</span> <span class="id">hi</span>) <span class="kwd">as</span> [<span class="id">m2</span>'|] <span class="id">eqn</span>:<span class="id">FREE</span>'; <span class="tactic">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> <span class="id">FREE</span> <span class="kwd">as</span> <span class="id">FREEE0</span>. <span class="tactic">apply</span> <span class="id"><a href="Memory.html#Mem.free_result">Memory.Mem.free_result</a></span> <span class="kwd">in</span> <span class="id">FREE</span>; <span class="tactic">apply</span> <span class="id"><a href="FMemory.html#Mem.free_result">FMemory.Mem.free_result</a></span> <span class="kwd">in</span> <span class="id">FREE</span>'.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.unchecked_free">Memory.Mem.unchecked_free</a></span>, <span class="id"><a href="FMemory.html#Mem.unchecked_free">FMemory.Mem.unchecked_free</a></span> <span class="kwd">in</span> *; <span class="tactic">subst</span>. <span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#strip">FMemory.strip</a></span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MEMREL</span>; <span class="id">constructor</span>; <span class="tactic">eauto</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;{ <span class="comment">(*&nbsp;perm&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span>, <span class="id"><a href="Memory.html#Mem.perm">Memory.Mem.perm</a></span>, <span class="id">Memperm.perm_order</span>', <span class="id">Memory.Mem.perm_order</span>' <span class="kwd">in</span> *; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">exploit</span> <span class="id">mem_related_mem_perm_eq</span>; <span class="tactic">eauto</span>. <span class="id">instantiate</span> (1:= <span class="id">ofs</span>). <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#peq">peq</a></span> <span class="id">b0</span> <span class="id">b</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">rewrite</span> <span class="id">INJ</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Maps.html#PMap.gss">PMap.gss</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id">H0</span> <span class="id">H1</span> <span class="id">H2</span> <span class="id">INJECTIVE</span>; <span class="tactic">clear</span>; <span class="tactic">intros</span> <span class="id">PERMKIND</span> <span class="id">PERM</span> <span class="id">PERMEQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">PERMKIND</span>; <span class="id">inv</span> <span class="id">PERM</span>; <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> |- <span class="id">context</span>[<span class="kwd">if</span> ?<span class="id">x</span> <span class="kwd">then</span> <span class="id">_</span> <span class="kwd">else</span> <span class="id">_</span>] =&gt; <span class="tactic">destruct</span> <span class="id">x</span> <span class="kwd">end</span>; <span class="tactic">try</span> <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Maps.html#PMap.gso">PMap.gso</a></span>; <span class="tactic">auto</span>. <span class="tactic">intro</span>. <span class="tactic">apply</span> <span class="id">n</span>. <span class="tactic">eapply</span> <span class="id">INJECTIVE</span>; <span class="tactic">subst</span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;{ <span class="comment">(*&nbsp;content&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id">mem_related_mem_val_inject</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id">H0</span>; <span class="tactic">clear</span>. <span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.perm">Memory.Mem.perm</a></span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#peq">peq</a></span> <span class="id">b</span> <span class="id">b0</span>). <span class="tactic">subst</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Maps.html#PMap.gss">PMap.gss</a></span>. <span class="tactic">destruct</span> (<span class="id">_</span> &amp;&amp; <span class="id">_</span>); <span class="tactic">auto</span>. <span class="tactic">intro</span> <span class="id">C</span>. <span class="tactic">inversion</span> <span class="id">C</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Maps.html#PMap.gso">PMap.gso</a></span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Memory.html#Mem.free_range_perm">Memory.Mem.free_range_perm</a></span> <span class="kwd">in</span> <span class="id">FREE</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="ValRels.html#mem_rel_range_perm">mem_rel_range_perm</a></span>; <span class="tactic">eauto</span>; <span class="tactic">try</span> (<span class="tactic">intro</span> <span class="id">A</span>; <span class="tactic">apply</span> <span class="id">A</span> <span class="kwd">in</span> <span class="id">FREE</span>); <span class="tactic">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="FMemory.html#Mem.range_perm_free">FMemory.Mem.range_perm_free</a></span> <span class="kwd">in</span> <span class="id">FREE</span>. <span class="tactic">rewrite</span> <span class="id">FREE</span>' <span class="kwd">in</span> <span class="id">FREE</span>. <span class="tactic">inversion</span> <span class="id">FREE</span>. <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="FMemory.html#Mem.free_range_perm">FMemory.Mem.free_range_perm</a></span> <span class="kwd">in</span> <span class="id">FREE</span>'.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="ValRels.html#mem_rel_range_perm">mem_rel_range_perm</a></span>; <span class="tactic">eauto</span>; <span class="tactic">try</span> (<span class="tactic">intro</span> <span class="id">A</span>; <span class="tactic">apply</span> <span class="id">A</span> <span class="kwd">in</span> <span class="id">FREE</span>'); <span class="tactic">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Memory.html#Mem.range_perm_free">Memory.Mem.range_perm_free</a></span> <span class="kwd">in</span> <span class="id">FREE</span>'. <span class="tactic">rewrite</span> <span class="id">FREE</span> <span class="kwd">in</span> <span class="id">FREE</span>'. <span class="tactic">inversion</span> <span class="id">FREE</span>'. <span class="tactic">discriminate</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="valid_pointer_related">valid_pointer_related</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">bound</span> <span class="id">fl</span> <span class="id">m</span> <span class="id">m</span>' <span class="id">b</span> <span class="id">b</span>' <span class="id">ofs</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#bound">bound</a></span> <span class="id"><a href="ValRels.html#fl">fl</a></span> (<span class="id"><a href="FMemory.html#strip">FMemory.strip</a></span> <span class="id">m</span>') <span class="id"><a href="ValRels.html#m">m</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#bound">bound</a></span> <span class="id"><a href="ValRels.html#fl">fl</a></span> <span class="id"><a href="ValRels.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Memory.html#Mem.valid_pointer">Memory.Mem.valid_pointer</a></span> <span class="id"><a href="ValRels.html#m">m</a></span> <span class="id"><a href="ValRels.html#b">b</a></span> <span class="id"><a href="ValRels.html#ofs">ofs</a></span> = <span class="id"><a href="FMemory.html#Mem.valid_pointer">FMemory.Mem.valid_pointer</a></span> <span class="id">m</span>' <span class="id">b</span>' <span class="id"><a href="ValRels.html#ofs">ofs</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6688')">Proof.</div>
<div class="proofscript" id="proof6688">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.valid_pointer">Memory.Mem.valid_pointer</a></span>, <span class="id"><a href="FMemory.html#Mem.valid_pointer">FMemory.Mem.valid_pointer</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.perm_dec">Memory.Mem.perm_dec</a></span>, <span class="id"><a href="FMemory.html#Mem.perm_dec">FMemory.Mem.perm_dec</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Memory.Mem.perm_order</span>'<span class="id">_dec</span>.<br/>
&nbsp;&nbsp;<span class="id">fold</span> (<span class="id"><a href="Memory.html#Mem.perm">Memory.Mem.perm</a></span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id"><a href="Memtype.html#Cur">Memtype.Cur</a></span> <span class="id"><a href="Memtype.html#Nonempty">Memtype.Nonempty</a></span>) <span class="kwd">in</span> <span class="id">p</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- <span class="id"><a href="Localize.html#mem_related_mem_perm_eq">mem_related_mem_perm_eq</a></span> <span class="kwd">in</span> <span class="id">p</span>; <span class="tactic">eauto</span>; <span class="tactic">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span>, <span class="id"><a href="FMemory.html#strip">FMemory.strip</a></span> <span class="kwd">in</span> <span class="id">p</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">destruct</span> <span class="id">FMemory.Mem.perm_order</span>'<span class="id">_dec</span>; <span class="tactic">auto</span>; <span class="id">exfalso</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">fold</span> (<span class="id"><a href="Memory.html#Mem.perm">Memory.Mem.perm</a></span> <span class="id">m</span> <span class="id">b</span> <span class="id">ofs</span> <span class="id"><a href="Memtype.html#Cur">Memtype.Cur</a></span> <span class="id"><a href="Memtype.html#Nonempty">Memtype.Nonempty</a></span>) <span class="kwd">in</span> <span class="id">n</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- <span class="id"><a href="Localize.html#mem_related_mem_perm_eq">mem_related_mem_perm_eq</a></span> <span class="kwd">in</span> <span class="id">n</span>; <span class="tactic">eauto</span>; <span class="tactic">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="GMemory.html#GMem.perm">GMem.perm</a></span>, <span class="id"><a href="FMemory.html#strip">FMemory.strip</a></span> <span class="kwd">in</span> <span class="id">n</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">destruct</span> <span class="id">FMemory.Mem.perm_order</span>'<span class="id">_dec</span>; <span class="tactic">auto</span>; <span class="id">exfalso</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="cmpu_bool_related">cmpu_bool_related</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">bound</span> <span class="id">fl</span> <span class="id">m</span> <span class="id">m</span>' <span class="id">v1</span> <span class="id">v2</span> <span class="id">v1</span>' <span class="id">v2</span>' <span class="id">c</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemAux.html#norep">norep</a></span> <span class="id"><a href="ValRels.html#fl">fl</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="MemAux.html#no_overlap">no_overlap</a></span> <span class="id"><a href="ValRels.html#fl">fl</a></span> (<span class="kwd">fun</span> <span class="id">b</span> : <span class="id"><a href="Values.html#block">block</a></span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="ValRels.html#b">b</a></span> <span class="id"><a href="ValRels.html#bound">bound</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Blockset.html#Bset.inject">Bset.inject</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> (<span class="kwd">fun</span> <span class="id">b</span> : <span class="id"><a href="Values.html#block">block</a></span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="ValRels.html#b">b</a></span> <span class="id"><a href="ValRels.html#bound">bound</a></span>) (<span class="kwd">fun</span> <span class="id">b</span> : <span class="id"><a href="Values.html#block">block</a></span> =&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="ValRels.html#b">b</a></span> <span class="id"><a href="ValRels.html#bound">bound</a></span>) -&gt; <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Localize.html#mem_related">mem_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#bound">bound</a></span> <span class="id"><a href="ValRels.html#fl">fl</a></span> (<span class="id"><a href="FMemory.html#strip">FMemory.strip</a></span> <span class="id">m</span>') <span class="id"><a href="ValRels.html#m">m</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ValRels.html#val_related">val_related</a></span> (<span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#bound">bound</a></span> <span class="id"><a href="ValRels.html#fl">fl</a></span>) <span class="id"><a href="ValRels.html#v1">v1</a></span> <span class="id">v1</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ValRels.html#val_related">val_related</a></span> (<span class="id"><a href="Localize.html#construct_inj">construct_inj</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#bound">bound</a></span> <span class="id"><a href="ValRels.html#fl">fl</a></span>) <span class="id"><a href="ValRels.html#v2">v2</a></span> <span class="id">v2</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Coqlib.html#option_rel">option_rel</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> (<span class="id"><a href="Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span> (<span class="id"><a href="Memory.html#Mem.valid_pointer">Memory.Mem.valid_pointer</a></span> <span class="id"><a href="ValRels.html#m">m</a></span>) <span class="id"><a href="ValRels.html#c">c</a></span> <span class="id"><a href="ValRels.html#v1">v1</a></span> <span class="id"><a href="ValRels.html#v2">v2</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Values.html#Val.cmpu_bool">Val.cmpu_bool</a></span> (<span class="id"><a href="FMemory.html#Mem.valid_pointer">FMemory.Mem.valid_pointer</a></span> <span class="id">m</span>') <span class="id"><a href="ValRels.html#c">c</a></span> <span class="id">v1</span>' <span class="id">v2</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6689')">Proof.</div>
<div class="proofscript" id="proof6689">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">pose</span> <span class="id">proof</span> (<span class="id"><a href="Localize.html#construct_inj_injective">construct_inj_injective</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">H</span> <span class="id">H0</span> <span class="id">H1</span>).<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H3</span>; <span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">simpl</span>; <span class="tactic">try</span> <span class="tactic">destruct</span> <span class="id"><a href="Archi.html#ptr64">Archi.ptr64</a></span>; <span class="tactic">try</span> <span class="id">constructor</span>; <span class="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="id">erewrite</span> <span class="id"><a href="ValRels.html#valid_pointer_related">valid_pointer_related</a></span>; <span class="tactic">eauto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> |- <span class="id">context</span>[<span class="kwd">match</span> ?<span class="id">x</span> <span class="kwd">with</span> <span class="id">_</span> =&gt; <span class="id">_</span> <span class="kwd">end</span>] =&gt; <span class="tactic">destruct</span> <span class="id">x</span> <span class="id">eqn</span>:?<span class="id">Hx</span> <span class="kwd">end</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">try</span> <span class="tactic">congruence</span>; <span class="tactic">destruct</span> <span class="id">c</span>; <span class="tactic">simpl</span>; <span class="tactic">try</span> <span class="id">constructor</span>; <span class="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span>; <span class="id">exfalso</span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="cmplu_bool_related">cmplu_bool_related</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">j</span> <span class="id">valid_pointer</span> <span class="id">v1</span> <span class="id">v1</span>' <span class="id">v2</span> <span class="id">v2</span>' <span class="id">c</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ValRels.html#val_related">val_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#v1">v1</a></span> <span class="id">v1</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="ValRels.html#val_related">val_related</a></span> <span class="id"><a href="ValRels.html#j">j</a></span> <span class="id"><a href="ValRels.html#v2">v2</a></span> <span class="id">v2</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Coqlib.html#option_rel">option_rel</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> (<span class="id"><a href="Values.html#Val.cmplu_bool">Val.cmplu_bool</a></span> <span class="id"><a href="ValRels.html#valid_pointer">valid_pointer</a></span> <span class="id"><a href="ValRels.html#c">c</a></span> <span class="id"><a href="ValRels.html#v1">v1</a></span> <span class="id"><a href="ValRels.html#v2">v2</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Values.html#Val.cmplu_bool">Val.cmplu_bool</a></span> <span class="id"><a href="ValRels.html#valid_pointer">valid_pointer</a></span> <span class="id"><a href="ValRels.html#c">c</a></span> <span class="id">v1</span>' <span class="id">v2</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6690')">Proof.</div>
<div class="proofscript" id="proof6690">
 <span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>; <span class="id">inv</span> <span class="id">H0</span>; <span class="tactic">destruct</span> <span class="id">c</span>; <span class="tactic">simpl</span>; <span class="id">constructor</span>; <span class="tactic">auto</span>. Qed.</div>
<br/>
<br/>
<span class="kwd">Hint</span> <span class="kwd">Resolve</span>  <span class="id">alloc_related</span> <span class="id">alloc_result_related</span> <span class="id">free_related</span>.<br/>
</div>
<div class="footer"><hr/>Generated by coq2html</div>
</body>
</html>
