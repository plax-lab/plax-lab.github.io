<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module FMemAux</title>
<meta name="description" content="Documentation of Coq module FMemAux" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module FMemAux</h1>
<div class="coq">
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Coqlib.html">Coqlib</a></span> <span class="id"><a href="Values.html">Values</a></span> <span class="id"><a href="Footprint.html">Footprint</a></span> <span class="id"><a href="FMemory.html">FMemory</a></span>.<br/>
<br/>
<h2> Here we define freshblocks function for FMemory </h2>
<span class="kwd">Fixpoint</span> <span class="id"><a name="diff">diff</a></span> {<span class="id">A</span>: <span class="kwd">Type</span>} (<span class="id">eq_dec</span>: <span class="kwd">forall</span> <span class="id">x</span> <span class="id">y</span>: <span class="id"><a href="FMemAux.html#A">A</a></span>, {<span class="id"><a href="FMemAux.html#x">x</a></span> = <span class="id"><a href="FMemAux.html#y">y</a></span>} + {<span class="id"><a href="FMemAux.html#x">x</a></span> &lt;&gt; <span class="id"><a href="FMemAux.html#y">y</a></span>}) (<span class="id">l</span> <span class="id">l</span>' : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="FMemAux.html#A">A</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="FMemAux.html#A">A</a></span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="FMemAux.html#l">l</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id">l</span>'<br/>
&nbsp;&nbsp;| <span class="id">v</span> :: <span class="id">l</span> =&gt; <span class="id"><a href="FMemAux.html#diff">diff</a></span> <span class="id"><a href="FMemAux.html#eq_dec">eq_dec</a></span> <span class="id"><a href="FMemAux.html#l">l</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#remove">remove</a></span> <span class="id"><a href="FMemAux.html#eq_dec">eq_dec</a></span> <span class="id">v</span> <span class="id">l</span>')<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="remove_subset">remove_subset</a></span> :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">A</span> <span class="id">eq_dec</span> (<span class="id">x</span> <span class="id">x</span>': <span class="id"><a href="FMemAux.html#A">A</a></span>) <span class="id">l</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">x</span>' (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#remove">remove</a></span> <span class="id"><a href="FMemAux.html#eq_dec">eq_dec</a></span> <span class="id"><a href="FMemAux.html#x">x</a></span> <span class="id"><a href="FMemAux.html#l">l</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">x</span>' <span class="id"><a href="FMemAux.html#l">l</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6468')">Proof.</div>
<div class="proofscript" id="proof6468">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">l</span>; <span class="tactic">simpl</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">eq_dec</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">destruct</span> 1; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id">remove_In</span>':<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">A</span> <span class="id">eq_dec</span> (<span class="id">x</span> <span class="id">x</span>': <span class="id"><a href="FMemAux.html#A">A</a></span>) <span class="id">l</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">x</span>' <span class="id"><a href="FMemAux.html#l">l</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">x</span>' &lt;&gt; <span class="id"><a href="FMemAux.html#x">x</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">x</span>' (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#remove">remove</a></span> <span class="id"><a href="FMemAux.html#eq_dec">eq_dec</a></span> <span class="id"><a href="FMemAux.html#x">x</a></span> <span class="id"><a href="FMemAux.html#l">l</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6469')">Proof.</div>
<div class="proofscript" id="proof6469">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">l</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">eq_dec</span>, <span class="id">H</span>; <span class="tactic">subst</span>; <span class="tactic">simpl</span>; <span class="tactic">try</span> <span class="tactic">congruence</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
&nbsp;&nbsp;<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="diff_spec">diff_spec</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">A</span> <span class="id">eq_dec</span> <span class="id">l</span> <span class="id">l</span>' <span class="id">x</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="FMemAux.html#x">x</a></span> (@<span class="id"><a href="FMemAux.html#diff">diff</a></span> <span class="id"><a href="FMemAux.html#A">A</a></span> <span class="id"><a href="FMemAux.html#eq_dec">eq_dec</a></span> <span class="id"><a href="FMemAux.html#l">l</a></span> <span class="id">l</span>') &lt;-&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;~ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="FMemAux.html#x">x</a></span> <span class="id"><a href="FMemAux.html#l">l</a></span> /\ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="FMemAux.html#x">x</a></span> <span class="id">l</span>' .<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6470')">Proof.</div>
<div class="proofscript" id="proof6470">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">l</span>; <span class="tactic">simpl</span>. <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id">IHl</span>. <span class="tactic">clear</span> <span class="id">IHl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">intros</span> [<span class="id">LEFT</span> <span class="id">RIGHT</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; [<span class="tactic">intro</span> | <span class="tactic">eapply</span> <span class="id"><a href="FMemAux.html#remove_subset">remove_subset</a></span>; <span class="tactic">eauto</span> ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">H</span>; [<span class="tactic">subst</span> | <span class="tactic">congruence</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#remove_In">remove_In</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">intros</span> [<span class="id">LEFT</span> <span class="id">RIGHT</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; [<span class="tactic">intro</span>; <span class="tactic">apply</span> <span class="id">LEFT</span>; <span class="tactic">auto</span> | ].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">eq_dec</span> <span class="id">a</span> <span class="id">x</span>); <span class="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exfalso</span>; <span class="tactic">apply</span> <span class="id">LEFT</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">remove_In</span>'; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="fresh_blocks_func">fresh_blocks_func</a></span> (<span class="id">m</span> <span class="id">m</span>': <span class="id"><a href="FMemory.html#mem">mem</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Values.html#block">block</a></span> :=<br/>
&nbsp;&nbsp;<span class="id"><a href="FMemAux.html#diff">diff</a></span> <span class="id"><a href="Values.html#eq_block">eq_block</a></span> (<span class="id"><a href="FMemory.html#Mem.validblocks">Mem.validblocks</a></span> <span class="id"><a href="FMemAux.html#m">m</a></span>) (<span class="id"><a href="FMemory.html#Mem.validblocks">Mem.validblocks</a></span> <span class="id">m</span>').<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="fresh_blocks">fresh_blocks</a></span> (<span class="id">m</span> <span class="id">m</span>': <span class="id"><a href="FMemory.html#mem">mem</a></span>) : <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#list">list</a></span> <span class="id"><a href="Values.html#block">block</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="id"><a name="Fresh_blocks">Fresh_blocks</a></span> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">bl</span>, (<span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="FMemAux.html#b">b</a></span> <span class="id"><a href="FMemAux.html#bl">bl</a></span> &lt;-&gt; ~ <span class="id"><a href="FMemory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id">m</span> <span class="id"><a href="FMemAux.html#b">b</a></span> /\ <span class="id"><a href="FMemory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id">m</span>' <span class="id"><a href="FMemAux.html#b">b</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemAux.html#fresh_blocks">fresh_blocks</a></span> <span class="id">m</span> <span class="id">m</span>' <span class="id"><a href="FMemAux.html#bl">bl</a></span>.<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="fresh_blocks_func_spec1">fresh_blocks_func_spec1</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">m</span>' <span class="id">bl</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemAux.html#fresh_blocks_func">fresh_blocks_func</a></span> <span class="id"><a href="FMemAux.html#m">m</a></span> <span class="id">m</span>' = <span class="id"><a href="FMemAux.html#bl">bl</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemAux.html#fresh_blocks">fresh_blocks</a></span> <span class="id"><a href="FMemAux.html#m">m</a></span> <span class="id">m</span>' <span class="id"><a href="FMemAux.html#bl">bl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6471')">Proof.</div>
<div class="proofscript" id="proof6471">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemAux.html#fresh_blocks_func">fresh_blocks_func</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>; <span class="tactic">unfold</span> <span class="id"><a href="FMemory.html#Mem.valid_block">Mem.valid_block</a></span>. <span class="tactic">destruct</span> <span class="id">m</span>, <span class="id">m</span>'; <span class="tactic">subst</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="FMemAux.html#diff_spec">diff_spec</a></span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="fresh_blocks_func_spec2">fresh_blocks_func_spec2</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">m</span>' <span class="id">b</span> <span class="id">bl</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;~ <span class="id"><a href="FMemory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id"><a href="FMemAux.html#m">m</a></span> <span class="id"><a href="FMemAux.html#b">b</a></span> /\ <span class="id"><a href="FMemory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id">m</span>' <span class="id"><a href="FMemAux.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemAux.html#fresh_blocks_func">fresh_blocks_func</a></span> <span class="id"><a href="FMemAux.html#m">m</a></span> <span class="id">m</span>' = <span class="id"><a href="FMemAux.html#bl">bl</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="FMemAux.html#b">b</a></span> <span class="id"><a href="FMemAux.html#bl">bl</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6472')">Proof.</div>
<div class="proofscript" id="proof6472">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemAux.html#fresh_blocks_func">fresh_blocks_func</a></span>, <span class="id"><a href="FMemory.html#Mem.valid_block">Mem.valid_block</a></span>. <span class="tactic">destruct</span> <span class="id">m</span>, <span class="id">m</span>'; <span class="tactic">subst</span>; <span class="tactic">simpl</span>; <span class="tactic">clear</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">subst</span>. <span class="tactic">apply</span> <span class="id"><a href="FMemAux.html#diff_spec">diff_spec</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="fresh_blocks_func_spec3">fresh_blocks_func_spec3</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">m</span> <span class="id">m</span>' <span class="id">b</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="FMemAux.html#b">b</a></span> (<span class="id"><a href="FMemAux.html#fresh_blocks_func">fresh_blocks_func</a></span> <span class="id"><a href="FMemAux.html#m">m</a></span> <span class="id">m</span>') -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;~ <span class="id"><a href="FMemory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id"><a href="FMemAux.html#m">m</a></span> <span class="id"><a href="FMemAux.html#b">b</a></span> /\ <span class="id"><a href="FMemory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id">m</span>' <span class="id"><a href="FMemAux.html#b">b</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6473')">Proof.</div>
<div class="proofscript" id="proof6473">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="FMemAux.html#fresh_blocks_func">fresh_blocks_func</a></span>, <span class="id"><a href="FMemory.html#Mem.valid_block">Mem.valid_block</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">m</span>, <span class="id">m</span>'; <span class="tactic">subst</span>; <span class="tactic">simpl</span>; <span class="tactic">clear</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="FMemAux.html#diff_spec">diff_spec</a></span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<h2> Here the <span class="bracket"><span class="id">step2</span></span> relation is replaced with <span class="bracket"><span class="id">Fstep2</span></span> </h2>
<div class="doc">To adapt the original CompCert proof, we define <span class="bracket"><span class="id">star</span></span> relation for <span class="bracket"><span class="id">Fstep2</span></span> </div>
<div class="doc">Move to another file </div>
<span class="kwd">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="footprint">footprint</a></span> := <span class="id"><a href="Footprint.html#FP.t">FP.t</a></span>.<br/>
<span class="kwd">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="empfp">empfp</a></span> := <span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>.<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="star">star</a></span> {<span class="id">genv</span> <span class="id">state</span>: <span class="kwd">Type</span>} (<span class="id">step</span>: <span class="id"><a href="FMemAux.html#genv">genv</a></span> -&gt; <span class="id"><a href="FMemAux.html#state">state</a></span> -&gt; <span class="id"><a href="FMemory.html#mem">mem</a></span> -&gt; <span class="id"><a href="FMemAux.html#footprint">footprint</a></span> -&gt; <span class="id"><a href="FMemAux.html#state">state</a></span> -&gt; <span class="id"><a href="FMemory.html#mem">mem</a></span> -&gt; <span class="kwd">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">ge</span> : <span class="id"><a href="FMemAux.html#genv">genv</a></span>) : <span class="id">state</span> -&gt; <span class="id"><a href="FMemory.html#mem">mem</a></span> -&gt; <span class="id"><a href="FMemAux.html#footprint">footprint</a></span> -&gt; <span class="id">state</span> -&gt; <span class="id"><a href="FMemory.html#mem">mem</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
| <span class="id"><a name="star_refl">star_refl</a></span> : <span class="kwd">forall</span> <span class="id">s</span> <span class="id">m</span>, <span class="id"><a href="FMemAux.html#star">star</a></span> <span class="id">step</span> <span class="id">ge</span> <span class="id"><a href="FMemAux.html#s">s</a></span> <span class="id"><a href="FMemAux.html#m">m</a></span> <span class="id"><a href="FMemAux.html#empfp">empfp</a></span> <span class="id"><a href="FMemAux.html#s">s</a></span> <span class="id"><a href="FMemAux.html#m">m</a></span><br/>
| <span class="id"><a name="star_step">star_step</a></span> : <span class="kwd">forall</span> <span class="id">s1</span> <span class="id">m1</span> <span class="id">fp1</span> <span class="id">s2</span> <span class="id">m2</span> <span class="id">fp2</span> <span class="id">s3</span> <span class="id">m3</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">step</span> <span class="id">ge</span> <span class="id"><a href="FMemAux.html#s1">s1</a></span> <span class="id"><a href="FMemAux.html#m1">m1</a></span> <span class="id"><a href="FMemAux.html#fp1">fp1</a></span> <span class="id"><a href="FMemAux.html#s2">s2</a></span> <span class="id"><a href="FMemAux.html#m2">m2</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemAux.html#star">star</a></span> <span class="id">step</span> <span class="id">ge</span> <span class="id"><a href="FMemAux.html#s2">s2</a></span> <span class="id"><a href="FMemAux.html#m2">m2</a></span> <span class="id"><a href="FMemAux.html#fp2">fp2</a></span> <span class="id"><a href="FMemAux.html#s3">s3</a></span> <span class="id"><a href="FMemAux.html#m3">m3</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="FMemAux.html#star">star</a></span> <span class="id">step</span> <span class="id">ge</span> <span class="id"><a href="FMemAux.html#s1">s1</a></span> <span class="id"><a href="FMemAux.html#m1">m1</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="FMemAux.html#fp1">fp1</a></span> <span class="id"><a href="FMemAux.html#fp2">fp2</a></span>) <span class="id"><a href="FMemAux.html#s3">s3</a></span> <span class="id"><a href="FMemAux.html#m3">m3</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="star_one">star_one</a></span> {<span class="id">genv</span> <span class="id">state</span>: <span class="kwd">Type</span>} (<span class="id">step</span>: <span class="id"><a href="FMemAux.html#genv">genv</a></span> -&gt; <span class="id"><a href="FMemAux.html#state">state</a></span> -&gt; <span class="id"><a href="FMemory.html#mem">mem</a></span> -&gt; <span class="id"><a href="FMemAux.html#footprint">footprint</a></span> -&gt; <span class="id"><a href="FMemAux.html#state">state</a></span> -&gt; <span class="id"><a href="FMemory.html#mem">mem</a></span> -&gt; <span class="kwd">Prop</span>) :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">s1</span> <span class="id">m1</span> <span class="id">fp</span> <span class="id">m2</span> <span class="id">s2</span>, <span class="id"><a href="FMemAux.html#step">step</a></span> <span class="id"><a href="FMemAux.html#ge">ge</a></span> <span class="id"><a href="FMemAux.html#s1">s1</a></span> <span class="id"><a href="FMemAux.html#m1">m1</a></span> <span class="id"><a href="FMemAux.html#fp">fp</a></span> <span class="id"><a href="FMemAux.html#s2">s2</a></span> <span class="id"><a href="FMemAux.html#m2">m2</a></span> -&gt; <span class="id"><a href="FMemAux.html#star">star</a></span> <span class="id"><a href="FMemAux.html#step">step</a></span> <span class="id"><a href="FMemAux.html#ge">ge</a></span> <span class="id"><a href="FMemAux.html#s1">s1</a></span> <span class="id"><a href="FMemAux.html#m1">m1</a></span> <span class="id"><a href="FMemAux.html#fp">fp</a></span> <span class="id"><a href="FMemAux.html#s2">s2</a></span> <span class="id"><a href="FMemAux.html#m2">m2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6474')">Proof.</div>
<div class="proofscript" id="proof6474">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span> <span class="id">fp</span>). <span class="tactic">eapply</span> <span class="id"><a href="FMemAux.html#star_step">star_step</a></span>; <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id"><a href="FMemAux.html#star_refl">star_refl</a></span>. <br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="star_trans">star_trans</a></span> {<span class="id">genv</span> <span class="id">state</span>: <span class="kwd">Type</span>} (<span class="id">step</span>: <span class="id"><a href="FMemAux.html#genv">genv</a></span> -&gt; <span class="id"><a href="FMemAux.html#state">state</a></span> -&gt; <span class="id"><a href="FMemory.html#mem">mem</a></span> -&gt; <span class="id"><a href="FMemAux.html#footprint">footprint</a></span> -&gt; <span class="id"><a href="FMemAux.html#state">state</a></span> -&gt; <span class="id"><a href="FMemory.html#mem">mem</a></span> -&gt; <span class="kwd">Prop</span>) :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">s1</span> <span class="id">m1</span> <span class="id">fp1</span> <span class="id">s2</span> <span class="id">m2</span>, <span class="id"><a href="FMemAux.html#star">star</a></span> <span class="id"><a href="FMemAux.html#step">step</a></span> <span class="id"><a href="FMemAux.html#ge">ge</a></span> <span class="id"><a href="FMemAux.html#s1">s1</a></span> <span class="id"><a href="FMemAux.html#m1">m1</a></span> <span class="id"><a href="FMemAux.html#fp1">fp1</a></span> <span class="id"><a href="FMemAux.html#s2">s2</a></span> <span class="id"><a href="FMemAux.html#m2">m2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">fp2</span> <span class="id">s3</span> <span class="id">m3</span> <span class="id">fp</span>, <span class="id"><a href="FMemAux.html#star">star</a></span> <span class="id"><a href="FMemAux.html#step">step</a></span> <span class="id"><a href="FMemAux.html#ge">ge</a></span> <span class="id"><a href="FMemAux.html#s2">s2</a></span> <span class="id"><a href="FMemAux.html#m2">m2</a></span> <span class="id"><a href="FMemAux.html#fp2">fp2</a></span> <span class="id"><a href="FMemAux.html#s3">s3</a></span> <span class="id"><a href="FMemAux.html#m3">m3</a></span> -&gt; <span class="id"><a href="FMemAux.html#fp">fp</a></span> = <span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="FMemAux.html#fp1">fp1</a></span> <span class="id"><a href="FMemAux.html#fp2">fp2</a></span> -&gt; <span class="id"><a href="FMemAux.html#star">star</a></span> <span class="id"><a href="FMemAux.html#step">step</a></span> <span class="id"><a href="FMemAux.html#ge">ge</a></span> <span class="id"><a href="FMemAux.html#s1">s1</a></span> <span class="id"><a href="FMemAux.html#m1">m1</a></span> <span class="id"><a href="FMemAux.html#fp">fp</a></span> <span class="id"><a href="FMemAux.html#s3">s3</a></span> <span class="id"><a href="FMemAux.html#m3">m3</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6475')">Proof.</div>
<div class="proofscript" id="proof6475">
&nbsp;&nbsp;<span class="tactic">induction</span> 1; <span class="tactic">intros</span>; <span class="tactic">subst</span> <span class="id">fp</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.emp_union_fp">FP.emp_union_fp</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id"><a href="Footprint.html#FP.fp_union_assoc">FP.fp_union_assoc</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="FMemAux.html#star_step">star_step</a></span>; <span class="tactic">eauto</span>. <br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="star_left">star_left</a></span> {<span class="id">genv</span> <span class="id">state</span>: <span class="kwd">Type</span>} (<span class="id">step</span>: <span class="id"><a href="FMemAux.html#genv">genv</a></span> -&gt; <span class="id"><a href="FMemAux.html#state">state</a></span> -&gt; <span class="id"><a href="FMemory.html#mem">mem</a></span> -&gt; <span class="id"><a href="FMemAux.html#footprint">footprint</a></span> -&gt; <span class="id"><a href="FMemAux.html#state">state</a></span> -&gt; <span class="id"><a href="FMemory.html#mem">mem</a></span> -&gt; <span class="kwd">Prop</span>) :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">s1</span> <span class="id">m1</span> <span class="id">fp1</span> <span class="id">s2</span> <span class="id">m2</span> <span class="id">fp2</span> <span class="id">s3</span> <span class="id">m3</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="FMemAux.html#step">step</a></span> <span class="id"><a href="FMemAux.html#ge">ge</a></span> <span class="id"><a href="FMemAux.html#s1">s1</a></span> <span class="id"><a href="FMemAux.html#m1">m1</a></span> <span class="id"><a href="FMemAux.html#fp1">fp1</a></span> <span class="id"><a href="FMemAux.html#s2">s2</a></span> <span class="id"><a href="FMemAux.html#m2">m2</a></span> -&gt; <span class="id"><a href="FMemAux.html#star">star</a></span> <span class="id"><a href="FMemAux.html#step">step</a></span> <span class="id"><a href="FMemAux.html#ge">ge</a></span> <span class="id"><a href="FMemAux.html#s2">s2</a></span> <span class="id"><a href="FMemAux.html#m2">m2</a></span> <span class="id"><a href="FMemAux.html#fp2">fp2</a></span> <span class="id"><a href="FMemAux.html#s3">s3</a></span> <span class="id"><a href="FMemAux.html#m3">m3</a></span> -&gt; <span class="id"><a href="FMemAux.html#fp">fp</a></span> = <span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="FMemAux.html#fp1">fp1</a></span> <span class="id"><a href="FMemAux.html#fp2">fp2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="FMemAux.html#star">star</a></span> <span class="id"><a href="FMemAux.html#step">step</a></span> <span class="id"><a href="FMemAux.html#ge">ge</a></span> <span class="id"><a href="FMemAux.html#s1">s1</a></span> <span class="id"><a href="FMemAux.html#m1">m1</a></span> <span class="id"><a href="FMemAux.html#fp">fp</a></span> <span class="id"><a href="FMemAux.html#s3">s3</a></span> <span class="id"><a href="FMemAux.html#m3">m3</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6476')">Proof.</div>
<div class="proofscript" id="proof6476">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">subst</span>. <span class="tactic">eapply</span> <span class="id"><a href="FMemAux.html#star_step">star_step</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="star_right">star_right</a></span> {<span class="id">genv</span> <span class="id">state</span>: <span class="kwd">Type</span>} (<span class="id">step</span>: <span class="id"><a href="FMemAux.html#genv">genv</a></span> -&gt; <span class="id"><a href="FMemAux.html#state">state</a></span> -&gt; <span class="id"><a href="FMemory.html#mem">mem</a></span> -&gt; <span class="id"><a href="FMemAux.html#footprint">footprint</a></span> -&gt; <span class="id"><a href="FMemAux.html#state">state</a></span> -&gt; <span class="id"><a href="FMemory.html#mem">mem</a></span> -&gt; <span class="kwd">Prop</span>) :<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ge</span> <span class="id">s1</span> <span class="id">m1</span> <span class="id">fp1</span> <span class="id">s2</span> <span class="id">m2</span> <span class="id">fp2</span> <span class="id">s3</span> <span class="id">m3</span> <span class="id">fp</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="FMemAux.html#star">star</a></span> <span class="id"><a href="FMemAux.html#step">step</a></span> <span class="id"><a href="FMemAux.html#ge">ge</a></span> <span class="id"><a href="FMemAux.html#s1">s1</a></span> <span class="id"><a href="FMemAux.html#m1">m1</a></span> <span class="id"><a href="FMemAux.html#fp1">fp1</a></span> <span class="id"><a href="FMemAux.html#s2">s2</a></span> <span class="id"><a href="FMemAux.html#m2">m2</a></span> -&gt; <span class="id"><a href="FMemAux.html#step">step</a></span> <span class="id"><a href="FMemAux.html#ge">ge</a></span> <span class="id"><a href="FMemAux.html#s2">s2</a></span> <span class="id"><a href="FMemAux.html#m2">m2</a></span> <span class="id"><a href="FMemAux.html#fp2">fp2</a></span> <span class="id"><a href="FMemAux.html#s3">s3</a></span> <span class="id"><a href="FMemAux.html#m3">m3</a></span> -&gt; <span class="id"><a href="FMemAux.html#fp">fp</a></span> = <span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="FMemAux.html#fp1">fp1</a></span> <span class="id"><a href="FMemAux.html#fp2">fp2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="FMemAux.html#star">star</a></span> <span class="id"><a href="FMemAux.html#step">step</a></span> <span class="id"><a href="FMemAux.html#ge">ge</a></span> <span class="id"><a href="FMemAux.html#s1">s1</a></span> <span class="id"><a href="FMemAux.html#m1">m1</a></span> <span class="id"><a href="FMemAux.html#fp">fp</a></span> <span class="id"><a href="FMemAux.html#s3">s3</a></span> <span class="id"><a href="FMemAux.html#m3">m3</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof6477')">Proof.</div>
<div class="proofscript" id="proof6477">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">subst</span>. <span class="tactic">eapply</span> <span class="id"><a href="FMemAux.html#star_trans">star_trans</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span> <span class="id">fp2</span>).<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="FMemAux.html#star_step">star_step</a></span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>.<br/>
Qed.</div>
</div>
<div class="footer"><hr/>Generated by coq2html</div>
</body>
</html>
