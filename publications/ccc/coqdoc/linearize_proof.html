<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Module linearize_proof</title>
<meta name="description" content="Documentation of Coq module linearize_proof" />
<link href="coq2html.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="coq2html.js"> </script>
</head>

<body onload="hideAll('proofscript')">
<h1 class="title">Module linearize_proof</h1>
<div class="coq">
<br/>
<br/>
<div class="doc">Correctness proof for code linearization </div>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.FSets.FSets.html">FSets</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Coqlib.html">Coqlib</a></span> <span class="id"><a href="Maps.html">Maps</a></span> <span class="id"><a href="Ordered.html">Ordered</a></span> <span class="id"><a href="Errors.html">Errors</a></span> <span class="id"><a href="Lattice.html">Lattice</a></span> <span class="id"><a href="Kildall.html">Kildall</a></span> <span class="id"><a href="Integers.html">Integers</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="AST.html">AST</a></span> <span class="id"><a href="Linking.html">Linking</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Values.html">Values</a></span> <span class="id"><a href="Memory.html">Memory</a></span> <span class="id"><a href="Events.html">Events</a></span> <span class="id"><a href="Globalenvs.html">Globalenvs</a></span> <span class="id"><a href="Smallstep.html">Smallstep</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="Op.html">Op</a></span> <span class="id"><a href="Locations.html">Locations</a></span> <span class="id"><a href="LTL.html">LTL</a></span> <span class="id"><a href="Linear.html">Linear</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id">Linearize</span>.<br/>
<br/>
<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="CUAST.html">CUAST</a></span> <span class="id"><a href="Footprint.html">Footprint</a></span> <span class="id"><a href="Blockset.html">Blockset</a></span> <span class="id"><a href="LDSimDefs_local.html">LDSimDefs_local</a></span> <span class="id"><a href="LDSim_local.html">LDSim_local</a></span>.<br/>
<span class="kwd">Require</span> <span class="kwd">Import</span> <span class="id"><a href="InteractionSemantics.html">InteractionSemantics</a></span> <span class="id"><a href="IS_local.html">IS_local</a></span> <span class="id"><a href="val_casted.html">val_casted</a></span> <span class="id"><a href="InjRels.html">InjRels</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Op_fp.html">Op_fp</a></span> <span class="id"><a href="LTL_local.html">LTL_local</a></span> <span class="id"><a href="Linear_local.html">Linear_local</a></span> <span class="id"><a href="linearize.html">linearize</a></span>.<br/>
<br/>
<span class="kwd">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="empfp">empfp</a></span>:=<span class="id"><a href="Footprint.html#FP.emp">FP.emp</a></span>.<br/>
<span class="kwd">Local</span> <span class="kwd">Notation</span> <span class="id"><a name="footprint">footprint</a></span>:=<span class="id"><a href="Footprint.html#FP.t">FP.t</a></span>.<br/>
<br/>
<span class="kwd">Module</span> <span class="id"><a name="NodesetFacts">NodesetFacts</a></span> := <span class="id"><a href="http://coq.inria.fr/library/Coq.FSets.FSetFacts.html#Facts">FSetFacts.Facts</a></span>(<span class="id">Nodeset</span>).<br/>
<br/>
<br/>
<br/>
<span class="kwd">Definition</span> <span class="id"><a name="match_cu">match_cu</a></span> (<span class="id">scu</span>: <span class="id"><a href="LTL_local.html#LTL_comp_unit">LTL_comp_unit</a></span>) (<span class="id">tcu</span>: <span class="id"><a href="Linear_local.html#Linear_comp_unit">Linear_comp_unit</a></span>) :=<br/>
&nbsp;&nbsp;<span class="id"><a href="CUAST.html#match_comp_unit_gen">match_comp_unit_gen</a></span> (<span class="kwd">fun</span> <span class="id">f</span> <span class="id">tf</span> =&gt; <span class="id">transf_fundef</span> <span class="id"><a href="linearize_proof.html#f">f</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="linearize_proof.html#tf">tf</a></span>) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#eq">eq</a></span> <span class="id"><a href="linearize_proof.html#scu">scu</a></span> <span class="id"><a href="linearize_proof.html#tcu">tcu</a></span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="transf_program_match">transf_program_match</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">scu</span> <span class="id">tcu</span>, <span class="id"><a href="linearize.html#transf_program">transf_program</a></span> <span class="id"><a href="linearize_proof.html#scu">scu</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="linearize_proof.html#tcu">tcu</a></span> -&gt; <span class="id"><a href="linearize_proof.html#match_cu">match_cu</a></span> <span class="id"><a href="linearize_proof.html#scu">scu</a></span> <span class="id"><a href="linearize_proof.html#tcu">tcu</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7483')">Proof.</div>
<div class="proofscript" id="proof7483">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="CUAST.html#match_transform_partial_cunit">match_transform_partial_cunit</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Section</span> <span class="id"><a name="LINEARIZATION">LINEARIZATION</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="LINEARIZATION.scu">scu</a></span>: <span class="id"><a href="LTL_local.html#LTL_comp_unit">LTL_comp_unit</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="LINEARIZATION.tcu">tcu</a></span>: <span class="id"><a href="Linear_local.html#Linear_comp_unit">Linear_comp_unit</a></span>.<br/>
<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="LINEARIZATION.TRANSF">TRANSF</a></span>: <span class="id"><a href="linearize_proof.html#match_cu">match_cu</a></span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.scu">scu</a></span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.tcu">tcu</a></span>.<br/>
<br/>
<span class="kwd">Variable</span> <span class="id"><a name="LINEARIZATION.sge">sge</a></span> <span class="id"><a name="LINEARIZATION.sG">sG</a></span>: <span class="id"><a href="LTL.html#genv">LTL.genv</a></span>.<br/>
<span class="kwd">Variable</span> <span class="id"><a name="LINEARIZATION.tge">tge</a></span> <span class="id"><a name="LINEARIZATION.tG">tG</a></span>: <span class="id"><a href="Linear.html#genv">Linear.genv</a></span>.<br/>
<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="LINEARIZATION.GE_INIT">GE_INIT</a></span>: <span class="id"><a href="LTL_local.html#LTL_IS">LTL_IS</a></span>.(<span class="id"><a href="IS_local.html#init_genv_local">init_genv_local</a></span>) <span class="id"><a href="linearize_proof.html#LINEARIZATION.scu">scu</a></span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.sge">sge</a></span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.sG">sG</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="LINEARIZATION.TGE_INIT">TGE_INIT</a></span>: <span class="id"><a href="Linear_local.html#Linear_IS">Linear_IS</a></span>.(<span class="id"><a href="IS_local.html#init_genv_local">init_genv_local</a></span>) <span class="id"><a href="linearize_proof.html#LINEARIZATION.tcu">tcu</a></span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.tge">tge</a></span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.tG">tG</a></span>.<br/>
<span class="kwd">Hypothesis</span> <span class="id"><a name="LINEARIZATION.S_EQ">S_EQ</a></span>: <span class="id"><a href="linearize_proof.html#LINEARIZATION.sge">sge</a></span>.(<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span>) = <span class="id"><a href="linearize_proof.html#LINEARIZATION.tge">tge</a></span>.(<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="symbols_preserved">symbols_preserved</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> (<span class="id">s</span>: <span class="id"><a href="AST.html#ident">ident</a></span>), <span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.tge">tge</a></span> <span class="id"><a href="linearize_proof.html#s">s</a></span> = <span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.sge">sge</a></span> <span class="id"><a href="linearize_proof.html#s">s</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7484')">Proof.</div>
<div class="proofscript" id="proof7484">
&nbsp;&nbsp;<span class="id">inv</span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.GE_INIT">GE_INIT</a></span>; <span class="id">inv</span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.TGE_INIT">TGE_INIT</a></span>. <span class="id">exploit</span> <span class="id"><a href="CUAST.html#match_cu_match_genv">match_cu_match_genv</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="function_ptr_translated">function_ptr_translated</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">f</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.sge">sge</a></span> <span class="id"><a href="linearize_proof.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="linearize_proof.html#f">f</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">tf</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.tge">tge</a></span> <span class="id"><a href="linearize_proof.html#b">b</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="linearize_proof.html#tf">tf</a></span> /\ <span class="id">transf_fundef</span> <span class="id"><a href="linearize_proof.html#f">f</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="linearize_proof.html#tf">tf</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7485')">Proof.</div>
<div class="proofscript" id="proof7485">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span>, <span class="id"><a href="Globalenvs.html#Genv.find_def">Genv.find_def</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="CUAST.html#match_cu_match_genv">match_cu_match_genv</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.GE_INIT">GE_INIT</a></span>; <span class="tactic">auto</span>. <span class="id">inv</span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.TGE_INIT">TGE_INIT</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> [<span class="id">_</span> <span class="id">_</span> <span class="id">MATCH</span>]. <span class="id">specialize</span> (<span class="id">MATCH</span> <span class="id">b</span>).<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MATCH</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H1</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">H0</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">H</span>. <br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H2</span>. <span class="id">inv</span> <span class="id">H4</span>; <span class="tactic">eauto</span>. <span class="tactic">discriminate</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="functions_translated">functions_translated</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">v</span> <span class="id">f</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.sge">sge</a></span> <span class="id"><a href="linearize_proof.html#v">v</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="linearize_proof.html#f">f</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">tf</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.tge">tge</a></span> <span class="id"><a href="linearize_proof.html#v">v</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="linearize_proof.html#tf">tf</a></span> /\ <span class="id">transf_fundef</span> <span class="id"><a href="linearize_proof.html#f">f</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="linearize_proof.html#tf">tf</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7486')">Proof.</div>
<div class="proofscript" id="proof7486">
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">v</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Integers.html#Ptrofs.eq_dec">Ptrofs.eq_dec</a></span>; [|<span class="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="linearize_proof.html#function_ptr_translated">function_ptr_translated</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="senv_preserved">senv_preserved</a></span>:<br/>
&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Senv.equiv">Senv.equiv</a></span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.sge">sge</a></span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.tge">tge</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7487')">Proof.</div>
<div class="proofscript" id="proof7487">
 <span class="id">inv</span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.GE_INIT">GE_INIT</a></span>. <span class="id">inv</span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.TGE_INIT">TGE_INIT</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="CUAST.html#match_cu_senv_preserved">match_cu_senv_preserved</a></span>; <span class="tactic">eauto</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="sig_preserved">sig_preserved</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">tf</span>,<br/>
&nbsp;&nbsp;<span class="id">transf_fundef</span> <span class="id"><a href="linearize_proof.html#f">f</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="linearize_proof.html#tf">tf</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Linear.html#funsig">Linear.funsig</a></span> <span class="id"><a href="linearize_proof.html#tf">tf</a></span> = <span class="id"><a href="LTL.html#funsig">LTL.funsig</a></span> <span class="id"><a href="linearize_proof.html#f">f</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7488')">Proof.</div>
<div class="proofscript" id="proof7488">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">transf_fundef</span>, <span class="id"><a href="AST.html#transf_partial_fundef">transf_partial_fundef</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">f</span>. <span class="id">monadInv</span> <span class="id">H</span>. <span class="id">monadInv</span> <span class="id">EQ</span>. <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="tactic">reflexivity</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="stacksize_preserved">stacksize_preserved</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">tf</span>,<br/>
&nbsp;&nbsp;<span class="id">transf_function</span> <span class="id"><a href="linearize_proof.html#f">f</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="linearize_proof.html#tf">tf</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Linear.html#fn_stacksize">Linear.fn_stacksize</a></span> <span class="id"><a href="linearize_proof.html#tf">tf</a></span> = <span class="id"><a href="LTL.html#fn_stacksize">LTL.fn_stacksize</a></span> <span class="id"><a href="linearize_proof.html#f">f</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7489')">Proof.</div>
<div class="proofscript" id="proof7489">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">monadInv</span> <span class="id">H</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="ge_match">ge_match</a></span>: <span class="id"><a href="LDSim_local.html#ge_match_strict">ge_match_strict</a></span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.sge">sge</a></span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.tge">tge</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7490')">Proof.</div>
<div class="proofscript" id="proof7490">
 <span class="id">inv</span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.GE_INIT">GE_INIT</a></span>. <span class="id">inv</span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.TGE_INIT">TGE_INIT</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="CUAST.html#match_cu_ge_match_strict">match_cu_ge_match_strict</a></span>; <span class="tactic">eauto</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="find_function_translated">find_function_translated</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ros</span> <span class="id">ls</span> <span class="id">f</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="LTL.html#find_function">LTL.find_function</a></span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.sge">sge</a></span> <span class="id"><a href="linearize_proof.html#ros">ros</a></span> <span class="id"><a href="linearize_proof.html#ls">ls</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="linearize_proof.html#f">f</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">tf</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Linear.html#find_function">find_function</a></span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.tge">tge</a></span> <span class="id"><a href="linearize_proof.html#ros">ros</a></span> <span class="id"><a href="linearize_proof.html#ls">ls</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="linearize_proof.html#tf">tf</a></span> /\ <span class="id">transf_fundef</span> <span class="id"><a href="linearize_proof.html#f">f</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="linearize_proof.html#tf">tf</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7491')">Proof.</div>
<div class="proofscript" id="proof7491">
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="LTL.html#find_function">LTL.find_function</a></span>; <span class="tactic">intros</span>; <span class="tactic">destruct</span> <span class="id">ros</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="linearize_proof.html#functions_translated">functions_translated</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="linearize_proof.html#symbols_preserved">symbols_preserved</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.sge">sge</a></span> <span class="id">i</span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="linearize_proof.html#function_ptr_translated">function_ptr_translated</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<h1> Correctness of reachability analysis </h1>
<br/>
<div class="doc">The entry point of the function is reachable. </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="reachable_entrypoint">reachable_entrypoint</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span>, (<span class="id">reachable</span> <span class="id"><a href="linearize_proof.html#f">f</a></span>)!!(<span class="id"><a href="linearize_proof.html#f">f</a></span>.(<span class="id"><a href="LTL.html#fn_entrypoint">fn_entrypoint</a></span>)) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7492')">Proof.</div>
<div class="proofscript" id="proof7492">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id">reachable</span>.<br/>
&nbsp;&nbsp;<span class="id">caseEq</span> (<span class="id">reachable_aux</span> <span class="id">f</span>).<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">reachable_aux</span>; <span class="tactic">intros</span> <span class="id">reach</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Lattice.html#LBoolean.ge">LBoolean.ge</a></span> <span class="id">reach</span>!!(<span class="id">f</span>.(<span class="id"><a href="LTL.html#fn_entrypoint">fn_entrypoint</a></span>)) <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">DS.fixpoint_entry</span>. <span class="id">eexact</span> <span class="id">A</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Lattice.html#LBoolean.ge">LBoolean.ge</a></span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="Maps.html#PMap.gi">PMap.gi</a></span>.<br/>
Qed.</div>
<br/>
<div class="doc">The successors of a reachable instruction are reachable. </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="reachable_successors">reachable_successors</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">pc</span> <span class="id">pc</span>' <span class="id">b</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="linearize_proof.html#f">f</a></span>.(<span class="id"><a href="LTL.html#fn_code">LTL.fn_code</a></span>)!<span class="id"><a href="linearize_proof.html#pc">pc</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="linearize_proof.html#b">b</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">pc</span>' (<span class="id"><a href="LTL.html#successors_block">successors_block</a></span> <span class="id"><a href="linearize_proof.html#b">b</a></span>) -&gt;<br/>
&nbsp;&nbsp;(<span class="id">reachable</span> <span class="id"><a href="linearize_proof.html#f">f</a></span>)!!<span class="id"><a href="linearize_proof.html#pc">pc</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id">reachable</span> <span class="id"><a href="linearize_proof.html#f">f</a></span>)!!<span class="id">pc</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7493')">Proof.</div>
<div class="proofscript" id="proof7493">
&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">f</span>. <span class="tactic">unfold</span> <span class="id">reachable</span>.<br/>
&nbsp;&nbsp;<span class="id">caseEq</span> (<span class="id">reachable_aux</span> <span class="id">f</span>).<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">reachable_aux</span>. <span class="tactic">intro</span> <span class="id">reach</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="Lattice.html#LBoolean.ge">LBoolean.ge</a></span> <span class="id">reach</span>!!<span class="id">pc</span>' <span class="id">reach</span>!!<span class="id">pc</span>).<br/>
&nbsp;&nbsp;<span class="id">change</span> (<span class="id">reach</span>!!<span class="id">pc</span>) <span class="kwd">with</span> ((<span class="kwd">fun</span> <span class="id">pc</span> <span class="id">r</span> =&gt; <span class="id"><a href="linearize_proof.html#r">r</a></span>) <span class="id">pc</span> (<span class="id">reach</span>!!<span class="id">pc</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id">DS.fixpoint_solution</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span>; <span class="tactic">apply</span> <span class="id">DS.L.eq_refl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">elim</span> <span class="id">H3</span>; <span class="tactic">intro</span>. <span class="tactic">congruence</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id"><a href="Maps.html#PMap.gi">PMap.gi</a></span>.<br/>
Qed.</div>
<br/>
<h1> Properties of node enumeration </h1>
<br/>
<div class="doc">An enumeration of CFG nodes is correct if the following conditions hold:
<ul>
<li>
 All nodes for reachable basic blocks must be in the list.
</li>
<li>
 The list is without repetition (so that no code duplication occurs).
</li>
</ul>
We prove that the result of the <span class="bracket"><span class="id">enumerate</span></span> function satisfies both
conditions. </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="nodeset_of_list_correct">nodeset_of_list_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l</span> <span class="id">s</span> <span class="id">s</span>',<br/>
&nbsp;&nbsp;<span class="id">nodeset_of_list</span> <span class="id"><a href="linearize_proof.html#l">l</a></span> <span class="id"><a href="linearize_proof.html#s">s</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id">s</span>' -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Coqlib.html#list_norepet">list_norepet</a></span> <span class="id"><a href="linearize_proof.html#l">l</a></span><br/>
&nbsp;&nbsp;/\ (<span class="kwd">forall</span> <span class="id">pc</span>, <span class="id">Nodeset.In</span> <span class="id"><a href="linearize_proof.html#pc">pc</a></span> <span class="id">s</span>' &lt;-&gt; <span class="id">Nodeset.In</span> <span class="id"><a href="linearize_proof.html#pc">pc</a></span> <span class="id"><a href="linearize_proof.html#s">s</a></span> \/ <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="linearize_proof.html#pc">pc</a></span> <span class="id"><a href="linearize_proof.html#l">l</a></span>)<br/>
&nbsp;&nbsp;/\ (<span class="kwd">forall</span> <span class="id">pc</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="linearize_proof.html#pc">pc</a></span> <span class="id"><a href="linearize_proof.html#l">l</a></span> -&gt; ~<span class="id">Nodeset.In</span> <span class="id"><a href="linearize_proof.html#pc">pc</a></span> <span class="id"><a href="linearize_proof.html#s">s</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7494')">Proof.</div>
<div class="proofscript" id="proof7494">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">l</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H</span>. <span class="tactic">split</span>. <span class="id">constructor</span>. <span class="tactic">split</span>. <span class="tactic">intro</span>; <span class="tactic">tauto</span>. <span class="tactic">intros</span>; <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id">H</span>; <span class="tactic">clear</span> <span class="id">H</span>; <span class="id">caseEq</span> (<span class="id">Nodeset.mem</span> <span class="id">a</span> <span class="id">s</span>); <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHl</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">A</span> [<span class="id">B</span> <span class="id">C</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">split</span>. <span class="id">constructor</span>; <span class="tactic">auto</span>. <span class="tactic">red</span>; <span class="tactic">intro</span>. <span class="tactic">elim</span> (<span class="id">C</span> <span class="id">a</span> <span class="id">H1</span>). <span class="tactic">apply</span> <span class="id">Nodeset.add_1</span>. <span class="id">hnf</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id">B</span>. <span class="tactic">rewrite</span> <span class="id"><a href="linearize_proof.html#add_iff">NodesetFacts.add_iff</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">Nodeset.E.eq</span>. <span class="tactic">unfold</span> <span class="id"><a href="Ordered.html#OrderedPositive.eq">OrderedPositive.eq</a></span>. <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">H1</span>. <span class="tactic">subst</span> <span class="id">pc</span>. <span class="tactic">rewrite</span> <span class="id"><a href="linearize_proof.html#not_mem_iff">NodesetFacts.not_mem_iff</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id">C</span> <span class="id">pc</span> <span class="id">H1</span>). <span class="tactic">rewrite</span> <span class="id"><a href="linearize_proof.html#add_iff">NodesetFacts.add_iff</a></span>. <span class="tactic">tauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="check_reachable_correct">check_reachable_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">reach</span> <span class="id">s</span> <span class="id">pc</span> <span class="id">i</span>,<br/>
&nbsp;&nbsp;<span class="id">check_reachable</span> <span class="id"><a href="linearize_proof.html#f">f</a></span> <span class="id"><a href="linearize_proof.html#reach">reach</a></span> <span class="id"><a href="linearize_proof.html#s">s</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="linearize_proof.html#f">f</a></span>.(<span class="id"><a href="LTL.html#fn_code">LTL.fn_code</a></span>)!<span class="id"><a href="linearize_proof.html#pc">pc</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="linearize_proof.html#i">i</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="linearize_proof.html#reach">reach</a></span>!!<span class="id"><a href="linearize_proof.html#pc">pc</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">Nodeset.In</span> <span class="id"><a href="linearize_proof.html#pc">pc</a></span> <span class="id"><a href="linearize_proof.html#s">s</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7495')">Proof.</div>
<div class="proofscript" id="proof7495">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">f</span> <span class="id">reach</span> <span class="id">s</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="kwd">forall</span> <span class="id">l</span> <span class="id">ok</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#fold_left">List.fold_left</a></span> (<span class="kwd">fun</span> <span class="id">a</span> <span class="id">p</span> =&gt; <span class="id">check_reachable_aux</span> <span class="id">reach</span> <span class="id">s</span> <span class="id"><a href="linearize_proof.html#a">a</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#fst">fst</a></span> <span class="id"><a href="linearize_proof.html#p">p</a></span>) (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#snd">snd</a></span> <span class="id"><a href="linearize_proof.html#p">p</a></span>)) <span class="id"><a href="linearize_proof.html#l">l</a></span> <span class="id"><a href="linearize_proof.html#ok">ok</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="linearize_proof.html#ok">ok</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> /\<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">pc</span> <span class="id">i</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="linearize_proof.html#pc">pc</a></span>, <span class="id"><a href="linearize_proof.html#i">i</a></span>) <span class="id"><a href="linearize_proof.html#l">l</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">reach</span>!!<span class="id"><a href="linearize_proof.html#pc">pc</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">Nodeset.In</span> <span class="id"><a href="linearize_proof.html#pc">pc</a></span> <span class="id">s</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">l</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">auto</span>. <span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span> <span class="kwd">as</span> [<span class="id">pc1</span> <span class="id">i1</span>]. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">IHl</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">A</span> <span class="id">B</span>].<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">check_reachable_aux</span> <span class="kwd">in</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">destruct</span> (<span class="id">reach</span>!!<span class="id">pc1</span>). <span class="tactic">elim</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb_prop">andb_prop</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span>). <span class="tactic">auto</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">destruct</span> <span class="id">H0</span>. <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">rewrite</span> <span class="id">H1</span> <span class="kwd">in</span> <span class="id">A</span>. <span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#andb_prop">andb_prop</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">A</span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Nodeset.mem_2</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">pc</span> <span class="id">i</span>. <span class="tactic">unfold</span> <span class="id">check_reachable</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Maps.html#PTree.fold_spec">PTree.fold_spec</a></span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">H</span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">A</span> <span class="id">B</span>]. <span class="tactic">eapply</span> <span class="id">B</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Maps.html#PTree.elements_correct">PTree.elements_correct</a></span>. <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="enumerate_complete">enumerate_complete</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">enum</span> <span class="id">pc</span> <span class="id">i</span>,<br/>
&nbsp;&nbsp;<span class="id">enumerate</span> <span class="id"><a href="linearize_proof.html#f">f</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="linearize_proof.html#enum">enum</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="linearize_proof.html#f">f</a></span>.(<span class="id"><a href="LTL.html#fn_code">LTL.fn_code</a></span>)!<span class="id"><a href="linearize_proof.html#pc">pc</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="linearize_proof.html#i">i</a></span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id">reachable</span> <span class="id"><a href="linearize_proof.html#f">f</a></span>)!!<span class="id"><a href="linearize_proof.html#pc">pc</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="linearize_proof.html#pc">pc</a></span> <span class="id"><a href="linearize_proof.html#enum">enum</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7496')">Proof.</div>
<div class="proofscript" id="proof7496">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">i</span>. <span class="tactic">unfold</span> <span class="id">enumerate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">reach</span> := <span class="id">reachable</span> <span class="id">f</span>).<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">monadInv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id">EQ0</span>; <span class="tactic">clear</span> <span class="id">EQ0</span>. <span class="id">caseEq</span> (<span class="id">check_reachable</span> <span class="id">f</span> <span class="id">reach</span> <span class="id">x</span>); <span class="tactic">intros</span>; <span class="id">inv</span> <span class="id">EQ0</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="linearize_proof.html#check_reachable_correct">check_reachable_correct</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="linearize_proof.html#nodeset_of_list_correct">nodeset_of_list_correct</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">A</span> [<span class="id">B</span> <span class="id">C</span>]].<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">B</span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="tactic">destruct</span> <span class="id">H2</span>. <span class="tactic">elim</span> (<span class="id">Nodeset.empty_1</span> <span class="id">H2</span>). <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="enumerate_norepet">enumerate_norepet</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">enum</span>,<br/>
&nbsp;&nbsp;<span class="id">enumerate</span> <span class="id"><a href="linearize_proof.html#f">f</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="linearize_proof.html#enum">enum</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Coqlib.html#list_norepet">list_norepet</a></span> <span class="id"><a href="linearize_proof.html#enum">enum</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7497')">Proof.</div>
<div class="proofscript" id="proof7497">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">enum</span>. <span class="tactic">unfold</span> <span class="id">enumerate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">set</span> (<span class="id">reach</span> := <span class="id">reachable</span> <span class="id">f</span>).<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">monadInv</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id">EQ0</span>; <span class="tactic">clear</span> <span class="id">EQ0</span>. <span class="id">caseEq</span> (<span class="id">check_reachable</span> <span class="id">f</span> <span class="id">reach</span> <span class="id">x</span>); <span class="tactic">intros</span>; <span class="id">inv</span> <span class="id">EQ0</span>.<br/>
&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="linearize_proof.html#nodeset_of_list_correct">nodeset_of_list_correct</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">A</span> [<span class="id">B</span> <span class="id">C</span>]]. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<h1> Properties related to labels </h1>
<br/>
<div class="doc">If labels are globally unique and the Linear code <span class="bracket"><span class="id">c</span></span> contains
  a subsequence <span class="bracket"><span class="id">Llabel</span> <span class="id">lbl</span> :: <span class="id">c1</span></span>, then <span class="bracket"><span class="id">find_label</span> <span class="id">lbl</span> <span class="id">c</span></span> returns <span class="bracket"><span class="id">c1</span></span>.
</div>
<br/>
<span class="kwd">Fixpoint</span> <span class="id"><a name="unique_labels">unique_labels</a></span> (<span class="id">c</span>: <span class="id"><a href="Linear.html#code">code</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="linearize_proof.html#c">c</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="Linear.html#Llabel">Llabel</a></span> <span class="id">lbl</span> :: <span class="id">c</span> =&gt; ~(<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Linear.html#Llabel">Llabel</a></span> <span class="id">lbl</span>) <span class="id"><a href="linearize_proof.html#c">c</a></span>) /\ <span class="id"><a href="linearize_proof.html#unique_labels">unique_labels</a></span> <span class="id"><a href="linearize_proof.html#c">c</a></span><br/>
&nbsp;&nbsp;| <span class="id">i</span> :: <span class="id">c</span> =&gt; <span class="id"><a href="linearize_proof.html#unique_labels">unique_labels</a></span> <span class="id"><a href="linearize_proof.html#c">c</a></span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="find_label_unique">find_label_unique</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">lbl</span> <span class="id">c1</span> <span class="id">c2</span> <span class="id">c3</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Coqlib.html#is_tail">is_tail</a></span> (<span class="id"><a href="Linear.html#Llabel">Llabel</a></span> <span class="id"><a href="linearize_proof.html#lbl">lbl</a></span> :: <span class="id"><a href="linearize_proof.html#c1">c1</a></span>) <span class="id"><a href="linearize_proof.html#c2">c2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="linearize_proof.html#unique_labels">unique_labels</a></span> <span class="id"><a href="linearize_proof.html#c2">c2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Linear.html#find_label">find_label</a></span> <span class="id"><a href="linearize_proof.html#lbl">lbl</a></span> <span class="id"><a href="linearize_proof.html#c2">c2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="linearize_proof.html#c3">c3</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="linearize_proof.html#c1">c1</a></span> = <span class="id"><a href="linearize_proof.html#c3">c3</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7498')">Proof.</div>
<div class="proofscript" id="proof7498">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">c2</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>; <span class="tactic">intros</span>; <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">c3</span> <span class="id">TAIL</span> <span class="id">UNIQ</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Linear.html#is_label_correct">is_label_correct</a></span> <span class="id">lbl</span> <span class="id">a</span>). <span class="tactic">case</span> (<span class="id"><a href="Linear.html#is_label">is_label</a></span> <span class="id">lbl</span> <span class="id">a</span>); <span class="tactic">intro</span> <span class="id">ISLBL</span>.<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">a</span>. <span class="tactic">intro</span>. <span class="tactic">inversion</span> <span class="id">TAIL</span>. <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">elim</span> <span class="id">UNIQ</span>; <span class="tactic">intros</span>. <span class="tactic">elim</span> <span class="id">H4</span>. <span class="tactic">apply</span> <span class="id"><a href="Coqlib.html#is_tail_in">is_tail_in</a></span> <span class="kwd">with</span> <span class="id">c1</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">TAIL</span>. <span class="tactic">congruence</span>. <span class="tactic">apply</span> <span class="id">IHc2</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">UNIQ</span>; <span class="tactic">tauto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Correctness of the <span class="bracket"><span class="id">starts_with</span></span> test. </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="starts_with_correct">starts_with_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">lbl</span> <span class="id">c1</span> <span class="id">c2</span> <span class="id">c3</span> <span class="id">s</span> <span class="id">f</span> <span class="id">sp</span> <span class="id">ls</span> <span class="id">lf</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Coqlib.html#is_tail">is_tail</a></span> <span class="id"><a href="linearize_proof.html#c1">c1</a></span> <span class="id"><a href="linearize_proof.html#c2">c2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="linearize_proof.html#unique_labels">unique_labels</a></span> <span class="id"><a href="linearize_proof.html#c2">c2</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">starts_with</span> <span class="id"><a href="linearize_proof.html#lbl">lbl</a></span> <span class="id"><a href="linearize_proof.html#c1">c1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Linear.html#find_label">find_label</a></span> <span class="id"><a href="linearize_proof.html#lbl">lbl</a></span> <span class="id"><a href="linearize_proof.html#c2">c2</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="linearize_proof.html#c3">c3</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#plus">plus</a></span> (<span class="id"><a href="Linear_local.html#step">step</a></span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.tge">tge</a></span>) (<span class="id"><a href="Linear_local.html#Core_State">Core_State</a></span> <span class="id"><a href="linearize_proof.html#s">s</a></span> <span class="id"><a href="linearize_proof.html#f">f</a></span> <span class="id"><a href="linearize_proof.html#sp">sp</a></span> <span class="id"><a href="linearize_proof.html#c1">c1</a></span> <span class="id"><a href="linearize_proof.html#ls">ls</a></span> <span class="id"><a href="linearize_proof.html#lf">lf</a></span>) <span class="id"><a href="linearize_proof.html#m">m</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="linearize_proof.html#empfp">empfp</a></span> (<span class="id"><a href="Linear_local.html#Core_State">Core_State</a></span> <span class="id"><a href="linearize_proof.html#s">s</a></span> <span class="id"><a href="linearize_proof.html#f">f</a></span> <span class="id"><a href="linearize_proof.html#sp">sp</a></span> <span class="id"><a href="linearize_proof.html#c3">c3</a></span> <span class="id"><a href="linearize_proof.html#ls">ls</a></span> <span class="id"><a href="linearize_proof.html#lf">lf</a></span>) <span class="id"><a href="linearize_proof.html#m">m</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7499')">Proof.</div>
<div class="proofscript" id="proof7499">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">c1</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>; <span class="tactic">intros</span>; <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="id">starts_with</span>. <span class="tactic">destruct</span> <span class="id">a</span>; <span class="tactic">try</span> (<span class="tactic">intros</span>; <span class="tactic">discriminate</span>).<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="Footprint.html#FP.emp_union_fp">FP.emp_union_fp</a></span> <span class="id"><a href="linearize_proof.html#empfp">empfp</a></span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#plus_left">plus_left</a></span> <span class="kwd">with</span> <span class="id"><a href="linearize_proof.html#empfp">empfp</a></span> (<span class="id"><a href="Linear_local.html#Core_State">Core_State</a></span> <span class="id">s</span> <span class="id">f</span> <span class="id">sp</span> <span class="id">c1</span> <span class="id">ls</span> <span class="id">lf</span>) <span class="id">m</span> <span class="id"><a href="linearize_proof.html#empfp">empfp</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#peq">peq</a></span> <span class="id">lbl</span> <span class="id">l</span>).<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">l</span>. <span class="tactic">replace</span> <span class="id">c3</span> <span class="kwd">with</span> <span class="id">c1</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="linearize_proof.html#find_label_unique">find_label_unique</a></span> <span class="kwd">with</span> <span class="id">lbl</span> <span class="id">c2</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#plus_star">plus_star</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">IHc1</span> <span class="kwd">with</span> <span class="id">c2</span>; <span class="tactic">auto</span>. <span class="tactic">eapply</span> <span class="id"><a href="Coqlib.html#is_tail_cons_left">is_tail_cons_left</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Connection between <span class="bracket"><span class="id">find_label</span></span> and linearization. </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="find_label_add_branch">find_label_add_branch</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">lbl</span> <span class="id">k</span> <span class="id">s</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Linear.html#find_label">find_label</a></span> <span class="id"><a href="linearize_proof.html#lbl">lbl</a></span> (<span class="id">add_branch</span> <span class="id"><a href="linearize_proof.html#s">s</a></span> <span class="id"><a href="linearize_proof.html#k">k</a></span>) = <span class="id"><a href="Linear.html#find_label">find_label</a></span> <span class="id"><a href="linearize_proof.html#lbl">lbl</a></span> <span class="id"><a href="linearize_proof.html#k">k</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7500')">Proof.</div>
<div class="proofscript" id="proof7500">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id">add_branch</span>. <span class="tactic">destruct</span> (<span class="id">starts_with</span> <span class="id">s</span> <span class="id">k</span>); <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="find_label_lin_block">find_label_lin_block</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">lbl</span> <span class="id">k</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Linear.html#find_label">find_label</a></span> <span class="id"><a href="linearize_proof.html#lbl">lbl</a></span> (<span class="id">linearize_block</span> <span class="id"><a href="linearize_proof.html#b">b</a></span> <span class="id"><a href="linearize_proof.html#k">k</a></span>) = <span class="id"><a href="Linear.html#find_label">find_label</a></span> <span class="id"><a href="linearize_proof.html#lbl">lbl</a></span> <span class="id"><a href="linearize_proof.html#k">k</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7501')">Proof.</div>
<div class="proofscript" id="proof7501">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">lbl</span> <span class="id">k</span>. <span class="tactic">generalize</span> (<span class="id"><a href="linearize_proof.html#find_label_add_branch">find_label_add_branch</a></span> <span class="id">lbl</span> <span class="id">k</span>); <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">b</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> <span class="id">a</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">case</span> (<span class="id">starts_with</span> <span class="id">s1</span> <span class="id">k</span>); <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Remark</span> <span class="id"><a name="linearize_body_cons">linearize_body_cons</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">pc</span> <span class="id">enum</span>,<br/>
&nbsp;&nbsp;<span class="id">linearize_body</span> <span class="id"><a href="linearize_proof.html#f">f</a></span> (<span class="id"><a href="linearize_proof.html#pc">pc</a></span> :: <span class="id"><a href="linearize_proof.html#enum">enum</a></span>) =<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id"><a href="linearize_proof.html#f">f</a></span>.(<span class="id"><a href="LTL.html#fn_code">LTL.fn_code</a></span>)!<span class="id"><a href="linearize_proof.html#pc">pc</a></span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id">linearize_body</span> <span class="id"><a href="linearize_proof.html#f">f</a></span> <span class="id"><a href="linearize_proof.html#enum">enum</a></span><br/>
&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">b</span> =&gt; <span class="id"><a href="Linear.html#Llabel">Llabel</a></span> <span class="id"><a href="linearize_proof.html#pc">pc</a></span> :: <span class="id">linearize_block</span> <span class="id">b</span> (<span class="id">linearize_body</span> <span class="id"><a href="linearize_proof.html#f">f</a></span> <span class="id"><a href="linearize_proof.html#enum">enum</a></span>)<br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7502')">Proof.</div>
<div class="proofscript" id="proof7502">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id">linearize_body</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Coqlib.html#list_fold_right_eq">list_fold_right_eq</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id">linearize_node</span>. <span class="tactic">destruct</span> (<span class="id"><a href="LTL.html#fn_code">LTL.fn_code</a></span> <span class="id">f</span>)!<span class="id">pc</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="find_label_lin_rec">find_label_lin_rec</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">enum</span> <span class="id">pc</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="linearize_proof.html#pc">pc</a></span> <span class="id"><a href="linearize_proof.html#enum">enum</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="linearize_proof.html#f">f</a></span>.(<span class="id"><a href="LTL.html#fn_code">LTL.fn_code</a></span>)!<span class="id"><a href="linearize_proof.html#pc">pc</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="linearize_proof.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">k</span>, <span class="id"><a href="Linear.html#find_label">find_label</a></span> <span class="id"><a href="linearize_proof.html#pc">pc</a></span> (<span class="id">linearize_body</span> <span class="id"><a href="linearize_proof.html#f">f</a></span> <span class="id"><a href="linearize_proof.html#enum">enum</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">linearize_block</span> <span class="id"><a href="linearize_proof.html#b">b</a></span> <span class="id"><a href="linearize_proof.html#k">k</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7503')">Proof.</div>
<div class="proofscript" id="proof7503">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">enum</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">elim</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="linearize_proof.html#linearize_body_cons">linearize_body_cons</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Coqlib.html#peq">peq</a></span> <span class="id">a</span> <span class="id">pc</span>).<br/>
&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">a</span>. <span class="id">exists</span> (<span class="id">linearize_body</span> <span class="id">f</span> <span class="id">enum</span>).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">H0</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Coqlib.html#peq_true">peq_true</a></span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id">pc</span> <span class="id">enum</span>). <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">tauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">IHenum</span> <span class="id">pc</span> <span class="id">b</span> <span class="id">H1</span> <span class="id">H0</span>) <span class="kwd">as</span> [<span class="id">k</span> <span class="id">FIND</span>].<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">k</span>. <span class="tactic">destruct</span> (<span class="id"><a href="LTL.html#fn_code">LTL.fn_code</a></span> <span class="id">f</span>)!<span class="id">a</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Coqlib.html#peq_false">peq_false</a></span>. <span class="tactic">rewrite</span> <span class="id"><a href="linearize_proof.html#find_label_lin_block">find_label_lin_block</a></span>. <span class="tactic">auto</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="find_label_lin">find_label_lin</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">tf</span> <span class="id">pc</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;<span class="id">transf_function</span> <span class="id"><a href="linearize_proof.html#f">f</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="linearize_proof.html#tf">tf</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="linearize_proof.html#f">f</a></span>.(<span class="id"><a href="LTL.html#fn_code">LTL.fn_code</a></span>)!<span class="id"><a href="linearize_proof.html#pc">pc</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="linearize_proof.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id">reachable</span> <span class="id"><a href="linearize_proof.html#f">f</a></span>)!!<span class="id"><a href="linearize_proof.html#pc">pc</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Linear.html#find_label">find_label</a></span> <span class="id"><a href="linearize_proof.html#pc">pc</a></span> (<span class="id"><a href="Linear.html#fn_code">fn_code</a></span> <span class="id"><a href="linearize_proof.html#tf">tf</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> (<span class="id">linearize_block</span> <span class="id"><a href="linearize_proof.html#b">b</a></span> <span class="id"><a href="linearize_proof.html#k">k</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7504')">Proof.</div>
<div class="proofscript" id="proof7504">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">monadInv</span> <span class="id">H</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="linearize_proof.html#find_label_add_branch">find_label_add_branch</a></span>. <span class="tactic">apply</span> <span class="id"><a href="linearize_proof.html#find_label_lin_rec">find_label_lin_rec</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="linearize_proof.html#enumerate_complete">enumerate_complete</a></span>; <span class="tactic">eauto</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="find_label_lin_inv">find_label_lin_inv</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">tf</span> <span class="id">pc</span> <span class="id">b</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;<span class="id">transf_function</span> <span class="id"><a href="linearize_proof.html#f">f</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="linearize_proof.html#tf">tf</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="linearize_proof.html#f">f</a></span>.(<span class="id"><a href="LTL.html#fn_code">LTL.fn_code</a></span>)!<span class="id"><a href="linearize_proof.html#pc">pc</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="linearize_proof.html#b">b</a></span> -&gt;<br/>
&nbsp;&nbsp;(<span class="id">reachable</span> <span class="id"><a href="linearize_proof.html#f">f</a></span>)!!<span class="id"><a href="linearize_proof.html#pc">pc</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Linear.html#find_label">find_label</a></span> <span class="id"><a href="linearize_proof.html#pc">pc</a></span> (<span class="id"><a href="Linear.html#fn_code">fn_code</a></span> <span class="id"><a href="linearize_proof.html#tf">tf</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="linearize_proof.html#k">k</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">k</span>', <span class="id"><a href="linearize_proof.html#k">k</a></span> = <span class="id">linearize_block</span> <span class="id"><a href="linearize_proof.html#b">b</a></span> <span class="id">k</span>'.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7505')">Proof.</div>
<div class="proofscript" id="proof7505">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">exploit</span> <span class="id"><a href="linearize_proof.html#find_label_lin">find_label_lin</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">k</span>' <span class="id">FIND</span>].<br/>
&nbsp;&nbsp;<span class="id">exists</span> <span class="id">k</span>'. <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Unique label property for linearized code. </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="label_in_add_branch">label_in_add_branch</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">lbl</span> <span class="id">s</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Linear.html#Llabel">Llabel</a></span> <span class="id"><a href="linearize_proof.html#lbl">lbl</a></span>) (<span class="id">add_branch</span> <span class="id"><a href="linearize_proof.html#s">s</a></span> <span class="id"><a href="linearize_proof.html#k">k</a></span>) -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Linear.html#Llabel">Llabel</a></span> <span class="id"><a href="linearize_proof.html#lbl">lbl</a></span>) <span class="id"><a href="linearize_proof.html#k">k</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7506')">Proof.</div>
<div class="proofscript" id="proof7506">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">k</span>; <span class="tactic">unfold</span> <span class="id">add_branch</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">starts_with</span> <span class="id">s</span> <span class="id">k</span>); <span class="tactic">simpl</span>; <span class="tactic">intuition</span> <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="label_in_lin_block">label_in_lin_block</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">lbl</span> <span class="id">k</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Linear.html#Llabel">Llabel</a></span> <span class="id"><a href="linearize_proof.html#lbl">lbl</a></span>) (<span class="id">linearize_block</span> <span class="id"><a href="linearize_proof.html#b">b</a></span> <span class="id"><a href="linearize_proof.html#k">k</a></span>) -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Linear.html#Llabel">Llabel</a></span> <span class="id"><a href="linearize_proof.html#lbl">lbl</a></span>) <span class="id"><a href="linearize_proof.html#k">k</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7507')">Proof.</div>
<div class="proofscript" id="proof7507">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">b</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>; <span class="tactic">try</span> (<span class="tactic">intuition</span> <span class="tactic">congruence</span>).<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="linearize_proof.html#label_in_add_branch">label_in_add_branch</a></span> <span class="kwd">with</span> <span class="id">s</span>; <span class="tactic">intuition</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">starts_with</span> <span class="id">s1</span> <span class="id">k</span>); <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="linearize_proof.html#label_in_add_branch">label_in_add_branch</a></span> <span class="kwd">with</span> <span class="id">s1</span>; <span class="tactic">intuition</span> <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="linearize_proof.html#label_in_add_branch">label_in_add_branch</a></span> <span class="kwd">with</span> <span class="id">s2</span>; <span class="tactic">intuition</span> <span class="tactic">congruence</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="label_in_lin_rec">label_in_lin_rec</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">lbl</span> <span class="id">enum</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> (<span class="id"><a href="Linear.html#Llabel">Llabel</a></span> <span class="id"><a href="linearize_proof.html#lbl">lbl</a></span>) (<span class="id">linearize_body</span> <span class="id"><a href="linearize_proof.html#f">f</a></span> <span class="id"><a href="linearize_proof.html#enum">enum</a></span>) -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="linearize_proof.html#lbl">lbl</a></span> <span class="id"><a href="linearize_proof.html#enum">enum</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7508')">Proof.</div>
<div class="proofscript" id="proof7508">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">enum</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="linearize_proof.html#linearize_body_cons">linearize_body_cons</a></span>. <span class="tactic">destruct</span> (<span class="id"><a href="LTL.html#fn_code">LTL.fn_code</a></span> <span class="id">f</span>)!<span class="id">a</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">intros</span> [<span class="id">A</span>|<span class="id">B</span>]. <span class="id">left</span>; <span class="tactic">congruence</span>.<br/>
&nbsp;&nbsp;<span class="id">right</span>. <span class="tactic">apply</span> <span class="id">IHenum</span>. <span class="tactic">eapply</span> <span class="id"><a href="linearize_proof.html#label_in_lin_block">label_in_lin_block</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intro</span>; <span class="id">right</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="unique_labels_add_branch">unique_labels_add_branch</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">lbl</span> <span class="id">k</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="linearize_proof.html#unique_labels">unique_labels</a></span> <span class="id"><a href="linearize_proof.html#k">k</a></span> -&gt; <span class="id"><a href="linearize_proof.html#unique_labels">unique_labels</a></span> (<span class="id">add_branch</span> <span class="id"><a href="linearize_proof.html#lbl">lbl</a></span> <span class="id"><a href="linearize_proof.html#k">k</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7509')">Proof.</div>
<div class="proofscript" id="proof7509">
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">unfold</span> <span class="id">add_branch</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">starts_with</span> <span class="id">lbl</span> <span class="id">k</span>); <span class="tactic">simpl</span>; <span class="tactic">intuition</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="unique_labels_lin_block">unique_labels_lin_block</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">k</span> <span class="id">b</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="linearize_proof.html#unique_labels">unique_labels</a></span> <span class="id"><a href="linearize_proof.html#k">k</a></span> -&gt; <span class="id"><a href="linearize_proof.html#unique_labels">unique_labels</a></span> (<span class="id">linearize_block</span> <span class="id"><a href="linearize_proof.html#b">b</a></span> <span class="id"><a href="linearize_proof.html#k">k</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7510')">Proof.</div>
<div class="proofscript" id="proof7510">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">b</span>; <span class="tactic">intros</span>; <span class="tactic">simpl</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span>; <span class="tactic">auto</span>; <span class="tactic">try</span> (<span class="tactic">apply</span> <span class="id"><a href="linearize_proof.html#unique_labels_add_branch">unique_labels_add_branch</a></span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;<span class="tactic">case</span> (<span class="id">starts_with</span> <span class="id">s1</span> <span class="id">k</span>); <span class="tactic">simpl</span>; <span class="tactic">apply</span> <span class="id"><a href="linearize_proof.html#unique_labels_add_branch">unique_labels_add_branch</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="unique_labels_lin_rec">unique_labels_lin_rec</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">enum</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Coqlib.html#list_norepet">list_norepet</a></span> <span class="id"><a href="linearize_proof.html#enum">enum</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="linearize_proof.html#unique_labels">unique_labels</a></span> (<span class="id">linearize_body</span> <span class="id"><a href="linearize_proof.html#f">f</a></span> <span class="id"><a href="linearize_proof.html#enum">enum</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7511')">Proof.</div>
<div class="proofscript" id="proof7511">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">enum</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="linearize_proof.html#linearize_body_cons">linearize_body_cons</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="tactic">destruct</span> (<span class="id"><a href="LTL.html#fn_code">LTL.fn_code</a></span> <span class="id">f</span>)!<span class="id">a</span>.<br/>
&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">split</span>. <span class="tactic">red</span>. <span class="tactic">intro</span>. <span class="tactic">inversion</span> <span class="id">H</span>. <span class="tactic">elim</span> <span class="id">H3</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="linearize_proof.html#label_in_lin_rec">label_in_lin_rec</a></span> <span class="kwd">with</span> <span class="id">f</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="linearize_proof.html#label_in_lin_block">label_in_lin_block</a></span> <span class="kwd">with</span> <span class="id">b</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="linearize_proof.html#unique_labels_lin_block">unique_labels_lin_block</a></span>. <span class="tactic">apply</span> <span class="id">IHenum</span>. <span class="tactic">inversion</span> <span class="id">H</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">IHenum</span>. <span class="tactic">inversion</span> <span class="id">H</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="unique_labels_transf_function">unique_labels_transf_function</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">tf</span>,<br/>
&nbsp;&nbsp;<span class="id">transf_function</span> <span class="id"><a href="linearize_proof.html#f">f</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="linearize_proof.html#tf">tf</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="linearize_proof.html#unique_labels">unique_labels</a></span> (<span class="id"><a href="Linear.html#fn_code">fn_code</a></span> <span class="id"><a href="linearize_proof.html#tf">tf</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7512')">Proof.</div>
<div class="proofscript" id="proof7512">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">monadInv</span> <span class="id">H</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="linearize_proof.html#unique_labels_add_branch">unique_labels_add_branch</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="linearize_proof.html#unique_labels_lin_rec">unique_labels_lin_rec</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="linearize_proof.html#enumerate_norepet">enumerate_norepet</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<div class="doc">Correctness of <span class="bracket"><span class="id">add_branch</span></span>. </div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="is_tail_find_label">is_tail_find_label</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">lbl</span> <span class="id">c2</span> <span class="id">c1</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Linear.html#find_label">find_label</a></span> <span class="id"><a href="linearize_proof.html#lbl">lbl</a></span> <span class="id"><a href="linearize_proof.html#c1">c1</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="linearize_proof.html#c2">c2</a></span> -&gt; <span class="id"><a href="Coqlib.html#is_tail">is_tail</a></span> <span class="id"><a href="linearize_proof.html#c2">c2</a></span> <span class="id"><a href="linearize_proof.html#c1">c1</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7513')">Proof.</div>
<div class="proofscript" id="proof7513">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">c1</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;<span class="tactic">case</span> (<span class="id"><a href="Linear.html#is_label">is_label</a></span> <span class="id">lbl</span> <span class="id">a</span>). <span class="tactic">intro</span>. <span class="tactic">injection</span> <span class="id">H</span>; <span class="tactic">intro</span>. <span class="tactic">subst</span> <span class="id">c2</span>.<br/>
&nbsp;&nbsp;<span class="id">constructor</span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intro</span>. <span class="id">constructor</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="is_tail_add_branch">is_tail_add_branch</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">lbl</span> <span class="id">c1</span> <span class="id">c2</span>, <span class="id"><a href="Coqlib.html#is_tail">is_tail</a></span> (<span class="id">add_branch</span> <span class="id"><a href="linearize_proof.html#lbl">lbl</a></span> <span class="id"><a href="linearize_proof.html#c1">c1</a></span>) <span class="id"><a href="linearize_proof.html#c2">c2</a></span> -&gt; <span class="id"><a href="Coqlib.html#is_tail">is_tail</a></span> <span class="id"><a href="linearize_proof.html#c1">c1</a></span> <span class="id"><a href="linearize_proof.html#c2">c2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7514')">Proof.</div>
<div class="proofscript" id="proof7514">
&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">until</span> <span class="id">c2</span>. <span class="tactic">unfold</span> <span class="id">add_branch</span>. <span class="tactic">destruct</span> (<span class="id">starts_with</span> <span class="id">lbl</span> <span class="id">c1</span>).<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>. <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">coqlib</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="is_tail_lin_block">is_tail_lin_block</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">c1</span> <span class="id">c2</span>,<br/>
&nbsp;&nbsp;<span class="id"><a href="Coqlib.html#is_tail">is_tail</a></span> (<span class="id">linearize_block</span> <span class="id"><a href="linearize_proof.html#b">b</a></span> <span class="id"><a href="linearize_proof.html#c1">c1</a></span>) <span class="id"><a href="linearize_proof.html#c2">c2</a></span> -&gt; <span class="id"><a href="Coqlib.html#is_tail">is_tail</a></span> <span class="id"><a href="linearize_proof.html#c1">c1</a></span> <span class="id"><a href="linearize_proof.html#c2">c2</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7515')">Proof.</div>
<div class="proofscript" id="proof7515">
&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">b</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">coqlib</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="linearize_proof.html#is_tail_add_branch">is_tail_add_branch</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">starts_with</span> <span class="id">s1</span> <span class="id">c1</span>); <span class="tactic">eapply</span> <span class="id"><a href="linearize_proof.html#is_tail_add_branch">is_tail_add_branch</a></span>; <span class="tactic">eauto</span> <span class="kwd">with</span> <span class="id">coqlib</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="add_branch_correct">add_branch_correct</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">lbl</span> <span class="id">c</span> <span class="id">k</span> <span class="id">s</span> <span class="id">f</span> <span class="id">tf</span> <span class="id">sp</span> <span class="id">ls</span> <span class="id">lf</span> <span class="id">m</span>,<br/>
&nbsp;&nbsp;<span class="id">transf_function</span> <span class="id"><a href="linearize_proof.html#f">f</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="linearize_proof.html#tf">tf</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Coqlib.html#is_tail">is_tail</a></span> <span class="id"><a href="linearize_proof.html#k">k</a></span> <span class="id"><a href="linearize_proof.html#tf">tf</a></span>.(<span class="id"><a href="Linear.html#fn_code">fn_code</a></span>) -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="Linear.html#find_label">find_label</a></span> <span class="id"><a href="linearize_proof.html#lbl">lbl</a></span> <span class="id"><a href="linearize_proof.html#tf">tf</a></span>.(<span class="id"><a href="Linear.html#fn_code">fn_code</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="linearize_proof.html#c">c</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="InteractionSemantics.html#plus">plus</a></span> (<span class="id"><a href="Linear_local.html#step">step</a></span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.tge">tge</a></span>) (<span class="id"><a href="Linear_local.html#Core_State">Core_State</a></span> <span class="id"><a href="linearize_proof.html#s">s</a></span> <span class="id"><a href="linearize_proof.html#tf">tf</a></span> <span class="id"><a href="linearize_proof.html#sp">sp</a></span> (<span class="id">add_branch</span> <span class="id"><a href="linearize_proof.html#lbl">lbl</a></span> <span class="id"><a href="linearize_proof.html#k">k</a></span>) <span class="id"><a href="linearize_proof.html#ls">ls</a></span> <span class="id"><a href="linearize_proof.html#lf">lf</a></span>) <span class="id"><a href="linearize_proof.html#m">m</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="linearize_proof.html#empfp">empfp</a></span> (<span class="id"><a href="Linear_local.html#Core_State">Core_State</a></span> <span class="id"><a href="linearize_proof.html#s">s</a></span> <span class="id"><a href="linearize_proof.html#tf">tf</a></span> <span class="id"><a href="linearize_proof.html#sp">sp</a></span> <span class="id"><a href="linearize_proof.html#c">c</a></span> <span class="id"><a href="linearize_proof.html#ls">ls</a></span> <span class="id"><a href="linearize_proof.html#lf">lf</a></span>) <span class="id"><a href="linearize_proof.html#m">m</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7516')">Proof.</div>
<div class="proofscript" id="proof7516">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id">add_branch</span>.<br/>
&nbsp;&nbsp;<span class="id">caseEq</span> (<span class="id">starts_with</span> <span class="id">lbl</span> <span class="id">k</span>); <span class="tactic">intro</span> <span class="id">SW</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="linearize_proof.html#starts_with_correct">starts_with_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="linearize_proof.html#unique_labels_transf_function">unique_labels_transf_function</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#plus_one">plus_one</a></span>. <span class="tactic">apply</span> <span class="id"><a href="Linear_local.html#exec_Lgoto">exec_Lgoto</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<h1> Correctness of linearization </h1>
<br/>
<div class="doc">The proof of semantic preservation is a simulation argument of the "star" kind:
<pre>
           st1 --------------- st2
            |                   |
           t|                  t| + or ( 0 \/ |st1'| &lt; |st1| )
            |                   |
            v                   v
           st1'--------------- st2'</pre>
  The invariant (horizontal lines above) is the <span class="bracket"><span class="id">match_states</span></span>
  predicate defined below.  It captures the fact that the flow
  of data is the same in the source and linearized codes.
  Moreover, whenever the source state is at node <span class="bracket"><span class="id">pc</span></span> in its
  control-flow graph, the transformed state is at a code
  sequence <span class="bracket"><span class="id">c</span></span> that starts with the label <span class="bracket"><span class="id">pc</span></span>. </div>
<span class="kwd">Definition</span> <span class="id"><a name="locset_lessdef">locset_lessdef</a></span> (<span class="id">ls</span> <span class="id">ls</span>': <span class="id"><a href="Linear.html#locset">locset</a></span>) : <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">l</span>, <span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> (<span class="id"><a href="linearize_proof.html#ls">ls</a></span> <span class="id"><a href="linearize_proof.html#l">l</a></span>) (<span class="id">ls</span>' <span class="id"><a href="linearize_proof.html#l">l</a></span>).<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="locset_lessdef_regs">locset_lessdef_regs</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ls</span> <span class="id">ls</span>' <span class="id">args</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="linearize_proof.html#locset_lessdef">locset_lessdef</a></span> <span class="id"><a href="linearize_proof.html#ls">ls</a></span> <span class="id">ls</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef_list">Val.lessdef_list</a></span> (<span class="id"><a href="LTL.html#reglist">reglist</a></span> <span class="id"><a href="linearize_proof.html#ls">ls</a></span> <span class="id"><a href="linearize_proof.html#args">args</a></span>) (<span class="id"><a href="LTL.html#reglist">reglist</a></span> <span class="id">ls</span>' <span class="id"><a href="linearize_proof.html#args">args</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7517')">Proof.</div>
<div class="proofscript" id="proof7517">
 <span class="tactic">clear</span>. <span class="tactic">induction</span> <span class="id">args</span>; <span class="tactic">auto</span>. <span class="tactic">intros</span>. <span class="id">constructor</span>; <span class="tactic">auto</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="locset_lessdef_args">locset_lessdef_args</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ls</span> <span class="id">ls</span>' <span class="id">args</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="linearize_proof.html#locset_lessdef">locset_lessdef</a></span> <span class="id"><a href="linearize_proof.html#ls">ls</a></span> <span class="id">ls</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef_list">Val.lessdef_list</a></span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">p</span> : <span class="id"><a href="AST.html#rpair">rpair</a></span> <span class="id"><a href="Locations.html#loc">loc</a></span> =&gt; <span class="id"><a href="Locations.html#Locmap.getpair">Locmap.getpair</a></span> <span class="id"><a href="linearize_proof.html#p">p</a></span> <span class="id"><a href="linearize_proof.html#ls">ls</a></span>) <span class="id"><a href="linearize_proof.html#args">args</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#map">map</a></span> (<span class="kwd">fun</span> <span class="id">p</span> : <span class="id"><a href="AST.html#rpair">rpair</a></span> <span class="id"><a href="Locations.html#loc">loc</a></span> =&gt; <span class="id"><a href="Locations.html#Locmap.getpair">Locmap.getpair</a></span> <span class="id"><a href="linearize_proof.html#p">p</a></span> <span class="id">ls</span>') <span class="id"><a href="linearize_proof.html#args">args</a></span>).<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7518')">Proof.</div>
<div class="proofscript" id="proof7518">
 <span class="tactic">clear</span>. <span class="tactic">induction</span> <span class="id">args</span>; <span class="tactic">auto</span>. <span class="tactic">intros</span>. <span class="id">constructor</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Locations.html#Locmap.getpair">Locmap.getpair</a></span>. <span class="tactic">destruct</span> <span class="id">a</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.longofwords_lessdef">Val.longofwords_lessdef</a></span>; <span class="tactic">auto</span>. Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="undef_locset_lessdef">undef_locset_lessdef</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ls</span> <span class="id">ls</span>' <span class="id">rl</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="linearize_proof.html#locset_lessdef">locset_lessdef</a></span> <span class="id"><a href="linearize_proof.html#ls">ls</a></span> <span class="id">ls</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="linearize_proof.html#locset_lessdef">locset_lessdef</a></span> (<span class="id"><a href="LTL.html#undef_regs">undef_regs</a></span> <span class="id"><a href="linearize_proof.html#rl">rl</a></span> <span class="id"><a href="linearize_proof.html#ls">ls</a></span>) (<span class="id"><a href="LTL.html#undef_regs">undef_regs</a></span> <span class="id"><a href="linearize_proof.html#rl">rl</a></span> <span class="id">ls</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7519')">Proof.</div>
<div class="proofscript" id="proof7519">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">induction</span> <span class="id">rl</span>; <span class="tactic">intros</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">IHrl</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">l</span>. <span class="id">specialize</span> (<span class="id">H</span> <span class="id">l</span>). <br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Locations.html#Loc.diff_dec">Loc.diff_dec</a></span> (<span class="id"><a href="Locations.html#R">R</a></span> <span class="id">a</span>) <span class="id">l</span>).<br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Locations.html#Locmap.gso">Locmap.gso</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">l</span>. <span class="tactic">destruct</span> (<span class="id"><a href="Locations.html#Loc.eq">Loc.eq</a></span> (<span class="id"><a href="Locations.html#R">R</a></span> <span class="id">a</span>) (<span class="id"><a href="Locations.html#R">R</a></span> <span class="id">r</span>)).<br/>
&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">e</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Locations.html#Locmap.gss">Locmap.gss</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exfalso</span>. <span class="tactic">apply</span> <span class="id">n</span>. <span class="tactic">simpl</span>. <span class="tactic">intro</span>. <span class="tactic">subst</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id">exfalso</span>. <span class="tactic">apply</span> <span class="id">n</span>. <span class="tactic">simpl</span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="set_locset_lessdef">set_locset_lessdef</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ls</span> <span class="id">ls</span>' <span class="id">v</span> <span class="id">v</span>' <span class="id">l</span>, <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="linearize_proof.html#locset_lessdef">locset_lessdef</a></span> <span class="id"><a href="linearize_proof.html#ls">ls</a></span> <span class="id">ls</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="linearize_proof.html#v">v</a></span> <span class="id">v</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="linearize_proof.html#locset_lessdef">locset_lessdef</a></span> (<span class="id"><a href="Locations.html#Locmap.set">Locmap.set</a></span> <span class="id"><a href="linearize_proof.html#l">l</a></span> <span class="id"><a href="linearize_proof.html#v">v</a></span> <span class="id"><a href="linearize_proof.html#ls">ls</a></span>) (<span class="id"><a href="Locations.html#Locmap.set">Locmap.set</a></span> <span class="id"><a href="linearize_proof.html#l">l</a></span> <span class="id">v</span>' <span class="id">ls</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7520')">Proof.</div>
<div class="proofscript" id="proof7520">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">intros</span>. <span class="tactic">intro</span> <span class="id">l0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Locations.html#Locmap.set">Locmap.set</a></span>. <span class="tactic">destruct</span> <span class="id"><a href="Locations.html#Loc.eq">Loc.eq</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">subst</span>. <span class="tactic">destruct</span> <span class="id">l0</span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.load_result_lessdef">Val.load_result_lessdef</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Locations.html#Loc.diff_dec">Loc.diff_dec</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="return_locset_lessdef">return_locset_lessdef</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ls</span> <span class="id">ls0</span> <span class="id">ls</span>' <span class="id">ls0</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="linearize_proof.html#locset_lessdef">locset_lessdef</a></span> <span class="id"><a href="linearize_proof.html#ls">ls</a></span> <span class="id">ls</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="linearize_proof.html#locset_lessdef">locset_lessdef</a></span> <span class="id"><a href="linearize_proof.html#ls0">ls0</a></span> <span class="id">ls0</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="linearize_proof.html#locset_lessdef">locset_lessdef</a></span> (<span class="id"><a href="LTL.html#return_regs">return_regs</a></span> <span class="id"><a href="linearize_proof.html#ls0">ls0</a></span> <span class="id"><a href="linearize_proof.html#ls">ls</a></span>) (<span class="id"><a href="LTL.html#return_regs">return_regs</a></span> <span class="id">ls0</span>' <span class="id">ls</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7521')">Proof.</div>
<div class="proofscript" id="proof7521">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">intros</span>. <span class="tactic">intro</span> <span class="id">l0</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="LTL.html#return_regs">return_regs</a></span>. <span class="tactic">destruct</span> <span class="id">l0</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Conventions1.html#is_callee_save">Conventions1.is_callee_save</a></span> <span class="id">r</span>); <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="call_locset_lessdef">call_locset_lessdef</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ls</span> <span class="id">ls</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="linearize_proof.html#locset_lessdef">locset_lessdef</a></span> <span class="id"><a href="linearize_proof.html#ls">ls</a></span> <span class="id">ls</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="linearize_proof.html#locset_lessdef">locset_lessdef</a></span> (<span class="id"><a href="LTL.html#call_regs">call_regs</a></span> <span class="id"><a href="linearize_proof.html#ls">ls</a></span>) (<span class="id"><a href="LTL.html#call_regs">call_regs</a></span> <span class="id">ls</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7522')">Proof.</div>
<div class="proofscript" id="proof7522">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">intros</span>. <span class="tactic">unfold</span> <span class="id"><a href="LTL.html#call_regs">call_regs</a></span>.<br/>
&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">l</span>. <span class="tactic">destruct</span> <span class="id">l</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> <span class="id">sl</span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="setres_locset_lessdef">setres_locset_lessdef</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">res</span> <span class="id">ls</span> <span class="id">ls</span>' <span class="id">vres</span> <span class="id">vres</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="linearize_proof.html#locset_lessdef">locset_lessdef</a></span> <span class="id"><a href="linearize_proof.html#ls">ls</a></span> <span class="id">ls</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="linearize_proof.html#vres">vres</a></span> <span class="id">vres</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="linearize_proof.html#locset_lessdef">locset_lessdef</a></span> (<span class="id"><a href="Locations.html#Locmap.setres">Locmap.setres</a></span> <span class="id"><a href="linearize_proof.html#res">res</a></span> <span class="id"><a href="linearize_proof.html#vres">vres</a></span> <span class="id"><a href="linearize_proof.html#ls">ls</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Locations.html#Locmap.setres">Locmap.setres</a></span> <span class="id"><a href="linearize_proof.html#res">res</a></span> <span class="id">vres</span>' <span class="id">ls</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7523')">Proof.</div>
<div class="proofscript" id="proof7523">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">induction</span> <span class="id">res</span>; <span class="tactic">simpl</span>; <span class="tactic">intros</span>; <span class="tactic">intro</span> <span class="id">l</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="linearize_proof.html#set_locset_lessdef">set_locset_lessdef</a></span>; <span class="tactic">auto</span>. <br/>
&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id">IHres2</span>. <span class="tactic">apply</span> <span class="id">IHres1</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.hiword_lessdef">Val.hiword_lessdef</a></span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.loword_lessdef">Val.loword_lessdef</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="setpair_locset_lessdef">setpair_locset_lessdef</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ls</span> <span class="id">ls</span>' <span class="id">res</span> <span class="id">res</span>' <span class="id">loc</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="linearize_proof.html#locset_lessdef">locset_lessdef</a></span> <span class="id"><a href="linearize_proof.html#ls">ls</a></span> <span class="id">ls</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Values.html#Val.lessdef">Val.lessdef</a></span> <span class="id"><a href="linearize_proof.html#res">res</a></span> <span class="id">res</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="linearize_proof.html#locset_lessdef">locset_lessdef</a></span> (<span class="id"><a href="Locations.html#Locmap.setpair">Locmap.setpair</a></span> <span class="id"><a href="linearize_proof.html#loc">loc</a></span> <span class="id"><a href="linearize_proof.html#res">res</a></span> <span class="id"><a href="linearize_proof.html#ls">ls</a></span>) (<span class="id"><a href="Locations.html#Locmap.setpair">Locmap.setpair</a></span> <span class="id"><a href="linearize_proof.html#loc">loc</a></span> <span class="id">res</span>' <span class="id">ls</span>').<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7524')">Proof.</div>
<div class="proofscript" id="proof7524">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">destruct</span> <span class="id">loc</span>; <span class="tactic">intros</span>; <span class="tactic">simpl</span>; <span class="tactic">repeat</span> <span class="tactic">apply</span> <span class="id"><a href="linearize_proof.html#set_locset_lessdef">set_locset_lessdef</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.hiword_lessdef">Val.hiword_lessdef</a></span>; <span class="tactic">auto</span>. <span class="tactic">apply</span> <span class="id"><a href="Values.html#Val.loword_lessdef">Val.loword_lessdef</a></span>; <span class="tactic">auto</span>.<br/>
Qed.</div>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
<span class="kwd">Ltac</span> <span class="id">resolv_ls</span> :=<br/>
&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;| |- <span class="id"><a href="linearize_proof.html#locset_lessdef">locset_lessdef</a></span> (<span class="id"><a href="Locations.html#Locmap.set">Locmap.set</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) (<span class="id"><a href="Locations.html#Locmap.set">Locmap.set</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="linearize_proof.html#set_locset_lessdef">set_locset_lessdef</a></span>; <span class="tactic">auto</span>; <span class="id">resolv_ls</span><br/>
&nbsp;&nbsp;| |- <span class="id"><a href="linearize_proof.html#locset_lessdef">locset_lessdef</a></span> (<span class="id"><a href="LTL.html#undef_regs">undef_regs</a></span> <span class="id">_</span> <span class="id">_</span>) (<span class="id"><a href="LTL.html#undef_regs">undef_regs</a></span> <span class="id">_</span> <span class="id">_</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="linearize_proof.html#undef_locset_lessdef">undef_locset_lessdef</a></span>; <span class="tactic">auto</span>; <span class="id">resolv_ls</span><br/>
&nbsp;&nbsp;| |- <span class="id"><a href="linearize_proof.html#locset_lessdef">locset_lessdef</a></span> (<span class="id"><a href="LTL.html#return_regs">return_regs</a></span> <span class="id">_</span> <span class="id">_</span>) (<span class="id"><a href="LTL.html#return_regs">return_regs</a></span> <span class="id">_</span> <span class="id">_</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="linearize_proof.html#return_locset_lessdef">return_locset_lessdef</a></span>; <span class="tactic">auto</span>; <span class="id">resolv_ls</span><br/>
&nbsp;&nbsp;| |- <span class="id"><a href="linearize_proof.html#locset_lessdef">locset_lessdef</a></span> (<span class="id"><a href="LTL.html#call_regs">call_regs</a></span> <span class="id">_</span> <span class="id">_</span>) (<span class="id"><a href="LTL.html#return_regs">return_regs</a></span> <span class="id">_</span> <span class="id">_</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="linearize_proof.html#call_locset_lessdef">call_locset_lessdef</a></span>; <span class="tactic">auto</span>; <span class="id">resolv_ls</span><br/>
&nbsp;&nbsp;| |- <span class="id"><a href="linearize_proof.html#locset_lessdef">locset_lessdef</a></span> (<span class="id"><a href="Locations.html#Locmap.setres">Locmap.setres</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) (<span class="id"><a href="Locations.html#Locmap.setres">Locmap.setres</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="linearize_proof.html#setres_locset_lessdef">setres_locset_lessdef</a></span>; <span class="tactic">auto</span>; <span class="id">resolv_ls</span><br/>
&nbsp;&nbsp;| |- <span class="id"><a href="linearize_proof.html#locset_lessdef">locset_lessdef</a></span> (<span class="id"><a href="Locations.html#Locmap.setpair">Locmap.setpair</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) (<span class="id"><a href="Locations.html#Locmap.setpair">Locmap.setpair</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span>) =&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="linearize_proof.html#setpair_locset_lessdef">setpair_locset_lessdef</a></span>; <span class="tactic">auto</span>; <span class="id">resolv_ls</span>                                         <br/>
&nbsp;&nbsp;| <span class="id">_</span> =&gt; <span class="id">idtac</span><br/>
&nbsp;&nbsp;<span class="kwd">end</span>.<br/>
<br/>
<span class="kwd">Lemma</span> <span class="id"><a name="find_function_lessdef">find_function_lessdef</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">ros</span> <span class="id">ls</span> <span class="id">tfd</span> <span class="id">ls</span>',<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Linear.html#find_function">find_function</a></span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.tge">tge</a></span> <span class="id"><a href="linearize_proof.html#ros">ros</a></span> <span class="id"><a href="linearize_proof.html#ls">ls</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="linearize_proof.html#tfd">tfd</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="linearize_proof.html#locset_lessdef">locset_lessdef</a></span> <span class="id"><a href="linearize_proof.html#ls">ls</a></span> <span class="id">ls</span>' -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Linear.html#find_function">find_function</a></span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.tge">tge</a></span> <span class="id"><a href="linearize_proof.html#ros">ros</a></span> <span class="id">ls</span>' = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="linearize_proof.html#tfd">tfd</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7525')">Proof.</div>
<div class="proofscript" id="proof7525">
&nbsp;&nbsp;<span class="tactic">clear</span>. <span class="tactic">unfold</span> <span class="id"><a href="Linear.html#find_function">find_function</a></span>; <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">ros</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Globalenvs.html#Genv.find_funct">Genv.find_funct</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">H0</span> (<span class="id"><a href="Locations.html#R">R</a></span> <span class="id">m</span>)). <span class="id">inv</span> <span class="id">H0</span>; <span class="tactic">auto</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">H2</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="tactic">discriminate</span>.<br/>
Qed.</div>
<br/>
<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="match_stackframes">match_stackframes</a></span>: <span class="id"><a href="LTL.html#stackframe">LTL.stackframe</a></span> -&gt; <span class="id"><a href="Linear.html#stackframe">Linear.stackframe</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
&nbsp;&nbsp;| <span class="id"><a name="match_stackframe_intro">match_stackframe_intro</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">f</span> <span class="id">sp</span> <span class="id">bb</span> <span class="id">ls</span> <span class="id">ls</span>' <span class="id">tf</span> <span class="id">c</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">LSLD</span>: <span class="id"><a href="linearize_proof.html#locset_lessdef">locset_lessdef</a></span> <span class="id"><a href="linearize_proof.html#ls">ls</a></span> <span class="id">ls</span>'),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">transf_function</span> <span class="id"><a href="linearize_proof.html#f">f</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="linearize_proof.html#tf">tf</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">forall</span> <span class="id">pc</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="linearize_proof.html#pc">pc</a></span> (<span class="id"><a href="LTL.html#successors_block">successors_block</a></span> <span class="id"><a href="linearize_proof.html#bb">bb</a></span>) -&gt; (<span class="id">reachable</span> <span class="id"><a href="linearize_proof.html#f">f</a></span>)!!<span class="id"><a href="linearize_proof.html#pc">pc</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Coqlib.html#is_tail">is_tail</a></span> <span class="id"><a href="linearize_proof.html#c">c</a></span> <span class="id"><a href="linearize_proof.html#tf">tf</a></span>.(<span class="id"><a href="Linear.html#fn_code">fn_code</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="linearize_proof.html#match_stackframes">match_stackframes</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="LTL.html#Stackframe">LTL.Stackframe</a></span> <span class="id"><a href="linearize_proof.html#f">f</a></span> <span class="id"><a href="linearize_proof.html#sp">sp</a></span> <span class="id"><a href="linearize_proof.html#ls">ls</a></span> <span class="id"><a href="linearize_proof.html#bb">bb</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Linear.html#Stackframe">Linear.Stackframe</a></span> <span class="id"><a href="linearize_proof.html#tf">tf</a></span> <span class="id"><a href="linearize_proof.html#sp">sp</a></span> <span class="id">ls</span>' (<span class="id">linearize_block</span> <span class="id"><a href="linearize_proof.html#bb">bb</a></span> <span class="id"><a href="linearize_proof.html#c">c</a></span>)).<br/>
<br/>
<span class="kwd">Inductive</span> <span class="id"><a name="MATCH_STATE">MATCH_STATE</a></span>:<br/>
&nbsp;&nbsp;<span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#bool">bool</a></span> -&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span> -&gt; <span class="id"><a href="Injections.html#Mu">Injections.Mu</a></span> -&gt; <span class="id"><a href="Footprint.html#FP.t">FP.t</a></span> -&gt; <span class="id"><a href="Footprint.html#FP.t">FP.t</a></span> -&gt;<br/>
&nbsp;&nbsp;<span class="id"><a href="LTL_local.html#core">LTL_local.core</a></span> * <span class="id"><a href="Memory.html#mem">mem</a></span> -&gt; <span class="id"><a href="Linear_local.html#core">Linear_local.core</a></span> * <span class="id"><a href="Memory.html#mem">mem</a></span> -&gt; <span class="kwd">Prop</span> :=<br/>
| <span class="id"><a name="match_states_add_branch">match_states_add_branch</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">mu</span> <span class="id">fp</span> <span class="id">fp</span>' <span class="id">s</span> <span class="id">f</span> <span class="id">sp</span> <span class="id">pc</span> <span class="id">ls</span> <span class="id">sigres0</span> <span class="id">m</span> <span class="id">tf</span> <span class="id">ts</span> <span class="id">c</span> <span class="id">ls</span>' <span class="id">ls0</span> <span class="id">fd0</span> <span class="id">m</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STACKS</span>: <span class="id"><a href="Coqlib.html#list_forall2">list_forall2</a></span> <span class="id"><a href="linearize_proof.html#match_stackframes">match_stackframes</a></span> <span class="id"><a href="linearize_proof.html#s">s</a></span> <span class="id"><a href="linearize_proof.html#ts">ts</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TRF</span>: <span class="id">transf_function</span> <span class="id"><a href="linearize_proof.html#f">f</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="linearize_proof.html#tf">tf</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">REACH</span>: (<span class="id">reachable</span> <span class="id"><a href="linearize_proof.html#f">f</a></span>)!!<span class="id"><a href="linearize_proof.html#pc">pc</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TAIL</span>: <span class="id"><a href="Coqlib.html#is_tail">is_tail</a></span> <span class="id"><a href="linearize_proof.html#c">c</a></span> <span class="id"><a href="linearize_proof.html#tf">tf</a></span>.(<span class="id"><a href="Linear.html#fn_code">fn_code</a></span>))<br/>
<div class="doc">NEW </div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SVALID</span>: <span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedSrc">Injections.SharedSrc</a></span> <span class="id"><a href="linearize_proof.html#mu">mu</a></span>) <span class="id"><a href="linearize_proof.html#b">b</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id"><a href="linearize_proof.html#m">m</a></span> <span class="id"><a href="linearize_proof.html#b">b</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TVALID</span>: <span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedTgt">Injections.SharedTgt</a></span> <span class="id"><a href="linearize_proof.html#mu">mu</a></span>) <span class="id"><a href="linearize_proof.html#b">b</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id">m</span>' <span class="id"><a href="linearize_proof.html#b">b</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">LSLD</span>: <span class="id"><a href="linearize_proof.html#locset_lessdef">locset_lessdef</a></span> <span class="id"><a href="linearize_proof.html#ls">ls</a></span> <span class="id">ls</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SIGRES</span>: <span class="id"><a href="AST.html#sig_res">sig_res</a></span> (<span class="id"><a href="Linear.html#fn_sig">fn_sig</a></span> <span class="id"><a href="linearize_proof.html#fd0">fd0</a></span>) = <span class="id"><a href="linearize_proof.html#sigres0">sigres0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MEXT</span>: <span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="linearize_proof.html#m">m</a></span> <span class="id">m</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">AGMU</span>: <span class="id"><a href="InjRels.html#proper_mu">proper_mu</a></span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.sge">sge</a></span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.tge">tge</a></span> <span class="id"><a href="Values.html#inject_id">inject_id</a></span> <span class="id"><a href="linearize_proof.html#mu">mu</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">RCPRESV</span>: <span class="id"><a href="MemClosures_local.html#unmapped_closed">MemClosures_local.unmapped_closed</a></span> <span class="id"><a href="linearize_proof.html#mu">mu</a></span> <span class="id"><a href="linearize_proof.html#m">m</a></span> <span class="id">m</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FPMATCH</span>: <span class="id">Injections.FPMatch</span>' <span class="id"><a href="linearize_proof.html#mu">mu</a></span> <span class="id"><a href="linearize_proof.html#fp">fp</a></span> <span class="id">fp</span>'),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="linearize_proof.html#MATCH_STATE">MATCH_STATE</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> 0%<span class="id">nat</span> <span class="id"><a href="linearize_proof.html#mu">mu</a></span> <span class="id"><a href="linearize_proof.html#fp">fp</a></span> <span class="id">fp</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="LTL_local.html#Core_State">LTL_local.Core_State</a></span> <span class="id"><a href="linearize_proof.html#s">s</a></span> <span class="id"><a href="linearize_proof.html#f">f</a></span> <span class="id"><a href="linearize_proof.html#sp">sp</a></span> <span class="id"><a href="linearize_proof.html#pc">pc</a></span> <span class="id"><a href="linearize_proof.html#ls">ls</a></span> <span class="id"><a href="linearize_proof.html#sigres0">sigres0</a></span>, <span class="id"><a href="linearize_proof.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Linear_local.html#Core_State">Linear_local.Core_State</a></span> <span class="id"><a href="linearize_proof.html#ts">ts</a></span> <span class="id"><a href="linearize_proof.html#tf">tf</a></span> <span class="id"><a href="linearize_proof.html#sp">sp</a></span> (<span class="id">add_branch</span> <span class="id"><a href="linearize_proof.html#pc">pc</a></span> <span class="id"><a href="linearize_proof.html#c">c</a></span>) <span class="id">ls</span>' (<span class="id"><a href="Linear_local.html#mk_load_frame">mk_load_frame</a></span> <span class="id"><a href="linearize_proof.html#ls0">ls0</a></span> <span class="id"><a href="linearize_proof.html#fd0">fd0</a></span>), <span class="id">m</span>')<br/>
| <span class="id"><a name="match_states_cond_taken">match_states_cond_taken</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">mu</span> <span class="id">fp</span> <span class="id">fp</span>' <span class="id">condfp</span> <span class="id">s</span> <span class="id">f</span> <span class="id">sp</span> <span class="id">pc</span> <span class="id">ls</span> <span class="id">sigres0</span> <span class="id">m</span> <span class="id">tf</span> <span class="id">ts</span> <span class="id">cond</span> <span class="id">args</span> <span class="id">c</span> <span class="id">ls</span>' <span class="id">ls0</span> <span class="id">fd0</span> <span class="id">m</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STACKS</span>: <span class="id"><a href="Coqlib.html#list_forall2">list_forall2</a></span> <span class="id"><a href="linearize_proof.html#match_stackframes">match_stackframes</a></span> <span class="id"><a href="linearize_proof.html#s">s</a></span> <span class="id"><a href="linearize_proof.html#ts">ts</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TRF</span>: <span class="id">transf_function</span> <span class="id"><a href="linearize_proof.html#f">f</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="linearize_proof.html#tf">tf</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">REACH</span>: (<span class="id">reachable</span> <span class="id"><a href="linearize_proof.html#f">f</a></span>)!!<span class="id"><a href="linearize_proof.html#pc">pc</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">JUMP</span>: <span class="id"><a href="Op.html#eval_condition">eval_condition</a></span> <span class="id"><a href="linearize_proof.html#cond">cond</a></span> (<span class="id"><a href="LTL.html#reglist">reglist</a></span> <span class="id"><a href="linearize_proof.html#ls">ls</a></span> <span class="id"><a href="linearize_proof.html#args">args</a></span>) <span class="id"><a href="linearize_proof.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">JUMP_fp</span>: <span class="id"><a href="Op_fp.html#eval_condition_fp">Op_fp.eval_condition_fp</a></span> <span class="id"><a href="linearize_proof.html#cond">cond</a></span> (<span class="id"><a href="LTL.html#reglist">reglist</a></span> <span class="id"><a href="linearize_proof.html#ls">ls</a></span> <span class="id"><a href="linearize_proof.html#args">args</a></span>) <span class="id"><a href="linearize_proof.html#m">m</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="linearize_proof.html#condfp">condfp</a></span>)<br/>
<div class="doc">NEW </div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SVALID</span>: <span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedSrc">Injections.SharedSrc</a></span> <span class="id"><a href="linearize_proof.html#mu">mu</a></span>) <span class="id"><a href="linearize_proof.html#b">b</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id"><a href="linearize_proof.html#m">m</a></span> <span class="id"><a href="linearize_proof.html#b">b</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TVALID</span>: <span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedTgt">Injections.SharedTgt</a></span> <span class="id"><a href="linearize_proof.html#mu">mu</a></span>) <span class="id"><a href="linearize_proof.html#b">b</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id">m</span>' <span class="id"><a href="linearize_proof.html#b">b</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">LSLD</span>: <span class="id"><a href="linearize_proof.html#locset_lessdef">locset_lessdef</a></span> <span class="id"><a href="linearize_proof.html#ls">ls</a></span> <span class="id">ls</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SIGRES</span>: <span class="id"><a href="AST.html#sig_res">sig_res</a></span> (<span class="id"><a href="Linear.html#fn_sig">fn_sig</a></span> <span class="id"><a href="linearize_proof.html#fd0">fd0</a></span>) = <span class="id"><a href="linearize_proof.html#sigres0">sigres0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MEXT</span>: <span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="linearize_proof.html#m">m</a></span> <span class="id">m</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">AGMU</span>: <span class="id"><a href="InjRels.html#proper_mu">proper_mu</a></span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.sge">sge</a></span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.tge">tge</a></span> <span class="id"><a href="Values.html#inject_id">inject_id</a></span> <span class="id"><a href="linearize_proof.html#mu">mu</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">RCPRESV</span>: <span class="id"><a href="MemClosures_local.html#unmapped_closed">MemClosures_local.unmapped_closed</a></span> <span class="id"><a href="linearize_proof.html#mu">mu</a></span> <span class="id"><a href="linearize_proof.html#m">m</a></span> <span class="id">m</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FPMATCH</span>: <span class="id">Injections.FPMatch</span>' <span class="id"><a href="linearize_proof.html#mu">mu</a></span> <span class="id"><a href="linearize_proof.html#fp">fp</a></span> <span class="id">fp</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="linearize_proof.html#MATCH_STATE">MATCH_STATE</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> 0%<span class="id">nat</span> <span class="id"><a href="linearize_proof.html#mu">mu</a></span> (<span class="id"><a href="Footprint.html#FP.union">FP.union</a></span> <span class="id"><a href="linearize_proof.html#fp">fp</a></span> <span class="id"><a href="linearize_proof.html#condfp">condfp</a></span>) <span class="id">fp</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="LTL_local.html#Core_State">LTL_local.Core_State</a></span> <span class="id"><a href="linearize_proof.html#s">s</a></span> <span class="id"><a href="linearize_proof.html#f">f</a></span> <span class="id"><a href="linearize_proof.html#sp">sp</a></span> <span class="id"><a href="linearize_proof.html#pc">pc</a></span> (<span class="id"><a href="LTL.html#undef_regs">undef_regs</a></span> (<span class="id"><a href="Machregs.html#destroyed_by_cond">destroyed_by_cond</a></span> <span class="id"><a href="linearize_proof.html#cond">cond</a></span>) <span class="id"><a href="linearize_proof.html#ls">ls</a></span>) <span class="id"><a href="linearize_proof.html#sigres0">sigres0</a></span>, <span class="id"><a href="linearize_proof.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Linear_local.html#Core_State">Linear_local.Core_State</a></span> <span class="id"><a href="linearize_proof.html#ts">ts</a></span> <span class="id"><a href="linearize_proof.html#tf">tf</a></span> <span class="id"><a href="linearize_proof.html#sp">sp</a></span> (<span class="id"><a href="Linear.html#Lcond">Lcond</a></span> <span class="id"><a href="linearize_proof.html#cond">cond</a></span> <span class="id"><a href="linearize_proof.html#args">args</a></span> <span class="id"><a href="linearize_proof.html#pc">pc</a></span> :: <span class="id"><a href="linearize_proof.html#c">c</a></span>) <span class="id">ls</span>' (<span class="id"><a href="Linear_local.html#mk_load_frame">mk_load_frame</a></span> <span class="id"><a href="linearize_proof.html#ls0">ls0</a></span> <span class="id"><a href="linearize_proof.html#fd0">fd0</a></span>), <span class="id">m</span>')<br/>
| <span class="id"><a name="match_states_jumptable">match_states_jumptable</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">mu</span> <span class="id">fp</span> <span class="id">fp</span>' <span class="id">s</span> <span class="id">f</span> <span class="id">sp</span> <span class="id">pc</span> <span class="id">ls</span> <span class="id">sigres0</span> <span class="id">m</span> <span class="id">tf</span> <span class="id">ts</span> <span class="id">arg</span> <span class="id">tbl</span> <span class="id">c</span> <span class="id">n</span> <span class="id">ls</span>' <span class="id">ls0</span> <span class="id">fd0</span> <span class="id">m</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STACKS</span>: <span class="id"><a href="Coqlib.html#list_forall2">list_forall2</a></span> <span class="id"><a href="linearize_proof.html#match_stackframes">match_stackframes</a></span> <span class="id"><a href="linearize_proof.html#s">s</a></span> <span class="id"><a href="linearize_proof.html#ts">ts</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TRF</span>: <span class="id">transf_function</span> <span class="id"><a href="linearize_proof.html#f">f</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="linearize_proof.html#tf">tf</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">REACH</span>: (<span class="id">reachable</span> <span class="id"><a href="linearize_proof.html#f">f</a></span>)!!<span class="id"><a href="linearize_proof.html#pc">pc</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">ARG</span>: <span class="id"><a href="linearize_proof.html#ls">ls</a></span> (<span class="id"><a href="Locations.html#R">R</a></span> <span class="id"><a href="linearize_proof.html#arg">arg</a></span>) = <span class="id"><a href="Values.html#Vint">Vint</a></span> <span class="id"><a href="linearize_proof.html#n">n</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">JUMP</span>: <span class="id"><a href="Coqlib.html#list_nth_z">list_nth_z</a></span> <span class="id"><a href="linearize_proof.html#tbl">tbl</a></span> (<span class="id"><a href="Integers.html#Int.unsigned">Int.unsigned</a></span> <span class="id"><a href="linearize_proof.html#n">n</a></span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id"><a href="linearize_proof.html#pc">pc</a></span>)<br/>
<div class="doc">NEW </div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SVALID</span>: <span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedSrc">Injections.SharedSrc</a></span> <span class="id"><a href="linearize_proof.html#mu">mu</a></span>) <span class="id"><a href="linearize_proof.html#b">b</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id"><a href="linearize_proof.html#m">m</a></span> <span class="id"><a href="linearize_proof.html#b">b</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TVALID</span>: <span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedTgt">Injections.SharedTgt</a></span> <span class="id"><a href="linearize_proof.html#mu">mu</a></span>) <span class="id"><a href="linearize_proof.html#b">b</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id">m</span>' <span class="id"><a href="linearize_proof.html#b">b</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">LSLD</span>: <span class="id"><a href="linearize_proof.html#locset_lessdef">locset_lessdef</a></span> <span class="id"><a href="linearize_proof.html#ls">ls</a></span> <span class="id">ls</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SIGRES</span>: <span class="id"><a href="AST.html#sig_res">sig_res</a></span> (<span class="id"><a href="Linear.html#fn_sig">fn_sig</a></span> <span class="id"><a href="linearize_proof.html#fd0">fd0</a></span>) = <span class="id"><a href="linearize_proof.html#sigres0">sigres0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MEXT</span>: <span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="linearize_proof.html#m">m</a></span> <span class="id">m</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">AGMU</span>: <span class="id"><a href="InjRels.html#proper_mu">proper_mu</a></span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.sge">sge</a></span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.tge">tge</a></span> <span class="id"><a href="Values.html#inject_id">inject_id</a></span> <span class="id"><a href="linearize_proof.html#mu">mu</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">RCPRESV</span>: <span class="id"><a href="MemClosures_local.html#unmapped_closed">MemClosures_local.unmapped_closed</a></span> <span class="id"><a href="linearize_proof.html#mu">mu</a></span> <span class="id"><a href="linearize_proof.html#m">m</a></span> <span class="id">m</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FPMATCH</span>: <span class="id">Injections.FPMatch</span>' <span class="id"><a href="linearize_proof.html#mu">mu</a></span> <span class="id"><a href="linearize_proof.html#fp">fp</a></span> <span class="id">fp</span>') <br/>
&nbsp;&nbsp;&nbsp;&nbsp;,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="linearize_proof.html#MATCH_STATE">MATCH_STATE</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> 0%<span class="id">nat</span> <span class="id"><a href="linearize_proof.html#mu">mu</a></span> <span class="id"><a href="linearize_proof.html#fp">fp</a></span> <span class="id">fp</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="LTL_local.html#Core_State">LTL_local.Core_State</a></span> <span class="id"><a href="linearize_proof.html#s">s</a></span> <span class="id"><a href="linearize_proof.html#f">f</a></span> <span class="id"><a href="linearize_proof.html#sp">sp</a></span> <span class="id"><a href="linearize_proof.html#pc">pc</a></span> (<span class="id"><a href="LTL.html#undef_regs">undef_regs</a></span> <span class="id"><a href="Machregs.html#destroyed_by_jumptable">destroyed_by_jumptable</a></span> <span class="id"><a href="linearize_proof.html#ls">ls</a></span>) <span class="id"><a href="linearize_proof.html#sigres0">sigres0</a></span>, <span class="id"><a href="linearize_proof.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Linear_local.html#Core_State">Linear_local.Core_State</a></span> <span class="id"><a href="linearize_proof.html#ts">ts</a></span> <span class="id"><a href="linearize_proof.html#tf">tf</a></span> <span class="id"><a href="linearize_proof.html#sp">sp</a></span> (<span class="id"><a href="Linear.html#Ljumptable">Ljumptable</a></span> <span class="id"><a href="linearize_proof.html#arg">arg</a></span> <span class="id"><a href="linearize_proof.html#tbl">tbl</a></span> :: <span class="id"><a href="linearize_proof.html#c">c</a></span>) <span class="id">ls</span>' (<span class="id"><a href="Linear_local.html#mk_load_frame">mk_load_frame</a></span> <span class="id"><a href="linearize_proof.html#ls0">ls0</a></span> <span class="id"><a href="linearize_proof.html#fd0">fd0</a></span>), <span class="id">m</span>')<br/>
| <span class="id"><a name="match_states_block">match_states_block</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">mu</span> <span class="id">fp</span> <span class="id">fp</span>' <span class="id">s</span> <span class="id">f</span> <span class="id">sp</span> <span class="id">bb</span> <span class="id">ls</span> <span class="id">sigres0</span> <span class="id">m</span> <span class="id">tf</span> <span class="id">ts</span> <span class="id">c</span> <span class="id">ls</span>' <span class="id">ls0</span> <span class="id">fd0</span> <span class="id">m</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">STACKS</span>: <span class="id"><a href="Coqlib.html#list_forall2">list_forall2</a></span> <span class="id"><a href="linearize_proof.html#match_stackframes">match_stackframes</a></span> <span class="id"><a href="linearize_proof.html#s">s</a></span> <span class="id"><a href="linearize_proof.html#ts">ts</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TRF</span>: <span class="id">transf_function</span> <span class="id"><a href="linearize_proof.html#f">f</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="linearize_proof.html#tf">tf</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">REACH</span>: <span class="kwd">forall</span> <span class="id">pc</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Lists.List.html#In">In</a></span> <span class="id"><a href="linearize_proof.html#pc">pc</a></span> (<span class="id"><a href="LTL.html#successors_block">successors_block</a></span> <span class="id"><a href="linearize_proof.html#bb">bb</a></span>) -&gt; (<span class="id">reachable</span> <span class="id"><a href="linearize_proof.html#f">f</a></span>)!!<span class="id"><a href="linearize_proof.html#pc">pc</a></span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TAIL</span>: <span class="id"><a href="Coqlib.html#is_tail">is_tail</a></span> <span class="id"><a href="linearize_proof.html#c">c</a></span> <span class="id"><a href="linearize_proof.html#tf">tf</a></span>.(<span class="id"><a href="Linear.html#fn_code">fn_code</a></span>))<br/>
<div class="doc">NEW </div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SVALID</span>: <span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedSrc">Injections.SharedSrc</a></span> <span class="id"><a href="linearize_proof.html#mu">mu</a></span>) <span class="id"><a href="linearize_proof.html#b">b</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id"><a href="linearize_proof.html#m">m</a></span> <span class="id"><a href="linearize_proof.html#b">b</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TVALID</span>: <span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedTgt">Injections.SharedTgt</a></span> <span class="id"><a href="linearize_proof.html#mu">mu</a></span>) <span class="id"><a href="linearize_proof.html#b">b</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id">m</span>' <span class="id"><a href="linearize_proof.html#b">b</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">LSLD</span>: <span class="id"><a href="linearize_proof.html#locset_lessdef">locset_lessdef</a></span> <span class="id"><a href="linearize_proof.html#ls">ls</a></span> <span class="id">ls</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SIGRES</span>: <span class="id"><a href="AST.html#sig_res">sig_res</a></span> (<span class="id"><a href="Linear.html#fn_sig">fn_sig</a></span> <span class="id"><a href="linearize_proof.html#fd0">fd0</a></span>) = <span class="id"><a href="linearize_proof.html#sigres0">sigres0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MEXT</span>: <span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="linearize_proof.html#m">m</a></span> <span class="id">m</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">AGMU</span>: <span class="id"><a href="InjRels.html#proper_mu">proper_mu</a></span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.sge">sge</a></span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.tge">tge</a></span> <span class="id"><a href="Values.html#inject_id">inject_id</a></span> <span class="id"><a href="linearize_proof.html#mu">mu</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">RCPRESV</span>: <span class="id"><a href="MemClosures_local.html#unmapped_closed">MemClosures_local.unmapped_closed</a></span> <span class="id"><a href="linearize_proof.html#mu">mu</a></span> <span class="id"><a href="linearize_proof.html#m">m</a></span> <span class="id">m</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FPMATCH</span>: <span class="id">Injections.FPMatch</span>' <span class="id"><a href="linearize_proof.html#mu">mu</a></span> <span class="id"><a href="linearize_proof.html#fp">fp</a></span> <span class="id">fp</span>') <br/>
&nbsp;&nbsp;&nbsp;&nbsp;,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="linearize_proof.html#MATCH_STATE">MATCH_STATE</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> 1%<span class="id">nat</span> <span class="id"><a href="linearize_proof.html#mu">mu</a></span> <span class="id"><a href="linearize_proof.html#fp">fp</a></span> <span class="id">fp</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="LTL_local.html#Core_Block">LTL_local.Core_Block</a></span> <span class="id"><a href="linearize_proof.html#s">s</a></span> <span class="id"><a href="linearize_proof.html#f">f</a></span> <span class="id"><a href="linearize_proof.html#sp">sp</a></span> <span class="id"><a href="linearize_proof.html#bb">bb</a></span> <span class="id"><a href="linearize_proof.html#ls">ls</a></span> <span class="id"><a href="linearize_proof.html#sigres0">sigres0</a></span>, <span class="id"><a href="linearize_proof.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Linear_local.html#Core_State">Linear_local.Core_State</a></span> <span class="id"><a href="linearize_proof.html#ts">ts</a></span> <span class="id"><a href="linearize_proof.html#tf">tf</a></span> <span class="id"><a href="linearize_proof.html#sp">sp</a></span> (<span class="id">linearize_block</span> <span class="id"><a href="linearize_proof.html#bb">bb</a></span> <span class="id"><a href="linearize_proof.html#c">c</a></span>) <span class="id">ls</span>' (<span class="id"><a href="Linear_local.html#mk_load_frame">mk_load_frame</a></span> <span class="id"><a href="linearize_proof.html#ls0">ls0</a></span> <span class="id"><a href="linearize_proof.html#fd0">fd0</a></span>), <span class="id">m</span>')<br/>
| <span class="id"><a name="match_states_call_init">match_states_call_init</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">mu</span> <span class="id">f</span> <span class="id">args</span> <span class="id">ls0</span> <span class="id">sigres0</span> <span class="id">m</span> <span class="id">fd0</span> <span class="id">m</span>' <br/>
<div class="doc">NEW </div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SVALID</span>: <span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedSrc">Injections.SharedSrc</a></span> <span class="id"><a href="linearize_proof.html#mu">mu</a></span>) <span class="id"><a href="linearize_proof.html#b">b</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id"><a href="linearize_proof.html#m">m</a></span> <span class="id"><a href="linearize_proof.html#b">b</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TVALID</span>: <span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedTgt">Injections.SharedTgt</a></span> <span class="id"><a href="linearize_proof.html#mu">mu</a></span>) <span class="id"><a href="linearize_proof.html#b">b</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id">m</span>' <span class="id"><a href="linearize_proof.html#b">b</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SIGRES</span>: <span class="id"><a href="AST.html#sig_res">sig_res</a></span> (<span class="id"><a href="Linear.html#fn_sig">fn_sig</a></span> <span class="id"><a href="linearize_proof.html#fd0">fd0</a></span>) = <span class="id"><a href="linearize_proof.html#sigres0">sigres0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">HLS</span>: <span class="id"><a href="linearize_proof.html#ls0">ls0</a></span> = <span class="id"><a href="val_casted.html#set_arguments">set_arguments</a></span> (<span class="id"><a href="Conventions1.html#loc_arguments">Conventions1.loc_arguments</a></span> (<span class="id"><a href="Linear.html#fn_sig">fn_sig</a></span> <span class="id"><a href="linearize_proof.html#fd0">fd0</a></span>)) <span class="id"><a href="linearize_proof.html#args">args</a></span> (<span class="id"><a href="Locations.html#Locmap.init">Locmap.init</a></span> <span class="id"><a href="Values.html#Vundef">Vundef</a></span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MEXT</span>: <span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="linearize_proof.html#m">m</a></span> <span class="id">m</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">AGMU</span>: <span class="id"><a href="InjRels.html#proper_mu">proper_mu</a></span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.sge">sge</a></span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.tge">tge</a></span> <span class="id"><a href="Values.html#inject_id">inject_id</a></span> <span class="id"><a href="linearize_proof.html#mu">mu</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">RCPRESV</span>: <span class="id"><a href="MemClosures_local.html#unmapped_closed">MemClosures_local.unmapped_closed</a></span> <span class="id"><a href="linearize_proof.html#mu">mu</a></span> <span class="id"><a href="linearize_proof.html#m">m</a></span> <span class="id">m</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">transf_fundef</span> <span class="id"><a href="linearize_proof.html#f">f</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> (<span class="id"><a href="AST.html#Internal">Internal</a></span> <span class="id"><a href="linearize_proof.html#fd0">fd0</a></span>) -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="linearize_proof.html#MATCH_STATE">MATCH_STATE</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> 0%<span class="id">nat</span> <span class="id"><a href="linearize_proof.html#mu">mu</a></span> <span class="id"><a href="linearize_proof.html#empfp">empfp</a></span> <span class="id"><a href="linearize_proof.html#empfp">empfp</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="LTL_local.html#Core_Callstate">LTL_local.Core_Callstate</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> <span class="id"><a href="linearize_proof.html#f">f</a></span> <span class="id"><a href="linearize_proof.html#ls0">ls0</a></span> <span class="id"><a href="linearize_proof.html#sigres0">sigres0</a></span>, <span class="id"><a href="linearize_proof.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Linear_local.html#Core_CallstateIn">Linear_local.Core_CallstateIn</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nil">nil</a></span> (<span class="id"><a href="AST.html#Internal">Internal</a></span> <span class="id"><a href="linearize_proof.html#fd0">fd0</a></span>) <span class="id"><a href="linearize_proof.html#ls0">ls0</a></span> (<span class="id"><a href="Linear_local.html#mk_load_frame">mk_load_frame</a></span> <span class="id"><a href="linearize_proof.html#ls0">ls0</a></span> <span class="id"><a href="linearize_proof.html#fd0">fd0</a></span>), <span class="id">m</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
| <span class="id"><a name="match_states_call">match_states_call</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">b</span> <span class="id">mu</span> <span class="id">fp</span> <span class="id">fp</span>' <span class="id">s</span> <span class="id">f</span> <span class="id">ls</span> <span class="id">sigres0</span> <span class="id">m</span> <span class="id">tf</span> <span class="id">ts</span> <span class="id">ls</span>' <span class="id">ls0</span> <span class="id">fd0</span> <span class="id">m</span>'<br/>
<div class="doc">NEW </div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SVALID</span>: <span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedSrc">Injections.SharedSrc</a></span> <span class="id"><a href="linearize_proof.html#mu">mu</a></span>) <span class="id"><a href="linearize_proof.html#b">b</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id"><a href="linearize_proof.html#m">m</a></span> <span class="id"><a href="linearize_proof.html#b">b</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TVALID</span>: <span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedTgt">Injections.SharedTgt</a></span> <span class="id"><a href="linearize_proof.html#mu">mu</a></span>) <span class="id"><a href="linearize_proof.html#b">b</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id">m</span>' <span class="id"><a href="linearize_proof.html#b">b</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">LSLD</span>: <span class="id"><a href="linearize_proof.html#locset_lessdef">locset_lessdef</a></span> <span class="id"><a href="linearize_proof.html#ls">ls</a></span> <span class="id">ls</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SIGRES</span>: <span class="id"><a href="AST.html#sig_res">sig_res</a></span> (<span class="id"><a href="Linear.html#fn_sig">fn_sig</a></span> <span class="id"><a href="linearize_proof.html#fd0">fd0</a></span>) = <span class="id"><a href="linearize_proof.html#sigres0">sigres0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MEXT</span>: <span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="linearize_proof.html#m">m</a></span> <span class="id">m</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">AGMU</span>: <span class="id"><a href="InjRels.html#proper_mu">proper_mu</a></span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.sge">sge</a></span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.tge">tge</a></span> <span class="id"><a href="Values.html#inject_id">inject_id</a></span> <span class="id"><a href="linearize_proof.html#mu">mu</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">RCPRESV</span>: <span class="id"><a href="MemClosures_local.html#unmapped_closed">MemClosures_local.unmapped_closed</a></span> <span class="id"><a href="linearize_proof.html#mu">mu</a></span> <span class="id"><a href="linearize_proof.html#m">m</a></span> <span class="id">m</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FPMATCH</span>: <span class="id">Injections.FPMatch</span>' <span class="id"><a href="linearize_proof.html#mu">mu</a></span> <span class="id"><a href="linearize_proof.html#fp">fp</a></span> <span class="id">fp</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Coqlib.html#list_forall2">list_forall2</a></span> <span class="id"><a href="linearize_proof.html#match_stackframes">match_stackframes</a></span> <span class="id"><a href="linearize_proof.html#s">s</a></span> <span class="id"><a href="linearize_proof.html#ts">ts</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">transf_fundef</span> <span class="id"><a href="linearize_proof.html#f">f</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="linearize_proof.html#tf">tf</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="linearize_proof.html#MATCH_STATE">MATCH_STATE</a></span> <span class="id"><a href="linearize_proof.html#b">b</a></span> 0%<span class="id">nat</span> <span class="id"><a href="linearize_proof.html#mu">mu</a></span> <span class="id"><a href="linearize_proof.html#fp">fp</a></span> <span class="id">fp</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="LTL_local.html#Core_Callstate">LTL_local.Core_Callstate</a></span> <span class="id"><a href="linearize_proof.html#s">s</a></span> <span class="id"><a href="linearize_proof.html#f">f</a></span> <span class="id"><a href="linearize_proof.html#ls">ls</a></span> <span class="id"><a href="linearize_proof.html#sigres0">sigres0</a></span>, <span class="id"><a href="linearize_proof.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Linear_local.html#Core_Callstate">Linear_local.Core_Callstate</a></span> <span class="id"><a href="linearize_proof.html#ts">ts</a></span> <span class="id"><a href="linearize_proof.html#tf">tf</a></span> <span class="id">ls</span>' (<span class="id"><a href="Linear_local.html#mk_load_frame">mk_load_frame</a></span> <span class="id"><a href="linearize_proof.html#ls0">ls0</a></span> <span class="id"><a href="linearize_proof.html#fd0">fd0</a></span>), <span class="id">m</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
| <span class="id"><a name="match_states_return">match_states_return</a></span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">mu</span> <span class="id">fp</span> <span class="id">fp</span>' <span class="id">s</span> <span class="id">ls</span> <span class="id">sigres0</span> <span class="id">m</span> <span class="id">ts</span> <span class="id">ls</span>' <span class="id">ls0</span> <span class="id">fd0</span> <span class="id">m</span>'<br/>
<div class="doc">NEW </div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SVALID</span>: <span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedSrc">Injections.SharedSrc</a></span> <span class="id"><a href="linearize_proof.html#mu">mu</a></span>) <span class="id"><a href="linearize_proof.html#b">b</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id"><a href="linearize_proof.html#m">m</a></span> <span class="id"><a href="linearize_proof.html#b">b</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">TVALID</span>: <span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Blockset.html#Bset.belongsto">Bset.belongsto</a></span> (<span class="id"><a href="Injections.html#SharedTgt">Injections.SharedTgt</a></span> <span class="id"><a href="linearize_proof.html#mu">mu</a></span>) <span class="id"><a href="linearize_proof.html#b">b</a></span> -&gt; <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="id">m</span>' <span class="id"><a href="linearize_proof.html#b">b</a></span>)      <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">LSLD</span>: <span class="id"><a href="linearize_proof.html#locset_lessdef">locset_lessdef</a></span> <span class="id"><a href="linearize_proof.html#ls">ls</a></span> <span class="id">ls</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">SIGRES</span>: <span class="id"><a href="AST.html#sig_res">sig_res</a></span> (<span class="id"><a href="Linear.html#fn_sig">fn_sig</a></span> <span class="id"><a href="linearize_proof.html#fd0">fd0</a></span>) = <span class="id"><a href="linearize_proof.html#sigres0">sigres0</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">MEXT</span>: <span class="id"><a href="Memory.html#Mem.extends">Mem.extends</a></span> <span class="id"><a href="linearize_proof.html#m">m</a></span> <span class="id">m</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">AGMU</span>: <span class="id"><a href="InjRels.html#proper_mu">proper_mu</a></span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.sge">sge</a></span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.tge">tge</a></span> <span class="id"><a href="Values.html#inject_id">inject_id</a></span> <span class="id"><a href="linearize_proof.html#mu">mu</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">RCPRESV</span>: <span class="id"><a href="MemClosures_local.html#unmapped_closed">MemClosures_local.unmapped_closed</a></span> <span class="id"><a href="linearize_proof.html#mu">mu</a></span> <span class="id"><a href="linearize_proof.html#m">m</a></span> <span class="id">m</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id">FPMATCH</span>: <span class="id">Injections.FPMatch</span>' <span class="id"><a href="linearize_proof.html#mu">mu</a></span> <span class="id"><a href="linearize_proof.html#fp">fp</a></span> <span class="id">fp</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Coqlib.html#list_forall2">list_forall2</a></span> <span class="id"><a href="linearize_proof.html#match_stackframes">match_stackframes</a></span> <span class="id"><a href="linearize_proof.html#s">s</a></span> <span class="id"><a href="linearize_proof.html#ts">ts</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="linearize_proof.html#MATCH_STATE">MATCH_STATE</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span> 0%<span class="id">nat</span> <span class="id"><a href="linearize_proof.html#mu">mu</a></span> <span class="id"><a href="linearize_proof.html#fp">fp</a></span> <span class="id">fp</span>'<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="LTL_local.html#Core_Returnstate">LTL_local.Core_Returnstate</a></span> <span class="id"><a href="linearize_proof.html#s">s</a></span> <span class="id"><a href="linearize_proof.html#ls">ls</a></span> <span class="id"><a href="linearize_proof.html#sigres0">sigres0</a></span>, <span class="id"><a href="linearize_proof.html#m">m</a></span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Linear_local.html#Core_Returnstate">Linear_local.Core_Returnstate</a></span> <span class="id"><a href="linearize_proof.html#ts">ts</a></span> <span class="id">ls</span>' (<span class="id"><a href="Linear_local.html#mk_load_frame">mk_load_frame</a></span> <span class="id"><a href="linearize_proof.html#ls0">ls0</a></span> <span class="id"><a href="linearize_proof.html#fd0">fd0</a></span>), <span class="id">m</span>').<br/>
<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="TRANSF_local_ldsim">TRANSF_local_ldsim</a></span>:<br/>
&nbsp;&nbsp;@<span class="id"><a href="LDSim_local.html#local_ldsim">local_ldsim</a></span> <span class="id"><a href="LTL_local.html#LTL_IS">LTL_IS</a></span> <span class="id"><a href="Linear_local.html#Linear_IS">Linear_IS</a></span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.sG">sG</a></span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.tG">tG</a></span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.sge">sge</a></span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.tge">tge</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7526')">Proof.</div>
<div class="proofscript" id="proof7526">
&nbsp;&nbsp;<span class="tactic">eapply</span> (@<span class="id"><a href="LDSim_local.html#Local_ldsim">Local_ldsim</a></span> <span class="id"><a href="LTL_local.html#LTL_IS">LTL_IS</a></span> <span class="id"><a href="Linear_local.html#Linear_IS">Linear_IS</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id">_</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#nat">nat</a></span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Arith.PeanoNat.html#Nat.lt">Nat.lt</a></span> <span class="id"><a href="linearize_proof.html#MATCH_STATE">MATCH_STATE</a></span>).<br/>
&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;index&nbsp;wf&nbsp;*)</span>&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Arith.PeanoNat.html#Nat.lt_wf_0">Nat.lt_wf_0</a></span>.<br/>
&nbsp;wd_mu&nbsp;*)</span>&nbsp;&nbsp;- <span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">eapply</span> <span class="id"><a href="InjRels.html#proper_mu_inject">proper_mu_inject</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;inj&nbsp;ge&nbsp;*)</span>&nbsp;&nbsp;- <span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">eapply</span> <span class="id"><a href="InjRels.html#proper_mu_ge_init_inj">proper_mu_ge_init_inj</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;ge&nbsp;match&nbsp;*)</span>&nbsp;&nbsp;- <span class="tactic">apply</span> <span class="id"><a href="linearize_proof.html#ge_match">ge_match</a></span>.<br/>
&nbsp;initial&nbsp;call&nbsp;*)</span>&nbsp;&nbsp;- <span class="tactic">intros</span> <span class="id">mu</span> <span class="id">fid</span> <span class="id">args</span> <span class="id">args</span>' <span class="id">score</span> <span class="id">GE_INIT_INJ</span> <span class="id">INJID</span> <span class="id">GARG</span> <span class="id">ARGREL</span> <span class="id">INITCORE</span>.<br/>
&nbsp;this&nbsp;should&nbsp;be&nbsp;a&nbsp;property&nbsp;derived&nbsp;from&nbsp;TRANSF?&nbsp;*)</span>&nbsp;by&nbsp;properties&nbsp;of&nbsp;init_core_local&nbsp;?&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">HSG</span>: <span class="id"><a href="linearize_proof.html#LINEARIZATION.sG">sG</a></span> = <span class="id"><a href="linearize_proof.html#LINEARIZATION.sge">sge</a></span>) <span class="tactic">by</span> (<span class="id">inv</span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.GE_INIT">GE_INIT</a></span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">HTG</span>: <span class="id"><a href="linearize_proof.html#LINEARIZATION.tG">tG</a></span> = <span class="id"><a href="linearize_proof.html#LINEARIZATION.tge">tge</a></span>) <span class="tactic">by</span> (<span class="id">inv</span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.TGE_INIT">TGE_INIT</a></span>; <span class="tactic">auto</span>).    <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="IS_local.html#init_core_local">init_core_local</a></span> <span class="kwd">in</span> *. <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="LTL_local.html#init_core">LTL_local.init_core</a></span>, <span class="id"><a href="Linear_local.html#init_core">init_core</a></span> <span class="kwd">in</span> *.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="CUAST.html#generic_init_core">generic_init_core</a></span> <span class="kwd">in</span> <span class="id">INITCORE</span> |- * .<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">HTG</span>, <span class="id"><a href="linearize_proof.html#symbols_preserved">symbols_preserved</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">HSG</span> <span class="kwd">in</span> <span class="id">INITCORE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Globalenvs.html#Genv.find_symbol">Genv.find_symbol</a></span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.sge">sge</a></span> <span class="id">fid</span>) <span class="id">eqn</span>: <span class="id">FIND</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Globalenvs.html#Genv.find_funct_ptr">Genv.find_funct_ptr</a></span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.sge">sge</a></span> <span class="id">b</span>) <span class="id">eqn</span>: <span class="id">FINDB</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="linearize_proof.html#function_ptr_translated">function_ptr_translated</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">tf</span> &amp; <span class="id">FINDB</span>' &amp; <span class="id">TRANSL</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">FINDB</span>'. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="LTL_local.html#fundef_init">LTL_local.fundef_init</a></span> <span class="kwd">in</span> <span class="id">INITCORE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">f</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">exists</span> <span class="id">tfd</span>, <span class="id">tf</span> = <span class="id"><a href="AST.html#Internal">Internal</a></span> <span class="id"><a href="linearize_proof.html#tfd">tfd</a></span>)  <span class="kwd">as</span> [<span class="id">tfd</span> <span class="id">INTERNAL</span>] <span class="tactic">by</span> (<span class="id">monadInv</span> <span class="id">TRANSL</span>; <span class="tactic">eauto</span>). <span class="tactic">subst</span> <span class="id">tf</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Linear_local.html#fundef_init">fundef_init</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="linearize_proof.html#sig_preserved">sig_preserved</a></span>;[|<span class="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="val_casted.html#wd_args">wd_args</a></span> <span class="id">args</span> (<span class="id"><a href="AST.html#sig_args">sig_args</a></span> (<span class="id"><a href="LTL.html#funsig">LTL.funsig</a></span> (<span class="id"><a href="AST.html#Internal">Internal</a></span> <span class="id">f</span>)))) <span class="id">eqn</span>: <span class="id">WDARGS</span>; [|<span class="tactic">discriminate</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="val_casted.html#wd_args_inject">wd_args_inject</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexists</span>. <span class="tactic">split</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">sm0</span> <span class="id">tm0</span> <span class="id">INITSM</span> <span class="id">INITTM</span> <span class="id">MEMINITINJ</span> <span class="id">sm</span> <span class="id">tm</span> [<span class="id">HRELY</span> <span class="id">LRELY</span> <span class="id">MINJ</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> 0%<span class="id">nat</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">inversion</span> <span class="id">INITCORE</span>; <span class="tactic">clear</span> <span class="id">INITCORE</span>. <span class="tactic">simpl</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">args</span>' = <span class="id">args</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">generalize</span> <span class="id">ARGREL</span> <span class="id">GARG</span> <span class="id">MEMINITINJ</span>; <span class="tactic">clear</span>. <span class="id">revert</span> <span class="id">args</span>'. <span class="tactic">induction</span> <span class="id">args</span>; <span class="tactic">intros</span> <span class="id">args</span>' <span class="id">REL</span> <span class="id">G</span> <span class="id">MEMREL</span>; <span class="id">inv</span> <span class="id">REL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">auto</span>. <span class="id">inv</span> <span class="id">G</span>. <span class="tactic">f_equal</span>. <span class="id">inv</span> <span class="id">H1</span>; <span class="tactic">auto</span>. <span class="id">inv</span> <span class="id">MEMREL</span>. <span class="tactic">apply</span> <span class="id">inj_inject_id</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">contradiction</span>. <span class="tactic">apply</span> <span class="id">IHargs</span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">subst</span> <span class="id">args</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="linearize_proof.html#sig_preserved">sig_preserved</a></span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>. <span class="tactic">intro</span> <span class="id">SG</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MEMINITINJ</span>. <span class="id">inv</span> <span class="id">HRELY</span>. <span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="kwd">in</span> *. <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id">EQNEXT</span>. <span class="tactic">apply</span> <span class="id">dom_eq_src</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MEMINITINJ</span>. <span class="id">inv</span> <span class="id">LRELY</span>. <span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="kwd">in</span> *. <span class="tactic">intros</span>. <span class="tactic">rewrite</span> <span class="id">EQNEXT</span>. <span class="tactic">apply</span> <span class="id">dom_eq_tgt</span>; <span class="tactic">auto</span>.    <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">SG</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">SG</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">MEMINITINJ</span>. <span class="id">inv</span> <span class="id">HRELY</span>. <span class="id">inv</span> <span class="id">LRELY</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="LDSimDefs_local.html#inject_implies_extends">inject_implies_extends</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">b0</span> <span class="id">A</span>. <span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="kwd">in</span> <span class="id">A</span>; <span class="tactic">rewrite</span> <span class="id">EQNEXT</span>, &lt;- <span class="id">dom_eq_src</span> <span class="kwd">in</span> <span class="id">A</span>. <span class="tactic">eapply</span> <span class="id"><a href="Blockset.html#Bset.inj_dom">Bset.inj_dom</a></span> <span class="kwd">in</span> <span class="id">A</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">A</span> <span class="kwd">as</span> [<span class="id">b</span>' <span class="id">A</span>]. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>. <span class="tactic">rewrite</span> <span class="id">A</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">GE_INIT_INJ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">mu_shared_src</span> <span class="kwd">in</span> <span class="id">dom_eq_src</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">mu_shared_tgt</span> <span class="kwd">in</span> <span class="id">dom_eq_tgt</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.S_EQ">S_EQ</a></span> <span class="kwd">in</span> <span class="id">dom_eq_src</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="kwd">forall</span> <span class="id">b</span>, <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="linearize_proof.html#b">b</a></span> (<span class="id"><a href="Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">sm0</span>) &lt;-&gt; <span class="id"><a href="Coqlib.html#Plt">Plt</a></span> <span class="id"><a href="linearize_proof.html#b">b</a></span> (<span class="id"><a href="Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">tm0</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">intro</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">dom_eq_src</span>, &lt;- <span class="id">dom_eq_tgt</span>. <span class="tactic">tauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">EQNEXT</span>, <span class="id">EQNEXT0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.lt_total">Pos.lt_total</a></span> (<span class="id"><a href="Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">sm0</span>) (<span class="id"><a href="Memory.html#Mem.nextblock">Mem.nextblock</a></span> <span class="id">tm0</span>)) <span class="kwd">as</span> [<span class="id">LT</span> | [<span class="id">EQ</span> | <span class="id">LT</span>]]; <span class="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="tactic">generalize</span> <span class="id">H3</span> <span class="id">LT</span>; <span class="tactic">clear</span>; <span class="tactic">intros</span>; <span class="id">exfalso</span>; <span class="tactic">apply</span> <span class="id">H3</span> <span class="kwd">in</span> <span class="id">LT</span>; <span class="tactic">eapply</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.PArith.BinPos.html#Pos.lt_irrefl">Pos.lt_irrefl</a></span>; <span class="tactic">eauto</span>). }<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MEMINITINJ</span>; <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> ? ? ? ? ? . <span class="id">exploit</span> <span class="id">inj_inject_id</span>. <span class="tactic">exact</span> <span class="id">H</span>. <span class="tactic">intro</span>. <span class="id">inv</span> <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">A</span>. <span class="id">inv</span> <span class="id">A</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="MemClosures_local.html#reach_closed_unmapped_closed">MemClosures_local.reach_closed_unmapped_closed</a></span>. <span class="id">inv</span> <span class="id">LRELY</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;tau&nbsp;step&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">i</span> <span class="id">mu</span> <span class="id">Hfp</span> <span class="id">Lfp</span> <span class="id">Hcore</span> <span class="id">Hm</span> <span class="id">Lcore</span> <span class="id">Lm</span> <span class="id">Hfp</span>' <span class="id">Hcore</span>' <span class="id">Hm</span>' <span class="id">MS</span> <span class="id">STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">STEP</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">HSG</span>: <span class="id"><a href="linearize_proof.html#LINEARIZATION.sG">sG</a></span> = <span class="id"><a href="linearize_proof.html#LINEARIZATION.sge">sge</a></span>) <span class="tactic">by</span> (<span class="id">inv</span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.GE_INIT">GE_INIT</a></span>; <span class="tactic">auto</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">HTG</span>: <span class="id"><a href="linearize_proof.html#LINEARIZATION.tG">tG</a></span> = <span class="id"><a href="linearize_proof.html#LINEARIZATION.tge">tge</a></span>) <span class="tactic">by</span> (<span class="id">inv</span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.TGE_INIT">TGE_INIT</a></span>; <span class="tactic">auto</span>).  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">i</span> <span class="id">mu</span> <span class="id">Hfp</span> <span class="id">Lfp</span> <span class="id">Lcore</span> <span class="id">Lm</span> <span class="id">MS</span> <span class="id">HSG</span> <span class="id">HTG</span>. <span class="tactic">induction</span> <span class="id">STEP</span>; <span class="tactic">intros</span> <span class="id">until</span> 1; <span class="tactic">try</span> (<span class="id">inv</span> <span class="id">MS</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;start&nbsp;of&nbsp;block,&nbsp;at&nbsp;an&nbsp;[add_branch]&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="linearize_proof.html#find_label_lin">find_label_lin</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">k</span> <span class="id">F</span>]. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>. <span class="id">eexists</span> 1%<span class="id">nat</span>, <span class="id">_</span>, <span class="id">_</span>, <span class="id">_</span>.  <span class="tactic">split</span>. <span class="tactic">rewrite</span> <span class="id">HTG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">eapply</span> <span class="id"><a href="linearize_proof.html#add_branch_correct">add_branch_correct</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">do</span> 2 <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">eapply</span> <span class="id"><a href="linearize_proof.html#reachable_successors">reachable_successors</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="linearize_proof.html#is_tail_lin_block">is_tail_lin_block</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="linearize_proof.html#is_tail_find_label">is_tail_find_label</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> 2 <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;start&nbsp;of&nbsp;block,&nbsp;target&nbsp;of&nbsp;an&nbsp;[Lcond]&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">A</span>: <span class="id"><a href="Values.html#Val.lessdef_list">Val.lessdef_list</a></span> (<span class="id"><a href="LTL.html#reglist">reglist</a></span> <span class="id">ls</span> <span class="id">args</span>) (<span class="id"><a href="LTL.html#reglist">reglist</a></span> <span class="id">ls</span>' <span class="id">args</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">revert</span> <span class="id">LSLD</span>; <span class="tactic">clear</span>. <span class="tactic">induction</span> <span class="id">args</span>; <span class="tactic">auto</span>. <span class="tactic">intros</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="linearize_proof.html#find_label_lin">find_label_lin</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">k</span> <span class="id">F</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Op_fp.html#eval_condition_lessdef_fp">Op_fp.eval_condition_lessdef_fp</a></span>; <span class="tactic">try</span> <span class="id">eassumption</span>. <span class="tactic">intros</span> (<span class="id">condfp</span>' &amp; <span class="id">JUMP_fp</span>' &amp; <span class="id">INJFP</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>. <span class="tactic">rewrite</span> <span class="id">HTG</span>. <span class="id">eexists</span> 1%<span class="id">nat</span>, <span class="id">_</span>, <span class="id">_</span>, <span class="id">_</span>. <span class="tactic">split</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#plus_one">plus_one</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="Linear_local.html#exec_Lcond_true">exec_Lcond_true</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Op.html#eval_condition_lessdef">eval_condition_lessdef</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> |- ?<span class="id">P</span> /\ <span class="id">_</span> =&gt; <span class="tactic">assert</span> <span class="id">P</span> <span class="kwd">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>. <span class="tactic">apply</span> <span class="id">Injections.fp_match_union</span>'; <span class="tactic">auto</span>. <span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eapply</span> <span class="id"><a href="Op_fp.html#fp_inject_fp_match">fp_inject_fp_match</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">eapply</span> <span class="id"><a href="linearize_proof.html#reachable_successors">reachable_successors</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="linearize_proof.html#is_tail_lin_block">is_tail_lin_block</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="linearize_proof.html#is_tail_find_label">is_tail_find_label</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;start&nbsp;of&nbsp;block,&nbsp;target&nbsp;of&nbsp;an&nbsp;[Ljumptable]&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="linearize_proof.html#find_label_lin">find_label_lin</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">k</span> <span class="id">F</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>; <span class="id">eexists</span> 1%<span class="id">nat</span>, <span class="id">_</span>, <span class="id">_</span>, <span class="id">_</span>. <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#plus_one">plus_one</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="Linear_local.html#exec_Ljumptable">exec_Ljumptable</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">LSLD</span>. <span class="tactic">rewrite</span> <span class="id">ARG</span>. <span class="tactic">intro</span> <span class="id">B</span>. <span class="id">inv</span> <span class="id">B</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">do</span> 2 <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>; <span class="tactic">eapply</span> <span class="id"><a href="linearize_proof.html#reachable_successors">reachable_successors</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="linearize_proof.html#is_tail_lin_block">is_tail_lin_block</a></span>; <span class="tactic">eauto</span>. <span class="tactic">eapply</span> <span class="id"><a href="linearize_proof.html#is_tail_find_label">is_tail_find_label</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">resolv_ls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;Lop&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>. <span class="tactic">simpl</span>. <span class="tactic">rewrite</span> <span class="id">HTG</span>. <span class="tactic">rewrite</span> <span class="id">HSG</span> <span class="kwd">in</span> <span class="id">H</span>, <span class="id">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">A</span>: <span class="id"><a href="Values.html#Val.lessdef_list">Val.lessdef_list</a></span> (<span class="id"><a href="LTL.html#reglist">reglist</a></span> <span class="id">rs</span> <span class="id">args</span>) (<span class="id"><a href="LTL.html#reglist">reglist</a></span> <span class="id">ls</span>' <span class="id">args</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">revert</span> <span class="id">LSLD</span>; <span class="tactic">clear</span>. <span class="tactic">induction</span> <span class="id">args</span>; <span class="tactic">auto</span>. <span class="tactic">intros</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Op_fp.html#eval_operation_lessdef_fp">eval_operation_lessdef_fp</a></span>; <span class="tactic">try</span> <span class="id">eassumption</span>. <span class="tactic">intros</span> (<span class="id">fp</span>' &amp; <span class="id">B</span> &amp; <span class="id">B</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Op.html#eval_operation_lessdef">eval_operation_lessdef</a></span>; <span class="tactic">try</span> <span class="id">eassumption</span>. <span class="tactic">intros</span> (<span class="id">v</span>' &amp; <span class="id">C</span> &amp; <span class="id">C</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexists</span> 1%<span class="id">nat</span>, <span class="id">_</span>, <span class="id">_</span>, <span class="id">_</span>. <span class="tactic">split</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#plus_one">plus_one</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- <span class="id"><a href="Op.html#eval_operation_preserved">eval_operation_preserved</a></span> <span class="kwd">in</span> <span class="id">C</span>; <span class="tactic">eauto</span>. <span class="tactic">exact</span> <span class="id"><a href="linearize_proof.html#symbols_preserved">symbols_preserved</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> &lt;- <span class="id"><a href="Op_fp.html#eval_operation_fp_preserved">eval_operation_fp_preserved</a></span> <span class="kwd">in</span> <span class="id">B</span>; <span class="tactic">eauto</span>. <span class="tactic">exact</span> <span class="id"><a href="linearize_proof.html#symbols_preserved">symbols_preserved</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> |- ?<span class="id">P</span> /\ <span class="id">_</span> =&gt; <span class="tactic">assert</span> <span class="id">P</span> <span class="kwd">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Injections.fp_match_union</span>'; <span class="tactic">auto</span>. <span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eapply</span> <span class="id"><a href="Op_fp.html#fp_inject_fp_match">fp_inject_fp_match</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">resolv_ls</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;Lload&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="linearize_proof.html#locset_lessdef_regs">locset_lessdef_regs</a></span>; <span class="tactic">eauto</span>. <span class="id">instantiate</span> (1:= <span class="id">args</span>). <span class="tactic">intro</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Op.html#eval_addressing_lessdef">eval_addressing_lessdef</a></span>; <span class="tactic">try</span> <span class="id">eassumption</span>. <span class="tactic">intros</span> (<span class="id">a</span>' &amp; <span class="id">B</span> &amp; <span class="id">B</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="id">inv</span> <span class="id">B</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Memory.html#Mem.load_extends">Mem.load_extends</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">v</span>' &amp; <span class="id">C</span> &amp; <span class="id">C</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>. <span class="tactic">rewrite</span> <span class="id">HTG</span>. <span class="id">eexists</span> 1%<span class="id">nat</span>, <span class="id">_</span>, <span class="id">_</span>, <span class="id">_</span>. <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#plus_one">plus_one</a></span>. <span class="id">econstructor</span>; <span class="tactic">try</span> <span class="id">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">B</span>. <span class="tactic">apply</span> <span class="id"><a href="Op.html#eval_addressing_preserved">eval_addressing_preserved</a></span>. <span class="tactic">rewrite</span> <span class="id">HSG</span>. <span class="tactic">exact</span> <span class="id"><a href="linearize_proof.html#symbols_preserved">symbols_preserved</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> |- ?<span class="id">P</span> /\ <span class="id">_</span> =&gt; <span class="tactic">assert</span> <span class="id">P</span> <span class="kwd">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Injections.fp_match_union</span>'; <span class="tactic">auto</span>. <span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eapply</span> <span class="id"><a href="LDSimDefs_local.html#fp_match_id">fp_match_id</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">resolv_ls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;Lgetstack&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>. <span class="tactic">rewrite</span> <span class="id">HTG</span>. <span class="id">eexists</span> 1%<span class="id">nat</span>, <span class="id">_</span>, <span class="id">_</span>, <span class="id">_</span>. <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#plus_one">plus_one</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> (<span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">resolv_ls</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;Lsetstack&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>. <span class="tactic">rewrite</span> <span class="id">HTG</span>. <span class="id">eexists</span> 1%<span class="id">nat</span>, <span class="id">_</span>, <span class="id">_</span>, <span class="id">_</span>. <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#plus_one">plus_one</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">resolv_ls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;Lstore&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="linearize_proof.html#locset_lessdef_regs">locset_lessdef_regs</a></span>; <span class="tactic">eauto</span>. <span class="id">instantiate</span> (1:= <span class="id">args</span>). <span class="tactic">intro</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Op.html#eval_addressing_lessdef">eval_addressing_lessdef</a></span>; <span class="tactic">try</span> <span class="id">eassumption</span>. <span class="tactic">intros</span> (<span class="id">a</span>' &amp; <span class="id">B</span> &amp; <span class="id">B</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">a</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H0</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="id">inv</span> <span class="id">B</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Memory.html#Mem.store_within_extends">Mem.store_within_extends</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">Lm</span>' &amp; <span class="id">C</span> &amp; <span class="id">C</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>. <span class="tactic">rewrite</span> <span class="id">HTG</span>. <span class="id">eexists</span> 1%<span class="id">nat</span>, <span class="id">_</span>, <span class="id">_</span>, <span class="id">_</span>. <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#plus_one">plus_one</a></span>. <span class="id">econstructor</span>; <span class="tactic">try</span> <span class="id">eassumption</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">B</span>. <span class="tactic">apply</span> <span class="id"><a href="Op.html#eval_addressing_preserved">eval_addressing_preserved</a></span>. <span class="tactic">rewrite</span> <span class="id">HSG</span>. <span class="tactic">exact</span> <span class="id"><a href="linearize_proof.html#symbols_preserved">symbols_preserved</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> |- ?<span class="id">P</span> /\ <span class="id">_</span> =&gt; <span class="tactic">assert</span> <span class="id">P</span> <span class="kwd">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Injections.fp_match_union</span>'; <span class="tactic">auto</span>. <span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eapply</span> <span class="id"><a href="LDSimDefs_local.html#fp_match_id">fp_match_id</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="id">resolv_ls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id">SVALID</span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.store_valid_block_1">Mem.store_valid_block_1</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">apply</span> <span class="id">TVALID</span> <span class="kwd">in</span> <span class="id">H2</span>. <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.store_valid_block_1">Mem.store_valid_block_1</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">resolv_ls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">AGMU</span>. <span class="tactic">eapply</span> <span class="id"><a href="MemClosures_local.html#store_val_inject_unmapped_closed_preserved">MemClosures_local.store_val_inject_unmapped_closed_preserved</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Values.html#inject_id">inject_id</a></span>. <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.ZArith.BinInt.html#Z.add_0_r">Z.add_0_r</a></span>. <span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;Lcall&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="linearize_proof.html#find_function_translated">find_function_translated</a></span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">HSG</span> <span class="kwd">in</span> *. <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">tfd</span> [<span class="id">A</span> <span class="id">B</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>. <span class="id">eexists</span> 0%<span class="id">nat</span>, <span class="id">_</span>, <span class="id">_</span>, <span class="id">_</span>. <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#plus_one">plus_one</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">HTG</span>. <span class="tactic">eapply</span> <span class="id"><a href="linearize_proof.html#find_function_lessdef">find_function_lessdef</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span>; <span class="tactic">eapply</span> <span class="id"><a href="linearize_proof.html#sig_preserved">sig_preserved</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> (<span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="id">constructor</span>; <span class="tactic">auto</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;Ltailcall&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">exploit</span> <span class="id"><a href="linearize_proof.html#find_function_translated">find_function_translated</a></span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> &lt;- <span class="id">HSG</span>. <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">tfd</span> [<span class="id">A</span> <span class="id">B</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Memory.html#Mem.free_parallel_extends">Mem.free_parallel_extends</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">Lm</span>' [<span class="id">C</span> <span class="id">D</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>. <span class="id">eexists</span> 0%<span class="id">nat</span>, <span class="id">_</span>, <span class="id">_</span>, <span class="id">_</span>. <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#plus_one">plus_one</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">HTG</span>. <span class="tactic">eapply</span> <span class="id"><a href="linearize_proof.html#find_function_lessdef">find_function_lessdef</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">resolv_ls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">STACKS</span>. <span class="tactic">simpl</span>. <span class="tactic">intro</span>. <span class="tactic">auto</span>. <span class="tactic">simpl</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">symmetry</span>; <span class="tactic">eapply</span> <span class="id"><a href="linearize_proof.html#sig_preserved">sig_preserved</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="linearize_proof.html#stacksize_preserved">stacksize_preserved</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">TRF</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> |- ?<span class="id">P</span> /\ <span class="id">_</span> =&gt; <span class="tactic">assert</span> <span class="id">P</span> <span class="kwd">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Injections.fp_match_union</span>'; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="linearize_proof.html#stacksize_preserved">stacksize_preserved</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">TRF</span>); <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eapply</span> <span class="id"><a href="LDSimDefs_local.html#fp_match_id">fp_match_id</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> ? <span class="id">S</span>. <span class="tactic">apply</span> <span class="id">SVALID</span> <span class="kwd">in</span> <span class="id">S</span>. <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.valid_block_free_1">Mem.valid_block_free_1</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> ? <span class="id">T</span>. <span class="tactic">apply</span> <span class="id">TVALID</span> <span class="kwd">in</span> <span class="id">T</span>. <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.valid_block_free_1">Mem.valid_block_free_1</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">resolv_ls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">STACKS</span>. <span class="tactic">simpl</span>. <span class="tactic">intro</span>. <span class="tactic">auto</span>. <span class="tactic">simpl</span>. <span class="id">inv</span> <span class="id">H1</span>. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">AGMU</span>. <span class="tactic">eapply</span> <span class="id"><a href="MemClosures_local.html#free_inject_unmapped_closed_preserved">MemClosures_local.free_inject_unmapped_closed_preserved</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Values.html#inject_id">inject_id</a></span>. <span class="tactic">eauto</span>. <span class="tactic">omega</span>. <span class="tactic">omega</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;Lbuiltin&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>. <span class="id">exploit</span> <span class="id"><a href="Events.html#eval_builtin_args_lessdef">eval_builtin_args_lessdef</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">vl</span>' [<span class="id">A</span> <span class="id">B</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Events.html#external_call_mem_extends">external_call_mem_extends</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">vres</span>' [<span class="id">Lm</span>' [<span class="id">C</span> [<span class="id">D</span> <span class="id">_</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="helpers.html#i64ext_effects">helpers.i64ext_effects</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">X</span> <span class="id">_</span> ]. <span class="tactic">subst</span> <span class="id">Lm</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexists</span> 1%<span class="id">nat</span>, <span class="id">_</span>, <span class="id">_</span>, <span class="id">_</span>. <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#plus_one">plus_one</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="Linear_local.html#exec_Lbuiltin">exec_Lbuiltin</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Events.html#eval_builtin_args_preserved">eval_builtin_args_preserved</a></span> <span class="kwd">with</span> (<span class="id">ge1</span> := <span class="id"><a href="linearize_proof.html#LINEARIZATION.sG">sG</a></span>); <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">HSG</span>, <span class="id">HTG</span>. <span class="tactic">exact</span> <span class="id"><a href="linearize_proof.html#symbols_preserved">symbols_preserved</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="MemOpFP.html#eval_builtin_args_fp_preserved">MemOpFP.eval_builtin_args_fp_preserved</a></span> <span class="kwd">with</span> (<span class="id">ge1</span> := <span class="id"><a href="linearize_proof.html#LINEARIZATION.sG">sG</a></span>); <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">HSG</span>, <span class="id">HTG</span>. <span class="tactic">exact</span> <span class="id"><a href="linearize_proof.html#symbols_preserved">symbols_preserved</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="MemOpFP.html#eval_builtin_args_fp_lessdef">MemOpFP.eval_builtin_args_fp_lessdef</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Events.html#external_call_symbols_preserved">external_call_symbols_preserved</a></span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">HTG</span>, <span class="id">HSG</span>. <span class="tactic">apply</span> <span class="id"><a href="linearize_proof.html#senv_preserved">senv_preserved</a></span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> |- ?<span class="id">P</span> /\ <span class="id">_</span> =&gt; <span class="tactic">assert</span> <span class="id">P</span> <span class="kwd">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Injections.fp_match_union</span>'; <span class="tactic">auto</span>. <span class="tactic">eapply</span> <span class="id"><a href="LDSimDefs_local.html#fp_match_id">fp_match_id</a></span>; <span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="id">resolv_ls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;Lbranch&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> ((<span class="id">reachable</span> <span class="id">f</span>)!!<span class="id">pc</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>). <span class="tactic">apply</span> <span class="id">REACH</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">left</span>; <span class="id">exists</span> 0%<span class="id">nat</span>; <span class="tactic">split</span>. <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>. <br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;Lcond&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">REACH1</span>: (<span class="id">reachable</span> <span class="id">f</span>)!!<span class="id">pc1</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>) <span class="tactic">by</span> (<span class="tactic">apply</span> <span class="id">REACH</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">REACH2</span>: (<span class="id">reachable</span> <span class="id">f</span>)!!<span class="id">pc2</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>) <span class="tactic">by</span> (<span class="tactic">apply</span> <span class="id">REACH</span>; <span class="tactic">simpl</span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Op.html#eval_condition_lessdef">eval_condition_lessdef</a></span>; <span class="tactic">try</span> <span class="id">eassumption</span>. <span class="tactic">eapply</span> <span class="id"><a href="linearize_proof.html#locset_lessdef_regs">locset_lessdef_regs</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intro</span> <span class="id">A</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Op_fp.html#eval_condition_lessdef_fp">eval_condition_lessdef_fp</a></span>; <span class="tactic">try</span> <span class="id">eassumption</span>. <span class="tactic">eapply</span> <span class="id"><a href="linearize_proof.html#locset_lessdef_regs">locset_lessdef_regs</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> (<span class="id">fp</span>' &amp; <span class="id">B</span> &amp; <span class="id">B</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">C</span>: <span class="id"><a href="Op_fp.html#eval_condition_fp">eval_condition_fp</a></span> (<span class="id"><a href="Op.html#negate_condition">negate_condition</a></span> <span class="id">cond</span>) (<span class="id"><a href="LTL.html#reglist">reglist</a></span> <span class="id">ls</span>' <span class="id">args</span>) <span class="id">Lm</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">fp</span>').<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">eapply</span> <span class="id"><a href="Op_fp.html#eval_condition_fp_negate">eval_condition_fp_negate</a></span>; <span class="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Op_fp.html#fp_inject_fp_match">fp_inject_fp_match</a></span>; <span class="tactic">try</span> <span class="tactic">exact</span> <span class="id">B</span>'; <span class="tactic">try</span> (<span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eauto</span>; <span class="tactic">fail</span>). <span class="tactic">clear</span> <span class="id">B</span>'. <span class="tactic">intro</span> <span class="id">B</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="id">linearize_block</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">starts_with</span> <span class="id">pc1</span> <span class="id">c</span>).<br/>
&nbsp;branch&nbsp;if&nbsp;cond&nbsp;is&nbsp;false&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">DC</span>: <span class="id"><a href="Machregs.html#destroyed_by_cond">destroyed_by_cond</a></span> (<span class="id"><a href="Op.html#negate_condition">negate_condition</a></span> <span class="id">cond</span>) = <span class="id"><a href="Machregs.html#destroyed_by_cond">destroyed_by_cond</a></span> <span class="id">cond</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">cond</span>; <span class="tactic">reflexivity</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">b</span>.<br/>
&nbsp;cond&nbsp;is&nbsp;true:&nbsp;no&nbsp;branch&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>. <span class="id">eexists</span> 0%<span class="id">nat</span>, <span class="id">_</span>, <span class="id">_</span>, <span class="id">_</span>. <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#plus_one">plus_one</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="Linear_local.html#exec_Lcond_false">exec_Lcond_false</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Op.html#eval_negate_condition">eval_negate_condition</a></span>. <span class="tactic">rewrite</span> <span class="id">A</span>. <span class="tactic">auto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">DC</span>. <span class="tactic">split</span>. <span class="tactic">apply</span> <span class="id">Injections.fp_match_union</span>'; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">apply</span> <span class="id">Injections.fp_match_union</span>'; <span class="tactic">auto</span>.<br/>
&nbsp;cond&nbsp;is&nbsp;false:&nbsp;branch&nbsp;is&nbsp;taken&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">left</span>. <span class="id">eexists</span> 0%<span class="id">nat</span>. <span class="tactic">split</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- <span class="id">DC</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Op.html#eval_negate_condition">eval_negate_condition</a></span>. <span class="tactic">rewrite</span> <span class="id">H</span>. <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="Op_fp.html#eval_condition_fp_negate">eval_condition_fp_negate</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;branch&nbsp;if&nbsp;cond&nbsp;is&nbsp;true&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">b</span>.<br/>
&nbsp;cond&nbsp;is&nbsp;true:&nbsp;branch&nbsp;is&nbsp;taken&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">left</span>. <span class="id">eexists</span> 0%<span class="id">nat</span>. <span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;cond&nbsp;is&nbsp;false:&nbsp;no&nbsp;branch&nbsp;*)</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>. <span class="id">eexists</span> 0%<span class="id">nat</span>, <span class="id">_</span>, <span class="id">_</span>, <span class="id">_</span>. <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#plus_one">plus_one</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="Linear_local.html#exec_Lcond_false">exec_Lcond_false</a></span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>.  <span class="tactic">apply</span> <span class="id">Injections.fp_match_union</span>'; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.  <span class="tactic">apply</span> <span class="id">Injections.fp_match_union</span>'; <span class="tactic">auto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;Ljumptable&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">REACH</span>': (<span class="id">reachable</span> <span class="id">f</span>)!!<span class="id">pc</span> = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">REACH</span>. <span class="tactic">simpl</span>. <span class="tactic">eapply</span> <span class="id"><a href="Coqlib.html#list_nth_z_in">list_nth_z_in</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">left</span>. <span class="id">eexists</span> 0%<span class="id">nat</span>. <span class="tactic">split</span>. <span class="tactic">auto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;Lreturn&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Memory.html#Mem.free_parallel_extends">Mem.free_parallel_extends</a></span>; <span class="tactic">eauto</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="linearize_proof.html#stacksize_preserved">stacksize_preserved</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">TRF</span>). <span class="tactic">intros</span> [<span class="id">Lm</span>' [<span class="id">A</span> <span class="id">B</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>. <span class="id">eexists</span> 0%<span class="id">nat</span>, <span class="id">_</span>, <span class="id">_</span>, <span class="id">_</span>. <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#plus_one">plus_one</a></span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> |- ?<span class="id">P</span> /\ <span class="id">_</span> =&gt; <span class="tactic">assert</span> <span class="id">P</span> <span class="kwd">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Injections.fp_match_union</span>'; <span class="tactic">auto</span>. <span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eapply</span> <span class="id"><a href="LDSimDefs_local.html#fp_match_id">fp_match_id</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">auto</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> ? <span class="id">S</span>. <span class="tactic">apply</span> <span class="id">SVALID</span> <span class="kwd">in</span> <span class="id">S</span>. <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.valid_block_free_1">Mem.valid_block_free_1</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> ? <span class="id">T</span>. <span class="tactic">apply</span> <span class="id">TVALID</span> <span class="kwd">in</span> <span class="id">T</span>. <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.valid_block_free_1">Mem.valid_block_free_1</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">resolv_ls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">inv</span> <span class="id">STACKS</span>. <span class="tactic">simpl</span>. <span class="tactic">intro</span>. <span class="tactic">auto</span>. <span class="tactic">simpl</span>. <span class="id">inv</span> <span class="id">H1</span>. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">AGMU</span>. <span class="tactic">eapply</span> <span class="id"><a href="MemClosures_local.html#free_inject_unmapped_closed_preserved">MemClosures_local.free_inject_unmapped_closed_preserved</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Values.html#inject_id">inject_id</a></span>; <span class="tactic">eauto</span>. <span class="tactic">omega</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="linearize_proof.html#stacksize_preserved">stacksize_preserved</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">TRF</span>). <span class="tactic">omega</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;initial&nbsp;call&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">REACH</span>: (<span class="id">reachable</span> <span class="id">f</span>)!!(<span class="id"><a href="LTL.html#fn_entrypoint">LTL.fn_entrypoint</a></span> <span class="id">f</span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="linearize_proof.html#reachable_entrypoint">reachable_entrypoint</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">H8</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Memory.html#Mem.alloc_extends">Mem.alloc_extends</a></span>; <span class="tactic">eauto</span>. <span class="id">instantiate</span> (1:= 0); <span class="tactic">omega</span>. <span class="id">instantiate</span> (1:= <span class="id"><a href="LTL.html#fn_stacksize">LTL.fn_stacksize</a></span> <span class="id">f</span>); <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="linearize_proof.html#stacksize_preserved">stacksize_preserved</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">EQ</span>). <span class="tactic">intros</span> [<span class="id">Lm</span>' [<span class="id">A</span> <span class="id">B</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>. <span class="id">eexists</span> 0%<span class="id">nat</span>, <span class="id">_</span>, <span class="id">_</span>, <span class="id">_</span>. <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="InteractionSemantics.html#plus_two">plus_two</a></span>. <span class="id">econstructor</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.emp_union_fp">FP.emp_union_fp</a></span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> (<span class="id"><a href="Footprint.html#FP.emp_union_fp">FP.emp_union_fp</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> |- ?<span class="id">P</span> /\ <span class="id">_</span> =&gt; <span class="tactic">assert</span> <span class="id">P</span> <span class="kwd">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="MemOpFP.html#alloc_fp">MemOpFP.alloc_fp</a></span>. <span class="id">inv</span> <span class="id">MEXT</span>. <span class="tactic">rewrite</span> <span class="id">mext_next</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eapply</span> <span class="id"><a href="LDSimDefs_local.html#fp_match_id">fp_match_id</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id">EQ</span>. <span class="tactic">intros</span> <span class="id">EQ</span>'. <span class="id">monadInv</span> <span class="id">EQ</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>; <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="linearize_proof.html#is_tail_add_branch">is_tail_add_branch</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> ? <span class="id">S</span>. <span class="tactic">apply</span> <span class="id">SVALID</span> <span class="kwd">in</span> <span class="id">S</span>. <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.valid_block_alloc">Mem.valid_block_alloc</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> ? <span class="id">T</span>. <span class="tactic">apply</span> <span class="id">TVALID</span> <span class="kwd">in</span> <span class="id">T</span>. <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.valid_block_alloc">Mem.valid_block_alloc</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">resolv_ls</span>. <span class="tactic">intro</span> <span class="id">l</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="MemClosures_local.html#unchanged_on_unmapped_closed_preserved">MemClosures_local.unchanged_on_unmapped_closed_preserved</a></span>; <span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.alloc_unchanged_on">Mem.alloc_unchanged_on</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.alloc_unchanged_on">Mem.alloc_unchanged_on</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;internal&nbsp;functions&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">REACH</span>: (<span class="id">reachable</span> <span class="id">f</span>)!!(<span class="id"><a href="LTL.html#fn_entrypoint">LTL.fn_entrypoint</a></span> <span class="id">f</span>) = <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#true">true</a></span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="linearize_proof.html#reachable_entrypoint">reachable_entrypoint</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">monadInv</span> <span class="id">H15</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Memory.html#Mem.alloc_extends">Mem.alloc_extends</a></span>; <span class="tactic">eauto</span>. <span class="id">instantiate</span> (1:= 0); <span class="tactic">omega</span>. <span class="id">instantiate</span> (1:= <span class="id"><a href="LTL.html#fn_stacksize">LTL.fn_stacksize</a></span> <span class="id">f</span>); <span class="tactic">omega</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> &lt;- (<span class="id"><a href="linearize_proof.html#stacksize_preserved">stacksize_preserved</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">EQ</span>). <span class="tactic">intros</span> [<span class="id">Lm</span>' [<span class="id">A</span> <span class="id">B</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>. <span class="id">eexists</span> 0%<span class="id">nat</span>, <span class="id">_</span>, <span class="id">_</span>, <span class="id">_</span>. <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#plus_one">plus_one</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="Linear_local.html#exec_function_internal">exec_function_internal</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> (<span class="id"><a href="linearize_proof.html#stacksize_preserved">stacksize_preserved</a></span> <span class="id">_</span> <span class="id">_</span> <span class="id">EQ</span>). <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">match</span> <span class="id">goal</span> <span class="kwd">with</span> |- ?<span class="id">P</span> /\ <span class="id">_</span> =&gt; <span class="tactic">assert</span> <span class="id">P</span> <span class="kwd">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Injections.fp_match_union</span>'; <span class="tactic">auto</span>. <span class="tactic">unfold</span> <span class="id"><a href="MemOpFP.html#alloc_fp">MemOpFP.alloc_fp</a></span>. <span class="id">inv</span> <span class="id">MEXT</span>. <span class="tactic">rewrite</span> <span class="id">mext_next</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eapply</span> <span class="id"><a href="LDSimDefs_local.html#fp_match_id">fp_match_id</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> <span class="id">EQ</span>; <span class="tactic">intro</span> <span class="id">EQ</span>'; <span class="id">monadInv</span> <span class="id">EQ</span>'. <span class="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="tactic">simpl</span>. <span class="tactic">eapply</span> <span class="id"><a href="linearize_proof.html#is_tail_add_branch">is_tail_add_branch</a></span>. <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> ? <span class="id">S</span>. <span class="tactic">apply</span> <span class="id">SVALID</span> <span class="kwd">in</span> <span class="id">S</span>. <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.valid_block_alloc">Mem.valid_block_alloc</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> ? <span class="id">T</span>. <span class="tactic">apply</span> <span class="id">TVALID</span> <span class="kwd">in</span> <span class="id">T</span>. <span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.valid_block_alloc">Mem.valid_block_alloc</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">resolv_ls</span>. <span class="tactic">apply</span> <span class="id"><a href="linearize_proof.html#call_locset_lessdef">call_locset_lessdef</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="MemClosures_local.html#unchanged_on_unmapped_closed_preserved">MemClosures_local.unchanged_on_unmapped_closed_preserved</a></span>; <span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.alloc_unchanged_on">Mem.alloc_unchanged_on</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Memory.html#Mem.alloc_unchanged_on">Mem.alloc_unchanged_on</a></span>; <span class="tactic">eauto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;external&nbsp;function&nbsp;*)</span> <span class="id">monadInv</span> <span class="id">H9</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id">monadInv</span> <span class="id">H16</span>. <span class="id">exploit</span> <span class="id"><a href="Events.html#external_call_mem_extends">external_call_mem_extends</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="linearize_proof.html#locset_lessdef_args">locset_lessdef_args</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">vres</span>' [<span class="id">Lm</span>' [<span class="id">EXT</span> [<span class="id">VLD</span> <span class="id">_</span>]]]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="helpers.html#i64ext_effects">helpers.i64ext_effects</a></span>; <span class="tactic">eauto</span>. <span class="tactic">intros</span> [<span class="id">X</span> <span class="id">Y</span>]; <span class="tactic">subst</span> <span class="id">Lm</span>' <span class="id">t</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>. <span class="id">eexists</span> 0%<span class="id">nat</span>, <span class="id">_</span>, <span class="id">_</span>, <span class="id">_</span>. <span class="tactic">split</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#plus_one">plus_one</a></span>. <span class="tactic">eapply</span> <span class="id"><a href="Linear_local.html#exec_function_external">exec_function_external</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Events.html#external_call_symbols_preserved">external_call_symbols_preserved</a></span>; <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id">HSG</span>, <span class="id">HTG</span>; <span class="tactic">apply</span> <span class="id"><a href="linearize_proof.html#senv_preserved">senv_preserved</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>. <span class="id">resolv_ls</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="comment">(*&nbsp;return&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">H5</span>. <span class="id">inv</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">right</span>. <span class="id">eexists</span> 1%<span class="id">nat</span>, <span class="id">_</span>, <span class="id">_</span>, <span class="id">_</span>. <span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="InteractionSemantics.html#plus_one">plus_one</a></span>. <span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">repeat</span> <span class="tactic">rewrite</span> <span class="id"><a href="Footprint.html#FP.fp_union_emp">FP.fp_union_emp</a></span>. <span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;at_external&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="tactic">unfold</span> <span class="id"><a href="LTL_local.html#at_external">LTL_local.at_external</a></span>, <span class="id"><a href="Linear_local.html#at_external">at_external</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">i</span> <span class="id">mu</span> <span class="id">Hfp</span> <span class="id">Lfp</span> <span class="id">Hcore</span> <span class="id">Hm</span> <span class="id">Lcore</span> <span class="id">Lm</span> <span class="id">f</span> <span class="id">sg</span> <span class="id">argSrc</span> <span class="id">MS</span> <span class="id">ATEXT</span> <span class="id">RC</span> <span class="id">GARG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">HSG</span>: <span class="id"><a href="linearize_proof.html#LINEARIZATION.sG">sG</a></span> = <span class="id"><a href="linearize_proof.html#LINEARIZATION.sge">sge</a></span>) <span class="tactic">by</span> (<span class="id">inv</span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.GE_INIT">GE_INIT</a></span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">HTG</span>: <span class="id"><a href="linearize_proof.html#LINEARIZATION.tG">tG</a></span> = <span class="id"><a href="linearize_proof.html#LINEARIZATION.tge">tge</a></span>) <span class="tactic">by</span> (<span class="id">inv</span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.TGE_INIT">TGE_INIT</a></span>; <span class="tactic">auto</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hcore</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">f0</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">e</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">HSG</span> <span class="kwd">in</span> <span class="id">ATEXT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="CUAST.html#invert_symbol_from_string">invert_symbol_from_string</a></span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.sge">sge</a></span> <span class="id">name</span>) <span class="id">eqn</span>:<span class="id">SYMBNAME</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">HSG</span> <span class="id">HTG</span>; <span class="id">inv</span> <span class="id">MS</span>. <span class="id">monadInv</span> <span class="id">H5</span>. <span class="id">monadInv</span> <span class="id">H12</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">erewrite</span> <span class="id"><a href="CUAST.html#match_genvs_invert_symbol_from_string_preserved">match_genvs_invert_symbol_from_string_preserved</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#peq">peq</a></span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id"><a href="Coqlib.html#peq">peq</a></span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span> <span class="kwd">in</span> *. <span class="id">revert</span> <span class="id">HSG</span> <span class="id">HTG</span>; <span class="id">inv</span> <span class="id">ATEXT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">eexists</span> 0%<span class="id">nat</span>, <span class="id">_</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>. <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">unfold</span> <span class="id"><a href="LDSimDefs.html#arg_rel">LDSimDefs.arg_rel</a></span>. <span class="id">revert</span> <span class="id">AGMU</span> <span class="id">LSLD</span> <span class="id">GARG</span>; <span class="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Conventions1.html#loc_arguments">Conventions1.loc_arguments</a></span> <span class="id">sg</span>). <span class="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">induction</span> <span class="id">l</span>; <span class="tactic">intros</span>. <span class="tactic">auto</span>. <span class="tactic">simpl</span>. <span class="id">inv</span> <span class="id">GARG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">constructor</span>; <span class="tactic">auto</span>. <span class="tactic">clear</span> <span class="id">H2</span> <span class="id">IHl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">unfold</span> <span class="id"><a href="Locations.html#Locmap.getpair">Locmap.getpair</a></span> <span class="kwd">in</span> *. <span class="tactic">destruct</span> <span class="id">a</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">LSLD</span> <span class="id">r</span>); <span class="id">inv</span> <span class="id">LSLD</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">ls</span> <span class="id">r</span>); <span class="tactic">auto</span>. <span class="id">econstructor</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">AGMU</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Blockset.html#Bset.inj_dom">Bset.inj_dom</a></span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="tactic">eauto</span>. <span class="tactic">destruct</span> <span class="id">H1</span> <span class="kwd">as</span> [<span class="id">b</span>' <span class="id">INJ</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">proper_mu_inject_incr</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>; <span class="tactic">rewrite</span> <span class="id">INJ</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">A</span>. <span class="tactic">rewrite</span> <span class="id">INJ</span>. <span class="id">inv</span> <span class="id">A</span>. <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span>; <span class="tactic">auto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id">LSLD</span> <span class="id">rhi</span>) <span class="kwd">as</span> <span class="id">HI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id">LSLD</span> <span class="id">rlo</span>) <span class="kwd">as</span> <span class="id">LO</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Values.html#Val.longofwords_lessdef">Val.longofwords_lessdef</a></span>. <span class="tactic">exact</span> <span class="id">HI</span>. <span class="tactic">exact</span> <span class="id">LO</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">HI</span> <span class="id">LO</span> <span class="id">LSLD</span>. <span class="id">revert</span> <span class="id">H</span> <span class="id">H1</span> <span class="id">AGMU</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Values.html#Val.longofwords">Val.longofwords</a></span> (<span class="id">ls</span> <span class="id">rhi</span>) (<span class="id">ls</span> <span class="id">rlo</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Values.html#Val.longofwords">Val.longofwords</a></span> (<span class="id">ls</span>' <span class="id">rhi</span>) (<span class="id">ls</span>' <span class="id">rlo</span>)). <span class="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> <span class="id">v0</span>; <span class="tactic">auto</span>. <span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">AGMU</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Blockset.html#Bset.inj_dom">Bset.inj_dom</a></span> <span class="kwd">in</span> <span class="id">H1</span>; <span class="tactic">eauto</span>. <span class="tactic">destruct</span> <span class="id">H1</span> <span class="kwd">as</span> [<span class="id">b</span>' <span class="id">INJ</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">proper_mu_inject_incr</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>; <span class="tactic">rewrite</span> <span class="id">INJ</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">A</span>. <span class="tactic">rewrite</span> <span class="id">INJ</span>. <span class="id">inv</span> <span class="id">A</span>. <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="MemClosures_local.html#unmapped_closed_reach_closed_preserved_by_extends">MemClosures_local.unmapped_closed_reach_closed_preserved_by_extends</a></span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="LDSimDefs_local.html#extends_reach_closed_implies_inject">extends_reach_closed_implies_inject</a></span>; <span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id">Injections.fp_match_emp</span>'.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">HTG</span>. <span class="tactic">eapply</span> <span class="id"><a href="CUAST.html#match_cu_match_genv">match_cu_match_genv</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.GE_INIT">GE_INIT</a></span>; <span class="tactic">eauto</span>. <span class="id">inv</span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.TGE_INIT">TGE_INIT</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">auto</span>. <span class="tactic">destruct</span> <span class="id">f1</span>; <span class="id">monadInv</span> <span class="id">H0</span>; <span class="tactic">auto</span>.<br/>
<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;after_external&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>. <span class="tactic">unfold</span> <span class="id"><a href="LTL_local.html#after_external">LTL_local.after_external</a></span>, <span class="id"><a href="Linear_local.html#after_external">after_external</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">i</span> <span class="id">mu</span> <span class="id">Hcore</span> <span class="id">Hm</span> <span class="id">Lcore</span> <span class="id">Lm</span> <span class="id">oresSrc</span> <span class="id">Hcore</span>' <span class="id">oresTgt</span> <span class="id">MS</span> <span class="id">GRES</span> <span class="id">AFTEXT</span> <span class="id">RESREL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">HSG</span>: <span class="id"><a href="linearize_proof.html#LINEARIZATION.sG">sG</a></span> = <span class="id"><a href="linearize_proof.html#LINEARIZATION.sge">sge</a></span>) <span class="tactic">by</span> (<span class="id">inv</span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.GE_INIT">GE_INIT</a></span>; <span class="tactic">auto</span>). <span class="tactic">assert</span> (<span class="id">HTG</span>: <span class="id"><a href="linearize_proof.html#LINEARIZATION.tG">tG</a></span> = <span class="id"><a href="linearize_proof.html#LINEARIZATION.tge">tge</a></span>) <span class="tactic">by</span> (<span class="id">inv</span> <span class="id"><a href="linearize_proof.html#LINEARIZATION.TGE_INIT">TGE_INIT</a></span>; <span class="tactic">auto</span>). <span class="id">revert</span> <span class="id">HSG</span> <span class="id">HTG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hcore</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">f</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">e</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">MS</span>. <span class="id">monadInv</span> <span class="id">H12</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="id">Hcore</span>' = <span class="id"><a href="LTL_local.html#Core_Returnstate">LTL_local.Core_Returnstate</a></span> <span class="id">stack</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Locations.html#Locmap.setpair">Locmap.setpair</a></span> (<span class="id"><a href="Conventions1.html#loc_result">Conventions1.loc_result</a></span> <span class="id">sg</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">match</span> <span class="id">oresSrc</span> <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v</span> =&gt; <span class="id">v</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="Values.html#Vundef">Vundef</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>) <span class="id">ls</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="AST.html#sig_res">sig_res</a></span> (<span class="id"><a href="Linear.html#fn_sig">fn_sig</a></span> <span class="id">fd0</span>))).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">destruct</span> <span class="id">oresSrc</span>, (<span class="id"><a href="AST.html#sig_res">sig_res</a></span> <span class="id">sg</span>); <span class="id">inv</span> <span class="id">AFTEXT</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="val_casted.html#val_has_type_func">val_has_type_func</a></span> <span class="id">v</span> <span class="id">t</span>); <span class="id">inv</span> <span class="id">H0</span>. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">assert</span> (<span class="kwd">match</span> <span class="id">oresSrc</span>, (<span class="id"><a href="AST.html#sig_res">sig_res</a></span> <span class="id">sg</span>) <span class="kwd">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#True">True</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v</span>, <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">ty</span> =&gt; <span class="id"><a href="Values.html#Val.has_type">Val.has_type</a></span> <span class="id">v</span> <span class="id">ty</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id">_</span>, <span class="id">_</span> =&gt; <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Logic.html#False">False</a></span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">end</span>) <span class="kwd">as</span> <span class="id">HRES</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">destruct</span> <span class="id">oresSrc</span>, (<span class="id"><a href="AST.html#sig_res">sig_res</a></span> <span class="id">sg</span>); <span class="id">inv</span> <span class="id">AFTEXT</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="val_casted.html#val_has_type_func">val_has_type_func</a></span> <span class="id">v</span> <span class="id">t</span>) <span class="id">eqn</span>:<span class="id">A</span>; <span class="id">inv</span> <span class="id">H1</span>. <span class="tactic">apply</span> <span class="id"><a href="val_casted.html#val_has_type_funcP">val_has_type_funcP</a></span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">AFTEXT</span>. <span class="tactic">rename</span> <span class="id">H</span> <span class="id">into</span> <span class="id">AFTEXT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> (<span class="id"><a href="Linear_local.html#Core_Returnstate">Core_Returnstate</a></span> <span class="id">ts</span> (<span class="id"><a href="Locations.html#Locmap.setpair">Locmap.setpair</a></span> (<span class="id"><a href="Conventions1.html#loc_result">Conventions1.loc_result</a></span> <span class="id">sg</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="kwd">match</span> <span class="id">oresTgt</span> <span class="kwd">with</span> <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#Some">Some</a></span> <span class="id">v</span> =&gt; <span class="id">v</span> | <span class="id"><a href="http://coq.inria.fr/library/Coq.Init.Datatypes.html#None">None</a></span> =&gt; <span class="id"><a href="Values.html#Vundef">Vundef</a></span> <span class="kwd">end</span>) <span class="id">ls</span>')<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Linear_local.html#mk_load_frame">mk_load_frame</a></span> <span class="id">ls1</span> <span class="id">fd0</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="tactic">destruct</span> <span class="id">oresSrc</span>, <span class="id">oresTgt</span>, (<span class="id"><a href="AST.html#sig_res">sig_res</a></span> <span class="id">sg</span>); <span class="tactic">try</span> <span class="id">contradiction</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">RESREL</span>; <span class="tactic">destruct</span> <span class="id">t</span>; <span class="tactic">try</span> <span class="id">contradiction</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">rewrite</span> <span class="id">HRES</span>. <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">Hm</span>' <span class="id">Lm</span>' <span class="id">HLRELY</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">HLRELY</span> <span class="kwd">as</span> [<span class="id">HRELY</span> <span class="id">LRELY</span> <span class="id">INV</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exists</span> 0%<span class="id">nat</span>. <span class="tactic">subst</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> ? <span class="id">S</span>. <span class="tactic">apply</span> <span class="id">SVALID</span> <span class="kwd">in</span> <span class="id">S</span>. <span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="kwd">in</span> *. <span class="id">inv</span> <span class="id">HRELY</span>. <span class="tactic">rewrite</span> <span class="id">EQNEXT</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> ? <span class="id">T</span>. <span class="tactic">apply</span> <span class="id">TVALID</span> <span class="kwd">in</span> <span class="id">T</span>. <span class="tactic">unfold</span> <span class="id"><a href="Memory.html#Mem.valid_block">Mem.valid_block</a></span> <span class="kwd">in</span> *. <span class="id">inv</span> <span class="id">LRELY</span>. <span class="tactic">rewrite</span> <span class="id">EQNEXT</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id"><a href="Conventions1.html#loc_result">Conventions1.loc_result</a></span> <span class="id">sg</span>); <span class="tactic">simpl</span>; <span class="id">resolv_ls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">oresSrc</span>, <span class="id">oresTgt</span>; <span class="id">inv</span> <span class="id">RESREL</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">AGMU</span>. <span class="tactic">apply</span> <span class="id">proper_mu_inject_incr</span> <span class="kwd">in</span> <span class="id">H</span>. <span class="id">inv</span> <span class="id">H</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">oresSrc</span>, <span class="id">oresTgt</span>; <span class="id">inv</span> <span class="id">RESREL</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">oresSrc</span>, <span class="id">oresTgt</span>; <span class="id">inv</span> <span class="id">RESREL</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eapply</span> <span class="id"><a href="LDSimDefs_local.html#extends_rely_extends">extends_rely_extends</a></span>; <span class="tactic">eauto</span>. <span class="id">econstructor</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">LRELY</span>. <span class="tactic">eapply</span> <span class="id"><a href="MemClosures_local.html#reach_closed_unmapped_closed">MemClosures_local.reach_closed_unmapped_closed</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;- <span class="comment">(*&nbsp;halt&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">simpl</span>.  <span class="tactic">unfold</span> <span class="id"><a href="LTL_local.html#halted">LTL_local.halted</a></span>, <span class="id"><a href="Linear_local.html#halted">halted</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span> <span class="id">i</span> <span class="id">mu</span> <span class="id">Hfp</span> <span class="id">Lfp</span> <span class="id">Hcore</span> <span class="id">Hm</span> <span class="id">Lcore</span> <span class="id">Lm</span> <span class="id">resSrc</span> <span class="id">MS</span> <span class="id">HALT</span> <span class="id">RC</span> <span class="id">GRES</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">Hcore</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>. <span class="tactic">destruct</span> <span class="id">stack</span>; <span class="tactic">try</span> <span class="tactic">discriminate</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">HALT</span>. <span class="id">inv</span> <span class="id">MS</span>. <span class="id">inv</span> <span class="id">H5</span>. <span class="id">eexists</span>. <span class="tactic">split</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id">erewrite</span> (<span class="id"><a href="Conventions1.html#loc_result_exten">Conventions1.loc_result_exten</a></span> <span class="id">_</span> (<span class="id"><a href="Linear.html#fn_sig">fn_sig</a></span> <span class="id">fd0</span>)) <span class="kwd">in</span> <span class="id">GRES</span>|-*; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">revert</span> <span class="id">AGMU</span> <span class="id">GRES</span> <span class="id">LSLD</span>. <span class="tactic">generalize</span> (<span class="id"><a href="Conventions1.html#loc_result">Conventions1.loc_result</a></span> (<span class="id"><a href="Linear.html#fn_sig">fn_sig</a></span> <span class="id">fd0</span>)). <span class="tactic">clear</span>. <span class="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> <span class="id">r</span>; <span class="tactic">simpl</span> <span class="kwd">in</span> *. <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">specialize</span> (<span class="id">LSLD</span> (<span class="id"><a href="Locations.html#R">R</a></span> <span class="id">r</span>)); <span class="id">inv</span> <span class="id">LSLD</span>; <span class="tactic">try</span> <span class="id">constructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">destruct</span> (<span class="id">ls</span> (<span class="id"><a href="Locations.html#R">R</a></span> <span class="id">r</span>)); <span class="id">econstructor</span>. <span class="tactic">simpl</span> <span class="kwd">in</span> <span class="id">GRES</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">AGMU</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Blockset.html#Bset.inj_dom">Bset.inj_dom</a></span> <span class="kwd">in</span> <span class="id">GRES</span>; <span class="tactic">eauto</span>. <span class="tactic">destruct</span> <span class="id">GRES</span> <span class="kwd">as</span> [<span class="id">b</span>' <span class="id">INJ</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">proper_mu_inject_incr</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>; <span class="tactic">rewrite</span> <span class="id">INJ</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">A</span>. <span class="tactic">rewrite</span> <span class="id">INJ</span>. <span class="id">inv</span> <span class="id">A</span>. <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span>; <span class="tactic">auto</span>.<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id">LSLD</span> (<span class="id"><a href="Locations.html#R">R</a></span> <span class="id">rhi</span>)) <span class="kwd">as</span> <span class="id">HI</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">pose</span> <span class="id">proof</span> (<span class="id">LSLD</span> (<span class="id"><a href="Locations.html#R">R</a></span> <span class="id">rlo</span>)) <span class="kwd">as</span> <span class="id">LO</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id"><a href="Values.html#Val.longofwords_lessdef">Val.longofwords_lessdef</a></span>. <span class="tactic">exact</span> <span class="id">HI</span>. <span class="tactic">exact</span> <span class="id">LO</span>. <span class="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">clear</span> <span class="id">HI</span> <span class="id">LO</span> <span class="id">LSLD</span>. <span class="id">revert</span> <span class="id">GRES</span> <span class="id">H</span> <span class="id">AGMU</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">generalize</span> (<span class="id"><a href="Values.html#Val.longofwords">Val.longofwords</a></span> (<span class="id">ls</span> (<span class="id"><a href="Locations.html#R">R</a></span> <span class="id">rhi</span>)) (<span class="id">ls</span> (<span class="id"><a href="Locations.html#R">R</a></span> <span class="id">rlo</span>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id"><a href="Values.html#Val.longofwords">Val.longofwords</a></span> (<span class="id">ls</span>' (<span class="id"><a href="Locations.html#R">R</a></span> <span class="id">rhi</span>)) (<span class="id">ls</span>' (<span class="id"><a href="Locations.html#R">R</a></span> <span class="id">rlo</span>))). <span class="tactic">clear</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="id">inv</span> <span class="id">H</span>; <span class="tactic">destruct</span> <span class="id">v0</span>; <span class="id">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">AGMU</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">eapply</span> <span class="id"><a href="Blockset.html#Bset.inj_dom">Bset.inj_dom</a></span> <span class="kwd">in</span> <span class="id">GRES</span>; <span class="tactic">eauto</span>. <span class="tactic">destruct</span> <span class="id">GRES</span> <span class="kwd">as</span> [<span class="id">b</span>' <span class="id">INJ</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">exploit</span> <span class="id">proper_mu_inject_incr</span>. <span class="tactic">unfold</span> <span class="id"><a href="Blockset.html#Bset.inj_to_meminj">Bset.inj_to_meminj</a></span>; <span class="tactic">rewrite</span> <span class="id">INJ</span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">intro</span> <span class="id">A</span>. <span class="tactic">rewrite</span> <span class="id">INJ</span>. <span class="id">inv</span> <span class="id">A</span>. <span class="tactic">eauto</span>. <span class="tactic">rewrite</span> <span class="id"><a href="Integers.html#Ptrofs.add_zero">Ptrofs.add_zero</a></span>; <span class="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eapply</span> <span class="id"><a href="MemClosures_local.html#unmapped_closed_reach_closed_preserved_by_extends">MemClosures_local.unmapped_closed_reach_closed_preserved_by_extends</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="tactic">split</span>; <span class="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id">inv</span> <span class="id">AGMU</span>; <span class="tactic">eapply</span> <span class="id"><a href="LDSimDefs_local.html#extends_reach_closed_implies_inject">extends_reach_closed_implies_inject</a></span>; <span class="tactic">eauto</span>.<br/>
Qed.</div>
<br/>
<span class="kwd">End</span> <span class="id"><a href="linearize_proof.html#LINEARIZATION">LINEARIZATION</a></span>.<br/>
<br/>
<br/>
<span class="kwd">Theorem</span> <span class="id"><a name="transf_local_ldsim">transf_local_ldsim</a></span>:<br/>
&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">scu</span> <span class="id">tcu</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="linearize.html#transf_program">linearize.transf_program</a></span> <span class="id"><a href="linearize_proof.html#scu">scu</a></span> = <span class="id"><a href="Errors.html#OK">OK</a></span> <span class="id"><a href="linearize_proof.html#tcu">tcu</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="kwd">forall</span> <span class="id">sge</span> <span class="id">sG</span> <span class="id">tge</span> <span class="id">tG</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="IS_local.html#init_genv_local">init_genv_local</a></span> <span class="id"><a href="LTL_local.html#LTL_IS">LTL_IS</a></span> <span class="id"><a href="linearize_proof.html#scu">scu</a></span> <span class="id"><a href="linearize_proof.html#sge">sge</a></span> <span class="id"><a href="linearize_proof.html#sG">sG</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="IS_local.html#init_genv_local">init_genv_local</a></span> <span class="id"><a href="Linear_local.html#Linear_IS">Linear_IS</a></span> <span class="id"><a href="linearize_proof.html#tcu">tcu</a></span> <span class="id"><a href="linearize_proof.html#tge">tge</a></span> <span class="id"><a href="linearize_proof.html#tG">tG</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id"><a href="linearize_proof.html#sge">sge</a></span> = <span class="id"><a href="Globalenvs.html#Genv.genv_next">Genv.genv_next</a></span> <span class="id"><a href="linearize_proof.html#tge">tge</a></span> -&gt;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id"><a href="LDSim_local.html#local_ldsim">local_ldsim</a></span> <span class="id"><a href="linearize_proof.html#sG">sG</a></span> <span class="id"><a href="linearize_proof.html#tG">tG</a></span> <span class="id"><a href="linearize_proof.html#sge">sge</a></span> <span class="id"><a href="linearize_proof.html#tge">tge</a></span>.<br/>
<div class="toggleproof" onclick="toggleDisplay('proof7527')">Proof.</div>
<div class="proofscript" id="proof7527">
&nbsp;&nbsp;<span class="tactic">intros</span>. <span class="tactic">eapply</span> <span class="id"><a href="linearize_proof.html#TRANSF_local_ldsim">TRANSF_local_ldsim</a></span>; <span class="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="tactic">apply</span> <span class="id"><a href="linearize_proof.html#transf_program_match">transf_program_match</a></span>. <span class="tactic">auto</span>.<br/>
Qed.</div>
</div>
<div class="footer"><hr/>Generated by coq2html</div>
</body>
</html>
