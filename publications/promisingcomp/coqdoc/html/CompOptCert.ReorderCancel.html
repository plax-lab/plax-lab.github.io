<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>CompOptCert.ReorderCancel</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library CompOptCert.ReorderCancel</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.omega.Omega.html#"><span class="id" title="library">Omega</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Classes.RelationClasses.html#"><span class="id" title="library">RelationClasses</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.sflib.html#"><span class="id" title="library">sflib</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Paco</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">paco</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Axioms.html#"><span class="id" title="library">Axioms</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Basic.html#"><span class="id" title="library">Basic</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.DataStructure.html#"><span class="id" title="library">DataStructure</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.DenseOrder.html#"><span class="id" title="library">DenseOrder</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Language.html#"><span class="id" title="library">Language</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Event.html#"><span class="id" title="library">Event</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Time.html#"><span class="id" title="library">Time</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.View.html#"><span class="id" title="library">View</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Cell.html#"><span class="id" title="library">Cell</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Memory.html#"><span class="id" title="library">Memory</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.TView.html#"><span class="id" title="library">TView</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Local.html#"><span class="id" title="library">Local</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Thread.html#"><span class="id" title="library">Thread</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Configuration.html#"><span class="id" title="library">Configuration</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.PromiseConsistent.html#"><span class="id" title="library">PromiseConsistent</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.MemoryMerge.html#"><span class="id" title="library">MemoryMerge</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.ReorderPromise.html#"><span class="id" title="library">ReorderPromise</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.MemoryReorder.html#"><span class="id" title="library">MemoryReorder</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.MemoryFacts.html#"><span class="id" title="library">MemoryFacts</span></a>.<br/>

<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reorder_read_cancel" class="idref" href="#reorder_read_cancel"><span class="id" title="lemma">reorder_read_cancel</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc0:1" class="idref" href="#lc0:1"><span class="id" title="binder">lc0</span></a> <a id="mem0:2" class="idref" href="#mem0:2"><span class="id" title="binder">mem0</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc1:3" class="idref" href="#lc1:3"><span class="id" title="binder">lc1</span></a> <a id="mem1:4" class="idref" href="#mem1:4"><span class="id" title="binder">mem1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc2:5" class="idref" href="#lc2:5"><span class="id" title="binder">lc2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="loc1:6" class="idref" href="#loc1:6"><span class="id" title="binder">loc1</span></a> <a id="from1:7" class="idref" href="#from1:7"><span class="id" title="binder">from1</span></a> <a id="to1:8" class="idref" href="#to1:8"><span class="id" title="binder">to1</span></a> <a id="msg1:9" class="idref" href="#msg1:9"><span class="id" title="binder">msg1</span></a> <a id="lo:10" class="idref" href="#lo:10"><span class="id" title="binder">lo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="loc2:11" class="idref" href="#loc2:11"><span class="id" title="binder">loc2</span></a> <a id="to2:12" class="idref" href="#to2:12"><span class="id" title="binder">to2</span></a> <a id="val2:13" class="idref" href="#val2:13"><span class="id" title="binder">val2</span></a> <a id="released2:14" class="idref" href="#released2:14"><span class="id" title="binder">released2</span></a> <a id="ord2:15" class="idref" href="#ord2:15"><span class="id" title="binder">ord2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="STEP1:16" class="idref" href="#STEP1:16"><span class="id" title="binder">STEP1</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.read_step"><span class="id" title="inductive">Local.read_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc0:1"><span class="id" title="variable">lc0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem0:2"><span class="id" title="variable">mem0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#loc2:11"><span class="id" title="variable">loc2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#to2:12"><span class="id" title="variable">to2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#val2:13"><span class="id" title="variable">val2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#released2:14"><span class="id" title="variable">released2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#ord2:15"><span class="id" title="variable">ord2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc1:3"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lo:10"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="STEP2:17" class="idref" href="#STEP2:17"><span class="id" title="binder">STEP2</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc1:3"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem0:2"><span class="id" title="variable">mem0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#loc1:6"><span class="id" title="variable">loc1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#from1:7"><span class="id" title="variable">from1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#to1:8"><span class="id" title="variable">to1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#msg1:9"><span class="id" title="variable">msg1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc2:5"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem1:4"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_cancel"><span class="id" title="constructor">Memory.op_kind_cancel</span></a>)<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="lc1':18" class="idref" href="#lc1':18"><span class="id" title="binder">lc1'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="STEP1:19" class="idref" href="#STEP1:19"><span class="id" title="binder">STEP1</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc0:1"><span class="id" title="variable">lc0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem0:2"><span class="id" title="variable">mem0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#loc1:6"><span class="id" title="variable">loc1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#from1:7"><span class="id" title="variable">from1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#to1:8"><span class="id" title="variable">to1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#msg1:9"><span class="id" title="variable">msg1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc1':18"><span class="id" title="variable">lc1'</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem1:4"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_cancel"><span class="id" title="constructor">Memory.op_kind_cancel</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="STEP2:20" class="idref" href="#STEP2:20"><span class="id" title="binder">STEP2</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Local.html#Local.read_step"><span class="id" title="inductive">Local.read_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc1':18"><span class="id" title="variable">lc1'</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem1:4"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#loc2:11"><span class="id" title="variable">loc2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#to2:12"><span class="id" title="variable">to2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#val2:13"><span class="id" title="variable">val2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#released2:14"><span class="id" title="variable">released2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#ord2:15"><span class="id" title="variable">ord2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc2:5"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lo:10"><span class="id" title="variable">lo</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP1</span>. <span class="id" title="var">inv</span> <span class="id" title="var">STEP2</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">hexploit</span> <a class="idref" href="CompOptCert.MemoryFacts.html#MemoryFacts.promise_get1_diff"><span class="id" title="lemma">MemoryFacts.promise_get1_diff</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="var">ii</span>. <span class="id" title="var">clarify</span>. <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_get0"><span class="id" title="lemma">Memory.remove_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MEM</span>. <span class="id" title="var">des</span>. <span class="id" title="var">clarify</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">i</span>. <span class="id" title="var">des</span>. <span class="id" title="var">esplits</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="remove_non_synch_loc" class="idref" href="#remove_non_synch_loc"><span class="id" title="lemma">remove_non_synch_loc</span></a> <a id="loc0:21" class="idref" href="#loc0:21"><span class="id" title="binder">loc0</span></a> <a id="prom0:22" class="idref" href="#prom0:22"><span class="id" title="binder">prom0</span></a> <a id="loc1:23" class="idref" href="#loc1:23"><span class="id" title="binder">loc1</span></a> <a id="from:24" class="idref" href="#from:24"><span class="id" title="binder">from</span></a> <a id="to:25" class="idref" href="#to:25"><span class="id" title="binder">to</span></a> <a id="msg:26" class="idref" href="#msg:26"><span class="id" title="binder">msg</span></a> <a id="prom1:27" class="idref" href="#prom1:27"><span class="id" title="binder">prom1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NONSYNCH:28" class="idref" href="#NONSYNCH:28"><span class="id" title="binder">NONSYNCH</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.nonsynch_loc"><span class="id" title="definition">Memory.nonsynch_loc</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#loc0:21"><span class="id" title="variable">loc0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#prom0:22"><span class="id" title="variable">prom0</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="REMOVE:29" class="idref" href="#REMOVE:29"><span class="id" title="binder">REMOVE</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.remove"><span class="id" title="inductive">Memory.remove</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#prom0:22"><span class="id" title="variable">prom0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#loc1:23"><span class="id" title="variable">loc1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#from:24"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#to:25"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#msg:26"><span class="id" title="variable">msg</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#prom1:27"><span class="id" title="variable">prom1</span></a>)<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.nonsynch_loc"><span class="id" title="definition">Memory.nonsynch_loc</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#loc0:21"><span class="id" title="variable">loc0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#prom1:27"><span class="id" title="variable">prom1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">des_ifs</span>. <span class="id" title="var">exploit</span> <span class="id" title="var">NONSYNCH</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="remove_non_synch" class="idref" href="#remove_non_synch"><span class="id" title="lemma">remove_non_synch</span></a> <a id="prom0:30" class="idref" href="#prom0:30"><span class="id" title="binder">prom0</span></a> <a id="loc:31" class="idref" href="#loc:31"><span class="id" title="binder">loc</span></a> <a id="from:32" class="idref" href="#from:32"><span class="id" title="binder">from</span></a> <a id="to:33" class="idref" href="#to:33"><span class="id" title="binder">to</span></a> <a id="msg:34" class="idref" href="#msg:34"><span class="id" title="binder">msg</span></a> <a id="prom1:35" class="idref" href="#prom1:35"><span class="id" title="binder">prom1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NONSYNCH:36" class="idref" href="#NONSYNCH:36"><span class="id" title="binder">NONSYNCH</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.nonsynch"><span class="id" title="definition">Memory.nonsynch</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#prom0:30"><span class="id" title="variable">prom0</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="REMOVE:37" class="idref" href="#REMOVE:37"><span class="id" title="binder">REMOVE</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.remove"><span class="id" title="inductive">Memory.remove</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#prom0:30"><span class="id" title="variable">prom0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#loc:31"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#from:32"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#to:33"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#msg:34"><span class="id" title="variable">msg</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#prom1:35"><span class="id" title="variable">prom1</span></a>)<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.nonsynch"><span class="id" title="definition">Memory.nonsynch</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#prom1:35"><span class="id" title="variable">prom1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">des_ifs</span>. <span class="id" title="var">exploit</span> <span class="id" title="var">NONSYNCH</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reorder_write_cancel" class="idref" href="#reorder_write_cancel"><span class="id" title="lemma">reorder_write_cancel</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc0:38" class="idref" href="#lc0:38"><span class="id" title="binder">lc0</span></a> <a id="sc0:39" class="idref" href="#sc0:39"><span class="id" title="binder">sc0</span></a> <a id="mem0:40" class="idref" href="#mem0:40"><span class="id" title="binder">mem0</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc1:41" class="idref" href="#lc1:41"><span class="id" title="binder">lc1</span></a> <a id="mem1:42" class="idref" href="#mem1:42"><span class="id" title="binder">mem1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc2:43" class="idref" href="#lc2:43"><span class="id" title="binder">lc2</span></a> <a id="sc2:44" class="idref" href="#sc2:44"><span class="id" title="binder">sc2</span></a> <a id="mem2:45" class="idref" href="#mem2:45"><span class="id" title="binder">mem2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="loc1:46" class="idref" href="#loc1:46"><span class="id" title="binder">loc1</span></a> <a id="from1:47" class="idref" href="#from1:47"><span class="id" title="binder">from1</span></a> <a id="to1:48" class="idref" href="#to1:48"><span class="id" title="binder">to1</span></a> <a id="msg1:49" class="idref" href="#msg1:49"><span class="id" title="binder">msg1</span></a> <a id="lo:50" class="idref" href="#lo:50"><span class="id" title="binder">lo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="loc2:51" class="idref" href="#loc2:51"><span class="id" title="binder">loc2</span></a> <a id="from2:52" class="idref" href="#from2:52"><span class="id" title="binder">from2</span></a> <a id="to2:53" class="idref" href="#to2:53"><span class="id" title="binder">to2</span></a> <a id="val2:54" class="idref" href="#val2:54"><span class="id" title="binder">val2</span></a> <a id="releasedm2:55" class="idref" href="#releasedm2:55"><span class="id" title="binder">releasedm2</span></a> <a id="released2:56" class="idref" href="#released2:56"><span class="id" title="binder">released2</span></a> <a id="ord2:57" class="idref" href="#ord2:57"><span class="id" title="binder">ord2</span></a> <a id="kind2:58" class="idref" href="#kind2:58"><span class="id" title="binder">kind2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="STEP1:59" class="idref" href="#STEP1:59"><span class="id" title="binder">STEP1</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.write_step"><span class="id" title="inductive">Local.write_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc0:38"><span class="id" title="variable">lc0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#sc0:39"><span class="id" title="variable">sc0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem0:40"><span class="id" title="variable">mem0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#loc2:51"><span class="id" title="variable">loc2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#from2:52"><span class="id" title="variable">from2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#to2:53"><span class="id" title="variable">to2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#val2:54"><span class="id" title="variable">val2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#releasedm2:55"><span class="id" title="variable">releasedm2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#released2:56"><span class="id" title="variable">released2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#ord2:57"><span class="id" title="variable">ord2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc1:41"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#sc2:44"><span class="id" title="variable">sc2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem1:42"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#kind2:58"><span class="id" title="variable">kind2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lo:50"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="STEP2:60" class="idref" href="#STEP2:60"><span class="id" title="binder">STEP2</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc1:41"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem1:42"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#loc1:46"><span class="id" title="variable">loc1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#from1:47"><span class="id" title="variable">from1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#to1:48"><span class="id" title="variable">to1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#msg1:49"><span class="id" title="variable">msg1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc2:43"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem2:45"><span class="id" title="variable">mem2</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_cancel"><span class="id" title="constructor">Memory.op_kind_cancel</span></a>)<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="lc1':61" class="idref" href="#lc1':61"><span class="id" title="binder">lc1'</span></a> <a id="mem1':62" class="idref" href="#mem1':62"><span class="id" title="binder">mem1'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="STEP1:63" class="idref" href="#STEP1:63"><span class="id" title="binder">STEP1</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc0:38"><span class="id" title="variable">lc0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem0:40"><span class="id" title="variable">mem0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#loc1:46"><span class="id" title="variable">loc1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#from1:47"><span class="id" title="variable">from1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#to1:48"><span class="id" title="variable">to1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#msg1:49"><span class="id" title="variable">msg1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc1':61"><span class="id" title="variable">lc1'</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem1':62"><span class="id" title="variable">mem1'</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_cancel"><span class="id" title="constructor">Memory.op_kind_cancel</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="STEP2:64" class="idref" href="#STEP2:64"><span class="id" title="binder">STEP2</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Local.html#Local.write_step"><span class="id" title="inductive">Local.write_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc1':61"><span class="id" title="variable">lc1'</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#sc0:39"><span class="id" title="variable">sc0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem1':62"><span class="id" title="variable">mem1'</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#loc2:51"><span class="id" title="variable">loc2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#from2:52"><span class="id" title="variable">from2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#to2:53"><span class="id" title="variable">to2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#val2:54"><span class="id" title="variable">val2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#releasedm2:55"><span class="id" title="variable">releasedm2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#released2:56"><span class="id" title="variable">released2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#ord2:57"><span class="id" title="variable">ord2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc2:43"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#sc2:44"><span class="id" title="variable">sc2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem2:45"><span class="id" title="variable">mem2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#kind2:58"><span class="id" title="variable">kind2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lo:50"><span class="id" title="variable">lo</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP2</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP1</span>. <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.remove_remove"><span class="id" title="lemma">MemoryReorder.remove_remove</span></a>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE</span>. }<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES</span>. } <span class="id" title="var">i</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">LOCTS</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;{ <span class="id" title="var">ii</span>. <span class="id" title="var">clarify</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_get0"><span class="id" title="lemma">Memory.remove_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MEM</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get0"><span class="id" title="lemma">Memory.add_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MEM0</span>. <span class="id" title="var">des</span>. <span class="id" title="var">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_get0"><span class="id" title="lemma">Memory.split_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MEM0</span>. <span class="id" title="var">des</span>. <span class="id" title="var">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_get0"><span class="id" title="lemma">Memory.lower_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MEM0</span>. <span class="id" title="var">des</span>. <span class="id" title="var">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="var">clarify</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.add_remove"><span class="id" title="lemma">MemoryReorder.add_remove</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCTS</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES0</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eauto</span>. } <span class="id" title="var">i</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.add_remove"><span class="id" title="lemma">MemoryReorder.add_remove</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCTS</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM0</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eauto</span>. } <span class="id" title="var">i</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">esplits</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">econs</span> 1; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">i</span>. <span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifs</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">ATTACH</span>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> <span class="id" title="var">ORD</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">RELEASE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">ORD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderCancel.html#remove_non_synch_loc"><span class="id" title="lemma">remove_non_synch_loc</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#classic"><span class="id" title="axiom">classic</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ts3</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)) <span class="id" title="keyword">as</span> [|<span class="id" title="var">LOCTS2</span>]; <span class="id" title="var">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.split_remove_same"><span class="id" title="lemma">MemoryReorder.split_remove_same</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES0</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eauto</span>. } <span class="id" title="var">i</span>. <span class="id" title="var">des</span>. <span class="id" title="var">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.split_remove"><span class="id" title="lemma">MemoryReorder.split_remove</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCTS</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCTS2</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES0</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eauto</span>. } <span class="id" title="var">i</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.split_remove"><span class="id" title="lemma">MemoryReorder.split_remove</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCTS</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCTS2</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM0</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eauto</span>. } <span class="id" title="var">i</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">esplits</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">econs</span> 2; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> <span class="id" title="var">ORD</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">RELEASE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">ORD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderCancel.html#remove_non_synch_loc"><span class="id" title="lemma">remove_non_synch_loc</span></a>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;- <span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.lower_remove"><span class="id" title="lemma">MemoryReorder.lower_remove</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCTS</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES0</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eauto</span>. } <span class="id" title="var">i</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.lower_remove"><span class="id" title="lemma">MemoryReorder.lower_remove</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCTS</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM0</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eauto</span>. } <span class="id" title="var">i</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">esplits</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">econs</span> 3; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">intros</span> <span class="id" title="var">ORD</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">RELEASE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">ORD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderCancel.html#remove_non_synch_loc"><span class="id" title="lemma">remove_non_synch_loc</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">clarify</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reorder_fence_cancel" class="idref" href="#reorder_fence_cancel"><span class="id" title="lemma">reorder_fence_cancel</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc0:65" class="idref" href="#lc0:65"><span class="id" title="binder">lc0</span></a> <a id="mem0:66" class="idref" href="#mem0:66"><span class="id" title="binder">mem0</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc1:67" class="idref" href="#lc1:67"><span class="id" title="binder">lc1</span></a> <a id="mem1:68" class="idref" href="#mem1:68"><span class="id" title="binder">mem1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc2:69" class="idref" href="#lc2:69"><span class="id" title="binder">lc2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="loc1:70" class="idref" href="#loc1:70"><span class="id" title="binder">loc1</span></a> <a id="from1:71" class="idref" href="#from1:71"><span class="id" title="binder">from1</span></a> <a id="to1:72" class="idref" href="#to1:72"><span class="id" title="binder">to1</span></a> <a id="msg1:73" class="idref" href="#msg1:73"><span class="id" title="binder">msg1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="ord1:74" class="idref" href="#ord1:74"><span class="id" title="binder">ord1</span></a> <a id="ord2:75" class="idref" href="#ord2:75"><span class="id" title="binder">ord2</span></a> <a id="sc0:76" class="idref" href="#sc0:76"><span class="id" title="binder">sc0</span></a> <a id="sc1:77" class="idref" href="#sc1:77"><span class="id" title="binder">sc1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="STEP1:78" class="idref" href="#STEP1:78"><span class="id" title="binder">STEP1</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.fence_step"><span class="id" title="inductive">Local.fence_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc0:65"><span class="id" title="variable">lc0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#sc0:76"><span class="id" title="variable">sc0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#ord1:74"><span class="id" title="variable">ord1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#ord2:75"><span class="id" title="variable">ord2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc1:67"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#sc1:77"><span class="id" title="variable">sc1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="STEP2:79" class="idref" href="#STEP2:79"><span class="id" title="binder">STEP2</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc1:67"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem0:66"><span class="id" title="variable">mem0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#loc1:70"><span class="id" title="variable">loc1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#from1:71"><span class="id" title="variable">from1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#to1:72"><span class="id" title="variable">to1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#msg1:73"><span class="id" title="variable">msg1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc2:69"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem1:68"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_cancel"><span class="id" title="constructor">Memory.op_kind_cancel</span></a>)<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="lc1':80" class="idref" href="#lc1':80"><span class="id" title="binder">lc1'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="STEP1:81" class="idref" href="#STEP1:81"><span class="id" title="binder">STEP1</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc0:65"><span class="id" title="variable">lc0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem0:66"><span class="id" title="variable">mem0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#loc1:70"><span class="id" title="variable">loc1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#from1:71"><span class="id" title="variable">from1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#to1:72"><span class="id" title="variable">to1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#msg1:73"><span class="id" title="variable">msg1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc1':80"><span class="id" title="variable">lc1'</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem1:68"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_cancel"><span class="id" title="constructor">Memory.op_kind_cancel</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="STEP2:82" class="idref" href="#STEP2:82"><span class="id" title="binder">STEP2</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Local.html#Local.fence_step"><span class="id" title="inductive">Local.fence_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc1':80"><span class="id" title="variable">lc1'</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#sc0:76"><span class="id" title="variable">sc0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#ord1:74"><span class="id" title="variable">ord1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#ord2:75"><span class="id" title="variable">ord2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc2:69"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#sc1:77"><span class="id" title="variable">sc1</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP1</span>. <span class="id" title="var">inv</span> <span class="id" title="var">STEP2</span>. <span class="id" title="var">ss</span>. <span class="id" title="var">esplits</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>. <span class="id" title="var">i</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderCancel.html#remove_non_synch"><span class="id" title="lemma">remove_non_synch</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">i</span>. <span class="id" title="var">ss</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="var">erewrite</span> <span class="id" title="var">PROMISES</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_get0"><span class="id" title="lemma">Memory.remove_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISES0</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.bot_get"><span class="id" title="lemma">Memory.bot_get</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">ss</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reorder_reserve_cancel" class="idref" href="#reorder_reserve_cancel"><span class="id" title="lemma">reorder_reserve_cancel</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc0:83" class="idref" href="#lc0:83"><span class="id" title="binder">lc0</span></a> <a id="mem0:84" class="idref" href="#mem0:84"><span class="id" title="binder">mem0</span></a> <a id="loc0:85" class="idref" href="#loc0:85"><span class="id" title="binder">loc0</span></a> <a id="from0:86" class="idref" href="#from0:86"><span class="id" title="binder">from0</span></a> <a id="to0:87" class="idref" href="#to0:87"><span class="id" title="binder">to0</span></a> <a id="lc1:88" class="idref" href="#lc1:88"><span class="id" title="binder">lc1</span></a> <a id="mem1:89" class="idref" href="#mem1:89"><span class="id" title="binder">mem1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="loc1:90" class="idref" href="#loc1:90"><span class="id" title="binder">loc1</span></a> <a id="from1:91" class="idref" href="#from1:91"><span class="id" title="binder">from1</span></a> <a id="to1:92" class="idref" href="#to1:92"><span class="id" title="binder">to1</span></a> <a id="lc2:93" class="idref" href="#lc2:93"><span class="id" title="binder">lc2</span></a> <a id="mem2:94" class="idref" href="#mem2:94"><span class="id" title="binder">mem2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PROMISE:95" class="idref" href="#PROMISE:95"><span class="id" title="binder">PROMISE</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc0:83"><span class="id" title="variable">lc0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem0:84"><span class="id" title="variable">mem0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#loc0:85"><span class="id" title="variable">loc0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#from0:86"><span class="id" title="variable">from0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#to0:87"><span class="id" title="variable">to0</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc1:88"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem1:89"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CCL:96" class="idref" href="#CCL:96"><span class="id" title="binder">CCL</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc1:88"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem1:89"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#loc1:90"><span class="id" title="variable">loc1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#from1:91"><span class="id" title="variable">from1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#to1:92"><span class="id" title="variable">to1</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc2:93"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem2:94"><span class="id" title="variable">mem2</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_cancel"><span class="id" title="constructor">Memory.op_kind_cancel</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.ReorderCancel.html#lc0:83"><span class="id" title="variable">lc0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc2:93"><span class="id" title="variable">lc2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem0:84"><span class="id" title="variable">mem0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem2:94"><span class="id" title="variable">mem2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="lc':97" class="idref" href="#lc':97"><span class="id" title="binder">lc'</span></a> <a id="mem':98" class="idref" href="#mem':98"><span class="id" title="binder">mem'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc0:83"><span class="id" title="variable">lc0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem0:84"><span class="id" title="variable">mem0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#loc1:90"><span class="id" title="variable">loc1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#from1:91"><span class="id" title="variable">from1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#to1:92"><span class="id" title="variable">to1</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc':97"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem':98"><span class="id" title="variable">mem'</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_cancel"><span class="id" title="constructor">Memory.op_kind_cancel</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc':97"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem':98"><span class="id" title="variable">mem'</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#loc0:85"><span class="id" title="variable">loc0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#from0:86"><span class="id" title="variable">from0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#to0:87"><span class="id" title="variable">to0</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc2:93"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem2:94"><span class="id" title="variable">mem2</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">inv</span> <span class="id" title="var">CCL</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE0</span>; <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.View.html#loc_ts_eq_dec"><span class="id" title="definition">loc_ts_eq_dec</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>); <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">dup</span> <span class="id" title="var">PROMISES</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get0"><span class="id" title="lemma">Memory.add_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISES</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">dup</span> <span class="id" title="var">PROMISES0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_get0"><span class="id" title="lemma">Memory.remove_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISES0</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET1</span>; <span class="id" title="var">inv</span> <span class="id" title="var">GET1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryMerge.html#MemoryMerge.add_remove"><span class="id" title="lemma">MemoryMerge.add_remove</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES1</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES2</span> | <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryMerge.html#MemoryMerge.add_remove"><span class="id" title="lemma">MemoryMerge.add_remove</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM0</span> | <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">lc0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.add_remove"><span class="id" title="lemma">MemoryReorder.add_remove</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (4 := <span class="id" title="var">loc0</span>); <span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">to0</span>); <span class="id" title="tactic">instantiate</span> (2 := <span class="id" title="var">loc1</span>); <span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">to1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES0</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.add_remove"><span class="id" title="lemma">MemoryReorder.add_remove</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (4 := <span class="id" title="var">loc0</span>); <span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">to0</span>); <span class="id" title="tactic">instantiate</span> (2 := <span class="id" title="var">loc1</span>); <span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">to1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM0</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">o</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">mem1'0</span> <span class="id" title="var">into</span> <span class="id" title="var">promise1'0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reorder_promise_add_cancel" class="idref" href="#reorder_promise_add_cancel"><span class="id" title="lemma">reorder_promise_add_cancel</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc0:99" class="idref" href="#lc0:99"><span class="id" title="binder">lc0</span></a> <a id="mem0:100" class="idref" href="#mem0:100"><span class="id" title="binder">mem0</span></a> <a id="loc0:101" class="idref" href="#loc0:101"><span class="id" title="binder">loc0</span></a> <a id="from0:102" class="idref" href="#from0:102"><span class="id" title="binder">from0</span></a> <a id="to0:103" class="idref" href="#to0:103"><span class="id" title="binder">to0</span></a> <a id="lc1:104" class="idref" href="#lc1:104"><span class="id" title="binder">lc1</span></a> <a id="mem1:105" class="idref" href="#mem1:105"><span class="id" title="binder">mem1</span></a> <a id="msg:106" class="idref" href="#msg:106"><span class="id" title="binder">msg</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="loc1:107" class="idref" href="#loc1:107"><span class="id" title="binder">loc1</span></a> <a id="from1:108" class="idref" href="#from1:108"><span class="id" title="binder">from1</span></a> <a id="to1:109" class="idref" href="#to1:109"><span class="id" title="binder">to1</span></a> <a id="lc2:110" class="idref" href="#lc2:110"><span class="id" title="binder">lc2</span></a> <a id="mem2:111" class="idref" href="#mem2:111"><span class="id" title="binder">mem2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PROMISE:112" class="idref" href="#PROMISE:112"><span class="id" title="binder">PROMISE</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc0:99"><span class="id" title="variable">lc0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem0:100"><span class="id" title="variable">mem0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#loc0:101"><span class="id" title="variable">loc0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#from0:102"><span class="id" title="variable">from0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#to0:103"><span class="id" title="variable">to0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#msg:106"><span class="id" title="variable">msg</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc1:104"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem1:105"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CCL:113" class="idref" href="#CCL:113"><span class="id" title="binder">CCL</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc1:104"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem1:105"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#loc1:107"><span class="id" title="variable">loc1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#from1:108"><span class="id" title="variable">from1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#to1:109"><span class="id" title="variable">to1</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc2:110"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem2:111"><span class="id" title="variable">mem2</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_cancel"><span class="id" title="constructor">Memory.op_kind_cancel</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.ReorderCancel.html#lc0:99"><span class="id" title="variable">lc0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc2:110"><span class="id" title="variable">lc2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem0:100"><span class="id" title="variable">mem0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem2:111"><span class="id" title="variable">mem2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#msg:106"><span class="id" title="variable">msg</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="lc':114" class="idref" href="#lc':114"><span class="id" title="binder">lc'</span></a> <a id="mem':115" class="idref" href="#mem':115"><span class="id" title="binder">mem'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc0:99"><span class="id" title="variable">lc0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem0:100"><span class="id" title="variable">mem0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#loc1:107"><span class="id" title="variable">loc1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#from1:108"><span class="id" title="variable">from1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#to1:109"><span class="id" title="variable">to1</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc':114"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem':115"><span class="id" title="variable">mem'</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_cancel"><span class="id" title="constructor">Memory.op_kind_cancel</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc':114"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem':115"><span class="id" title="variable">mem'</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#loc0:101"><span class="id" title="variable">loc0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#from0:102"><span class="id" title="variable">from0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#to0:103"><span class="id" title="variable">to0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#msg:106"><span class="id" title="variable">msg</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc2:110"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem2:111"><span class="id" title="variable">mem2</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">msg</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">inv</span> <span class="id" title="var">CCL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE0</span>; <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.View.html#loc_ts_eq_dec"><span class="id" title="definition">loc_ts_eq_dec</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>); <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get0"><span class="id" title="lemma">Memory.add_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISES</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_get0"><span class="id" title="lemma">Memory.remove_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISES0</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET1</span>; <span class="id" title="var">inv</span> <span class="id" title="var">GET1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.add_remove"><span class="id" title="lemma">MemoryReorder.add_remove</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (4 := <span class="id" title="var">loc0</span>); <span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">to0</span>); <span class="id" title="tactic">instantiate</span> (2 := <span class="id" title="var">loc1</span>); <span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">to1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES0</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.add_remove"><span class="id" title="lemma">MemoryReorder.add_remove</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (4 := <span class="id" title="var">loc0</span>); <span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">to0</span>); <span class="id" title="tactic">instantiate</span> (2 := <span class="id" title="var">loc1</span>); <span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">to1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM0</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">promise1'</span> &amp; <span class="id" title="var">REMOVE1</span> &amp; <span class="id" title="var">ADD1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x1</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">mem1'</span> &amp; <span class="id" title="var">REMOVE2</span> &amp; <span class="id" title="var">ADD2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span> | <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MSG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc0</span> <span class="id" title="var">to'</span> <span class="id" title="var">mem0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">to0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">msg'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.View.html#loc_ts_eq_dec"><span class="id" title="definition">loc_ts_eq_dec</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>); <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">ATTACH</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cancel_closed_opt_view"><span class="id" title="lemma">Memory.cancel_closed_opt_view</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CLOSED</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderCancel.html#reorder_reserve_cancel"><span class="id" title="lemma">reorder_reserve_cancel</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reorder_promise_split_cancel" class="idref" href="#reorder_promise_split_cancel"><span class="id" title="lemma">reorder_promise_split_cancel</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc0:116" class="idref" href="#lc0:116"><span class="id" title="binder">lc0</span></a> <a id="mem0:117" class="idref" href="#mem0:117"><span class="id" title="binder">mem0</span></a> <a id="loc0:118" class="idref" href="#loc0:118"><span class="id" title="binder">loc0</span></a> <a id="from0:119" class="idref" href="#from0:119"><span class="id" title="binder">from0</span></a> <a id="to0:120" class="idref" href="#to0:120"><span class="id" title="binder">to0</span></a> <a id="lc1:121" class="idref" href="#lc1:121"><span class="id" title="binder">lc1</span></a> <a id="mem1:122" class="idref" href="#mem1:122"><span class="id" title="binder">mem1</span></a> <a id="msg:123" class="idref" href="#msg:123"><span class="id" title="binder">msg</span></a> <a id="ts3:124" class="idref" href="#ts3:124"><span class="id" title="binder">ts3</span></a> <a id="msg3:125" class="idref" href="#msg3:125"><span class="id" title="binder">msg3</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="loc1:126" class="idref" href="#loc1:126"><span class="id" title="binder">loc1</span></a> <a id="from1:127" class="idref" href="#from1:127"><span class="id" title="binder">from1</span></a> <a id="to1:128" class="idref" href="#to1:128"><span class="id" title="binder">to1</span></a> <a id="lc2:129" class="idref" href="#lc2:129"><span class="id" title="binder">lc2</span></a> <a id="mem2:130" class="idref" href="#mem2:130"><span class="id" title="binder">mem2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PROMISE:131" class="idref" href="#PROMISE:131"><span class="id" title="binder">PROMISE</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc0:116"><span class="id" title="variable">lc0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem0:117"><span class="id" title="variable">mem0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#loc0:118"><span class="id" title="variable">loc0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#from0:119"><span class="id" title="variable">from0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#to0:120"><span class="id" title="variable">to0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#msg:123"><span class="id" title="variable">msg</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc1:121"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem1:122"><span class="id" title="variable">mem1</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_split"><span class="id" title="constructor">Memory.op_kind_split</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#ts3:124"><span class="id" title="variable">ts3</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#msg3:125"><span class="id" title="variable">msg3</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CCL:132" class="idref" href="#CCL:132"><span class="id" title="binder">CCL</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc1:121"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem1:122"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#loc1:126"><span class="id" title="variable">loc1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#from1:127"><span class="id" title="variable">from1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#to1:128"><span class="id" title="variable">to1</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc2:129"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem2:130"><span class="id" title="variable">mem2</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_cancel"><span class="id" title="constructor">Memory.op_kind_cancel</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="lc':133" class="idref" href="#lc':133"><span class="id" title="binder">lc'</span></a> <a id="mem':134" class="idref" href="#mem':134"><span class="id" title="binder">mem'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc0:116"><span class="id" title="variable">lc0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem0:117"><span class="id" title="variable">mem0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#loc1:126"><span class="id" title="variable">loc1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#from1:127"><span class="id" title="variable">from1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#to1:128"><span class="id" title="variable">to1</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc':133"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem':134"><span class="id" title="variable">mem'</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_cancel"><span class="id" title="constructor">Memory.op_kind_cancel</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc':133"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem':134"><span class="id" title="variable">mem'</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#loc0:118"><span class="id" title="variable">loc0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#from0:119"><span class="id" title="variable">from0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#to0:120"><span class="id" title="variable">to0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#msg:123"><span class="id" title="variable">msg</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc2:129"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem2:130"><span class="id" title="variable">mem2</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_split"><span class="id" title="constructor">Memory.op_kind_split</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#ts3:124"><span class="id" title="variable">ts3</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#msg3:125"><span class="id" title="variable">msg3</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">inv</span> <span class="id" title="var">CCL</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE0</span>; <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span>(<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#classic"><span class="id" title="axiom">classic</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span>(<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#classic"><span class="id" title="axiom">classic</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">ts3</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.split_remove"><span class="id" title="lemma">MemoryReorder.split_remove</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.split_remove"><span class="id" title="lemma">MemoryReorder.split_remove</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">H0</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES0</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span> | <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cancel_closed_opt_view"><span class="id" title="lemma">Memory.cancel_closed_opt_view</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CLOSED</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">H0</span>; <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_get0"><span class="id" title="lemma">Memory.split_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISES</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_get0"><span class="id" title="lemma">Memory.remove_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISES0</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET3</span>; <span class="id" title="var">inv</span> <span class="id" title="var">GET3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">H</span>; <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_get0"><span class="id" title="lemma">Memory.split_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISES</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_get0"><span class="id" title="lemma">Memory.remove_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISES0</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET3</span>; <span class="id" title="var">inv</span> <span class="id" title="var">GET3</span>.<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reorder_promise_lower_cancel" class="idref" href="#reorder_promise_lower_cancel"><span class="id" title="lemma">reorder_promise_lower_cancel</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc0:135" class="idref" href="#lc0:135"><span class="id" title="binder">lc0</span></a> <a id="mem0:136" class="idref" href="#mem0:136"><span class="id" title="binder">mem0</span></a> <a id="loc0:137" class="idref" href="#loc0:137"><span class="id" title="binder">loc0</span></a> <a id="from0:138" class="idref" href="#from0:138"><span class="id" title="binder">from0</span></a> <a id="to0:139" class="idref" href="#to0:139"><span class="id" title="binder">to0</span></a> <a id="lc1:140" class="idref" href="#lc1:140"><span class="id" title="binder">lc1</span></a> <a id="mem1:141" class="idref" href="#mem1:141"><span class="id" title="binder">mem1</span></a> <a id="msg:142" class="idref" href="#msg:142"><span class="id" title="binder">msg</span></a> <a id="msg':143" class="idref" href="#msg':143"><span class="id" title="binder">msg'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="loc1:144" class="idref" href="#loc1:144"><span class="id" title="binder">loc1</span></a> <a id="from1:145" class="idref" href="#from1:145"><span class="id" title="binder">from1</span></a> <a id="to1:146" class="idref" href="#to1:146"><span class="id" title="binder">to1</span></a> <a id="lc2:147" class="idref" href="#lc2:147"><span class="id" title="binder">lc2</span></a> <a id="mem2:148" class="idref" href="#mem2:148"><span class="id" title="binder">mem2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PROMISE:149" class="idref" href="#PROMISE:149"><span class="id" title="binder">PROMISE</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc0:135"><span class="id" title="variable">lc0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem0:136"><span class="id" title="variable">mem0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#loc0:137"><span class="id" title="variable">loc0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#from0:138"><span class="id" title="variable">from0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#to0:139"><span class="id" title="variable">to0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#msg:142"><span class="id" title="variable">msg</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc1:140"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem1:141"><span class="id" title="variable">mem1</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_lower"><span class="id" title="constructor">Memory.op_kind_lower</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#msg':143"><span class="id" title="variable">msg'</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CCL:150" class="idref" href="#CCL:150"><span class="id" title="binder">CCL</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc1:140"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem1:141"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#loc1:144"><span class="id" title="variable">loc1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#from1:145"><span class="id" title="variable">from1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#to1:146"><span class="id" title="variable">to1</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc2:147"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem2:148"><span class="id" title="variable">mem2</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_cancel"><span class="id" title="constructor">Memory.op_kind_cancel</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="lc':151" class="idref" href="#lc':151"><span class="id" title="binder">lc'</span></a> <a id="mem':152" class="idref" href="#mem':152"><span class="id" title="binder">mem'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc0:135"><span class="id" title="variable">lc0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem0:136"><span class="id" title="variable">mem0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#loc1:144"><span class="id" title="variable">loc1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#from1:145"><span class="id" title="variable">from1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#to1:146"><span class="id" title="variable">to1</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc':151"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem':152"><span class="id" title="variable">mem'</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_cancel"><span class="id" title="constructor">Memory.op_kind_cancel</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc':151"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem':152"><span class="id" title="variable">mem'</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#loc0:137"><span class="id" title="variable">loc0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#from0:138"><span class="id" title="variable">from0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#to0:139"><span class="id" title="variable">to0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#msg:142"><span class="id" title="variable">msg</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc2:147"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem2:148"><span class="id" title="variable">mem2</span></a> (<a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_lower"><span class="id" title="constructor">Memory.op_kind_lower</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#msg':143"><span class="id" title="variable">msg'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">inv</span> <span class="id" title="var">CCL</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE0</span>; <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span>(<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#classic"><span class="id" title="axiom">classic</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.lower_remove"><span class="id" title="lemma">MemoryReorder.lower_remove</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES0</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.lower_remove"><span class="id" title="lemma">MemoryReorder.lower_remove</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM0</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span> | <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.cancel_closed_message"><span class="id" title="lemma">Memory.cancel_closed_message</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">H</span>; <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_get0"><span class="id" title="lemma">Memory.lower_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISES</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_get0"><span class="id" title="lemma">Memory.remove_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISES0</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET1</span>; <span class="id" title="var">inv</span> <span class="id" title="var">GET1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MSG_LE</span>.<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reorder_promise_cancel_cancel" class="idref" href="#reorder_promise_cancel_cancel"><span class="id" title="lemma">reorder_promise_cancel_cancel</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc0:153" class="idref" href="#lc0:153"><span class="id" title="binder">lc0</span></a> <a id="mem0:154" class="idref" href="#mem0:154"><span class="id" title="binder">mem0</span></a> <a id="loc0:155" class="idref" href="#loc0:155"><span class="id" title="binder">loc0</span></a> <a id="from0:156" class="idref" href="#from0:156"><span class="id" title="binder">from0</span></a> <a id="to0:157" class="idref" href="#to0:157"><span class="id" title="binder">to0</span></a> <a id="lc1:158" class="idref" href="#lc1:158"><span class="id" title="binder">lc1</span></a> <a id="mem1:159" class="idref" href="#mem1:159"><span class="id" title="binder">mem1</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="loc1:160" class="idref" href="#loc1:160"><span class="id" title="binder">loc1</span></a> <a id="from1:161" class="idref" href="#from1:161"><span class="id" title="binder">from1</span></a> <a id="to1:162" class="idref" href="#to1:162"><span class="id" title="binder">to1</span></a> <a id="lc2:163" class="idref" href="#lc2:163"><span class="id" title="binder">lc2</span></a> <a id="mem2:164" class="idref" href="#mem2:164"><span class="id" title="binder">mem2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PROMISE:165" class="idref" href="#PROMISE:165"><span class="id" title="binder">PROMISE</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc0:153"><span class="id" title="variable">lc0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem0:154"><span class="id" title="variable">mem0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#loc0:155"><span class="id" title="variable">loc0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#from0:156"><span class="id" title="variable">from0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#to0:157"><span class="id" title="variable">to0</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc1:158"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem1:159"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_cancel"><span class="id" title="constructor">Memory.op_kind_cancel</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CCL:166" class="idref" href="#CCL:166"><span class="id" title="binder">CCL</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc1:158"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem1:159"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#loc1:160"><span class="id" title="variable">loc1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#from1:161"><span class="id" title="variable">from1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#to1:162"><span class="id" title="variable">to1</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc2:163"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem2:164"><span class="id" title="variable">mem2</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_cancel"><span class="id" title="constructor">Memory.op_kind_cancel</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="lc':167" class="idref" href="#lc':167"><span class="id" title="binder">lc'</span></a> <a id="mem':168" class="idref" href="#mem':168"><span class="id" title="binder">mem'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc0:153"><span class="id" title="variable">lc0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem0:154"><span class="id" title="variable">mem0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#loc1:160"><span class="id" title="variable">loc1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#from1:161"><span class="id" title="variable">from1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#to1:162"><span class="id" title="variable">to1</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc':167"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem':168"><span class="id" title="variable">mem'</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_cancel"><span class="id" title="constructor">Memory.op_kind_cancel</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc':167"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem':168"><span class="id" title="variable">mem'</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#loc0:155"><span class="id" title="variable">loc0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#from0:156"><span class="id" title="variable">from0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#to0:157"><span class="id" title="variable">to0</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc2:163"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem2:164"><span class="id" title="variable">mem2</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_cancel"><span class="id" title="constructor">Memory.op_kind_cancel</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">inv</span> <span class="id" title="var">CCL</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE0</span>; <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.remove_remove"><span class="id" title="lemma">MemoryReorder.remove_remove</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES0</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.remove_remove"><span class="id" title="lemma">MemoryReorder.remove_remove</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM0</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reorder_promise_cancel" class="idref" href="#reorder_promise_cancel"><span class="id" title="lemma">reorder_promise_cancel</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc0:169" class="idref" href="#lc0:169"><span class="id" title="binder">lc0</span></a> <a id="mem0:170" class="idref" href="#mem0:170"><span class="id" title="binder">mem0</span></a> <a id="loc0:171" class="idref" href="#loc0:171"><span class="id" title="binder">loc0</span></a> <a id="from0:172" class="idref" href="#from0:172"><span class="id" title="binder">from0</span></a> <a id="to0:173" class="idref" href="#to0:173"><span class="id" title="binder">to0</span></a> <a id="msg:174" class="idref" href="#msg:174"><span class="id" title="binder">msg</span></a> <a id="lc1:175" class="idref" href="#lc1:175"><span class="id" title="binder">lc1</span></a> <a id="mem1:176" class="idref" href="#mem1:176"><span class="id" title="binder">mem1</span></a> <a id="kind:177" class="idref" href="#kind:177"><span class="id" title="binder">kind</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="loc1:178" class="idref" href="#loc1:178"><span class="id" title="binder">loc1</span></a> <a id="from1:179" class="idref" href="#from1:179"><span class="id" title="binder">from1</span></a> <a id="to1:180" class="idref" href="#to1:180"><span class="id" title="binder">to1</span></a> <a id="lc2:181" class="idref" href="#lc2:181"><span class="id" title="binder">lc2</span></a> <a id="mem2:182" class="idref" href="#mem2:182"><span class="id" title="binder">mem2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PROMISE:183" class="idref" href="#PROMISE:183"><span class="id" title="binder">PROMISE</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc0:169"><span class="id" title="variable">lc0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem0:170"><span class="id" title="variable">mem0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#loc0:171"><span class="id" title="variable">loc0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#from0:172"><span class="id" title="variable">from0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#to0:173"><span class="id" title="variable">to0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#msg:174"><span class="id" title="variable">msg</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc1:175"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem1:176"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#kind:177"><span class="id" title="variable">kind</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CCL:184" class="idref" href="#CCL:184"><span class="id" title="binder">CCL</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc1:175"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem1:176"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#loc1:178"><span class="id" title="variable">loc1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#from1:179"><span class="id" title="variable">from1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#to1:180"><span class="id" title="variable">to1</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc2:181"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem2:182"><span class="id" title="variable">mem2</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_cancel"><span class="id" title="constructor">Memory.op_kind_cancel</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.ReorderCancel.html#lc0:169"><span class="id" title="variable">lc0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc2:181"><span class="id" title="variable">lc2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem0:170"><span class="id" title="variable">mem0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem2:182"><span class="id" title="variable">mem2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#kind:177"><span class="id" title="variable">kind</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#msg:174"><span class="id" title="variable">msg</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="lc':185" class="idref" href="#lc':185"><span class="id" title="binder">lc'</span></a> <a id="mem':186" class="idref" href="#mem':186"><span class="id" title="binder">mem'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc0:169"><span class="id" title="variable">lc0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem0:170"><span class="id" title="variable">mem0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#loc1:178"><span class="id" title="variable">loc1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#from1:179"><span class="id" title="variable">from1</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#to1:180"><span class="id" title="variable">to1</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc':185"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem':186"><span class="id" title="variable">mem'</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_cancel"><span class="id" title="constructor">Memory.op_kind_cancel</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc':185"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem':186"><span class="id" title="variable">mem'</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#loc0:171"><span class="id" title="variable">loc0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#from0:172"><span class="id" title="variable">from0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#to0:173"><span class="id" title="variable">to0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#msg:174"><span class="id" title="variable">msg</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lc2:181"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#mem2:182"><span class="id" title="variable">mem2</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#kind:177"><span class="id" title="variable">kind</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">kind</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderCancel.html#reorder_promise_add_cancel"><span class="id" title="lemma">reorder_promise_add_cancel</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderCancel.html#reorder_promise_split_cancel"><span class="id" title="lemma">reorder_promise_split_cancel</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderCancel.html#reorder_promise_lower_cancel"><span class="id" title="lemma">reorder_promise_lower_cancel</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">msg</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderCancel.html#reorder_promise_cancel_cancel"><span class="id" title="lemma">reorder_promise_cancel_cancel</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reorder_reserve_step_cancel_step" class="idref" href="#reorder_reserve_step_cancel_step"><span class="id" title="lemma">reorder_reserve_step_cancel_step</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lang:187" class="idref" href="#lang:187"><span class="id" title="binder">lang</span></a> <a id="lo:188" class="idref" href="#lo:188"><span class="id" title="binder">lo</span></a> (<a id="e:189" class="idref" href="#e:189"><span class="id" title="binder">e</span></a> <a id="e':190" class="idref" href="#e':190"><span class="id" title="binder">e'</span></a> <a id="e'':191" class="idref" href="#e'':191"><span class="id" title="binder">e''</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.t"><span class="id" title="record">Thread.t</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lang:187"><span class="id" title="variable">lang</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RSV:192" class="idref" href="#RSV:192"><span class="id" title="binder">RSV</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.reserve_step"><span class="id" title="inductive">Thread.reserve_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lo:188"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#e:189"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#e':190"><span class="id" title="variable">e'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CCL:193" class="idref" href="#CCL:193"><span class="id" title="binder">CCL</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.cancel_step"><span class="id" title="inductive">Thread.cancel_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lo:188"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#e':190"><span class="id" title="variable">e'</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#e'':191"><span class="id" title="variable">e''</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.ReorderCancel.html#e:189"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#e'':191"><span class="id" title="variable">e''</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="e0:194" class="idref" href="#e0:194"><span class="id" title="binder">e0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Thread.html#Thread.cancel_step"><span class="id" title="inductive">Thread.cancel_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lo:188"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#e:189"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#e0:194"><span class="id" title="variable">e0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.Thread.html#Thread.reserve_step"><span class="id" title="inductive">Thread.reserve_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lo:188"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#e0:194"><span class="id" title="variable">e0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#e'':191"><span class="id" title="variable">e''</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">RSV</span>; <span class="id" title="var">inv</span> <span class="id" title="var">CCL</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>; <span class="id" title="var">inv</span> <span class="id" title="var">STEP0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>; <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.View.html#loc_ts_eq_dec"><span class="id" title="definition">loc_ts_eq_dec</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>); <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">dup</span> <span class="id" title="var">PROMISES</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get0"><span class="id" title="lemma">Memory.add_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISES</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">dup</span> <span class="id" title="var">PROMISES0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_get0"><span class="id" title="lemma">Memory.remove_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISES0</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET1</span>; <span class="id" title="var">inv</span> <span class="id" title="var">GET1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryMerge.html#MemoryMerge.add_remove"><span class="id" title="lemma">MemoryMerge.add_remove</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES1</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES2</span> | <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryMerge.html#MemoryMerge.add_remove"><span class="id" title="lemma">MemoryMerge.add_remove</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM0</span> | <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">lc1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.add_remove"><span class="id" title="lemma">MemoryReorder.add_remove</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (4 := <span class="id" title="var">loc</span>); <span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">to</span>); <span class="id" title="tactic">instantiate</span> (2 := <span class="id" title="var">loc0</span>); <span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">to0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES0</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.add_remove"><span class="id" title="lemma">MemoryReorder.add_remove</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (4 := <span class="id" title="var">loc</span>); <span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">to</span>); <span class="id" title="tactic">instantiate</span> (2 := <span class="id" title="var">loc0</span>); <span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">to0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">o</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM0</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">o</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rename</span> <span class="id" title="var">mem1'0</span> <span class="id" title="var">into</span> <span class="id" title="var">promise1'0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reorder_reserve_steps_cancel_steps" class="idref" href="#reorder_reserve_steps_cancel_steps"><span class="id" title="lemma">reorder_reserve_steps_cancel_steps</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:195" class="idref" href="#n:195"><span class="id" title="binder">n</span></a> <a id="lang:196" class="idref" href="#lang:196"><span class="id" title="binder">lang</span></a> <a id="lo:197" class="idref" href="#lo:197"><span class="id" title="binder">lo</span></a> (<a id="e:198" class="idref" href="#e:198"><span class="id" title="binder">e</span></a> <a id="e':199" class="idref" href="#e':199"><span class="id" title="binder">e'</span></a> <a id="e'':200" class="idref" href="#e'':200"><span class="id" title="binder">e''</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.t"><span class="id" title="record">Thread.t</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lang:196"><span class="id" title="variable">lang</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RSV:201" class="idref" href="#RSV:201"><span class="id" title="binder">RSV</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.reserve_step"><span class="id" title="inductive">Thread.reserve_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lo:197"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#e:198"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#e':199"><span class="id" title="variable">e'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CCLs:202" class="idref" href="#CCLs:202"><span class="id" title="binder">CCLs</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtcn"><span class="id" title="inductive">rtcn</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.cancel_step"><span class="id" title="inductive">Thread.cancel_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lo:197"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ReorderCancel.html#n:195"><span class="id" title="variable">n</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#e':199"><span class="id" title="variable">e'</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#e'':200"><span class="id" title="variable">e''</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="e0:203" class="idref" href="#e0:203"><span class="id" title="binder">e0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.cancel_step"><span class="id" title="inductive">Thread.cancel_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lo:197"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ReorderCancel.html#e:198"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#e0:203"><span class="id" title="variable">e0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.reserve_step"><span class="id" title="inductive">Thread.reserve_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lo:197"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ReorderCancel.html#e0:203"><span class="id" title="variable">e0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#e'':200"><span class="id" title="variable">e''</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">CCLs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">CCLs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderCancel.html#reorder_reserve_step_cancel_step"><span class="id" title="lemma">reorder_reserve_step_cancel_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A12</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; [<span class="id" title="tactic">idtac</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [|<span class="id" title="tactic">eapply</span> <span class="id" title="var">A1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reorder_not_tau_step_cancel_step" class="idref" href="#reorder_not_tau_step_cancel_step"><span class="id" title="lemma">reorder_not_tau_step_cancel_step</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lang:204" class="idref" href="#lang:204"><span class="id" title="binder">lang</span></a> <a id="lo:205" class="idref" href="#lo:205"><span class="id" title="binder">lo</span></a> (<a id="e:206" class="idref" href="#e:206"><span class="id" title="binder">e</span></a> <a id="e':207" class="idref" href="#e':207"><span class="id" title="binder">e'</span></a> <a id="e'':208" class="idref" href="#e'':208"><span class="id" title="binder">e''</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.t"><span class="id" title="record">Thread.t</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lang:204"><span class="id" title="variable">lang</span></a>) <a id="te:209" class="idref" href="#te:209"><span class="id" title="binder">te</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="STEP:210" class="idref" href="#STEP:210"><span class="id" title="binder">STEP</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.program_step"><span class="id" title="inductive">Thread.program_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#te:209"><span class="id" title="variable">te</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lo:205"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#e:206"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#e':207"><span class="id" title="variable">e'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CCL:211" class="idref" href="#CCL:211"><span class="id" title="binder">CCL</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.cancel_step"><span class="id" title="inductive">Thread.cancel_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lo:205"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#e':207"><span class="id" title="variable">e'</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#e'':208"><span class="id" title="variable">e''</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="e0:212" class="idref" href="#e0:212"><span class="id" title="binder">e0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Thread.html#Thread.cancel_step"><span class="id" title="inductive">Thread.cancel_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lo:205"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#e:206"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#e0:212"><span class="id" title="variable">e0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Thread.html#Thread.program_step"><span class="id" title="inductive">Thread.program_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#te:209"><span class="id" title="variable">te</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lo:205"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#e0:212"><span class="id" title="variable">e0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#e'':208"><span class="id" title="variable">e''</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>; <span class="id" title="var">inv</span> <span class="id" title="var">CCL</span>. <span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span> | <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ReorderCancel.html#reorder_read_cancel"><span class="id" title="lemma">reorder_read_cancel</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span> | <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ReorderCancel.html#reorder_write_cancel"><span class="id" title="lemma">reorder_write_cancel</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span> | <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ReorderCancel.html#reorder_write_cancel"><span class="id" title="lemma">reorder_write_cancel</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ReorderCancel.html#reorder_read_cancel"><span class="id" title="lemma">reorder_read_cancel</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span> | <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ReorderCancel.html#reorder_fence_cancel"><span class="id" title="lemma">reorder_fence_cancel</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span> | <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ReorderCancel.html#reorder_fence_cancel"><span class="id" title="lemma">reorder_fence_cancel</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span> | <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reorder_not_rsv_ccl_scfence_step_cancel_steps" class="idref" href="#reorder_not_rsv_ccl_scfence_step_cancel_steps"><span class="id" title="lemma">reorder_not_rsv_ccl_scfence_step_cancel_steps</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:213" class="idref" href="#n:213"><span class="id" title="binder">n</span></a> <a id="lang:214" class="idref" href="#lang:214"><span class="id" title="binder">lang</span></a> <a id="lo:215" class="idref" href="#lo:215"><span class="id" title="binder">lo</span></a> (<a id="e:216" class="idref" href="#e:216"><span class="id" title="binder">e</span></a> <a id="e':217" class="idref" href="#e':217"><span class="id" title="binder">e'</span></a> <a id="e'':218" class="idref" href="#e'':218"><span class="id" title="binder">e''</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.t"><span class="id" title="record">Thread.t</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lang:214"><span class="id" title="variable">lang</span></a>) <a id="pf:219" class="idref" href="#pf:219"><span class="id" title="binder">pf</span></a> <a id="te:220" class="idref" href="#te:220"><span class="id" title="binder">te</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="STEP:221" class="idref" href="#STEP:221"><span class="id" title="binder">STEP</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.step"><span class="id" title="inductive">Thread.step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lo:215"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#pf:219"><span class="id" title="variable">pf</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#te:220"><span class="id" title="variable">te</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#e:216"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#e':217"><span class="id" title="variable">e'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NO_OUT:222" class="idref" href="#NO_OUT:222"><span class="id" title="binder">NO_OUT</span></a>: <a class="idref" href="CompOptCert.Local.html#ThreadEvent.get_machine_event"><span class="id" title="definition">ThreadEvent.get_machine_event</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#te:220"><span class="id" title="variable">te</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Event.html#MachineEvent.silent"><span class="id" title="constructor">MachineEvent.silent</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NO_RSV_CCL_SCFENCE:223" class="idref" href="#NO_RSV_CCL_SCFENCE:223"><span class="id" title="binder">NO_RSV_CCL_SCFENCE</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.not_rsv_ccl_scfence"><span class="id" title="definition">Thread.not_rsv_ccl_scfence</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#te:220"><span class="id" title="variable">te</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CCLs:224" class="idref" href="#CCLs:224"><span class="id" title="binder">CCLs</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtcn"><span class="id" title="inductive">rtcn</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.cancel_step"><span class="id" title="inductive">Thread.cancel_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lo:215"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ReorderCancel.html#n:213"><span class="id" title="variable">n</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#e':217"><span class="id" title="variable">e'</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#e'':218"><span class="id" title="variable">e''</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="e0:225" class="idref" href="#e0:225"><span class="id" title="binder">e0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.cancel_step"><span class="id" title="inductive">Thread.cancel_step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lo:215"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ReorderCancel.html#e:216"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#e0:225"><span class="id" title="variable">e0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Thread.html#Thread.step"><span class="id" title="inductive">Thread.step</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#lo:215"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#pf:219"><span class="id" title="variable">pf</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#te:220"><span class="id" title="variable">te</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#e0:225"><span class="id" title="variable">e0</span></a> <a class="idref" href="CompOptCert.ReorderCancel.html#e'':218"><span class="id" title="variable">e''</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">CCLs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">CCLs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP0</span>; <span class="id" title="var">inv</span> <span class="id" title="var">A12</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ReorderCancel.html#reorder_promise_cancel"><span class="id" title="lemma">reorder_promise_cancel</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL0</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">te</span> := <a class="idref" href="CompOptCert.Local.html#ThreadEvent.promise"><span class="id" title="constructor">ThreadEvent.promise</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">from</span> <span class="id" title="var">to</span> <span class="id" title="var">msg</span> <span class="id" title="var">kind</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">e</span> := (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">st</span> <span class="id" title="var">lc'</span> <span class="id" title="var">sc1</span> <span class="id" title="var">mem'</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [| <span class="id" title="tactic">eapply</span> <span class="id" title="var">A23</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderCancel.html#reorder_not_tau_step_cancel_step"><span class="id" title="lemma">reorder_not_tau_step_cancel_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">STEP0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">e</span> := <span class="id" title="var">e0</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e1</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>