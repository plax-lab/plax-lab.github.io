<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>CompOptCert.ReorderReserve</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library CompOptCert.ReorderReserve</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.omega.Omega.html#"><span class="id" title="library">Omega</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Classes.RelationClasses.html#"><span class="id" title="library">RelationClasses</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.sflib.html#"><span class="id" title="library">sflib</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Paco</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">paco</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Axioms.html#"><span class="id" title="library">Axioms</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Basic.html#"><span class="id" title="library">Basic</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.DataStructure.html#"><span class="id" title="library">DataStructure</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.DenseOrder.html#"><span class="id" title="library">DenseOrder</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Language.html#"><span class="id" title="library">Language</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Event.html#"><span class="id" title="library">Event</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Time.html#"><span class="id" title="library">Time</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.View.html#"><span class="id" title="library">View</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Cell.html#"><span class="id" title="library">Cell</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Memory.html#"><span class="id" title="library">Memory</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.TView.html#"><span class="id" title="library">TView</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Local.html#"><span class="id" title="library">Local</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Thread.html#"><span class="id" title="library">Thread</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Configuration.html#"><span class="id" title="library">Configuration</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.PromiseConsistent.html#"><span class="id" title="library">PromiseConsistent</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.ReorderPromise.html#"><span class="id" title="library">ReorderPromise</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.MemoryReorder.html#"><span class="id" title="library">MemoryReorder</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.MemoryFacts.html#"><span class="id" title="library">MemoryFacts</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.WFConfig.html#"><span class="id" title="library">WFConfig</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.MemoryProps.html#"><span class="id" title="library">MemoryProps</span></a>.<br/>

<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reserve_sc_nochange" class="idref" href="#reserve_sc_nochange"><span class="id" title="lemma">reserve_sc_nochange</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lang:1" class="idref" href="#lang:1"><span class="id" title="binder">lang</span></a> (<a id="e:2" class="idref" href="#e:2"><span class="id" title="binder">e</span></a> <a id="e':3" class="idref" href="#e':3"><span class="id" title="binder">e'</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.t"><span class="id" title="record">Thread.t</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lang:1"><span class="id" title="variable">lang</span></a>) <a id="lo:4" class="idref" href="#lo:4"><span class="id" title="binder">lo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RSVs:5" class="idref" href="#RSVs:5"><span class="id" title="binder">RSVs</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.reserve_step"><span class="id" title="inductive">Thread.reserve_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lo:4"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ReorderReserve.html#e:2"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#e':3"><span class="id" title="variable">e'</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.Thread.html#Thread.sc"><span class="id" title="projection">Thread.sc</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#e:2"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.Thread.html#Thread.sc"><span class="id" title="projection">Thread.sc</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#e':3"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.Thread.html#Thread.state"><span class="id" title="projection">Thread.state</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#e:2"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.Thread.html#Thread.state"><span class="id" title="projection">Thread.state</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#e':3"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">RSVs</span>; <span class="id" title="var">ii</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>. <span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>; <span class="id" title="var">ss</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reorder_reserve_promise" class="idref" href="#reorder_reserve_promise"><span class="id" title="lemma">reorder_reserve_promise</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="prom0:6" class="idref" href="#prom0:6"><span class="id" title="binder">prom0</span></a> <a id="mem0:7" class="idref" href="#mem0:7"><span class="id" title="binder">mem0</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="prom1:8" class="idref" href="#prom1:8"><span class="id" title="binder">prom1</span></a> <a id="mem1:9" class="idref" href="#mem1:9"><span class="id" title="binder">mem1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="prom2:10" class="idref" href="#prom2:10"><span class="id" title="binder">prom2</span></a> <a id="mem2:11" class="idref" href="#mem2:11"><span class="id" title="binder">mem2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="loc1:12" class="idref" href="#loc1:12"><span class="id" title="binder">loc1</span></a> <a id="from1:13" class="idref" href="#from1:13"><span class="id" title="binder">from1</span></a> <a id="to1:14" class="idref" href="#to1:14"><span class="id" title="binder">to1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="loc2:15" class="idref" href="#loc2:15"><span class="id" title="binder">loc2</span></a> <a id="from2:16" class="idref" href="#from2:16"><span class="id" title="binder">from2</span></a> <a id="to2:17" class="idref" href="#to2:17"><span class="id" title="binder">to2</span></a> <a id="msg2:18" class="idref" href="#msg2:18"><span class="id" title="binder">msg2</span></a> <a id="kind2:19" class="idref" href="#kind2:19"><span class="id" title="binder">kind2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="STEP1:20" class="idref" href="#STEP1:20"><span class="id" title="binder">STEP1</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.promise"><span class="id" title="inductive">Memory.promise</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#prom0:6"><span class="id" title="variable">prom0</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem0:7"><span class="id" title="variable">mem0</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc1:12"><span class="id" title="variable">loc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from1:13"><span class="id" title="variable">from1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to1:14"><span class="id" title="variable">to1</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#prom1:8"><span class="id" title="variable">prom1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem1:9"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="STEP2:21" class="idref" href="#STEP2:21"><span class="id" title="binder">STEP2</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.promise"><span class="id" title="inductive">Memory.promise</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#prom1:8"><span class="id" title="variable">prom1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem1:9"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc2:15"><span class="id" title="variable">loc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from2:16"><span class="id" title="variable">from2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to2:17"><span class="id" title="variable">to2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#msg2:18"><span class="id" title="variable">msg2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#prom2:10"><span class="id" title="variable">prom2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem2:11"><span class="id" title="variable">mem2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#kind2:19"><span class="id" title="variable">kind2</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.ReorderReserve.html#loc1:12"><span class="id" title="variable">loc1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc2:15"><span class="id" title="variable">loc2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from1:13"><span class="id" title="variable">from1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from2:16"><span class="id" title="variable">from2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to1:14"><span class="id" title="variable">to1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to2:17"><span class="id" title="variable">to2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#msg2:18"><span class="id" title="variable">msg2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#kind2:19"><span class="id" title="variable">kind2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_cancel"><span class="id" title="constructor">Memory.op_kind_cancel</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.ReorderReserve.html#prom0:6"><span class="id" title="variable">prom0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#prom2:10"><span class="id" title="variable">prom2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem0:7"><span class="id" title="variable">mem0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem2:11"><span class="id" title="variable">mem2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="prom1':22" class="idref" href="#prom1':22"><span class="id" title="binder">prom1'</span></a> <a id="mem1':23" class="idref" href="#mem1':23"><span class="id" title="binder">mem1'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="STEP1:24" class="idref" href="#STEP1:24"><span class="id" title="binder">STEP1</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.promise"><span class="id" title="inductive">Memory.promise</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#prom0:6"><span class="id" title="variable">prom0</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem0:7"><span class="id" title="variable">mem0</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc2:15"><span class="id" title="variable">loc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from2:16"><span class="id" title="variable">from2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to2:17"><span class="id" title="variable">to2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#msg2:18"><span class="id" title="variable">msg2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#prom1':22"><span class="id" title="variable">prom1'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem1':23"><span class="id" title="variable">mem1'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#kind2:19"><span class="id" title="variable">kind2</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="STEP2:25" class="idref" href="#STEP2:25"><span class="id" title="binder">STEP2</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.promise"><span class="id" title="inductive">Memory.promise</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#prom1':22"><span class="id" title="variable">prom1'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem1':23"><span class="id" title="variable">mem1'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc1:12"><span class="id" title="variable">loc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from1:13"><span class="id" title="variable">from1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to1:14"><span class="id" title="variable">to1</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#prom2:10"><span class="id" title="variable">prom2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem2:11"><span class="id" title="variable">mem2</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP1</span>. <span class="id" title="var">inv</span> <span class="id" title="var">STEP2</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.add_add"><span class="id" title="lemma">MemoryReorder.add_add</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">exact</span> <span class="id" title="var">PROMISES</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">exact</span> <span class="id" title="var">PROMISES0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">i</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.add_add"><span class="id" title="lemma">MemoryReorder.add_add</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">exact</span> <span class="id" title="var">MEM</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">exact</span> <span class="id" title="var">MEM0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">i</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="var">esplits</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">congr</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">i</span>. <span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get1"><span class="id" title="lemma">Memory.add_get1</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">exact</span> <span class="id" title="var">MEM</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.add_split"><span class="id" title="lemma">MemoryReorder.add_split</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">exact</span> <span class="id" title="var">PROMISES</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">exact</span> <span class="id" title="var">PROMISES0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="var">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.add_split"><span class="id" title="lemma">MemoryReorder.add_split</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">exact</span> <span class="id" title="var">MEM</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">exact</span> <span class="id" title="var">MEM0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">i</span>. <span class="id" title="var">des</span>; [<span class="id" title="var">congr</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="var">esplits</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">econs</span> 2; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.add_lower"><span class="id" title="lemma">MemoryReorder.add_lower</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">exact</span> <span class="id" title="var">PROMISES</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">exact</span> <span class="id" title="var">PROMISES0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="var">clarify</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.add_lower"><span class="id" title="lemma">MemoryReorder.add_lower</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">exact</span> <span class="id" title="var">MEM</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">exact</span> <span class="id" title="var">MEM0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">i</span>. <span class="id" title="var">des</span>; [<span class="id" title="var">congr</span>|].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="var">esplits</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#classic"><span class="id" title="axiom">classic</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.add_remove_same"><span class="id" title="lemma">MemoryReorder.add_remove_same</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">exact</span> <span class="id" title="var">PROMISES0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">i</span>. <span class="id" title="var">des</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.add_remove_same"><span class="id" title="lemma">MemoryReorder.add_remove_same</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">exact</span> <span class="id" title="var">MEM0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">i</span>. <span class="id" title="var">des</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>. <span class="id" title="var">splits</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.add_remove"><span class="id" title="lemma">MemoryReorder.add_remove</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">exact</span> <span class="id" title="var">PROMISES0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">i</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.add_remove"><span class="id" title="lemma">MemoryReorder.add_remove</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">exact</span> <span class="id" title="var">MEM0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">i</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="var">esplits</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reorder_promise_reserve_promise" class="idref" href="#reorder_promise_reserve_promise"><span class="id" title="lemma">reorder_promise_reserve_promise</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc0:26" class="idref" href="#lc0:26"><span class="id" title="binder">lc0</span></a> <a id="mem0:27" class="idref" href="#mem0:27"><span class="id" title="binder">mem0</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc1:28" class="idref" href="#lc1:28"><span class="id" title="binder">lc1</span></a> <a id="mem1:29" class="idref" href="#mem1:29"><span class="id" title="binder">mem1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc2:30" class="idref" href="#lc2:30"><span class="id" title="binder">lc2</span></a> <a id="mem2:31" class="idref" href="#mem2:31"><span class="id" title="binder">mem2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="loc1:32" class="idref" href="#loc1:32"><span class="id" title="binder">loc1</span></a> <a id="from1:33" class="idref" href="#from1:33"><span class="id" title="binder">from1</span></a> <a id="to1:34" class="idref" href="#to1:34"><span class="id" title="binder">to1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="loc2:35" class="idref" href="#loc2:35"><span class="id" title="binder">loc2</span></a> <a id="from2:36" class="idref" href="#from2:36"><span class="id" title="binder">from2</span></a> <a id="to2:37" class="idref" href="#to2:37"><span class="id" title="binder">to2</span></a> <a id="msg2:38" class="idref" href="#msg2:38"><span class="id" title="binder">msg2</span></a> <a id="kind2:39" class="idref" href="#kind2:39"><span class="id" title="binder">kind2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="STEP1:40" class="idref" href="#STEP1:40"><span class="id" title="binder">STEP1</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc0:26"><span class="id" title="variable">lc0</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem0:27"><span class="id" title="variable">mem0</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc1:32"><span class="id" title="variable">loc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from1:33"><span class="id" title="variable">from1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to1:34"><span class="id" title="variable">to1</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc1:28"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem1:29"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="STEP2:41" class="idref" href="#STEP2:41"><span class="id" title="binder">STEP2</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc1:28"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem1:29"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc2:35"><span class="id" title="variable">loc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from2:36"><span class="id" title="variable">from2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to2:37"><span class="id" title="variable">to2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#msg2:38"><span class="id" title="variable">msg2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc2:30"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem2:31"><span class="id" title="variable">mem2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#kind2:39"><span class="id" title="variable">kind2</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.ReorderReserve.html#loc1:32"><span class="id" title="variable">loc1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc2:35"><span class="id" title="variable">loc2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from1:33"><span class="id" title="variable">from1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from2:36"><span class="id" title="variable">from2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to1:34"><span class="id" title="variable">to1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to2:37"><span class="id" title="variable">to2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#msg2:38"><span class="id" title="variable">msg2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#kind2:39"><span class="id" title="variable">kind2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_cancel"><span class="id" title="constructor">Memory.op_kind_cancel</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.ReorderReserve.html#lc0:26"><span class="id" title="variable">lc0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc2:30"><span class="id" title="variable">lc2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem0:27"><span class="id" title="variable">mem0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem2:31"><span class="id" title="variable">mem2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="lc1':42" class="idref" href="#lc1':42"><span class="id" title="binder">lc1'</span></a> <a id="mem1':43" class="idref" href="#mem1':43"><span class="id" title="binder">mem1'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="STEP1:44" class="idref" href="#STEP1:44"><span class="id" title="binder">STEP1</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc0:26"><span class="id" title="variable">lc0</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem0:27"><span class="id" title="variable">mem0</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc2:35"><span class="id" title="variable">loc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from2:36"><span class="id" title="variable">from2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to2:37"><span class="id" title="variable">to2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#msg2:38"><span class="id" title="variable">msg2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc1':42"><span class="id" title="variable">lc1'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem1':43"><span class="id" title="variable">mem1'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#kind2:39"><span class="id" title="variable">kind2</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="STEP2:45" class="idref" href="#STEP2:45"><span class="id" title="binder">STEP2</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc1':42"><span class="id" title="variable">lc1'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem1':43"><span class="id" title="variable">mem1'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc1:32"><span class="id" title="variable">loc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from1:33"><span class="id" title="variable">from1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to1:34"><span class="id" title="variable">to1</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc2:30"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem2:31"><span class="id" title="variable">mem2</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP1</span>. <span class="id" title="var">inv</span> <span class="id" title="var">STEP2</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reorder_reserve_promise"><span class="id" title="lemma">reorder_reserve_promise</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">i</span>. <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">left</span>. <span class="id" title="var">splits</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">lc0</span>; <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="var">esplits</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">inv</span> <span class="id" title="var">STEP2</span>.<br/>

<br/>

<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryProps.html#memory_concrete_le_closed_msg"><span class="id" title="lemma">memory_concrete_le_closed_msg</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">CLOSED0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">erewrite</span> (@<a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="var">mem2</span> <span class="id" title="var">mem1'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des_ifs</span>. }<br/>
&nbsp;&nbsp;{ <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>. }<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="add_non_synch_loc" class="idref" href="#add_non_synch_loc"><span class="id" title="lemma">add_non_synch_loc</span></a> <a id="loc0:46" class="idref" href="#loc0:46"><span class="id" title="binder">loc0</span></a> <a id="prom0:47" class="idref" href="#prom0:47"><span class="id" title="binder">prom0</span></a> <a id="loc1:48" class="idref" href="#loc1:48"><span class="id" title="binder">loc1</span></a> <a id="from:49" class="idref" href="#from:49"><span class="id" title="binder">from</span></a> <a id="to:50" class="idref" href="#to:50"><span class="id" title="binder">to</span></a> <a id="msg:51" class="idref" href="#msg:51"><span class="id" title="binder">msg</span></a> <a id="prom1:52" class="idref" href="#prom1:52"><span class="id" title="binder">prom1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NONSYNCH:53" class="idref" href="#NONSYNCH:53"><span class="id" title="binder">NONSYNCH</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.nonsynch_loc"><span class="id" title="definition">Memory.nonsynch_loc</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc0:46"><span class="id" title="variable">loc0</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#prom1:52"><span class="id" title="variable">prom1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ADD:54" class="idref" href="#ADD:54"><span class="id" title="binder">ADD</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.add"><span class="id" title="inductive">Memory.add</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#prom0:47"><span class="id" title="variable">prom0</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc1:48"><span class="id" title="variable">loc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from:49"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to:50"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#msg:51"><span class="id" title="variable">msg</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#prom1:52"><span class="id" title="variable">prom1</span></a>)<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.nonsynch_loc"><span class="id" title="definition">Memory.nonsynch_loc</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc0:46"><span class="id" title="variable">loc0</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#prom0:47"><span class="id" title="variable">prom0</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get1"><span class="id" title="lemma">Memory.add_get1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">des_ifs</span>. <span class="id" title="var">exploit</span> <span class="id" title="var">NONSYNCH</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reserve_non_synch_loc" class="idref" href="#reserve_non_synch_loc"><span class="id" title="lemma">reserve_non_synch_loc</span></a> <a id="loc0:55" class="idref" href="#loc0:55"><span class="id" title="binder">loc0</span></a> <a id="prom0:56" class="idref" href="#prom0:56"><span class="id" title="binder">prom0</span></a> <a id="loc1:57" class="idref" href="#loc1:57"><span class="id" title="binder">loc1</span></a> <a id="from:58" class="idref" href="#from:58"><span class="id" title="binder">from</span></a> <a id="to:59" class="idref" href="#to:59"><span class="id" title="binder">to</span></a> <a id="prom1:60" class="idref" href="#prom1:60"><span class="id" title="binder">prom1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NONSYNCH:61" class="idref" href="#NONSYNCH:61"><span class="id" title="binder">NONSYNCH</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.nonsynch_loc"><span class="id" title="definition">Memory.nonsynch_loc</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc0:55"><span class="id" title="variable">loc0</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#prom0:56"><span class="id" title="variable">prom0</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RSV:62" class="idref" href="#RSV:62"><span class="id" title="binder">RSV</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.add"><span class="id" title="inductive">Memory.add</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#prom0:56"><span class="id" title="variable">prom0</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc1:57"><span class="id" title="variable">loc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from:58"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to:59"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#prom1:60"><span class="id" title="variable">prom1</span></a>)<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.nonsynch_loc"><span class="id" title="definition">Memory.nonsynch_loc</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc0:55"><span class="id" title="variable">loc0</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#prom1:60"><span class="id" title="variable">prom1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.View.html#loc_ts_eq_dec"><span class="id" title="definition">loc_ts_eq_dec</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">t</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">GET</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">NONSYNCH</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="add_non_synch" class="idref" href="#add_non_synch"><span class="id" title="lemma">add_non_synch</span></a> <a id="prom0:63" class="idref" href="#prom0:63"><span class="id" title="binder">prom0</span></a> <a id="loc:64" class="idref" href="#loc:64"><span class="id" title="binder">loc</span></a> <a id="from:65" class="idref" href="#from:65"><span class="id" title="binder">from</span></a> <a id="to:66" class="idref" href="#to:66"><span class="id" title="binder">to</span></a> <a id="msg:67" class="idref" href="#msg:67"><span class="id" title="binder">msg</span></a> <a id="prom1:68" class="idref" href="#prom1:68"><span class="id" title="binder">prom1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NONSYNCH:69" class="idref" href="#NONSYNCH:69"><span class="id" title="binder">NONSYNCH</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.nonsynch"><span class="id" title="definition">Memory.nonsynch</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#prom1:68"><span class="id" title="variable">prom1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ADD:70" class="idref" href="#ADD:70"><span class="id" title="binder">ADD</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.add"><span class="id" title="inductive">Memory.add</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#prom0:63"><span class="id" title="variable">prom0</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc:64"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from:65"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to:66"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#msg:67"><span class="id" title="variable">msg</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#prom1:68"><span class="id" title="variable">prom1</span></a>)<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.nonsynch"><span class="id" title="definition">Memory.nonsynch</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#prom0:63"><span class="id" title="variable">prom0</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get1"><span class="id" title="lemma">Memory.add_get1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">des_ifs</span>. <span class="id" title="var">exploit</span> <span class="id" title="var">NONSYNCH</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reserve_non_synch" class="idref" href="#reserve_non_synch"><span class="id" title="lemma">reserve_non_synch</span></a> <a id="prom0:71" class="idref" href="#prom0:71"><span class="id" title="binder">prom0</span></a> <a id="loc:72" class="idref" href="#loc:72"><span class="id" title="binder">loc</span></a> <a id="from:73" class="idref" href="#from:73"><span class="id" title="binder">from</span></a> <a id="to:74" class="idref" href="#to:74"><span class="id" title="binder">to</span></a> <a id="prom1:75" class="idref" href="#prom1:75"><span class="id" title="binder">prom1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NONSYNCH:76" class="idref" href="#NONSYNCH:76"><span class="id" title="binder">NONSYNCH</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.nonsynch"><span class="id" title="definition">Memory.nonsynch</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#prom0:71"><span class="id" title="variable">prom0</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RSV:77" class="idref" href="#RSV:77"><span class="id" title="binder">RSV</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.add"><span class="id" title="inductive">Memory.add</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#prom0:71"><span class="id" title="variable">prom0</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc:72"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from:73"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to:74"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#prom1:75"><span class="id" title="variable">prom1</span></a>)<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.nonsynch"><span class="id" title="definition">Memory.nonsynch</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#prom1:75"><span class="id" title="variable">prom1</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">des_ifs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">NONSYNCH</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reorder_reserve_fence" class="idref" href="#reorder_reserve_fence"><span class="id" title="lemma">reorder_reserve_fence</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc0:78" class="idref" href="#lc0:78"><span class="id" title="binder">lc0</span></a> <a id="mem0:79" class="idref" href="#mem0:79"><span class="id" title="binder">mem0</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc1:80" class="idref" href="#lc1:80"><span class="id" title="binder">lc1</span></a> <a id="mem1:81" class="idref" href="#mem1:81"><span class="id" title="binder">mem1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc2:82" class="idref" href="#lc2:82"><span class="id" title="binder">lc2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="loc1:83" class="idref" href="#loc1:83"><span class="id" title="binder">loc1</span></a> <a id="from1:84" class="idref" href="#from1:84"><span class="id" title="binder">from1</span></a> <a id="to1:85" class="idref" href="#to1:85"><span class="id" title="binder">to1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="ord1:86" class="idref" href="#ord1:86"><span class="id" title="binder">ord1</span></a> <a id="ord2:87" class="idref" href="#ord2:87"><span class="id" title="binder">ord2</span></a> <a id="sc0:88" class="idref" href="#sc0:88"><span class="id" title="binder">sc0</span></a> <a id="sc1:89" class="idref" href="#sc1:89"><span class="id" title="binder">sc1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="STEP1:90" class="idref" href="#STEP1:90"><span class="id" title="binder">STEP1</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc0:78"><span class="id" title="variable">lc0</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem0:79"><span class="id" title="variable">mem0</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc1:83"><span class="id" title="variable">loc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from1:84"><span class="id" title="variable">from1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to1:85"><span class="id" title="variable">to1</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc1:80"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem1:81"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="STEP2:91" class="idref" href="#STEP2:91"><span class="id" title="binder">STEP2</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.fence_step"><span class="id" title="inductive">Local.fence_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc1:80"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#sc0:88"><span class="id" title="variable">sc0</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#ord1:86"><span class="id" title="variable">ord1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#ord2:87"><span class="id" title="variable">ord2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc2:82"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#sc1:89"><span class="id" title="variable">sc1</span></a>)<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="lc1':92" class="idref" href="#lc1':92"><span class="id" title="binder">lc1'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="STEP1:93" class="idref" href="#STEP1:93"><span class="id" title="binder">STEP1</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Local.html#Local.fence_step"><span class="id" title="inductive">Local.fence_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc0:78"><span class="id" title="variable">lc0</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#sc0:88"><span class="id" title="variable">sc0</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#ord1:86"><span class="id" title="variable">ord1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#ord2:87"><span class="id" title="variable">ord2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc1':92"><span class="id" title="variable">lc1'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#sc1:89"><span class="id" title="variable">sc1</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="STEP2:94" class="idref" href="#STEP2:94"><span class="id" title="binder">STEP2</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc1':92"><span class="id" title="variable">lc1'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem0:79"><span class="id" title="variable">mem0</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc1:83"><span class="id" title="variable">loc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from1:84"><span class="id" title="variable">from1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to1:85"><span class="id" title="variable">to1</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc2:82"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem1:81"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP1</span>. <span class="id" title="var">inv</span> <span class="id" title="var">STEP2</span>. <span class="id" title="var">ss</span>. <span class="id" title="var">esplits</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>. <span class="id" title="var">i</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderReserve.html#add_non_synch"><span class="id" title="lemma">add_non_synch</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">i</span>. <span class="id" title="var">ss</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="var">erewrite</span> <span class="id" title="var">PROMISES</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get0"><span class="id" title="lemma">Memory.add_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISES0</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.bot_get"><span class="id" title="lemma">Memory.bot_get</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reorder_reserve_read" class="idref" href="#reorder_reserve_read"><span class="id" title="lemma">reorder_reserve_read</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc0:95" class="idref" href="#lc0:95"><span class="id" title="binder">lc0</span></a> <a id="mem0:96" class="idref" href="#mem0:96"><span class="id" title="binder">mem0</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc1:97" class="idref" href="#lc1:97"><span class="id" title="binder">lc1</span></a> <a id="mem1:98" class="idref" href="#mem1:98"><span class="id" title="binder">mem1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc2:99" class="idref" href="#lc2:99"><span class="id" title="binder">lc2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="loc1:100" class="idref" href="#loc1:100"><span class="id" title="binder">loc1</span></a> <a id="from1:101" class="idref" href="#from1:101"><span class="id" title="binder">from1</span></a> <a id="to1:102" class="idref" href="#to1:102"><span class="id" title="binder">to1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="loc2:103" class="idref" href="#loc2:103"><span class="id" title="binder">loc2</span></a> <a id="to2:104" class="idref" href="#to2:104"><span class="id" title="binder">to2</span></a> <a id="val2:105" class="idref" href="#val2:105"><span class="id" title="binder">val2</span></a> <a id="released2:106" class="idref" href="#released2:106"><span class="id" title="binder">released2</span></a> <a id="ord2:107" class="idref" href="#ord2:107"><span class="id" title="binder">ord2</span></a> <a id="lo:108" class="idref" href="#lo:108"><span class="id" title="binder">lo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="STEP1:109" class="idref" href="#STEP1:109"><span class="id" title="binder">STEP1</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc0:95"><span class="id" title="variable">lc0</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem0:96"><span class="id" title="variable">mem0</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc1:100"><span class="id" title="variable">loc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from1:101"><span class="id" title="variable">from1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to1:102"><span class="id" title="variable">to1</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc1:97"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem1:98"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="STEP2:110" class="idref" href="#STEP2:110"><span class="id" title="binder">STEP2</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.read_step"><span class="id" title="inductive">Local.read_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc1:97"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem1:98"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc2:103"><span class="id" title="variable">loc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to2:104"><span class="id" title="variable">to2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#val2:105"><span class="id" title="variable">val2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#released2:106"><span class="id" title="variable">released2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#ord2:107"><span class="id" title="variable">ord2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc2:99"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lo:108"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="lc1':111" class="idref" href="#lc1':111"><span class="id" title="binder">lc1'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="STEP1:112" class="idref" href="#STEP1:112"><span class="id" title="binder">STEP1</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Local.html#Local.read_step"><span class="id" title="inductive">Local.read_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc0:95"><span class="id" title="variable">lc0</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem0:96"><span class="id" title="variable">mem0</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc2:103"><span class="id" title="variable">loc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to2:104"><span class="id" title="variable">to2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#val2:105"><span class="id" title="variable">val2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#released2:106"><span class="id" title="variable">released2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#ord2:107"><span class="id" title="variable">ord2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc1':111"><span class="id" title="variable">lc1'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lo:108"><span class="id" title="variable">lo</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="STEP2:113" class="idref" href="#STEP2:113"><span class="id" title="binder">STEP2</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc1':111"><span class="id" title="variable">lc1'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem0:96"><span class="id" title="variable">mem0</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc1:100"><span class="id" title="variable">loc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from1:101"><span class="id" title="variable">from1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to1:102"><span class="id" title="variable">to1</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc2:99"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem1:98"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP1</span>. <span class="id" title="var">inv</span> <span class="id" title="var">STEP2</span>. <span class="id" title="var">esplits</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des_ifs</span>. <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;{ <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>. }<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reorder_reserve_write" class="idref" href="#reorder_reserve_write"><span class="id" title="lemma">reorder_reserve_write</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc0:114" class="idref" href="#lc0:114"><span class="id" title="binder">lc0</span></a> <a id="sc0:115" class="idref" href="#sc0:115"><span class="id" title="binder">sc0</span></a> <a id="mem0:116" class="idref" href="#mem0:116"><span class="id" title="binder">mem0</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc1:117" class="idref" href="#lc1:117"><span class="id" title="binder">lc1</span></a> <a id="mem1:118" class="idref" href="#mem1:118"><span class="id" title="binder">mem1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc2:119" class="idref" href="#lc2:119"><span class="id" title="binder">lc2</span></a> <a id="sc2:120" class="idref" href="#sc2:120"><span class="id" title="binder">sc2</span></a> <a id="mem2:121" class="idref" href="#mem2:121"><span class="id" title="binder">mem2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="loc1:122" class="idref" href="#loc1:122"><span class="id" title="binder">loc1</span></a> <a id="from1:123" class="idref" href="#from1:123"><span class="id" title="binder">from1</span></a> <a id="to1:124" class="idref" href="#to1:124"><span class="id" title="binder">to1</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="loc2:125" class="idref" href="#loc2:125"><span class="id" title="binder">loc2</span></a> <a id="from2:126" class="idref" href="#from2:126"><span class="id" title="binder">from2</span></a> <a id="to2:127" class="idref" href="#to2:127"><span class="id" title="binder">to2</span></a> <a id="val2:128" class="idref" href="#val2:128"><span class="id" title="binder">val2</span></a> <a id="releasedm2:129" class="idref" href="#releasedm2:129"><span class="id" title="binder">releasedm2</span></a> <a id="released2:130" class="idref" href="#released2:130"><span class="id" title="binder">released2</span></a> <a id="ord2:131" class="idref" href="#ord2:131"><span class="id" title="binder">ord2</span></a> <a id="kind2:132" class="idref" href="#kind2:132"><span class="id" title="binder">kind2</span></a> <a id="lo:133" class="idref" href="#lo:133"><span class="id" title="binder">lo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="STEP1:134" class="idref" href="#STEP1:134"><span class="id" title="binder">STEP1</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc0:114"><span class="id" title="variable">lc0</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem0:116"><span class="id" title="variable">mem0</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc1:122"><span class="id" title="variable">loc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from1:123"><span class="id" title="variable">from1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to1:124"><span class="id" title="variable">to1</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc1:117"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem1:118"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="STEP2:135" class="idref" href="#STEP2:135"><span class="id" title="binder">STEP2</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.write_step"><span class="id" title="inductive">Local.write_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc1:117"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#sc0:115"><span class="id" title="variable">sc0</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem1:118"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc2:125"><span class="id" title="variable">loc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from2:126"><span class="id" title="variable">from2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to2:127"><span class="id" title="variable">to2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#val2:128"><span class="id" title="variable">val2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#releasedm2:129"><span class="id" title="variable">releasedm2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#released2:130"><span class="id" title="variable">released2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#ord2:131"><span class="id" title="variable">ord2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc2:119"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#sc2:120"><span class="id" title="variable">sc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem2:121"><span class="id" title="variable">mem2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#kind2:132"><span class="id" title="variable">kind2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lo:133"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="lc1':136" class="idref" href="#lc1':136"><span class="id" title="binder">lc1'</span></a> <a id="mem1':137" class="idref" href="#mem1':137"><span class="id" title="binder">mem1'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="STEP1:138" class="idref" href="#STEP1:138"><span class="id" title="binder">STEP1</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Local.html#Local.write_step"><span class="id" title="inductive">Local.write_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc0:114"><span class="id" title="variable">lc0</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#sc0:115"><span class="id" title="variable">sc0</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem0:116"><span class="id" title="variable">mem0</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc2:125"><span class="id" title="variable">loc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from2:126"><span class="id" title="variable">from2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to2:127"><span class="id" title="variable">to2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#val2:128"><span class="id" title="variable">val2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#releasedm2:129"><span class="id" title="variable">releasedm2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#released2:130"><span class="id" title="variable">released2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#ord2:131"><span class="id" title="variable">ord2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc1':136"><span class="id" title="variable">lc1'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#sc2:120"><span class="id" title="variable">sc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem1':137"><span class="id" title="variable">mem1'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#kind2:132"><span class="id" title="variable">kind2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lo:133"><span class="id" title="variable">lo</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="STEP2:139" class="idref" href="#STEP2:139"><span class="id" title="binder">STEP2</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc1':136"><span class="id" title="variable">lc1'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem1':137"><span class="id" title="variable">mem1'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc1:122"><span class="id" title="variable">loc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from1:123"><span class="id" title="variable">from1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to1:124"><span class="id" title="variable">to1</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc2:119"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem2:121"><span class="id" title="variable">mem2</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP1</span>. <span class="id" title="var">inv</span> <span class="id" title="var">STEP2</span>. <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reorder_reserve_promise"><span class="id" title="lemma">reorder_reserve_promise</span></a>.<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISE</span>. }<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISE0</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">i</span>. <span class="id" title="var">des</span>; <span class="id" title="var">clarify</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">i</span>. <span class="id" title="var">des</span>; <span class="id" title="var">clarify</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">LOCTS</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;{ <span class="id" title="var">ii</span>. <span class="id" title="var">clarify</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get0"><span class="id" title="lemma">Memory.add_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MEM</span>. <span class="id" title="var">des</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get0"><span class="id" title="lemma">Memory.add_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MEM</span>. <span class="id" title="var">des</span>. <span class="id" title="var">clarify</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">des</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_get0"><span class="id" title="lemma">Memory.split_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MEM</span>. <span class="id" title="var">des</span>. <span class="id" title="var">clarify</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="var">des</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_get0"><span class="id" title="lemma">Memory.lower_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MEM</span>. <span class="id" title="var">des</span>. <span class="id" title="var">clarify</span>. }<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.add_remove"><span class="id" title="lemma">MemoryReorder.add_remove</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="var">inv</span> <span class="id" title="var">STEP2</span>. <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">i</span>. <span class="id" title="var">des</span>. <span class="id" title="var">esplits</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">i</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderReserve.html#add_non_synch_loc"><span class="id" title="lemma">add_non_synch_loc</span></a>; <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;{ <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">STEP2</span>. <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>. }<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reorder_promise_add_reserve" class="idref" href="#reorder_promise_add_reserve"><span class="id" title="lemma">reorder_promise_add_reserve</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc1:140" class="idref" href="#lc1:140"><span class="id" title="binder">lc1</span></a> <a id="mem1:141" class="idref" href="#mem1:141"><span class="id" title="binder">mem1</span></a> <a id="loc1:142" class="idref" href="#loc1:142"><span class="id" title="binder">loc1</span></a> <a id="from1:143" class="idref" href="#from1:143"><span class="id" title="binder">from1</span></a> <a id="to1:144" class="idref" href="#to1:144"><span class="id" title="binder">to1</span></a> <a id="val:145" class="idref" href="#val:145"><span class="id" title="binder">val</span></a> <a id="released:146" class="idref" href="#released:146"><span class="id" title="binder">released</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc2:147" class="idref" href="#lc2:147"><span class="id" title="binder">lc2</span></a> <a id="mem2:148" class="idref" href="#mem2:148"><span class="id" title="binder">mem2</span></a> <a id="loc2:149" class="idref" href="#loc2:149"><span class="id" title="binder">loc2</span></a> <a id="from2:150" class="idref" href="#from2:150"><span class="id" title="binder">from2</span></a> <a id="to2:151" class="idref" href="#to2:151"><span class="id" title="binder">to2</span></a> <a id="lc3:152" class="idref" href="#lc3:152"><span class="id" title="binder">lc3</span></a> <a id="mem3:153" class="idref" href="#mem3:153"><span class="id" title="binder">mem3</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PRM_ADD:154" class="idref" href="#PRM_ADD:154"><span class="id" title="binder">PRM_ADD</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc1:140"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem1:141"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc1:142"><span class="id" title="variable">loc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from1:143"><span class="id" title="variable">from1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to1:144"><span class="id" title="variable">to1</span></a> (<a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#val:145"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#released:146"><span class="id" title="variable">released</span></a>) <a class="idref" href="CompOptCert.ReorderReserve.html#lc2:147"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem2:148"><span class="id" title="variable">mem2</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RSV:155" class="idref" href="#RSV:155"><span class="id" title="binder">RSV</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc2:147"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem2:148"><span class="id" title="variable">mem2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc2:149"><span class="id" title="variable">loc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from2:150"><span class="id" title="variable">from2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to2:151"><span class="id" title="variable">to2</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc3:152"><span class="id" title="variable">lc3</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem3:153"><span class="id" title="variable">mem3</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="lc':156" class="idref" href="#lc':156"><span class="id" title="binder">lc'</span></a> <a id="mem':157" class="idref" href="#mem':157"><span class="id" title="binder">mem'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc1:140"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem1:141"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc2:149"><span class="id" title="variable">loc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from2:150"><span class="id" title="variable">from2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to2:151"><span class="id" title="variable">to2</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc':156"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem':157"><span class="id" title="variable">mem'</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc':156"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem':157"><span class="id" title="variable">mem'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc1:142"><span class="id" title="variable">loc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from1:143"><span class="id" title="variable">from1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to1:144"><span class="id" title="variable">to1</span></a> (<a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#val:145"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#released:146"><span class="id" title="variable">released</span></a>) <a class="idref" href="CompOptCert.ReorderReserve.html#lc3:152"><span class="id" title="variable">lc3</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem3:153"><span class="id" title="variable">mem3</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.ReorderReserve.html#loc1:142"><span class="id" title="variable">loc1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc2:149"><span class="id" title="variable">loc2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to1:144"><span class="id" title="variable">to1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from2:150"><span class="id" title="variable">from2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PRM_ADD</span>; <span class="id" title="var">inv</span> <span class="id" title="var">RSV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.add_add"><span class="id" title="lemma">MemoryReorder.add_add</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES0</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.add_add"><span class="id" title="lemma">MemoryReorder.add_add</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM0</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#classic"><span class="id" title="axiom">classic</span></a> (<span class="id" title="var">to1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">from2</span>)); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#classic"><span class="id" title="axiom">classic</span></a> (<span class="id" title="var">loc1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">loc2</span>)); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MSG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">ATTACH</span> <span class="id" title="var">ADD0</span> <span class="id" title="var">GET</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">ATTACH</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (2 := <span class="id" title="var">to'</span>); <span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">msg'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.View.html#loc_ts_eq_dec"><span class="id" title="definition">loc_ts_eq_dec</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>); <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_closed_message"><span class="id" title="lemma">Memory.add_closed_message</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem2</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#classic"><span class="id" title="axiom">classic</span></a> (<span class="id" title="var">loc1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">loc2</span>)); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MSG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">ATTACH</span> <span class="id" title="var">ADD0</span> <span class="id" title="var">GET</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#classic"><span class="id" title="axiom">classic</span></a> (<span class="id" title="var">to'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">to2</span>)); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get0"><span class="id" title="lemma">Memory.add_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ADD0</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="var">inv</span> <span class="id" title="var">GET</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">ATTACH</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (2 := <span class="id" title="var">to'</span>); <span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">msg'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.View.html#loc_ts_eq_dec"><span class="id" title="definition">loc_ts_eq_dec</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>); <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_closed_message"><span class="id" title="lemma">Memory.add_closed_message</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem2</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MSG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">ATTACH</span> <span class="id" title="var">ADD0</span> <span class="id" title="var">GET</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">ATTACH</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (2 := <span class="id" title="var">to'</span>); <span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">msg'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.View.html#loc_ts_eq_dec"><span class="id" title="definition">loc_ts_eq_dec</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc1</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to2</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>); <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">GET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_closed_message"><span class="id" title="lemma">Memory.add_closed_message</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">mem1</span> := <span class="id" title="var">mem2</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reorder_promise_add_reserve_step_attached" class="idref" href="#reorder_promise_add_reserve_step_attached"><span class="id" title="lemma">reorder_promise_add_reserve_step_attached</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc1:158" class="idref" href="#lc1:158"><span class="id" title="binder">lc1</span></a> <a id="mem1:159" class="idref" href="#mem1:159"><span class="id" title="binder">mem1</span></a> <a id="loc:160" class="idref" href="#loc:160"><span class="id" title="binder">loc</span></a> <a id="from:161" class="idref" href="#from:161"><span class="id" title="binder">from</span></a> <a id="ts:162" class="idref" href="#ts:162"><span class="id" title="binder">ts</span></a> <a id="val:163" class="idref" href="#val:163"><span class="id" title="binder">val</span></a> <a id="released:164" class="idref" href="#released:164"><span class="id" title="binder">released</span></a> <a id="lc2:165" class="idref" href="#lc2:165"><span class="id" title="binder">lc2</span></a> <a id="mem2:166" class="idref" href="#mem2:166"><span class="id" title="binder">mem2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="to:167" class="idref" href="#to:167"><span class="id" title="binder">to</span></a> <a id="lc3:168" class="idref" href="#lc3:168"><span class="id" title="binder">lc3</span></a> <a id="mem3:169" class="idref" href="#mem3:169"><span class="id" title="binder">mem3</span></a> <a id="loc':170" class="idref" href="#loc':170"><span class="id" title="binder">loc'</span></a> <a id="from':171" class="idref" href="#from':171"><span class="id" title="binder">from'</span></a> <a id="to':172" class="idref" href="#to':172"><span class="id" title="binder">to'</span></a> <a id="lc4:173" class="idref" href="#lc4:173"><span class="id" title="binder">lc4</span></a> <a id="mem4:174" class="idref" href="#mem4:174"><span class="id" title="binder">mem4</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PROMISE:175" class="idref" href="#PROMISE:175"><span class="id" title="binder">PROMISE</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc1:158"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem1:159"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc:160"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from:161"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#ts:162"><span class="id" title="variable">ts</span></a> (<a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#val:163"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#released:164"><span class="id" title="variable">released</span></a>) <a class="idref" href="CompOptCert.ReorderReserve.html#lc2:165"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem2:166"><span class="id" title="variable">mem2</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RSV_ATTACH:176" class="idref" href="#RSV_ATTACH:176"><span class="id" title="binder">RSV_ATTACH</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc2:165"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem2:166"><span class="id" title="variable">mem2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc:160"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#ts:162"><span class="id" title="variable">ts</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to:167"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc3:168"><span class="id" title="variable">lc3</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem3:169"><span class="id" title="variable">mem3</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RSV:177" class="idref" href="#RSV:177"><span class="id" title="binder">RSV</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc3:168"><span class="id" title="variable">lc3</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem3:169"><span class="id" title="variable">mem3</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc':170"><span class="id" title="variable">loc'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from':171"><span class="id" title="variable">from'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to':172"><span class="id" title="variable">to'</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc4:173"><span class="id" title="variable">lc4</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem4:174"><span class="id" title="variable">mem4</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="lc':178" class="idref" href="#lc':178"><span class="id" title="binder">lc'</span></a> <a id="mem':179" class="idref" href="#mem':179"><span class="id" title="binder">mem'</span></a> <a id="lc'':180" class="idref" href="#lc'':180"><span class="id" title="binder">lc''</span></a> <a id="mem'':181" class="idref" href="#mem'':181"><span class="id" title="binder">mem''</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc1:158"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem1:159"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc':170"><span class="id" title="variable">loc'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from':171"><span class="id" title="variable">from'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to':172"><span class="id" title="variable">to'</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc':178"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem':179"><span class="id" title="variable">mem'</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc':178"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem':179"><span class="id" title="variable">mem'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc:160"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from:161"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#ts:162"><span class="id" title="variable">ts</span></a> (<a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#val:163"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#released:164"><span class="id" title="variable">released</span></a>) <a class="idref" href="CompOptCert.ReorderReserve.html#lc'':180"><span class="id" title="variable">lc''</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem'':181"><span class="id" title="variable">mem''</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc'':180"><span class="id" title="variable">lc''</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem'':181"><span class="id" title="variable">mem''</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc:160"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#ts:162"><span class="id" title="variable">ts</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to:167"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc4:173"><span class="id" title="variable">lc4</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem4:174"><span class="id" title="variable">mem4</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reorder_promise_reserve_promise"><span class="id" title="lemma">reorder_promise_reserve_promise</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">RSV_ATTACH</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">RSV</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reorder_promise_add_reserve"><span class="id" title="lemma">reorder_promise_add_reserve</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISE</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">STEP1</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">do</span> 4 <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">RSV_ATTACH</span> <span class="id" title="var">RSV</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">RSV_ATTACH</span>; <span class="id" title="var">inv</span> <span class="id" title="var">RSV</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">MEM</span> <span class="id" title="var">MEM0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.View.html#loc_ts_eq_dec"><span class="id" title="definition">loc_ts_eq_dec</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">loc'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">to'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>); <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.add_add"><span class="id" title="lemma">MemoryReorder.add_add</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM0</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">LOCTS</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LT1</span>: <a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> <span class="id" title="var">from'</span> <span class="id" title="var">to</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">MEM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MEM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ADD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">LT2</span>: <a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> <span class="id" title="var">from'</span> <span class="id" title="var">to'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">MEM0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MEM0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ADD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get0"><span class="id" title="lemma">Memory.add_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MEM</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MEM0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ADD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Cell.html#Cell.get"><span class="id" title="definition">Cell.get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">DISJOINT</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">GET0</span> <span class="id" title="var">LT1</span> <span class="id" title="var">LT2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Time.html#Interval.disjoint"><span class="id" title="definition">Interval.disjoint</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span>(<a class="idref" href="CompOptCert.Time.html#Time.le_lt_dec"><span class="id" title="lemma">Time.le_lt_dec</span></a> <span class="id" title="var">to'</span> <span class="id" title="var">to</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">GET0</span> <span class="id" title="var">to'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">GET0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DenseOrder.html#DenseOrder_le_PreOrder_obligation_1"><span class="id" title="lemma">DenseOrder.DenseOrder_le_PreOrder_obligation_1</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">GET0</span> <span class="id" title="var">to</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">GET0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DenseOrder.html#DenseOrder_le_PreOrder_obligation_1"><span class="id" title="lemma">DenseOrder.DenseOrder_le_PreOrder_obligation_1</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reorder_promise_add_reservations_attached" class="idref" href="#reorder_promise_add_reservations_attached"><span class="id" title="lemma">reorder_promise_add_reservations_attached</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:182" class="idref" href="#n:182"><span class="id" title="binder">n</span></a> <a id="lang:183" class="idref" href="#lang:183"><span class="id" title="binder">lang</span></a> <a id="lc1:184" class="idref" href="#lc1:184"><span class="id" title="binder">lc1</span></a> <a id="mem1:185" class="idref" href="#mem1:185"><span class="id" title="binder">mem1</span></a> <a id="loc:186" class="idref" href="#loc:186"><span class="id" title="binder">loc</span></a> <a id="from:187" class="idref" href="#from:187"><span class="id" title="binder">from</span></a> <a id="ts:188" class="idref" href="#ts:188"><span class="id" title="binder">ts</span></a> <a id="val:189" class="idref" href="#val:189"><span class="id" title="binder">val</span></a> <a id="released:190" class="idref" href="#released:190"><span class="id" title="binder">released</span></a> <a id="lc2:191" class="idref" href="#lc2:191"><span class="id" title="binder">lc2</span></a> <a id="mem2:192" class="idref" href="#mem2:192"><span class="id" title="binder">mem2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="to:193" class="idref" href="#to:193"><span class="id" title="binder">to</span></a> <a id="lc3:194" class="idref" href="#lc3:194"><span class="id" title="binder">lc3</span></a> <a id="mem3:195" class="idref" href="#mem3:195"><span class="id" title="binder">mem3</span></a> <a id="st:196" class="idref" href="#st:196"><span class="id" title="binder">st</span></a> <a id="sc:197" class="idref" href="#sc:197"><span class="id" title="binder">sc</span></a> <a id="e'':198" class="idref" href="#e'':198"><span class="id" title="binder">e''</span></a> <a id="lo:199" class="idref" href="#lo:199"><span class="id" title="binder">lo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PROMISE:200" class="idref" href="#PROMISE:200"><span class="id" title="binder">PROMISE</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc1:184"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem1:185"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc:186"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from:187"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#ts:188"><span class="id" title="variable">ts</span></a> (<a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#val:189"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#released:190"><span class="id" title="variable">released</span></a>) <a class="idref" href="CompOptCert.ReorderReserve.html#lc2:191"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem2:192"><span class="id" title="variable">mem2</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RSV_ATTACH:201" class="idref" href="#RSV_ATTACH:201"><span class="id" title="binder">RSV_ATTACH</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc2:191"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem2:192"><span class="id" title="variable">mem2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc:186"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#ts:188"><span class="id" title="variable">ts</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to:193"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc3:194"><span class="id" title="variable">lc3</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem3:195"><span class="id" title="variable">mem3</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RSVs:202" class="idref" href="#RSVs:202"><span class="id" title="binder">RSVs</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtcn"><span class="id" title="inductive">rtcn</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.reserve_step"><span class="id" title="inductive">Thread.reserve_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lo:199"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ReorderReserve.html#n:182"><span class="id" title="variable">n</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lang:183"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#st:196"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc3:194"><span class="id" title="variable">lc3</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#sc:197"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem3:195"><span class="id" title="variable">mem3</span></a>) <a class="idref" href="CompOptCert.ReorderReserve.html#e'':198"><span class="id" title="variable">e''</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="lc':203" class="idref" href="#lc':203"><span class="id" title="binder">lc'</span></a> <a id="mem':204" class="idref" href="#mem':204"><span class="id" title="binder">mem'</span></a> <a id="lc'':205" class="idref" href="#lc'':205"><span class="id" title="binder">lc''</span></a> <a id="mem'':206" class="idref" href="#mem'':206"><span class="id" title="binder">mem''</span></a>  <a id="lc4:207" class="idref" href="#lc4:207"><span class="id" title="binder">lc4</span></a> <a id="mem4:208" class="idref" href="#mem4:208"><span class="id" title="binder">mem4</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.reserve_step"><span class="id" title="inductive">Thread.reserve_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lo:199"><span class="id" title="variable">lo</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lang:183"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#st:196"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc1:184"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#sc:197"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem1:185"><span class="id" title="variable">mem1</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lang:183"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#st:196"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc':203"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#sc:197"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem':204"><span class="id" title="variable">mem'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc':203"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem':204"><span class="id" title="variable">mem'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc:186"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from:187"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#ts:188"><span class="id" title="variable">ts</span></a> (<a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#val:189"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#released:190"><span class="id" title="variable">released</span></a>) <a class="idref" href="CompOptCert.ReorderReserve.html#lc'':205"><span class="id" title="variable">lc''</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem'':206"><span class="id" title="variable">mem''</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc'':205"><span class="id" title="variable">lc''</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem'':206"><span class="id" title="variable">mem''</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc:186"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#ts:188"><span class="id" title="variable">ts</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to:193"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc4:207"><span class="id" title="variable">lc4</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem4:208"><span class="id" title="variable">mem4</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.ReorderReserve.html#e'':198"><span class="id" title="variable">e''</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lang:183"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#st:196"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc4:207"><span class="id" title="variable">lc4</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#sc:197"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem4:208"><span class="id" title="variable">mem4</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">RSVs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 6 <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">RSVs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">A12</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reorder_promise_add_reserve_step_attached"><span class="id" title="lemma">reorder_promise_add_reserve_step_attached</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISE</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">RSV_ATTACH</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">IHn</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">x1</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">x2</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">A23</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 6 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [<span class="id" title="tactic">idtac</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">x</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reorder_promise_split_reserve" class="idref" href="#reorder_promise_split_reserve"><span class="id" title="lemma">reorder_promise_split_reserve</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc1:209" class="idref" href="#lc1:209"><span class="id" title="binder">lc1</span></a> <a id="mem1:210" class="idref" href="#mem1:210"><span class="id" title="binder">mem1</span></a> <a id="loc1:211" class="idref" href="#loc1:211"><span class="id" title="binder">loc1</span></a> <a id="from1:212" class="idref" href="#from1:212"><span class="id" title="binder">from1</span></a> <a id="to1:213" class="idref" href="#to1:213"><span class="id" title="binder">to1</span></a> <a id="val:214" class="idref" href="#val:214"><span class="id" title="binder">val</span></a> <a id="released:215" class="idref" href="#released:215"><span class="id" title="binder">released</span></a> <a id="ts:216" class="idref" href="#ts:216"><span class="id" title="binder">ts</span></a> <a id="msg:217" class="idref" href="#msg:217"><span class="id" title="binder">msg</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc2:218" class="idref" href="#lc2:218"><span class="id" title="binder">lc2</span></a> <a id="mem2:219" class="idref" href="#mem2:219"><span class="id" title="binder">mem2</span></a> <a id="loc2:220" class="idref" href="#loc2:220"><span class="id" title="binder">loc2</span></a> <a id="from2:221" class="idref" href="#from2:221"><span class="id" title="binder">from2</span></a> <a id="to2:222" class="idref" href="#to2:222"><span class="id" title="binder">to2</span></a> <a id="lc3:223" class="idref" href="#lc3:223"><span class="id" title="binder">lc3</span></a> <a id="mem3:224" class="idref" href="#mem3:224"><span class="id" title="binder">mem3</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PRM_ADD:225" class="idref" href="#PRM_ADD:225"><span class="id" title="binder">PRM_ADD</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc1:209"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem1:210"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc1:211"><span class="id" title="variable">loc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from1:212"><span class="id" title="variable">from1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to1:213"><span class="id" title="variable">to1</span></a> (<a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#val:214"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#released:215"><span class="id" title="variable">released</span></a>) <a class="idref" href="CompOptCert.ReorderReserve.html#lc2:218"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem2:219"><span class="id" title="variable">mem2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_split"><span class="id" title="constructor">Memory.op_kind_split</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#ts:216"><span class="id" title="variable">ts</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#msg:217"><span class="id" title="variable">msg</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RSV:226" class="idref" href="#RSV:226"><span class="id" title="binder">RSV</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc2:218"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem2:219"><span class="id" title="variable">mem2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc2:220"><span class="id" title="variable">loc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from2:221"><span class="id" title="variable">from2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to2:222"><span class="id" title="variable">to2</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc3:223"><span class="id" title="variable">lc3</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem3:224"><span class="id" title="variable">mem3</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a>):<br/>
&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="lc':227" class="idref" href="#lc':227"><span class="id" title="binder">lc'</span></a> <a id="mem':228" class="idref" href="#mem':228"><span class="id" title="binder">mem'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc1:209"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem1:210"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc2:220"><span class="id" title="variable">loc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from2:221"><span class="id" title="variable">from2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to2:222"><span class="id" title="variable">to2</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc':227"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem':228"><span class="id" title="variable">mem'</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc':227"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem':228"><span class="id" title="variable">mem'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc1:211"><span class="id" title="variable">loc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from1:212"><span class="id" title="variable">from1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to1:213"><span class="id" title="variable">to1</span></a> (<a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#val:214"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#released:215"><span class="id" title="variable">released</span></a>) <a class="idref" href="CompOptCert.ReorderReserve.html#lc3:223"><span class="id" title="variable">lc3</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem3:224"><span class="id" title="variable">mem3</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_split"><span class="id" title="constructor">Memory.op_kind_split</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#ts:216"><span class="id" title="variable">ts</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#msg:217"><span class="id" title="variable">msg</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PRM_ADD</span>; <span class="id" title="var">inv</span> <span class="id" title="var">RSV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.split_add"><span class="id" title="lemma">MemoryReorder.split_add</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES0</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.split_add"><span class="id" title="lemma">MemoryReorder.split_add</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM0</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">ADD1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">ADD0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_closed_message"><span class="id" title="lemma">Memory.add_closed_message</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reorder_promise_lower_reserve" class="idref" href="#reorder_promise_lower_reserve"><span class="id" title="lemma">reorder_promise_lower_reserve</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc1:229" class="idref" href="#lc1:229"><span class="id" title="binder">lc1</span></a> <a id="mem1:230" class="idref" href="#mem1:230"><span class="id" title="binder">mem1</span></a> <a id="loc1:231" class="idref" href="#loc1:231"><span class="id" title="binder">loc1</span></a> <a id="from1:232" class="idref" href="#from1:232"><span class="id" title="binder">from1</span></a> <a id="to1:233" class="idref" href="#to1:233"><span class="id" title="binder">to1</span></a> <a id="val:234" class="idref" href="#val:234"><span class="id" title="binder">val</span></a> <a id="released:235" class="idref" href="#released:235"><span class="id" title="binder">released</span></a> <a id="msg:236" class="idref" href="#msg:236"><span class="id" title="binder">msg</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc2:237" class="idref" href="#lc2:237"><span class="id" title="binder">lc2</span></a> <a id="mem2:238" class="idref" href="#mem2:238"><span class="id" title="binder">mem2</span></a> <a id="loc2:239" class="idref" href="#loc2:239"><span class="id" title="binder">loc2</span></a> <a id="from2:240" class="idref" href="#from2:240"><span class="id" title="binder">from2</span></a> <a id="to2:241" class="idref" href="#to2:241"><span class="id" title="binder">to2</span></a> <a id="lc3:242" class="idref" href="#lc3:242"><span class="id" title="binder">lc3</span></a> <a id="mem3:243" class="idref" href="#mem3:243"><span class="id" title="binder">mem3</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PRM_ADD:244" class="idref" href="#PRM_ADD:244"><span class="id" title="binder">PRM_ADD</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc1:229"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem1:230"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc1:231"><span class="id" title="variable">loc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from1:232"><span class="id" title="variable">from1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to1:233"><span class="id" title="variable">to1</span></a> (<a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#val:234"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#released:235"><span class="id" title="variable">released</span></a>) <a class="idref" href="CompOptCert.ReorderReserve.html#lc2:237"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem2:238"><span class="id" title="variable">mem2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_lower"><span class="id" title="constructor">Memory.op_kind_lower</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#msg:236"><span class="id" title="variable">msg</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RSV:245" class="idref" href="#RSV:245"><span class="id" title="binder">RSV</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc2:237"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem2:238"><span class="id" title="variable">mem2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc2:239"><span class="id" title="variable">loc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from2:240"><span class="id" title="variable">from2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to2:241"><span class="id" title="variable">to2</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc3:242"><span class="id" title="variable">lc3</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem3:243"><span class="id" title="variable">mem3</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a>):<br/>
&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="lc':246" class="idref" href="#lc':246"><span class="id" title="binder">lc'</span></a> <a id="mem':247" class="idref" href="#mem':247"><span class="id" title="binder">mem'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc1:229"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem1:230"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc2:239"><span class="id" title="variable">loc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from2:240"><span class="id" title="variable">from2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to2:241"><span class="id" title="variable">to2</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc':246"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem':247"><span class="id" title="variable">mem'</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc':246"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem':247"><span class="id" title="variable">mem'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc1:231"><span class="id" title="variable">loc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from1:232"><span class="id" title="variable">from1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to1:233"><span class="id" title="variable">to1</span></a> (<a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#val:234"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#released:235"><span class="id" title="variable">released</span></a>) <a class="idref" href="CompOptCert.ReorderReserve.html#lc3:242"><span class="id" title="variable">lc3</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem3:243"><span class="id" title="variable">mem3</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_lower"><span class="id" title="constructor">Memory.op_kind_lower</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#msg:236"><span class="id" title="variable">msg</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PRM_ADD</span>; <span class="id" title="var">inv</span> <span class="id" title="var">RSV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.lower_add"><span class="id" title="lemma">MemoryReorder.lower_add</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES0</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.lower_add"><span class="id" title="lemma">MemoryReorder.lower_add</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM0</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">ADD1</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">ADD0</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">ss</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_closed_message"><span class="id" title="lemma">Memory.add_closed_message</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reorder_promise_step_reserve_steps" class="idref" href="#reorder_promise_step_reserve_steps"><span class="id" title="lemma">reorder_promise_step_reserve_steps</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:248" class="idref" href="#n:248"><span class="id" title="binder">n</span></a> <a id="lang:249" class="idref" href="#lang:249"><span class="id" title="binder">lang</span></a> (<a id="e:250" class="idref" href="#e:250"><span class="id" title="binder">e</span></a> <a id="e':251" class="idref" href="#e':251"><span class="id" title="binder">e'</span></a> <a id="e'':252" class="idref" href="#e'':252"><span class="id" title="binder">e''</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.t"><span class="id" title="record">Thread.t</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lang:249"><span class="id" title="variable">lang</span></a>) <a id="pf:253" class="idref" href="#pf:253"><span class="id" title="binder">pf</span></a> <a id="te:254" class="idref" href="#te:254"><span class="id" title="binder">te</span></a> <a id="lo:255" class="idref" href="#lo:255"><span class="id" title="binder">lo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PROMISE:256" class="idref" href="#PROMISE:256"><span class="id" title="binder">PROMISE</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.promise_step"><span class="id" title="inductive">Thread.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#pf:253"><span class="id" title="variable">pf</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#te:254"><span class="id" title="variable">te</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#e:250"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#e':251"><span class="id" title="variable">e'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RSVs:257" class="idref" href="#RSVs:257"><span class="id" title="binder">RSVs</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtcn"><span class="id" title="inductive">rtcn</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.reserve_step"><span class="id" title="inductive">Thread.reserve_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lo:255"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ReorderReserve.html#n:248"><span class="id" title="variable">n</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#e':251"><span class="id" title="variable">e'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#e'':252"><span class="id" title="variable">e''</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NO_RSV_CCL:258" class="idref" href="#NO_RSV_CCL:258"><span class="id" title="binder">NO_RSV_CCL</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.not_rsv_ccl_scfence"><span class="id" title="definition">Thread.not_rsv_ccl_scfence</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#te:254"><span class="id" title="variable">te</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="e0:259" class="idref" href="#e0:259"><span class="id" title="binder">e0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.reserve_step"><span class="id" title="inductive">Thread.reserve_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lo:255"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ReorderReserve.html#e:250"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#e0:259"><span class="id" title="variable">e0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.Thread.html#Thread.promise_step"><span class="id" title="inductive">Thread.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#pf:253"><span class="id" title="variable">pf</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#te:254"><span class="id" title="variable">te</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#e0:259"><span class="id" title="variable">e0</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#e'':252"><span class="id" title="variable">e''</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="e0:260" class="idref" href="#e0:260"><span class="id" title="binder">e0</span></a> <a id="e1:261" class="idref" href="#e1:261"><span class="id" title="binder">e1</span></a> <a id="loc:262" class="idref" href="#loc:262"><span class="id" title="binder">loc</span></a> <a id="to:263" class="idref" href="#to:263"><span class="id" title="binder">to</span></a> <a id="ts:264" class="idref" href="#ts:264"><span class="id" title="binder">ts</span></a> <a id="from:265" class="idref" href="#from:265"><span class="id" title="binder">from</span></a> <a id="msg:266" class="idref" href="#msg:266"><span class="id" title="binder">msg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.reserve_step"><span class="id" title="inductive">Thread.reserve_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lo:255"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ReorderReserve.html#e:250"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#e0:260"><span class="id" title="variable">e0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Thread.html#Thread.promise_step"><span class="id" title="inductive">Thread.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#pf:253"><span class="id" title="variable">pf</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#te:254"><span class="id" title="variable">te</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#e0:260"><span class="id" title="variable">e0</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#e1:261"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#te:254"><span class="id" title="variable">te</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Local.html#ThreadEvent.promise"><span class="id" title="constructor">ThreadEvent.promise</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc:262"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from:265"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#ts:264"><span class="id" title="variable">ts</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#msg:266"><span class="id" title="variable">msg</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Thread.html#Thread.promise_step"><span class="id" title="inductive">Thread.promise_step</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="CompOptCert.Local.html#ThreadEvent.promise"><span class="id" title="constructor">ThreadEvent.promise</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc:262"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#ts:264"><span class="id" title="variable">ts</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to:263"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a>) <a class="idref" href="CompOptCert.ReorderReserve.html#e1:261"><span class="id" title="variable">e1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#e'':252"><span class="id" title="variable">e''</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">RSVs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">RSVs</span>. <span class="id" title="var">inv</span> <span class="id" title="var">A12</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">msg</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">kind</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reorder_promise_add_reserve"><span class="id" title="lemma">reorder_promise_add_reserve</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">e</span> := <a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">st</span> <span class="id" title="var">lc'</span> <span class="id" title="var">sc1</span> <span class="id" title="var">mem'</span>) (<span class="id" title="var">pf</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">te</span> := <a class="idref" href="CompOptCert.Local.html#ThreadEvent.promise"><span class="id" title="constructor">ThreadEvent.promise</span></a> <span class="id" title="var">loc0</span> <span class="id" title="var">from0</span> <span class="id" title="var">to0</span> (<a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <span class="id" title="var">val</span> <span class="id" title="var">released</span>) <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">A1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 7 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [|<span class="id" title="tactic">eapply</span> <span class="id" title="var">A23</span>]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reorder_promise_add_reservations_attached"><span class="id" title="lemma">reorder_promise_add_reservations_attached</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL0</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">A23</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 7 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reorder_promise_split_reserve"><span class="id" title="lemma">reorder_promise_split_reserve</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">e</span> := <a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">st</span> <span class="id" title="var">lc'</span> <span class="id" title="var">sc1</span> <span class="id" title="var">mem'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">te</span> := <a class="idref" href="CompOptCert.Local.html#ThreadEvent.promise"><span class="id" title="constructor">ThreadEvent.promise</span></a> <span class="id" title="var">loc0</span> <span class="id" title="var">from0</span> <span class="id" title="var">to0</span> (<a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <span class="id" title="var">val</span> <span class="id" title="var">released</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_split"><span class="id" title="constructor">Memory.op_kind_split</span></a> <span class="id" title="var">ts3</span> <span class="id" title="var">msg3</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [<span class="id" title="tactic">idtac</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">A23</span>]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">A1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reorder_promise_lower_reserve"><span class="id" title="lemma">reorder_promise_lower_reserve</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL0</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">e</span> := <a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">st</span> <span class="id" title="var">lc'</span> <span class="id" title="var">sc1</span> <span class="id" title="var">mem'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">te</span> := <a class="idref" href="CompOptCert.Local.html#ThreadEvent.promise"><span class="id" title="constructor">ThreadEvent.promise</span></a> <span class="id" title="var">loc0</span> <span class="id" title="var">from0</span> <span class="id" title="var">to0</span> (<a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <span class="id" title="var">val</span> <span class="id" title="var">released</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_lower"><span class="id" title="constructor">Memory.op_kind_lower</span></a> <span class="id" title="var">msg1</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [<span class="id" title="tactic">idtac</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">A23</span>]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 7 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [<span class="id" title="tactic">idtac</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">A23</span>]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">kind</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">LOCAL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISES</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOWER</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">MSG_LE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MSG_LE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reorder_read_reservation" class="idref" href="#reorder_read_reservation"><span class="id" title="lemma">reorder_read_reservation</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc1:267" class="idref" href="#lc1:267"><span class="id" title="binder">lc1</span></a> <a id="mem1:268" class="idref" href="#mem1:268"><span class="id" title="binder">mem1</span></a> <a id="loc:269" class="idref" href="#loc:269"><span class="id" title="binder">loc</span></a> <a id="to:270" class="idref" href="#to:270"><span class="id" title="binder">to</span></a> <a id="val:271" class="idref" href="#val:271"><span class="id" title="binder">val</span></a> <a id="released:272" class="idref" href="#released:272"><span class="id" title="binder">released</span></a> <a id="ord:273" class="idref" href="#ord:273"><span class="id" title="binder">ord</span></a> <a id="lc2:274" class="idref" href="#lc2:274"><span class="id" title="binder">lc2</span></a> <a id="lo:275" class="idref" href="#lo:275"><span class="id" title="binder">lo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="loc2:276" class="idref" href="#loc2:276"><span class="id" title="binder">loc2</span></a> <a id="from2:277" class="idref" href="#from2:277"><span class="id" title="binder">from2</span></a> <a id="to2:278" class="idref" href="#to2:278"><span class="id" title="binder">to2</span></a> <a id="lc3:279" class="idref" href="#lc3:279"><span class="id" title="binder">lc3</span></a> <a id="mem3:280" class="idref" href="#mem3:280"><span class="id" title="binder">mem3</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="READ:281" class="idref" href="#READ:281"><span class="id" title="binder">READ</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.read_step"><span class="id" title="inductive">Local.read_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc1:267"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem1:268"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc:269"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to:270"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#val:271"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#released:272"><span class="id" title="variable">released</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#ord:273"><span class="id" title="variable">ord</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc2:274"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lo:275"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PROMISE:282" class="idref" href="#PROMISE:282"><span class="id" title="binder">PROMISE</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc2:274"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem1:268"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc2:276"><span class="id" title="variable">loc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from2:277"><span class="id" title="variable">from2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to2:278"><span class="id" title="variable">to2</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc3:279"><span class="id" title="variable">lc3</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem3:280"><span class="id" title="variable">mem3</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="lc':283" class="idref" href="#lc':283"><span class="id" title="binder">lc'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc1:267"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem1:268"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc2:276"><span class="id" title="variable">loc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from2:277"><span class="id" title="variable">from2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to2:278"><span class="id" title="variable">to2</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc':283"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem3:280"><span class="id" title="variable">mem3</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.read_step"><span class="id" title="inductive">Local.read_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc':283"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem3:280"><span class="id" title="variable">mem3</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc:269"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to:270"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#val:271"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#released:272"><span class="id" title="variable">released</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#ord:273"><span class="id" title="variable">ord</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc3:279"><span class="id" title="variable">lc3</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lo:275"><span class="id" title="variable">lo</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">READ</span>; <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">lc1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get1"><span class="id" title="lemma">Memory.add_get1</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reorder_read_reserve_steps" class="idref" href="#reorder_read_reserve_steps"><span class="id" title="lemma">reorder_read_reserve_steps</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:284" class="idref" href="#n:284"><span class="id" title="binder">n</span></a> <a id="lang:285" class="idref" href="#lang:285"><span class="id" title="binder">lang</span></a> <a id="st:286" class="idref" href="#st:286"><span class="id" title="binder">st</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc1:287" class="idref" href="#lc1:287"><span class="id" title="binder">lc1</span></a> <a id="mem1:288" class="idref" href="#mem1:288"><span class="id" title="binder">mem1</span></a> <a id="loc:289" class="idref" href="#loc:289"><span class="id" title="binder">loc</span></a> <a id="to:290" class="idref" href="#to:290"><span class="id" title="binder">to</span></a> <a id="val:291" class="idref" href="#val:291"><span class="id" title="binder">val</span></a> <a id="released:292" class="idref" href="#released:292"><span class="id" title="binder">released</span></a> <a id="ord:293" class="idref" href="#ord:293"><span class="id" title="binder">ord</span></a> <a id="lo:294" class="idref" href="#lo:294"><span class="id" title="binder">lo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="sc2:295" class="idref" href="#sc2:295"><span class="id" title="binder">sc2</span></a> <a id="lc2:296" class="idref" href="#lc2:296"><span class="id" title="binder">lc2</span></a> <a id="lc2':297" class="idref" href="#lc2':297"><span class="id" title="binder">lc2'</span></a> <a id="mem2:298" class="idref" href="#mem2:298"><span class="id" title="binder">mem2</span></a> <a id="sc2':299" class="idref" href="#sc2':299"><span class="id" title="binder">sc2'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="READ:300" class="idref" href="#READ:300"><span class="id" title="binder">READ</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.read_step"><span class="id" title="inductive">Local.read_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc1:287"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem1:288"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc:289"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to:290"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#val:291"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#released:292"><span class="id" title="variable">released</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#ord:293"><span class="id" title="variable">ord</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc2:296"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lo:294"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RSVs:301" class="idref" href="#RSVs:301"><span class="id" title="binder">RSVs</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtcn"><span class="id" title="inductive">rtcn</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.reserve_step"><span class="id" title="inductive">Thread.reserve_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lo:294"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ReorderReserve.html#n:284"><span class="id" title="variable">n</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lang:285"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#st:286"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc2:296"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#sc2:295"><span class="id" title="variable">sc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem1:288"><span class="id" title="variable">mem1</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lang:285"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#st:286"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc2':297"><span class="id" title="variable">lc2'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#sc2':299"><span class="id" title="variable">sc2'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem2:298"><span class="id" title="variable">mem2</span></a>)),<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="lc':302" class="idref" href="#lc':302"><span class="id" title="binder">lc'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.reserve_step"><span class="id" title="inductive">Thread.reserve_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lo:294"><span class="id" title="variable">lo</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lang:285"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#st:286"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc1:287"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#sc2:295"><span class="id" title="variable">sc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem1:288"><span class="id" title="variable">mem1</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lang:285"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#st:286"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc':302"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#sc2':299"><span class="id" title="variable">sc2'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem2:298"><span class="id" title="variable">mem2</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.read_step"><span class="id" title="inductive">Local.read_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc':302"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem2:298"><span class="id" title="variable">mem2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc:289"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to:290"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#val:291"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#released:292"><span class="id" title="variable">released</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#ord:293"><span class="id" title="variable">ord</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc2':297"><span class="id" title="variable">lc2'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lo:294"><span class="id" title="variable">lo</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">RSVs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">RSVs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">A12</span>. <span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reorder_read_reservation"><span class="id" title="lemma">reorder_read_reservation</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">READ</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">idtac</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">A0</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [<span class="id" title="tactic">idtac</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">A23</span>]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reorder_write_reserve" class="idref" href="#reorder_write_reserve"><span class="id" title="lemma">reorder_write_reserve</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc1:303" class="idref" href="#lc1:303"><span class="id" title="binder">lc1</span></a> <a id="sc1:304" class="idref" href="#sc1:304"><span class="id" title="binder">sc1</span></a> <a id="mem1:305" class="idref" href="#mem1:305"><span class="id" title="binder">mem1</span></a> <a id="loc1:306" class="idref" href="#loc1:306"><span class="id" title="binder">loc1</span></a> <a id="from1:307" class="idref" href="#from1:307"><span class="id" title="binder">from1</span></a> <a id="to1:308" class="idref" href="#to1:308"><span class="id" title="binder">to1</span></a> <a id="val:309" class="idref" href="#val:309"><span class="id" title="binder">val</span></a> <a id="releasedr:310" class="idref" href="#releasedr:310"><span class="id" title="binder">releasedr</span></a> <a id="releasedw:311" class="idref" href="#releasedw:311"><span class="id" title="binder">releasedw</span></a> <a id="ord:312" class="idref" href="#ord:312"><span class="id" title="binder">ord</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc2:313" class="idref" href="#lc2:313"><span class="id" title="binder">lc2</span></a> <a id="sc2:314" class="idref" href="#sc2:314"><span class="id" title="binder">sc2</span></a> <a id="mem2:315" class="idref" href="#mem2:315"><span class="id" title="binder">mem2</span></a> <a id="kind:316" class="idref" href="#kind:316"><span class="id" title="binder">kind</span></a> <a id="lo:317" class="idref" href="#lo:317"><span class="id" title="binder">lo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="loc2:318" class="idref" href="#loc2:318"><span class="id" title="binder">loc2</span></a> <a id="from2:319" class="idref" href="#from2:319"><span class="id" title="binder">from2</span></a> <a id="to2:320" class="idref" href="#to2:320"><span class="id" title="binder">to2</span></a> <a id="lc3:321" class="idref" href="#lc3:321"><span class="id" title="binder">lc3</span></a> <a id="mem3:322" class="idref" href="#mem3:322"><span class="id" title="binder">mem3</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WRITE:323" class="idref" href="#WRITE:323"><span class="id" title="binder">WRITE</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.write_step"><span class="id" title="inductive">Local.write_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc1:303"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#sc1:304"><span class="id" title="variable">sc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem1:305"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc1:306"><span class="id" title="variable">loc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from1:307"><span class="id" title="variable">from1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to1:308"><span class="id" title="variable">to1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#val:309"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#releasedr:310"><span class="id" title="variable">releasedr</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#releasedw:311"><span class="id" title="variable">releasedw</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#ord:312"><span class="id" title="variable">ord</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc2:313"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#sc2:314"><span class="id" title="variable">sc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem2:315"><span class="id" title="variable">mem2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#kind:316"><span class="id" title="variable">kind</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lo:317"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RSV:324" class="idref" href="#RSV:324"><span class="id" title="binder">RSV</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc2:313"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem2:315"><span class="id" title="variable">mem2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc2:318"><span class="id" title="variable">loc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from2:319"><span class="id" title="variable">from2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to2:320"><span class="id" title="variable">to2</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc3:321"><span class="id" title="variable">lc3</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem3:322"><span class="id" title="variable">mem3</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="lc':325" class="idref" href="#lc':325"><span class="id" title="binder">lc'</span></a> <a id="mem':326" class="idref" href="#mem':326"><span class="id" title="binder">mem'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc1:303"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem1:305"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc2:318"><span class="id" title="variable">loc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from2:319"><span class="id" title="variable">from2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to2:320"><span class="id" title="variable">to2</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc':325"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem':326"><span class="id" title="variable">mem'</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.write_step"><span class="id" title="inductive">Local.write_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc':325"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#sc1:304"><span class="id" title="variable">sc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem':326"><span class="id" title="variable">mem'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc1:306"><span class="id" title="variable">loc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from1:307"><span class="id" title="variable">from1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to1:308"><span class="id" title="variable">to1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#val:309"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#releasedr:310"><span class="id" title="variable">releasedr</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#releasedw:311"><span class="id" title="variable">releasedw</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#ord:312"><span class="id" title="variable">ord</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc3:321"><span class="id" title="variable">lc3</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#sc2:314"><span class="id" title="variable">sc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem3:322"><span class="id" title="variable">mem3</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#kind:316"><span class="id" title="variable">kind</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lo:317"><span class="id" title="variable">lo</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.ReorderReserve.html#loc1:306"><span class="id" title="variable">loc1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc2:318"><span class="id" title="variable">loc2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to1:308"><span class="id" title="variable">to1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from2:319"><span class="id" title="variable">from2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#kind:316"><span class="id" title="variable">kind</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>; <span class="id" title="var">inv</span> <span class="id" title="var">RSV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE0</span>; <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE0</span>.<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#classic"><span class="id" title="axiom">classic</span></a> (<span class="id" title="var">loc1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">loc2</span>)); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Time.html#Time.le_lt_dec"><span class="id" title="lemma">Time.le_lt_dec</span></a> <span class="id" title="var">to2</span> <span class="id" title="var">from1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.remove_add_disjts"><span class="id" title="lemma">MemoryReorder.remove_add_disjts</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">des</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">mem1'</span> <span class="id" title="var">into</span> <span class="id" title="var">promises1'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.add_add"><span class="id" title="lemma">MemoryReorder.add_add</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES0</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">x0</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">des</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">mem1'</span> <span class="id" title="var">into</span> <span class="id" title="var">promises'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.add_add"><span class="id" title="lemma">MemoryReorder.add_add</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM0</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">ADD1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">ADD0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">ADD2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">ADD3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">inv</span> <span class="id" title="var">MSG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> <span class="id" title="var">to2</span> <span class="id" title="var">to1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">l</span> <span class="id" title="var">ADD3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ADD3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ADD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DenseOrder.html#DenseOrderFacts.le_lt_lt"><span class="id" title="lemma">DenseOrderFacts.le_lt_lt</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> <span class="id" title="var">to2</span> <span class="id" title="var">to'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get_ts"><span class="id" title="lemma">Memory.get_ts</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">GET</span> <span class="id" title="var">H</span>. <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.lt_strorder_obligation_2"><span class="id" title="lemma">Time.Time.lt_strorder_obligation_2</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">ADD0</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (2 := <span class="id" title="var">loc2</span>); <span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">to'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.lt_strorder_obligation_1"><span class="id" title="lemma">Time.Time.lt_strorder_obligation_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">x2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">ATTACH0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">RELEASE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reserve_non_synch_loc"><span class="id" title="lemma">reserve_non_synch_loc</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<a class="idref" href="CompOptCert.Time.html#Time.le"><span class="id" title="definition">Time.le</span></a> <span class="id" title="var">to1</span> <span class="id" title="var">from2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Time.html#Time.le_lt_dec"><span class="id" title="lemma">Time.le_lt_dec</span></a> <span class="id" title="var">to1</span> <span class="id" title="var">from2</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">MEM0</span> <span class="id" title="var">MEM</span> <span class="id" title="var">l</span> <span class="id" title="var">l0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MEM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ADD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">dup</span> <span class="id" title="var">MEM0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get0"><span class="id" title="lemma">Memory.add_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MEM1</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Cell.html#Cell.get"><span class="id" title="definition">Cell.get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">DISJOINT</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Time.html#Interval.disjoint"><span class="id" title="definition">Interval.disjoint</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Time.html#Time.le_lt_dec"><span class="id" title="lemma">Time.le_lt_dec</span></a> <span class="id" title="var">to1</span> <span class="id" title="var">to2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">GET0</span> <span class="id" title="var">to1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">GET0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MEM0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ADD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DenseOrder.html#DenseOrder_le_PreOrder_obligation_1"><span class="id" title="lemma">DenseOrder.DenseOrder_le_PreOrder_obligation_1</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">GET0</span> <span class="id" title="var">to2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">GET0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DenseOrder.html#DenseOrder_le_PreOrder_obligation_1"><span class="id" title="lemma">DenseOrder.DenseOrder_le_PreOrder_obligation_1</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#classic"><span class="id" title="axiom">classic</span></a> (<span class="id" title="var">to1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">from2</span>)); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get0"><span class="id" title="lemma">Memory.add_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MEM0</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.remove_add_disjts"><span class="id" title="lemma">MemoryReorder.remove_add_disjts</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">des</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">mem1'</span> <span class="id" title="var">into</span> <span class="id" title="var">promises1'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.add_add"><span class="id" title="lemma">MemoryReorder.add_add</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES0</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">x0</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">des</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">mem1'</span> <span class="id" title="var">into</span> <span class="id" title="var">promises'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.add_add"><span class="id" title="lemma">MemoryReorder.add_add</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM0</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">ADD1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">ADD0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">ADD2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">ADD3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MSG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">to'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <span class="id" title="var">to2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get0"><span class="id" title="lemma">Memory.add_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">ADD0</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="var">inv</span> <span class="id" title="var">GET</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">ADD0</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span>(2 := <span class="id" title="var">loc2</span>); <span class="id" title="tactic">instantiate</span>(1 := <span class="id" title="var">to'</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">x2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>; <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">RELEASE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reserve_non_synch_loc"><span class="id" title="lemma">reserve_non_synch_loc</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.remove_add_disjloc"><span class="id" title="lemma">MemoryReorder.remove_add_disjloc</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">mem1'</span> <span class="id" title="var">into</span> <span class="id" title="var">promises1'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.add_add"><span class="id" title="lemma">MemoryReorder.add_add</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES0</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">x0</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.add_add"><span class="id" title="lemma">MemoryReorder.add_add</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM0</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">ADD1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">ADD0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">ADD2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">ADD3</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MSG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_o"><span class="id" title="lemma">Memory.add_o</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">ADD0</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (2 := <span class="id" title="var">loc1</span>); <span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">to'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">x2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">i</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">RELEASE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reserve_non_synch_loc"><span class="id" title="lemma">reserve_non_synch_loc</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">RESERVE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#classic"><span class="id" title="axiom">classic</span></a> (<span class="id" title="var">loc1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">loc2</span>)); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Time.html#Time.le_lt_dec"><span class="id" title="lemma">Time.le_lt_dec</span></a> <span class="id" title="var">to2</span> <span class="id" title="var">from1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.remove_add_disjts"><span class="id" title="lemma">MemoryReorder.remove_add_disjts</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">des</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">mem1'</span> <span class="id" title="var">into</span> <span class="id" title="var">promises1'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.split_add"><span class="id" title="lemma">MemoryReorder.split_add</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES0</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">x0</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">des</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">mem1'</span> <span class="id" title="var">into</span> <span class="id" title="var">promises'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.split_add"><span class="id" title="lemma">MemoryReorder.split_add</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM0</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">ADD1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">ADD0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">SPLIT2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">SPLIT0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">x1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">RELEASE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reserve_non_synch_loc"><span class="id" title="lemma">reserve_non_synch_loc</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> <span class="id" title="var">to1</span> <span class="id" title="var">from2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> <span class="id" title="var">to1</span> <span class="id" title="var">ts3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MEM0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">SPLIT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Time.html#Time.le_lt_dec"><span class="id" title="lemma">Time.le_lt_dec</span></a> <span class="id" title="var">ts3</span> <span class="id" title="var">from2</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DenseOrder.html#DenseOrderFacts.lt_le_lt"><span class="id" title="lemma">DenseOrderFacts.lt_le_lt</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MEM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ADD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_get0"><span class="id" title="lemma">Memory.split_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MEM0</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Time.html#Time.le_lt_dec"><span class="id" title="lemma">Time.le_lt_dec</span></a> <span class="id" title="var">ts3</span> <span class="id" title="var">to2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Cell.html#Cell.get"><span class="id" title="definition">Cell.get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">DISJOINT</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Time.html#Interval.disjoint"><span class="id" title="definition">Interval.disjoint</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">GET2</span> <span class="id" title="var">ts3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">GET2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DenseOrder.html#DenseOrder_le_PreOrder_obligation_1"><span class="id" title="lemma">DenseOrder.DenseOrder_le_PreOrder_obligation_1</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Time.html#Time.le_lt_dec"><span class="id" title="lemma">Time.le_lt_dec</span></a> <span class="id" title="var">to2</span> <span class="id" title="var">to1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Cell.html#Cell.get"><span class="id" title="definition">Cell.get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">DISJOINT</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Time.html#Interval.disjoint"><span class="id" title="definition">Interval.disjoint</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">GET1</span> <span class="id" title="var">to2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">GET1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DenseOrder.html#DenseOrder_le_PreOrder_obligation_1"><span class="id" title="lemma">DenseOrder.DenseOrder_le_PreOrder_obligation_1</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Cell.html#Cell.get"><span class="id" title="definition">Cell.get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">DISJOINT</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Time.html#Interval.disjoint"><span class="id" title="definition">Interval.disjoint</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">GET2</span> <span class="id" title="var">to2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">GET2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DenseOrder.html#DenseOrder_le_PreOrder_obligation_1"><span class="id" title="lemma">DenseOrder.DenseOrder_le_PreOrder_obligation_1</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.remove_add_disjts"><span class="id" title="lemma">MemoryReorder.remove_add_disjts</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.split_add"><span class="id" title="lemma">MemoryReorder.split_add</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES0</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">x0</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.split_add"><span class="id" title="lemma">MemoryReorder.split_add</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM0</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">ADD1</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">ADD0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">SPLIT2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">SPLIT0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">i</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">RELEASE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reserve_non_synch_loc"><span class="id" title="lemma">reserve_non_synch_loc</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.remove_add_disjloc"><span class="id" title="lemma">MemoryReorder.remove_add_disjloc</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">mem1'</span> <span class="id" title="var">into</span> <span class="id" title="var">promises1'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.split_add"><span class="id" title="lemma">MemoryReorder.split_add</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES0</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">x0</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.split_add"><span class="id" title="lemma">MemoryReorder.split_add</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM0</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">ADD1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">ADD0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">SPLIT2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">SPLIT0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">RELEASE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reserve_non_synch_loc"><span class="id" title="lemma">reserve_non_synch_loc</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#classic"><span class="id" title="axiom">classic</span></a> (<span class="id" title="var">loc1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">loc2</span>)); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Time.html#Time.le_lt_dec"><span class="id" title="lemma">Time.le_lt_dec</span></a> <span class="id" title="var">to2</span> <span class="id" title="var">from1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.remove_add_disjts"><span class="id" title="lemma">MemoryReorder.remove_add_disjts</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">des</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">mem1'</span> <span class="id" title="var">into</span> <span class="id" title="var">promises1'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.lower_add"><span class="id" title="lemma">MemoryReorder.lower_add</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES0</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">x0</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">des</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">mem1'</span> <span class="id" title="var">into</span> <span class="id" title="var">promises'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.lower_add"><span class="id" title="lemma">MemoryReorder.lower_add</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM0</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">ADD1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">ADD0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">i</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">RELEASE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reserve_non_synch_loc"><span class="id" title="lemma">reserve_non_synch_loc</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<a class="idref" href="CompOptCert.Time.html#Time.le"><span class="id" title="definition">Time.le</span></a> <span class="id" title="var">to1</span> <span class="id" title="var">from2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Time.html#Time.le_lt_dec"><span class="id" title="lemma">Time.le_lt_dec</span></a> <span class="id" title="var">to1</span> <span class="id" title="var">from2</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">MEM0</span> <span class="id" title="var">MEM</span> <span class="id" title="var">l</span> <span class="id" title="var">l0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MEM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ADD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">dup</span> <span class="id" title="var">MEM0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_get0"><span class="id" title="lemma">Memory.lower_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MEM1</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Cell.html#Cell.get"><span class="id" title="definition">Cell.get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">DISJOINT</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Time.html#Interval.disjoint"><span class="id" title="definition">Interval.disjoint</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Time.html#Time.le_lt_dec"><span class="id" title="lemma">Time.le_lt_dec</span></a> <span class="id" title="var">to2</span> <span class="id" title="var">to1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">GET0</span> <span class="id" title="var">to2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">GET0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.get_ts"><span class="id" title="lemma">Memory.get_ts</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">GET0</span> <span class="id" title="var">to1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">GET0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span>(<a class="idref" href="CompOptCert.Time.html#Time.le"><span class="id" title="definition">Time.le</span></a> <a class="idref" href="CompOptCert.Time.html#Time.bot"><span class="id" title="definition">Time.bot</span></a> <span class="id" title="var">from2</span>); <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#TimeFacts.lt_le_lt"><span class="id" title="lemma">TimeFacts.lt_le_lt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">l0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DenseOrder.html#DenseOrder.lt_strorder_obligation_1"><span class="id" title="lemma">DenseOrder.DenseOrder.lt_strorder_obligation_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">l0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.bot_spec"><span class="id" title="lemma">Time.bot_spec</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DenseOrder.html#DenseOrder_le_PreOrder_obligation_1"><span class="id" title="lemma">DenseOrder.DenseOrder_le_PreOrder_obligation_1</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.remove_add_disjts"><span class="id" title="lemma">MemoryReorder.remove_add_disjts</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">des</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">mem1'</span> <span class="id" title="var">into</span> <span class="id" title="var">promises1'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.lower_add"><span class="id" title="lemma">MemoryReorder.lower_add</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES0</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">x0</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">des</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">mem1'</span> <span class="id" title="var">into</span> <span class="id" title="var">promises'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.lower_add"><span class="id" title="lemma">MemoryReorder.lower_add</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM0</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">ADD1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">ADD0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>; <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">RELEASE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reserve_non_synch_loc"><span class="id" title="lemma">reserve_non_synch_loc</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.remove_add_disjloc"><span class="id" title="lemma">MemoryReorder.remove_add_disjloc</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>. <span class="id" title="tactic">rename</span> <span class="id" title="var">mem1'</span> <span class="id" title="var">into</span> <span class="id" title="var">promises1'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.lower_add"><span class="id" title="lemma">MemoryReorder.lower_add</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES0</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">x0</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryReorder.html#MemoryReorder.lower_add"><span class="id" title="lemma">MemoryReorder.lower_add</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM0</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">ADD1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">ADD0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">i</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">RELEASE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reserve_non_synch_loc"><span class="id" title="lemma">reserve_non_synch_loc</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;- <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reorder_write_reserve_steps_attached" class="idref" href="#reorder_write_reserve_steps_attached"><span class="id" title="lemma">reorder_write_reserve_steps_attached</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:327" class="idref" href="#n:327"><span class="id" title="binder">n</span></a> <a id="lo:328" class="idref" href="#lo:328"><span class="id" title="binder">lo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc1:329" class="idref" href="#lc1:329"><span class="id" title="binder">lc1</span></a> <a id="sc1:330" class="idref" href="#sc1:330"><span class="id" title="binder">sc1</span></a> <a id="mem1:331" class="idref" href="#mem1:331"><span class="id" title="binder">mem1</span></a> <a id="loc:332" class="idref" href="#loc:332"><span class="id" title="binder">loc</span></a> <a id="from:333" class="idref" href="#from:333"><span class="id" title="binder">from</span></a> <a id="ts:334" class="idref" href="#ts:334"><span class="id" title="binder">ts</span></a> <a id="val:335" class="idref" href="#val:335"><span class="id" title="binder">val</span></a> <a id="releasedr:336" class="idref" href="#releasedr:336"><span class="id" title="binder">releasedr</span></a> <a id="releasedw:337" class="idref" href="#releasedw:337"><span class="id" title="binder">releasedw</span></a> <a id="ord:338" class="idref" href="#ord:338"><span class="id" title="binder">ord</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc2:339" class="idref" href="#lc2:339"><span class="id" title="binder">lc2</span></a> <a id="sc2:340" class="idref" href="#sc2:340"><span class="id" title="binder">sc2</span></a> <a id="to:341" class="idref" href="#to:341"><span class="id" title="binder">to</span></a> <a id="mem2:342" class="idref" href="#mem2:342"><span class="id" title="binder">mem2</span></a> <a id="lc3:343" class="idref" href="#lc3:343"><span class="id" title="binder">lc3</span></a> <a id="mem3:344" class="idref" href="#mem3:344"><span class="id" title="binder">mem3</span></a> <a id="lang:345" class="idref" href="#lang:345"><span class="id" title="binder">lang</span></a> <a id="st:346" class="idref" href="#st:346"><span class="id" title="binder">st</span></a> <a id="st':347" class="idref" href="#st':347"><span class="id" title="binder">st'</span></a> <a id="e'':348" class="idref" href="#e'':348"><span class="id" title="binder">e''</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WRITE:349" class="idref" href="#WRITE:349"><span class="id" title="binder">WRITE</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.write_step"><span class="id" title="inductive">Local.write_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc1:329"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#sc1:330"><span class="id" title="variable">sc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem1:331"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc:332"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from:333"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#ts:334"><span class="id" title="variable">ts</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#val:335"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#releasedr:336"><span class="id" title="variable">releasedr</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#releasedw:337"><span class="id" title="variable">releasedw</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#ord:338"><span class="id" title="variable">ord</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc2:339"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#sc2:340"><span class="id" title="variable">sc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem2:342"><span class="id" title="variable">mem2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lo:328"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RSV:350" class="idref" href="#RSV:350"><span class="id" title="binder">RSV</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc2:339"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem2:342"><span class="id" title="variable">mem2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc:332"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#ts:334"><span class="id" title="variable">ts</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to:341"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc3:343"><span class="id" title="variable">lc3</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem3:344"><span class="id" title="variable">mem3</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RSVs:351" class="idref" href="#RSVs:351"><span class="id" title="binder">RSVs</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtcn"><span class="id" title="inductive">rtcn</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.reserve_step"><span class="id" title="inductive">Thread.reserve_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lo:328"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ReorderReserve.html#n:327"><span class="id" title="variable">n</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lang:345"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#st:346"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc3:343"><span class="id" title="variable">lc3</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#sc2:340"><span class="id" title="variable">sc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem3:344"><span class="id" title="variable">mem3</span></a>) <a class="idref" href="CompOptCert.ReorderReserve.html#e'':348"><span class="id" title="variable">e''</span></a>),    <br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="lc':352" class="idref" href="#lc':352"><span class="id" title="binder">lc'</span></a> <a id="sc':353" class="idref" href="#sc':353"><span class="id" title="binder">sc'</span></a> <a id="mem':354" class="idref" href="#mem':354"><span class="id" title="binder">mem'</span></a> <a id="lc'':355" class="idref" href="#lc'':355"><span class="id" title="binder">lc''</span></a> <a id="sc'':356" class="idref" href="#sc'':356"><span class="id" title="binder">sc''</span></a> <a id="mem'':357" class="idref" href="#mem'':357"><span class="id" title="binder">mem''</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.reserve_step"><span class="id" title="inductive">Thread.reserve_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lo:328"><span class="id" title="variable">lo</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lang:345"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#st':347"><span class="id" title="variable">st'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc1:329"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#sc1:330"><span class="id" title="variable">sc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem1:331"><span class="id" title="variable">mem1</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lang:345"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#st':347"><span class="id" title="variable">st'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc':352"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#sc':353"><span class="id" title="variable">sc'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem':354"><span class="id" title="variable">mem'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.write_step"><span class="id" title="inductive">Local.write_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc':352"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#sc':353"><span class="id" title="variable">sc'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem':354"><span class="id" title="variable">mem'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc:332"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from:333"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#ts:334"><span class="id" title="variable">ts</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#val:335"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#releasedr:336"><span class="id" title="variable">releasedr</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#releasedw:337"><span class="id" title="variable">releasedw</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#ord:338"><span class="id" title="variable">ord</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc'':355"><span class="id" title="variable">lc''</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#sc'':356"><span class="id" title="variable">sc''</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem'':357"><span class="id" title="variable">mem''</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lo:328"><span class="id" title="variable">lo</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc'':355"><span class="id" title="variable">lc''</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem'':357"><span class="id" title="variable">mem''</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc:332"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#ts:334"><span class="id" title="variable">ts</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to:341"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#e'':348"><span class="id" title="variable">e''</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.memory"><span class="id" title="projection">Thread.memory</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#e'':348"><span class="id" title="variable">e''</span></a>) <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.Thread.html#Thread.sc"><span class="id" title="projection">Thread.sc</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#e'':348"><span class="id" title="variable">e''</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#sc1:330"><span class="id" title="variable">sc1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">RSVs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">SC</span>: <span class="id" title="var">sc1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">sc2</span>). { <span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>; <span class="id" title="var">ss</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 6 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">RSVs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">SC</span>: <span class="id" title="var">sc1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">sc2</span>). { <span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>; <span class="id" title="var">ss</span>. }<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">A12</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#classic"><span class="id" title="axiom">classic</span></a> (<span class="id" title="var">loc</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">loc0</span>)); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<a class="idref" href="CompOptCert.Time.html#Time.le"><span class="id" title="definition">Time.le</span></a> <span class="id" title="var">to0</span> <span class="id" title="var">from</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="CompOptCert.Time.html#Time.le"><span class="id" title="definition">Time.le</span></a> <span class="id" title="var">to</span> <span class="id" title="var">from0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">RSV</span> <span class="id" title="var">WRITE</span> <span class="id" title="var">LOCAL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">RSV</span>; <span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>; <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">inv</span> <span class="id" title="var">WRITE0</span>; <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> <span class="id" title="var">ts</span> <span class="id" title="var">to</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MEM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ADD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryProps.html#add_succeed_wf"><span class="id" title="lemma">add_succeed_wf</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">MEM0</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get0"><span class="id" title="lemma">Memory.add_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MEM1</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get1"><span class="id" title="lemma">Memory.add_get1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.add_get0"><span class="id" title="lemma">Memory.add_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">MEM</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">DISJOINT</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">DISJOINT</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">GET2</span> <span class="id" title="var">GET0</span> <span class="id" title="var">TO1</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span>(<a class="idref" href="CompOptCert.Time.html#Time.le_lt_dec"><span class="id" title="lemma">Time.le_lt_dec</span></a> <span class="id" title="var">to0</span> <span class="id" title="var">from</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span>(<a class="idref" href="CompOptCert.Time.html#Time.le_lt_dec"><span class="id" title="lemma">Time.le_lt_dec</span></a> <span class="id" title="var">to</span> <span class="id" title="var">from0</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span>(<a class="idref" href="CompOptCert.Time.html#Time.le_lt_dec"><span class="id" title="lemma">Time.le_lt_dec</span></a> <span class="id" title="var">to0</span> <span class="id" title="var">ts</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Time.html#Interval.disjoint"><span class="id" title="definition">Interval.disjoint</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">GET0</span> <span class="id" title="var">to0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">GET0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DenseOrder.html#DenseOrder_le_PreOrder_obligation_1"><span class="id" title="lemma">DenseOrder.DenseOrder_le_PreOrder_obligation_1</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span>(<a class="idref" href="CompOptCert.Time.html#Time.le_lt_dec"><span class="id" title="lemma">Time.le_lt_dec</span></a> <span class="id" title="var">to0</span> <span class="id" title="var">to</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Time.html#Interval.disjoint"><span class="id" title="definition">Interval.disjoint</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">GET2</span> <span class="id" title="var">to0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">GET2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DenseOrder.html#DenseOrder_le_PreOrder_obligation_1"><span class="id" title="lemma">DenseOrder.DenseOrder_le_PreOrder_obligation_1</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Time.html#Interval.disjoint"><span class="id" title="definition">Interval.disjoint</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">GET2</span> <span class="id" title="var">to</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">GET2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Time.html#Time.le_lteq"><span class="id" title="lemma">Time.le_lteq</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DenseOrder.html#DenseOrder_le_PreOrder_obligation_1"><span class="id" title="lemma">DenseOrder.DenseOrder_le_PreOrder_obligation_1</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reorder_promise_reserve_promise"><span class="id" title="lemma">reorder_promise_reserve_promise</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">RSV</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reorder_write_reserve"><span class="id" title="lemma">reorder_write_reserve</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">WRITE</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">STEP1</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">eapply</span> <span class="id" title="var">x1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">eapply</span> <span class="id" title="var">STEP2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 6 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [<span class="id" title="tactic">idtac</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">A23</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> <span class="id" title="var">from0</span> <span class="id" title="var">to0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">LOCAL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MEM</span>. <span class="id" title="var">inv</span> <span class="id" title="var">ADD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> <span class="id" title="var">from</span> <span class="id" title="var">ts</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">WRITE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITE0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MEM</span>. <span class="id" title="var">inv</span> <span class="id" title="var">ADD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="tactic">clear</span> - <span class="id" title="var">H</span> <span class="id" title="var">H1</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DenseOrder.html#DenseOrderFacts.le_lt_lt"><span class="id" title="lemma">DenseOrderFacts.le_lt_lt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DenseOrder.html#DenseOrder.lt_strorder_obligation_2"><span class="id" title="lemma">DenseOrder.DenseOrder.lt_strorder_obligation_2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DenseOrder.html#DenseOrder.lt_strorder_obligation_1"><span class="id" title="lemma">DenseOrder.DenseOrder.lt_strorder_obligation_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reorder_write_reserve"><span class="id" title="lemma">reorder_write_reserve</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">WRITE</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">STEP1</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">eapply</span> <span class="id" title="var">x1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">eapply</span> <span class="id" title="var">STEP2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 6 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [<span class="id" title="tactic">idtac</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">A23</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> <span class="id" title="var">ts</span> <span class="id" title="var">to</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">STEP2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP2</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>. <span class="id" title="var">inv</span> <span class="id" title="var">MEM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ADD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> <span class="id" title="var">ts</span> <span class="id" title="var">from0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DenseOrder.html#DenseOrderFacts.lt_le_lt"><span class="id" title="lemma">DenseOrderFacts.lt_le_lt</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DenseOrder.html#DenseOrder.lt_strorder_obligation_1"><span class="id" title="lemma">DenseOrder.DenseOrder.lt_strorder_obligation_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reorder_promise_reserve_promise"><span class="id" title="lemma">reorder_promise_reserve_promise</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">RSV</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reorder_write_reserve"><span class="id" title="lemma">reorder_write_reserve</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">WRITE</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">STEP1</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">eapply</span> <span class="id" title="var">x1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">eapply</span> <span class="id" title="var">STEP2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 6 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [<span class="id" title="tactic">idtac</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">A23</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reorder_fence_reserve" class="idref" href="#reorder_fence_reserve"><span class="id" title="lemma">reorder_fence_reserve</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc1:358" class="idref" href="#lc1:358"><span class="id" title="binder">lc1</span></a> <a id="sc1:359" class="idref" href="#sc1:359"><span class="id" title="binder">sc1</span></a> <a id="mem1:360" class="idref" href="#mem1:360"><span class="id" title="binder">mem1</span></a> <a id="ordr:361" class="idref" href="#ordr:361"><span class="id" title="binder">ordr</span></a> <a id="ordw:362" class="idref" href="#ordw:362"><span class="id" title="binder">ordw</span></a> <a id="lc2:363" class="idref" href="#lc2:363"><span class="id" title="binder">lc2</span></a> <a id="sc2:364" class="idref" href="#sc2:364"><span class="id" title="binder">sc2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="loc2:365" class="idref" href="#loc2:365"><span class="id" title="binder">loc2</span></a> <a id="from2:366" class="idref" href="#from2:366"><span class="id" title="binder">from2</span></a> <a id="to2:367" class="idref" href="#to2:367"><span class="id" title="binder">to2</span></a> <a id="lc3:368" class="idref" href="#lc3:368"><span class="id" title="binder">lc3</span></a> <a id="mem3:369" class="idref" href="#mem3:369"><span class="id" title="binder">mem3</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="FENCE:370" class="idref" href="#FENCE:370"><span class="id" title="binder">FENCE</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.fence_step"><span class="id" title="inductive">Local.fence_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc1:358"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#sc1:359"><span class="id" title="variable">sc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#ordr:361"><span class="id" title="variable">ordr</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#ordw:362"><span class="id" title="variable">ordw</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc2:363"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#sc2:364"><span class="id" title="variable">sc2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NOSC:371" class="idref" href="#NOSC:371"><span class="id" title="binder">NOSC</span></a>: <a class="idref" href="CompOptCert.ReorderReserve.html#ordw:362"><span class="id" title="variable">ordw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.seqcst"><span class="id" title="constructor">Ordering.seqcst</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PROMISE:372" class="idref" href="#PROMISE:372"><span class="id" title="binder">PROMISE</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc2:363"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem1:360"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc2:365"><span class="id" title="variable">loc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from2:366"><span class="id" title="variable">from2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to2:367"><span class="id" title="variable">to2</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc3:368"><span class="id" title="variable">lc3</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem3:369"><span class="id" title="variable">mem3</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="lc':373" class="idref" href="#lc':373"><span class="id" title="binder">lc'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc1:358"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem1:360"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc2:365"><span class="id" title="variable">loc2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from2:366"><span class="id" title="variable">from2</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to2:367"><span class="id" title="variable">to2</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc':373"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#mem3:369"><span class="id" title="variable">mem3</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.fence_step"><span class="id" title="inductive">Local.fence_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc':373"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#sc1:359"><span class="id" title="variable">sc1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#ordr:361"><span class="id" title="variable">ordr</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#ordw:362"><span class="id" title="variable">ordw</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lc3:368"><span class="id" title="variable">lc3</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#sc2:364"><span class="id" title="variable">sc2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">FENCE</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">RELEASE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reserve_non_synch"><span class="id" title="lemma">reserve_non_synch</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reorder_program_step_reserve_steps" class="idref" href="#reorder_program_step_reserve_steps"><span class="id" title="lemma">reorder_program_step_reserve_steps</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:374" class="idref" href="#n:374"><span class="id" title="binder">n</span></a> <a id="lang:375" class="idref" href="#lang:375"><span class="id" title="binder">lang</span></a> (<a id="e:376" class="idref" href="#e:376"><span class="id" title="binder">e</span></a> <a id="e':377" class="idref" href="#e':377"><span class="id" title="binder">e'</span></a> <a id="e'':378" class="idref" href="#e'':378"><span class="id" title="binder">e''</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.t"><span class="id" title="record">Thread.t</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lang:375"><span class="id" title="variable">lang</span></a>) <a id="te:379" class="idref" href="#te:379"><span class="id" title="binder">te</span></a> <a id="lo:380" class="idref" href="#lo:380"><span class="id" title="binder">lo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PROG:381" class="idref" href="#PROG:381"><span class="id" title="binder">PROG</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.program_step"><span class="id" title="inductive">Thread.program_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#te:379"><span class="id" title="variable">te</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lo:380"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#e:376"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#e':377"><span class="id" title="variable">e'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RSVs:382" class="idref" href="#RSVs:382"><span class="id" title="binder">RSVs</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtcn"><span class="id" title="inductive">rtcn</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.reserve_step"><span class="id" title="inductive">Thread.reserve_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lo:380"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ReorderReserve.html#n:374"><span class="id" title="variable">n</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#e':377"><span class="id" title="variable">e'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#e'':378"><span class="id" title="variable">e''</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NOSC:384" class="idref" href="#NOSC:384"><span class="id" title="binder">NOSC</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="ordr:383" class="idref" href="#ordr:383"><span class="id" title="binder">ordr</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#te:379"><span class="id" title="variable">te</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Local.html#ThreadEvent.fence"><span class="id" title="constructor">ThreadEvent.fence</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#ordr:383"><span class="id" title="variable">ordr</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.seqcst"><span class="id" title="constructor">Ordering.seqcst</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NO_OUT:385" class="idref" href="#NO_OUT:385"><span class="id" title="binder">NO_OUT</span></a>: <a class="idref" href="CompOptCert.Local.html#ThreadEvent.get_machine_event"><span class="id" title="definition">ThreadEvent.get_machine_event</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#te:379"><span class="id" title="variable">te</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Event.html#MachineEvent.silent"><span class="id" title="constructor">MachineEvent.silent</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="e0:386" class="idref" href="#e0:386"><span class="id" title="binder">e0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.reserve_step"><span class="id" title="inductive">Thread.reserve_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lo:380"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ReorderReserve.html#e:376"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#e0:386"><span class="id" title="variable">e0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.Thread.html#Thread.program_step"><span class="id" title="inductive">Thread.program_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#te:379"><span class="id" title="variable">te</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lo:380"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#e0:386"><span class="id" title="variable">e0</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#e'':378"><span class="id" title="variable">e''</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="e0:387" class="idref" href="#e0:387"><span class="id" title="binder">e0</span></a> <a id="e1:388" class="idref" href="#e1:388"><span class="id" title="binder">e1</span></a> <a id="loc:389" class="idref" href="#loc:389"><span class="id" title="binder">loc</span></a> <a id="to:390" class="idref" href="#to:390"><span class="id" title="binder">to</span></a> <a id="ts:391" class="idref" href="#ts:391"><span class="id" title="binder">ts</span></a> <a id="from:392" class="idref" href="#from:392"><span class="id" title="binder">from</span></a> <a id="val:393" class="idref" href="#val:393"><span class="id" title="binder">val</span></a> <a id="released:394" class="idref" href="#released:394"><span class="id" title="binder">released</span></a> <a id="ordw:395" class="idref" href="#ordw:395"><span class="id" title="binder">ordw</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.reserve_step"><span class="id" title="inductive">Thread.reserve_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lo:380"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ReorderReserve.html#e:376"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#e0:387"><span class="id" title="variable">e0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Thread.html#Thread.program_step"><span class="id" title="inductive">Thread.program_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#te:379"><span class="id" title="variable">te</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lo:380"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#e0:387"><span class="id" title="variable">e0</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#e1:388"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#te:379"><span class="id" title="variable">te</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Local.html#ThreadEvent.write"><span class="id" title="constructor">ThreadEvent.write</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc:389"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from:392"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#ts:391"><span class="id" title="variable">ts</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#val:393"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#released:394"><span class="id" title="variable">released</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#ordw:395"><span class="id" title="variable">ordw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Thread.html#Thread.promise_step"><span class="id" title="inductive">Thread.promise_step</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="CompOptCert.Local.html#ThreadEvent.promise"><span class="id" title="constructor">ThreadEvent.promise</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc:389"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#ts:391"><span class="id" title="variable">ts</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to:390"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a>) <a class="idref" href="CompOptCert.ReorderReserve.html#e1:388"><span class="id" title="variable">e1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#e'':378"><span class="id" title="variable">e''</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="e0:396" class="idref" href="#e0:396"><span class="id" title="binder">e0</span></a> <a id="e1:397" class="idref" href="#e1:397"><span class="id" title="binder">e1</span></a> <a id="loc:398" class="idref" href="#loc:398"><span class="id" title="binder">loc</span></a> <a id="to:399" class="idref" href="#to:399"><span class="id" title="binder">to</span></a> <a id="ts:400" class="idref" href="#ts:400"><span class="id" title="binder">ts</span></a> <a id="from:401" class="idref" href="#from:401"><span class="id" title="binder">from</span></a> <a id="valr:402" class="idref" href="#valr:402"><span class="id" title="binder">valr</span></a> <a id="valw:403" class="idref" href="#valw:403"><span class="id" title="binder">valw</span></a> <a id="releasedr:404" class="idref" href="#releasedr:404"><span class="id" title="binder">releasedr</span></a> <a id="releasedw:405" class="idref" href="#releasedw:405"><span class="id" title="binder">releasedw</span></a> <a id="ordr:406" class="idref" href="#ordr:406"><span class="id" title="binder">ordr</span></a> <a id="ordw:407" class="idref" href="#ordw:407"><span class="id" title="binder">ordw</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.reserve_step"><span class="id" title="inductive">Thread.reserve_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lo:380"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ReorderReserve.html#e:376"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#e0:396"><span class="id" title="variable">e0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Thread.html#Thread.program_step"><span class="id" title="inductive">Thread.program_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#te:379"><span class="id" title="variable">te</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lo:380"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#e0:396"><span class="id" title="variable">e0</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#e1:397"><span class="id" title="variable">e1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.ReorderReserve.html#te:379"><span class="id" title="variable">te</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Local.html#ThreadEvent.update"><span class="id" title="constructor">ThreadEvent.update</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc:398"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#from:401"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#ts:400"><span class="id" title="variable">ts</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#valr:402"><span class="id" title="variable">valr</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#valw:403"><span class="id" title="variable">valw</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#releasedr:404"><span class="id" title="variable">releasedr</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#releasedw:405"><span class="id" title="variable">releasedw</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#ordr:406"><span class="id" title="variable">ordr</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#ordw:407"><span class="id" title="variable">ordw</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Thread.html#Thread.promise_step"><span class="id" title="inductive">Thread.promise_step</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> (<a class="idref" href="CompOptCert.Local.html#ThreadEvent.promise"><span class="id" title="constructor">ThreadEvent.promise</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#loc:398"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#ts:400"><span class="id" title="variable">ts</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#to:399"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_add"><span class="id" title="constructor">Memory.op_kind_add</span></a>) <a class="idref" href="CompOptCert.ReorderReserve.html#e1:397"><span class="id" title="variable">e1</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#e'':378"><span class="id" title="variable">e''</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">RSVs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">RSVs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROG</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">A12</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">e</span> := <a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">st1</span> <span class="id" title="var">lc0</span> <span class="id" title="var">sc2</span> <span class="id" title="var">mem0</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">te</span> := <a class="idref" href="CompOptCert.Local.html#ThreadEvent.silent"><span class="id" title="constructor">ThreadEvent.silent</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [<span class="id" title="tactic">idtac</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">A23</span>]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">A12</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reorder_read_reservation"><span class="id" title="lemma">reorder_read_reservation</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL0</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">e</span> := <a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">st1</span> <span class="id" title="var">lc'</span> <span class="id" title="var">sc2</span> <span class="id" title="var">mem0</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">te</span> := <a class="idref" href="CompOptCert.Local.html#ThreadEvent.read"><span class="id" title="constructor">ThreadEvent.read</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">ts</span> <span class="id" title="var">val</span> <span class="id" title="var">released</span> <span class="id" title="var">ord</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [<span class="id" title="tactic">idtac</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">A23</span>]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">A12</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reorder_write_reserve"><span class="id" title="lemma">reorder_write_reserve</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL0</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">e</span> := <a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">st1</span> <span class="id" title="var">lc'</span> <span class="id" title="var">sc1</span> <span class="id" title="var">mem'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">te</span> := <a class="idref" href="CompOptCert.Local.html#ThreadEvent.write"><span class="id" title="constructor">ThreadEvent.write</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">from</span> <span class="id" title="var">to</span> <span class="id" title="var">val</span> <span class="id" title="var">released</span> <span class="id" title="var">ord</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [<span class="id" title="tactic">idtac</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">A23</span>]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 9 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [<span class="id" title="tactic">idtac</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">A23</span>]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">dup</span> <span class="id" title="var">A23</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reserve_sc_nochange"><span class="id" title="lemma">reserve_sc_nochange</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A0</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reorder_write_reserve_steps_attached"><span class="id" title="lemma">reorder_write_reserve_steps_attached</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">st'</span> := <span class="id" title="var">st1</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 9 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">to0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">sc'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">sc''</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">A0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">A0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reserve_sc_nochange"><span class="id" title="lemma">reserve_sc_nochange</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>. <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">A12</span>. <span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reorder_write_reserve"><span class="id" title="lemma">reorder_write_reserve</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL2</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reorder_read_reservation"><span class="id" title="lemma">reorder_read_reservation</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL1</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">x0</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">e</span> := <a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">st1</span> <span class="id" title="var">lc'0</span> <span class="id" title="var">sc1</span> <span class="id" title="var">mem'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [<span class="id" title="tactic">idtac</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">A23</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">A1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 12 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [<span class="id" title="tactic">idtac</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">A23</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reorder_write_reserve_steps_attached"><span class="id" title="lemma">reorder_write_reserve_steps_attached</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL2</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">st1</span>). <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">x0</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reorder_read_reserve_steps"><span class="id" title="lemma">reorder_read_reserve_steps</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL1</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e''</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reserve_sc_nochange"><span class="id" title="lemma">reserve_sc_nochange</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 12 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">x4</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">to</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reserve_sc_nochange"><span class="id" title="lemma">reserve_sc_nochange</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">x4</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">x1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">A12</span>. <span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reorder_fence_reserve"><span class="id" title="lemma">reorder_fence_reserve</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL0</span> | <span class="id" title="tactic">idtac</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">LOCAL</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">NOSC</span>; <span class="id" title="tactic">intro</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">NOSC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">e</span> := <a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">st1</span> <span class="id" title="var">lc'</span> <span class="id" title="var">sc1</span> <span class="id" title="var">mem0</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [<span class="id" title="tactic">idtac</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">A23</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reorder_lower_step_reserve_steps" class="idref" href="#reorder_lower_step_reserve_steps"><span class="id" title="lemma">reorder_lower_step_reserve_steps</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:408" class="idref" href="#n:408"><span class="id" title="binder">n</span></a> <a id="lang:409" class="idref" href="#lang:409"><span class="id" title="binder">lang</span></a> (<a id="e:410" class="idref" href="#e:410"><span class="id" title="binder">e</span></a> <a id="e':411" class="idref" href="#e':411"><span class="id" title="binder">e'</span></a> <a id="e'':412" class="idref" href="#e'':412"><span class="id" title="binder">e''</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.t"><span class="id" title="record">Thread.t</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lang:409"><span class="id" title="variable">lang</span></a>) <a id="te:413" class="idref" href="#te:413"><span class="id" title="binder">te</span></a> <a id="lo:414" class="idref" href="#lo:414"><span class="id" title="binder">lo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PROG:415" class="idref" href="#PROG:415"><span class="id" title="binder">PROG</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.promise_step"><span class="id" title="inductive">Thread.promise_step</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#te:413"><span class="id" title="variable">te</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#e:410"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#e':411"><span class="id" title="variable">e'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RSVs:416" class="idref" href="#RSVs:416"><span class="id" title="binder">RSVs</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtcn"><span class="id" title="inductive">rtcn</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.reserve_step"><span class="id" title="inductive">Thread.reserve_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lo:414"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ReorderReserve.html#n:408"><span class="id" title="variable">n</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#e':411"><span class="id" title="variable">e'</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#e'':412"><span class="id" title="variable">e''</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NOCCL:417" class="idref" href="#NOCCL:417"><span class="id" title="binder">NOCCL</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a><a class="idref" href="CompOptCert.Local.html#ThreadEvent.is_cancel"><span class="id" title="definition">ThreadEvent.is_cancel</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#te:413"><span class="id" title="variable">te</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="e0:418" class="idref" href="#e0:418"><span class="id" title="binder">e0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.reserve_step"><span class="id" title="inductive">Thread.reserve_step</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#lo:414"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ReorderReserve.html#e:410"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#e0:418"><span class="id" title="variable">e0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.Thread.html#Thread.promise_step"><span class="id" title="inductive">Thread.promise_step</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#te:413"><span class="id" title="variable">te</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#e0:418"><span class="id" title="variable">e0</span></a> <a class="idref" href="CompOptCert.ReorderReserve.html#e'':412"><span class="id" title="variable">e''</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">RSVs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">RSVs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">cut</span> (<a class="idref" href="CompOptCert.Basic.html#rtcn"><span class="id" title="inductive">rtcn</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.reserve_step"><span class="id" title="inductive">Thread.reserve_step</span></a> <span class="id" title="var">lo</span>) 1%<span class="id" title="var">nat</span> <span class="id" title="var">e'</span> <span class="id" title="var">a2</span>). <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.ReorderReserve.html#reorder_promise_step_reserve_steps"><span class="id" title="lemma">reorder_promise_step_reserve_steps</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROG</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">eauto</span> ..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROG</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">kind</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">msg1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">msg</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">msg</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">x1</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_PreOrder_obligation_2"><span class="id" title="lemma">Basic.rtc_PreOrder_obligation_2</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">x0</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">x1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROG</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>