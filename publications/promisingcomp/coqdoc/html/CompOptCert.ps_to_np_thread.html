<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>CompOptCert.ps_to_np_thread</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library CompOptCert.ps_to_np_thread</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.sflib.html#"><span class="id" title="library">sflib</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Axioms.html#"><span class="id" title="library">Axioms</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Basic.html#"><span class="id" title="library">Basic</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.DataStructure.html#"><span class="id" title="library">DataStructure</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Loc.html#"><span class="id" title="library">Loc</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Language.html#"><span class="id" title="library">Language</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Time.html#"><span class="id" title="library">Time</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Event.html#"><span class="id" title="library">Event</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.View.html#"><span class="id" title="library">View</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Cell.html#"><span class="id" title="library">Cell</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Memory.html#"><span class="id" title="library">Memory</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.TView.html#"><span class="id" title="library">TView</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Local.html#"><span class="id" title="library">Local</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Thread.html#"><span class="id" title="library">Thread</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.NPThread.html#"><span class="id" title="library">NPThread</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Configuration.html#"><span class="id" title="library">Configuration</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Behavior.html#"><span class="id" title="library">Behavior</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.NPConfiguration.html#"><span class="id" title="library">NPConfiguration</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.NPBehavior.html#"><span class="id" title="library">NPBehavior</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.LibTactics.html#"><span class="id" title="library">LibTactics</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Reordering.html#"><span class="id" title="library">Reordering</span></a>.<br/>

<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>

<br/>
</div>

<div class="doc">
Below are some common auxiliary lemmas 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reserve_step_is_allstep" class="idref" href="#reserve_step_is_allstep"><span class="id" title="lemma">reserve_step_is_allstep</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="lang:1" class="idref" href="#lang:1"><span class="id" title="binder">lang</span></a> <a id="e:2" class="idref" href="#e:2"><span class="id" title="binder">e</span></a> <a id="e':3" class="idref" href="#e':3"><span class="id" title="binder">e'</span></a> <a id="lo:4" class="idref" href="#lo:4"><span class="id" title="binder">lo</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CompOptCert.Thread.html#Thread.reserve_step"><span class="id" title="inductive">Thread.reserve_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:1"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:4"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:2"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':3"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CompOptCert.Thread.html#Thread.all_step"><span class="id" title="definition">Thread.all_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:1"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:4"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:2"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':3"><span class="id" title="variable">e'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="reserve_steps_is_allsteps" class="idref" href="#reserve_steps_is_allsteps"><span class="id" title="lemma">reserve_steps_is_allsteps</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:5" class="idref" href="#n:5"><span class="id" title="binder">n</span></a> <a id="lang:6" class="idref" href="#lang:6"><span class="id" title="binder">lang</span></a> <a id="e:7" class="idref" href="#e:7"><span class="id" title="binder">e</span></a> <a id="e':8" class="idref" href="#e':8"><span class="id" title="binder">e'</span></a> <a id="lo:9" class="idref" href="#lo:9"><span class="id" title="binder">lo</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtcn"><span class="id" title="inductive">rtcn</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.reserve_step"><span class="id" title="inductive">Thread.reserve_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:6"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:9"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#n:5"><span class="id" title="variable">n</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:7"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':8"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.all_step"><span class="id" title="definition">Thread.all_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:6"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:9"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:7"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':8"><span class="id" title="variable">e'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#reserve_step_is_allstep"><span class="id" title="lemma">reserve_step_is_allstep</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A12</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="cancel_step_is_allstep" class="idref" href="#cancel_step_is_allstep"><span class="id" title="lemma">cancel_step_is_allstep</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="lang:10" class="idref" href="#lang:10"><span class="id" title="binder">lang</span></a> <a id="e:11" class="idref" href="#e:11"><span class="id" title="binder">e</span></a> <a id="e':12" class="idref" href="#e':12"><span class="id" title="binder">e'</span></a> <a id="lo:13" class="idref" href="#lo:13"><span class="id" title="binder">lo</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CompOptCert.Thread.html#Thread.cancel_step"><span class="id" title="inductive">Thread.cancel_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:10"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:13"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:11"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':12"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CompOptCert.Thread.html#Thread.all_step"><span class="id" title="definition">Thread.all_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:10"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:13"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:11"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':12"><span class="id" title="variable">e'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">repeat</span> (<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="cancel_steps_is_allsteps" class="idref" href="#cancel_steps_is_allsteps"><span class="id" title="lemma">cancel_steps_is_allsteps</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:14" class="idref" href="#n:14"><span class="id" title="binder">n</span></a> <a id="lang:15" class="idref" href="#lang:15"><span class="id" title="binder">lang</span></a> <a id="e:16" class="idref" href="#e:16"><span class="id" title="binder">e</span></a> <a id="e':17" class="idref" href="#e':17"><span class="id" title="binder">e'</span></a> <a id="lo:18" class="idref" href="#lo:18"><span class="id" title="binder">lo</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtcn"><span class="id" title="inductive">rtcn</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.cancel_step"><span class="id" title="inductive">Thread.cancel_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:15"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:18"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#n:14"><span class="id" title="variable">n</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:16"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':17"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.all_step"><span class="id" title="definition">Thread.all_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:15"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:18"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:16"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':17"><span class="id" title="variable">e'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#cancel_step_is_allstep"><span class="id" title="lemma">cancel_step_is_allstep</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A12</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="promise_step_is_prc_step" class="idref" href="#promise_step_is_prc_step"><span class="id" title="lemma">promise_step_is_prc_step</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="lang:19" class="idref" href="#lang:19"><span class="id" title="binder">lang</span></a> <a id="e:20" class="idref" href="#e:20"><span class="id" title="binder">e</span></a> <a id="e1:21" class="idref" href="#e1:21"><span class="id" title="binder">e1</span></a> <a id="e2:22" class="idref" href="#e2:22"><span class="id" title="binder">e2</span></a> <a id="lo:23" class="idref" href="#lo:23"><span class="id" title="binder">lo</span></a> <a id="pf:24" class="idref" href="#pf:24"><span class="id" title="binder">pf</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CompOptCert.Thread.html#Thread.promise_step"><span class="id" title="inductive">Thread.promise_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:19"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#pf:24"><span class="id" title="variable">pf</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:20"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e1:21"><span class="id" title="variable">e1</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e2:22"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> @<a class="idref" href="CompOptCert.Thread.html#Thread.prc_step"><span class="id" title="inductive">Thread.prc_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:19"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:23"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e1:21"><span class="id" title="variable">e1</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e2:22"><span class="id" title="variable">e2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">Htemp</span>: <span class="id" title="var">H</span>. <span class="id" title="var">inv</span> <span class="id" title="var">Htemp</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="thread_program_step_is_na_or_at_or_out_step" class="idref" href="#thread_program_step_is_na_or_at_or_out_step"><span class="id" title="lemma">thread_program_step_is_na_or_at_or_out_step</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="lang:25" class="idref" href="#lang:25"><span class="id" title="binder">lang</span></a> <a id="e:26" class="idref" href="#e:26"><span class="id" title="binder">e</span></a> <a id="lo:27" class="idref" href="#lo:27"><span class="id" title="binder">lo</span></a> <a id="e1:28" class="idref" href="#e1:28"><span class="id" title="binder">e1</span></a> <a id="e2:29" class="idref" href="#e2:29"><span class="id" title="binder">e2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CompOptCert.Thread.html#Thread.program_step"><span class="id" title="inductive">Thread.program_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:25"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:26"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:27"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e1:28"><span class="id" title="variable">e1</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e2:29"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a>@<a class="idref" href="CompOptCert.Thread.html#Thread.na_step"><span class="id" title="inductive">Thread.na_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:25"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:27"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e1:28"><span class="id" title="variable">e1</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e2:29"><span class="id" title="variable">e2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a>@<a class="idref" href="CompOptCert.Thread.html#Thread.at_step"><span class="id" title="inductive">Thread.at_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:25"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:27"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e1:28"><span class="id" title="variable">e1</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e2:29"><span class="id" title="variable">e2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="e':30" class="idref" href="#e':30"><span class="id" title="binder">e'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> @<a class="idref" href="CompOptCert.Thread.html#Thread.out_step"><span class="id" title="inductive">Thread.out_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:25"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:27"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':30"><span class="id" title="variable">e'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e1:28"><span class="id" title="variable">e1</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e2:29"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:26"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Local.html#ThreadEvent.syscall"><span class="id" title="constructor">ThreadEvent.syscall</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':30"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">solve_program_step</span> := <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">solve_program_step2</span> <span class="id" title="var">H</span> <span class="id" title="var">o'</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">o</span> := <span class="id" title="var">o'</span>); <span class="id" title="tactic">try</span> <span class="id" title="tactic">intro</span>; <span class="id" title="var">tryfalse</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">solve_program_step</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">solve_at_read_step</span> <span class="id" title="var">o'</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">right</span>; <span class="id" title="tactic">left</span>); <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">left</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_program_step2</span> <span class="id" title="var">Thread.at_read_step_intro</span> <span class="id" title="var">o'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">Ltac</span> <span class="id" title="var">solve_at_write_step</span> <span class="id" title="var">o'</span> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> (<span class="id" title="tactic">right</span>; <span class="id" title="tactic">left</span>); <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">left</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_program_step2</span> <span class="id" title="var">Thread.at_write_step_intro</span> <span class="id" title="var">o'</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span>; <span class="id" title="var">simpls</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">left</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.na_tau_step_intro"><span class="id" title="constructor">Thread.na_tau_step_intro</span></a>. <span class="id" title="var">solve_program_step</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ord</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.na_plain_read_step_intro"><span class="id" title="constructor">Thread.na_plain_read_step_intro</span></a>. <span class="id" title="var">solve_program_step</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">solve_at_read_step</span> <a class="idref" href="CompOptCert.Event.html#Ordering.relaxed"><span class="id" title="constructor">Ordering.relaxed</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">solve_at_read_step</span> <a class="idref" href="CompOptCert.Event.html#Ordering.strong_relaxed"><span class="id" title="constructor">Ordering.strong_relaxed</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">solve_at_read_step</span> <a class="idref" href="CompOptCert.Event.html#Ordering.acqrel"><span class="id" title="constructor">Ordering.acqrel</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">solve_at_read_step</span> <a class="idref" href="CompOptCert.Event.html#Ordering.seqcst"><span class="id" title="constructor">Ordering.seqcst</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ord</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.na_plain_write_step_intro"><span class="id" title="constructor">Thread.na_plain_write_step_intro</span></a>. <span class="id" title="var">solve_program_step</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">solve_at_write_step</span> <a class="idref" href="CompOptCert.Event.html#Ordering.relaxed"><span class="id" title="constructor">Ordering.relaxed</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">solve_at_write_step</span> <a class="idref" href="CompOptCert.Event.html#Ordering.strong_relaxed"><span class="id" title="constructor">Ordering.strong_relaxed</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">solve_at_write_step</span> <a class="idref" href="CompOptCert.Event.html#Ordering.acqrel"><span class="id" title="constructor">Ordering.acqrel</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">solve_at_write_step</span> <a class="idref" href="CompOptCert.Event.html#Ordering.seqcst"><span class="id" title="constructor">Ordering.seqcst</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">right</span>; <span class="id" title="tactic">left</span>. <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">right</span>; <span class="id" title="tactic">right</span>; <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>. <span class="id" title="var">solve_program_step</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">right</span>; <span class="id" title="tactic">left</span>. <span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">right</span>. <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_program_step</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">right</span>; <span class="id" title="tactic">right</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_program_step</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="thread_program_step_is_na_or_at_or_out_step_strong" class="idref" href="#thread_program_step_is_na_or_at_or_out_step_strong"><span class="id" title="lemma">thread_program_step_is_na_or_at_or_out_step_strong</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="lang:31" class="idref" href="#lang:31"><span class="id" title="binder">lang</span></a> <a id="e:32" class="idref" href="#e:32"><span class="id" title="binder">e</span></a> <a id="lo:33" class="idref" href="#lo:33"><span class="id" title="binder">lo</span></a> <a id="e1:34" class="idref" href="#e1:34"><span class="id" title="binder">e1</span></a> <a id="e2:35" class="idref" href="#e2:35"><span class="id" title="binder">e2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CompOptCert.Thread.html#Thread.program_step"><span class="id" title="inductive">Thread.program_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:31"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:32"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:33"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e1:34"><span class="id" title="variable">e1</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e2:35"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a>@<a class="idref" href="CompOptCert.Thread.html#Thread.na_step"><span class="id" title="inductive">Thread.na_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:31"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:33"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e1:34"><span class="id" title="variable">e1</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e2:35"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.Local.html#ThreadEvent.is_na_step"><span class="id" title="definition">ThreadEvent.is_na_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:32"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a>@<a class="idref" href="CompOptCert.Thread.html#Thread.at_step"><span class="id" title="inductive">Thread.at_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:31"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:33"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e1:34"><span class="id" title="variable">e1</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e2:35"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.Local.html#ThreadEvent.is_at_or_out_step"><span class="id" title="definition">ThreadEvent.is_at_or_out_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:32"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="e':36" class="idref" href="#e':36"><span class="id" title="binder">e'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:32"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Local.html#ThreadEvent.syscall"><span class="id" title="constructor">ThreadEvent.syscall</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':36"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="e':37" class="idref" href="#e':37"><span class="id" title="binder">e'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> @<a class="idref" href="CompOptCert.Thread.html#Thread.out_step"><span class="id" title="inductive">Thread.out_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:31"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:33"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':37"><span class="id" title="variable">e'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e1:34"><span class="id" title="variable">e1</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e2:35"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:32"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Local.html#ThreadEvent.syscall"><span class="id" title="constructor">ThreadEvent.syscall</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':37"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span>; <span class="id" title="var">simpls</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">left</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.na_tau_step_intro"><span class="id" title="constructor">Thread.na_tau_step_intro</span></a>. <span class="id" title="var">solve_program_step</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ord</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.na_plain_read_step_intro"><span class="id" title="constructor">Thread.na_plain_read_step_intro</span></a>. <span class="id" title="var">solve_program_step</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. 2: <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_at_read_step</span> <a class="idref" href="CompOptCert.Event.html#Ordering.relaxed"><span class="id" title="constructor">Ordering.relaxed</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. 2: <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_at_read_step</span> <a class="idref" href="CompOptCert.Event.html#Ordering.strong_relaxed"><span class="id" title="constructor">Ordering.strong_relaxed</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. 2: <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_at_read_step</span> <a class="idref" href="CompOptCert.Event.html#Ordering.acqrel"><span class="id" title="constructor">Ordering.acqrel</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. 2: <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_at_read_step</span> <a class="idref" href="CompOptCert.Event.html#Ordering.seqcst"><span class="id" title="constructor">Ordering.seqcst</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ord</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.na_plain_write_step_intro"><span class="id" title="constructor">Thread.na_plain_write_step_intro</span></a>. <span class="id" title="var">solve_program_step</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. 2: <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_at_write_step</span> <a class="idref" href="CompOptCert.Event.html#Ordering.relaxed"><span class="id" title="constructor">Ordering.relaxed</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. 2: <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_at_write_step</span> <a class="idref" href="CompOptCert.Event.html#Ordering.strong_relaxed"><span class="id" title="constructor">Ordering.strong_relaxed</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. 2: <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_at_write_step</span> <a class="idref" href="CompOptCert.Event.html#Ordering.acqrel"><span class="id" title="constructor">Ordering.acqrel</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">right</span>. <span class="id" title="tactic">left</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. 2: <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_at_write_step</span> <a class="idref" href="CompOptCert.Event.html#Ordering.seqcst"><span class="id" title="constructor">Ordering.seqcst</span></a>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">right</span>; <span class="id" title="tactic">left</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. 2: <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_program_step</span>. <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">right</span>; <span class="id" title="tactic">left</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. 2: <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">right</span>. <span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_program_step</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">right</span>; <span class="id" title="tactic">right</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>. <span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">e</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">solve_program_step</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="thread_tau_step_is_na_or_atmblk_step" class="idref" href="#thread_tau_step_is_na_or_atmblk_step"><span class="id" title="lemma">thread_tau_step_is_na_or_atmblk_step</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="lang:38" class="idref" href="#lang:38"><span class="id" title="binder">lang</span></a> <a id="e:39" class="idref" href="#e:39"><span class="id" title="binder">e</span></a> <a id="lo:40" class="idref" href="#lo:40"><span class="id" title="binder">lo</span></a> <a id="e1:41" class="idref" href="#e1:41"><span class="id" title="binder">e1</span></a> <a id="e2:42" class="idref" href="#e2:42"><span class="id" title="binder">e2</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CompOptCert.Thread.html#Thread.program_step"><span class="id" title="inductive">Thread.program_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:38"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:39"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:40"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e1:41"><span class="id" title="variable">e1</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e2:42"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#ThreadEvent.get_machine_event"><span class="id" title="definition">ThreadEvent.get_machine_event</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:39"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Event.html#MachineEvent.silent"><span class="id" title="constructor">MachineEvent.silent</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a>@<a class="idref" href="CompOptCert.Thread.html#Thread.na_step"><span class="id" title="inductive">Thread.na_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:38"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:40"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e1:41"><span class="id" title="variable">e1</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e2:42"><span class="id" title="variable">e2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a>@<a class="idref" href="CompOptCert.Thread.html#Thread.atmblk_step"><span class="id" title="definition">Thread.atmblk_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:38"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:40"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e1:41"><span class="id" title="variable">e1</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e2:42"><span class="id" title="variable">e2</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#thread_program_step_is_na_or_at_or_out_step"><span class="id" title="lemma">thread_program_step_is_na_or_at_or_out_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.atmblk_step"><span class="id" title="definition">Thread.atmblk_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e1</span> <span class="id" title="var">e2</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>. <span class="id" title="var">substs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="thread_tau_step_is_na_or_at_or_prc" class="idref" href="#thread_tau_step_is_na_or_at_or_prc"><span class="id" title="lemma">thread_tau_step_is_na_or_at_or_prc</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lang:43" class="idref" href="#lang:43"><span class="id" title="binder">lang</span></a> <a id="lo:44" class="idref" href="#lo:44"><span class="id" title="binder">lo</span></a> (<a id="e1:45" class="idref" href="#e1:45"><span class="id" title="binder">e1</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.t"><span class="id" title="record">Thread.t</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:43"><span class="id" title="variable">lang</span></a>) <a id="e2:46" class="idref" href="#e2:46"><span class="id" title="binder">e2</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PS_STEP:47" class="idref" href="#PS_STEP:47"><span class="id" title="binder">PS_STEP</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.tau_step"><span class="id" title="definition">Thread.tau_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:44"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e1:45"><span class="id" title="variable">e1</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e2:46"><span class="id" title="variable">e2</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.Thread.html#Thread.na_step"><span class="id" title="inductive">Thread.na_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:44"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e1:45"><span class="id" title="variable">e1</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e2:46"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.Thread.html#Thread.at_step"><span class="id" title="inductive">Thread.at_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:44"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e1:45"><span class="id" title="variable">e1</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e2:46"><span class="id" title="variable">e2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.Thread.html#Thread.prc_step"><span class="id" title="inductive">Thread.prc_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:44"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e1:45"><span class="id" title="variable">e1</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e2:46"><span class="id" title="variable">e2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <span class="id" title="var">Thread.tau_step</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PS_STEP</span>. <span class="id" title="var">inv</span> <span class="id" title="var">TSTEP</span>. <span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">right</span>; <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.prc_step_intro"><span class="id" title="constructor">Thread.prc_step_intro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.promise_step_intro"><span class="id" title="constructor">Thread.promise_step_intro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#or_assoc"><span class="id" title="lemma">or_assoc</span></a>. <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#thread_program_step_is_na_or_at_or_out_step"><span class="id" title="lemma">thread_program_step_is_na_or_at_or_out_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">STEP0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">STEP0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span> | <span class="id" title="var">STEP0</span>]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">STEP0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">H</span> | <span class="id" title="var">STEP0</span>]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">STEP0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e'</span> &amp; <span class="id" title="var">Hout_step</span> &amp; <span class="id" title="var">Hout_evt</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">tryfalse</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="np_na_step_is_tau_step" class="idref" href="#np_na_step_is_tau_step"><span class="id" title="lemma">np_na_step_is_tau_step</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="lang:48" class="idref" href="#lang:48"><span class="id" title="binder">lang</span></a> <a id="lo:49" class="idref" href="#lo:49"><span class="id" title="binder">lo</span></a> <a id="e:50" class="idref" href="#e:50"><span class="id" title="binder">e</span></a> <a id="e':51" class="idref" href="#e':51"><span class="id" title="binder">e'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.na_step"><span class="id" title="definition">NPAuxThread.na_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:48"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:49"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:50"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':51"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.tau_step"><span class="id" title="definition">NPAuxThread.tau_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:48"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:49"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:50"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':51"><span class="id" title="variable">e'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.tau_step"><span class="id" title="definition">NPAuxThread.tau_step</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="np_na_steps_is_tau_steps" class="idref" href="#np_na_steps_is_tau_steps"><span class="id" title="lemma">np_na_steps_is_tau_steps</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="lang:52" class="idref" href="#lang:52"><span class="id" title="binder">lang</span></a> <a id="lo:53" class="idref" href="#lo:53"><span class="id" title="binder">lo</span></a> <a id="e:54" class="idref" href="#e:54"><span class="id" title="binder">e</span></a> <a id="e':55" class="idref" href="#e':55"><span class="id" title="binder">e'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.na_step"><span class="id" title="definition">NPAuxThread.na_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:52"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:53"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:54"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':55"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.tau_step"><span class="id" title="definition">NPAuxThread.tau_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:52"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:53"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:54"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':55"><span class="id" title="variable">e'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#np_na_step_is_tau_step"><span class="id" title="lemma">np_na_step_is_tau_step</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="np_prc_step_is_tau_step" class="idref" href="#np_prc_step_is_tau_step"><span class="id" title="lemma">np_prc_step_is_tau_step</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="lang:56" class="idref" href="#lang:56"><span class="id" title="binder">lang</span></a> <a id="lo:57" class="idref" href="#lo:57"><span class="id" title="binder">lo</span></a> <a id="e:58" class="idref" href="#e:58"><span class="id" title="binder">e</span></a> <a id="e':59" class="idref" href="#e':59"><span class="id" title="binder">e'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.prc_step"><span class="id" title="definition">NPAuxThread.prc_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:56"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:57"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:58"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':59"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.tau_step"><span class="id" title="definition">NPAuxThread.tau_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:56"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:57"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:58"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':59"><span class="id" title="variable">e'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.tau_step"><span class="id" title="definition">NPAuxThread.tau_step</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="np_prc_steps_is_tau_steps" class="idref" href="#np_prc_steps_is_tau_steps"><span class="id" title="lemma">np_prc_steps_is_tau_steps</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="lang:60" class="idref" href="#lang:60"><span class="id" title="binder">lang</span></a> <a id="lo:61" class="idref" href="#lo:61"><span class="id" title="binder">lo</span></a> <a id="e:62" class="idref" href="#e:62"><span class="id" title="binder">e</span></a> <a id="e':63" class="idref" href="#e':63"><span class="id" title="binder">e'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.prc_step"><span class="id" title="definition">NPAuxThread.prc_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:60"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:61"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:62"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':63"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.tau_step"><span class="id" title="definition">NPAuxThread.tau_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:60"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:61"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:62"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':63"><span class="id" title="variable">e'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#np_prc_step_is_tau_step"><span class="id" title="lemma">np_prc_step_is_tau_step</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="np_at_step_is_tau_step" class="idref" href="#np_at_step_is_tau_step"><span class="id" title="lemma">np_at_step_is_tau_step</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="lang:64" class="idref" href="#lang:64"><span class="id" title="binder">lang</span></a> <a id="lo:65" class="idref" href="#lo:65"><span class="id" title="binder">lo</span></a> <a id="e:66" class="idref" href="#e:66"><span class="id" title="binder">e</span></a> <a id="e':67" class="idref" href="#e':67"><span class="id" title="binder">e'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.at_step"><span class="id" title="definition">NPAuxThread.at_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:64"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:65"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:66"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':67"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.tau_step"><span class="id" title="definition">NPAuxThread.tau_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:64"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:65"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:66"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':67"><span class="id" title="variable">e'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.tau_step"><span class="id" title="definition">NPAuxThread.tau_step</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Lemmac B.2
</div>
<div class="code">
<span class="id" title="keyword">Lemma</span> <a id="ps_split" class="idref" href="#ps_split"><span class="id" title="lemma">ps_split</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:68" class="idref" href="#n:68"><span class="id" title="binder">n</span></a> <a id="lang:69" class="idref" href="#lang:69"><span class="id" title="binder">lang</span></a> <a id="st:70" class="idref" href="#st:70"><span class="id" title="binder">st</span></a> <a id="lc:71" class="idref" href="#lc:71"><span class="id" title="binder">lc</span></a> <a id="sc:72" class="idref" href="#sc:72"><span class="id" title="binder">sc</span></a> <a id="mem:73" class="idref" href="#mem:73"><span class="id" title="binder">mem</span></a> <a id="st':74" class="idref" href="#st':74"><span class="id" title="binder">st'</span></a> <a id="lc':75" class="idref" href="#lc':75"><span class="id" title="binder">lc'</span></a> <a id="sc':76" class="idref" href="#sc':76"><span class="id" title="binder">sc'</span></a> <a id="mem':77" class="idref" href="#mem':77"><span class="id" title="binder">mem'</span></a> <a id="lo:78" class="idref" href="#lo:78"><span class="id" title="binder">lo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="THRD_STEPS:79" class="idref" href="#THRD_STEPS:79"><span class="id" title="binder">THRD_STEPS</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtcn"><span class="id" title="inductive">rtcn</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.tau_step"><span class="id" title="definition">Thread.tau_step</span></a> <span class="id" title="var">_</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:78"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#n:68"><span class="id" title="variable">n</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:69"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#st:70"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lc:71"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#sc:72"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#mem:73"><span class="id" title="variable">mem</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:69"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#st':74"><span class="id" title="variable">st'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lc':75"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#sc':76"><span class="id" title="variable">sc'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#mem':77"><span class="id" title="variable">mem'</span></a>)),<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#3b159337f6baade23b0506d6b50dc10f"><span class="id" title="notation">∃</span></a> <a id="st0:80" class="idref" href="#st0:80"><span class="id" title="binder">st0</span></a> <a id="lc0:81" class="idref" href="#lc0:81"><span class="id" title="binder">lc0</span></a> <a id="sc0:82" class="idref" href="#sc0:82"><span class="id" title="binder">sc0</span></a> <a id="mem0:83" class="idref" href="#mem0:83"><span class="id" title="binder">mem0</span></a> <a id="st1:84" class="idref" href="#st1:84"><span class="id" title="binder">st1</span></a> <a id="lc1:85" class="idref" href="#lc1:85"><span class="id" title="binder">lc1</span></a> <a id="sc1:86" class="idref" href="#sc1:86"><span class="id" title="binder">sc1</span></a> <a id="mem1:87" class="idref" href="#mem1:87"><span class="id" title="binder">mem1</span></a><a class="idref" href="CompOptCert.LibTactics.html#3b159337f6baade23b0506d6b50dc10f"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.prc_step"><span class="id" title="inductive">Thread.prc_step</span></a> <span class="id" title="var">_</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:78"><span class="id" title="variable">lo</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:69"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#st:70"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lc:71"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#sc:72"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#mem:73"><span class="id" title="variable">mem</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:69"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#st0:80"><span class="id" title="variable">st0</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lc0:81"><span class="id" title="variable">lc0</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#sc0:82"><span class="id" title="variable">sc0</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#mem0:83"><span class="id" title="variable">mem0</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.atmblk_step"><span class="id" title="definition">Thread.atmblk_step</span></a> <span class="id" title="var">_</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:78"><span class="id" title="variable">lo</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:69"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#st0:80"><span class="id" title="variable">st0</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lc0:81"><span class="id" title="variable">lc0</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#sc0:82"><span class="id" title="variable">sc0</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#mem0:83"><span class="id" title="variable">mem0</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:69"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#st1:84"><span class="id" title="variable">st1</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lc1:85"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#sc1:86"><span class="id" title="variable">sc1</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#mem1:87"><span class="id" title="variable">mem1</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.na_step"><span class="id" title="inductive">Thread.na_step</span></a> <span class="id" title="var">_</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:78"><span class="id" title="variable">lo</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:69"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#st1:84"><span class="id" title="variable">st1</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lc1:85"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#sc1:86"><span class="id" title="variable">sc1</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#mem1:87"><span class="id" title="variable">mem1</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:69"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#st':74"><span class="id" title="variable">st'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lc':75"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#sc':76"><span class="id" title="variable">sc'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#mem':77"><span class="id" title="variable">mem'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">THRD_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">st'</span> <span class="id" title="var">lc'</span> <span class="id" title="var">sc'</span> <span class="id" title="var">mem'</span>; <span class="id" title="tactic">∃</span> <span class="id" title="var">st'</span> <span class="id" title="var">lc'</span> <span class="id" title="var">sc'</span> <span class="id" title="var">mem'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">THRD_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">H1</span>: <a class="idref" href="CompOptCert.Thread.html#Thread.tau_step"><span class="id" title="definition">Thread.tau_step</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">H2</span>: <a class="idref" href="CompOptCert.Basic.html#rtcn"><span class="id" title="inductive">rtcn</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> |- <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">rename</span> <span class="id" title="var">H1</span> <span class="id" title="var">into</span> <span class="id" title="var">THRD_STEP</span>; <span class="id" title="tactic">rename</span> <span class="id" title="var">H2</span> <span class="id" title="var">into</span> <span class="id" title="var">THRD_STEPS</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">idtac</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.tau_step"><span class="id" title="definition">Thread.tau_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">THRD_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">THRD_STEPS</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">THRD_STEPS</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">st0</span> &amp; <span class="id" title="var">lc0</span> &amp; <span class="id" title="var">sc1</span> &amp; <span class="id" title="var">mem0</span> &amp; <span class="id" title="var">st1</span> &amp; <span class="id" title="var">lc1</span> &amp; <span class="id" title="var">sc2</span> &amp; <span class="id" title="var">mem1</span> &amp; <span class="id" title="var">THRD_STEPS</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">THRD_STEPS</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">PRC_STEP</span> &amp; <span class="id" title="var">ATMBLK_STEP</span> &amp; <span class="id" title="var">NA_STEP</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">THRD_STEP</span>. <span class="id" title="var">inv</span> <span class="id" title="var">TSTEP</span>. <span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#promise_step_is_prc_step"><span class="id" title="lemma">promise_step_is_prc_step</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">lo</span> := <span class="id" title="var">lo</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">STEP0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">st0</span> <span class="id" title="var">lc0</span> <span class="id" title="var">sc1</span> <span class="id" title="var">mem0</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">st1</span> <span class="id" title="var">lc1</span> <span class="id" title="var">sc2</span> <span class="id" title="var">mem1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#thread_tau_step_is_na_or_atmblk_step"><span class="id" title="lemma">thread_tau_step_is_na_or_atmblk_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">STEP0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">STEP0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">FNA_STEP</span> | <span class="id" title="var">FATM_BLK_STEP</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#prc_steps_forward_na_step_same_thread"><span class="id" title="lemma">Reordering.prc_steps_forward_na_step_same_thread</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">FNA_STEP</span>. <span class="id" title="var">Focus</span> 2. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">FNA_STEP</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e0</span> &amp; <span class="id" title="var">FPRC_STEPS</span> &amp; <span class="id" title="var">SNA_STEPS</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">ATMBLK_STEP</span> <span class="id" title="var">NA_STEP</span> <span class="id" title="var">FPRC_STEPS</span> <span class="id" title="var">SNA_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ATMBLK_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">state</span> <span class="id" title="var">local</span> <span class="id" title="var">sc0</span> <span class="id" title="var">memory</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">state</span> <span class="id" title="var">local</span> <span class="id" title="var">sc0</span> <span class="id" title="var">memory</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">H_ATMBLK_STEP</span> : <a class="idref" href="CompOptCert.Thread.html#Thread.atmblk_step"><span class="id" title="definition">Thread.atmblk_step</span></a> <span class="id" title="var">lo</span> <span class="id" title="var">e0</span> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">SNA_STEPS</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <span class="id" title="var">Thread.atmblk_step</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e'</span> &amp; <span class="id" title="var">e''</span> &amp; <span class="id" title="var">Hna_steps</span> &amp; <span class="id" title="var">Hat_steps</span> &amp; <span class="id" title="var">Hprc_steps</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e0</span>, <span class="id" title="var">y</span>. <span class="id" title="tactic">clear</span> - <span class="id" title="var">FPRC_STEPS</span> <span class="id" title="var">H0</span> <span class="id" title="var">H_ATMBLK_STEP</span> <span class="id" title="var">NA_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 8 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">PRC_STEP</span> <span class="id" title="var">ATMBLK_STEP</span> <span class="id" title="var">NA_STEP</span> <span class="id" title="var">FATM_BLK_STEP</span> <span class="id" title="var">EVENT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">Hatm_blk_step</span>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Thread.html#Thread.atmblk_step"><span class="id" title="definition">Thread.atmblk_step</span></a> <span class="id" title="var">lo</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="CompOptCert.Thread.html#Thread.state"><span class="id" title="projection">Thread.state</span></a> := <span class="id" title="var">st</span>; <a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> := <span class="id" title="var">lc</span>; <a class="idref" href="CompOptCert.Thread.html#Thread.sc"><span class="id" title="projection">Thread.sc</span></a> := <span class="id" title="var">sc</span>; <a class="idref" href="CompOptCert.Thread.html#Thread.memory"><span class="id" title="projection">Thread.memory</span></a> := <span class="id" title="var">mem</span> |}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{| <a class="idref" href="CompOptCert.Thread.html#Thread.state"><span class="id" title="projection">Thread.state</span></a> := <span class="id" title="var">st0</span>; <a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> := <span class="id" title="var">lc0</span>; <a class="idref" href="CompOptCert.Thread.html#Thread.sc"><span class="id" title="projection">Thread.sc</span></a> := <span class="id" title="var">sc1</span>; <a class="idref" href="CompOptCert.Thread.html#Thread.memory"><span class="id" title="projection">Thread.memory</span></a> := <span class="id" title="var">mem0</span> |}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">FATM_BLK_STEP</span> <span class="id" title="var">PRC_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <span class="id" title="var">Thread.atmblk_step</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">FATM_BLK_STEP</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e'</span> &amp; <span class="id" title="var">e''</span> &amp; <span class="id" title="var">Hna_step</span> &amp; <span class="id" title="var">Hat_step</span> &amp; <span class="id" title="var">Hprc_step</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;} <br/>
<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">FATM_BLK_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 8 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rtc_prc_p_to_np" class="idref" href="#rtc_prc_p_to_np"><span class="id" title="lemma">rtc_prc_p_to_np</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:88" class="idref" href="#n:88"><span class="id" title="binder">n</span></a> <a id="lang:89" class="idref" href="#lang:89"><span class="id" title="binder">lang</span></a> <a id="lo:90" class="idref" href="#lo:90"><span class="id" title="binder">lo</span></a> <a id="e:91" class="idref" href="#e:91"><span class="id" title="binder">e</span></a> <a id="e':92" class="idref" href="#e':92"><span class="id" title="binder">e'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtcn"><span class="id" title="inductive">rtcn</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.prc_step"><span class="id" title="inductive">Thread.prc_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:89"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:90"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#n:88"><span class="id" title="variable">n</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:91"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':92"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.prc_step"><span class="id" title="definition">NPAuxThread.prc_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:89"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:90"><span class="id" title="variable">lo</span></a>) (<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.mk"><span class="id" title="constructor">NPAuxThread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:89"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:91"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) (<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.mk"><span class="id" title="constructor">NPAuxThread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:89"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':92"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.mk"><span class="id" title="constructor">NPAuxThread.mk</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">a2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.prc_step"><span class="id" title="definition">NPAuxThread.prc_step</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rtc_na_p_to_np" class="idref" href="#rtc_na_p_to_np"><span class="id" title="lemma">rtc_na_p_to_np</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:93" class="idref" href="#n:93"><span class="id" title="binder">n</span></a> <a id="lang:94" class="idref" href="#lang:94"><span class="id" title="binder">lang</span></a> <a id="lo:95" class="idref" href="#lo:95"><span class="id" title="binder">lo</span></a> <a id="e:96" class="idref" href="#e:96"><span class="id" title="binder">e</span></a> <a id="e':97" class="idref" href="#e':97"><span class="id" title="binder">e'</span></a> <a id="b:98" class="idref" href="#b:98"><span class="id" title="binder">b</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtcn"><span class="id" title="inductive">rtcn</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.na_step"><span class="id" title="inductive">Thread.na_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:94"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:95"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#n:93"><span class="id" title="variable">n</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:96"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':97"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="b':99" class="idref" href="#b':99"><span class="id" title="binder">b'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.na_step"><span class="id" title="definition">NPAuxThread.na_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:94"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:95"><span class="id" title="variable">lo</span></a>) (<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.mk"><span class="id" title="constructor">NPAuxThread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:94"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:96"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#b:98"><span class="id" title="variable">b</span></a>) (<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.mk"><span class="id" title="constructor">NPAuxThread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:94"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':97"><span class="id" title="variable">e'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#b':99"><span class="id" title="variable">b'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">b</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">A23</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">b'</span> &amp; <span class="id" title="var">Hrtc_na_steps</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">b'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.mk"><span class="id" title="constructor">NPAuxThread.mk</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">a2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.na_step"><span class="id" title="definition">NPAuxThread.na_step</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="at_p_to_np" class="idref" href="#at_p_to_np"><span class="id" title="lemma">at_p_to_np</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="lang:100" class="idref" href="#lang:100"><span class="id" title="binder">lang</span></a> <a id="lo:101" class="idref" href="#lo:101"><span class="id" title="binder">lo</span></a> <a id="e:102" class="idref" href="#e:102"><span class="id" title="binder">e</span></a> <a id="e':103" class="idref" href="#e':103"><span class="id" title="binder">e'</span></a> <a id="b:104" class="idref" href="#b:104"><span class="id" title="binder">b</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CompOptCert.Thread.html#Thread.at_step"><span class="id" title="inductive">Thread.at_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:100"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:101"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:102"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':103"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.at_step"><span class="id" title="definition">NPAuxThread.at_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:100"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:101"><span class="id" title="variable">lo</span></a> (<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.mk"><span class="id" title="constructor">NPAuxThread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:100"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:102"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#b:104"><span class="id" title="variable">b</span></a>) (<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.mk"><span class="id" title="constructor">NPAuxThread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:100"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':103"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.at_step"><span class="id" title="definition">NPAuxThread.at_step</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="atmblk_p_to_np" class="idref" href="#atmblk_p_to_np"><span class="id" title="lemma">atmblk_p_to_np</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="lang:105" class="idref" href="#lang:105"><span class="id" title="binder">lang</span></a> <a id="lo:106" class="idref" href="#lo:106"><span class="id" title="binder">lo</span></a> <a id="e:107" class="idref" href="#e:107"><span class="id" title="binder">e</span></a> <a id="e':108" class="idref" href="#e':108"><span class="id" title="binder">e'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CompOptCert.Thread.html#Thread.atmblk_step"><span class="id" title="definition">Thread.atmblk_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:105"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:106"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:107"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':108"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.tau_step"><span class="id" title="definition">NPAuxThread.tau_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:105"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:106"><span class="id" title="variable">lo</span></a>) (<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.mk"><span class="id" title="constructor">NPAuxThread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:105"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:107"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) (<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.mk"><span class="id" title="constructor">NPAuxThread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:105"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':108"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e0</span> &amp; <span class="id" title="var">Hna_steps</span> &amp; <span class="id" title="var">Hat_step</span> &amp; <span class="id" title="var">Hprc_steps</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hna_steps</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hna_steps</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">n1</span> &amp; <span class="id" title="var">Hna_steps</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#rtc_na_p_to_np"><span class="id" title="lemma">rtc_na_p_to_np</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">b</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hna_steps</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hna_steps</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">b'</span> &amp; <span class="id" title="var">Hrtc_na_steps</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#at_p_to_np"><span class="id" title="lemma">at_p_to_np</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">b</span> := <span class="id" title="var">b'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hat_step</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprc_steps</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hprc_steps</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">n3</span> &amp; <span class="id" title="var">Hprc_steps</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#rtc_prc_p_to_np"><span class="id" title="lemma">rtc_prc_p_to_np</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprc_steps</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#np_na_steps_is_tau_steps"><span class="id" title="lemma">np_na_steps_is_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrtc_na_steps</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#np_at_step_is_tau_step"><span class="id" title="lemma">np_at_step_is_tau_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hat_step</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#np_prc_steps_is_tau_steps"><span class="id" title="lemma">np_prc_steps_is_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprc_steps</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hrtc_na_steps</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hat_step</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hprc_steps</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="atmblk_p_to_np_S" class="idref" href="#atmblk_p_to_np_S"><span class="id" title="lemma">atmblk_p_to_np_S</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lang:109" class="idref" href="#lang:109"><span class="id" title="binder">lang</span></a> <a id="lo:110" class="idref" href="#lo:110"><span class="id" title="binder">lo</span></a> <a id="e:111" class="idref" href="#e:111"><span class="id" title="binder">e</span></a> <a id="e':112" class="idref" href="#e':112"><span class="id" title="binder">e'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ATMBLK_STEP:113" class="idref" href="#ATMBLK_STEP:113"><span class="id" title="binder">ATMBLK_STEP</span></a>: @<a class="idref" href="CompOptCert.Thread.html#Thread.atmblk_step"><span class="id" title="definition">Thread.atmblk_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:109"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:110"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:111"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':112"><span class="id" title="variable">e'</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="n:114" class="idref" href="#n:114"><span class="id" title="binder">n</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Basic.html#rtcn"><span class="id" title="inductive">rtcn</span></a> (@<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.tau_step"><span class="id" title="definition">NPAuxThread.tau_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:109"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:110"><span class="id" title="variable">lo</span></a>) (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#n:114"><span class="id" title="variable">n</span></a>) (<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.mk"><span class="id" title="constructor">NPAuxThread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:109"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:111"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) (<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.mk"><span class="id" title="constructor">NPAuxThread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:109"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':112"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ATMBLK_STEP</span>. <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#rtc_na_p_to_np"><span class="id" title="lemma">rtc_na_p_to_np</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">b</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#np_na_steps_is_tau_steps"><span class="id" title="lemma">np_na_steps_is_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#at_p_to_np"><span class="id" title="lemma">at_p_to_np</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">b</span> := <span class="id" title="var">b'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">AT_STEP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#np_at_step_is_tau_step"><span class="id" title="lemma">np_at_step_is_tau_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">AT_STEP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PRC_STEPS</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#rtc_prc_p_to_np"><span class="id" title="lemma">rtc_prc_p_to_np</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PRC_STEPS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#np_prc_steps_is_tau_steps"><span class="id" title="lemma">np_prc_steps_is_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PRC_STEPS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NA_STEPS</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PRC_STEPS</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Reordering.html#rtcn_n1"><span class="id" title="lemma">rtcn_n1</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">NA_STEPS</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">AT_STEP</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Reordering.html#rtcn_add"><span class="id" title="lemma">rtcn_add</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">x1</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PRC_STEPS</span> | <span class="id" title="tactic">eauto</span>..].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="rtc_atmblk_p_to_np" class="idref" href="#rtc_atmblk_p_to_np"><span class="id" title="lemma">rtc_atmblk_p_to_np</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:115" class="idref" href="#n:115"><span class="id" title="binder">n</span></a> <a id="lang:116" class="idref" href="#lang:116"><span class="id" title="binder">lang</span></a> <a id="lo:117" class="idref" href="#lo:117"><span class="id" title="binder">lo</span></a> <a id="e:118" class="idref" href="#e:118"><span class="id" title="binder">e</span></a> <a id="e':119" class="idref" href="#e':119"><span class="id" title="binder">e'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtcn"><span class="id" title="inductive">rtcn</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.atmblk_step"><span class="id" title="definition">Thread.atmblk_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:116"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:117"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#n:115"><span class="id" title="variable">n</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:118"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':119"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.tau_step"><span class="id" title="definition">NPAuxThread.tau_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:116"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:117"><span class="id" title="variable">lo</span></a>) (<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.mk"><span class="id" title="constructor">NPAuxThread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:116"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:118"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) (<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.mk"><span class="id" title="constructor">NPAuxThread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:116"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':119"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a> <span class="id" title="keyword">with</span> (<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.mk"><span class="id" title="constructor">NPAuxThread.mk</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">a2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#atmblk_p_to_np"><span class="id" title="lemma">atmblk_p_to_np</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="cons_np_steps_from_p_steps_outatmblk" class="idref" href="#cons_np_steps_from_p_steps_outatmblk"><span class="id" title="lemma">cons_np_steps_from_p_steps_outatmblk</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="lang:120" class="idref" href="#lang:120"><span class="id" title="binder">lang</span></a> <a id="lo:121" class="idref" href="#lo:121"><span class="id" title="binder">lo</span></a> <a id="e:122" class="idref" href="#e:122"><span class="id" title="binder">e</span></a> <a id="e':123" class="idref" href="#e':123"><span class="id" title="binder">e'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.tau_step"><span class="id" title="definition">Thread.tau_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:120"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:121"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:122"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':123"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="b:124" class="idref" href="#b:124"><span class="id" title="binder">b</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.tau_step"><span class="id" title="definition">NPAuxThread.tau_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:120"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:121"><span class="id" title="variable">lo</span></a>) (<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.mk"><span class="id" title="constructor">NPAuxThread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:120"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:122"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) (<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.mk"><span class="id" title="constructor">NPAuxThread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:120"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':123"><span class="id" title="variable">e'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#b:124"><span class="id" title="variable">b</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span>, <span class="id" title="var">e'</span>; <span class="id" title="var">simpls</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">n</span> &amp; <span class="id" title="var">H</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#ps_split"><span class="id" title="lemma">ps_split</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">st0</span> &amp; <span class="id" title="var">lc0</span> &amp; <span class="id" title="var">sc1</span> &amp; <span class="id" title="var">mem0</span> &amp; <span class="id" title="var">st1</span> &amp; <span class="id" title="var">lc1</span> &amp; <span class="id" title="var">sc2</span> &amp; <span class="id" title="var">mem1</span> &amp; <span class="id" title="var">Hrtc_prc</span> &amp; <span class="id" title="var">Hrtc_atmblk</span> &amp; <span class="id" title="var">Hrtc_na</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrtc_prc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrtc_prc</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">n1</span> &amp; <span class="id" title="var">Hrtc_prc</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#rtc_prc_p_to_np"><span class="id" title="lemma">rtc_prc_p_to_np</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrtc_prc</span>; <span class="id" title="var">simpls</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrtc_atmblk</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrtc_atmblk</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">n2</span> &amp; <span class="id" title="var">Hrtc_atmblk</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#rtc_atmblk_p_to_np"><span class="id" title="lemma">rtc_atmblk_p_to_np</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrtc_atmblk</span>; <span class="id" title="var">simpls</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#np_prc_steps_is_tau_steps"><span class="id" title="lemma">np_prc_steps_is_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrtc_prc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrtc_na</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrtc_na</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">n3</span> &amp; <span class="id" title="var">Hrtc_na</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#rtc_na_p_to_np"><span class="id" title="lemma">rtc_na_p_to_np</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">b</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) <span class="id" title="tactic">in</span> <span class="id" title="var">Hrtc_na</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hrtc_na</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">b'</span> &amp; <span class="id" title="var">Hrtc_na</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#np_na_steps_is_tau_steps"><span class="id" title="lemma">np_na_steps_is_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hrtc_na</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">b'</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hrtc_prc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hrtc_atmblk</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Thread_nprm_step_is_tau_step" class="idref" href="#Thread_nprm_step_is_tau_step"><span class="id" title="lemma">Thread_nprm_step_is_tau_step</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="lang:125" class="idref" href="#lang:125"><span class="id" title="binder">lang</span></a>: <a class="idref" href="CompOptCert.Language.html#language"><span class="id" title="definition">language</span></a>) <a id="lo:126" class="idref" href="#lo:126"><span class="id" title="binder">lo</span></a> (<a id="e:127" class="idref" href="#e:127"><span class="id" title="binder">e</span></a> <a id="e':128" class="idref" href="#e':128"><span class="id" title="binder">e'</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.t"><span class="id" title="record">Thread.t</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:125"><span class="id" title="variable">lang</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NPRM_STEPS:129" class="idref" href="#NPRM_STEPS:129"><span class="id" title="binder">NPRM_STEPS</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.nprm_step"><span class="id" title="inductive">Thread.nprm_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:126"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:127"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':128"><span class="id" title="variable">e'</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.tau_step"><span class="id" title="definition">Thread.tau_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:126"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:127"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':128"><span class="id" title="variable">e'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">NPRM_STEPS</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [<span class="id" title="tactic">idtac</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHNPRM_STEPS</span>].<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.step_program"><span class="id" title="constructor">Thread.step_program</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROG</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>; <span class="id" title="var">simpls</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PF</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="na_step_is_tau_step" class="idref" href="#na_step_is_tau_step"><span class="id" title="lemma">na_step_is_tau_step</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="lang:130" class="idref" href="#lang:130"><span class="id" title="binder">lang</span></a> <a id="lo:131" class="idref" href="#lo:131"><span class="id" title="binder">lo</span></a> <a id="e:132" class="idref" href="#e:132"><span class="id" title="binder">e</span></a> <a id="e':133" class="idref" href="#e':133"><span class="id" title="binder">e'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CompOptCert.Thread.html#Thread.na_step"><span class="id" title="inductive">Thread.na_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:130"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:131"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:132"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':133"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CompOptCert.Thread.html#Thread.tau_step"><span class="id" title="definition">Thread.tau_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:130"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:131"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:132"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':133"><span class="id" title="variable">e'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">econstructor</span>; [<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.step_program"><span class="id" title="constructor">Thread.step_program</span></a>; <span class="id" title="tactic">eauto</span> | <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>]].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="na_steps_is_tau_steps" class="idref" href="#na_steps_is_tau_steps"><span class="id" title="lemma">na_steps_is_tau_steps</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="lang:134" class="idref" href="#lang:134"><span class="id" title="binder">lang</span></a> <a id="lo:135" class="idref" href="#lo:135"><span class="id" title="binder">lo</span></a> <a id="e:136" class="idref" href="#e:136"><span class="id" title="binder">e</span></a> <a id="e':137" class="idref" href="#e':137"><span class="id" title="binder">e'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.na_step"><span class="id" title="inductive">Thread.na_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:134"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:135"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:136"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':137"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.tau_step"><span class="id" title="definition">Thread.tau_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:134"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:135"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:136"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':137"><span class="id" title="variable">e'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#na_step_is_tau_step"><span class="id" title="lemma">na_step_is_tau_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="at_step_is_tau_step" class="idref" href="#at_step_is_tau_step"><span class="id" title="lemma">at_step_is_tau_step</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="lang:138" class="idref" href="#lang:138"><span class="id" title="binder">lang</span></a> <a id="lo:139" class="idref" href="#lo:139"><span class="id" title="binder">lo</span></a> <a id="e:140" class="idref" href="#e:140"><span class="id" title="binder">e</span></a> <a id="e':141" class="idref" href="#e':141"><span class="id" title="binder">e'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CompOptCert.Thread.html#Thread.at_step"><span class="id" title="inductive">Thread.at_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:138"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:139"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:140"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':141"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CompOptCert.Thread.html#Thread.tau_step"><span class="id" title="definition">Thread.tau_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:138"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:139"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:140"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':141"><span class="id" title="variable">e'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 (<span class="id" title="tactic">destruct</span> <span class="id" title="var">AT_STEP</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">AT_STEP</span> | <span class="id" title="var">AT_STEP</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">inv</span> <span class="id" title="var">AT_STEP</span>; <span class="id" title="tactic">econstructor</span>; [<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.step_program"><span class="id" title="constructor">Thread.step_program</span></a>; <span class="id" title="tactic">eauto</span> | <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>] | <span class="id" title="tactic">idtac</span>]).<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">AT_STEP</span>; <span class="id" title="tactic">econstructor</span>; [<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.step_program"><span class="id" title="constructor">Thread.step_program</span></a>; <span class="id" title="tactic">eauto</span> | <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="prc_step_is_tau_step" class="idref" href="#prc_step_is_tau_step"><span class="id" title="lemma">prc_step_is_tau_step</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="lang:142" class="idref" href="#lang:142"><span class="id" title="binder">lang</span></a> <a id="lo:143" class="idref" href="#lo:143"><span class="id" title="binder">lo</span></a> <a id="e:144" class="idref" href="#e:144"><span class="id" title="binder">e</span></a> <a id="e':145" class="idref" href="#e':145"><span class="id" title="binder">e'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CompOptCert.Thread.html#Thread.prc_step"><span class="id" title="inductive">Thread.prc_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:142"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:143"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:144"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':145"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CompOptCert.Thread.html#Thread.tau_step"><span class="id" title="definition">Thread.tau_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:142"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:143"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:144"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':145"><span class="id" title="variable">e'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; [<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span> | <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="prc_steps_is_tau_steps'" class="idref" href="#prc_steps_is_tau_steps'"><span class="id" title="lemma">prc_steps_is_tau_steps'</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:146" class="idref" href="#n:146"><span class="id" title="binder">n</span></a> <a id="lang:147" class="idref" href="#lang:147"><span class="id" title="binder">lang</span></a> <a id="lo:148" class="idref" href="#lo:148"><span class="id" title="binder">lo</span></a> <a id="e:149" class="idref" href="#e:149"><span class="id" title="binder">e</span></a> <a id="e':150" class="idref" href="#e':150"><span class="id" title="binder">e'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PRC_STEPS:151" class="idref" href="#PRC_STEPS:151"><span class="id" title="binder">PRC_STEPS</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtcn"><span class="id" title="inductive">rtcn</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.prc_step"><span class="id" title="inductive">Thread.prc_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:147"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:148"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#n:146"><span class="id" title="variable">n</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:149"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':150"><span class="id" title="variable">e'</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtcn"><span class="id" title="inductive">rtcn</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.tau_step"><span class="id" title="definition">Thread.tau_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:147"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:148"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#n:146"><span class="id" title="variable">n</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:149"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':150"><span class="id" title="variable">e'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PRC_STEPS</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PRC_STEPS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#prc_step_is_tau_step"><span class="id" title="lemma">prc_step_is_tau_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A12</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="prc_steps_is_tau_steps" class="idref" href="#prc_steps_is_tau_steps"><span class="id" title="lemma">prc_steps_is_tau_steps</span></a><br/>
&nbsp;&nbsp;<a id="lang:152" class="idref" href="#lang:152"><span class="id" title="binder">lang</span></a> <a id="lo:153" class="idref" href="#lo:153"><span class="id" title="binder">lo</span></a> <a id="e:154" class="idref" href="#e:154"><span class="id" title="binder">e</span></a> <a id="e':155" class="idref" href="#e':155"><span class="id" title="binder">e'</span></a><br/>
&nbsp;&nbsp;(<a id="PRC_STEPS:156" class="idref" href="#PRC_STEPS:156"><span class="id" title="binder">PRC_STEPS</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.prc_step"><span class="id" title="inductive">Thread.prc_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:152"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:153"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:154"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':155"><span class="id" title="variable">e'</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.tau_step"><span class="id" title="definition">Thread.tau_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:152"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:153"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:154"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':155"><span class="id" title="variable">e'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PRC_STEPS</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#prc_steps_is_tau_steps'"><span class="id" title="lemma">prc_steps_is_tau_steps'</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PRC_STEPS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PRC_STEPS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="out_step_is_all_step" class="idref" href="#out_step_is_all_step"><span class="id" title="lemma">out_step_is_all_step</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="lang:157" class="idref" href="#lang:157"><span class="id" title="binder">lang</span></a> <a id="lo:158" class="idref" href="#lo:158"><span class="id" title="binder">lo</span></a> <a id="e:159" class="idref" href="#e:159"><span class="id" title="binder">e</span></a> <a id="e':160" class="idref" href="#e':160"><span class="id" title="binder">e'</span></a> <a id="a:161" class="idref" href="#a:161"><span class="id" title="binder">a</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CompOptCert.Thread.html#Thread.out_step"><span class="id" title="inductive">Thread.out_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:157"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:158"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#a:161"><span class="id" title="variable">a</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:159"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':160"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CompOptCert.Thread.html#Thread.all_step"><span class="id" title="definition">Thread.all_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:157"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:158"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:159"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':160"><span class="id" title="variable">e'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.step_program"><span class="id" title="constructor">Thread.step_program</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="NPAuxThread_tau_step_2_Thread_tau_step" class="idref" href="#NPAuxThread_tau_step_2_Thread_tau_step"><span class="id" title="lemma">NPAuxThread_tau_step_2_Thread_tau_step</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="lang:162" class="idref" href="#lang:162"><span class="id" title="binder">lang</span></a> <a id="lo:163" class="idref" href="#lo:163"><span class="id" title="binder">lo</span></a> <a id="th_npc:164" class="idref" href="#th_npc:164"><span class="id" title="binder">th_npc</span></a> <a id="th_npc':165" class="idref" href="#th_npc':165"><span class="id" title="binder">th_npc'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.tau_step"><span class="id" title="definition">NPAuxThread.tau_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:162"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:163"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#th_npc:164"><span class="id" title="variable">th_npc</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#th_npc':165"><span class="id" title="variable">th_npc'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CompOptCert.Thread.html#Thread.tau_step"><span class="id" title="definition">Thread.tau_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:162"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:163"><span class="id" title="variable">lo</span></a> (<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.state"><span class="id" title="projection">NPAuxThread.state</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:162"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#th_npc:164"><span class="id" title="variable">th_npc</span></a>) (<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.state"><span class="id" title="projection">NPAuxThread.state</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:162"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#th_npc':165"><span class="id" title="variable">th_npc'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.tau_step"><span class="id" title="definition">NPAuxThread.tau_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#na_step_is_tau_step"><span class="id" title="lemma">na_step_is_tau_step</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#at_step_is_tau_step"><span class="id" title="lemma">at_step_is_tau_step</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#prc_step_is_tau_step"><span class="id" title="lemma">prc_step_is_tau_step</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="NPAuxThread_tau_steps_2_Thread_tau_steps" class="idref" href="#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="lang:166" class="idref" href="#lang:166"><span class="id" title="binder">lang</span></a> <a id="lo:167" class="idref" href="#lo:167"><span class="id" title="binder">lo</span></a> <a id="th_npc:168" class="idref" href="#th_npc:168"><span class="id" title="binder">th_npc</span></a> <a id="th_npc':169" class="idref" href="#th_npc':169"><span class="id" title="binder">th_npc'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.tau_step"><span class="id" title="definition">NPAuxThread.tau_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:166"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:167"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#th_npc:168"><span class="id" title="variable">th_npc</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#th_npc':169"><span class="id" title="variable">th_npc'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.tau_step"><span class="id" title="definition">Thread.tau_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:166"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:167"><span class="id" title="variable">lo</span></a>) (<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.state"><span class="id" title="projection">NPAuxThread.state</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:166"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#th_npc:168"><span class="id" title="variable">th_npc</span></a>) (<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.state"><span class="id" title="projection">NPAuxThread.state</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:166"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#th_npc':169"><span class="id" title="variable">th_npc'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_step_2_Thread_tau_step"><span class="id" title="lemma">NPAuxThread_tau_step_2_Thread_tau_step</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Thread_tau_step_is_all_step" class="idref" href="#Thread_tau_step_is_all_step"><span class="id" title="lemma">Thread_tau_step_is_all_step</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="lang:170" class="idref" href="#lang:170"><span class="id" title="binder">lang</span></a> <a id="lo:171" class="idref" href="#lo:171"><span class="id" title="binder">lo</span></a> <a id="e:172" class="idref" href="#e:172"><span class="id" title="binder">e</span></a> <a id="e':173" class="idref" href="#e':173"><span class="id" title="binder">e'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CompOptCert.Thread.html#Thread.tau_step"><span class="id" title="definition">Thread.tau_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:170"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:171"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:172"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':173"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CompOptCert.Thread.html#Thread.all_step"><span class="id" title="definition">Thread.all_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:170"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:171"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:172"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':173"><span class="id" title="variable">e'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Thread_tau_steps_is_all_steps" class="idref" href="#Thread_tau_steps_is_all_steps"><span class="id" title="lemma">Thread_tau_steps_is_all_steps</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="lang:174" class="idref" href="#lang:174"><span class="id" title="binder">lang</span></a> <a id="lo:175" class="idref" href="#lo:175"><span class="id" title="binder">lo</span></a> <a id="e:176" class="idref" href="#e:176"><span class="id" title="binder">e</span></a> <a id="e':177" class="idref" href="#e':177"><span class="id" title="binder">e'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.tau_step"><span class="id" title="definition">Thread.tau_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:174"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:175"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:176"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':177"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.all_step"><span class="id" title="definition">Thread.all_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:174"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:175"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:176"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':177"><span class="id" title="variable">e'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">H</span>; <span class="id" title="var">simpls</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_step_is_all_step"><span class="id" title="lemma">Thread_tau_step_is_all_step</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="NPAuxThread_out_step_is_Thread_program_step" class="idref" href="#NPAuxThread_out_step_is_Thread_program_step"><span class="id" title="lemma">NPAuxThread_out_step_is_Thread_program_step</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="lang:178" class="idref" href="#lang:178"><span class="id" title="binder">lang</span></a> <a id="lo:179" class="idref" href="#lo:179"><span class="id" title="binder">lo</span></a> <a id="e:180" class="idref" href="#e:180"><span class="id" title="binder">e</span></a> <a id="th_npc:181" class="idref" href="#th_npc:181"><span class="id" title="binder">th_npc</span></a> <a id="th_npc':182" class="idref" href="#th_npc':182"><span class="id" title="binder">th_npc'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.out_step"><span class="id" title="definition">NPAuxThread.out_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:178"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:179"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:180"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#th_npc:181"><span class="id" title="variable">th_npc</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#th_npc':182"><span class="id" title="variable">th_npc'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CompOptCert.Thread.html#Thread.all_step"><span class="id" title="definition">Thread.all_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:178"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:179"><span class="id" title="variable">lo</span></a> (<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.state"><span class="id" title="projection">NPAuxThread.state</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:178"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#th_npc:181"><span class="id" title="variable">th_npc</span></a>) (<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.state"><span class="id" title="projection">NPAuxThread.state</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:178"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#th_npc':182"><span class="id" title="variable">th_npc'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#out_step_is_all_step"><span class="id" title="lemma">out_step_is_all_step</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Thread_all_step_is_tau_or_out_step" class="idref" href="#Thread_all_step_is_tau_or_out_step"><span class="id" title="lemma">Thread_all_step_is_tau_or_out_step</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lang:183" class="idref" href="#lang:183"><span class="id" title="binder">lang</span></a> <a id="lo:184" class="idref" href="#lo:184"><span class="id" title="binder">lo</span></a> <a id="e:185" class="idref" href="#e:185"><span class="id" title="binder">e</span></a> <a id="e':186" class="idref" href="#e':186"><span class="id" title="binder">e'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ALL_STEP:187" class="idref" href="#ALL_STEP:187"><span class="id" title="binder">ALL_STEP</span></a>: @<a class="idref" href="CompOptCert.Thread.html#Thread.all_step"><span class="id" title="definition">Thread.all_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:183"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:184"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:185"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':186"><span class="id" title="variable">e'</span></a>):<br/>
&nbsp;&nbsp;@<a class="idref" href="CompOptCert.Thread.html#Thread.tau_step"><span class="id" title="definition">Thread.tau_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:183"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:184"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:185"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':186"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="a:188" class="idref" href="#a:188"><span class="id" title="binder">a</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> @<a class="idref" href="CompOptCert.Thread.html#Thread.out_step"><span class="id" title="inductive">Thread.out_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:183"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:184"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#a:188"><span class="id" title="variable">a</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:185"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':186"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">ALL_STEP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">USTEP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.step_promise"><span class="id" title="constructor">Thread.step_promise</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP0</span>. <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#thread_program_step_is_na_or_at_or_out_step"><span class="id" title="lemma">thread_program_step_is_na_or_at_or_out_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">STEP0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">STEP0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">STEP0</span> | <span class="id" title="var">STEP0</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP0</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">solve</span> [<span class="id" title="tactic">left</span>; <span class="id" title="tactic">econstructor</span>; [<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.step_program"><span class="id" title="constructor">Thread.step_program</span></a>; <span class="id" title="tactic">eauto</span> | <span class="id" title="tactic">eauto</span>]].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">STEP0</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">STEP0</span> | <span class="id" title="var">STEP0</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 (<span class="id" title="tactic">destruct</span> <span class="id" title="var">AT_STEP</span> <span class="id" title="keyword">as</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="var">AT_STEP</span> | <span class="id" title="var">AT_STEP</span>]; [<span class="id" title="var">inv</span> <span class="id" title="var">AT_STEP</span>; <span class="id" title="tactic">econstructor</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.step_program"><span class="id" title="constructor">Thread.step_program</span></a>; <span class="id" title="tactic">eauto</span> | <span class="id" title="tactic">eauto</span>] | <span class="id" title="tactic">idtac</span>]).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">AT_STEP</span>; <span class="id" title="tactic">econstructor</span>; [<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Thread.html#Thread.step_program"><span class="id" title="constructor">Thread.step_program</span></a>; <span class="id" title="tactic">eauto</span> | <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">STEP0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">a</span> &amp; <span class="id" title="var">Hout_step</span> &amp; <span class="id" title="var">Hevent</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">right</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="out_trans" class="idref" href="#out_trans"><span class="id" title="definition">out_trans</span></a> {<a id="lang:189" class="idref" href="#lang:189"><span class="id" title="binder">lang</span></a>: <a class="idref" href="CompOptCert.Language.html#language"><span class="id" title="definition">language</span></a>} (<a id="lo:190" class="idref" href="#lo:190"><span class="id" title="binder">lo</span></a>: <a class="idref" href="CompOptCert.Event.html#Ordering.LocOrdMap"><span class="id" title="definition">Ordering.LocOrdMap</span></a>) (<a id="e:191" class="idref" href="#e:191"><span class="id" title="binder">e</span></a> <a id="e':192" class="idref" href="#e':192"><span class="id" title="binder">e'</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.t"><span class="id" title="record">Thread.t</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:189"><span class="id" title="variable">lang</span></a>) :=<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#c02b6b01c62ddee8aaf402f63f978cd2"><span class="id" title="notation">∃</span></a> <a id="e0:193" class="idref" href="#e0:193"><span class="id" title="binder">e0</span></a> <a id="a:194" class="idref" href="#a:194"><span class="id" title="binder">a</span></a><a class="idref" href="CompOptCert.LibTactics.html#c02b6b01c62ddee8aaf402f63f978cd2"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.tau_step"><span class="id" title="definition">Thread.tau_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:189"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:190"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:191"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e0:193"><span class="id" title="variable">e0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> @<a class="idref" href="CompOptCert.Thread.html#Thread.out_step"><span class="id" title="inductive">Thread.out_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:189"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:190"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#a:194"><span class="id" title="variable">a</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e0:193"><span class="id" title="variable">e0</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':192"><span class="id" title="variable">e'</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Thread_all_steps_to_out_trans" class="idref" href="#Thread_all_steps_to_out_trans"><span class="id" title="lemma">Thread_all_steps_to_out_trans</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:195" class="idref" href="#n:195"><span class="id" title="binder">n</span></a> <a id="lang:196" class="idref" href="#lang:196"><span class="id" title="binder">lang</span></a> <a id="lo:197" class="idref" href="#lo:197"><span class="id" title="binder">lo</span></a> <a id="e:198" class="idref" href="#e:198"><span class="id" title="binder">e</span></a> <a id="e':199" class="idref" href="#e':199"><span class="id" title="binder">e'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ALL_STEPS:200" class="idref" href="#ALL_STEPS:200"><span class="id" title="binder">ALL_STEPS</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtcn"><span class="id" title="inductive">rtcn</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.all_step"><span class="id" title="definition">Thread.all_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:196"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:197"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#n:195"><span class="id" title="variable">n</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:198"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':199"><span class="id" title="variable">e'</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="e0:201" class="idref" href="#e0:201"><span class="id" title="binder">e0</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.ps_to_np_thread.html#out_trans"><span class="id" title="definition">out_trans</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:196"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:197"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:198"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e0:201"><span class="id" title="variable">e0</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.tau_step"><span class="id" title="definition">Thread.tau_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:196"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:197"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#e0:201"><span class="id" title="variable">e0</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':199"><span class="id" title="variable">e'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">ALL_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">ALL_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_all_step_is_tau_or_out_step"><span class="id" title="lemma">Thread_all_step_is_tau_or_out_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A12</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">A23</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e0</span> &amp; <span class="id" title="var">Hout_trans</span> &amp; <span class="id" title="var">Htau_steps</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">A12</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hout_trans</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e0</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">idtac</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">Htau_steps</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="CompOptCert.ps_to_np_thread.html#out_trans"><span class="id" title="definition">out_trans</span></a> <span class="id" title="var">lo</span> <span class="id" title="var">e</span> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">H</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H1</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">a</span> &amp; <span class="id" title="var">Htau_steps</span> &amp; <span class="id" title="var">Hout_step</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hout_step</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [<span class="id" title="tactic">idtac</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">H1</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">a</span> &amp; <span class="id" title="var">Hout_step</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [<span class="id" title="tactic">idtac</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hout_trans</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#out_trans"><span class="id" title="definition">out_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="out_trans_to_np_configuration_step" class="idref" href="#out_trans_to_np_configuration_step"><span class="id" title="lemma">out_trans_to_np_configuration_step</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="lo:202" class="idref" href="#lo:202"><span class="id" title="binder">lo</span></a> <a id="lang:203" class="idref" href="#lang:203"><span class="id" title="binder">lang</span></a> <a id="st:204" class="idref" href="#st:204"><span class="id" title="binder">st</span></a> <a id="lc:205" class="idref" href="#lc:205"><span class="id" title="binder">lc</span></a> <a id="sc:206" class="idref" href="#sc:206"><span class="id" title="binder">sc</span></a> <a id="mem:207" class="idref" href="#mem:207"><span class="id" title="binder">mem</span></a> <a id="st':208" class="idref" href="#st':208"><span class="id" title="binder">st'</span></a> <a id="lc':209" class="idref" href="#lc':209"><span class="id" title="binder">lc'</span></a> <a id="sc':210" class="idref" href="#sc':210"><span class="id" title="binder">sc'</span></a> <a id="mem':211" class="idref" href="#mem':211"><span class="id" title="binder">mem'</span></a> <a id="tid:212" class="idref" href="#tid:212"><span class="id" title="binder">tid</span></a> <a id="ths:213" class="idref" href="#ths:213"><span class="id" title="binder">ths</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="OUT_TRANS:214" class="idref" href="#OUT_TRANS:214"><span class="id" title="binder">OUT_TRANS</span></a>: @<a class="idref" href="CompOptCert.ps_to_np_thread.html#out_trans"><span class="id" title="definition">out_trans</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:203"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:202"><span class="id" title="variable">lo</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:203"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#st:204"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lc:205"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#sc:206"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#mem:207"><span class="id" title="variable">mem</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:203"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#st':208"><span class="id" title="variable">st'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lc':209"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#sc':210"><span class="id" title="variable">sc'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#mem':211"><span class="id" title="variable">mem'</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="TH:215" class="idref" href="#TH:215"><span class="id" title="binder">TH</span></a>: <a class="idref" href="CompOptCert.Basic.html#IdentMap.find"><span class="id" title="definition">IdentMap.find</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#tid:212"><span class="id" title="variable">tid</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#ths:213"><span class="id" title="variable">ths</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:203"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#st:204"><span class="id" title="variable">st</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lc:205"><span class="id" title="variable">lc</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#dbf98c592cb9e01772eaad2e05dfa946"><span class="id" title="notation">∃</span></a> <a id="st0:216" class="idref" href="#st0:216"><span class="id" title="binder">st0</span></a> <a id="lc0:217" class="idref" href="#lc0:217"><span class="id" title="binder">lc0</span></a> <a id="sc0:218" class="idref" href="#sc0:218"><span class="id" title="binder">sc0</span></a> <a id="mem0:219" class="idref" href="#mem0:219"><span class="id" title="binder">mem0</span></a> <a id="e:220" class="idref" href="#e:220"><span class="id" title="binder">e</span></a> <a id="b:221" class="idref" href="#b:221"><span class="id" title="binder">b</span></a><a class="idref" href="CompOptCert.LibTactics.html#dbf98c592cb9e01772eaad2e05dfa946"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.tau_step"><span class="id" title="inductive">NPConfiguration.tau_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:202"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.mk"><span class="id" title="constructor">NPConfiguration.mk</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#ths:213"><span class="id" title="variable">ths</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#tid:212"><span class="id" title="variable">tid</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#sc:206"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#mem:207"><span class="id" title="variable">mem</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.mk"><span class="id" title="constructor">NPConfiguration.mk</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> (<a class="idref" href="CompOptCert.Basic.html#IdentMap.add"><span class="id" title="definition">IdentMap.add</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#tid:212"><span class="id" title="variable">tid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:203"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#st0:216"><span class="id" title="variable">st0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lc0:217"><span class="id" title="variable">lc0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#ths:213"><span class="id" title="variable">ths</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#tid:212"><span class="id" title="variable">tid</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#sc0:218"><span class="id" title="variable">sc0</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#mem0:219"><span class="id" title="variable">mem0</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#b:221"><span class="id" title="variable">b</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step"><span class="id" title="inductive">NPConfiguration.step</span></a> (<a class="idref" href="CompOptCert.Event.html#MachineEvent.syscall"><span class="id" title="constructor">MachineEvent.syscall</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:220"><span class="id" title="variable">e</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:202"><span class="id" title="variable">lo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.mk"><span class="id" title="constructor">NPConfiguration.mk</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> (<a class="idref" href="CompOptCert.Basic.html#IdentMap.add"><span class="id" title="definition">IdentMap.add</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#tid:212"><span class="id" title="variable">tid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:203"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#st0:216"><span class="id" title="variable">st0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lc0:217"><span class="id" title="variable">lc0</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#ths:213"><span class="id" title="variable">ths</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#tid:212"><span class="id" title="variable">tid</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#sc0:218"><span class="id" title="variable">sc0</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#mem0:219"><span class="id" title="variable">mem0</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#b:221"><span class="id" title="variable">b</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.mk"><span class="id" title="constructor">NPConfiguration.mk</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> (<a class="idref" href="CompOptCert.Basic.html#IdentMap.add"><span class="id" title="definition">IdentMap.add</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#tid:212"><span class="id" title="variable">tid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:203"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#st':208"><span class="id" title="variable">st'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lc':209"><span class="id" title="variable">lc'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#ths:213"><span class="id" title="variable">ths</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#tid:212"><span class="id" title="variable">tid</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#sc':210"><span class="id" title="variable">sc'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#mem':211"><span class="id" title="variable">mem'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#out_trans"><span class="id" title="definition">out_trans</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">OUT_TRANS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">OUT_TRANS</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e0</span> &amp; <span class="id" title="var">a</span> &amp; <span class="id" title="var">TAU_STEPS</span> &amp; <span class="id" title="var">OUT_STEP</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hempty_prm</span>: <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <span class="id" title="var">e0</span>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">OUT_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">OUT_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">OUT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL0</span>. <span class="id" title="var">simpls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hempty_prm</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hempty_prm</span> &amp; <span class="id" title="var">Hempty_prm2</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#cons_np_steps_from_p_steps_outatmblk"><span class="id" title="lemma">cons_np_steps_from_p_steps_outatmblk</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TAU_STEPS</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">TAU_STEPS</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">b</span> &amp; <span class="id" title="var">NP_THRD_TAU_STEPS</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_tail"><span class="id" title="lemma">rtc_tail</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_THRD_TAU_STEPS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">NP_THRD_TAU_STEPS</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">NP_THRD_TAU_STEPS</span> | <span class="id" title="var">NP_THRD_TAU_STEPS</span>].<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">NP_THRD_TAU_STEPS</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e</span> &amp; <span class="id" title="var">TAU_STEPS</span> &amp; <span class="id" title="var">HTAU_STEP</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span>; <span class="id" title="var">simpls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e0</span>; <span class="id" title="var">simpls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">state0</span> <span class="id" title="var">local</span> <span class="id" title="var">sc0</span> <span class="id" title="var">memory</span> <span class="id" title="var">a</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_tau"><span class="id" title="constructor">NPConfiguration.step_tau</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">thrd_conf1'</span> := {| <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.state"><span class="id" title="projection">NPAuxThread.state</span></a> := <span class="id" title="var">state</span>; <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.preempt"><span class="id" title="projection">NPAuxThread.preempt</span></a> := <span class="id" title="var">preempt</span> |}); <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intro</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_out"><span class="id" title="constructor">NPConfiguration.step_out</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.add_add_eq"><span class="id" title="lemma">IdentMap.add_add_eq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">NP_THRD_TAU_STEPS</span>. <span class="id" title="var">simpls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">st</span> <span class="id" title="var">lc</span> <span class="id" title="var">sc</span> <span class="id" title="var">mem</span> <span class="id" title="var">a</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gsident"><span class="id" title="lemma">IdentMap.gsident</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_out"><span class="id" title="constructor">NPConfiguration.step_out</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gsident"><span class="id" title="lemma">IdentMap.gsident</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.out_step"><span class="id" title="definition">NPAuxThread.out_step</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">simpls</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.add_add_eq"><span class="id" title="lemma">IdentMap.add_add_eq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="NPConfig_tau_step_is_all_step" class="idref" href="#NPConfig_tau_step_is_all_step"><span class="id" title="lemma">NPConfig_tau_step_is_all_step</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="lo:222" class="idref" href="#lo:222"><span class="id" title="binder">lo</span></a> <a id="npc:223" class="idref" href="#npc:223"><span class="id" title="binder">npc</span></a> <a id="npc':224" class="idref" href="#npc':224"><span class="id" title="binder">npc'</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="TAU_STEP:225" class="idref" href="#TAU_STEP:225"><span class="id" title="binder">TAU_STEP</span></a>: (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.tau_step"><span class="id" title="inductive">NPConfiguration.tau_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:222"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#npc:223"><span class="id" title="variable">npc</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#npc':224"><span class="id" title="variable">npc'</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.all_step"><span class="id" title="inductive">NPConfiguration.all_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:222"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#npc:223"><span class="id" title="variable">npc</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#npc':224"><span class="id" title="variable">npc'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">TAU_STEP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="NPConfig_tau_steps_is_all_steps" class="idref" href="#NPConfig_tau_steps_is_all_steps"><span class="id" title="lemma">NPConfig_tau_steps_is_all_steps</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="lo:226" class="idref" href="#lo:226"><span class="id" title="binder">lo</span></a> <a id="npc:227" class="idref" href="#npc:227"><span class="id" title="binder">npc</span></a> <a id="npc':228" class="idref" href="#npc':228"><span class="id" title="binder">npc'</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="TAU_STEPS:229" class="idref" href="#TAU_STEPS:229"><span class="id" title="binder">TAU_STEPS</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.tau_step"><span class="id" title="inductive">NPConfiguration.tau_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:226"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#npc:227"><span class="id" title="variable">npc</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#npc':228"><span class="id" title="variable">npc'</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.all_step"><span class="id" title="inductive">NPConfiguration.all_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:226"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#npc:227"><span class="id" title="variable">npc</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#npc':228"><span class="id" title="variable">npc'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">TAU_STEPS</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPConfig_tau_step_is_all_step"><span class="id" title="lemma">NPConfig_tau_step_is_all_step</span></a>; <span class="id" title="tactic">eauto</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHTAU_STEPS</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="multi_out_trans_to_np_configuration_steps" class="idref" href="#multi_out_trans_to_np_configuration_steps"><span class="id" title="lemma">multi_out_trans_to_np_configuration_steps</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:230" class="idref" href="#n:230"><span class="id" title="binder">n</span></a> <a id="lo:231" class="idref" href="#lo:231"><span class="id" title="binder">lo</span></a> <a id="lang:232" class="idref" href="#lang:232"><span class="id" title="binder">lang</span></a> <a id="st:233" class="idref" href="#st:233"><span class="id" title="binder">st</span></a> <a id="lc:234" class="idref" href="#lc:234"><span class="id" title="binder">lc</span></a> <a id="sc:235" class="idref" href="#sc:235"><span class="id" title="binder">sc</span></a> <a id="mem:236" class="idref" href="#mem:236"><span class="id" title="binder">mem</span></a> <a id="st':237" class="idref" href="#st':237"><span class="id" title="binder">st'</span></a> <a id="lc':238" class="idref" href="#lc':238"><span class="id" title="binder">lc'</span></a> <a id="sc':239" class="idref" href="#sc':239"><span class="id" title="binder">sc'</span></a> <a id="mem':240" class="idref" href="#mem':240"><span class="id" title="binder">mem'</span></a> <a id="tid:241" class="idref" href="#tid:241"><span class="id" title="binder">tid</span></a> <a id="ths:242" class="idref" href="#ths:242"><span class="id" title="binder">ths</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="OUT_TRANS:243" class="idref" href="#OUT_TRANS:243"><span class="id" title="binder">OUT_TRANS</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtcn"><span class="id" title="inductive">rtcn</span></a> (@<a class="idref" href="CompOptCert.ps_to_np_thread.html#out_trans"><span class="id" title="definition">out_trans</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:232"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:231"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#n:230"><span class="id" title="variable">n</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:232"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#st:233"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lc:234"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#sc:235"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#mem:236"><span class="id" title="variable">mem</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:232"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#st':237"><span class="id" title="variable">st'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lc':238"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#sc':239"><span class="id" title="variable">sc'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#mem':240"><span class="id" title="variable">mem'</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="TH:244" class="idref" href="#TH:244"><span class="id" title="binder">TH</span></a>: <a class="idref" href="CompOptCert.Basic.html#IdentMap.find"><span class="id" title="definition">IdentMap.find</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#tid:241"><span class="id" title="variable">tid</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#ths:242"><span class="id" title="variable">ths</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:232"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#st:233"><span class="id" title="variable">st</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lc:234"><span class="id" title="variable">lc</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.all_step"><span class="id" title="inductive">NPConfiguration.all_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:231"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.mk"><span class="id" title="constructor">NPConfiguration.mk</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#ths:242"><span class="id" title="variable">ths</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#tid:241"><span class="id" title="variable">tid</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#sc:235"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#mem:236"><span class="id" title="variable">mem</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.mk"><span class="id" title="constructor">NPConfiguration.mk</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> (<a class="idref" href="CompOptCert.Basic.html#IdentMap.add"><span class="id" title="definition">IdentMap.add</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#tid:241"><span class="id" title="variable">tid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:232"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#st':237"><span class="id" title="variable">st'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lc':238"><span class="id" title="variable">lc'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#ths:242"><span class="id" title="variable">ths</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#tid:241"><span class="id" title="variable">tid</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#sc':239"><span class="id" title="variable">sc'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#mem':240"><span class="id" title="variable">mem'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;-  <span class="id" title="var">inv</span> <span class="id" title="var">OUT_TRANS</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gsident"><span class="id" title="lemma">IdentMap.gsident</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">OUT_TRANS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">ths</span> := <a class="idref" href="CompOptCert.Basic.html#IdentMap.add"><span class="id" title="definition">IdentMap.add</span></a> <span class="id" title="var">tid</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <span class="id" title="var">lang</span> <span class="id" title="var">state</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">local</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">ths</span>) (<span class="id" title="var">tid</span> := <span class="id" title="var">tid</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#out_trans_to_np_configuration_step"><span class="id" title="lemma">out_trans_to_np_configuration_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A12</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">A12</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">st0</span> &amp; <span class="id" title="var">lc0</span> &amp; <span class="id" title="var">sc1</span> &amp; <span class="id" title="var">mem0</span> &amp; <span class="id" title="var">e</span> &amp; <span class="id" title="var">b</span> &amp; <span class="id" title="var">TAU_STEPS</span> &amp; <span class="id" title="var">OUT_STEP</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPConfig_tau_steps_is_all_steps"><span class="id" title="lemma">NPConfig_tau_steps_is_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TAU_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">TAU_STEPS</span> | <span class="id" title="tactic">idtac</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eapply</span> <span class="id" title="var">OUT_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.add_add_eq"><span class="id" title="lemma">IdentMap.add_add_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="Thread_tau_steps_to_np_configuration_step" class="idref" href="#Thread_tau_steps_to_np_configuration_step"><span class="id" title="lemma">Thread_tau_steps_to_np_configuration_step</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="lo:245" class="idref" href="#lo:245"><span class="id" title="binder">lo</span></a> <a id="lang:246" class="idref" href="#lang:246"><span class="id" title="binder">lang</span></a> <a id="st:247" class="idref" href="#st:247"><span class="id" title="binder">st</span></a> <a id="lc:248" class="idref" href="#lc:248"><span class="id" title="binder">lc</span></a> <a id="sc:249" class="idref" href="#sc:249"><span class="id" title="binder">sc</span></a> <a id="mem:250" class="idref" href="#mem:250"><span class="id" title="binder">mem</span></a> <a id="st':251" class="idref" href="#st':251"><span class="id" title="binder">st'</span></a> <a id="lc':252" class="idref" href="#lc':252"><span class="id" title="binder">lc'</span></a> <a id="sc':253" class="idref" href="#sc':253"><span class="id" title="binder">sc'</span></a> <a id="mem':254" class="idref" href="#mem':254"><span class="id" title="binder">mem'</span></a> <a id="tid:255" class="idref" href="#tid:255"><span class="id" title="binder">tid</span></a> <a id="ths:256" class="idref" href="#ths:256"><span class="id" title="binder">ths</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="TAU_STEPS:257" class="idref" href="#TAU_STEPS:257"><span class="id" title="binder">TAU_STEPS</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.tau_step"><span class="id" title="definition">Thread.tau_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:246"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:245"><span class="id" title="variable">lo</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:246"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#st:247"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lc:248"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#sc:249"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#mem:250"><span class="id" title="variable">mem</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:246"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#st':251"><span class="id" title="variable">st'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lc':252"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#sc':253"><span class="id" title="variable">sc'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#mem':254"><span class="id" title="variable">mem'</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="TH:258" class="idref" href="#TH:258"><span class="id" title="binder">TH</span></a>: <a class="idref" href="CompOptCert.Basic.html#IdentMap.find"><span class="id" title="definition">IdentMap.find</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#tid:255"><span class="id" title="variable">tid</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#ths:256"><span class="id" title="variable">ths</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:246"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#st:247"><span class="id" title="variable">st</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lc:248"><span class="id" title="variable">lc</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CONSISTENT:259" class="idref" href="#CONSISTENT:259"><span class="id" title="binder">CONSISTENT</span></a>: <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:246"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#st':251"><span class="id" title="variable">st'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lc':252"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#sc':253"><span class="id" title="variable">sc'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#mem':254"><span class="id" title="variable">mem'</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:245"><span class="id" title="variable">lo</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="b:260" class="idref" href="#b:260"><span class="id" title="binder">b</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.all_step"><span class="id" title="inductive">NPConfiguration.all_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:245"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.mk"><span class="id" title="constructor">NPConfiguration.mk</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#ths:256"><span class="id" title="variable">ths</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#tid:255"><span class="id" title="variable">tid</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#sc:249"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#mem:250"><span class="id" title="variable">mem</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.mk"><span class="id" title="constructor">NPConfiguration.mk</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> (<a class="idref" href="CompOptCert.Basic.html#IdentMap.add"><span class="id" title="definition">IdentMap.add</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#tid:255"><span class="id" title="variable">tid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:246"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#st':251"><span class="id" title="variable">st'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lc':252"><span class="id" title="variable">lc'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#ths:256"><span class="id" title="variable">ths</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#tid:255"><span class="id" title="variable">tid</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#sc':253"><span class="id" title="variable">sc'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#mem':254"><span class="id" title="variable">mem'</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#b:260"><span class="id" title="variable">b</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#cons_np_steps_from_p_steps_outatmblk"><span class="id" title="lemma">cons_np_steps_from_p_steps_outatmblk</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TAU_STEPS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">TAU_STEPS</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">b</span> &amp; <span class="id" title="var">TAU_STEPS</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_tail"><span class="id" title="lemma">rtc_tail</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TAU_STEPS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">TAU_STEPS</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">TAU_STEPS</span> | <span class="id" title="var">TAU_STEPS</span>].<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">TAU_STEPS</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e</span> &amp; <span class="id" title="var">TAU_STEPS</span> &amp; <span class="id" title="var">TAU_STEP</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>; [<span class="id" title="tactic">idtac</span> | <span class="id" title="tactic">eauto</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_tau"><span class="id" title="constructor">NPConfiguration.step_tau</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">thrd_conf1'</span> := {| <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.state"><span class="id" title="projection">NPAuxThread.state</span></a> := <span class="id" title="var">state</span>; <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.preempt"><span class="id" title="projection">NPAuxThread.preempt</span></a> := <span class="id" title="var">preempt</span> |}); <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">TAU_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gsident"><span class="id" title="lemma">IdentMap.gsident</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="thread_all_step_to_NPConfiguration_all_step_from_outAtmBlk" class="idref" href="#thread_all_step_to_NPConfiguration_all_step_from_outAtmBlk"><span class="id" title="lemma">thread_all_step_to_NPConfiguration_all_step_from_outAtmBlk</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="lo:261" class="idref" href="#lo:261"><span class="id" title="binder">lo</span></a> <a id="lang:262" class="idref" href="#lang:262"><span class="id" title="binder">lang</span></a> <a id="st:263" class="idref" href="#st:263"><span class="id" title="binder">st</span></a> <a id="lc:264" class="idref" href="#lc:264"><span class="id" title="binder">lc</span></a> <a id="sc:265" class="idref" href="#sc:265"><span class="id" title="binder">sc</span></a> <a id="mem:266" class="idref" href="#mem:266"><span class="id" title="binder">mem</span></a> <a id="st':267" class="idref" href="#st':267"><span class="id" title="binder">st'</span></a> <a id="lc':268" class="idref" href="#lc':268"><span class="id" title="binder">lc'</span></a> <a id="sc':269" class="idref" href="#sc':269"><span class="id" title="binder">sc'</span></a> <a id="mem':270" class="idref" href="#mem':270"><span class="id" title="binder">mem'</span></a> <a id="tid:271" class="idref" href="#tid:271"><span class="id" title="binder">tid</span></a> <a id="ths:272" class="idref" href="#ths:272"><span class="id" title="binder">ths</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="STEPS:273" class="idref" href="#STEPS:273"><span class="id" title="binder">STEPS</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.all_step"><span class="id" title="definition">Thread.all_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:262"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:261"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:262"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#st:263"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lc:264"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#sc:265"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#mem:266"><span class="id" title="variable">mem</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:262"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#st':267"><span class="id" title="variable">st'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lc':268"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#sc':269"><span class="id" title="variable">sc'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#mem':270"><span class="id" title="variable">mem'</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="TH:274" class="idref" href="#TH:274"><span class="id" title="binder">TH</span></a>: <a class="idref" href="CompOptCert.Basic.html#IdentMap.find"><span class="id" title="definition">IdentMap.find</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#tid:271"><span class="id" title="variable">tid</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#ths:272"><span class="id" title="variable">ths</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:262"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#st:263"><span class="id" title="variable">st</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lc:264"><span class="id" title="variable">lc</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CONSISTENT:275" class="idref" href="#CONSISTENT:275"><span class="id" title="binder">CONSISTENT</span></a>: <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:262"><span class="id" title="variable">lang</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:262"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#st':267"><span class="id" title="variable">st'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lc':268"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#sc':269"><span class="id" title="variable">sc'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#mem':270"><span class="id" title="variable">mem'</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:261"><span class="id" title="variable">lo</span></a>),<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="b':276" class="idref" href="#b':276"><span class="id" title="binder">b'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.all_step"><span class="id" title="inductive">NPConfiguration.all_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:261"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.mk"><span class="id" title="constructor">NPConfiguration.mk</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#ths:272"><span class="id" title="variable">ths</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#tid:271"><span class="id" title="variable">tid</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#sc:265"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#mem:266"><span class="id" title="variable">mem</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.mk"><span class="id" title="constructor">NPConfiguration.mk</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> (<a class="idref" href="CompOptCert.Basic.html#IdentMap.add"><span class="id" title="definition">IdentMap.add</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#tid:271"><span class="id" title="variable">tid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:262"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#st':267"><span class="id" title="variable">st'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lc':268"><span class="id" title="variable">lc'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#ths:272"><span class="id" title="variable">ths</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#tid:271"><span class="id" title="variable">tid</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#sc':269"><span class="id" title="variable">sc'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#mem':270"><span class="id" title="variable">mem'</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#b':276"><span class="id" title="variable">b'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">STEPS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">STEPS</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">n</span> &amp; <span class="id" title="var">STEPS</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_all_steps_to_out_trans"><span class="id" title="lemma">Thread_all_steps_to_out_trans</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">STEPS</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">STEPS</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e0</span> &amp; <span class="id" title="var">Hout_trans</span> &amp; <span class="id" title="var">Htau_steps</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hout_trans</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hout_trans</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">n1</span> &amp; <span class="id" title="var">Hout_trans</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#multi_out_trans_to_np_configuration_steps"><span class="id" title="lemma">multi_out_trans_to_np_configuration_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hout_trans</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_tau_steps_to_np_configuration_step"><span class="id" title="lemma">Thread_tau_steps_to_np_configuration_step</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">ths</span> := <a class="idref" href="CompOptCert.Basic.html#IdentMap.add"><span class="id" title="definition">IdentMap.add</span></a> <span class="id" title="var">tid</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <a class="idref" href="CompOptCert.Language.html#Language.state"><span class="id" title="projection">Language.state</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">state</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">local</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">ths</span>) (<span class="id" title="var">tid</span> := <span class="id" title="var">tid</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">Htau_steps</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Htau_steps</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">b</span> &amp; <span class="id" title="var">Htau_steps</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">b</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hout_trans</span> | <span class="id" title="tactic">idtac</span>].<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.add_add_eq"><span class="id" title="lemma">IdentMap.add_add_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Htau_steps</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="NPThread_tau_step_is_NPThread_all_step" class="idref" href="#NPThread_tau_step_is_NPThread_all_step"><span class="id" title="lemma">NPThread_tau_step_is_NPThread_all_step</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lang:277" class="idref" href="#lang:277"><span class="id" title="binder">lang</span></a> <a id="lo:278" class="idref" href="#lo:278"><span class="id" title="binder">lo</span></a> <a id="e:279" class="idref" href="#e:279"><span class="id" title="binder">e</span></a> <a id="b:280" class="idref" href="#b:280"><span class="id" title="binder">b</span></a> <a id="e':281" class="idref" href="#e':281"><span class="id" title="binder">e'</span></a> <a id="b':282" class="idref" href="#b':282"><span class="id" title="binder">b'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="TAU_STEP:283" class="idref" href="#TAU_STEP:283"><span class="id" title="binder">TAU_STEP</span></a>: <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.tau_step"><span class="id" title="definition">NPAuxThread.tau_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:277"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:278"><span class="id" title="variable">lo</span></a> (<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.mk"><span class="id" title="constructor">NPAuxThread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:277"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:279"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#b:280"><span class="id" title="variable">b</span></a>) (<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.mk"><span class="id" title="constructor">NPAuxThread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:277"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':281"><span class="id" title="variable">e'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#b':282"><span class="id" title="variable">b'</span></a>)):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.all_step"><span class="id" title="definition">NPAuxThread.all_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:277"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:278"><span class="id" title="variable">lo</span></a> (<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.mk"><span class="id" title="constructor">NPAuxThread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:277"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:279"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#b:280"><span class="id" title="variable">b</span></a>) (<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.mk"><span class="id" title="constructor">NPAuxThread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:277"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':281"><span class="id" title="variable">e'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#b':282"><span class="id" title="variable">b'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="NPThread_tau_steps_is_NPThread_all_steps" class="idref" href="#NPThread_tau_steps_is_NPThread_all_steps"><span class="id" title="lemma">NPThread_tau_steps_is_NPThread_all_steps</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lang:284" class="idref" href="#lang:284"><span class="id" title="binder">lang</span></a> <a id="lo:285" class="idref" href="#lo:285"><span class="id" title="binder">lo</span></a> <a id="e:286" class="idref" href="#e:286"><span class="id" title="binder">e</span></a> <a id="b:287" class="idref" href="#b:287"><span class="id" title="binder">b</span></a> <a id="e':288" class="idref" href="#e':288"><span class="id" title="binder">e'</span></a> <a id="b':289" class="idref" href="#b':289"><span class="id" title="binder">b'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="TAU_STEPS:290" class="idref" href="#TAU_STEPS:290"><span class="id" title="binder">TAU_STEPS</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.tau_step"><span class="id" title="definition">NPAuxThread.tau_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:284"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:285"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.mk"><span class="id" title="constructor">NPAuxThread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:284"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:286"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#b:287"><span class="id" title="variable">b</span></a>) (<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.mk"><span class="id" title="constructor">NPAuxThread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:284"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':288"><span class="id" title="variable">e'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#b':289"><span class="id" title="variable">b'</span></a>)):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.all_step"><span class="id" title="definition">NPAuxThread.all_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:284"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:285"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.mk"><span class="id" title="constructor">NPAuxThread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:284"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:286"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#b:287"><span class="id" title="variable">b</span></a>) (<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.mk"><span class="id" title="constructor">NPAuxThread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:284"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':288"><span class="id" title="variable">e'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#b':289"><span class="id" title="variable">b'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">TAU_STEPS</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPThread_tau_step_is_NPThread_all_step"><span class="id" title="lemma">NPThread_tau_step_is_NPThread_all_step</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">y</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHTAU_STEPS</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="out_trans_to_NPThread_all_steps" class="idref" href="#out_trans_to_NPThread_all_steps"><span class="id" title="lemma">out_trans_to_NPThread_all_steps</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="lo:291" class="idref" href="#lo:291"><span class="id" title="binder">lo</span></a> <a id="lang:292" class="idref" href="#lang:292"><span class="id" title="binder">lang</span></a> <a id="st:293" class="idref" href="#st:293"><span class="id" title="binder">st</span></a> <a id="lc:294" class="idref" href="#lc:294"><span class="id" title="binder">lc</span></a> <a id="sc:295" class="idref" href="#sc:295"><span class="id" title="binder">sc</span></a> <a id="mem:296" class="idref" href="#mem:296"><span class="id" title="binder">mem</span></a> <a id="st':297" class="idref" href="#st':297"><span class="id" title="binder">st'</span></a> <a id="lc':298" class="idref" href="#lc':298"><span class="id" title="binder">lc'</span></a> <a id="sc':299" class="idref" href="#sc':299"><span class="id" title="binder">sc'</span></a> <a id="mem':300" class="idref" href="#mem':300"><span class="id" title="binder">mem'</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="OUT_TRANS:301" class="idref" href="#OUT_TRANS:301"><span class="id" title="binder">OUT_TRANS</span></a>: @<a class="idref" href="CompOptCert.ps_to_np_thread.html#out_trans"><span class="id" title="definition">out_trans</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:292"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:291"><span class="id" title="variable">lo</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:292"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#st:293"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lc:294"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#sc:295"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#mem:296"><span class="id" title="variable">mem</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:292"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#st':297"><span class="id" title="variable">st'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lc':298"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#sc':299"><span class="id" title="variable">sc'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#mem':300"><span class="id" title="variable">mem'</span></a>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.all_step"><span class="id" title="definition">NPAuxThread.all_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:292"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:291"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.mk"><span class="id" title="constructor">NPAuxThread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:292"><span class="id" title="variable">lang</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:292"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#st:293"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lc:294"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#sc:295"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#mem:296"><span class="id" title="variable">mem</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.mk"><span class="id" title="constructor">NPAuxThread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:292"><span class="id" title="variable">lang</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:292"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#st':297"><span class="id" title="variable">st'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lc':298"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#sc':299"><span class="id" title="variable">sc'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#mem':300"><span class="id" title="variable">mem'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">OUT_TRANS</span>. <span class="id" title="var">des</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#cons_np_steps_from_p_steps_outatmblk"><span class="id" title="lemma">cons_np_steps_from_p_steps_outatmblk</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPThread_tau_steps_is_NPThread_all_steps"><span class="id" title="lemma">NPThread_tau_steps_is_NPThread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_n1"><span class="id" title="lemma">rtc_n1</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.all_step"><span class="id" title="definition">NPAuxThread.all_step</span></a>. <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">e</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="multi_out_trans_to_NPThread_steps" class="idref" href="#multi_out_trans_to_NPThread_steps"><span class="id" title="lemma">multi_out_trans_to_NPThread_steps</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="n:302" class="idref" href="#n:302"><span class="id" title="binder">n</span></a> <a id="lo:303" class="idref" href="#lo:303"><span class="id" title="binder">lo</span></a> <a id="lang:304" class="idref" href="#lang:304"><span class="id" title="binder">lang</span></a> <a id="st:305" class="idref" href="#st:305"><span class="id" title="binder">st</span></a> <a id="lc:306" class="idref" href="#lc:306"><span class="id" title="binder">lc</span></a> <a id="sc:307" class="idref" href="#sc:307"><span class="id" title="binder">sc</span></a> <a id="mem:308" class="idref" href="#mem:308"><span class="id" title="binder">mem</span></a> <a id="st':309" class="idref" href="#st':309"><span class="id" title="binder">st'</span></a> <a id="lc':310" class="idref" href="#lc':310"><span class="id" title="binder">lc'</span></a> <a id="sc':311" class="idref" href="#sc':311"><span class="id" title="binder">sc'</span></a> <a id="mem':312" class="idref" href="#mem':312"><span class="id" title="binder">mem'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="OUT_TRANS:313" class="idref" href="#OUT_TRANS:313"><span class="id" title="binder">OUT_TRANS</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtcn"><span class="id" title="inductive">rtcn</span></a> (@<a class="idref" href="CompOptCert.ps_to_np_thread.html#out_trans"><span class="id" title="definition">out_trans</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:304"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:303"><span class="id" title="variable">lo</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#n:302"><span class="id" title="variable">n</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:304"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#st:305"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lc:306"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#sc:307"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#mem:308"><span class="id" title="variable">mem</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:304"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#st':309"><span class="id" title="variable">st'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lc':310"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#sc':311"><span class="id" title="variable">sc'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#mem':312"><span class="id" title="variable">mem'</span></a>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.all_step"><span class="id" title="definition">NPAuxThread.all_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:304"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:303"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.mk"><span class="id" title="constructor">NPAuxThread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:304"><span class="id" title="variable">lang</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:304"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#st:305"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lc:306"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#sc:307"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#mem:308"><span class="id" title="variable">mem</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.mk"><span class="id" title="constructor">NPAuxThread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:304"><span class="id" title="variable">lang</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:304"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#st':309"><span class="id" title="variable">st'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lc':310"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#sc':311"><span class="id" title="variable">sc'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#mem':312"><span class="id" title="variable">mem'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;-  <span class="id" title="var">inv</span> <span class="id" title="var">OUT_TRANS</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">inv</span> <span class="id" title="var">OUT_TRANS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">a2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">IHn</span> <span class="id" title="tactic">in</span> <span class="id" title="var">A23</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#out_trans_to_NPThread_all_steps"><span class="id" title="lemma">out_trans_to_NPThread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">A12</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">A12</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">A23</span>].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="thread_all_step_to_NPThread_all_steps_from_outAtmBlk" class="idref" href="#thread_all_step_to_NPThread_all_steps_from_outAtmBlk"><span class="id" title="lemma">thread_all_step_to_NPThread_all_steps_from_outAtmBlk</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="lo:314" class="idref" href="#lo:314"><span class="id" title="binder">lo</span></a> <a id="lang:315" class="idref" href="#lang:315"><span class="id" title="binder">lang</span></a> <a id="st:316" class="idref" href="#st:316"><span class="id" title="binder">st</span></a> <a id="lc:317" class="idref" href="#lc:317"><span class="id" title="binder">lc</span></a> <a id="sc:318" class="idref" href="#sc:318"><span class="id" title="binder">sc</span></a> <a id="mem:319" class="idref" href="#mem:319"><span class="id" title="binder">mem</span></a> <a id="st':320" class="idref" href="#st':320"><span class="id" title="binder">st'</span></a> <a id="lc':321" class="idref" href="#lc':321"><span class="id" title="binder">lc'</span></a> <a id="sc':322" class="idref" href="#sc':322"><span class="id" title="binder">sc'</span></a> <a id="mem':323" class="idref" href="#mem':323"><span class="id" title="binder">mem'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="STEPS:324" class="idref" href="#STEPS:324"><span class="id" title="binder">STEPS</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.all_step"><span class="id" title="definition">Thread.all_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:315"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:314"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:315"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#st:316"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lc:317"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#sc:318"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#mem:319"><span class="id" title="variable">mem</span></a>) (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:315"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#st':320"><span class="id" title="variable">st'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lc':321"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#sc':322"><span class="id" title="variable">sc'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#mem':323"><span class="id" title="variable">mem'</span></a>)),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="b':325" class="idref" href="#b':325"><span class="id" title="binder">b'</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.all_step"><span class="id" title="definition">NPAuxThread.all_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:315"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:314"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.mk"><span class="id" title="constructor">NPAuxThread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:315"><span class="id" title="variable">lang</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:315"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#st:316"><span class="id" title="variable">st</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lc:317"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#sc:318"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#mem:319"><span class="id" title="variable">mem</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.mk"><span class="id" title="constructor">NPAuxThread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:315"><span class="id" title="variable">lang</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:315"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#st':320"><span class="id" title="variable">st'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lc':321"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#sc':322"><span class="id" title="variable">sc'</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#mem':323"><span class="id" title="variable">mem'</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#b':325"><span class="id" title="variable">b'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">STEPS</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#Thread_all_steps_to_out_trans"><span class="id" title="lemma">Thread_all_steps_to_out_trans</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">STEPS</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">STEPS</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#multi_out_trans_to_NPThread_steps"><span class="id" title="lemma">multi_out_trans_to_NPThread_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">STEPS</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#cons_np_steps_from_p_steps_outatmblk"><span class="id" title="lemma">cons_np_steps_from_p_steps_outatmblk</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">STEPS0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPThread_tau_steps_is_NPThread_all_steps"><span class="id" title="lemma">NPThread_tau_steps_is_NPThread_all_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">STEPS0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">STEPS</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">STEPS0</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="pf_promise_steps_to_np" class="idref" href="#pf_promise_steps_to_np"><span class="id" title="lemma">pf_promise_steps_to_np</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lang:326" class="idref" href="#lang:326"><span class="id" title="binder">lang</span></a> <a id="e:327" class="idref" href="#e:327"><span class="id" title="binder">e</span></a> <a id="e':328" class="idref" href="#e':328"><span class="id" title="binder">e'</span></a> <a id="lo:329" class="idref" href="#lo:329"><span class="id" title="binder">lo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PF_PRM_STEP:330" class="idref" href="#PF_PRM_STEP:330"><span class="id" title="binder">PF_PRM_STEP</span></a>: <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (@<a class="idref" href="CompOptCert.Thread.html#Thread.pf_promise_step"><span class="id" title="inductive">Thread.pf_promise_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:326"><span class="id" title="variable">lang</span></a>) <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:327"><span class="id" title="variable">e</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':328"><span class="id" title="variable">e'</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.prc_step"><span class="id" title="definition">NPAuxThread.prc_step</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:326"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lo:329"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.mk"><span class="id" title="constructor">NPAuxThread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:326"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e:327"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) (<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.mk"><span class="id" title="constructor">NPAuxThread.mk</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#lang:326"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.ps_to_np_thread.html#e':328"><span class="id" title="variable">e'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">PF_PRM_STEP</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;2: <span class="id" title="tactic">eapply</span> <span class="id" title="var">IHPF_PRM_STEP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PF_STEP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>