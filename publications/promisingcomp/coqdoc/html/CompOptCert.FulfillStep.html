<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>CompOptCert.FulfillStep</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library CompOptCert.FulfillStep</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.sflib.html#"><span class="id" title="library">sflib</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Paco</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <span class="id" title="library">paco</span>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Axioms.html#"><span class="id" title="library">Axioms</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Basic.html#"><span class="id" title="library">Basic</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Loc.html#"><span class="id" title="library">Loc</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Language.html#"><span class="id" title="library">Language</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Event.html#"><span class="id" title="library">Event</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Time.html#"><span class="id" title="library">Time</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.View.html#"><span class="id" title="library">View</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Cell.html#"><span class="id" title="library">Cell</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Memory.html#"><span class="id" title="library">Memory</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.MemoryFacts.html#"><span class="id" title="library">MemoryFacts</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.TView.html#"><span class="id" title="library">TView</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Local.html#"><span class="id" title="library">Local</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Thread.html#"><span class="id" title="library">Thread</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.MemorySplit.html#"><span class="id" title="library">MemorySplit</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.MemoryMerge.html#"><span class="id" title="library">MemoryMerge</span></a>.<br/>

<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="fulfill_step" class="idref" href="#fulfill_step"><span class="id" title="inductive">fulfill_step</span></a> (<a id="lc1:1" class="idref" href="#lc1:1"><span class="id" title="binder">lc1</span></a>:<a class="idref" href="CompOptCert.Local.html#Local.t"><span class="id" title="record">Local.t</span></a>) (<a id="sc1:2" class="idref" href="#sc1:2"><span class="id" title="binder">sc1</span></a>:<a class="idref" href="CompOptCert.View.html#TimeMap.t"><span class="id" title="definition">TimeMap.t</span></a>) (<a id="loc:3" class="idref" href="#loc:3"><span class="id" title="binder">loc</span></a>:<a class="idref" href="CompOptCert.Loc.html#Loc.t"><span class="id" title="definition">Loc.t</span></a>) (<a id="from:4" class="idref" href="#from:4"><span class="id" title="binder">from</span></a> <a id="to:5" class="idref" href="#to:5"><span class="id" title="binder">to</span></a>:<a class="idref" href="CompOptCert.Time.html#Time.t"><span class="id" title="definition">Time.t</span></a>) (<a id="val:6" class="idref" href="#val:6"><span class="id" title="binder">val</span></a>:<a class="idref" href="CompOptCert.Event.html#Const.t"><span class="id" title="definition">Const.t</span></a>) (<a id="releasedm:7" class="idref" href="#releasedm:7"><span class="id" title="binder">releasedm</span></a> <a id="released:8" class="idref" href="#released:8"><span class="id" title="binder">released</span></a>:<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="CompOptCert.View.html#View.t"><span class="id" title="definition">View.t</span></a>) (<a id="ord:9" class="idref" href="#ord:9"><span class="id" title="binder">ord</span></a>:<a class="idref" href="CompOptCert.Event.html#Ordering.t"><span class="id" title="inductive">Ordering.t</span></a>): <span class="id" title="keyword">∀</span> (<a id="lc2:10" class="idref" href="#lc2:10"><span class="id" title="binder">lc2</span></a>:<a class="idref" href="CompOptCert.Local.html#Local.t"><span class="id" title="record">Local.t</span></a>) (<a id="sc2:11" class="idref" href="#sc2:11"><span class="id" title="binder">sc2</span></a>:<a class="idref" href="CompOptCert.View.html#TimeMap.t"><span class="id" title="definition">TimeMap.t</span></a>), <span class="id" title="keyword">Prop</span> :=<br/>
| <a id="step_fulfill" class="idref" href="#step_fulfill"><span class="id" title="constructor">step_fulfill</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="promises2:14" class="idref" href="#promises2:14"><span class="id" title="binder">promises2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="REL_LE:15" class="idref" href="#REL_LE:15"><span class="id" title="binder">REL_LE</span></a>: <a class="idref" href="CompOptCert.View.html#View.opt_le"><span class="id" title="inductive">View.opt_le</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.write_released"><span class="id" title="definition">TView.write_released</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#lc1:1"><span class="id" title="variable">lc1</span></a>) <a class="idref" href="CompOptCert.FulfillStep.html#sc1:2"><span class="id" title="variable">sc1</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#loc:3"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#to:5"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#releasedm:7"><span class="id" title="variable">releasedm</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#ord:9"><span class="id" title="variable">ord</span></a>) <a class="idref" href="CompOptCert.FulfillStep.html#released:8"><span class="id" title="variable">released</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="REL_WF:16" class="idref" href="#REL_WF:16"><span class="id" title="binder">REL_WF</span></a>: <a class="idref" href="CompOptCert.View.html#View.opt_wf"><span class="id" title="inductive">View.opt_wf</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#released:8"><span class="id" title="variable">released</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WRITABLE:17" class="idref" href="#WRITABLE:17"><span class="id" title="binder">WRITABLE</span></a>: <a class="idref" href="CompOptCert.TView.html#TView.writable"><span class="id" title="inductive">TView.writable</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.cur"><span class="id" title="projection">TView.cur</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#lc1:1"><span class="id" title="variable">lc1</span></a>)) <a class="idref" href="CompOptCert.FulfillStep.html#sc1:2"><span class="id" title="variable">sc1</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#loc:3"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#to:5"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#ord:9"><span class="id" title="variable">ord</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="REMOVE:18" class="idref" href="#REMOVE:18"><span class="id" title="binder">REMOVE</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.remove"><span class="id" title="inductive">Memory.remove</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#lc1:1"><span class="id" title="variable">lc1</span></a>) <a class="idref" href="CompOptCert.FulfillStep.html#loc:3"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#from:4"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#to:5"><span class="id" title="variable">to</span></a> (<a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#val:6"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#released:8"><span class="id" title="variable">released</span></a>) <a class="idref" href="CompOptCert.FulfillStep.html#promises2:14"><span class="id" title="variable">promises2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="TIME:19" class="idref" href="#TIME:19"><span class="id" title="binder">TIME</span></a>: <a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#from:4"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#to:5"><span class="id" title="variable">to</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.FulfillStep.html#fulfill_step:12"><span class="id" title="inductive">fulfill_step</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#lc1:1"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#sc1:2"><span class="id" title="variable">sc1</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#loc:3"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#from:4"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#to:5"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#val:6"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#releasedm:7"><span class="id" title="variable">releasedm</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#released:8"><span class="id" title="variable">released</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#ord:9"><span class="id" title="variable">ord</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Local.html#Local.mk"><span class="id" title="constructor">Local.mk</span></a> (<a class="idref" href="CompOptCert.TView.html#TView.write_tview"><span class="id" title="definition">TView.write_tview</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#lc1:1"><span class="id" title="variable">lc1</span></a>) <a class="idref" href="CompOptCert.FulfillStep.html#sc1:2"><span class="id" title="variable">sc1</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#loc:3"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#to:5"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#ord:9"><span class="id" title="variable">ord</span></a>) <a class="idref" href="CompOptCert.FulfillStep.html#promises2:14"><span class="id" title="variable">promises2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.FulfillStep.html#sc1:2"><span class="id" title="variable">sc1</span></a><br/>
.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fulfill_step_future" class="idref" href="#fulfill_step_future"><span class="id" title="lemma">fulfill_step_future</span></a> <a id="lc1:20" class="idref" href="#lc1:20"><span class="id" title="binder">lc1</span></a> <a id="sc1:21" class="idref" href="#sc1:21"><span class="id" title="binder">sc1</span></a> <a id="mem1:22" class="idref" href="#mem1:22"><span class="id" title="binder">mem1</span></a> <a id="loc:23" class="idref" href="#loc:23"><span class="id" title="binder">loc</span></a> <a id="from:24" class="idref" href="#from:24"><span class="id" title="binder">from</span></a> <a id="to:25" class="idref" href="#to:25"><span class="id" title="binder">to</span></a> <a id="val:26" class="idref" href="#val:26"><span class="id" title="binder">val</span></a> <a id="releasedm:27" class="idref" href="#releasedm:27"><span class="id" title="binder">releasedm</span></a> <a id="released:28" class="idref" href="#released:28"><span class="id" title="binder">released</span></a> <a id="ord:29" class="idref" href="#ord:29"><span class="id" title="binder">ord</span></a> <a id="lc2:30" class="idref" href="#lc2:30"><span class="id" title="binder">lc2</span></a> <a id="sc2:31" class="idref" href="#sc2:31"><span class="id" title="binder">sc2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="STEP:32" class="idref" href="#STEP:32"><span class="id" title="binder">STEP</span></a>: <a class="idref" href="CompOptCert.FulfillStep.html#fulfill_step"><span class="id" title="inductive">fulfill_step</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#lc1:20"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#sc1:21"><span class="id" title="variable">sc1</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#loc:23"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#from:24"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#to:25"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#val:26"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#releasedm:27"><span class="id" title="variable">releasedm</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#released:28"><span class="id" title="variable">released</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#ord:29"><span class="id" title="variable">ord</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#lc2:30"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#sc2:31"><span class="id" title="variable">sc2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="REL:33" class="idref" href="#REL:33"><span class="id" title="binder">REL</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed_opt_view"><span class="id" title="inductive">Memory.closed_opt_view</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#releasedm:27"><span class="id" title="variable">releasedm</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#mem1:22"><span class="id" title="variable">mem1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WF1:34" class="idref" href="#WF1:34"><span class="id" title="binder">WF1</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#lc1:20"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#mem1:22"><span class="id" title="variable">mem1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CLOSED1:35" class="idref" href="#CLOSED1:35"><span class="id" title="binder">CLOSED1</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#mem1:22"><span class="id" title="variable">mem1</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="WF2:36" class="idref" href="#WF2:36"><span class="id" title="binder">WF2</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#lc2:30"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#mem1:22"><span class="id" title="variable">mem1</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="SC_FUTURE:37" class="idref" href="#SC_FUTURE:37"><span class="id" title="binder">SC_FUTURE</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.View.html#TimeMap.le"><span class="id" title="definition">TimeMap.le</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#sc1:21"><span class="id" title="variable">sc1</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#sc2:31"><span class="id" title="variable">sc2</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">hexploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_future"><span class="id" title="lemma">Memory.remove_future</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">REMOVE</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">WF1</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">i</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_get0"><span class="id" title="lemma">Memory.remove_get0</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">i</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">inversion</span> <span class="id" title="var">WF1</span>. <span class="id" title="var">exploit</span> <span class="id" title="var">PROMISES</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">i</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.TView.html#TViewFacts.write_future_fulfill"><span class="id" title="lemma">TViewFacts.write_future_fulfill</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">SC1</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">WF1</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;{ <span class="id" title="var">inv</span> <span class="id" title="var">CLOSED1</span>. <span class="id" title="var">exploit</span> <span class="id" title="var">CLOSED</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">i</span>. <span class="id" title="var">des</span>. <span class="id" title="var">inv</span> <span class="id" title="var">MSG_CLOSED</span>. <span class="id" title="tactic">eauto</span>. }<br/>
&nbsp;&nbsp;<span class="id" title="var">i</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">esplits</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">refl</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">condtac</span>; <span class="id" title="var">ss</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fulfill_step_cap" class="idref" href="#fulfill_step_cap"><span class="id" title="lemma">fulfill_step_cap</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc1:38" class="idref" href="#lc1:38"><span class="id" title="binder">lc1</span></a> <a id="sc1:39" class="idref" href="#sc1:39"><span class="id" title="binder">sc1</span></a> <a id="mem1:40" class="idref" href="#mem1:40"><span class="id" title="binder">mem1</span></a> <a id="loc:41" class="idref" href="#loc:41"><span class="id" title="binder">loc</span></a> <a id="from:42" class="idref" href="#from:42"><span class="id" title="binder">from</span></a> <a id="to:43" class="idref" href="#to:43"><span class="id" title="binder">to</span></a> <a id="val:44" class="idref" href="#val:44"><span class="id" title="binder">val</span></a> <a id="releasedm:45" class="idref" href="#releasedm:45"><span class="id" title="binder">releasedm</span></a> <a id="released:46" class="idref" href="#released:46"><span class="id" title="binder">released</span></a> <a id="ord:47" class="idref" href="#ord:47"><span class="id" title="binder">ord</span></a> <a id="lc2:48" class="idref" href="#lc2:48"><span class="id" title="binder">lc2</span></a> <a id="sc2:49" class="idref" href="#sc2:49"><span class="id" title="binder">sc2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="mem2:50" class="idref" href="#mem2:50"><span class="id" title="binder">mem2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="STEP:51" class="idref" href="#STEP:51"><span class="id" title="binder">STEP</span></a>: <a class="idref" href="CompOptCert.FulfillStep.html#fulfill_step"><span class="id" title="inductive">fulfill_step</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#lc1:38"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#sc1:39"><span class="id" title="variable">sc1</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#loc:41"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#from:42"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#to:43"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#val:44"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#releasedm:45"><span class="id" title="variable">releasedm</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#released:46"><span class="id" title="variable">released</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#ord:47"><span class="id" title="variable">ord</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#lc2:48"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#sc2:49"><span class="id" title="variable">sc2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CAP:52" class="idref" href="#CAP:52"><span class="id" title="binder">CAP</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.cap"><span class="id" title="inductive">Memory.cap</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#mem1:40"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#mem2:50"><span class="id" title="variable">mem2</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.cap"><span class="id" title="inductive">Memory.cap</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#mem1:40"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#mem2:50"><span class="id" title="variable">mem2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">lc1</span>. <span class="id" title="var">ss</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="write_promise_fulfill" class="idref" href="#write_promise_fulfill"><span class="id" title="lemma">write_promise_fulfill</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc0:53" class="idref" href="#lc0:53"><span class="id" title="binder">lc0</span></a> <a id="sc0:54" class="idref" href="#sc0:54"><span class="id" title="binder">sc0</span></a> <a id="mem0:55" class="idref" href="#mem0:55"><span class="id" title="binder">mem0</span></a> <a id="loc:56" class="idref" href="#loc:56"><span class="id" title="binder">loc</span></a> <a id="from:57" class="idref" href="#from:57"><span class="id" title="binder">from</span></a> <a id="to:58" class="idref" href="#to:58"><span class="id" title="binder">to</span></a> <a id="val:59" class="idref" href="#val:59"><span class="id" title="binder">val</span></a> <a id="releasedm:60" class="idref" href="#releasedm:60"><span class="id" title="binder">releasedm</span></a> <a id="released:61" class="idref" href="#released:61"><span class="id" title="binder">released</span></a> <a id="ord:62" class="idref" href="#ord:62"><span class="id" title="binder">ord</span></a> <a id="lc2:63" class="idref" href="#lc2:63"><span class="id" title="binder">lc2</span></a> <a id="sc2:64" class="idref" href="#sc2:64"><span class="id" title="binder">sc2</span></a> <a id="mem2:65" class="idref" href="#mem2:65"><span class="id" title="binder">mem2</span></a> <a id="kind:66" class="idref" href="#kind:66"><span class="id" title="binder">kind</span></a> <a id="lo:67" class="idref" href="#lo:67"><span class="id" title="binder">lo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WRITE:68" class="idref" href="#WRITE:68"><span class="id" title="binder">WRITE</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.write_step"><span class="id" title="inductive">Local.write_step</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#lc0:53"><span class="id" title="variable">lc0</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#sc0:54"><span class="id" title="variable">sc0</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#mem0:55"><span class="id" title="variable">mem0</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#loc:56"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#from:57"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#to:58"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#val:59"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#releasedm:60"><span class="id" title="variable">releasedm</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#released:61"><span class="id" title="variable">released</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#ord:62"><span class="id" title="variable">ord</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#lc2:63"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#sc2:64"><span class="id" title="variable">sc2</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#mem2:65"><span class="id" title="variable">mem2</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#kind:66"><span class="id" title="variable">kind</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#lo:67"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="REL_WF:69" class="idref" href="#REL_WF:69"><span class="id" title="binder">REL_WF</span></a>: <a class="idref" href="CompOptCert.View.html#View.opt_wf"><span class="id" title="inductive">View.opt_wf</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#releasedm:60"><span class="id" title="variable">releasedm</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="REL_CLOSED:70" class="idref" href="#REL_CLOSED:70"><span class="id" title="binder">REL_CLOSED</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed_opt_view"><span class="id" title="inductive">Memory.closed_opt_view</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#releasedm:60"><span class="id" title="variable">releasedm</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#mem0:55"><span class="id" title="variable">mem0</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WF0:71" class="idref" href="#WF0:71"><span class="id" title="binder">WF0</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#lc0:53"><span class="id" title="variable">lc0</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#mem0:55"><span class="id" title="variable">mem0</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM0:72" class="idref" href="#MEM0:72"><span class="id" title="binder">MEM0</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#mem0:55"><span class="id" title="variable">mem0</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="lc1:73" class="idref" href="#lc1:73"><span class="id" title="binder">lc1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="STEP1:74" class="idref" href="#STEP1:74"><span class="id" title="binder">STEP1</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#lc0:53"><span class="id" title="variable">lc0</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#mem0:55"><span class="id" title="variable">mem0</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#loc:56"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#from:57"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#to:58"><span class="id" title="variable">to</span></a> (<a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#val:59"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#released:61"><span class="id" title="variable">released</span></a>) <a class="idref" href="CompOptCert.FulfillStep.html#lc1:73"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#mem2:65"><span class="id" title="variable">mem2</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#kind:66"><span class="id" title="variable">kind</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="STEP2:75" class="idref" href="#STEP2:75"><span class="id" title="binder">STEP2</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#fulfill_step"><span class="id" title="inductive">fulfill_step</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#lc1:73"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#sc0:54"><span class="id" title="variable">sc0</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#loc:56"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#from:57"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#to:58"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#val:59"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#releasedm:60"><span class="id" title="variable">releasedm</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#released:61"><span class="id" title="variable">released</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#ord:62"><span class="id" title="variable">ord</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#lc2:63"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#sc2:64"><span class="id" title="variable">sc2</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="REL:76" class="idref" href="#REL:76"><span class="id" title="binder">REL</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#released:61"><span class="id" title="variable">released</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.TView.html#TView.write_released"><span class="id" title="definition">TView.write_released</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#lc0:53"><span class="id" title="variable">lc0</span></a>) <a class="idref" href="CompOptCert.FulfillStep.html#sc0:54"><span class="id" title="variable">sc0</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#loc:56"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#to:58"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#releasedm:60"><span class="id" title="variable">releasedm</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#ord:62"><span class="id" title="variable">ord</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="ORD:77" class="idref" href="#ORD:77"><span class="id" title="binder">ORD</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.le"><span class="id" title="definition">Ordering.le</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.strong_relaxed"><span class="id" title="constructor">Ordering.strong_relaxed</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#ord:62"><span class="id" title="variable">ord</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.nonsynch_loc"><span class="id" title="definition">Memory.nonsynch_loc</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#loc:56"><span class="id" title="variable">loc</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#lc0:53"><span class="id" title="variable">lc0</span></a>)<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Local.html#Local.write_step_future"><span class="id" title="lemma">Local.write_step_future</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">i</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITE0</span>. <span class="id" title="var">esplits</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="CompOptCert.FulfillStep.html#step_fulfill"><span class="id" title="constructor">step_fulfill</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">refl</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryFacts.html#MemoryFacts.promise_time_lt"><span class="id" title="lemma">MemoryFacts.promise_time_lt</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">ss</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="write_promise_fulfill_na_write" class="idref" href="#write_promise_fulfill_na_write"><span class="id" title="lemma">write_promise_fulfill_na_write</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc0:78" class="idref" href="#lc0:78"><span class="id" title="binder">lc0</span></a> <a id="sc0:79" class="idref" href="#sc0:79"><span class="id" title="binder">sc0</span></a> <a id="mem0:80" class="idref" href="#mem0:80"><span class="id" title="binder">mem0</span></a> <a id="loc:81" class="idref" href="#loc:81"><span class="id" title="binder">loc</span></a> <a id="from:82" class="idref" href="#from:82"><span class="id" title="binder">from</span></a> <a id="to:83" class="idref" href="#to:83"><span class="id" title="binder">to</span></a> <a id="val:84" class="idref" href="#val:84"><span class="id" title="binder">val</span></a> <a id="released:85" class="idref" href="#released:85"><span class="id" title="binder">released</span></a> <a id="lc2:86" class="idref" href="#lc2:86"><span class="id" title="binder">lc2</span></a> <a id="sc2:87" class="idref" href="#sc2:87"><span class="id" title="binder">sc2</span></a> <a id="mem2:88" class="idref" href="#mem2:88"><span class="id" title="binder">mem2</span></a> <a id="kind:89" class="idref" href="#kind:89"><span class="id" title="binder">kind</span></a> <a id="lo:90" class="idref" href="#lo:90"><span class="id" title="binder">lo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WRITE:91" class="idref" href="#WRITE:91"><span class="id" title="binder">WRITE</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.write_step"><span class="id" title="inductive">Local.write_step</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#lc0:78"><span class="id" title="variable">lc0</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#sc0:79"><span class="id" title="variable">sc0</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#mem0:80"><span class="id" title="variable">mem0</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#loc:81"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#from:82"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#to:83"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#val:84"><span class="id" title="variable">val</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#released:85"><span class="id" title="variable">released</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.plain"><span class="id" title="constructor">Ordering.plain</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#lc2:86"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#sc2:87"><span class="id" title="variable">sc2</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#mem2:88"><span class="id" title="variable">mem2</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#kind:89"><span class="id" title="variable">kind</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#lo:90"><span class="id" title="variable">lo</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="lc1:92" class="idref" href="#lc1:92"><span class="id" title="binder">lc1</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="STEP1:93" class="idref" href="#STEP1:93"><span class="id" title="binder">STEP1</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#lc0:78"><span class="id" title="variable">lc0</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#mem0:80"><span class="id" title="variable">mem0</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#loc:81"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#from:82"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#to:83"><span class="id" title="variable">to</span></a> (<a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#val:84"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#released:85"><span class="id" title="variable">released</span></a>) <a class="idref" href="CompOptCert.FulfillStep.html#lc1:92"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#mem2:88"><span class="id" title="variable">mem2</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#kind:89"><span class="id" title="variable">kind</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="STEP2:94" class="idref" href="#STEP2:94"><span class="id" title="binder">STEP2</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#fulfill_step"><span class="id" title="inductive">fulfill_step</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#lc1:92"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#sc0:79"><span class="id" title="variable">sc0</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#loc:81"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#from:82"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#to:83"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#val:84"><span class="id" title="variable">val</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#released:85"><span class="id" title="variable">released</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.plain"><span class="id" title="constructor">Ordering.plain</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#lc2:86"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#sc2:87"><span class="id" title="variable">sc2</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&lt;&lt;</span></a><a id="REL:95" class="idref" href="#REL:95"><span class="id" title="binder">REL</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">:</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#released:85"><span class="id" title="variable">released</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.TView.html#TView.write_released"><span class="id" title="definition">TView.write_released</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#lc0:78"><span class="id" title="variable">lc0</span></a>) <a class="idref" href="CompOptCert.FulfillStep.html#sc0:79"><span class="id" title="variable">sc0</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#loc:81"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#to:83"><span class="id" title="variable">to</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.plain"><span class="id" title="constructor">Ordering.plain</span></a><a class="idref" href="CompOptCert.sflib.html#:::'&lt;&lt;'_x_':'_x_'&gt;&gt;'"><span class="id" title="notation">&gt;&gt;</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITE0</span>. <span class="id" title="var">esplits</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">refine</span> (<a class="idref" href="CompOptCert.FulfillStep.html#step_fulfill"><span class="id" title="constructor">step_fulfill</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryFacts.html#MemoryFacts.promise_time_lt"><span class="id" title="lemma">MemoryFacts.promise_time_lt</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">ss</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="promise_fulfill_write" class="idref" href="#promise_fulfill_write"><span class="id" title="lemma">promise_fulfill_write</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc0:96" class="idref" href="#lc0:96"><span class="id" title="binder">lc0</span></a> <a id="sc0:97" class="idref" href="#sc0:97"><span class="id" title="binder">sc0</span></a> <a id="mem0:98" class="idref" href="#mem0:98"><span class="id" title="binder">mem0</span></a> <a id="loc:99" class="idref" href="#loc:99"><span class="id" title="binder">loc</span></a> <a id="from:100" class="idref" href="#from:100"><span class="id" title="binder">from</span></a> <a id="to:101" class="idref" href="#to:101"><span class="id" title="binder">to</span></a> <a id="val:102" class="idref" href="#val:102"><span class="id" title="binder">val</span></a> <a id="releasedm:103" class="idref" href="#releasedm:103"><span class="id" title="binder">releasedm</span></a> <a id="released:104" class="idref" href="#released:104"><span class="id" title="binder">released</span></a> <a id="ord:105" class="idref" href="#ord:105"><span class="id" title="binder">ord</span></a> <a id="lc1:106" class="idref" href="#lc1:106"><span class="id" title="binder">lc1</span></a> <a id="lc2:107" class="idref" href="#lc2:107"><span class="id" title="binder">lc2</span></a> <a id="sc2:108" class="idref" href="#sc2:108"><span class="id" title="binder">sc2</span></a> <a id="mem2:109" class="idref" href="#mem2:109"><span class="id" title="binder">mem2</span></a> <a id="kind:110" class="idref" href="#kind:110"><span class="id" title="binder">kind</span></a> <a id="lo:111" class="idref" href="#lo:111"><span class="id" title="binder">lo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PROMISE:112" class="idref" href="#PROMISE:112"><span class="id" title="binder">PROMISE</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.promise_step"><span class="id" title="inductive">Local.promise_step</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#lc0:96"><span class="id" title="variable">lc0</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#mem0:98"><span class="id" title="variable">mem0</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#loc:99"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#from:100"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#to:101"><span class="id" title="variable">to</span></a> (<a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#val:102"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#released:104"><span class="id" title="variable">released</span></a>) <a class="idref" href="CompOptCert.FulfillStep.html#lc1:106"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#mem2:109"><span class="id" title="variable">mem2</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#kind:110"><span class="id" title="variable">kind</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="FULFILL:113" class="idref" href="#FULFILL:113"><span class="id" title="binder">FULFILL</span></a>: <a class="idref" href="CompOptCert.FulfillStep.html#fulfill_step"><span class="id" title="inductive">fulfill_step</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#lc1:106"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#sc0:97"><span class="id" title="variable">sc0</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#loc:99"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#from:100"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#to:101"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#val:102"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#releasedm:103"><span class="id" title="variable">releasedm</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#released:104"><span class="id" title="variable">released</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#ord:105"><span class="id" title="variable">ord</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#lc2:107"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#sc2:108"><span class="id" title="variable">sc2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="REL_WF:114" class="idref" href="#REL_WF:114"><span class="id" title="binder">REL_WF</span></a>: <a class="idref" href="CompOptCert.View.html#View.opt_wf"><span class="id" title="inductive">View.opt_wf</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#releasedm:103"><span class="id" title="variable">releasedm</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="REL_CLOSED:115" class="idref" href="#REL_CLOSED:115"><span class="id" title="binder">REL_CLOSED</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed_opt_view"><span class="id" title="inductive">Memory.closed_opt_view</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#releasedm:103"><span class="id" title="variable">releasedm</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#mem0:98"><span class="id" title="variable">mem0</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ORD:116" class="idref" href="#ORD:116"><span class="id" title="binder">ORD</span></a>: <a class="idref" href="CompOptCert.Event.html#Ordering.le"><span class="id" title="definition">Ordering.le</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.strong_relaxed"><span class="id" title="constructor">Ordering.strong_relaxed</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#ord:105"><span class="id" title="variable">ord</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.nonsynch_loc"><span class="id" title="definition">Memory.nonsynch_loc</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#loc:99"><span class="id" title="variable">loc</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#lc0:96"><span class="id" title="variable">lc0</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WF0:117" class="idref" href="#WF0:117"><span class="id" title="binder">WF0</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.wf"><span class="id" title="inductive">Local.wf</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#lc0:96"><span class="id" title="variable">lc0</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#mem0:98"><span class="id" title="variable">mem0</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM0:118" class="idref" href="#MEM0:118"><span class="id" title="binder">MEM0</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.closed"><span class="id" title="inductive">Memory.closed</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#mem0:98"><span class="id" title="variable">mem0</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="REL:119" class="idref" href="#REL:119"><span class="id" title="binder">REL</span></a>: <a class="idref" href="CompOptCert.FulfillStep.html#released:104"><span class="id" title="variable">released</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.TView.html#TView.write_released"><span class="id" title="definition">TView.write_released</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#lc0:96"><span class="id" title="variable">lc0</span></a>) <a class="idref" href="CompOptCert.FulfillStep.html#sc0:97"><span class="id" title="variable">sc0</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#loc:99"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#to:101"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#releasedm:103"><span class="id" title="variable">releasedm</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#ord:105"><span class="id" title="variable">ord</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ORDER_MATCH:120" class="idref" href="#ORDER_MATCH:120"><span class="id" title="binder">ORDER_MATCH</span></a>: <a class="idref" href="CompOptCert.Event.html#Ordering.mem_ord_match"><span class="id" title="definition">Ordering.mem_ord_match</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#ord:105"><span class="id" title="variable">ord</span></a> (<a class="idref" href="CompOptCert.FulfillStep.html#lo:111"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#loc:99"><span class="id" title="variable">loc</span></a>)):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.write_step"><span class="id" title="inductive">Local.write_step</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#lc0:96"><span class="id" title="variable">lc0</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#sc0:97"><span class="id" title="variable">sc0</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#mem0:98"><span class="id" title="variable">mem0</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#loc:99"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#from:100"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#to:101"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#val:102"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#releasedm:103"><span class="id" title="variable">releasedm</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#released:104"><span class="id" title="variable">released</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#ord:105"><span class="id" title="variable">ord</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#lc2:107"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#sc2:108"><span class="id" title="variable">sc2</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#mem2:109"><span class="id" title="variable">mem2</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#kind:110"><span class="id" title="variable">kind</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#lo:111"><span class="id" title="variable">lo</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Local.html#Local.promise_step_future"><span class="id" title="lemma">Local.promise_step_future</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">i</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>. <span class="id" title="var">inv</span> <span class="id" title="var">FULFILL</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemorySplit.html#MemorySplit.remove_promise_remove"><span class="id" title="lemma">MemorySplit.remove_promise_remove</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">exact</span> <span class="id" title="var">REMOVE</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">WF2</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">refl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fulfill_step_promises_diff" class="idref" href="#fulfill_step_promises_diff"><span class="id" title="lemma">fulfill_step_promises_diff</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc1:121" class="idref" href="#lc1:121"><span class="id" title="binder">lc1</span></a> <a id="sc1:122" class="idref" href="#sc1:122"><span class="id" title="binder">sc1</span></a> <a id="loc1:123" class="idref" href="#loc1:123"><span class="id" title="binder">loc1</span></a> <a id="from:124" class="idref" href="#from:124"><span class="id" title="binder">from</span></a> <a id="to:125" class="idref" href="#to:125"><span class="id" title="binder">to</span></a> <a id="val:126" class="idref" href="#val:126"><span class="id" title="binder">val</span></a> <a id="releasedm:127" class="idref" href="#releasedm:127"><span class="id" title="binder">releasedm</span></a> <a id="released:128" class="idref" href="#released:128"><span class="id" title="binder">released</span></a> <a id="ord:129" class="idref" href="#ord:129"><span class="id" title="binder">ord</span></a> <a id="lc2:130" class="idref" href="#lc2:130"><span class="id" title="binder">lc2</span></a> <a id="sc2:131" class="idref" href="#sc2:131"><span class="id" title="binder">sc2</span></a> <a id="loc2:132" class="idref" href="#loc2:132"><span class="id" title="binder">loc2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOC:133" class="idref" href="#LOC:133"><span class="id" title="binder">LOC</span></a>: <a class="idref" href="CompOptCert.FulfillStep.html#loc1:123"><span class="id" title="variable">loc1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#loc2:132"><span class="id" title="variable">loc2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="FULFILL:134" class="idref" href="#FULFILL:134"><span class="id" title="binder">FULFILL</span></a>: <a class="idref" href="CompOptCert.FulfillStep.html#fulfill_step"><span class="id" title="inductive">fulfill_step</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#lc1:121"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#sc1:122"><span class="id" title="variable">sc1</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#loc1:123"><span class="id" title="variable">loc1</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#from:124"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#to:125"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#val:126"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#releasedm:127"><span class="id" title="variable">releasedm</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#released:128"><span class="id" title="variable">released</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#ord:129"><span class="id" title="variable">ord</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#lc2:130"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#sc2:131"><span class="id" title="variable">sc2</span></a>):<br/>
&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#lc1:121"><span class="id" title="variable">lc1</span></a>) <a class="idref" href="CompOptCert.FulfillStep.html#loc2:132"><span class="id" title="variable">loc2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#lc2:130"><span class="id" title="variable">lc2</span></a>) <a class="idref" href="CompOptCert.FulfillStep.html#loc2:132"><span class="id" title="variable">loc2</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">FULFILL</span>. <span class="id" title="var">inv</span> <span class="id" title="var">REMOVE</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Loc.html#LocFun.add"><span class="id" title="definition">LocFun.add</span></a>. <span class="id" title="var">s</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">condtac</span>; [<span class="id" title="var">congr</span>|]. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="fulfill_step_to_local_write_step" class="idref" href="#fulfill_step_to_local_write_step"><span class="id" title="lemma">fulfill_step_to_local_write_step</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc:135" class="idref" href="#lc:135"><span class="id" title="binder">lc</span></a> <a id="sc:136" class="idref" href="#sc:136"><span class="id" title="binder">sc</span></a> <a id="loc:137" class="idref" href="#loc:137"><span class="id" title="binder">loc</span></a> <a id="from:138" class="idref" href="#from:138"><span class="id" title="binder">from</span></a> <a id="to:139" class="idref" href="#to:139"><span class="id" title="binder">to</span></a> <a id="val:140" class="idref" href="#val:140"><span class="id" title="binder">val</span></a> <a id="releasedm:141" class="idref" href="#releasedm:141"><span class="id" title="binder">releasedm</span></a> <a id="released:142" class="idref" href="#released:142"><span class="id" title="binder">released</span></a> <a id="ord:143" class="idref" href="#ord:143"><span class="id" title="binder">ord</span></a> <a id="lc':144" class="idref" href="#lc':144"><span class="id" title="binder">lc'</span></a> <a id="sc':145" class="idref" href="#sc':145"><span class="id" title="binder">sc'</span></a> <a id="mem:146" class="idref" href="#mem:146"><span class="id" title="binder">mem</span></a> <a id="lo:147" class="idref" href="#lo:147"><span class="id" title="binder">lo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="FULFILL_STEP:148" class="idref" href="#FULFILL_STEP:148"><span class="id" title="binder">FULFILL_STEP</span></a>: <a class="idref" href="CompOptCert.FulfillStep.html#fulfill_step"><span class="id" title="inductive">fulfill_step</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#lc:135"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#sc:136"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#loc:137"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#from:138"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#to:139"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#val:140"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#releasedm:141"><span class="id" title="variable">releasedm</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#released:142"><span class="id" title="variable">released</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#ord:143"><span class="id" title="variable">ord</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#lc':144"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#sc':145"><span class="id" title="variable">sc'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="REL:149" class="idref" href="#REL:149"><span class="id" title="binder">REL</span></a>: <a class="idref" href="CompOptCert.FulfillStep.html#released:142"><span class="id" title="variable">released</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.TView.html#TView.write_released"><span class="id" title="definition">TView.write_released</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.tview"><span class="id" title="projection">Local.tview</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#lc:135"><span class="id" title="variable">lc</span></a>) <a class="idref" href="CompOptCert.FulfillStep.html#sc:136"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#loc:137"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#to:139"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#releasedm:141"><span class="id" title="variable">releasedm</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#ord:143"><span class="id" title="variable">ord</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ORD_MATCH:150" class="idref" href="#ORD_MATCH:150"><span class="id" title="binder">ORD_MATCH</span></a>: <a class="idref" href="CompOptCert.Event.html#Ordering.mem_ord_match"><span class="id" title="definition">Ordering.mem_ord_match</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#ord:143"><span class="id" title="variable">ord</span></a> (<a class="idref" href="CompOptCert.FulfillStep.html#lo:147"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#loc:137"><span class="id" title="variable">loc</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="IN_MEM:151" class="idref" href="#IN_MEM:151"><span class="id" title="binder">IN_MEM</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#loc:137"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#to:139"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#mem:146"><span class="id" title="variable">mem</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.FulfillStep.html#from:138"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#val:140"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#released:142"><span class="id" title="variable">released</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ORD:152" class="idref" href="#ORD:152"><span class="id" title="binder">ORD</span></a>: <a class="idref" href="CompOptCert.Event.html#Ordering.le"><span class="id" title="definition">Ordering.le</span></a> <a class="idref" href="CompOptCert.Event.html#Ordering.strong_relaxed"><span class="id" title="constructor">Ordering.strong_relaxed</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#ord:143"><span class="id" title="variable">ord</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.nonsynch_loc"><span class="id" title="definition">Memory.nonsynch_loc</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#loc:137"><span class="id" title="variable">loc</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#lc:135"><span class="id" title="variable">lc</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LT:153" class="idref" href="#LT:153"><span class="id" title="binder">LT</span></a>: <a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#from:138"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#to:139"><span class="id" title="variable">to</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MSG_TO:154" class="idref" href="#MSG_TO:154"><span class="id" title="binder">MSG_TO</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.message_to"><span class="id" title="inductive">Memory.message_to</span></a> (<a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#val:140"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#released:142"><span class="id" title="variable">released</span></a>) <a class="idref" href="CompOptCert.FulfillStep.html#loc:137"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#to:139"><span class="id" title="variable">to</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.write_step"><span class="id" title="inductive">Local.write_step</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#lc:135"><span class="id" title="variable">lc</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#sc:136"><span class="id" title="variable">sc</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#mem:146"><span class="id" title="variable">mem</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#loc:137"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#from:138"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#to:139"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#val:140"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#releasedm:141"><span class="id" title="variable">releasedm</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#released:142"><span class="id" title="variable">released</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#ord:143"><span class="id" title="variable">ord</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.FulfillStep.html#lc':144"><span class="id" title="variable">lc'</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#sc':145"><span class="id" title="variable">sc'</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#mem:146"><span class="id" title="variable">mem</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_lower"><span class="id" title="constructor">Memory.op_kind_lower</span></a> (<a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#val:140"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#released:142"><span class="id" title="variable">released</span></a>)) <a class="idref" href="CompOptCert.FulfillStep.html#lo:147"><span class="id" title="variable">lo</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#loc:137"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#to:139"><span class="id" title="variable">to</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#lc:135"><span class="id" title="variable">lc</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.FulfillStep.html#from:138"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#val:140"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.FulfillStep.html#released:142"><span class="id" title="variable">released</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">FULFILL_STEP</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_get0"><span class="id" title="lemma">Memory.remove_get0</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">PROM_GET</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_exists_same"><span class="id" title="lemma">Memory.lower_exists_same</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_exists_same"><span class="id" title="lemma">Memory.lower_exists_same</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>