<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>CompOptCert.PromiseInjectionWeak</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library CompOptCert.PromiseInjectionWeak</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.sflib.html#"><span class="id" title="library">sflib</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Axioms.html#"><span class="id" title="library">Axioms</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Basic.html#"><span class="id" title="library">Basic</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.DataStructure.html#"><span class="id" title="library">DataStructure</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Loc.html#"><span class="id" title="library">Loc</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Coqlib.html#"><span class="id" title="library">Coqlib</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Language.html#"><span class="id" title="library">Language</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Time.html#"><span class="id" title="library">Time</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Event.html#"><span class="id" title="library">Event</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.View.html#"><span class="id" title="library">View</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Cell.html#"><span class="id" title="library">Cell</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Memory.html#"><span class="id" title="library">Memory</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.TView.html#"><span class="id" title="library">TView</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Local.html#"><span class="id" title="library">Local</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Thread.html#"><span class="id" title="library">Thread</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.NPThread.html#"><span class="id" title="library">NPThread</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Configuration.html#"><span class="id" title="library">Configuration</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.MsgMapping.html#"><span class="id" title="library">MsgMapping</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.MemoryReorder.html#"><span class="id" title="library">MemoryReorder</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.ReorderPromise.html#"><span class="id" title="library">ReorderPromise</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.ReorderReserve.html#"><span class="id" title="library">ReorderReserve</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.ReorderCancel.html#"><span class="id" title="library">ReorderCancel</span></a>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="promise_inj_weak" class="idref" href="#promise_inj_weak"><span class="id" title="inductive">promise_inj_weak</span></a>: <a class="idref" href="CompOptCert.MsgMapping.html#Mapping"><span class="id" title="definition">Mapping</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.t"><span class="id" title="definition">Memory.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.t"><span class="id" title="definition">Memory.t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
| <a id="Promise_inj_intro" class="idref" href="#Promise_inj_intro"><span class="id" title="constructor">Promise_inj_intro</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a id="promises1:3" class="idref" href="#promises1:3"><span class="id" title="binder">promises1</span></a> <a id="promises2:4" class="idref" href="#promises2:4"><span class="id" title="binder">promises2</span></a> <a id="inj:5" class="idref" href="#inj:5"><span class="id" title="binder">inj</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="SOUND:14" class="idref" href="#SOUND:14"><span class="id" title="binder">SOUND</span></a>: <span class="id" title="keyword">∀</span> <a id="loc:6" class="idref" href="#loc:6"><span class="id" title="binder">loc</span></a> <a id="to:7" class="idref" href="#to:7"><span class="id" title="binder">to</span></a> <a id="val:8" class="idref" href="#val:8"><span class="id" title="binder">val</span></a> <a id="from:9" class="idref" href="#from:9"><span class="id" title="binder">from</span></a> <a id="released:10" class="idref" href="#released:10"><span class="id" title="binder">released</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#loc:6"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#to:7"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises1:3"><span class="id" title="variable">promises1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.PromiseInjectionWeak.html#from:9"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#val:8"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#released:10"><span class="id" title="variable">released</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="to':11" class="idref" href="#to':11"><span class="id" title="binder">to'</span></a> <a id="released':12" class="idref" href="#released':12"><span class="id" title="binder">released'</span></a> <a id="from':13" class="idref" href="#from':13"><span class="id" title="binder">from'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.PromiseInjectionWeak.html#inj:5"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#loc:6"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#to:7"><span class="id" title="variable">to</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#to':11"><span class="id" title="variable">to'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#loc:6"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#to':11"><span class="id" title="variable">to'</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises2:4"><span class="id" title="variable">promises2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.PromiseInjectionWeak.html#from':13"><span class="id" title="variable">from'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#val:8"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#released':12"><span class="id" title="variable">released'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Time.html#Time.lt"><span class="id" title="definition">Time.lt</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#from':13"><span class="id" title="variable">from'</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#to':11"><span class="id" title="variable">to'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="COMPLETE:23" class="idref" href="#COMPLETE:23"><span class="id" title="binder">COMPLETE</span></a>: <span class="id" title="keyword">∀</span> <a id="loc:15" class="idref" href="#loc:15"><span class="id" title="binder">loc</span></a> <a id="to':16" class="idref" href="#to':16"><span class="id" title="binder">to'</span></a> <a id="val:17" class="idref" href="#val:17"><span class="id" title="binder">val</span></a> <a id="from':18" class="idref" href="#from':18"><span class="id" title="binder">from'</span></a> <a id="released':19" class="idref" href="#released':19"><span class="id" title="binder">released'</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#loc:15"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#to':16"><span class="id" title="variable">to'</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises2:4"><span class="id" title="variable">promises2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.PromiseInjectionWeak.html#from':18"><span class="id" title="variable">from'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#val:17"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#released':19"><span class="id" title="variable">released'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="to:20" class="idref" href="#to:20"><span class="id" title="binder">to</span></a> <a id="released:21" class="idref" href="#released:21"><span class="id" title="binder">released</span></a> <a id="from:22" class="idref" href="#from:22"><span class="id" title="binder">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.PromiseInjectionWeak.html#inj:5"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#loc:15"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#to:20"><span class="id" title="variable">to</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#to':16"><span class="id" title="variable">to'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#loc:15"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#to:20"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises1:3"><span class="id" title="variable">promises1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.PromiseInjectionWeak.html#from:22"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#val:17"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#released:21"><span class="id" title="variable">released</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RSV_SOUND:27" class="idref" href="#RSV_SOUND:27"><span class="id" title="binder">RSV_SOUND</span></a>: <span class="id" title="keyword">∀</span> <a id="loc:24" class="idref" href="#loc:24"><span class="id" title="binder">loc</span></a> <a id="to:25" class="idref" href="#to:25"><span class="id" title="binder">to</span></a> <a id="from:26" class="idref" href="#from:26"><span class="id" title="binder">from</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#loc:24"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#to:25"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises1:3"><span class="id" title="variable">promises1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.PromiseInjectionWeak.html#from:26"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#loc:24"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#to:25"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises2:4"><span class="id" title="variable">promises2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.PromiseInjectionWeak.html#from:26"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;(<a id="RSV_COMPLETE:31" class="idref" href="#RSV_COMPLETE:31"><span class="id" title="binder">RSV_COMPLETE</span></a>: <span class="id" title="keyword">∀</span> <a id="loc:28" class="idref" href="#loc:28"><span class="id" title="binder">loc</span></a> <a id="to:29" class="idref" href="#to:29"><span class="id" title="binder">to</span></a> <a id="from:30" class="idref" href="#from:30"><span class="id" title="binder">from</span></a>,<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#loc:28"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#to:29"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises2:4"><span class="id" title="variable">promises2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.PromiseInjectionWeak.html#from:30"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#loc:28"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#to:29"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises1:3"><span class="id" title="variable">promises1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.PromiseInjectionWeak.html#from:30"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>):<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promise_inj_weak:1"><span class="id" title="inductive">promise_inj_weak</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#inj:5"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises1:3"><span class="id" title="variable">promises1</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises2:4"><span class="id" title="variable">promises2</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="promise_inj_weak_incr" class="idref" href="#promise_inj_weak_incr"><span class="id" title="lemma">promise_inj_weak_incr</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="inj:32" class="idref" href="#inj:32"><span class="id" title="binder">inj</span></a> <a id="inj':33" class="idref" href="#inj':33"><span class="id" title="binder">inj'</span></a> <a id="promises:34" class="idref" href="#promises:34"><span class="id" title="binder">promises</span></a> <a id="promises':35" class="idref" href="#promises':35"><span class="id" title="binder">promises'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="P_INJ:36" class="idref" href="#P_INJ:36"><span class="id" title="binder">P_INJ</span></a>: <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promise_inj_weak"><span class="id" title="inductive">promise_inj_weak</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#inj:32"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises:34"><span class="id" title="variable">promises</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises':35"><span class="id" title="variable">promises'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="INJ_INCR:37" class="idref" href="#INJ_INCR:37"><span class="id" title="binder">INJ_INCR</span></a>: <a class="idref" href="CompOptCert.MsgMapping.html#incr_inj"><span class="id" title="definition">incr_inj</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#inj:32"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#inj':33"><span class="id" title="variable">inj'</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promise_inj_weak"><span class="id" title="inductive">promise_inj_weak</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#inj':33"><span class="id" title="variable">inj'</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises:34"><span class="id" title="variable">promises</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises':35"><span class="id" title="variable">promises'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">P_INJ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ii</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">SOUND</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">to'</span>, <span class="id" title="var">released'</span>, <span class="id" title="var">from'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">COMPLETE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="promise_inj_weak_remove_reseve" class="idref" href="#promise_inj_weak_remove_reseve"><span class="id" title="lemma">promise_inj_weak_remove_reseve</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="inj:38" class="idref" href="#inj:38"><span class="id" title="binder">inj</span></a> <a id="promises:39" class="idref" href="#promises:39"><span class="id" title="binder">promises</span></a> <a id="promises':40" class="idref" href="#promises':40"><span class="id" title="binder">promises'</span></a> <a id="loc:41" class="idref" href="#loc:41"><span class="id" title="binder">loc</span></a> <a id="from:42" class="idref" href="#from:42"><span class="id" title="binder">from</span></a> <a id="to:43" class="idref" href="#to:43"><span class="id" title="binder">to</span></a> <a id="promises1:44" class="idref" href="#promises1:44"><span class="id" title="binder">promises1</span></a> <a id="promises1':45" class="idref" href="#promises1':45"><span class="id" title="binder">promises1'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="P_INJ:46" class="idref" href="#P_INJ:46"><span class="id" title="binder">P_INJ</span></a>: <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promise_inj_weak"><span class="id" title="inductive">promise_inj_weak</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#inj:38"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises:39"><span class="id" title="variable">promises</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises':40"><span class="id" title="variable">promises'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="REMOVE_RSV1:47" class="idref" href="#REMOVE_RSV1:47"><span class="id" title="binder">REMOVE_RSV1</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.remove"><span class="id" title="inductive">Memory.remove</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises:39"><span class="id" title="variable">promises</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#loc:41"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#from:42"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#to:43"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises1:44"><span class="id" title="variable">promises1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="REMOVE_RSV2:48" class="idref" href="#REMOVE_RSV2:48"><span class="id" title="binder">REMOVE_RSV2</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.remove"><span class="id" title="inductive">Memory.remove</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises':40"><span class="id" title="variable">promises'</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#loc:41"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#from:42"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#to:43"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.reserve"><span class="id" title="constructor">Message.reserve</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises1':45"><span class="id" title="variable">promises1'</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promise_inj_weak"><span class="id" title="inductive">promise_inj_weak</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#inj:38"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises1:44"><span class="id" title="variable">promises1</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises1':45"><span class="id" title="variable">promises1'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">P_INJ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">SOUND</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">to'</span> &amp; <span class="id" title="var">released'</span> &amp; <span class="id" title="var">from'</span> &amp; <span class="id" title="var">INJ</span> &amp; <span class="id" title="var">GET</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">to'</span>, <span class="id" title="var">released'</span>, <span class="id" title="var">from'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>. <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">REMOVE_RSV2</span> <span class="id" title="var">GET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_get0"><span class="id" title="lemma">Memory.remove_get0</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET0</span>; <span class="id" title="var">inv</span> <span class="id" title="var">GET0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">COMPLETE</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_get1"><span class="id" title="lemma">Memory.remove_get1</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE_RSV1</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">COMPLETE</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_get1"><span class="id" title="lemma">Memory.remove_get1</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE_RSV1</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_get0"><span class="id" title="lemma">Memory.remove_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">REMOVE_RSV1</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">RSV_SOUND</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_get1"><span class="id" title="lemma">Memory.remove_get1</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">RSV_COMPLETE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="promise_inj_weak_remove_concrete" class="idref" href="#promise_inj_weak_remove_concrete"><span class="id" title="lemma">promise_inj_weak_remove_concrete</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="inj:49" class="idref" href="#inj:49"><span class="id" title="binder">inj</span></a> <a id="promises:50" class="idref" href="#promises:50"><span class="id" title="binder">promises</span></a> <a id="promises':51" class="idref" href="#promises':51"><span class="id" title="binder">promises'</span></a> <a id="loc:52" class="idref" href="#loc:52"><span class="id" title="binder">loc</span></a> <a id="from:53" class="idref" href="#from:53"><span class="id" title="binder">from</span></a> <a id="to:54" class="idref" href="#to:54"><span class="id" title="binder">to</span></a> <a id="msg:55" class="idref" href="#msg:55"><span class="id" title="binder">msg</span></a> <a id="from':56" class="idref" href="#from':56"><span class="id" title="binder">from'</span></a> <a id="to':57" class="idref" href="#to':57"><span class="id" title="binder">to'</span></a> <a id="msg':58" class="idref" href="#msg':58"><span class="id" title="binder">msg'</span></a> <a id="promises1:59" class="idref" href="#promises1:59"><span class="id" title="binder">promises1</span></a> <a id="promises1':60" class="idref" href="#promises1':60"><span class="id" title="binder">promises1'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="P_INJ:61" class="idref" href="#P_INJ:61"><span class="id" title="binder">P_INJ</span></a>: <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promise_inj_weak"><span class="id" title="inductive">promise_inj_weak</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#inj:49"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises:50"><span class="id" title="variable">promises</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises':51"><span class="id" title="variable">promises'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="REMOVE_RSV1:62" class="idref" href="#REMOVE_RSV1:62"><span class="id" title="binder">REMOVE_RSV1</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.remove"><span class="id" title="inductive">Memory.remove</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises:50"><span class="id" title="variable">promises</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#loc:52"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#from:53"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#to:54"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#msg:55"><span class="id" title="variable">msg</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises1:59"><span class="id" title="variable">promises1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="REMOVE_RSV2:63" class="idref" href="#REMOVE_RSV2:63"><span class="id" title="binder">REMOVE_RSV2</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.remove"><span class="id" title="inductive">Memory.remove</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises':51"><span class="id" title="variable">promises'</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#loc:52"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#from':56"><span class="id" title="variable">from'</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#to':57"><span class="id" title="variable">to'</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#msg':58"><span class="id" title="variable">msg'</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises1':60"><span class="id" title="variable">promises1'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="INJ:64" class="idref" href="#INJ:64"><span class="id" title="binder">INJ</span></a>: <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#inj:49"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#loc:52"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#to:54"><span class="id" title="variable">to</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#to':57"><span class="id" title="variable">to'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MON:65" class="idref" href="#MON:65"><span class="id" title="binder">MON</span></a>: <a class="idref" href="CompOptCert.MsgMapping.html#monotonic_inj"><span class="id" title="definition">monotonic_inj</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#inj:49"><span class="id" title="variable">inj</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CONCRETE_MSG:68" class="idref" href="#CONCRETE_MSG:68"><span class="id" title="binder">CONCRETE_MSG</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="val:66" class="idref" href="#val:66"><span class="id" title="binder">val</span></a> <a id="released:67" class="idref" href="#released:67"><span class="id" title="binder">released</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#msg:55"><span class="id" title="variable">msg</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#val:66"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#released:67"><span class="id" title="variable">released</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promise_inj_weak"><span class="id" title="inductive">promise_inj_weak</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#inj:49"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises1:59"><span class="id" title="variable">promises1</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises1':60"><span class="id" title="variable">promises1'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">P_INJ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">SOUND</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">to1</span> &amp; <span class="id" title="var">released1</span> &amp; <span class="id" title="var">from1</span> &amp; <span class="id" title="var">INJ1</span> &amp; <span class="id" title="var">GET1</span> &amp; <span class="id" title="var">Time_LT</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Loc.html#Loc.eq_dec"><span class="id" title="axiom">Loc.eq_dec</span></a> <span class="id" title="var">loc0</span> <span class="id" title="var">loc</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">to'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <span class="id" title="var">to1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MsgMapping.html#monotonic_inj_implies_disj_mapping"><span class="id" title="lemma">monotonic_inj_implies_disj_mapping</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_get1"><span class="id" title="lemma">Memory.remove_get1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET1</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_get1"><span class="id" title="lemma">Memory.remove_get1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">GET1</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">COMPLETE</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_get1"><span class="id" title="lemma">Memory.remove_get1</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE_RSV1</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">COMPLETE</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_get1"><span class="id" title="lemma">Memory.remove_get1</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE_RSV1</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">INJ</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">RSV_SOUND</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">RSV_SOUND</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_get0"><span class="id" title="lemma">Memory.remove_get0</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_get0"><span class="id" title="lemma">Memory.remove_get0</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE_RSV1</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">SOUND</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET1</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">INJ</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET1</span>; <span class="id" title="var">inv</span> <span class="id" title="var">GET1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET3</span>. <span class="id" title="var">inv</span> <span class="id" title="var">GET3</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">RSV_COMPLETE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_o"><span class="id" title="lemma">Memory.remove_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>. <span class="id" title="var">ss</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.remove_get0"><span class="id" title="lemma">Memory.remove_get0</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">REMOVE_RSV1</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="var">inv</span> <span class="id" title="var">GET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="promise_inj_weak_split" class="idref" href="#promise_inj_weak_split"><span class="id" title="lemma">promise_inj_weak_split</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="inj:69" class="idref" href="#inj:69"><span class="id" title="binder">inj</span></a> <a id="promises:70" class="idref" href="#promises:70"><span class="id" title="binder">promises</span></a> <a id="promises':71" class="idref" href="#promises':71"><span class="id" title="binder">promises'</span></a> <a id="loc:72" class="idref" href="#loc:72"><span class="id" title="binder">loc</span></a> <a id="from:73" class="idref" href="#from:73"><span class="id" title="binder">from</span></a> <a id="to:74" class="idref" href="#to:74"><span class="id" title="binder">to</span></a> <a id="ts:75" class="idref" href="#ts:75"><span class="id" title="binder">ts</span></a> <a id="val:76" class="idref" href="#val:76"><span class="id" title="binder">val</span></a> <a id="msg1:77" class="idref" href="#msg1:77"><span class="id" title="binder">msg1</span></a> <a id="msg2:78" class="idref" href="#msg2:78"><span class="id" title="binder">msg2</span></a> <a id="from':79" class="idref" href="#from':79"><span class="id" title="binder">from'</span></a> <a id="to':80" class="idref" href="#to':80"><span class="id" title="binder">to'</span></a> <a id="msg1':81" class="idref" href="#msg1':81"><span class="id" title="binder">msg1'</span></a> <a id="msg2':82" class="idref" href="#msg2':82"><span class="id" title="binder">msg2'</span></a> <a id="ts':83" class="idref" href="#ts':83"><span class="id" title="binder">ts'</span></a> <a id="promises1:84" class="idref" href="#promises1:84"><span class="id" title="binder">promises1</span></a> <a id="promises1':85" class="idref" href="#promises1':85"><span class="id" title="binder">promises1'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="P_INJ:86" class="idref" href="#P_INJ:86"><span class="id" title="binder">P_INJ</span></a>: <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promise_inj_weak"><span class="id" title="inductive">promise_inj_weak</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#inj:69"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises:70"><span class="id" title="variable">promises</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises':71"><span class="id" title="variable">promises'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="SPLIT1:87" class="idref" href="#SPLIT1:87"><span class="id" title="binder">SPLIT1</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.split"><span class="id" title="inductive">Memory.split</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises:70"><span class="id" title="variable">promises</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#loc:72"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#from:73"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#to:74"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#ts:75"><span class="id" title="variable">ts</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#msg1:77"><span class="id" title="variable">msg1</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#msg2:78"><span class="id" title="variable">msg2</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises1:84"><span class="id" title="variable">promises1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="SPLIT2:88" class="idref" href="#SPLIT2:88"><span class="id" title="binder">SPLIT2</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.split"><span class="id" title="inductive">Memory.split</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises':71"><span class="id" title="variable">promises'</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#loc:72"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#from':79"><span class="id" title="variable">from'</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#to':80"><span class="id" title="variable">to'</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#ts':83"><span class="id" title="variable">ts'</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#msg1':81"><span class="id" title="variable">msg1'</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#msg2':82"><span class="id" title="variable">msg2'</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises1':85"><span class="id" title="variable">promises1'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="INJ:89" class="idref" href="#INJ:89"><span class="id" title="binder">INJ</span></a>: <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#inj:69"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#loc:72"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#to:74"><span class="id" title="variable">to</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#to':80"><span class="id" title="variable">to'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="INJ':90" class="idref" href="#INJ':90"><span class="id" title="binder">INJ'</span></a>: <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#inj:69"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#loc:72"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#ts:75"><span class="id" title="variable">ts</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#ts':83"><span class="id" title="variable">ts'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MON:91" class="idref" href="#MON:91"><span class="id" title="binder">MON</span></a>: <a class="idref" href="CompOptCert.MsgMapping.html#monotonic_inj"><span class="id" title="definition">monotonic_inj</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#inj:69"><span class="id" title="variable">inj</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CONCRETE_MSG1:93" class="idref" href="#CONCRETE_MSG1:93"><span class="id" title="binder">CONCRETE_MSG1</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="released:92" class="idref" href="#released:92"><span class="id" title="binder">released</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#msg1:77"><span class="id" title="variable">msg1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#val:76"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#released:92"><span class="id" title="variable">released</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CONCRETE_MSG1':95" class="idref" href="#CONCRETE_MSG1':95"><span class="id" title="binder">CONCRETE_MSG1'</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="released:94" class="idref" href="#released:94"><span class="id" title="binder">released</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#msg1':81"><span class="id" title="variable">msg1'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#val:76"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#released:94"><span class="id" title="variable">released</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CONCRETE_MSG2:98" class="idref" href="#CONCRETE_MSG2:98"><span class="id" title="binder">CONCRETE_MSG2</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="val:96" class="idref" href="#val:96"><span class="id" title="binder">val</span></a> <a id="released:97" class="idref" href="#released:97"><span class="id" title="binder">released</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#msg2:78"><span class="id" title="variable">msg2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#val:96"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#released:97"><span class="id" title="variable">released</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CONCRETE_MSG2':101" class="idref" href="#CONCRETE_MSG2':101"><span class="id" title="binder">CONCRETE_MSG2'</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="val:99" class="idref" href="#val:99"><span class="id" title="binder">val</span></a> <a id="released:100" class="idref" href="#released:100"><span class="id" title="binder">released</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#msg2':82"><span class="id" title="variable">msg2'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#val:99"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#released:100"><span class="id" title="variable">released</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promise_inj_weak"><span class="id" title="inductive">promise_inj_weak</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#inj:69"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises1:84"><span class="id" title="variable">promises1</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises1':85"><span class="id" title="variable">promises1'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>. <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">P_INJ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">dup</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_o"><span class="id" title="lemma">Memory.split_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_get0"><span class="id" title="lemma">Memory.split_get0</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">SPLIT1</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_get0"><span class="id" title="lemma">Memory.split_get0</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">SPLIT2</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryProps.html#split_succeed_wf"><span class="id" title="lemma">MemoryProps.split_succeed_wf</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">SPLIT2</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">SOUND</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc0</span> <span class="id" title="var">to'0</span> <span class="id" title="var">promises1'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">from'0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <span class="id" title="var">val2</span> <span class="id" title="var">released'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_o"><span class="id" title="lemma">Memory.split_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">SOUND</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc0</span> <span class="id" title="var">to'0</span> <span class="id" title="var">promises1'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">from'0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <span class="id" title="var">val2</span> <span class="id" title="var">released'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_o"><span class="id" title="lemma">Memory.split_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_get0"><span class="id" title="lemma">Memory.split_get0</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">SPLIT1</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">SOUND</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">INJ'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_get0"><span class="id" title="lemma">Memory.split_get0</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">SPLIT2</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET4</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MemoryProps.html#split_succeed_wf"><span class="id" title="lemma">MemoryProps.split_succeed_wf</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">SPLIT2</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">SOUND</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc0</span> <span class="id" title="var">to'0</span> <span class="id" title="var">promises1'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">from'0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <span class="id" title="var">val2</span> <span class="id" title="var">released'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_o"><span class="id" title="lemma">Memory.split_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">SOUND</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_o"><span class="id" title="lemma">Memory.split_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (2 := <span class="id" title="var">released'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">from'0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">INJ</span> <span class="id" title="var">o</span> <span class="id" title="var">H1</span> <span class="id" title="var">MON</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MsgMapping.html#monotonic_inj_implies_disj_mapping"><span class="id" title="lemma">monotonic_inj_implies_disj_mapping</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">MON</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">H1</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">INJ</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">o</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">INJ'</span> <span class="id" title="var">o0</span> <span class="id" title="var">H1</span> <span class="id" title="var">MON</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MsgMapping.html#monotonic_inj_implies_disj_mapping"><span class="id" title="lemma">monotonic_inj_implies_disj_mapping</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">MON</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">H1</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">INJ'</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">o0</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">dup</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_o"><span class="id" title="lemma">Memory.split_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_get0"><span class="id" title="lemma">Memory.split_get0</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">SPLIT2</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_get0"><span class="id" title="lemma">Memory.split_get0</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">SPLIT1</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">COMPLETE</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc0</span> <span class="id" title="var">to0</span> <span class="id" title="var">promises1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">from0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <span class="id" title="var">val2</span> <span class="id" title="var">released3</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_o"><span class="id" title="lemma">Memory.split_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">COMPLETE</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc0</span> <span class="id" title="var">to0</span> <span class="id" title="var">promises1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">from0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <span class="id" title="var">val2</span> <span class="id" title="var">released3</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_o"><span class="id" title="lemma">Memory.split_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_get0"><span class="id" title="lemma">Memory.split_get0</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">SPLIT2</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">COMPLETE</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">to0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">ts</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">MON</span> <span class="id" title="var">INJ'</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span>(<a class="idref" href="CompOptCert.Time.html#Time.eq_dec"><span class="id" title="axiom">Time.eq_dec</span></a> <span class="id" title="var">to0</span> <span class="id" title="var">ts</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.MsgMapping.html#monotonic_inj_implies_disj_mapping"><span class="id" title="lemma">monotonic_inj_implies_disj_mapping</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">MON</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">INJ'</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">n</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">INJ'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_get0"><span class="id" title="lemma">Memory.split_get0</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">SPLIT1</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET4</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">COMPLETE</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc0</span> <span class="id" title="var">to0</span> <span class="id" title="var">promises1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">from0</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <span class="id" title="var">val2</span> <span class="id" title="var">released3</span><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_o"><span class="id" title="lemma">Memory.split_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">COMPLETE</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_o"><span class="id" title="lemma">Memory.split_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">released3</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">from0</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">INJ</span> <span class="id" title="var">o</span> <span class="id" title="var">H1</span> <span class="id" title="var">MON</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">INJ</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H1</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">INJ'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H1</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_o"><span class="id" title="lemma">Memory.split_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">RSV_SOUND</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_o"><span class="id" title="lemma">Memory.split_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">RSV_SOUND</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_o"><span class="id" title="lemma">Memory.split_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">RSV_SOUND</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_o"><span class="id" title="lemma">Memory.split_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">RSV_SOUND</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_o"><span class="id" title="lemma">Memory.split_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_get0"><span class="id" title="lemma">Memory.split_get0</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">SPLIT2</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_get0"><span class="id" title="lemma">Memory.split_get0</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">SPLIT2</span> | <span class="id" title="tactic">eauto</span>]; <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_o"><span class="id" title="lemma">Memory.split_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">RSV_COMPLETE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_o"><span class="id" title="lemma">Memory.split_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">RSV_COMPLETE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_o"><span class="id" title="lemma">Memory.split_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">RSV_COMPLETE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_o"><span class="id" title="lemma">Memory.split_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">RSV_COMPLETE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_o"><span class="id" title="lemma">Memory.split_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_get0"><span class="id" title="lemma">Memory.split_get0</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">SPLIT1</span> | <span class="id" title="tactic">eauto</span>]; <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.split_get0"><span class="id" title="lemma">Memory.split_get0</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">SPLIT1</span> | <span class="id" title="tactic">eauto</span>]; <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="promise_inj_weak_lower" class="idref" href="#promise_inj_weak_lower"><span class="id" title="lemma">promise_inj_weak_lower</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="inj:102" class="idref" href="#inj:102"><span class="id" title="binder">inj</span></a> <a id="promises:103" class="idref" href="#promises:103"><span class="id" title="binder">promises</span></a> <a id="promises':104" class="idref" href="#promises':104"><span class="id" title="binder">promises'</span></a> <a id="loc:105" class="idref" href="#loc:105"><span class="id" title="binder">loc</span></a> <a id="from:106" class="idref" href="#from:106"><span class="id" title="binder">from</span></a> <a id="to:107" class="idref" href="#to:107"><span class="id" title="binder">to</span></a> <a id="msg1:108" class="idref" href="#msg1:108"><span class="id" title="binder">msg1</span></a> <a id="msg2:109" class="idref" href="#msg2:109"><span class="id" title="binder">msg2</span></a> <a id="from':110" class="idref" href="#from':110"><span class="id" title="binder">from'</span></a> <a id="to':111" class="idref" href="#to':111"><span class="id" title="binder">to'</span></a> <a id="msg1':112" class="idref" href="#msg1':112"><span class="id" title="binder">msg1'</span></a> <a id="msg2':113" class="idref" href="#msg2':113"><span class="id" title="binder">msg2'</span></a> <a id="promises1:114" class="idref" href="#promises1:114"><span class="id" title="binder">promises1</span></a> <a id="promises1':115" class="idref" href="#promises1':115"><span class="id" title="binder">promises1'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="P_INJ:116" class="idref" href="#P_INJ:116"><span class="id" title="binder">P_INJ</span></a>: <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promise_inj_weak"><span class="id" title="inductive">promise_inj_weak</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#inj:102"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises:103"><span class="id" title="variable">promises</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises':104"><span class="id" title="variable">promises'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOWER1:117" class="idref" href="#LOWER1:117"><span class="id" title="binder">LOWER1</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.lower"><span class="id" title="inductive">Memory.lower</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises:103"><span class="id" title="variable">promises</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#loc:105"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#from:106"><span class="id" title="variable">from</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#to:107"><span class="id" title="variable">to</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#msg1:108"><span class="id" title="variable">msg1</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#msg2:109"><span class="id" title="variable">msg2</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises1:114"><span class="id" title="variable">promises1</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOWER2:118" class="idref" href="#LOWER2:118"><span class="id" title="binder">LOWER2</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.lower"><span class="id" title="inductive">Memory.lower</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises':104"><span class="id" title="variable">promises'</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#loc:105"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#from':110"><span class="id" title="variable">from'</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#to':111"><span class="id" title="variable">to'</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#msg1':112"><span class="id" title="variable">msg1'</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#msg2':113"><span class="id" title="variable">msg2'</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises1':115"><span class="id" title="variable">promises1'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CONCRETE:121" class="idref" href="#CONCRETE:121"><span class="id" title="binder">CONCRETE</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="val:119" class="idref" href="#val:119"><span class="id" title="binder">val</span></a> <a id="released:120" class="idref" href="#released:120"><span class="id" title="binder">released</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#msg1:108"><span class="id" title="variable">msg1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#val:119"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#released:120"><span class="id" title="variable">released</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="INJ:122" class="idref" href="#INJ:122"><span class="id" title="binder">INJ</span></a>: <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#inj:102"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#loc:105"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#to:107"><span class="id" title="variable">to</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#to':111"><span class="id" title="variable">to'</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promise_inj_weak"><span class="id" title="inductive">promise_inj_weak</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#inj:102"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises1:114"><span class="id" title="variable">promises1</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises1':115"><span class="id" title="variable">promises1'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">P_INJ</span>. <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_o"><span class="id" title="lemma">Memory.lower_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_get0"><span class="id" title="lemma">Memory.lower_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LOWER1</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MSG_LE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">SOUND</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">INJ</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_get0"><span class="id" title="lemma">Memory.lower_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LOWER2</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MSG_LE</span>. <span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">SOUND</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_get1"><span class="id" title="lemma">Memory.lower_get1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LOWER2</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MSG_LE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">SOUND</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_get1"><span class="id" title="lemma">Memory.lower_get1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LOWER2</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MSG_LE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_o"><span class="id" title="lemma">Memory.lower_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_get0"><span class="id" title="lemma">Memory.lower_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LOWER1</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">des</span>. <span class="id" title="var">inv</span> <span class="id" title="var">MSG_LE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_get0"><span class="id" title="lemma">Memory.lower_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LOWER2</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">des</span>. <span class="id" title="var">inv</span> <span class="id" title="var">MSG_LE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">SOUND</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">INJ</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">SOUND</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">INJ</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="var">inv</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">COMPLETE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_get1"><span class="id" title="lemma">Memory.lower_get1</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">LOWER1</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>. <span class="id" title="var">inv</span> <span class="id" title="var">MSG_LE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">COMPLETE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_get1"><span class="id" title="lemma">Memory.lower_get1</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">LOWER1</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>. <span class="id" title="var">inv</span> <span class="id" title="var">MSG_LE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_o"><span class="id" title="lemma">Memory.lower_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_get0"><span class="id" title="lemma">Memory.lower_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LOWER1</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MSG_LE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">RSV_SOUND</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_o"><span class="id" title="lemma">Memory.lower_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">RSV_SOUND</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_o"><span class="id" title="lemma">Memory.lower_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_get0"><span class="id" title="lemma">Memory.lower_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LOWER1</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_get0"><span class="id" title="lemma">Memory.lower_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LOWER2</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">SOUND</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">INJ</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="var">inv</span> <span class="id" title="var">GET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET3</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET1</span>; <span class="id" title="var">inv</span> <span class="id" title="var">GET1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MSG_LE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET3</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_o"><span class="id" title="lemma">Memory.lower_o</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_get0"><span class="id" title="lemma">Memory.lower_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LOWER1</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MSG_LE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">SOUND</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">INJ</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="var">inv</span> <span class="id" title="var">GET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_get0"><span class="id" title="lemma">Memory.lower_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LOWER2</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="var">inv</span> <span class="id" title="var">GET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MSG_LE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">RSV_COMPLETE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_o"><span class="id" title="lemma">Memory.lower_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">RSV_COMPLETE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_o"><span class="id" title="lemma">Memory.lower_o</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_if</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_get0"><span class="id" title="lemma">Memory.lower_get0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">LOWER1</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mem_nonsynch_loc_msgInj_weak" class="idref" href="#mem_nonsynch_loc_msgInj_weak"><span class="id" title="lemma">mem_nonsynch_loc_msgInj_weak</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="promises:123" class="idref" href="#promises:123"><span class="id" title="binder">promises</span></a> <a id="promises':124" class="idref" href="#promises':124"><span class="id" title="binder">promises'</span></a> <a id="mem:125" class="idref" href="#mem:125"><span class="id" title="binder">mem</span></a> <a id="mem':126" class="idref" href="#mem':126"><span class="id" title="binder">mem'</span></a> <a id="inj:127" class="idref" href="#inj:127"><span class="id" title="binder">inj</span></a> <a id="loc:128" class="idref" href="#loc:128"><span class="id" title="binder">loc</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_INJ:129" class="idref" href="#MEM_INJ:129"><span class="id" title="binder">MEM_INJ</span></a>: <a class="idref" href="CompOptCert.MsgMapping.html#MsgInj"><span class="id" title="inductive">MsgInj</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#inj:127"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#mem:125"><span class="id" title="variable">mem</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#mem':126"><span class="id" title="variable">mem'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LE1:130" class="idref" href="#LE1:130"><span class="id" title="binder">LE1</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises:123"><span class="id" title="variable">promises</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#mem:125"><span class="id" title="variable">mem</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LE2:131" class="idref" href="#LE2:131"><span class="id" title="binder">LE2</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises':124"><span class="id" title="variable">promises'</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#mem':126"><span class="id" title="variable">mem'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PROM_INJ:132" class="idref" href="#PROM_INJ:132"><span class="id" title="binder">PROM_INJ</span></a>: <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promise_inj_weak"><span class="id" title="inductive">promise_inj_weak</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#inj:127"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises:123"><span class="id" title="variable">promises</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises':124"><span class="id" title="variable">promises'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NONSYNC_LOC:133" class="idref" href="#NONSYNC_LOC:133"><span class="id" title="binder">NONSYNC_LOC</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.nonsynch_loc"><span class="id" title="definition">Memory.nonsynch_loc</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#loc:128"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises:123"><span class="id" title="variable">promises</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.nonsynch_loc"><span class="id" title="definition">Memory.nonsynch_loc</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#loc:128"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises':124"><span class="id" title="variable">promises'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.nonsynch_loc"><span class="id" title="definition">Memory.nonsynch_loc</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROM_INJ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">msg</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">dup</span> <span class="id" title="var">GET</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">COMPLETE</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">NONSYNC_LOC</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">MEM_INJ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">dup</span> <span class="id" title="var">H0</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">LE1</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">SOUND0</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.MsgMapping.html#opt_ViewInj"><span class="id" title="definition">opt_ViewInj</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">R'</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">LE2</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H3</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H3</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="mem_nonsynch_msgInj_weak" class="idref" href="#mem_nonsynch_msgInj_weak"><span class="id" title="lemma">mem_nonsynch_msgInj_weak</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="promises:134" class="idref" href="#promises:134"><span class="id" title="binder">promises</span></a> <a id="promises':135" class="idref" href="#promises':135"><span class="id" title="binder">promises'</span></a> <a id="mem:136" class="idref" href="#mem:136"><span class="id" title="binder">mem</span></a> <a id="mem':137" class="idref" href="#mem':137"><span class="id" title="binder">mem'</span></a> <a id="inj:138" class="idref" href="#inj:138"><span class="id" title="binder">inj</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MEM_INJ:139" class="idref" href="#MEM_INJ:139"><span class="id" title="binder">MEM_INJ</span></a>: <a class="idref" href="CompOptCert.MsgMapping.html#MsgInj"><span class="id" title="inductive">MsgInj</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#inj:138"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#mem:136"><span class="id" title="variable">mem</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#mem':137"><span class="id" title="variable">mem'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LE1:140" class="idref" href="#LE1:140"><span class="id" title="binder">LE1</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises:134"><span class="id" title="variable">promises</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#mem:136"><span class="id" title="variable">mem</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LE2:141" class="idref" href="#LE2:141"><span class="id" title="binder">LE2</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.le"><span class="id" title="definition">Memory.le</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises':135"><span class="id" title="variable">promises'</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#mem':137"><span class="id" title="variable">mem'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PROM_INJ:142" class="idref" href="#PROM_INJ:142"><span class="id" title="binder">PROM_INJ</span></a>: <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promise_inj_weak"><span class="id" title="inductive">promise_inj_weak</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#inj:138"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises:134"><span class="id" title="variable">promises</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises':135"><span class="id" title="variable">promises'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="NONSYNC:143" class="idref" href="#NONSYNC:143"><span class="id" title="binder">NONSYNC</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.nonsynch"><span class="id" title="definition">Memory.nonsynch</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises:134"><span class="id" title="variable">promises</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.nonsynch"><span class="id" title="definition">Memory.nonsynch</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises':135"><span class="id" title="variable">promises'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Memory.html#Memory.nonsynch"><span class="id" title="definition">Memory.nonsynch</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">intro</span> <span class="id" title="var">loc</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">NONSYNC</span> <span class="id" title="var">loc</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#mem_nonsynch_loc_msgInj_weak"><span class="id" title="lemma">mem_nonsynch_loc_msgInj_weak</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="promise_inj_weak_bot" class="idref" href="#promise_inj_weak_bot"><span class="id" title="lemma">promise_inj_weak_bot</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="promises:144" class="idref" href="#promises:144"><span class="id" title="binder">promises</span></a> <a id="promises':145" class="idref" href="#promises':145"><span class="id" title="binder">promises'</span></a> <a id="inj:146" class="idref" href="#inj:146"><span class="id" title="binder">inj</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PROM_INJ:147" class="idref" href="#PROM_INJ:147"><span class="id" title="binder">PROM_INJ</span></a>: <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promise_inj_weak"><span class="id" title="inductive">promise_inj_weak</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#inj:146"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises:144"><span class="id" title="variable">promises</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises':145"><span class="id" title="variable">promises'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="BOT:148" class="idref" href="#BOT:148"><span class="id" title="binder">BOT</span></a>: <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises:144"><span class="id" title="variable">promises</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promises':145"><span class="id" title="variable">promises'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROM_INJ</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#classic"><span class="id" title="axiom">classic</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="loc:153" class="idref" href="#loc:153"><span class="id" title="binder">loc</span></a> <a id="to:154" class="idref" href="#to:154"><span class="id" title="binder">to</span></a> <a id="from:155" class="idref" href="#from:155"><span class="id" title="binder">from</span></a> <a id="msg:156" class="idref" href="#msg:156"><span class="id" title="binder">msg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#loc:149"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#to:150"><span class="id" title="variable">to</span></a> <span class="id" title="var">promises'</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.PromiseInjectionWeak.html#from:151"><span class="id" title="variable">from</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#msg:152"><span class="id" title="variable">msg</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">msg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">COMPLETE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.bot_get"><span class="id" title="lemma">Memory.bot_get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">RSV_COMPLETE</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.bot_get"><span class="id" title="lemma">Memory.bot_get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Memory.html#Memory.ext"><span class="id" title="lemma">Memory.ext</span></a>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.bot_get"><span class="id" title="lemma">Memory.bot_get</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Memory.html#Memory.get"><span class="id" title="definition">Memory.get</span></a> <span class="id" title="var">loc</span> <span class="id" title="var">ts</span> <span class="id" title="var">promises'</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Heqe</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="write_step_promise_inj_weak_stable" class="idref" href="#write_step_promise_inj_weak_stable"><span class="id" title="lemma">write_step_promise_inj_weak_stable</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc1:157" class="idref" href="#lc1:157"><span class="id" title="binder">lc1</span></a> <a id="sc1:158" class="idref" href="#sc1:158"><span class="id" title="binder">sc1</span></a> <a id="mem1:159" class="idref" href="#mem1:159"><span class="id" title="binder">mem1</span></a> <a id="loc:160" class="idref" href="#loc:160"><span class="id" title="binder">loc</span></a> <a id="from1:161" class="idref" href="#from1:161"><span class="id" title="binder">from1</span></a> <a id="to1:162" class="idref" href="#to1:162"><span class="id" title="binder">to1</span></a> <a id="val:163" class="idref" href="#val:163"><span class="id" title="binder">val</span></a> <a id="releasedr1:164" class="idref" href="#releasedr1:164"><span class="id" title="binder">releasedr1</span></a> <a id="releasedw1:165" class="idref" href="#releasedw1:165"><span class="id" title="binder">releasedw1</span></a> <a id="ord:166" class="idref" href="#ord:166"><span class="id" title="binder">ord</span></a> <a id="lc1':167" class="idref" href="#lc1':167"><span class="id" title="binder">lc1'</span></a> <a id="sc1':168" class="idref" href="#sc1':168"><span class="id" title="binder">sc1'</span></a> <a id="mem1':169" class="idref" href="#mem1':169"><span class="id" title="binder">mem1'</span></a> <a id="kind1:170" class="idref" href="#kind1:170"><span class="id" title="binder">kind1</span></a> <a id="lo:171" class="idref" href="#lo:171"><span class="id" title="binder">lo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc2:172" class="idref" href="#lc2:172"><span class="id" title="binder">lc2</span></a> <a id="sc2:173" class="idref" href="#sc2:173"><span class="id" title="binder">sc2</span></a> <a id="mem2:174" class="idref" href="#mem2:174"><span class="id" title="binder">mem2</span></a> <a id="from2:175" class="idref" href="#from2:175"><span class="id" title="binder">from2</span></a> <a id="to2:176" class="idref" href="#to2:176"><span class="id" title="binder">to2</span></a> <a id="releasedr2:177" class="idref" href="#releasedr2:177"><span class="id" title="binder">releasedr2</span></a> <a id="releasedw2:178" class="idref" href="#releasedw2:178"><span class="id" title="binder">releasedw2</span></a> <a id="lc2':179" class="idref" href="#lc2':179"><span class="id" title="binder">lc2'</span></a> <a id="sc2':180" class="idref" href="#sc2':180"><span class="id" title="binder">sc2'</span></a> <a id="mem2':181" class="idref" href="#mem2':181"><span class="id" title="binder">mem2'</span></a> <a id="kind2:182" class="idref" href="#kind2:182"><span class="id" title="binder">kind2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="inj:183" class="idref" href="#inj:183"><span class="id" title="binder">inj</span></a> <a id="inj':184" class="idref" href="#inj':184"><span class="id" title="binder">inj'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WRITE1:185" class="idref" href="#WRITE1:185"><span class="id" title="binder">WRITE1</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.write_step"><span class="id" title="inductive">Local.write_step</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#lc1:157"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#sc1:158"><span class="id" title="variable">sc1</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#mem1:159"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#loc:160"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#from1:161"><span class="id" title="variable">from1</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#to1:162"><span class="id" title="variable">to1</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#val:163"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#releasedr1:164"><span class="id" title="variable">releasedr1</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#releasedw1:165"><span class="id" title="variable">releasedw1</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#ord:166"><span class="id" title="variable">ord</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#lc1':167"><span class="id" title="variable">lc1'</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#sc1':168"><span class="id" title="variable">sc1'</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#mem1':169"><span class="id" title="variable">mem1'</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#kind1:170"><span class="id" title="variable">kind1</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#lo:171"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WRITE2:186" class="idref" href="#WRITE2:186"><span class="id" title="binder">WRITE2</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.write_step"><span class="id" title="inductive">Local.write_step</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#lc2:172"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#sc2:173"><span class="id" title="variable">sc2</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#mem2:174"><span class="id" title="variable">mem2</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#loc:160"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#from2:175"><span class="id" title="variable">from2</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#to2:176"><span class="id" title="variable">to2</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#val:163"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#releasedr2:177"><span class="id" title="variable">releasedr2</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#releasedw2:178"><span class="id" title="variable">releasedw2</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#ord:166"><span class="id" title="variable">ord</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#lc2':179"><span class="id" title="variable">lc2'</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#sc2':180"><span class="id" title="variable">sc2'</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#mem2':181"><span class="id" title="variable">mem2'</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#kind2:182"><span class="id" title="variable">kind2</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#lo:171"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PROM_INJ:187" class="idref" href="#PROM_INJ:187"><span class="id" title="binder">PROM_INJ</span></a>: <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promise_inj_weak"><span class="id" title="inductive">promise_inj_weak</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#inj:183"><span class="id" title="variable">inj</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#lc1:157"><span class="id" title="variable">lc1</span></a>) (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#lc2:172"><span class="id" title="variable">lc2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="INJ_INCR:188" class="idref" href="#INJ_INCR:188"><span class="id" title="binder">INJ_INCR</span></a>: <a class="idref" href="CompOptCert.MsgMapping.html#incr_inj"><span class="id" title="definition">incr_inj</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#inj:183"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#inj':184"><span class="id" title="variable">inj'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="INJ:189" class="idref" href="#INJ:189"><span class="id" title="binder">INJ</span></a>: <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#inj':184"><span class="id" title="variable">inj'</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#loc:160"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#to1:162"><span class="id" title="variable">to1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#to2:176"><span class="id" title="variable">to2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MON:190" class="idref" href="#MON:190"><span class="id" title="binder">MON</span></a>: <a class="idref" href="CompOptCert.MsgMapping.html#monotonic_inj"><span class="id" title="definition">monotonic_inj</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#inj':184"><span class="id" title="variable">inj'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="KIND_MATCH:191" class="idref" href="#KIND_MATCH:191"><span class="id" title="binder">KIND_MATCH</span></a>: <a class="idref" href="CompOptCert.MsgMapping.html#kind_match"><span class="id" title="definition">kind_match</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#kind1:170"><span class="id" title="variable">kind1</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#kind2:182"><span class="id" title="variable">kind2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="SPLIT:198" class="idref" href="#SPLIT:198"><span class="id" title="binder">SPLIT</span></a>: <span class="id" title="keyword">∀</span> <a id="t:192" class="idref" href="#t:192"><span class="id" title="binder">t</span></a> <a id="val:193" class="idref" href="#val:193"><span class="id" title="binder">val</span></a> <a id="R:194" class="idref" href="#R:194"><span class="id" title="binder">R</span></a>, <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#kind1:170"><span class="id" title="variable">kind1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_split"><span class="id" title="constructor">Memory.op_kind_split</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#t:192"><span class="id" title="variable">t</span></a> (<a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#val:193"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#R:194"><span class="id" title="variable">R</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="t':195" class="idref" href="#t':195"><span class="id" title="binder">t'</span></a> <a id="val':196" class="idref" href="#val':196"><span class="id" title="binder">val'</span></a> <a id="R':197" class="idref" href="#R':197"><span class="id" title="binder">R'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#kind2:182"><span class="id" title="variable">kind2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_split"><span class="id" title="constructor">Memory.op_kind_split</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#t':195"><span class="id" title="variable">t'</span></a> (<a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#val':196"><span class="id" title="variable">val'</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#R':197"><span class="id" title="variable">R'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.PromiseInjectionWeak.html#to1:162"><span class="id" title="variable">to1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#to2:176"><span class="id" title="variable">to2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#inj:183"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#loc:160"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#t:192"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#t':195"><span class="id" title="variable">t'</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promise_inj_weak"><span class="id" title="inductive">promise_inj_weak</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#inj':184"><span class="id" title="variable">inj'</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#lc1':167"><span class="id" title="variable">lc1'</span></a>) (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#lc2':179"><span class="id" title="variable">lc2'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE1</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">kind2</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE2</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">promises2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryMerge.html#MemoryMerge.add_remove"><span class="id" title="lemma">MemoryMerge.MemoryMerge.add_remove</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc2</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">promises1</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.MemoryMerge.html#MemoryMerge.add_remove"><span class="id" title="lemma">MemoryMerge.MemoryMerge.add_remove</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promise_inj_weak_incr"><span class="id" title="lemma">promise_inj_weak_incr</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">inv</span> <span class="id" title="var">RESERVE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">kind2</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">SPLIT</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>. <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promise_inj_weak"><span class="id" title="inductive">promise_inj_weak</span></a> <span class="id" title="var">inj'</span> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc1</span>) (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promise_inj_weak_incr"><span class="id" title="lemma">promise_inj_weak_incr</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE2</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>. <span class="id" title="var">des</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">RESERVE</span>. <span class="id" title="var">inv</span> <span class="id" title="var">RESERVEORIGINAL</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promise_inj_weak_split"><span class="id" title="lemma">promise_inj_weak_split</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promise_inj_weak_remove_concrete"><span class="id" title="lemma">promise_inj_weak_remove_concrete</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">kind2</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE2</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>. <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">INJ''</span>: <span class="id" title="var">inj</span> <span class="id" title="var">loc</span> <span class="id" title="var">to1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">to2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">PROM_INJ</span> <span class="id" title="var">INJ</span> <span class="id" title="var">INJ_INCR</span> <span class="id" title="var">PROMISES</span> <span class="id" title="var">PROMISES0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_get0"><span class="id" title="lemma">Memory.lower_get0</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROM_INJ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">SOUND</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">dup</span> <span class="id" title="var">GET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">INJ_INCR</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET</span> <span class="id" title="tactic">in</span> <span class="id" title="var">INJ</span>. <span class="id" title="var">inv</span> <span class="id" title="var">INJ</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promise_inj_weak_lower"><span class="id" title="lemma">promise_inj_weak_lower</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promise_inj_weak_incr"><span class="id" title="lemma">promise_inj_weak_incr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promise_inj_weak_remove_concrete"><span class="id" title="lemma">promise_inj_weak_remove_concrete</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="var">ss</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="promise_fulfill_kind_match" class="idref" href="#promise_fulfill_kind_match"><span class="id" title="definition">promise_fulfill_kind_match</span></a> (<a id="kind1:199" class="idref" href="#kind1:199"><span class="id" title="binder">kind1</span></a> <a id="kind2:200" class="idref" href="#kind2:200"><span class="id" title="binder">kind2</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind"><span class="id" title="inductive">Memory.op_kind</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#kind1:199"><span class="id" title="variable">kind1</span></a>, <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#kind2:200"><span class="id" title="variable">kind2</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;| <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_split"><span class="id" title="constructor">Memory.op_kind_split</span></a> <span class="id" title="var">to</span> (<a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <span class="id" title="var">val</span> <span class="id" title="var">R</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_split"><span class="id" title="constructor">Memory.op_kind_split</span></a> <span class="id" title="var">to'</span> (<a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <span class="id" title="var">val'</span> <span class="id" title="var">R'</span>) ⇒ <span class="id" title="var">val</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">val'</span><br/>
&nbsp;&nbsp;| <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_lower"><span class="id" title="constructor">Memory.op_kind_lower</span></a> (<a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <span class="id" title="var">val</span> <span class="id" title="var">R</span>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_lower"><span class="id" title="constructor">Memory.op_kind_lower</span></a> (<a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <span class="id" title="var">val'</span> <span class="id" title="var">R'</span>) ⇒ <span class="id" title="var">val</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">val'</span> <br/>
&nbsp;&nbsp;| <span class="id" title="var">_</span>, <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="promise_fulfill_promise_inj_weak_stable" class="idref" href="#promise_fulfill_promise_inj_weak_stable"><span class="id" title="lemma">promise_fulfill_promise_inj_weak_stable</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc1:203" class="idref" href="#lc1:203"><span class="id" title="binder">lc1</span></a> <a id="sc1:204" class="idref" href="#sc1:204"><span class="id" title="binder">sc1</span></a> <a id="mem1:205" class="idref" href="#mem1:205"><span class="id" title="binder">mem1</span></a> <a id="loc:206" class="idref" href="#loc:206"><span class="id" title="binder">loc</span></a> <a id="from1:207" class="idref" href="#from1:207"><span class="id" title="binder">from1</span></a> <a id="to1:208" class="idref" href="#to1:208"><span class="id" title="binder">to1</span></a> <a id="val:209" class="idref" href="#val:209"><span class="id" title="binder">val</span></a> <a id="releasedr1:210" class="idref" href="#releasedr1:210"><span class="id" title="binder">releasedr1</span></a> <a id="releasedw1:211" class="idref" href="#releasedw1:211"><span class="id" title="binder">releasedw1</span></a> <a id="ord:212" class="idref" href="#ord:212"><span class="id" title="binder">ord</span></a> <a id="lc1':213" class="idref" href="#lc1':213"><span class="id" title="binder">lc1'</span></a> <a id="sc1':214" class="idref" href="#sc1':214"><span class="id" title="binder">sc1'</span></a> <a id="mem1':215" class="idref" href="#mem1':215"><span class="id" title="binder">mem1'</span></a> <a id="kind1:216" class="idref" href="#kind1:216"><span class="id" title="binder">kind1</span></a> <a id="lo:217" class="idref" href="#lo:217"><span class="id" title="binder">lo</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="lc2:218" class="idref" href="#lc2:218"><span class="id" title="binder">lc2</span></a> <a id="sc2:219" class="idref" href="#sc2:219"><span class="id" title="binder">sc2</span></a> <a id="mem2:220" class="idref" href="#mem2:220"><span class="id" title="binder">mem2</span></a> <a id="from2:221" class="idref" href="#from2:221"><span class="id" title="binder">from2</span></a> <a id="to2:222" class="idref" href="#to2:222"><span class="id" title="binder">to2</span></a> <a id="releasedr2:223" class="idref" href="#releasedr2:223"><span class="id" title="binder">releasedr2</span></a> <a id="releasedw2:224" class="idref" href="#releasedw2:224"><span class="id" title="binder">releasedw2</span></a> <a id="lc2':225" class="idref" href="#lc2':225"><span class="id" title="binder">lc2'</span></a> <a id="sc2':226" class="idref" href="#sc2':226"><span class="id" title="binder">sc2'</span></a> <a id="mem2':227" class="idref" href="#mem2':227"><span class="id" title="binder">mem2'</span></a> <a id="kind2:228" class="idref" href="#kind2:228"><span class="id" title="binder">kind2</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a id="inj:229" class="idref" href="#inj:229"><span class="id" title="binder">inj</span></a> <a id="inj':230" class="idref" href="#inj':230"><span class="id" title="binder">inj'</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WRITE1:231" class="idref" href="#WRITE1:231"><span class="id" title="binder">WRITE1</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.write_step"><span class="id" title="inductive">Local.write_step</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#lc1:203"><span class="id" title="variable">lc1</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#sc1:204"><span class="id" title="variable">sc1</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#mem1:205"><span class="id" title="variable">mem1</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#loc:206"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#from1:207"><span class="id" title="variable">from1</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#to1:208"><span class="id" title="variable">to1</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#val:209"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#releasedr1:210"><span class="id" title="variable">releasedr1</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#releasedw1:211"><span class="id" title="variable">releasedw1</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#ord:212"><span class="id" title="variable">ord</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#lc1':213"><span class="id" title="variable">lc1'</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#sc1':214"><span class="id" title="variable">sc1'</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#mem1':215"><span class="id" title="variable">mem1'</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#kind1:216"><span class="id" title="variable">kind1</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#lo:217"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WRITE2:232" class="idref" href="#WRITE2:232"><span class="id" title="binder">WRITE2</span></a>: <a class="idref" href="CompOptCert.Local.html#Local.write_step"><span class="id" title="inductive">Local.write_step</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#lc2:218"><span class="id" title="variable">lc2</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#sc2:219"><span class="id" title="variable">sc2</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#mem2:220"><span class="id" title="variable">mem2</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#loc:206"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#from2:221"><span class="id" title="variable">from2</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#to2:222"><span class="id" title="variable">to2</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#val:209"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#releasedr2:223"><span class="id" title="variable">releasedr2</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#releasedw2:224"><span class="id" title="variable">releasedw2</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#ord:212"><span class="id" title="variable">ord</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#lc2':225"><span class="id" title="variable">lc2'</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#sc2':226"><span class="id" title="variable">sc2'</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#mem2':227"><span class="id" title="variable">mem2'</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#kind2:228"><span class="id" title="variable">kind2</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#lo:217"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="PROM_INJ:233" class="idref" href="#PROM_INJ:233"><span class="id" title="binder">PROM_INJ</span></a>: <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promise_inj_weak"><span class="id" title="inductive">promise_inj_weak</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#inj:229"><span class="id" title="variable">inj</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#lc1:203"><span class="id" title="variable">lc1</span></a>) (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#lc2:218"><span class="id" title="variable">lc2</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="INJ_INCR:234" class="idref" href="#INJ_INCR:234"><span class="id" title="binder">INJ_INCR</span></a>: <a class="idref" href="CompOptCert.MsgMapping.html#incr_inj"><span class="id" title="definition">incr_inj</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#inj:229"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#inj':230"><span class="id" title="variable">inj'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="INJ:235" class="idref" href="#INJ:235"><span class="id" title="binder">INJ</span></a>: <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#inj':230"><span class="id" title="variable">inj'</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#loc:206"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#to1:208"><span class="id" title="variable">to1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#to2:222"><span class="id" title="variable">to2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MON:236" class="idref" href="#MON:236"><span class="id" title="binder">MON</span></a>: <a class="idref" href="CompOptCert.MsgMapping.html#monotonic_inj"><span class="id" title="definition">monotonic_inj</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#inj':230"><span class="id" title="variable">inj'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="KIND_MATCH:237" class="idref" href="#KIND_MATCH:237"><span class="id" title="binder">KIND_MATCH</span></a>: <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promise_fulfill_kind_match"><span class="id" title="definition">promise_fulfill_kind_match</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#kind1:216"><span class="id" title="variable">kind1</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#kind2:228"><span class="id" title="variable">kind2</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="SPLIT:244" class="idref" href="#SPLIT:244"><span class="id" title="binder">SPLIT</span></a>: <span class="id" title="keyword">∀</span> <a id="t:238" class="idref" href="#t:238"><span class="id" title="binder">t</span></a> <a id="val:239" class="idref" href="#val:239"><span class="id" title="binder">val</span></a> <a id="R:240" class="idref" href="#R:240"><span class="id" title="binder">R</span></a>, <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#kind1:216"><span class="id" title="variable">kind1</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_split"><span class="id" title="constructor">Memory.op_kind_split</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#t:238"><span class="id" title="variable">t</span></a> (<a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#val:239"><span class="id" title="variable">val</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#R:240"><span class="id" title="variable">R</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="t':241" class="idref" href="#t':241"><span class="id" title="binder">t'</span></a> <a id="val':242" class="idref" href="#val':242"><span class="id" title="binder">val'</span></a> <a id="R':243" class="idref" href="#R':243"><span class="id" title="binder">R'</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#kind2:228"><span class="id" title="variable">kind2</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.op_kind_split"><span class="id" title="constructor">Memory.op_kind_split</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#t':241"><span class="id" title="variable">t'</span></a> (<a class="idref" href="CompOptCert.Cell.html#Message.concrete"><span class="id" title="constructor">Message.concrete</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#val':242"><span class="id" title="variable">val'</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#R':243"><span class="id" title="variable">R'</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.PromiseInjectionWeak.html#inj:229"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#loc:206"><span class="id" title="variable">loc</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#t:238"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#t':241"><span class="id" title="variable">t'</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promise_inj_weak"><span class="id" title="inductive">promise_inj_weak</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#inj':230"><span class="id" title="variable">inj'</span></a> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#lc1':213"><span class="id" title="variable">lc1'</span></a>) (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#lc2':225"><span class="id" title="variable">lc2'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">kind1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">msg3</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">kind2</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">msg3</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE1</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE2</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">inv</span> <span class="id" title="var">RESERVE0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">RESERVEORIGINAL0</span>. <span class="id" title="var">inv</span> <span class="id" title="var">RESERVE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">SPLIT</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promise_inj_weak"><span class="id" title="inductive">promise_inj_weak</span></a> <span class="id" title="var">inj'</span> (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc1</span>) (<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> <span class="id" title="var">lc2</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promise_inj_weak_incr"><span class="id" title="lemma">promise_inj_weak_incr</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promise_inj_weak_split"><span class="id" title="lemma">promise_inj_weak_split</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promise_inj_weak_remove_concrete"><span class="id" title="lemma">promise_inj_weak_remove_concrete</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">msg1</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">kind2</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">msg1</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE1</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WRITE2</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WRITE</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">inv</span> <span class="id" title="var">RESERVE0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">INJ''</span>: <span class="id" title="var">inj</span> <span class="id" title="var">loc</span> <span class="id" title="var">to1</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">to2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">PROM_INJ</span> <span class="id" title="var">INJ</span> <span class="id" title="var">INJ_INCR</span> <span class="id" title="var">PROMISES</span> <span class="id" title="var">PROMISES0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Memory.html#Memory.lower_get0"><span class="id" title="lemma">Memory.lower_get0</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">PROMISES</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">PROM_INJ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">SOUND</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">dup</span> <span class="id" title="var">GET</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">INJ_INCR</span> <span class="id" title="tactic">in</span> <span class="id" title="var">GET</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">GET</span> <span class="id" title="tactic">in</span> <span class="id" title="var">INJ</span>. <span class="id" title="var">inv</span> <span class="id" title="var">INJ</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promise_inj_weak_lower"><span class="id" title="lemma">promise_inj_weak_lower</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promise_inj_weak_incr"><span class="id" title="lemma">promise_inj_weak_incr</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.PromiseInjectionWeak.html#promise_inj_weak_remove_concrete"><span class="id" title="lemma">promise_inj_weak_remove_concrete</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>