<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>CompOptCert.Compositionality</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library CompOptCert.Compositionality</h1>

<div class="code">
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.sflib.html#"><span class="id" title="library">sflib</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Axioms.html#"><span class="id" title="library">Axioms</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Basic.html#"><span class="id" title="library">Basic</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.DataStructure.html#"><span class="id" title="library">DataStructure</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Loc.html#"><span class="id" title="library">Loc</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Language.html#"><span class="id" title="library">Language</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Time.html#"><span class="id" title="library">Time</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Event.html#"><span class="id" title="library">Event</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.View.html#"><span class="id" title="library">View</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Cell.html#"><span class="id" title="library">Cell</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Memory.html#"><span class="id" title="library">Memory</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.TView.html#"><span class="id" title="library">TView</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Local.html#"><span class="id" title="library">Local</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Thread.html#"><span class="id" title="library">Thread</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.NPThread.html#"><span class="id" title="library">NPThread</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Configuration.html#"><span class="id" title="library">Configuration</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.MsgMapping.html#"><span class="id" title="library">MsgMapping</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.DelaySet.html#"><span class="id" title="library">DelaySet</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.NPConfiguration.html#"><span class="id" title="library">NPConfiguration</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.LocalSim.html#"><span class="id" title="library">LocalSim</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.GlobSim.html#"><span class="id" title="library">GlobSim</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.ww_RF.html#"><span class="id" title="library">ww_RF</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.LibTactics.html#"><span class="id" title="library">LibTactics</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.ConfigInitLemmas.html#"><span class="id" title="library">ConfigInitLemmas</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.CompThreadSteps.html#"><span class="id" title="library">CompThreadSteps</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.CompAuxDef.html#"><span class="id" title="library">CompAuxDef</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.WFConfig.html#"><span class="id" title="library">WFConfig</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Reordering.html#"><span class="id" title="library">Reordering</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#"><span class="id" title="library">ps_to_np_thread</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#"><span class="id" title="library">np_to_ps_thread</span></a>.<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#"><span class="id" title="library">simPromiseCertified</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.Mem_at_eq_lemmas.html#"><span class="id" title="library">Mem_at_eq_lemmas</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="CompOptCert.ConsistentProp.html#"><span class="id" title="library">ConsistentProp</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab212"></a><h1 class="section">Compositionality Proof</h1>

<div class="paragraph"> </div>

 This file contains the proof of compositionality of our thread-local simulation.

<div class="paragraph"> </div>

    The theorem <span class="inlinecode"><a class="idref" href="CompOptCert.Compositionality.html#compositionality"><span class="id" title="lemma">compositionality</span></a></span> in this file shows the compositionality of our thread-local simulation.
    It says that,
    if each target thread has thread-local simulation with
    its corresponding source thread
    and the source program is safe and write-write race free,
    then the whole target program simulates the whole source program.

<div class="paragraph"> </div>

    The theorem <span class="inlinecode"><a class="idref" href="CompOptCert.Compositionality.html#compositionality"><span class="id" title="lemma">compositionality</span></a></span> is a part of proof in Lemma 6.2 in our paper and
    also shown as a part of proof of the step 3 in Figure 6 (Our proof path) in our paper.
 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="compositionality_aux" class="idref" href="#compositionality_aux"><span class="id" title="lemma">compositionality_aux</span></a>:<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> (<a id="index:1" class="idref" href="#index:1"><span class="id" title="binder">index</span></a>: <span class="id" title="keyword">Type</span>) (<a id="index_order:2" class="idref" href="#index_order:2"><span class="id" title="binder">index_order</span></a>: <a class="idref" href="CompOptCert.Compositionality.html#index:1"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Compositionality.html#index:1"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="I:3" class="idref" href="#I:3"><span class="id" title="binder">I</span></a>: <a class="idref" href="CompOptCert.LocalSim.html#Invariant"><span class="id" title="definition">Invariant</span></a>) (<a id="lo:4" class="idref" href="#lo:4"><span class="id" title="binder">lo</span></a>: <a class="idref" href="CompOptCert.Event.html#Ordering.LocOrdMap"><span class="id" title="definition">Ordering.LocOrdMap</span></a>) (<a id="b:5" class="idref" href="#b:5"><span class="id" title="binder">b</span></a> <a id="b':6" class="idref" href="#b':6"><span class="id" title="binder">b'</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) <a id="inj:7" class="idref" href="#inj:7"><span class="id" title="binder">inj</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="ths_tgt:8" class="idref" href="#ths_tgt:8"><span class="id" title="binder">ths_tgt</span></a> <a id="ths_src:9" class="idref" href="#ths_src:9"><span class="id" title="binder">ths_src</span></a>: <a class="idref" href="CompOptCert.Configuration.html#Threads.t"><span class="id" title="definition">Threads.t</span></a>) (<a id="ctid:10" class="idref" href="#ctid:10"><span class="id" title="binder">ctid</span></a>: <a class="idref" href="CompOptCert.Basic.html#IdentMap.key"><span class="id" title="definition">IdentMap.key</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="sc_tgt:11" class="idref" href="#sc_tgt:11"><span class="id" title="binder">sc_tgt</span></a> <a id="sc_src:12" class="idref" href="#sc_src:12"><span class="id" title="binder">sc_src</span></a>: <a class="idref" href="CompOptCert.View.html#TimeMap.t"><span class="id" title="definition">TimeMap.t</span></a>) (<a id="mem_tgt:13" class="idref" href="#mem_tgt:13"><span class="id" title="binder">mem_tgt</span></a> <a id="mem_src:14" class="idref" href="#mem_src:14"><span class="id" title="binder">mem_src</span></a>: <a class="idref" href="CompOptCert.Memory.html#Memory.t"><span class="id" title="definition">Memory.t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WELL_FOUNDED_ORDER:15" class="idref" href="#WELL_FOUNDED_ORDER:15"><span class="id" title="binder">WELL_FOUNDED_ORDER</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Wf.html#well_founded"><span class="id" title="definition">well_founded</span></a> <a class="idref" href="CompOptCert.Compositionality.html#index_order:2"><span class="id" title="variable">index_order</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WELL_FORMED_INV:16" class="idref" href="#WELL_FORMED_INV:16"><span class="id" title="binder">WELL_FORMED_INV</span></a>: <a class="idref" href="CompOptCert.LocalSim.html#wf_I"><span class="id" title="definition">wf_I</span></a> <a class="idref" href="CompOptCert.Compositionality.html#I:3"><span class="id" title="variable">I</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="READY_THRDS:25" class="idref" href="#READY_THRDS:25"><span class="id" title="binder">READY_THRDS</span></a>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="tid:17" class="idref" href="#tid:17"><span class="id" title="binder">tid</span></a> (<a id="READY_TID:18" class="idref" href="#READY_TID:18"><span class="id" title="binder">READY_TID</span></a>: <a class="idref" href="CompOptCert.Compositionality.html#tid:17"><span class="id" title="variable">tid</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;&gt;'_x"><span class="id" title="notation">≠</span></a> <a class="idref" href="CompOptCert.Compositionality.html#ctid:10"><span class="id" title="variable">ctid</span></a>) <a id="lang:19" class="idref" href="#lang:19"><span class="id" title="binder">lang</span></a> <a id="st_tgt:20" class="idref" href="#st_tgt:20"><span class="id" title="binder">st_tgt</span></a> <a id="lc_tgt:21" class="idref" href="#lc_tgt:21"><span class="id" title="binder">lc_tgt</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="READY_TGT_THD:22" class="idref" href="#READY_TGT_THD:22"><span class="id" title="binder">READY_TGT_THD</span></a>: <a class="idref" href="CompOptCert.Basic.html#IdentMap.find"><span class="id" title="definition">IdentMap.find</span></a> <a class="idref" href="CompOptCert.Compositionality.html#tid:17"><span class="id" title="variable">tid</span></a> <a class="idref" href="CompOptCert.Compositionality.html#ths_tgt:8"><span class="id" title="variable">ths_tgt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="CompOptCert.Compositionality.html#lang:19"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.Compositionality.html#st_tgt:20"><span class="id" title="variable">st_tgt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Compositionality.html#lc_tgt:21"><span class="id" title="variable">lc_tgt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#c02b6b01c62ddee8aaf402f63f978cd2"><span class="id" title="notation">∃</span></a> <a id="st_src:23" class="idref" href="#st_src:23"><span class="id" title="binder">st_src</span></a> <a id="lc_src:24" class="idref" href="#lc_src:24"><span class="id" title="binder">lc_src</span></a><a class="idref" href="CompOptCert.LibTactics.html#c02b6b01c62ddee8aaf402f63f978cd2"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#IdentMap.find"><span class="id" title="definition">IdentMap.find</span></a> <a class="idref" href="CompOptCert.Compositionality.html#tid:17"><span class="id" title="variable">tid</span></a> <a class="idref" href="CompOptCert.Compositionality.html#ths_src:9"><span class="id" title="variable">ths_src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="CompOptCert.Compositionality.html#lang:19"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.Compositionality.html#st_src:23"><span class="id" title="variable">st_src</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Compositionality.html#lc_src:24"><span class="id" title="variable">lc_src</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CompOptCert.CompAuxDef.html#rely_local_sim_state"><span class="id" title="inductive">rely_local_sim_state</span></a> <a class="idref" href="CompOptCert.Compositionality.html#index:1"><span class="id" title="variable">index</span></a> <a class="idref" href="CompOptCert.Compositionality.html#index_order:2"><span class="id" title="variable">index_order</span></a> <a class="idref" href="CompOptCert.Compositionality.html#lang:19"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.Compositionality.html#I:3"><span class="id" title="variable">I</span></a> <a class="idref" href="CompOptCert.Compositionality.html#lo:4"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.Compositionality.html#inj:7"><span class="id" title="variable">inj</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.Compositionality.html#lang:19"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.Compositionality.html#st_tgt:20"><span class="id" title="variable">st_tgt</span></a> <a class="idref" href="CompOptCert.Compositionality.html#lc_tgt:21"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="CompOptCert.Compositionality.html#sc_tgt:11"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.Compositionality.html#mem_tgt:13"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.Compositionality.html#lang:19"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.Compositionality.html#st_src:23"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.Compositionality.html#lc_src:24"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.Compositionality.html#sc_src:12"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.Compositionality.html#mem_src:14"><span class="id" title="variable">mem_src</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> <a class="idref" href="CompOptCert.Compositionality.html#lc_tgt:21"><span class="id" title="variable">lc_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CUR_THRD:33" class="idref" href="#CUR_THRD:33"><span class="id" title="binder">CUR_THRD</span></a>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="lang:26" class="idref" href="#lang:26"><span class="id" title="binder">lang</span></a> <a id="st_tgt:27" class="idref" href="#st_tgt:27"><span class="id" title="binder">st_tgt</span></a> <a id="lc_tgt:28" class="idref" href="#lc_tgt:28"><span class="id" title="binder">lc_tgt</span></a>  <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="CUR_TGT_THRD:29" class="idref" href="#CUR_TGT_THRD:29"><span class="id" title="binder">CUR_TGT_THRD</span></a>: <a class="idref" href="CompOptCert.Basic.html#IdentMap.find"><span class="id" title="definition">IdentMap.find</span></a> <a class="idref" href="CompOptCert.Compositionality.html#ctid:10"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.Compositionality.html#ths_tgt:8"><span class="id" title="variable">ths_tgt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="CompOptCert.Compositionality.html#lang:26"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.Compositionality.html#st_tgt:27"><span class="id" title="variable">st_tgt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Compositionality.html#lc_tgt:28"><span class="id" title="variable">lc_tgt</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.LibTactics.html#95db35c04a8fd28e69b3e455eacf5980"><span class="id" title="notation">∃</span></a> <a id="st_src:30" class="idref" href="#st_src:30"><span class="id" title="binder">st_src</span></a> <a id="lc_src:31" class="idref" href="#lc_src:31"><span class="id" title="binder">lc_src</span></a> <a id="dset:32" class="idref" href="#dset:32"><span class="id" title="binder">dset</span></a><a class="idref" href="CompOptCert.LibTactics.html#95db35c04a8fd28e69b3e455eacf5980"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#IdentMap.find"><span class="id" title="definition">IdentMap.find</span></a> <a class="idref" href="CompOptCert.Compositionality.html#ctid:10"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.Compositionality.html#ths_src:9"><span class="id" title="variable">ths_src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Specif.html#existT"><span class="id" title="constructor">existT</span></a> <span class="id" title="var">_</span> <a class="idref" href="CompOptCert.Compositionality.html#lang:26"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.Compositionality.html#st_src:30"><span class="id" title="variable">st_src</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="CompOptCert.Compositionality.html#lc_src:31"><span class="id" title="variable">lc_src</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@<a class="idref" href="CompOptCert.LocalSim.html#local_sim_state"><span class="id" title="inductive">local_sim_state</span></a> <a class="idref" href="CompOptCert.Compositionality.html#index:1"><span class="id" title="variable">index</span></a> <a class="idref" href="CompOptCert.Compositionality.html#index_order:2"><span class="id" title="variable">index_order</span></a> <a class="idref" href="CompOptCert.Compositionality.html#lang:26"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.Compositionality.html#I:3"><span class="id" title="variable">I</span></a> <a class="idref" href="CompOptCert.Compositionality.html#lo:4"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.Compositionality.html#inj:7"><span class="id" title="variable">inj</span></a> <a class="idref" href="CompOptCert.Compositionality.html#dset:32"><span class="id" title="variable">dset</span></a> <a class="idref" href="CompOptCert.Compositionality.html#b:5"><span class="id" title="variable">b</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.Compositionality.html#lang:26"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.Compositionality.html#st_tgt:27"><span class="id" title="variable">st_tgt</span></a> <a class="idref" href="CompOptCert.Compositionality.html#lc_tgt:28"><span class="id" title="variable">lc_tgt</span></a> <a class="idref" href="CompOptCert.Compositionality.html#sc_tgt:11"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.Compositionality.html#mem_tgt:13"><span class="id" title="variable">mem_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <a class="idref" href="CompOptCert.Compositionality.html#lang:26"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.Compositionality.html#st_src:30"><span class="id" title="variable">st_src</span></a> <a class="idref" href="CompOptCert.Compositionality.html#lc_src:31"><span class="id" title="variable">lc_src</span></a> <a class="idref" href="CompOptCert.Compositionality.html#sc_src:12"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.Compositionality.html#mem_src:14"><span class="id" title="variable">mem_src</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.Compositionality.html#b:5"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Compositionality.html#dset:32"><span class="id" title="variable">dset</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.DelaySet.html#dset_init"><span class="id" title="definition">dset_init</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> <a class="idref" href="CompOptCert.Compositionality.html#lc_tgt:28"><span class="id" title="variable">lc_tgt</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="COMPLETE_THRDS_MAP:36" class="idref" href="#COMPLETE_THRDS_MAP:36"><span class="id" title="binder">COMPLETE_THRDS_MAP</span></a>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="tid:34" class="idref" href="#tid:34"><span class="id" title="binder">tid</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="IN_SRC_THRDS:35" class="idref" href="#IN_SRC_THRDS:35"><span class="id" title="binder">IN_SRC_THRDS</span></a>: <a class="idref" href="CompOptCert.Basic.html#IdentMap.mem"><span class="id" title="definition">IdentMap.mem</span></a> <a class="idref" href="CompOptCert.Compositionality.html#tid:34"><span class="id" title="variable">tid</span></a> <a class="idref" href="CompOptCert.Compositionality.html#ths_src:9"><span class="id" title="variable">ths_src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#IdentMap.mem"><span class="id" title="definition">IdentMap.mem</span></a> <a class="idref" href="CompOptCert.Compositionality.html#tid:34"><span class="id" title="variable">tid</span></a> <a class="idref" href="CompOptCert.Compositionality.html#ths_tgt:8"><span class="id" title="variable">ths_tgt</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="SAFE:38" class="idref" href="#SAFE:38"><span class="id" title="binder">SAFE</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~(</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="npc:37" class="idref" href="#npc:37"><span class="id" title="binder">npc</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.all_step"><span class="id" title="inductive">NPConfiguration.all_step</span></a> <a class="idref" href="CompOptCert.Compositionality.html#lo:4"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.mk"><span class="id" title="constructor">NPConfiguration.mk</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.Compositionality.html#ths_src:9"><span class="id" title="variable">ths_src</span></a> <a class="idref" href="CompOptCert.Compositionality.html#ctid:10"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.Compositionality.html#sc_src:12"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.Compositionality.html#mem_src:14"><span class="id" title="variable">mem_src</span></a>) <a class="idref" href="CompOptCert.Compositionality.html#b':6"><span class="id" title="variable">b'</span></a>) <a class="idref" href="CompOptCert.Compositionality.html#npc:37"><span class="id" title="variable">npc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Configuration.html#Configuration.is_abort"><span class="id" title="definition">Configuration.is_abort</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.cfg"><span class="id" title="projection">NPConfiguration.cfg</span></a> <a class="idref" href="CompOptCert.Compositionality.html#npc:37"><span class="id" title="variable">npc</span></a>) <a class="idref" href="CompOptCert.Compositionality.html#lo:4"><span class="id" title="variable">lo</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WWRF:40" class="idref" href="#WWRF:40"><span class="id" title="binder">WWRF</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~(</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">∃</span></a> <a id="npc:39" class="idref" href="#npc:39"><span class="id" title="binder">npc</span></a><a class="idref" href="CompOptCert.LibTactics.html#3cd408940d17a0809f793173996d5fd5"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.all_step"><span class="id" title="inductive">NPConfiguration.all_step</span></a> <a class="idref" href="CompOptCert.Compositionality.html#lo:4"><span class="id" title="variable">lo</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.mk"><span class="id" title="constructor">NPConfiguration.mk</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.Compositionality.html#ths_src:9"><span class="id" title="variable">ths_src</span></a> <a class="idref" href="CompOptCert.Compositionality.html#ctid:10"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.Compositionality.html#sc_src:12"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.Compositionality.html#mem_src:14"><span class="id" title="variable">mem_src</span></a>) <a class="idref" href="CompOptCert.Compositionality.html#b':6"><span class="id" title="variable">b'</span></a>) <a class="idref" href="CompOptCert.Compositionality.html#npc:39"><span class="id" title="variable">npc</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.CompAuxDef.html#aux_ww_race"><span class="id" title="inductive">aux_ww_race</span></a> <a class="idref" href="CompOptCert.Compositionality.html#lo:4"><span class="id" title="variable">lo</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.cfg"><span class="id" title="projection">NPConfiguration.cfg</span></a> <a class="idref" href="CompOptCert.Compositionality.html#npc:39"><span class="id" title="variable">npc</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WF_CONFIG_TGT:41" class="idref" href="#WF_CONFIG_TGT:41"><span class="id" title="binder">WF_CONFIG_TGT</span></a>: <a class="idref" href="CompOptCert.Configuration.html#Configuration.wf"><span class="id" title="inductive">Configuration.wf</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.Compositionality.html#ths_tgt:8"><span class="id" title="variable">ths_tgt</span></a> <a class="idref" href="CompOptCert.Compositionality.html#ctid:10"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.Compositionality.html#sc_tgt:11"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.Compositionality.html#mem_tgt:13"><span class="id" title="variable">mem_tgt</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WF_CONFIG_SRC:42" class="idref" href="#WF_CONFIG_SRC:42"><span class="id" title="binder">WF_CONFIG_SRC</span></a>: <a class="idref" href="CompOptCert.Configuration.html#Configuration.wf"><span class="id" title="inductive">Configuration.wf</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.Compositionality.html#ths_src:9"><span class="id" title="variable">ths_src</span></a> <a class="idref" href="CompOptCert.Compositionality.html#ctid:10"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.Compositionality.html#sc_src:12"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.Compositionality.html#mem_src:14"><span class="id" title="variable">mem_src</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WF_ATM_BIT:43" class="idref" href="#WF_ATM_BIT:43"><span class="id" title="binder">WF_ATM_BIT</span></a>: <a class="idref" href="CompOptCert.Compositionality.html#b:5"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Compositionality.html#b':6"><span class="id" title="variable">b'</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="INV_OUT_ATM:44" class="idref" href="#INV_OUT_ATM:44"><span class="id" title="binder">INV_OUT_ATM</span></a>: <a class="idref" href="CompOptCert.Compositionality.html#b:5"><span class="id" title="variable">b</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="CompOptCert.LocalSim.html#Mem_at_eq"><span class="id" title="definition">Mem_at_eq</span></a> <a class="idref" href="CompOptCert.Compositionality.html#lo:4"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.Compositionality.html#mem_tgt:13"><span class="id" title="variable">mem_tgt</span></a> <a class="idref" href="CompOptCert.Compositionality.html#mem_src:14"><span class="id" title="variable">mem_src</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="CompOptCert.Compositionality.html#I:3"><span class="id" title="variable">I</span></a> <a class="idref" href="CompOptCert.Compositionality.html#lo:4"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.Compositionality.html#inj:7"><span class="id" title="variable">inj</span></a> (<a class="idref" href="CompOptCert.LocalSim.html#Build_Rss"><span class="id" title="constructor">Build_Rss</span></a> <a class="idref" href="CompOptCert.Compositionality.html#sc_tgt:11"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.Compositionality.html#mem_tgt:13"><span class="id" title="variable">mem_tgt</span></a> <a class="idref" href="CompOptCert.Compositionality.html#sc_src:12"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.Compositionality.html#mem_src:14"><span class="id" title="variable">mem_src</span></a>)<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="MONOTONIC_INJ:45" class="idref" href="#MONOTONIC_INJ:45"><span class="id" title="binder">MONOTONIC_INJ</span></a>: <a class="idref" href="CompOptCert.MsgMapping.html#monotonic_inj"><span class="id" title="definition">monotonic_inj</span></a> <a class="idref" href="CompOptCert.Compositionality.html#inj:7"><span class="id" title="variable">inj</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.GlobSim.html#glob_sim_state"><span class="id" title="inductive">glob_sim_state</span></a> <a class="idref" href="CompOptCert.Compositionality.html#lo:4"><span class="id" title="variable">lo</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.mk"><span class="id" title="constructor">NPConfiguration.mk</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.Compositionality.html#ths_tgt:8"><span class="id" title="variable">ths_tgt</span></a> <a class="idref" href="CompOptCert.Compositionality.html#ctid:10"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.Compositionality.html#sc_tgt:11"><span class="id" title="variable">sc_tgt</span></a> <a class="idref" href="CompOptCert.Compositionality.html#mem_tgt:13"><span class="id" title="variable">mem_tgt</span></a>) <a class="idref" href="CompOptCert.Compositionality.html#b:5"><span class="id" title="variable">b</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.mk"><span class="id" title="constructor">NPConfiguration.mk</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <a class="idref" href="CompOptCert.Compositionality.html#ths_src:9"><span class="id" title="variable">ths_src</span></a> <a class="idref" href="CompOptCert.Compositionality.html#ctid:10"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.Compositionality.html#sc_src:12"><span class="id" title="variable">sc_src</span></a> <a class="idref" href="CompOptCert.Compositionality.html#mem_src:14"><span class="id" title="variable">mem_src</span></a>) <a class="idref" href="CompOptCert.Compositionality.html#b':6"><span class="id" title="variable">b'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="keyword">cofix</span> <span class="id" title="var">Hcofix</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>; <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">TGT_TAU</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">T_STEPS</span>: <a class="idref" href="CompOptCert.Basic.html#rtc"><span class="id" title="abbreviation">rtc</span></a> (<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.tau_step"><span class="id" title="definition">NPAuxThread.tau_step</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">lo</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.mk"><span class="id" title="constructor">NPAuxThread.mk</span></a> <span class="id" title="var">lang</span> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">st1</span> <span class="id" title="var">lc1</span> <span class="id" title="var">sc_tgt</span> <span class="id" title="var">mem_tgt</span>) <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.mk"><span class="id" title="constructor">NPAuxThread.mk</span></a> <span class="id" title="var">lang</span> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">st2</span> <span class="id" title="var">lc2</span> <span class="id" title="var">sc2</span> <span class="id" title="var">m2</span>) <span class="id" title="var">b0</span>)).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_n1"><span class="id" title="lemma">rtc_n1</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">STEPS</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">STEP</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rtc_NPThread_tau_steps_prsv"><span class="id" title="lemma">wf_config_rtc_NPThread_tau_steps_prsv</span></a>; [ | | <span class="id" title="tactic">eapply</span> <span class="id" title="var">T_STEPS</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">T_CONFIG_WF'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">T_STEPS</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">CUR_THRD</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">TID1</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">TGT_PROM_CONS</span>: <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> <span class="id" title="var">lc2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConsistentProp.html#consistent_nprm_promise_consistent"><span class="id" title="lemma">consistent_nprm_promise_consistent</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CONSISTENT</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">ctid</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">T_CONFIG_WF'</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">inv</span> <span class="id" title="var">T_CONFIG_WF'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.CompThreadSteps.html#sim_tau_steps"><span class="id" title="lemma">sim_tau_steps</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">T_STEPS</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e_src'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rtc_NPThread_tau_steps_prsv"><span class="id" title="lemma">wf_config_rtc_NPThread_tau_steps_prsv</span></a>; [ | | <span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">S_CONFIG_WF'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">S_STEPS</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">n0</span> &amp; <span class="id" title="var">S_STEPS</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">S_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hcofix</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">b'</span> := <span class="id" title="var">b_src'</span>) (<span class="id" title="var">inj</span> := <span class="id" title="var">inj'</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">READY_TGT_THD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">READY_SRC_THD</span>: <span class="id" title="var">READY_TGT_THD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">READY_THRDS</span> <span class="id" title="tactic">in</span> <span class="id" title="var">READY_SRC_THD</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#local_sim_rely_condition"><span class="id" title="lemma">local_sim_rely_condition</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">n_tgt</span> := <span class="id" title="var">n</span>) (<span class="id" title="var">n_src</span> := 0) (<span class="id" title="var">lang2</span> := <span class="id" title="var">lang0</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">S_CONFIG_WF'</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">S_CONFIG_WF'</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid</span>). <span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">S_CONFIG_WF'</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">T_CONFIG_WF'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">S_CONFIG_WF'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">T_CONFIG_WF'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">S_CONFIG_WF'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CUR_TGT_THRD</span>. <span class="id" title="var">inv</span> <span class="id" title="var">CUR_TGT_THRD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#EqdepTheory.inj_pair2"><span class="id" title="lemma">inj_pair2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.mem_find"><span class="id" title="lemma">IdentMap.mem_find</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Loc.html#Loc.eq_dec"><span class="id" title="axiom">Loc.eq_dec</span></a> <span class="id" title="var">tid</span> <span class="id" title="var">ctid</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">COMPLETE_THRDS_MAP</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IN_SRC_THRDS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.mem_find"><span class="id" title="lemma">IdentMap.mem_find</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IN_SRC_THRDS</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_SIM_PSV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>. <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">NP_STEPS</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">STEP_INV</span> <span class="id" title="var">RELY_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">exploit</span> <span class="id" title="var">RELY_STEP</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP_INV</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Behavior.html#rtcn_tail"><span class="id" title="lemma">Behavior.rtcn_tail</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">S_STEPS_CONS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">S_STEPS_CONS</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc</span> &amp; <span class="id" title="var">S_STEPS_CONS</span> &amp; <span class="id" title="var">S_STEP</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">npc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">CONSISTENT_S</span>: <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a> <span class="id" title="var">lang</span> (<a class="idref" href="CompOptCert.Thread.html#Thread.mk"><span class="id" title="constructor">Thread.mk</span></a> <span class="id" title="var">lang</span> <span class="id" title="var">state</span> <span class="id" title="var">local</span> <span class="id" title="var">sc</span> <span class="id" title="var">memory</span>) <span class="id" title="var">lo</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#promise_certified_prsv"><span class="id" title="lemma">promise_certified_prsv</span></a>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">CONSISTENT</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">SAFE</span> <span class="id" title="var">S_STEPS</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">S_ABORT</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">S_ABORT</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">e_src'</span> &amp; <span class="id" title="var">S_STEPS_TO_ABORT</span> &amp; <span class="id" title="var">S_ABORT</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS_TO_ABORT</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.simPromiseCertified.html#aux_ww_race_to_thrd_ww_race"><span class="id" title="lemma">aux_ww_race_to_thrd_ww_race</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">ctid</span>). <span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">ctid</span>). <span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">T_CONFIG_WF'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">S_CONFIG_WF'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">T_CONFIG_WF'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">S_CONFIG_WF'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS_CONS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Operators_Properties.html#clos_rt1n_step"><span class="id" title="lemma">Operators_Properties.clos_rt1n_step</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_tau"><span class="id" title="constructor">NPConfiguration.step_tau</span></a>; <span class="id" title="var">ss</span>; [ | <span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS_CONS</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEP</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hcofix</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">READY_TGT_THD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">READY_SRC_THD</span>: <span class="id" title="var">READY_TGT_THD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">READY_THRDS</span> <span class="id" title="tactic">in</span> <span class="id" title="var">READY_SRC_THD</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#local_sim_rely_condition"><span class="id" title="lemma">local_sim_rely_condition</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">n_tgt</span> := <span class="id" title="var">n</span>) (<span class="id" title="var">n_src</span> := (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n0</span>)) (<span class="id" title="var">lang2</span> := <span class="id" title="var">lang0</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid</span>). <span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid</span>). <span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">T_CONFIG_WF'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">S_CONFIG_WF'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">T_CONFIG_WF'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">S_CONFIG_WF'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CUR_TGT_THRD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CUR_TGT_THRD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#EqdepTheory.inj_pair2"><span class="id" title="lemma">inj_pair2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.mem_find"><span class="id" title="lemma">IdentMap.mem_find</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Loc.html#Loc.eq_dec"><span class="id" title="axiom">Loc.eq_dec</span></a> <span class="id" title="var">tid</span> <span class="id" title="var">ctid</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.mem_find"><span class="id" title="lemma">IdentMap.mem_find</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IN_SRC_THRDS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IN_SRC_THRDS</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="CompOptCert.Basic.html#IdentMap.mem_find"><span class="id" title="lemma">IdentMap.mem_find</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IN_SRC_THRDS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">COMPLETE_THRDS_MAP</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IN_SRC_THRDS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.mem_find"><span class="id" title="lemma">IdentMap.mem_find</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IN_SRC_THRDS</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">SAFE</span> <span class="id" title="var">S_STEPS</span> <span class="id" title="var">x</span> <span class="id" title="var">CONSISTENT_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS</span>. <span class="id" title="var">ii</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">S_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gsident"><span class="id" title="lemma">IdentMap.gsident</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Behavior.html#rtcn_tail"><span class="id" title="lemma">Behavior.rtcn_tail</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS</span>. <span class="id" title="var">des</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">state0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_tau"><span class="id" title="constructor">NPConfiguration.step_tau</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>. <span class="id" title="var">contradiction</span> <span class="id" title="var">WWRF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">S_STEPS</span> <span class="id" title="var">H</span> <span class="id" title="var">H0</span> <span class="id" title="var">CONSISTENT_S</span> <span class="id" title="var">x</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Behavior.html#rtcn_tail"><span class="id" title="lemma">Behavior.rtcn_tail</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS</span>. <span class="id" title="var">des</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">a2</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">state0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_tau"><span class="id" title="constructor">NPConfiguration.step_tau</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_SIM_PSV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">NP_STEPS</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">STEP_INV</span> <span class="id" title="var">RELY_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">exploit</span> <span class="id" title="var">RELY_STEP</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP_INV</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">x</span> <span class="id" title="var">SAFE</span> <span class="id" title="var">S_STEPS</span> <span class="id" title="var">ABORT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">TGT_OUT</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">CUR_THRD</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">TID1</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.CompThreadSteps.html#sim_output_steps"><span class="id" title="lemma">sim_output_steps</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">STEP</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">CONSISTENT_S'</span>: <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <span class="id" title="var">e_src0</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <span class="id" title="var">e_src'</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">S_OUT</span>. <span class="id" title="var">inv</span> <span class="id" title="var">S_OUT</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H</span>. <span class="id" title="var">inv</span> <span class="id" title="var">OUT</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL0</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">exploit</span> <span class="id" title="var">PROMISES</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">CONSISTENT_S'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">CONSISTENT_S'</span> &amp; <span class="id" title="var">CONSISTENT_S''</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_NPThread_out_step_prsv"><span class="id" title="lemma">wf_config_NPThread_out_step_prsv</span></a>; [ | | <span class="id" title="tactic">eapply</span> <span class="id" title="var">STEP</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">WF_CONFIG_TGT'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e_src0</span>, <span class="id" title="var">e_src'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rtc_NPThread_tau_steps_prsv"><span class="id" title="lemma">wf_config_rtc_NPThread_tau_steps_prsv</span></a>; [ | | <span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">WF_CONFIG_SRC'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_NPThread_out_step_prsv"><span class="id" title="lemma">wf_config_NPThread_out_step_prsv</span></a>; [ | | <span class="id" title="tactic">eapply</span> <span class="id" title="var">S_OUT</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">ctid</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">WF_CONFIG_SRC''</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.add_add_eq"><span class="id" title="lemma">IdentMap.add_add_eq</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">WF_CONFIG_SRC''</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">T_PROM_CONS</span>: <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a> <span class="id" title="var">lc2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">H</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">OUT</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">LOCAL0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">PROMISES</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">introv</span> <span class="id" title="var">T_BOT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">T_BOT</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">ii</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.bot_get"><span class="id" title="lemma">Memory.bot_get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS</span>. <span class="id" title="var">des</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">n</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">S_STEPS</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">S_OUT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="var">econs</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hcofix</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">inj</span> := <span class="id" title="var">inj'</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">READY_TGT_THD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">READY_THRDS</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">READY_TID</span> | <span class="id" title="tactic">eapply</span> <span class="id" title="var">READY_TGT_THD</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#local_sim_out_rely_condition"><span class="id" title="lemma">local_sim_out_rely_condition</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">x4</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">ctid</span>). <span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid</span>). <span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid</span>). <span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC''</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC''</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CUR_TGT_THRD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CUR_TGT_THRD</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#EqdepTheory.inj_pair2"><span class="id" title="lemma">inj_pair2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.mem_find"><span class="id" title="lemma">IdentMap.mem_find</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Loc.html#Loc.eq_dec"><span class="id" title="axiom">Loc.eq_dec</span></a> <span class="id" title="var">tid</span> <span class="id" title="var">ctid</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.mem_find"><span class="id" title="lemma">IdentMap.mem_find</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IN_SRC_THRDS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IN_SRC_THRDS</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="CompOptCert.Basic.html#IdentMap.mem_find"><span class="id" title="lemma">IdentMap.mem_find</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IN_SRC_THRDS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">COMPLETE_THRDS_MAP</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IN_SRC_THRDS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.mem_find"><span class="id" title="lemma">IdentMap.mem_find</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IN_SRC_THRDS</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ABORT</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc</span> &amp; <span class="id" title="var">TO_ABORT</span> &amp; <span class="id" title="var">ABORT</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">npc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_out"><span class="id" title="constructor">NPConfiguration.step_out</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a>; <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">WW_RACE</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">WW_RACE</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc</span> &amp; <span class="id" title="var">TO_WW_RACE</span> &amp; <span class="id" title="var">WW_RACE</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">WWRF</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">npc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_out"><span class="id" title="constructor">NPConfiguration.step_out</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a>; <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_SIM_PSV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_out"><span class="id" title="constructor">NPConfiguration.step_out</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a>; <span class="id" title="var">ss</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">STEP_INV</span> <span class="id" title="var">RELY_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">exploit</span> <span class="id" title="var">RELY_STEP</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP_INV</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_SIM_PSV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_out"><span class="id" title="constructor">NPConfiguration.step_out</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a>; <span class="id" title="var">ss</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">WELL_FORMED_INV</span> <span class="id" title="var">RELY_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">RELY_STEP</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="var">des</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">x0</span> <span class="id" title="var">RELY_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.LocalSim.html#wf_I"><span class="id" title="definition">wf_I</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">WELL_FORMED_INV</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">WELL_FORMED_INV</span> <span class="id" title="tactic">in</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Behavior.html#rtcn_tail"><span class="id" title="lemma">Behavior.rtcn_tail</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">S_STEPS_CONS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">S_STEPS_CONS</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc</span> &amp; <span class="id" title="var">S_STEPS_CONS</span> &amp; <span class="id" title="var">S_STEP</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS_CONS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>. 2: <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_tau"><span class="id" title="constructor">NPConfiguration.step_tau</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2: <span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS_CONS</span>. 2: <span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEP</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a>; <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a>; <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hcofix</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">inj</span> := <span class="id" title="var">inj'</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">READY_TGT_THD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.add_add_eq"><span class="id" title="lemma">IdentMap.add_add_eq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">READY_THRDS</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#local_sim_out_rely_condition"><span class="id" title="lemma">local_sim_out_rely_condition</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">n_src</span> := <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">x4</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC''</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC''</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.add_add_eq"><span class="id" title="lemma">IdentMap.add_add_eq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CUR_TGT_THRD</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#EqdepTheory.inj_pair2"><span class="id" title="lemma">inj_pair2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.add_add_eq"><span class="id" title="lemma">IdentMap.add_add_eq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.mem_find"><span class="id" title="lemma">IdentMap.mem_find</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Loc.html#Loc.eq_dec"><span class="id" title="axiom">Loc.eq_dec</span></a> <span class="id" title="var">tid</span> <span class="id" title="var">ctid</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.mem_find"><span class="id" title="lemma">IdentMap.mem_find</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IN_SRC_THRDS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IN_SRC_THRDS</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="CompOptCert.Basic.html#IdentMap.mem_find"><span class="id" title="lemma">IdentMap.mem_find</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IN_SRC_THRDS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">COMPLETE_THRDS_MAP</span> <span class="id" title="tactic">in</span> <span class="id" title="var">IN_SRC_THRDS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.mem_find"><span class="id" title="lemma">IdentMap.mem_find</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IN_SRC_THRDS</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ABORT</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc'</span> &amp; <span class="id" title="var">TO_ABORT</span> &amp; <span class="id" title="var">ABORT</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_tau"><span class="id" title="constructor">NPConfiguration.step_tau</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a>; <span class="id" title="var">ii</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>. 2: <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_out"><span class="id" title="constructor">NPConfiguration.step_out</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a>; <span class="id" title="var">ii</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">WW_RACE</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">WW_RACE</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc'</span> &amp; <span class="id" title="var">TO_WW_RACE</span> &amp; <span class="id" title="var">WW_RACE</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">WWRF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_tau"><span class="id" title="constructor">NPConfiguration.step_tau</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a>; <span class="id" title="var">ii</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>. 2: <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_out"><span class="id" title="constructor">NPConfiguration.step_out</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a>; <span class="id" title="var">ii</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.add_add_eq"><span class="id" title="lemma">IdentMap.add_add_eq</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_SIM_PSV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_tau"><span class="id" title="constructor">NPConfiguration.step_tau</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_out"><span class="id" title="constructor">NPConfiguration.step_out</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a>; <span class="id" title="var">ss</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">STEP_INV</span> <span class="id" title="var">RELY_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="var">exploit</span> <span class="id" title="var">RELY_STEP</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP_INV</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_SIM_PSV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_tau"><span class="id" title="constructor">NPConfiguration.step_tau</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_out"><span class="id" title="constructor">NPConfiguration.step_out</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a>; <span class="id" title="var">ss</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>. <span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">erewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">WELL_FORMED_INV</span> <span class="id" title="var">RELY_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">RELY_STEP</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">intros</span>; <span class="id" title="var">des</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">RELY_STEP</span> <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.LocalSim.html#wf_I"><span class="id" title="definition">wf_I</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">WELL_FORMED_INV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">WELL_FORMED_INV</span> <span class="id" title="tactic">in</span> <span class="id" title="var">x</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">x</span> <span class="id" title="var">SAFE</span> <span class="id" title="var">S_STEPS</span> <span class="id" title="var">ABORT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">npc_tgt'</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">cfg</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Loc.html#Loc.eq_dec"><span class="id" title="axiom">Loc.eq_dec</span></a> <span class="id" title="var">tid</span> <span class="id" title="var">ctid</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">TGT_SW</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">NPC2</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">CUR_THRD</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hcofix</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">ABORT</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc</span> &amp; <span class="id" title="var">TO_ABORT</span> &amp; <span class="id" title="var">ABORT</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_sw"><span class="id" title="constructor">NPConfiguration.step_sw</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">WW_RACE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">WW_RACE</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc'</span> &amp; <span class="id" title="var">TO_WW_RACE</span> &amp; <span class="id" title="var">WW_RACE</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">WWRF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_sw"><span class="id" title="constructor">NPConfiguration.step_sw</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">NPC2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.grs"><span class="id" title="lemma">IdentMap.grs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NEW_TID_OK</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">TGT_SW</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">NPC2</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">READY_THRDS</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">I_INV</span>: <span class="id" title="var">I</span> <span class="id" title="var">lo</span> <span class="id" title="var">inj</span> (<a class="idref" href="CompOptCert.LocalSim.html#Build_Rss"><span class="id" title="constructor">Build_Rss</span></a> <span class="id" title="var">sc_tgt</span> <span class="id" title="var">mem_tgt</span> <span class="id" title="var">sc_src</span> <span class="id" title="var">mem_src</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="CompOptCert.LocalSim.html#Mem_at_eq"><span class="id" title="definition">Mem_at_eq</span></a> <span class="id" title="var">lo</span> <span class="id" title="var">mem_tgt</span> <span class="id" title="var">mem_src</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">INV_OUT_ATM</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>. <span class="id" title="var">des</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">I_INV</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">I_INV</span> &amp; <span class="id" title="var">MEM_AT_EQ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.CompAuxDef.html#rely_local_sim_state_to_local_sim_state"><span class="id" title="lemma">rely_local_sim_state_to_local_sim_state</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">NEW_TH_LOCAL_SIM</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hcofix</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Loc.html#Loc.eq_dec"><span class="id" title="axiom">Loc.eq_dec</span></a> <span class="id" title="var">tid</span> <span class="id" title="var">ctid</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">CUR_THRD</span>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">READY_TGT_THD</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">x4</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#local_sim_state_to_rely_local_sim_state"><span class="id" title="lemma">local_sim_state_to_rely_local_sim_state</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">ctid</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ABORT</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc'</span> &amp; <span class="id" title="var">TO_ABORT</span> &amp; <span class="id" title="var">ABORT</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">WF_ATM_BIT</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.np_to_ps_thread.html#NPConfig_abort_to_Config_abort"><span class="id" title="lemma">NPConfig_abort_to_Config_abort</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">READY_THRDS</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">READY_THRDS</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.CompAuxDef.html#rely_local_sim_state_to_local_sim_state"><span class="id" title="lemma">rely_local_sim_state_to_local_sim_state</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ABORT</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc</span> &amp; <span class="id" title="var">TO_ABORT</span> &amp; <span class="id" title="var">ABORT</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_sw"><span class="id" title="constructor">NPConfiguration.step_sw</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">WW_RACE</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">WW_RACE</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc</span> &amp; <span class="id" title="var">TO_WW_RACE</span> &amp; <span class="id" title="var">WW_RACE</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">WWRF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_sw"><span class="id" title="constructor">NPConfiguration.step_sw</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_sw_prsv"><span class="id" title="lemma">wf_config_sw_prsv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_sw_prsv"><span class="id" title="lemma">wf_config_sw_prsv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">NPC2</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">CUR_THRD</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">x0</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">NP_STEPS</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">THRD_STEP</span> <span class="id" title="var">RELY_STEP</span> <span class="id" title="var">THRD_ABORT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">THRD_DONE0</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NEW_TID_OK</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">READY_THRDS</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.DelaySet.html#na_steps_dset_to_NPThread_tau_steps"><span class="id" title="lemma">na_steps_dset_to_NPThread_tau_steps</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">b'</span>). <span class="id" title="var">introv</span> <span class="id" title="var">Hprefix_tau_steps</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprefix_tau_steps</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hprefix_tau_steps</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">n0</span> &amp; <span class="id" title="var">Hprefix_tau_steps</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hprefix_tau_steps</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_thread_term"><span class="id" title="constructor">NPConfiguration.step_thread_term</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid2</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hcofix</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">inj</span> := <span class="id" title="var">inj'</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Loc.html#Loc.eq_dec"><span class="id" title="axiom">Loc.eq_dec</span></a> <span class="id" title="var">tid</span> <span class="id" title="var">ctid</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.grs"><span class="id" title="lemma">IdentMap.grs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">READY_TGT_THD</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">READY_TGT_THD</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">READY_THRDS</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#local_sim_rely_condition"><span class="id" title="lemma">local_sim_rely_condition</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">n_tgt</span> := 0) (<span class="id" title="var">n_src</span> := 0) <span class="id" title="tactic">in</span> <span class="id" title="var">x10</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">READY_THRDS</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#local_sim_rely_condition"><span class="id" title="lemma">local_sim_rely_condition</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">n_tgt</span> := 0) (<span class="id" title="var">n_src</span> := 0) (<span class="id" title="var">lc_tgt1</span> := <span class="id" title="var">lc1</span>) (<span class="id" title="var">lc_src1</span> := <span class="id" title="var">lc_src</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">x10</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">NEW_TID_OK</span> <span class="id" title="tactic">in</span> <span class="id" title="var">CUR_TGT_THRD</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">CUR_TGT_THRD</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Logic.Classical_Prop.html#EqdepTheory.inj_pair2"><span class="id" title="lemma">inj_pair2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#rely_local_sim_state_to_local_sim_state"><span class="id" title="lemma">rely_local_sim_state_to_local_sim_state</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">x10</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP_INV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.mem_find"><span class="id" title="lemma">IdentMap.mem_find</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IN_SRC_THRDS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Loc.html#Loc.eq_dec"><span class="id" title="axiom">Loc.eq_dec</span></a> <span class="id" title="var">tid</span> <span class="id" title="var">ctid</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.grs"><span class="id" title="lemma">IdentMap.grs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IN_SRC_THRDS</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.mem_find"><span class="id" title="lemma">IdentMap.mem_find</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="CompOptCert.Basic.html#IdentMap.mem_find"><span class="id" title="lemma">IdentMap.mem_find</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ABORT</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc</span> &amp; <span class="id" title="var">TO_ABORT</span> &amp; <span class="id" title="var">ABORT</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_thread_term"><span class="id" title="constructor">NPConfiguration.step_thread_term</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid2</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">WW_RACE</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">WW_RACE</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc</span> &amp; <span class="id" title="var">TO_WW_RACE</span> &amp; <span class="id" title="var">WW_RACE</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">WWRF</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_thread_term"><span class="id" title="constructor">NPConfiguration.step_thread_term</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid2</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rm_prsv"><span class="id" title="lemma">wf_config_rm_prsv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rm_prsv"><span class="id" title="lemma">wf_config_rm_prsv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP_INV</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">WELL_FORMED_INV</span> <span class="id" title="var">x5</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.LocalSim.html#wf_I"><span class="id" title="definition">wf_I</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">WELL_FORMED_INV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">WELL_FORMED_INV</span> <span class="id" title="tactic">in</span> <span class="id" title="var">x5</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">x5</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Behavior.html#rtcn_tail"><span class="id" title="lemma">Behavior.rtcn_tail</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hprefix_tau_steps</span> | <span class="id" title="tactic">eauto</span>..].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hprefix_tau_steps'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hprefix_tau_steps'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc'</span> &amp; <span class="id" title="var">PREFIX_STEPS</span> &amp; <span class="id" title="var">PREFIX_STEP</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">npc'</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">state</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PREFIX_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">CONSISTENT_T</span>: <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <span class="id" title="var">e_src</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">x3</span>. <span class="id" title="var">inv</span> <span class="id" title="var">x3</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a>; [<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hprefix_tau_steps</span> | <span class="id" title="tactic">eauto</span>..]. <span class="id" title="var">introv</span> <span class="id" title="var">PROFIX_STEPS_TEMP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e_src</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rtc_NPThread_tau_steps_prsv"><span class="id" title="lemma">wf_config_rtc_NPThread_tau_steps_prsv</span></a>; [ | | <span class="id" title="tactic">eapply</span> <span class="id" title="var">PROFIX_STEPS_TEMP</span> | <span class="id" title="tactic">eauto</span>..]; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">WF_CONFIG_SRC'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">PROFIX_STEPS_TEMP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_tau"><span class="id" title="constructor">NPConfiguration.step_tau</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a>; <span class="id" title="var">ss</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_thread_term"><span class="id" title="constructor">NPConfiguration.step_thread_term</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Hcofix</span> <span class="id" title="keyword">with</span> (<span class="id" title="var">inj</span> := <span class="id" title="var">inj'</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Loc.html#Loc.eq_dec"><span class="id" title="axiom">Loc.eq_dec</span></a> <span class="id" title="var">tid</span> <span class="id" title="var">ctid</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.grs"><span class="id" title="lemma">IdentMap.grs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">READY_TGT_THD</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">READY_THRDS</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">PREFIX_STEPS</span> <span class="id" title="var">PREFIX_STEP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#local_sim_rely_condition"><span class="id" title="lemma">local_sim_rely_condition</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">n_tgt</span> := 0) (<span class="id" title="var">n_src</span> := (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n0</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">x10</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">PREFIX_STEPS</span> <span class="id" title="var">PREFIX_STEP</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Loc.html#Loc.eq_dec"><span class="id" title="axiom">Loc.eq_dec</span></a> <span class="id" title="var">tid2</span> <span class="id" title="var">ctid</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.grs"><span class="id" title="lemma">IdentMap.grs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CUR_TGT_THRD</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">READY_THRDS</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#local_sim_rely_condition"><span class="id" title="lemma">local_sim_rely_condition</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">n_tgt</span> := 0) (<span class="id" title="var">n_src</span> := (<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <span class="id" title="var">n0</span>)) <span class="id" title="tactic">in</span> <span class="id" title="var">x10</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#rely_local_sim_state_to_local_sim_state"><span class="id" title="lemma">rely_local_sim_state_to_local_sim_state</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">x10</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid2</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP_INV</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">x0</span> <span class="id" title="var">ATOMIC_COVER</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DelaySet.html#na_steps_dset_to_Thread_na_steps"><span class="id" title="lemma">na_steps_dset_to_Thread_na_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Mem_at_eq_lemmas.html#Mem_at_eq_na_steps_prsv"><span class="id" title="lemma">Mem_at_eq_na_steps_prsv</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">m</span> := <span class="id" title="var">mem_tgt</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">x0</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Mem_at_eq_lemmas.html#Mem_at_eq_reflexive"><span class="id" title="lemma">Mem_at_eq_reflexive</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Mem_at_eq_lemmas.html#Mem_at_eq_reflexive"><span class="id" title="lemma">Mem_at_eq_reflexive</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid2</span>). <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_SRC'</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.mem_find"><span class="id" title="lemma">IdentMap.mem_find</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Loc.html#Loc.eq_dec"><span class="id" title="axiom">Loc.eq_dec</span></a> <span class="id" title="var">tid</span> <span class="id" title="var">ctid</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.grs"><span class="id" title="lemma">IdentMap.grs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IN_SRC_THRDS</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IN_SRC_THRDS</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="CompOptCert.Basic.html#IdentMap.mem_find"><span class="id" title="lemma">IdentMap.mem_find</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">ABORT</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">ABORT</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc'</span> &amp; <span class="id" title="var">TO_ABORT</span> &amp; <span class="id" title="var">ABORT</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">PROFIX_STEPS_TEMP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span> <span class="id" title="var">npc'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_tau"><span class="id" title="constructor">NPConfiguration.step_tau</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a>; <span class="id" title="var">ss</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_thread_term"><span class="id" title="constructor">NPConfiguration.step_thread_term</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">WW_RACE</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">WW_RACE</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc'</span> &amp; <span class="id" title="var">TO_WW_RACE</span> &amp; <span class="id" title="var">WW_RACE</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">WWRF</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">PROFIX_STEPS_TEMP</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">npc'</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_tau"><span class="id" title="constructor">NPConfiguration.step_tau</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a>; <span class="id" title="var">ss</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_thread_term"><span class="id" title="constructor">NPConfiguration.step_thread_term</span></a>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">instantiate</span> (3 := <span class="id" title="var">tid2</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rm_prsv"><span class="id" title="lemma">wf_config_rm_prsv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_rm_prsv"><span class="id" title="lemma">wf_config_rm_prsv</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">STEP_INV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.DelaySet.html#na_steps_dset_to_Thread_na_steps"><span class="id" title="lemma">na_steps_dset_to_Thread_na_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Mem_at_eq_lemmas.html#Mem_at_eq_na_steps_prsv"><span class="id" title="lemma">Mem_at_eq_na_steps_prsv</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">m</span> := <span class="id" title="var">mem_tgt</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">x0</span>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Mem_at_eq_lemmas.html#Mem_at_eq_reflexive"><span class="id" title="lemma">Mem_at_eq_reflexive</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Mem_at_eq_lemmas.html#Mem_at_eq_reflexive"><span class="id" title="lemma">Mem_at_eq_reflexive</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">WELL_FORMED_INV</span> <span class="id" title="var">x5</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.LocalSim.html#wf_I"><span class="id" title="definition">wf_I</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">WELL_FORMED_INV</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">WELL_FORMED_INV</span> <span class="id" title="tactic">in</span> <span class="id" title="var">x5</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">inv</span> <span class="id" title="var">x5</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">TGT_DONE</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">CUR_THRD</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">x1</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">NP_STEPS</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">THRD_STEP</span> <span class="id" title="var">RELY_STEP</span> <span class="id" title="var">THRD_ABORT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">THRD_DONE</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">THRD_DONE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.DelaySet.html#na_steps_dset_to_NPThread_tau_steps"><span class="id" title="lemma">na_steps_dset_to_NPThread_tau_steps</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">b'</span>). <span class="id" title="var">introv</span> <span class="id" title="var">Hprefix_tau_steps</span>. <span class="id" title="var">des</span>. <span class="id" title="var">renames</span> <span class="id" title="var">x</span> <span class="id" title="var">to</span> <span class="id" title="var">lang</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hprefix_tau_steps</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hprefix_tau_steps</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">n0</span> &amp; <span class="id" title="var">Hprefix_tau_steps</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">TO_DONE_S</span>: <a class="idref" href="CompOptCert.Basic.html#IdentMap.is_empty"><span class="id" title="definition">IdentMap.is_empty</span></a> (<a class="idref" href="CompOptCert.Basic.html#IdentMap.remove"><span class="id" title="definition">IdentMap.remove</span></a> <span class="id" title="var">ctid</span> <span class="id" title="var">ths_src</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.is_empty_1"><span class="id" title="lemma">IdentMap.is_empty_1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.is_empty_2"><span class="id" title="lemma">IdentMap.is_empty_2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.Empty"><span class="id" title="definition">IdentMap.Empty</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.find_1"><span class="id" title="lemma">IdentMap.find_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Loc.html#Loc.eq_dec"><span class="id" title="axiom">Loc.eq_dec</span></a> <span class="id" title="var">a</span> <span class="id" title="var">ctid</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.grs"><span class="id" title="lemma">IdentMap.grs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">CONRT_SRC</span>: <a class="idref" href="CompOptCert.Basic.html#IdentMap.mem"><span class="id" title="definition">IdentMap.mem</span></a> <span class="id" title="var">a</span> <span class="id" title="var">ths_src</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.mem_find"><span class="id" title="lemma">IdentMap.mem_find</span></a>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">COMPLETE_THRDS_MAP</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">introv</span> <span class="id" title="var">CONTR_TGT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.mem_find"><span class="id" title="lemma">IdentMap.mem_find</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">CONTR_TGT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Basic.html#IdentMap.find"><span class="id" title="definition">IdentMap.find</span></a> <span class="id" title="var">a</span> <span class="id" title="var">ths_tgt</span>) <span class="id" title="var">eqn</span>: <span class="id" title="var">CONTR_TGT_TID</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">H1</span> <span class="id" title="var">a</span> <span class="id" title="var">p</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">H1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.find_2"><span class="id" title="lemma">IdentMap.find_2</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span>(<span class="id" title="var">CONSISTENT_S</span>: <a class="idref" href="CompOptCert.Local.html#Local.promises"><span class="id" title="projection">Local.promises</span></a> (<a class="idref" href="CompOptCert.Thread.html#Thread.local"><span class="id" title="projection">Thread.local</span></a> <span class="id" title="var">e_src</span>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.bot"><span class="id" title="definition">Memory.bot</span></a>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">x4</span>. <span class="id" title="var">inv</span> <span class="id" title="var">x4</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">n0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">Hprefix_tau_steps</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.Behavior.html#rtcn_tail"><span class="id" title="lemma">Behavior.rtcn_tail</span></a>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">e_src</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Relations.Relation_Operators.html#rt1n_trans"><span class="id" title="constructor">Relation_Operators.rt1n_trans</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtcn_rtc"><span class="id" title="lemma">rtcn_rtc</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">x7</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.step_tau"><span class="id" title="constructor">NPConfiguration.step_tau</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPThread.html#NPAuxThread.consistent"><span class="id" title="definition">NPAuxThread.consistent</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Thread.html#Thread.consistent_nprm"><span class="id" title="definition">Thread.consistent_nprm</span></a>; <span class="id" title="var">ss</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gss"><span class="id" title="lemma">IdentMap.gss</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.is_empty_2"><span class="id" title="lemma">IdentMap.is_empty_2</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">TO_DONE_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.is_empty_1"><span class="id" title="lemma">IdentMap.is_empty_1</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.Empty"><span class="id" title="definition">IdentMap.Empty</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">TO_DONE_S</span> <span class="id" title="var">a</span> <span class="id" title="var">e</span>). <span class="id" title="var">contradiction</span> <span class="id" title="var">TO_DONE_S</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.find_1"><span class="id" title="lemma">IdentMap.find_1</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.find_2"><span class="id" title="lemma">IdentMap.find_2</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Loc.html#Loc.eq_dec"><span class="id" title="axiom">Loc.eq_dec</span></a> <span class="id" title="var">a</span> <span class="id" title="var">ctid</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.grs"><span class="id" title="lemma">IdentMap.grs</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gso"><span class="id" title="lemma">IdentMap.gso</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Basic.html#IdentMap.gro"><span class="id" title="lemma">IdentMap.gro</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;+ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">TGT_ABORT</span>; <span class="id" title="var">ss</span>. <span class="id" title="var">des</span>; <span class="id" title="tactic">subst</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">CUR_THRD</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H2</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <a class="idref" href="CompOptCert.CompThreadSteps.html#sim_tau_steps"><span class="id" title="lemma">sim_tau_steps</span></a>; <span class="id" title="tactic">eauto</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_to_local_wf"><span class="id" title="lemma">wf_config_to_local_wf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">inv</span> <span class="id" title="var">WF_CONFIG_TGT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H3</span>. <span class="id" title="var">des</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_SIM_PSV</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_STEPS</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">NP_STEPS</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H3</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> <span class="id" title="var">THRD_STEP</span> <span class="id" title="var">RELY_STEP</span> <span class="id" title="var">THRD_DONE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">exploit</span> <span class="id" title="var">THRD_ABORT</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ii</span>; <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Basic.html#rtc_rtcn"><span class="id" title="lemma">rtc_rtcn</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">x4</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#rtc_na_p_to_np"><span class="id" title="lemma">rtc_na_p_to_np</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">b</span> := <span class="id" title="var">b_src'</span>) <span class="id" title="tactic">in</span> <span class="id" title="var">x4</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#np_na_steps_is_tau_steps"><span class="id" title="lemma">np_na_steps_is_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">x4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 6 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">x0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Reordering.html#rtc_compose"><span class="id" title="lemma">rtc_compose</span></a>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">x4</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">SAFE</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ps_to_np_thread.html#NPAuxThread_tau_steps_2_Thread_tau_steps"><span class="id" title="lemma">NPAuxThread_tau_steps_2_Thread_tau_steps</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">S_STEPS</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">econs</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">S_STEPS</span>. <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Unshelve</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">state</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">lang</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">st_src0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">st_src0</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">lang</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">st_src</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">st_src</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">st_src</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <span class="id" title="var">st_src</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">exact</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab213"></a><h2 class="section">Compositionality</h2>
 It depicts the following conclusion, if
<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">LOCAL_SIM</span></span>: local simulation holds;

</li>
<li> <span class="inlinecode"><span class="id" title="var">SAFE_NP_SRC</span></span>: source program is safe under the non-preemptive semantics;

</li>
<li> <span class="inlinecode"><span class="id" title="var">WW_RF_NP_SRC</span></span>: source progra is write-write race freedom;

</li>
</ul>
    then the global simulation holds. 
</div>
<div class="code">
<span class="id" title="keyword">Theorem</span> <a id="compositionality" class="idref" href="#compositionality"><span class="id" title="lemma">compositionality</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="lang:46" class="idref" href="#lang:46"><span class="id" title="binder">lang</span></a>: <a class="idref" href="CompOptCert.Language.html#language"><span class="id" title="definition">language</span></a>) (<a id="index:47" class="idref" href="#index:47"><span class="id" title="binder">index</span></a>: <span class="id" title="keyword">Type</span>) (<a id="index_order:48" class="idref" href="#index_order:48"><span class="id" title="binder">index_order</span></a>: <a class="idref" href="CompOptCert.Compositionality.html#index:47"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="CompOptCert.Compositionality.html#index:47"><span class="id" title="variable">index</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="I:49" class="idref" href="#I:49"><span class="id" title="binder">I</span></a>: <a class="idref" href="CompOptCert.LocalSim.html#Invariant"><span class="id" title="definition">Invariant</span></a>) (<a id="lo:50" class="idref" href="#lo:50"><span class="id" title="binder">lo</span></a>: <a class="idref" href="CompOptCert.Event.html#Ordering.LocOrdMap"><span class="id" title="definition">Ordering.LocOrdMap</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="code_t:51" class="idref" href="#code_t:51"><span class="id" title="binder">code_t</span></a> <a id="code_s:52" class="idref" href="#code_s:52"><span class="id" title="binder">code_s</span></a>: <a class="idref" href="CompOptCert.Language.html#Language.syntax"><span class="id" title="projection">Language.syntax</span></a> <a class="idref" href="CompOptCert.Compositionality.html#lang:46"><span class="id" title="variable">lang</span></a>) (<a id="fs:53" class="idref" href="#fs:53"><span class="id" title="binder">fs</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> <a class="idref" href="CompOptCert.Basic.html#IdentMap.key"><span class="id" title="definition">IdentMap.key</span></a>) (<a id="ctid:54" class="idref" href="#ctid:54"><span class="id" title="binder">ctid</span></a>: <a class="idref" href="CompOptCert.Basic.html#IdentMap.key"><span class="id" title="definition">IdentMap.key</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="LOCAL_SIM:55" class="idref" href="#LOCAL_SIM:55"><span class="id" title="binder">LOCAL_SIM</span></a>: @<a class="idref" href="CompOptCert.LocalSim.html#local_sim"><span class="id" title="record">local_sim</span></a> <a class="idref" href="CompOptCert.Compositionality.html#index:47"><span class="id" title="variable">index</span></a> <a class="idref" href="CompOptCert.Compositionality.html#index_order:48"><span class="id" title="variable">index_order</span></a> <a class="idref" href="CompOptCert.Compositionality.html#lang:46"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.Compositionality.html#I:49"><span class="id" title="variable">I</span></a> <a class="idref" href="CompOptCert.Compositionality.html#lo:50"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.Compositionality.html#code_t:51"><span class="id" title="variable">code_t</span></a> <a class="idref" href="CompOptCert.Compositionality.html#code_s:52"><span class="id" title="variable">code_s</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="SAFE_NP_SRC:56" class="idref" href="#SAFE_NP_SRC:56"><span class="id" title="binder">SAFE_NP_SRC</span></a>: <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.safe"><span class="id" title="inductive">NPConfiguration.safe</span></a> <a class="idref" href="CompOptCert.Compositionality.html#lo:50"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.Compositionality.html#fs:53"><span class="id" title="variable">fs</span></a> <a class="idref" href="CompOptCert.Compositionality.html#code_s:52"><span class="id" title="variable">code_s</span></a> <a class="idref" href="CompOptCert.Compositionality.html#ctid:54"><span class="id" title="variable">ctid</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a id="WW_RF_NP_SRC:57" class="idref" href="#WW_RF_NP_SRC:57"><span class="id" title="binder">WW_RF_NP_SRC</span></a>: <a class="idref" href="CompOptCert.ww_RF.html#ww_rf_np"><span class="id" title="definition">ww_rf_np</span></a> <a class="idref" href="CompOptCert.Compositionality.html#lo:50"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.Compositionality.html#fs:53"><span class="id" title="variable">fs</span></a> <a class="idref" href="CompOptCert.Compositionality.html#code_s:52"><span class="id" title="variable">code_s</span></a> <a class="idref" href="CompOptCert.Compositionality.html#ctid:54"><span class="id" title="variable">ctid</span></a>):<br/>
&nbsp;&nbsp;<a class="idref" href="CompOptCert.GlobSim.html#glob_sim"><span class="id" title="definition">glob_sim</span></a> <a class="idref" href="CompOptCert.Compositionality.html#lang:46"><span class="id" title="variable">lang</span></a> <a class="idref" href="CompOptCert.Compositionality.html#lo:50"><span class="id" title="variable">lo</span></a> <a class="idref" href="CompOptCert.Compositionality.html#fs:53"><span class="id" title="variable">fs</span></a> <a class="idref" href="CompOptCert.Compositionality.html#ctid:54"><span class="id" title="variable">ctid</span></a> <a class="idref" href="CompOptCert.Compositionality.html#code_t:51"><span class="id" title="variable">code_t</span></a> <a class="idref" href="CompOptCert.Compositionality.html#code_s:52"><span class="id" title="variable">code_s</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">LOCAL_SIM</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.GlobSim.html#glob_sim"><span class="id" title="definition">glob_sim</span></a>.<br/>
&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">TGT_INIT</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <span class="id" title="var">NPConfiguration.init</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.init"><span class="id" title="definition">Configuration.init</span></a> <span class="id" title="var">fs</span> <span class="id" title="var">code_t</span> <span class="id" title="var">ctid</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">H_tgt_init</span>; <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">TGT_INIT</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">renames</span> <span class="id" title="var">t</span> <span class="id" title="var">to</span> <span class="id" title="var">c_tgt</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="var">lets</span> <span class="id" title="var">H_src_init</span> : <span class="id" title="var">H_tgt_init</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConfigInitLemmas.html#cons_source_init_from_target_init_program"><span class="id" title="lemma">cons_source_init_from_target_init_program</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H_src_init</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H_src_init</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">c_src</span> &amp; <span class="id" title="var">H_src_init</span> &amp; <span class="id" title="var">Htgt_2_src</span> &amp; <span class="id" title="var">Hsrc_2_tgt</span>).<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">H_src_init</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eexists</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>

<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">c_tgt</span>, <span class="id" title="var">c_src</span>; <span class="id" title="var">simpls</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">renames</span> <span class="id" title="var">threads</span> <span class="id" title="var">to</span> <span class="id" title="var">ths_tgt</span>, <span class="id" title="var">sc</span> <span class="id" title="var">to</span> <span class="id" title="var">sc_tgt</span>, <span class="id" title="var">memory</span> <span class="id" title="var">to</span> <span class="id" title="var">mem_tgt</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">renames</span> <span class="id" title="var">threads0</span> <span class="id" title="var">to</span> <span class="id" title="var">ths_src</span>, <span class="id" title="var">sc0</span> <span class="id" title="var">to</span> <span class="id" title="var">sc_src</span>, <span class="id" title="var">memory0</span> <span class="id" title="var">to</span> <span class="id" title="var">mem_src</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hctid</span>: <span class="id" title="var">tid</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">ctid</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <span class="id" title="var">tid0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">ctid</span>).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">H_tgt_init</span> <span class="id" title="var">H_src_init</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <span class="id" title="var">Configuration.init</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Configuration.html#Threads.init"><span class="id" title="definition">Threads.init</span></a> <span class="id" title="var">fs</span> <span class="id" title="var">code_t</span>); <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H_tgt_init</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Configuration.html#Threads.init"><span class="id" title="definition">Threads.init</span></a> <span class="id" title="var">fs</span> <span class="id" title="var">code_s</span>); <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">H_src_init</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hctid</span>; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConfigInitLemmas.html#config_init_ths_sc_mem"><span class="id" title="lemma">config_init_ths_sc_mem</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H_tgt_init</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H_tgt_init</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H_tgt_init</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hths_tgt_init</span> &amp; <span class="id" title="var">Hsc_tgt_init</span> &amp; <span class="id" title="var">Hmem_tgt_init</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConfigInitLemmas.html#config_init_ths_sc_mem"><span class="id" title="lemma">config_init_ths_sc_mem</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H_src_init</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H_src_init</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H_src_init</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hths_src_init</span> &amp; <span class="id" title="var">Hsc_src_init</span> &amp; <span class="id" title="var">Hmem_src_init</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">NP_CONFIG_INIT</span>: <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.init"><span class="id" title="definition">NPConfiguration.init</span></a> <span class="id" title="var">fs</span> <span class="id" title="var">code_s</span> <span class="id" title="var">ctid</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> (<a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.mk"><span class="id" title="constructor">NPConfiguration.mk</span></a> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.mk"><span class="id" title="constructor">Configuration.mk</span></a> <span class="id" title="var">ths_src</span> <span class="id" title="var">ctid</span> <a class="idref" href="CompOptCert.View.html#TimeMap.bot"><span class="id" title="definition">TimeMap.bot</span></a> <a class="idref" href="CompOptCert.Memory.html#Memory.init"><span class="id" title="definition">Memory.init</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>)).<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">Hths_src_init</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.NPConfiguration.html#NPConfiguration.init"><span class="id" title="definition">NPConfiguration.init</span></a>, <a class="idref" href="CompOptCert.Configuration.html#Configuration.init"><span class="id" title="definition">Configuration.init</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hths_src_init</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;} <br/>
&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Compositionality.html#compositionality_aux"><span class="id" title="lemma">compositionality_aux</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">I</span> := <span class="id" title="var">I</span>) (<span class="id" title="var">inj</span> := <a class="idref" href="CompOptCert.MsgMapping.html#inj_init"><span class="id" title="definition">inj_init</span></a>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hready_tid</span> <span class="id" title="var">Hready_th</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">lang0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">lang</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">Hths_tgt_init</span> <span class="id" title="var">Hready_th</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConfigInitLemmas.html#thread_init_same_lang"><span class="id" title="lemma">thread_init_same_lang</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hths_tgt_init</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Htgt_2_src</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hready_th</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hready_th</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">st_src</span> &amp; <span class="id" title="var">lc_src</span> &amp; <span class="id" title="var">Hlc_tgt_init</span> &amp; <span class="id" title="var">Hlc_src_init</span> &amp; <span class="id" title="var">Hsrc_ready_th</span> &amp; <span class="id" title="var">Hlocal_sim_state</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 2 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hsrc_ready_th</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#local_sim_state_to_rely_local_sim_state"><span class="id" title="lemma">local_sim_state_to_rely_local_sim_state</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">instantiate</span> (1 := <span class="id" title="var">ctid</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">SAFE_NP_SRC</span> <span class="id" title="var">NP_CONFIG_INIT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">SAFE_NP_SRC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">SAFE_EXEC</span> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_CONFIG_INIT</span>. <span class="id" title="var">ii</span>. <span class="id" title="var">des</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradiction</span> <span class="id" title="var">NP_CONFIG_INIT</span>. <span class="id" title="var">econs</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a>, <a class="idref" href="CompOptCert.Local.html#Local.init"><span class="id" title="definition">Local.init</span></a>; <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.bot_get"><span class="id" title="lemma">Memory.bot_get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a>, <a class="idref" href="CompOptCert.Local.html#Local.init"><span class="id" title="definition">Local.init</span></a>; <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.bot_get"><span class="id" title="lemma">Memory.bot_get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hcur_th</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">lang0</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.13.1/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <span class="id" title="var">lang</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">Hths_tgt_init</span> <span class="id" title="var">Hcur_th</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.ConfigInitLemmas.html#thread_init_same_lang"><span class="id" title="lemma">thread_init_same_lang</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Hths_tgt_init</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">Htgt_2_src</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hcur_th</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hcur_th</span> <span class="id" title="keyword">as</span>(<span class="id" title="var">st_src</span> &amp; <span class="id" title="var">lc_src</span> &amp; <span class="id" title="var">Hlc_tgt_init</span> &amp; <span class="id" title="var">Hlc_src_init</span> &amp; <span class="id" title="var">Hsrc_cur_th</span> &amp; <span class="id" title="var">Hlocal_sim_state</span>); <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">do</span> 3 <span class="id" title="tactic">eexists</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Local.html#Local.promise_consistent"><span class="id" title="definition">Local.promise_consistent</span></a>, <a class="idref" href="CompOptCert.Local.html#Local.init"><span class="id" title="definition">Local.init</span></a>; <span class="id" title="var">ii</span>; <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="CompOptCert.Memory.html#Memory.bot_get"><span class="id" title="lemma">Memory.bot_get</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">PROMISE</span>; <span class="id" title="tactic">eauto</span>. <span class="id" title="var">ss</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#sound_np_abort"><span class="id" title="lemma">sound_np_abort</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">SAFE_NP_SRC</span> <span class="id" title="var">NP_CONFIG_INIT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">SAFE_NP_SRC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <span class="id" title="var">SAFE_EXEC</span> <span class="id" title="tactic">in</span> <span class="id" title="var">NP_CONFIG_INIT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">NP_CONFIG_INIT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Hnp_abort</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">NP_CONFIG_INIT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hnp_abort</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc'</span> &amp; <span class="id" title="var">Hrtc_steps</span> &amp; <span class="id" title="var">Habort</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.CompAuxDef.html#sound_np_aux_wwrf"><span class="id" title="lemma">sound_np_aux_wwrf</span></a>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_init"><span class="id" title="lemma">wf_config_init</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">fs</span> := <span class="id" title="var">fs</span>) (<span class="id" title="var">code</span> := <span class="id" title="var">code_s</span>) (<span class="id" title="var">ctid</span> := <span class="id" title="var">ctid</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">NP_CONFIG_INIT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <span class="id" title="var">NPConfiguration.init</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="CompOptCert.Configuration.html#Configuration.init"><span class="id" title="definition">Configuration.init</span></a> <span class="id" title="var">fs</span> <span class="id" title="var">code_s</span> <span class="id" title="var">ctid</span>); <span class="id" title="var">tryfalse</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">inv</span> <span class="id" title="var">NP_CONFIG_INIT</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">clear</span> - <span class="id" title="var">WW_RF_NP_SRC</span> <span class="id" title="var">NP_CONFIG_INIT</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">unfolds</span> <span class="id" title="var">ww_rf_np</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">introv</span> <span class="id" title="var">Haux_ww_race</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">contradict</span> <span class="id" title="var">WW_RF_NP_SRC</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Haux_ww_race</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">npc'</span> &amp; <span class="id" title="var">Hrtc</span> &amp; <span class="id" title="var">Haux_ww_race</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">econstructor</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">Focus</span> 2. <span class="id" title="tactic">eapply</span> <span class="id" title="var">Hrtc</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{ <br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_init"><span class="id" title="lemma">wf_config_init</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">fs</span> := <span class="id" title="var">fs</span>) (<span class="id" title="var">code</span> := <span class="id" title="var">code_t</span>) (<span class="id" title="var">ctid</span> := <span class="id" title="var">ctid</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Configuration.html#Configuration.init"><span class="id" title="definition">Configuration.init</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hths_tgt_init</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.WFConfig.html#wf_config_init"><span class="id" title="lemma">wf_config_init</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">fs</span> := <span class="id" title="var">fs</span>) (<span class="id" title="var">code</span> := <span class="id" title="var">code_s</span>) (<span class="id" title="var">ctid</span> := <span class="id" title="var">ctid</span>); <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.Configuration.html#Configuration.init"><span class="id" title="definition">Configuration.init</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hths_src_init</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">ii</span>. <span class="id" title="tactic">split</span>; <span class="id" title="tactic">eauto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eapply</span> <a class="idref" href="CompOptCert.Mem_at_eq_lemmas.html#Mem_at_eq_init"><span class="id" title="lemma">Mem_at_eq_init</span></a>.<br/>
&nbsp;&nbsp;}<br/>
&nbsp;&nbsp;{<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.MsgMapping.html#monotonic_inj"><span class="id" title="definition">monotonic_inj</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="CompOptCert.MsgMapping.html#inj_init"><span class="id" title="definition">inj_init</span></a>; <span class="id" title="var">ss</span>. <span class="id" title="var">ii</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">INJ1</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">inv</span> <span class="id" title="var">INJ1</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">des_ifH</span> <span class="id" title="var">INJ2</span>; <span class="id" title="var">ss</span>; <span class="id" title="tactic">subst</span>. <span class="id" title="var">inv</span> <span class="id" title="var">INJ2</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">auto_solve_time_rel</span>.<br/>
&nbsp;&nbsp;}<br/>
<span class="id" title="keyword">Qed</span>.<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>